var FNe=Object.defineProperty;var AK=t=>{throw TypeError(t)};var PNe=(t,e,n)=>e in t?FNe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var Nn=(t,e,n)=>PNe(t,typeof e!="symbol"?e+"":e,n),cP=(t,e,n)=>e.has(t)||AK("Cannot "+n);var B=(t,e,n)=>(cP(t,e,"read from private field"),n?n.call(t):e.get(t)),be=(t,e,n)=>e.has(t)?AK("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),le=(t,e,n,r)=>(cP(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),je=(t,e,n)=>(cP(t,e,"access private method"),n);var hl=(t,e,n,r)=>({set _(s){le(t,e,s,n)},get _(){return B(t,e,r)}});function UNe(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const a=Object.getOwnPropertyDescriptor(r,s);a&&Object.defineProperty(t,s,a.get?a:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(s){if(s.ep)return;s.ep=!0;const a=n(s);fetch(s.href,a)}})();var Lu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function wr(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function INe(t){if(Object.prototype.hasOwnProperty.call(t,"__esModule"))return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var s=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:function(){return t[r]}})}),n}var uP={exports:{}},kj={},dP={exports:{}},ir={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pK;function ONe(){if(pK)return ir;pK=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),o=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),h=Symbol.iterator;function f(V){return V===null||typeof V!="object"?null:(V=h&&V[h]||V["@@iterator"],typeof V=="function"?V:null)}var A={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,p={};function m(V,H,W){this.props=V,this.context=H,this.refs=p,this.updater=W||A}m.prototype.isReactComponent={},m.prototype.setState=function(V,H){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,H,"setState")},m.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function g(){}g.prototype=m.prototype;function x(V,H,W){this.props=V,this.context=H,this.refs=p,this.updater=W||A}var b=x.prototype=new g;b.constructor=x,v(b,m.prototype),b.isPureReactComponent=!0;var j=Array.isArray,N=Object.prototype.hasOwnProperty,_={current:null},C={key:!0,ref:!0,__self:!0,__source:!0};function k(V,H,W){var Y,ee={},ie=null,se=null;if(H!=null)for(Y in H.ref!==void 0&&(se=H.ref),H.key!==void 0&&(ie=""+H.key),H)N.call(H,Y)&&!C.hasOwnProperty(Y)&&(ee[Y]=H[Y]);var Ae=arguments.length-2;if(Ae===1)ee.children=W;else if(1<Ae){for(var he=Array(Ae),Be=0;Be<Ae;Be++)he[Be]=arguments[Be+2];ee.children=he}if(V&&V.defaultProps)for(Y in Ae=V.defaultProps,Ae)ee[Y]===void 0&&(ee[Y]=Ae[Y]);return{$$typeof:t,type:V,key:ie,ref:se,props:ee,_owner:_.current}}function T(V,H){return{$$typeof:t,type:V.type,key:H,ref:V.ref,props:V.props,_owner:V._owner}}function O(V){return typeof V=="object"&&V!==null&&V.$$typeof===t}function I(V){var H={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(W){return H[W]})}var F=/\/+/g;function M(V,H){return typeof V=="object"&&V!==null&&V.key!=null?I(""+V.key):H.toString(36)}function S(V,H,W,Y,ee){var ie=typeof V;(ie==="undefined"||ie==="boolean")&&(V=null);var se=!1;if(V===null)se=!0;else switch(ie){case"string":case"number":se=!0;break;case"object":switch(V.$$typeof){case t:case e:se=!0}}if(se)return se=V,ee=ee(se),V=Y===""?"."+M(se,0):Y,j(ee)?(W="",V!=null&&(W=V.replace(F,"$&/")+"/"),S(ee,H,W,"",function(Be){return Be})):ee!=null&&(O(ee)&&(ee=T(ee,W+(!ee.key||se&&se.key===ee.key?"":(""+ee.key).replace(F,"$&/")+"/")+V)),H.push(ee)),1;if(se=0,Y=Y===""?".":Y+":",j(V))for(var Ae=0;Ae<V.length;Ae++){ie=V[Ae];var he=Y+M(ie,Ae);se+=S(ie,H,W,he,ee)}else if(he=f(V),typeof he=="function")for(V=he.call(V),Ae=0;!(ie=V.next()).done;)ie=ie.value,he=Y+M(ie,Ae++),se+=S(ie,H,W,he,ee);else if(ie==="object")throw H=String(V),Error("Objects are not valid as a React child (found: "+(H==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":H)+"). If you meant to render a collection of children, use an array instead.");return se}function q(V,H,W){if(V==null)return V;var Y=[],ee=0;return S(V,Y,"","",function(ie){return H.call(W,ie,ee++)}),Y}function U(V){if(V._status===-1){var H=V._result;H=H(),H.then(function(W){(V._status===0||V._status===-1)&&(V._status=1,V._result=W)},function(W){(V._status===0||V._status===-1)&&(V._status=2,V._result=W)}),V._status===-1&&(V._status=0,V._result=H)}if(V._status===1)return V._result.default;throw V._result}var L={current:null},z={transition:null},$={ReactCurrentDispatcher:L,ReactCurrentBatchConfig:z,ReactCurrentOwner:_};function K(){throw Error("act(...) is not supported in production builds of React.")}return ir.Children={map:q,forEach:function(V,H,W){q(V,function(){H.apply(this,arguments)},W)},count:function(V){var H=0;return q(V,function(){H++}),H},toArray:function(V){return q(V,function(H){return H})||[]},only:function(V){if(!O(V))throw Error("React.Children.only expected to receive a single React element child.");return V}},ir.Component=m,ir.Fragment=n,ir.Profiler=s,ir.PureComponent=x,ir.StrictMode=r,ir.Suspense=c,ir.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=$,ir.act=K,ir.cloneElement=function(V,H,W){if(V==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+V+".");var Y=v({},V.props),ee=V.key,ie=V.ref,se=V._owner;if(H!=null){if(H.ref!==void 0&&(ie=H.ref,se=_.current),H.key!==void 0&&(ee=""+H.key),V.type&&V.type.defaultProps)var Ae=V.type.defaultProps;for(he in H)N.call(H,he)&&!C.hasOwnProperty(he)&&(Y[he]=H[he]===void 0&&Ae!==void 0?Ae[he]:H[he])}var he=arguments.length-2;if(he===1)Y.children=W;else if(1<he){Ae=Array(he);for(var Be=0;Be<he;Be++)Ae[Be]=arguments[Be+2];Y.children=Ae}return{$$typeof:t,type:V.type,key:ee,ref:ie,props:Y,_owner:se}},ir.createContext=function(V){return V={$$typeof:o,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},V.Provider={$$typeof:a,_context:V},V.Consumer=V},ir.createElement=k,ir.createFactory=function(V){var H=k.bind(null,V);return H.type=V,H},ir.createRef=function(){return{current:null}},ir.forwardRef=function(V){return{$$typeof:l,render:V}},ir.isValidElement=O,ir.lazy=function(V){return{$$typeof:d,_payload:{_status:-1,_result:V},_init:U}},ir.memo=function(V,H){return{$$typeof:u,type:V,compare:H===void 0?null:H}},ir.startTransition=function(V){var H=z.transition;z.transition={};try{V()}finally{z.transition=H}},ir.unstable_act=K,ir.useCallback=function(V,H){return L.current.useCallback(V,H)},ir.useContext=function(V){return L.current.useContext(V)},ir.useDebugValue=function(){},ir.useDeferredValue=function(V){return L.current.useDeferredValue(V)},ir.useEffect=function(V,H){return L.current.useEffect(V,H)},ir.useId=function(){return L.current.useId()},ir.useImperativeHandle=function(V,H,W){return L.current.useImperativeHandle(V,H,W)},ir.useInsertionEffect=function(V,H){return L.current.useInsertionEffect(V,H)},ir.useLayoutEffect=function(V,H){return L.current.useLayoutEffect(V,H)},ir.useMemo=function(V,H){return L.current.useMemo(V,H)},ir.useReducer=function(V,H,W){return L.current.useReducer(V,H,W)},ir.useRef=function(V){return L.current.useRef(V)},ir.useState=function(V){return L.current.useState(V)},ir.useSyncExternalStore=function(V,H,W){return L.current.useSyncExternalStore(V,H,W)},ir.useTransition=function(){return L.current.useTransition()},ir.version="18.3.1",ir}var mK;function hS(){return mK||(mK=1,dP.exports=ONe()),dP.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gK;function MNe(){if(gK)return kj;gK=1;var t=hS(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,s=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function o(l,c,u){var d,h={},f=null,A=null;u!==void 0&&(f=""+u),c.key!==void 0&&(f=""+c.key),c.ref!==void 0&&(A=c.ref);for(d in c)r.call(c,d)&&!a.hasOwnProperty(d)&&(h[d]=c[d]);if(l&&l.defaultProps)for(d in c=l.defaultProps,c)h[d]===void 0&&(h[d]=c[d]);return{$$typeof:e,type:l,key:f,ref:A,props:h,_owner:s.current}}return kj.Fragment=n,kj.jsx=o,kj.jsxs=o,kj}var xK;function LNe(){return xK||(xK=1,uP.exports=MNe()),uP.exports}var i=LNe(),E=hS();const pe=wr(E),nk=UNe({__proto__:null,default:pe},[E]);var PE={},hP={exports:{}},Kl={},fP={exports:{}},AP={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vK;function RNe(){return vK||(vK=1,function(t){function e(z,$){var K=z.length;z.push($);e:for(;0<K;){var V=K-1>>>1,H=z[V];if(0<s(H,$))z[V]=$,z[K]=H,K=V;else break e}}function n(z){return z.length===0?null:z[0]}function r(z){if(z.length===0)return null;var $=z[0],K=z.pop();if(K!==$){z[0]=K;e:for(var V=0,H=z.length,W=H>>>1;V<W;){var Y=2*(V+1)-1,ee=z[Y],ie=Y+1,se=z[ie];if(0>s(ee,K))ie<H&&0>s(se,ee)?(z[V]=se,z[ie]=K,V=ie):(z[V]=ee,z[Y]=K,V=Y);else if(ie<H&&0>s(se,K))z[V]=se,z[ie]=K,V=ie;else break e}}return $}function s(z,$){var K=z.sortIndex-$.sortIndex;return K!==0?K:z.id-$.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],u=[],d=1,h=null,f=3,A=!1,v=!1,p=!1,m=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(z){for(var $=n(u);$!==null;){if($.callback===null)r(u);else if($.startTime<=z)r(u),$.sortIndex=$.expirationTime,e(c,$);else break;$=n(u)}}function j(z){if(p=!1,b(z),!v)if(n(c)!==null)v=!0,U(N);else{var $=n(u);$!==null&&L(j,$.startTime-z)}}function N(z,$){v=!1,p&&(p=!1,g(k),k=-1),A=!0;var K=f;try{for(b($),h=n(c);h!==null&&(!(h.expirationTime>$)||z&&!I());){var V=h.callback;if(typeof V=="function"){h.callback=null,f=h.priorityLevel;var H=V(h.expirationTime<=$);$=t.unstable_now(),typeof H=="function"?h.callback=H:h===n(c)&&r(c),b($)}else r(c);h=n(c)}if(h!==null)var W=!0;else{var Y=n(u);Y!==null&&L(j,Y.startTime-$),W=!1}return W}finally{h=null,f=K,A=!1}}var _=!1,C=null,k=-1,T=5,O=-1;function I(){return!(t.unstable_now()-O<T)}function F(){if(C!==null){var z=t.unstable_now();O=z;var $=!0;try{$=C(!0,z)}finally{$?M():(_=!1,C=null)}}else _=!1}var M;if(typeof x=="function")M=function(){x(F)};else if(typeof MessageChannel<"u"){var S=new MessageChannel,q=S.port2;S.port1.onmessage=F,M=function(){q.postMessage(null)}}else M=function(){m(F,0)};function U(z){C=z,_||(_=!0,M())}function L(z,$){k=m(function(){z(t.unstable_now())},$)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(z){z.callback=null},t.unstable_continueExecution=function(){v||A||(v=!0,U(N))},t.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<z?Math.floor(1e3/z):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(z){switch(f){case 1:case 2:case 3:var $=3;break;default:$=f}var K=f;f=$;try{return z()}finally{f=K}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(z,$){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var K=f;f=z;try{return $()}finally{f=K}},t.unstable_scheduleCallback=function(z,$,K){var V=t.unstable_now();switch(typeof K=="object"&&K!==null?(K=K.delay,K=typeof K=="number"&&0<K?V+K:V):K=V,z){case 1:var H=-1;break;case 2:H=250;break;case 5:H=1073741823;break;case 4:H=1e4;break;default:H=5e3}return H=K+H,z={id:d++,callback:$,priorityLevel:z,startTime:K,expirationTime:H,sortIndex:-1},K>V?(z.sortIndex=K,e(u,z),n(c)===null&&z===n(u)&&(p?(g(k),k=-1):p=!0,L(j,K-V))):(z.sortIndex=H,e(c,z),v||A||(v=!0,U(N))),z},t.unstable_shouldYield=I,t.unstable_wrapCallback=function(z){var $=f;return function(){var K=f;f=$;try{return z.apply(this,arguments)}finally{f=K}}}}(AP)),AP}var yK;function QNe(){return yK||(yK=1,fP.exports=RNe()),fP.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bK;function HNe(){if(bK)return Kl;bK=1;var t=hS(),e=QNe();function n(y){for(var w="https://reactjs.org/docs/error-decoder.html?invariant="+y,D=1;D<arguments.length;D++)w+="&args[]="+encodeURIComponent(arguments[D]);return"Minified React error #"+y+"; visit "+w+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,s={};function a(y,w){o(y,w),o(y+"Capture",w)}function o(y,w){for(s[y]=w,y=0;y<w.length;y++)r.add(w[y])}var l=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),c=Object.prototype.hasOwnProperty,u=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d={},h={};function f(y){return c.call(h,y)?!0:c.call(d,y)?!1:u.test(y)?h[y]=!0:(d[y]=!0,!1)}function A(y,w,D,R){if(D!==null&&D.type===0)return!1;switch(typeof w){case"function":case"symbol":return!0;case"boolean":return R?!1:D!==null?!D.acceptsBooleans:(y=y.toLowerCase().slice(0,5),y!=="data-"&&y!=="aria-");default:return!1}}function v(y,w,D,R){if(w===null||typeof w>"u"||A(y,w,D,R))return!0;if(R)return!1;if(D!==null)switch(D.type){case 3:return!w;case 4:return w===!1;case 5:return isNaN(w);case 6:return isNaN(w)||1>w}return!1}function p(y,w,D,R,J,te,ye){this.acceptsBooleans=w===2||w===3||w===4,this.attributeName=R,this.attributeNamespace=J,this.mustUseProperty=D,this.propertyName=y,this.type=w,this.sanitizeURL=te,this.removeEmptyString=ye}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(y){m[y]=new p(y,0,!1,y,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(y){var w=y[0];m[w]=new p(w,1,!1,y[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(y){m[y]=new p(y,2,!1,y.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(y){m[y]=new p(y,2,!1,y,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(y){m[y]=new p(y,3,!1,y.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(y){m[y]=new p(y,3,!0,y,null,!1,!1)}),["capture","download"].forEach(function(y){m[y]=new p(y,4,!1,y,null,!1,!1)}),["cols","rows","size","span"].forEach(function(y){m[y]=new p(y,6,!1,y,null,!1,!1)}),["rowSpan","start"].forEach(function(y){m[y]=new p(y,5,!1,y.toLowerCase(),null,!1,!1)});var g=/[\-:]([a-z])/g;function x(y){return y[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(y){var w=y.replace(g,x);m[w]=new p(w,1,!1,y,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(y){var w=y.replace(g,x);m[w]=new p(w,1,!1,y,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(y){var w=y.replace(g,x);m[w]=new p(w,1,!1,y,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(y){m[y]=new p(y,1,!1,y.toLowerCase(),null,!1,!1)}),m.xlinkHref=new p("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(y){m[y]=new p(y,1,!1,y.toLowerCase(),null,!0,!0)});function b(y,w,D,R){var J=m.hasOwnProperty(w)?m[w]:null;(J!==null?J.type!==0:R||!(2<w.length)||w[0]!=="o"&&w[0]!=="O"||w[1]!=="n"&&w[1]!=="N")&&(v(w,D,J,R)&&(D=null),R||J===null?f(w)&&(D===null?y.removeAttribute(w):y.setAttribute(w,""+D)):J.mustUseProperty?y[J.propertyName]=D===null?J.type===3?!1:"":D:(w=J.attributeName,R=J.attributeNamespace,D===null?y.removeAttribute(w):(J=J.type,D=J===3||J===4&&D===!0?"":""+D,R?y.setAttributeNS(R,w,D):y.setAttribute(w,D))))}var j=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,N=Symbol.for("react.element"),_=Symbol.for("react.portal"),C=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),T=Symbol.for("react.profiler"),O=Symbol.for("react.provider"),I=Symbol.for("react.context"),F=Symbol.for("react.forward_ref"),M=Symbol.for("react.suspense"),S=Symbol.for("react.suspense_list"),q=Symbol.for("react.memo"),U=Symbol.for("react.lazy"),L=Symbol.for("react.offscreen"),z=Symbol.iterator;function $(y){return y===null||typeof y!="object"?null:(y=z&&y[z]||y["@@iterator"],typeof y=="function"?y:null)}var K=Object.assign,V;function H(y){if(V===void 0)try{throw Error()}catch(D){var w=D.stack.trim().match(/\n( *(at )?)/);V=w&&w[1]||""}return`
`+V+y}var W=!1;function Y(y,w){if(!y||W)return"";W=!0;var D=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(w)if(w=function(){throw Error()},Object.defineProperty(w.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(w,[])}catch(dt){var R=dt}Reflect.construct(y,[],w)}else{try{w.call()}catch(dt){R=dt}y.call(w.prototype)}else{try{throw Error()}catch(dt){R=dt}y()}}catch(dt){if(dt&&R&&typeof dt.stack=="string"){for(var J=dt.stack.split(`
`),te=R.stack.split(`
`),ye=J.length-1,Qe=te.length-1;1<=ye&&0<=Qe&&J[ye]!==te[Qe];)Qe--;for(;1<=ye&&0<=Qe;ye--,Qe--)if(J[ye]!==te[Qe]){if(ye!==1||Qe!==1)do if(ye--,Qe--,0>Qe||J[ye]!==te[Qe]){var Ke=`
`+J[ye].replace(" at new "," at ");return y.displayName&&Ke.includes("<anonymous>")&&(Ke=Ke.replace("<anonymous>",y.displayName)),Ke}while(1<=ye&&0<=Qe);break}}}finally{W=!1,Error.prepareStackTrace=D}return(y=y?y.displayName||y.name:"")?H(y):""}function ee(y){switch(y.tag){case 5:return H(y.type);case 16:return H("Lazy");case 13:return H("Suspense");case 19:return H("SuspenseList");case 0:case 2:case 15:return y=Y(y.type,!1),y;case 11:return y=Y(y.type.render,!1),y;case 1:return y=Y(y.type,!0),y;default:return""}}function ie(y){if(y==null)return null;if(typeof y=="function")return y.displayName||y.name||null;if(typeof y=="string")return y;switch(y){case C:return"Fragment";case _:return"Portal";case T:return"Profiler";case k:return"StrictMode";case M:return"Suspense";case S:return"SuspenseList"}if(typeof y=="object")switch(y.$$typeof){case I:return(y.displayName||"Context")+".Consumer";case O:return(y._context.displayName||"Context")+".Provider";case F:var w=y.render;return y=y.displayName,y||(y=w.displayName||w.name||"",y=y!==""?"ForwardRef("+y+")":"ForwardRef"),y;case q:return w=y.displayName||null,w!==null?w:ie(y.type)||"Memo";case U:w=y._payload,y=y._init;try{return ie(y(w))}catch{}}return null}function se(y){var w=y.type;switch(y.tag){case 24:return"Cache";case 9:return(w.displayName||"Context")+".Consumer";case 10:return(w._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return y=w.render,y=y.displayName||y.name||"",w.displayName||(y!==""?"ForwardRef("+y+")":"ForwardRef");case 7:return"Fragment";case 5:return w;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ie(w);case 8:return w===k?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof w=="function")return w.displayName||w.name||null;if(typeof w=="string")return w}return null}function Ae(y){switch(typeof y){case"boolean":case"number":case"string":case"undefined":return y;case"object":return y;default:return""}}function he(y){var w=y.type;return(y=y.nodeName)&&y.toLowerCase()==="input"&&(w==="checkbox"||w==="radio")}function Be(y){var w=he(y)?"checked":"value",D=Object.getOwnPropertyDescriptor(y.constructor.prototype,w),R=""+y[w];if(!y.hasOwnProperty(w)&&typeof D<"u"&&typeof D.get=="function"&&typeof D.set=="function"){var J=D.get,te=D.set;return Object.defineProperty(y,w,{configurable:!0,get:function(){return J.call(this)},set:function(ye){R=""+ye,te.call(this,ye)}}),Object.defineProperty(y,w,{enumerable:D.enumerable}),{getValue:function(){return R},setValue:function(ye){R=""+ye},stopTracking:function(){y._valueTracker=null,delete y[w]}}}}function Me(y){y._valueTracker||(y._valueTracker=Be(y))}function Ie(y){if(!y)return!1;var w=y._valueTracker;if(!w)return!0;var D=w.getValue(),R="";return y&&(R=he(y)?y.checked?"true":"false":y.value),y=R,y!==D?(w.setValue(y),!0):!1}function Ye(y){if(y=y||(typeof document<"u"?document:void 0),typeof y>"u")return null;try{return y.activeElement||y.body}catch{return y.body}}function X(y,w){var D=w.checked;return K({},w,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:D??y._wrapperState.initialChecked})}function ue(y,w){var D=w.defaultValue==null?"":w.defaultValue,R=w.checked!=null?w.checked:w.defaultChecked;D=Ae(w.value!=null?w.value:D),y._wrapperState={initialChecked:R,initialValue:D,controlled:w.type==="checkbox"||w.type==="radio"?w.checked!=null:w.value!=null}}function re(y,w){w=w.checked,w!=null&&b(y,"checked",w,!1)}function de(y,w){re(y,w);var D=Ae(w.value),R=w.type;if(D!=null)R==="number"?(D===0&&y.value===""||y.value!=D)&&(y.value=""+D):y.value!==""+D&&(y.value=""+D);else if(R==="submit"||R==="reset"){y.removeAttribute("value");return}w.hasOwnProperty("value")?Ne(y,w.type,D):w.hasOwnProperty("defaultValue")&&Ne(y,w.type,Ae(w.defaultValue)),w.checked==null&&w.defaultChecked!=null&&(y.defaultChecked=!!w.defaultChecked)}function ce(y,w,D){if(w.hasOwnProperty("value")||w.hasOwnProperty("defaultValue")){var R=w.type;if(!(R!=="submit"&&R!=="reset"||w.value!==void 0&&w.value!==null))return;w=""+y._wrapperState.initialValue,D||w===y.value||(y.value=w),y.defaultValue=w}D=y.name,D!==""&&(y.name=""),y.defaultChecked=!!y._wrapperState.initialChecked,D!==""&&(y.name=D)}function Ne(y,w,D){(w!=="number"||Ye(y.ownerDocument)!==y)&&(D==null?y.defaultValue=""+y._wrapperState.initialValue:y.defaultValue!==""+D&&(y.defaultValue=""+D))}var $e=Array.isArray;function ze(y,w,D,R){if(y=y.options,w){w={};for(var J=0;J<D.length;J++)w["$"+D[J]]=!0;for(D=0;D<y.length;D++)J=w.hasOwnProperty("$"+y[D].value),y[D].selected!==J&&(y[D].selected=J),J&&R&&(y[D].defaultSelected=!0)}else{for(D=""+Ae(D),w=null,J=0;J<y.length;J++){if(y[J].value===D){y[J].selected=!0,R&&(y[J].defaultSelected=!0);return}w!==null||y[J].disabled||(w=y[J])}w!==null&&(w.selected=!0)}}function Fe(y,w){if(w.dangerouslySetInnerHTML!=null)throw Error(n(91));return K({},w,{value:void 0,defaultValue:void 0,children:""+y._wrapperState.initialValue})}function De(y,w){var D=w.value;if(D==null){if(D=w.children,w=w.defaultValue,D!=null){if(w!=null)throw Error(n(92));if($e(D)){if(1<D.length)throw Error(n(93));D=D[0]}w=D}w==null&&(w=""),D=w}y._wrapperState={initialValue:Ae(D)}}function Ce(y,w){var D=Ae(w.value),R=Ae(w.defaultValue);D!=null&&(D=""+D,D!==y.value&&(y.value=D),w.defaultValue==null&&y.defaultValue!==D&&(y.defaultValue=D)),R!=null&&(y.defaultValue=""+R)}function Oe(y){var w=y.textContent;w===y._wrapperState.initialValue&&w!==""&&w!==null&&(y.value=w)}function We(y){switch(y){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ut(y,w){return y==null||y==="http://www.w3.org/1999/xhtml"?We(w):y==="http://www.w3.org/2000/svg"&&w==="foreignObject"?"http://www.w3.org/1999/xhtml":y}var yt,Nt=function(y){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(w,D,R,J){MSApp.execUnsafeLocalFunction(function(){return y(w,D,R,J)})}:y}(function(y,w){if(y.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in y)y.innerHTML=w;else{for(yt=yt||document.createElement("div"),yt.innerHTML="<svg>"+w.valueOf().toString()+"</svg>",w=yt.firstChild;y.firstChild;)y.removeChild(y.firstChild);for(;w.firstChild;)y.appendChild(w.firstChild)}});function jt(y,w){if(w){var D=y.firstChild;if(D&&D===y.lastChild&&D.nodeType===3){D.nodeValue=w;return}}y.textContent=w}var Ue={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ct=["Webkit","ms","Moz","O"];Object.keys(Ue).forEach(function(y){ct.forEach(function(w){w=w+y.charAt(0).toUpperCase()+y.substring(1),Ue[w]=Ue[y]})});function ht(y,w,D){return w==null||typeof w=="boolean"||w===""?"":D||typeof w!="number"||w===0||Ue.hasOwnProperty(y)&&Ue[y]?(""+w).trim():w+"px"}function kt(y,w){y=y.style;for(var D in w)if(w.hasOwnProperty(D)){var R=D.indexOf("--")===0,J=ht(D,w[D],R);D==="float"&&(D="cssFloat"),R?y.setProperty(D,J):y[D]=J}}var Ot=K({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ut(y,w){if(w){if(Ot[y]&&(w.children!=null||w.dangerouslySetInnerHTML!=null))throw Error(n(137,y));if(w.dangerouslySetInnerHTML!=null){if(w.children!=null)throw Error(n(60));if(typeof w.dangerouslySetInnerHTML!="object"||!("__html"in w.dangerouslySetInnerHTML))throw Error(n(61))}if(w.style!=null&&typeof w.style!="object")throw Error(n(62))}}function mn(y,w){if(y.indexOf("-")===-1)return typeof w.is=="string";switch(y){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var fn=null;function wi(y){return y=y.target||y.srcElement||window,y.correspondingUseElement&&(y=y.correspondingUseElement),y.nodeType===3?y.parentNode:y}var lr=null,ge=null,Se=null;function Re(y){if(y=wm(y)){if(typeof lr!="function")throw Error(n(280));var w=y.stateNode;w&&(w=Kx(w),lr(y.stateNode,y.type,w))}}function Je(y){ge?Se?Se.push(y):Se=[y]:ge=y}function wt(){if(ge){var y=ge,w=Se;if(Se=ge=null,Re(y),w)for(y=0;y<w.length;y++)Re(w[y])}}function ln(y,w){return y(w)}function kn(){}var Pr=!1;function Fi(y,w,D){if(Pr)return y(w,D);Pr=!0;try{return ln(y,w,D)}finally{Pr=!1,(ge!==null||Se!==null)&&(kn(),wt())}}function Xt(y,w){var D=y.stateNode;if(D===null)return null;var R=Kx(D);if(R===null)return null;D=R[w];e:switch(w){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(R=!R.disabled)||(y=y.type,R=!(y==="button"||y==="input"||y==="select"||y==="textarea")),y=!R;break e;default:y=!1}if(y)return null;if(D&&typeof D!="function")throw Error(n(231,w,typeof D));return D}var di=!1;if(l)try{var ji={};Object.defineProperty(ji,"passive",{get:function(){di=!0}}),window.addEventListener("test",ji,ji),window.removeEventListener("test",ji,ji)}catch{di=!1}function Ni(y,w,D,R,J,te,ye,Qe,Ke){var dt=Array.prototype.slice.call(arguments,3);try{w.apply(D,dt)}catch(St){this.onError(St)}}var pr=!1,rr=null,ii=!1,ba=null,Hr={onError:function(y){pr=!0,rr=y}};function wa(y,w,D,R,J,te,ye,Qe,Ke){pr=!1,rr=null,Ni.apply(Hr,arguments)}function ts(y,w,D,R,J,te,ye,Qe,Ke){if(wa.apply(this,arguments),pr){if(pr){var dt=rr;pr=!1,rr=null}else throw Error(n(198));ii||(ii=!0,ba=dt)}}function $i(y){var w=y,D=y;if(y.alternate)for(;w.return;)w=w.return;else{y=w;do w=y,(w.flags&4098)!==0&&(D=w.return),y=w.return;while(y)}return w.tag===3?D:null}function el(y){if(y.tag===13){var w=y.memoizedState;if(w===null&&(y=y.alternate,y!==null&&(w=y.memoizedState)),w!==null)return w.dehydrated}return null}function Ga(y){if($i(y)!==y)throw Error(n(188))}function Ul(y){var w=y.alternate;if(!w){if(w=$i(y),w===null)throw Error(n(188));return w!==y?null:y}for(var D=y,R=w;;){var J=D.return;if(J===null)break;var te=J.alternate;if(te===null){if(R=J.return,R!==null){D=R;continue}break}if(J.child===te.child){for(te=J.child;te;){if(te===D)return Ga(J),y;if(te===R)return Ga(J),w;te=te.sibling}throw Error(n(188))}if(D.return!==R.return)D=J,R=te;else{for(var ye=!1,Qe=J.child;Qe;){if(Qe===D){ye=!0,D=J,R=te;break}if(Qe===R){ye=!0,R=J,D=te;break}Qe=Qe.sibling}if(!ye){for(Qe=te.child;Qe;){if(Qe===D){ye=!0,D=te,R=J;break}if(Qe===R){ye=!0,R=te,D=J;break}Qe=Qe.sibling}if(!ye)throw Error(n(189))}}if(D.alternate!==R)throw Error(n(190))}if(D.tag!==3)throw Error(n(188));return D.stateNode.current===D?y:w}function eu(y){return y=Ul(y),y!==null?nd(y):null}function nd(y){if(y.tag===5||y.tag===6)return y;for(y=y.child;y!==null;){var w=nd(y);if(w!==null)return w;y=y.sibling}return null}var rd=e.unstable_scheduleCallback,id=e.unstable_cancelCallback,sd=e.unstable_shouldYield,Vp=e.unstable_requestPaint,hi=e.unstable_now,Ex=e.unstable_getCurrentPriorityLevel,tu=e.unstable_ImmediatePriority,Vf=e.unstable_UserBlockingPriority,Nh=e.unstable_NormalPriority,_h=e.unstable_LowPriority,Kp=e.unstable_IdlePriority,ad=null,po=null;function nu(y){if(po&&typeof po.onCommitFiberRoot=="function")try{po.onCommitFiberRoot(ad,y,void 0,(y.current.flags&128)===128)}catch{}}var tl=Math.clz32?Math.clz32:zy,ns=Math.log,Hy=Math.LN2;function zy(y){return y>>>=0,y===0?32:31-(ns(y)/Hy|0)|0}var Kf=64,Ch=4194304;function Gf(y){switch(y&-y){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return y&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return y&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return y}}function mo(y,w){var D=y.pendingLanes;if(D===0)return 0;var R=0,J=y.suspendedLanes,te=y.pingedLanes,ye=D&268435455;if(ye!==0){var Qe=ye&~J;Qe!==0?R=Gf(Qe):(te&=ye,te!==0&&(R=Gf(te)))}else ye=D&~J,ye!==0?R=Gf(ye):te!==0&&(R=Gf(te));if(R===0)return 0;if(w!==0&&w!==R&&(w&J)===0&&(J=R&-R,te=w&-w,J>=te||J===16&&(te&4194240)!==0))return w;if((R&4)!==0&&(R|=D&16),w=y.entangledLanes,w!==0)for(y=y.entanglements,w&=R;0<w;)D=31-tl(w),J=1<<D,R|=y[D],w&=~J;return R}function Gp(y,w){switch(y){case 1:case 2:case 4:return w+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return w+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function go(y,w){for(var D=y.suspendedLanes,R=y.pingedLanes,J=y.expirationTimes,te=y.pendingLanes;0<te;){var ye=31-tl(te),Qe=1<<ye,Ke=J[ye];Ke===-1?((Qe&D)===0||(Qe&R)!==0)&&(J[ye]=Gp(Qe,w)):Ke<=w&&(y.expiredLanes|=Qe),te&=~Qe}}function Xf(y){return y=y.pendingLanes&-1073741825,y!==0?y:y&1073741824?1073741824:0}function Bx(){var y=Kf;return Kf<<=1,(Kf&4194240)===0&&(Kf=64),y}function Dx(y){for(var w=[],D=0;31>D;D++)w.push(y);return w}function Sh(y,w,D){y.pendingLanes|=w,w!==536870912&&(y.suspendedLanes=0,y.pingedLanes=0),y=y.eventTimes,w=31-tl(w),y[w]=D}function hj(y,w){var D=y.pendingLanes&~w;y.pendingLanes=w,y.suspendedLanes=0,y.pingedLanes=0,y.expiredLanes&=w,y.mutableReadLanes&=w,y.entangledLanes&=w,w=y.entanglements;var R=y.eventTimes;for(y=y.expirationTimes;0<D;){var J=31-tl(D),te=1<<J;w[J]=0,R[J]=-1,y[J]=-1,D&=~te}}function Xp(y,w){var D=y.entangledLanes|=w;for(y=y.entanglements;D;){var R=31-tl(D),J=1<<R;J&w|y[R]&w&&(y[R]|=w),D&=~J}}var jr=0;function Yp(y){return y&=-y,1<y?4<y?(y&268435455)!==0?16:536870912:4:1}var $y,Tx,Wy,ru,Yf,Eh=!1,Jf=[],Pi=null,iu=null,Ac=null,jn=new Map,Zf=new Map,su=[],au="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function kx(y,w){switch(y){case"focusin":case"focusout":Pi=null;break;case"dragenter":case"dragleave":iu=null;break;case"mouseover":case"mouseout":Ac=null;break;case"pointerover":case"pointerout":jn.delete(w.pointerId);break;case"gotpointercapture":case"lostpointercapture":Zf.delete(w.pointerId)}}function Bh(y,w,D,R,J,te){return y===null||y.nativeEvent!==te?(y={blockedOn:w,domEventName:D,eventSystemFlags:R,nativeEvent:te,targetContainers:[J]},w!==null&&(w=wm(w),w!==null&&Tx(w)),y):(y.eventSystemFlags|=R,w=y.targetContainers,J!==null&&w.indexOf(J)===-1&&w.push(J),y)}function Jp(y,w,D,R,J){switch(w){case"focusin":return Pi=Bh(Pi,y,w,D,R,J),!0;case"dragenter":return iu=Bh(iu,y,w,D,R,J),!0;case"mouseover":return Ac=Bh(Ac,y,w,D,R,J),!0;case"pointerover":var te=J.pointerId;return jn.set(te,Bh(jn.get(te)||null,y,w,D,R,J)),!0;case"gotpointercapture":return te=J.pointerId,Zf.set(te,Bh(Zf.get(te)||null,y,w,D,R,J)),!0}return!1}function Zp(y){var w=Rh(y.target);if(w!==null){var D=$i(w);if(D!==null){if(w=D.tag,w===13){if(w=el(D),w!==null){y.blockedOn=w,Yf(y.priority,function(){Wy(D)});return}}else if(w===3&&D.stateNode.current.memoizedState.isDehydrated){y.blockedOn=D.tag===3?D.stateNode.containerInfo:null;return}}}y.blockedOn=null}function em(y){if(y.blockedOn!==null)return!1;for(var w=y.targetContainers;0<w.length;){var D=nm(y.domEventName,y.eventSystemFlags,w[0],y.nativeEvent);if(D===null){D=y.nativeEvent;var R=new D.constructor(D.type,D);fn=R,D.target.dispatchEvent(R),fn=null}else return w=wm(D),w!==null&&Tx(w),y.blockedOn=D,!1;w.shift()}return!0}function qy(y,w,D){em(y)&&D.delete(w)}function fj(){Eh=!1,Pi!==null&&em(Pi)&&(Pi=null),iu!==null&&em(iu)&&(iu=null),Ac!==null&&em(Ac)&&(Ac=null),jn.forEach(qy),Zf.forEach(qy)}function od(y,w){y.blockedOn===w&&(y.blockedOn=null,Eh||(Eh=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,fj)))}function pc(y){function w(J){return od(J,y)}if(0<Jf.length){od(Jf[0],y);for(var D=1;D<Jf.length;D++){var R=Jf[D];R.blockedOn===y&&(R.blockedOn=null)}}for(Pi!==null&&od(Pi,y),iu!==null&&od(iu,y),Ac!==null&&od(Ac,y),jn.forEach(w),Zf.forEach(w),D=0;D<su.length;D++)R=su[D],R.blockedOn===y&&(R.blockedOn=null);for(;0<su.length&&(D=su[0],D.blockedOn===null);)Zp(D),D.blockedOn===null&&su.shift()}var nl=j.ReactCurrentBatchConfig,tm=!0;function eA(y,w,D,R){var J=jr,te=nl.transition;nl.transition=null;try{jr=1,Dh(y,w,D,R)}finally{jr=J,nl.transition=te}}function Fx(y,w,D,R){var J=jr,te=nl.transition;nl.transition=null;try{jr=4,Dh(y,w,D,R)}finally{jr=J,nl.transition=te}}function Dh(y,w,D,R){if(tm){var J=nm(y,w,D,R);if(J===null)Wx(y,w,R,tA,D),kx(y,R);else if(Jp(J,y,w,D,R))R.stopPropagation();else if(kx(y,R),w&4&&-1<au.indexOf(y)){for(;J!==null;){var te=wm(J);if(te!==null&&$y(te),te=nm(y,w,D,R),te===null&&Wx(y,w,R,tA,D),te===J)break;J=te}J!==null&&R.stopPropagation()}else Wx(y,w,R,null,D)}}var tA=null;function nm(y,w,D,R){if(tA=null,y=wi(R),y=Rh(y),y!==null)if(w=$i(y),w===null)y=null;else if(D=w.tag,D===13){if(y=el(w),y!==null)return y;y=null}else if(D===3){if(w.stateNode.current.memoizedState.isDehydrated)return w.tag===3?w.stateNode.containerInfo:null;y=null}else w!==y&&(y=null);return tA=y,null}function Px(y){switch(y){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ex()){case tu:return 1;case Vf:return 4;case Nh:case _h:return 16;case Kp:return 536870912;default:return 16}default:return 16}}var mc=null,Il=null,Ol=null;function Vy(){if(Ol)return Ol;var y,w=Il,D=w.length,R,J="value"in mc?mc.value:mc.textContent,te=J.length;for(y=0;y<D&&w[y]===J[y];y++);var ye=D-y;for(R=1;R<=ye&&w[D-R]===J[te-R];R++);return Ol=J.slice(y,1<R?1-R:void 0)}function gc(y){var w=y.keyCode;return"charCode"in y?(y=y.charCode,y===0&&w===13&&(y=13)):y=w,y===10&&(y=13),32<=y||y===13?y:0}function xo(){return!0}function rm(){return!1}function Cs(y){function w(D,R,J,te,ye){this._reactName=D,this._targetInst=J,this.type=R,this.nativeEvent=te,this.target=ye,this.currentTarget=null;for(var Qe in y)y.hasOwnProperty(Qe)&&(D=y[Qe],this[Qe]=D?D(te):te[Qe]);return this.isDefaultPrevented=(te.defaultPrevented!=null?te.defaultPrevented:te.returnValue===!1)?xo:rm,this.isPropagationStopped=rm,this}return K(w.prototype,{preventDefault:function(){this.defaultPrevented=!0;var D=this.nativeEvent;D&&(D.preventDefault?D.preventDefault():typeof D.returnValue!="unknown"&&(D.returnValue=!1),this.isDefaultPrevented=xo)},stopPropagation:function(){var D=this.nativeEvent;D&&(D.stopPropagation?D.stopPropagation():typeof D.cancelBubble!="unknown"&&(D.cancelBubble=!0),this.isPropagationStopped=xo)},persist:function(){},isPersistent:xo}),w}var Th={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(y){return y.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},kh=Cs(Th),nA=K({},Th,{view:0,detail:0}),Ux=Cs(nA),rA,im,ou,Fh=K({},nA,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Qt,button:0,buttons:0,relatedTarget:function(y){return y.relatedTarget===void 0?y.fromElement===y.srcElement?y.toElement:y.fromElement:y.relatedTarget},movementX:function(y){return"movementX"in y?y.movementX:(y!==ou&&(ou&&y.type==="mousemove"?(rA=y.screenX-ou.screenX,im=y.screenY-ou.screenY):im=rA=0,ou=y),rA)},movementY:function(y){return"movementY"in y?y.movementY:im}}),sm=Cs(Fh),Ky=K({},Fh,{dataTransfer:0}),Aj=Cs(Ky),am=K({},nA,{relatedTarget:0}),ld=Cs(am),Ix=K({},Th,{animationName:0,elapsedTime:0,pseudoElement:0}),Ph=Cs(Ix),Ox=K({},Th,{clipboardData:function(y){return"clipboardData"in y?y.clipboardData:window.clipboardData}}),G=Cs(Ox),me=K({},Th,{data:0}),Le=Cs(me),qe={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},it={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},pt={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function _t(y){var w=this.nativeEvent;return w.getModifierState?w.getModifierState(y):(y=pt[y])?!!w[y]:!1}function Qt(){return _t}var dn=K({},nA,{key:function(y){if(y.key){var w=qe[y.key]||y.key;if(w!=="Unidentified")return w}return y.type==="keypress"?(y=gc(y),y===13?"Enter":String.fromCharCode(y)):y.type==="keydown"||y.type==="keyup"?it[y.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Qt,charCode:function(y){return y.type==="keypress"?gc(y):0},keyCode:function(y){return y.type==="keydown"||y.type==="keyup"?y.keyCode:0},which:function(y){return y.type==="keypress"?gc(y):y.type==="keydown"||y.type==="keyup"?y.keyCode:0}}),Ln=Cs(dn),In=K({},Fh,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),cr=Cs(In),Ui=K({},nA,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Qt}),Wi=Cs(Ui),As=K({},Th,{propertyName:0,elapsedTime:0,pseudoElement:0}),ja=Cs(As),$s=K({},Fh,{deltaX:function(y){return"deltaX"in y?y.deltaX:"wheelDeltaX"in y?-y.wheelDeltaX:0},deltaY:function(y){return"deltaY"in y?y.deltaY:"wheelDeltaY"in y?-y.wheelDeltaY:"wheelDelta"in y?-y.wheelDelta:0},deltaZ:0,deltaMode:0}),xc=Cs($s),rl=[9,13,27,32],Ml=l&&"CompositionEvent"in window,Uh=null;l&&"documentMode"in document&&(Uh=document.documentMode);var Mx=l&&"TextEvent"in window&&!Uh,om=l&&(!Ml||Uh&&8<Uh&&11>=Uh),iA=" ",lm=!1;function cm(y,w){switch(y){case"keyup":return rl.indexOf(w.keyCode)!==-1;case"keydown":return w.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function sA(y){return y=y.detail,typeof y=="object"&&"data"in y?y.data:null}var qi=!1;function um(y,w){switch(y){case"compositionend":return sA(w);case"keypress":return w.which!==32?null:(lm=!0,iA);case"textInput":return y=w.data,y===iA&&lm?null:y;default:return null}}function dm(y,w){if(qi)return y==="compositionend"||!Ml&&cm(y,w)?(y=Vy(),Ol=Il=mc=null,qi=!1,y):null;switch(y){case"paste":return null;case"keypress":if(!(w.ctrlKey||w.altKey||w.metaKey)||w.ctrlKey&&w.altKey){if(w.char&&1<w.char.length)return w.char;if(w.which)return String.fromCharCode(w.which)}return null;case"compositionend":return om&&w.locale!=="ko"?null:w.data;default:return null}}var hm={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function fm(y){var w=y&&y.nodeName&&y.nodeName.toLowerCase();return w==="input"?!!hm[y.type]:w==="textarea"}function Xa(y,w,D,R){Je(R),w=Jy(w,"onChange"),0<w.length&&(D=new kh("onChange","change",null,D,R),y.push({event:D,listeners:w}))}var aA=null,cd=null;function Gy(y){zx(y,0)}function Ya(y){var w=pA(y);if(Ie(w))return y}function Am(y,w){if(y==="change")return w}var Lx=!1;if(l){var pm;if(l){var lu="oninput"in document;if(!lu){var Ih=document.createElement("div");Ih.setAttribute("oninput","return;"),lu=typeof Ih.oninput=="function"}pm=lu}else pm=!1;Lx=pm&&(!document.documentMode||9<document.documentMode)}function Ja(){aA&&(aA.detachEvent("onpropertychange",Na),cd=aA=null)}function Na(y){if(y.propertyName==="value"&&Ya(cd)){var w=[];Xa(w,cd,y,wi(y)),Fi(Gy,w)}}function Oh(y,w,D){y==="focusin"?(Ja(),aA=w,cd=D,aA.attachEvent("onpropertychange",Na)):y==="focusout"&&Ja()}function ud(y){if(y==="selectionchange"||y==="keyup"||y==="keydown")return Ya(cd)}function dd(y,w){if(y==="click")return Ya(w)}function mm(y,w){if(y==="input"||y==="change")return Ya(w)}function hd(y,w){return y===w&&(y!==0||1/y===1/w)||y!==y&&w!==w}var Nr=typeof Object.is=="function"?Object.is:hd;function fd(y,w){if(Nr(y,w))return!0;if(typeof y!="object"||y===null||typeof w!="object"||w===null)return!1;var D=Object.keys(y),R=Object.keys(w);if(D.length!==R.length)return!1;for(R=0;R<D.length;R++){var J=D[R];if(!c.call(w,J)||!Nr(y[J],w[J]))return!1}return!0}function _a(y){for(;y&&y.firstChild;)y=y.firstChild;return y}function il(y,w){var D=_a(y);y=0;for(var R;D;){if(D.nodeType===3){if(R=y+D.textContent.length,y<=w&&R>=w)return{node:D,offset:w-y};y=R}e:{for(;D;){if(D.nextSibling){D=D.nextSibling;break e}D=D.parentNode}D=void 0}D=_a(D)}}function oA(y,w){return y&&w?y===w?!0:y&&y.nodeType===3?!1:w&&w.nodeType===3?oA(y,w.parentNode):"contains"in y?y.contains(w):y.compareDocumentPosition?!!(y.compareDocumentPosition(w)&16):!1:!1}function Rx(){for(var y=window,w=Ye();w instanceof y.HTMLIFrameElement;){try{var D=typeof w.contentWindow.location.href=="string"}catch{D=!1}if(D)y=w.contentWindow;else break;w=Ye(y.document)}return w}function lA(y){var w=y&&y.nodeName&&y.nodeName.toLowerCase();return w&&(w==="input"&&(y.type==="text"||y.type==="search"||y.type==="tel"||y.type==="url"||y.type==="password")||w==="textarea"||y.contentEditable==="true")}function cA(y){var w=Rx(),D=y.focusedElem,R=y.selectionRange;if(w!==D&&D&&D.ownerDocument&&oA(D.ownerDocument.documentElement,D)){if(R!==null&&lA(D)){if(w=R.start,y=R.end,y===void 0&&(y=w),"selectionStart"in D)D.selectionStart=w,D.selectionEnd=Math.min(y,D.value.length);else if(y=(w=D.ownerDocument||document)&&w.defaultView||window,y.getSelection){y=y.getSelection();var J=D.textContent.length,te=Math.min(R.start,J);R=R.end===void 0?te:Math.min(R.end,J),!y.extend&&te>R&&(J=R,R=te,te=J),J=il(D,te);var ye=il(D,R);J&&ye&&(y.rangeCount!==1||y.anchorNode!==J.node||y.anchorOffset!==J.offset||y.focusNode!==ye.node||y.focusOffset!==ye.offset)&&(w=w.createRange(),w.setStart(J.node,J.offset),y.removeAllRanges(),te>R?(y.addRange(w),y.extend(ye.node,ye.offset)):(w.setEnd(ye.node,ye.offset),y.addRange(w)))}}for(w=[],y=D;y=y.parentNode;)y.nodeType===1&&w.push({element:y,left:y.scrollLeft,top:y.scrollTop});for(typeof D.focus=="function"&&D.focus(),D=0;D<w.length;D++)y=w[D],y.element.scrollLeft=y.left,y.element.scrollTop=y.top}}var uA=l&&"documentMode"in document&&11>=document.documentMode,sl=null,Ad=null,cu=null,pd=!1;function md(y,w,D){var R=D.window===D?D.document:D.nodeType===9?D:D.ownerDocument;pd||sl==null||sl!==Ye(R)||(R=sl,"selectionStart"in R&&lA(R)?R={start:R.selectionStart,end:R.selectionEnd}:(R=(R.ownerDocument&&R.ownerDocument.defaultView||window).getSelection(),R={anchorNode:R.anchorNode,anchorOffset:R.anchorOffset,focusNode:R.focusNode,focusOffset:R.focusOffset}),cu&&fd(cu,R)||(cu=R,R=Jy(Ad,"onSelect"),0<R.length&&(w=new kh("onSelect","select",null,w,D),y.push({event:w,listeners:R}),w.target=sl)))}function Mh(y,w){var D={};return D[y.toLowerCase()]=w.toLowerCase(),D["Webkit"+y]="webkit"+w,D["Moz"+y]="moz"+w,D}var ia={animationend:Mh("Animation","AnimationEnd"),animationiteration:Mh("Animation","AnimationIteration"),animationstart:Mh("Animation","AnimationStart"),transitionend:Mh("Transition","TransitionEnd")},vo={},Xr={};l&&(Xr=document.createElement("div").style,"AnimationEvent"in window||(delete ia.animationend.animation,delete ia.animationiteration.animation,delete ia.animationstart.animation),"TransitionEvent"in window||delete ia.transitionend.transition);function Ur(y){if(vo[y])return vo[y];if(!ia[y])return y;var w=ia[y],D;for(D in w)if(w.hasOwnProperty(D)&&D in Xr)return vo[y]=w[D];return y}var Vi=Ur("animationend"),ps=Ur("animationiteration"),uu=Ur("animationstart"),gm=Ur("transitionend"),dA=new Map,Qx="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function du(y,w){dA.set(y,w),a(w,[y])}for(var xm=0;xm<Qx.length;xm++){var Za=Qx[xm],Ll=Za.toLowerCase(),Xy=Za[0].toUpperCase()+Za.slice(1);du(Ll,"on"+Xy)}du(Vi,"onAnimationEnd"),du(ps,"onAnimationIteration"),du(uu,"onAnimationStart"),du("dblclick","onDoubleClick"),du("focusin","onFocus"),du("focusout","onBlur"),du(gm,"onTransitionEnd"),o("onMouseEnter",["mouseout","mouseover"]),o("onMouseLeave",["mouseout","mouseover"]),o("onPointerEnter",["pointerout","pointerover"]),o("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Lh="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),eE=new Set("cancel close invalid load scroll toggle".split(" ").concat(Lh));function Hx(y,w,D){var R=y.type||"unknown-event";y.currentTarget=D,ts(R,w,void 0,y),y.currentTarget=null}function zx(y,w){w=(w&4)!==0;for(var D=0;D<y.length;D++){var R=y[D],J=R.event;R=R.listeners;e:{var te=void 0;if(w)for(var ye=R.length-1;0<=ye;ye--){var Qe=R[ye],Ke=Qe.instance,dt=Qe.currentTarget;if(Qe=Qe.listener,Ke!==te&&J.isPropagationStopped())break e;Hx(J,Qe,dt),te=Ke}else for(ye=0;ye<R.length;ye++){if(Qe=R[ye],Ke=Qe.instance,dt=Qe.currentTarget,Qe=Qe.listener,Ke!==te&&J.isPropagationStopped())break e;Hx(J,Qe,dt),te=Ke}}}if(ii)throw y=ba,ii=!1,ba=null,y}function Yr(y,w){var D=w[bo];D===void 0&&(D=w[bo]=new Set);var R=y+"__bubble";D.has(R)||($x(w,y,2,!1),D.add(R))}function Yy(y,w,D){var R=0;w&&(R|=4),$x(D,y,R,w)}var vm="_reactListening"+Math.random().toString(36).slice(2);function hA(y){if(!y[vm]){y[vm]=!0,r.forEach(function(D){D!=="selectionchange"&&(eE.has(D)||Yy(D,!1,y),Yy(D,!0,y))});var w=y.nodeType===9?y:y.ownerDocument;w===null||w[vm]||(w[vm]=!0,Yy("selectionchange",!1,w))}}function $x(y,w,D,R){switch(Px(w)){case 1:var J=eA;break;case 4:J=Fx;break;default:J=Dh}D=J.bind(null,w,D,y),J=void 0,!di||w!=="touchstart"&&w!=="touchmove"&&w!=="wheel"||(J=!0),R?J!==void 0?y.addEventListener(w,D,{capture:!0,passive:J}):y.addEventListener(w,D,!0):J!==void 0?y.addEventListener(w,D,{passive:J}):y.addEventListener(w,D,!1)}function Wx(y,w,D,R,J){var te=R;if((w&1)===0&&(w&2)===0&&R!==null)e:for(;;){if(R===null)return;var ye=R.tag;if(ye===3||ye===4){var Qe=R.stateNode.containerInfo;if(Qe===J||Qe.nodeType===8&&Qe.parentNode===J)break;if(ye===4)for(ye=R.return;ye!==null;){var Ke=ye.tag;if((Ke===3||Ke===4)&&(Ke=ye.stateNode.containerInfo,Ke===J||Ke.nodeType===8&&Ke.parentNode===J))return;ye=ye.return}for(;Qe!==null;){if(ye=Rh(Qe),ye===null)return;if(Ke=ye.tag,Ke===5||Ke===6){R=te=ye;continue e}Qe=Qe.parentNode}}R=R.return}Fi(function(){var dt=te,St=wi(D),Et=[];e:{var Ct=dA.get(y);if(Ct!==void 0){var qt=kh,rn=y;switch(y){case"keypress":if(gc(D)===0)break e;case"keydown":case"keyup":qt=Ln;break;case"focusin":rn="focus",qt=ld;break;case"focusout":rn="blur",qt=ld;break;case"beforeblur":case"afterblur":qt=ld;break;case"click":if(D.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":qt=sm;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":qt=Aj;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":qt=Wi;break;case Vi:case ps:case uu:qt=Ph;break;case gm:qt=ja;break;case"scroll":qt=Ux;break;case"wheel":qt=xc;break;case"copy":case"cut":case"paste":qt=G;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":qt=cr}var an=(w&4)!==0,Ds=!an&&y==="scroll",ot=an?Ct!==null?Ct+"Capture":null:Ct;an=[];for(var Ze=dt,lt;Ze!==null;){lt=Ze;var Ft=lt.stateNode;if(lt.tag===5&&Ft!==null&&(lt=Ft,ot!==null&&(Ft=Xt(Ze,ot),Ft!=null&&an.push(qx(Ze,Ft,lt)))),Ds)break;Ze=Ze.return}0<an.length&&(Ct=new qt(Ct,rn,null,D,St),Et.push({event:Ct,listeners:an}))}}if((w&7)===0){e:{if(Ct=y==="mouseover"||y==="pointerover",qt=y==="mouseout"||y==="pointerout",Ct&&D!==fn&&(rn=D.relatedTarget||D.fromElement)&&(Rh(rn)||rn[Ca]))break e;if((qt||Ct)&&(Ct=St.window===St?St:(Ct=St.ownerDocument)?Ct.defaultView||Ct.parentWindow:window,qt?(rn=D.relatedTarget||D.toElement,qt=dt,rn=rn?Rh(rn):null,rn!==null&&(Ds=$i(rn),rn!==Ds||rn.tag!==5&&rn.tag!==6)&&(rn=null)):(qt=null,rn=dt),qt!==rn)){if(an=sm,Ft="onMouseLeave",ot="onMouseEnter",Ze="mouse",(y==="pointerout"||y==="pointerover")&&(an=cr,Ft="onPointerLeave",ot="onPointerEnter",Ze="pointer"),Ds=qt==null?Ct:pA(qt),lt=rn==null?Ct:pA(rn),Ct=new an(Ft,Ze+"leave",qt,D,St),Ct.target=Ds,Ct.relatedTarget=lt,Ft=null,Rh(St)===dt&&(an=new an(ot,Ze+"enter",rn,D,St),an.target=lt,an.relatedTarget=Ds,Ft=an),Ds=Ft,qt&&rn)t:{for(an=qt,ot=rn,Ze=0,lt=an;lt;lt=fA(lt))Ze++;for(lt=0,Ft=ot;Ft;Ft=fA(Ft))lt++;for(;0<Ze-lt;)an=fA(an),Ze--;for(;0<lt-Ze;)ot=fA(ot),lt--;for(;Ze--;){if(an===ot||ot!==null&&an===ot.alternate)break t;an=fA(an),ot=fA(ot)}an=null}else an=null;qt!==null&&tE(Et,Ct,qt,an,!1),rn!==null&&Ds!==null&&tE(Et,Ds,rn,an,!0)}}e:{if(Ct=dt?pA(dt):window,qt=Ct.nodeName&&Ct.nodeName.toLowerCase(),qt==="select"||qt==="input"&&Ct.type==="file")var on=Am;else if(fm(Ct))if(Lx)on=mm;else{on=ud;var yn=Oh}else(qt=Ct.nodeName)&&qt.toLowerCase()==="input"&&(Ct.type==="checkbox"||Ct.type==="radio")&&(on=dd);if(on&&(on=on(y,dt))){Xa(Et,on,D,St);break e}yn&&yn(y,Ct,dt),y==="focusout"&&(yn=Ct._wrapperState)&&yn.controlled&&Ct.type==="number"&&Ne(Ct,"number",Ct.value)}switch(yn=dt?pA(dt):window,y){case"focusin":(fm(yn)||yn.contentEditable==="true")&&(sl=yn,Ad=dt,cu=null);break;case"focusout":cu=Ad=sl=null;break;case"mousedown":pd=!0;break;case"contextmenu":case"mouseup":case"dragend":pd=!1,md(Et,D,St);break;case"selectionchange":if(uA)break;case"keydown":case"keyup":md(Et,D,St)}var bn;if(Ml)e:{switch(y){case"compositionstart":var Un="onCompositionStart";break e;case"compositionend":Un="onCompositionEnd";break e;case"compositionupdate":Un="onCompositionUpdate";break e}Un=void 0}else qi?cm(y,D)&&(Un="onCompositionEnd"):y==="keydown"&&D.keyCode===229&&(Un="onCompositionStart");Un&&(om&&D.locale!=="ko"&&(qi||Un!=="onCompositionStart"?Un==="onCompositionEnd"&&qi&&(bn=Vy()):(mc=St,Il="value"in mc?mc.value:mc.textContent,qi=!0)),yn=Jy(dt,Un),0<yn.length&&(Un=new Le(Un,y,null,D,St),Et.push({event:Un,listeners:yn}),bn?Un.data=bn:(bn=sA(D),bn!==null&&(Un.data=bn)))),(bn=Mx?um(y,D):dm(y,D))&&(dt=Jy(dt,"onBeforeInput"),0<dt.length&&(St=new Le("onBeforeInput","beforeinput",null,D,St),Et.push({event:St,listeners:dt}),St.data=bn))}zx(Et,w)})}function qx(y,w,D){return{instance:y,listener:w,currentTarget:D}}function Jy(y,w){for(var D=w+"Capture",R=[];y!==null;){var J=y,te=J.stateNode;J.tag===5&&te!==null&&(J=te,te=Xt(y,D),te!=null&&R.unshift(qx(y,te,J)),te=Xt(y,w),te!=null&&R.push(qx(y,te,J))),y=y.return}return R}function fA(y){if(y===null)return null;do y=y.return;while(y&&y.tag!==5);return y||null}function tE(y,w,D,R,J){for(var te=w._reactName,ye=[];D!==null&&D!==R;){var Qe=D,Ke=Qe.alternate,dt=Qe.stateNode;if(Ke!==null&&Ke===R)break;Qe.tag===5&&dt!==null&&(Qe=dt,J?(Ke=Xt(D,te),Ke!=null&&ye.unshift(qx(D,Ke,Qe))):J||(Ke=Xt(D,te),Ke!=null&&ye.push(qx(D,Ke,Qe)))),D=D.return}ye.length!==0&&y.push({event:w,listeners:ye})}var j6=/\r\n?/g,N6=/\u0000|\uFFFD/g;function nE(y){return(typeof y=="string"?y:""+y).replace(j6,`
`).replace(N6,"")}function Zy(y,w,D){if(w=nE(w),nE(y)!==w&&D)throw Error(n(425))}function ym(){}var Vx=null,AA=null;function pj(y,w){return y==="textarea"||y==="noscript"||typeof w.children=="string"||typeof w.children=="number"||typeof w.dangerouslySetInnerHTML=="object"&&w.dangerouslySetInnerHTML!==null&&w.dangerouslySetInnerHTML.__html!=null}var mj=typeof setTimeout=="function"?setTimeout:void 0,rE=typeof clearTimeout=="function"?clearTimeout:void 0,iE=typeof Promise=="function"?Promise:void 0,_6=typeof queueMicrotask=="function"?queueMicrotask:typeof iE<"u"?function(y){return iE.resolve(null).then(y).catch(C6)}:mj;function C6(y){setTimeout(function(){throw y})}function gj(y,w){var D=w,R=0;do{var J=D.nextSibling;if(y.removeChild(D),J&&J.nodeType===8)if(D=J.data,D==="/$"){if(R===0){y.removeChild(J),pc(w);return}R--}else D!=="$"&&D!=="$?"&&D!=="$!"||R++;D=J}while(D);pc(w)}function eo(y){for(;y!=null;y=y.nextSibling){var w=y.nodeType;if(w===1||w===3)break;if(w===8){if(w=y.data,w==="$"||w==="$!"||w==="$?")break;if(w==="/$")return null}}return y}function Rl(y){y=y.previousSibling;for(var w=0;y;){if(y.nodeType===8){var D=y.data;if(D==="$"||D==="$!"||D==="$?"){if(w===0)return y;w--}else D==="/$"&&w++}y=y.previousSibling}return null}var yo=Math.random().toString(36).slice(2),hu="__reactFiber$"+yo,bm="__reactProps$"+yo,Ca="__reactContainer$"+yo,bo="__reactEvents$"+yo,S6="__reactListeners$"+yo,E6="__reactHandles$"+yo;function Rh(y){var w=y[hu];if(w)return w;for(var D=y.parentNode;D;){if(w=D[Ca]||D[hu]){if(D=w.alternate,w.child!==null||D!==null&&D.child!==null)for(y=Rl(y);y!==null;){if(D=y[hu])return D;y=Rl(y)}return w}y=D,D=y.parentNode}return null}function wm(y){return y=y[hu]||y[Ca],!y||y.tag!==5&&y.tag!==6&&y.tag!==13&&y.tag!==3?null:y}function pA(y){if(y.tag===5||y.tag===6)return y.stateNode;throw Error(n(33))}function Kx(y){return y[bm]||null}var xj=[],gd=-1;function vc(y){return{current:y}}function Ir(y){0>gd||(y.current=xj[gd],xj[gd]=null,gd--)}function zr(y,w){gd++,xj[gd]=y.current,y.current=w}var Qh={},sa=vc(Qh),wo=vc(!1),mA=Qh;function jm(y,w){var D=y.type.contextTypes;if(!D)return Qh;var R=y.stateNode;if(R&&R.__reactInternalMemoizedUnmaskedChildContext===w)return R.__reactInternalMemoizedMaskedChildContext;var J={},te;for(te in D)J[te]=w[te];return R&&(y=y.stateNode,y.__reactInternalMemoizedUnmaskedChildContext=w,y.__reactInternalMemoizedMaskedChildContext=J),J}function jo(y){return y=y.childContextTypes,y!=null}function eb(){Ir(wo),Ir(sa)}function sE(y,w,D){if(sa.current!==Qh)throw Error(n(168));zr(sa,w),zr(wo,D)}function vj(y,w,D){var R=y.stateNode;if(w=w.childContextTypes,typeof R.getChildContext!="function")return D;R=R.getChildContext();for(var J in R)if(!(J in w))throw Error(n(108,se(y)||"Unknown",J));return K({},D,R)}function gA(y){return y=(y=y.stateNode)&&y.__reactInternalMemoizedMergedChildContext||Qh,mA=sa.current,zr(sa,y),zr(wo,wo.current),!0}function aE(y,w,D){var R=y.stateNode;if(!R)throw Error(n(169));D?(y=vj(y,w,mA),R.__reactInternalMemoizedMergedChildContext=y,Ir(wo),Ir(sa),zr(sa,y)):Ir(wo),zr(wo,D)}var xd=null,Gx=!1,P=!1;function Q(y){xd===null?xd=[y]:xd.push(y)}function Z(y){Gx=!0,Q(y)}function ne(){if(!P&&xd!==null){P=!0;var y=0,w=jr;try{var D=xd;for(jr=1;y<D.length;y++){var R=D[y];do R=R(!0);while(R!==null)}xd=null,Gx=!1}catch(J){throw xd!==null&&(xd=xd.slice(y+1)),rd(tu,ne),J}finally{jr=w,P=!1}}return null}var fe=[],ve=0,we=null,_e=0,Ee=[],Pe=0,Ve=null,st=1,at="";function et(y,w){fe[ve++]=_e,fe[ve++]=we,we=y,_e=w}function bt(y,w,D){Ee[Pe++]=st,Ee[Pe++]=at,Ee[Pe++]=Ve,Ve=y;var R=st;y=at;var J=32-tl(R)-1;R&=~(1<<J),D+=1;var te=32-tl(w)+J;if(30<te){var ye=J-J%5;te=(R&(1<<ye)-1).toString(32),R>>=ye,J-=ye,st=1<<32-tl(w)+J|D<<J|R,at=te+y}else st=1<<te|D<<J|R,at=y}function ft(y){y.return!==null&&(et(y,1),bt(y,1,0))}function Ge(y){for(;y===we;)we=fe[--ve],fe[ve]=null,_e=fe[--ve],fe[ve]=null;for(;y===Ve;)Ve=Ee[--Pe],Ee[Pe]=null,at=Ee[--Pe],Ee[Pe]=null,st=Ee[--Pe],Ee[Pe]=null}var Xe=null,gt=null,mt=!1,xt=null;function $t(y,w){var D=xu(5,null,null,0);D.elementType="DELETED",D.stateNode=w,D.return=y,w=y.deletions,w===null?(y.deletions=[D],y.flags|=16):w.push(D)}function It(y,w){switch(y.tag){case 5:var D=y.type;return w=w.nodeType!==1||D.toLowerCase()!==w.nodeName.toLowerCase()?null:w,w!==null?(y.stateNode=w,Xe=y,gt=eo(w.firstChild),!0):!1;case 6:return w=y.pendingProps===""||w.nodeType!==3?null:w,w!==null?(y.stateNode=w,Xe=y,gt=null,!0):!1;case 13:return w=w.nodeType!==8?null:w,w!==null?(D=Ve!==null?{id:st,overflow:at}:null,y.memoizedState={dehydrated:w,treeContext:D,retryLane:1073741824},D=xu(18,null,null,0),D.stateNode=w,D.return=y,y.child=D,Xe=y,gt=null,!0):!1;default:return!1}}function An(y){return(y.mode&1)!==0&&(y.flags&128)===0}function Mt(y){if(mt){var w=gt;if(w){var D=w;if(!It(y,w)){if(An(y))throw Error(n(418));w=eo(D.nextSibling);var R=Xe;w&&It(y,w)?$t(R,D):(y.flags=y.flags&-4097|2,mt=!1,Xe=y)}}else{if(An(y))throw Error(n(418));y.flags=y.flags&-4097|2,mt=!1,Xe=y}}}function yr(y){for(y=y.return;y!==null&&y.tag!==5&&y.tag!==3&&y.tag!==13;)y=y.return;Xe=y}function br(y){if(y!==Xe)return!1;if(!mt)return yr(y),mt=!0,!1;var w;if((w=y.tag!==3)&&!(w=y.tag!==5)&&(w=y.type,w=w!=="head"&&w!=="body"&&!pj(y.type,y.memoizedProps)),w&&(w=gt)){if(An(y))throw hr(),Error(n(418));for(;w;)$t(y,w),w=eo(w.nextSibling)}if(yr(y),y.tag===13){if(y=y.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(n(317));e:{for(y=y.nextSibling,w=0;y;){if(y.nodeType===8){var D=y.data;if(D==="/$"){if(w===0){gt=eo(y.nextSibling);break e}w--}else D!=="$"&&D!=="$!"&&D!=="$?"||w++}y=y.nextSibling}gt=null}}else gt=Xe?eo(y.stateNode.nextSibling):null;return!0}function hr(){for(var y=gt;y;)y=eo(y.nextSibling)}function qn(){gt=Xe=null,mt=!1}function Or(y){xt===null?xt=[y]:xt.push(y)}var $r=j.ReactCurrentBatchConfig;function Fn(y,w,D){if(y=D.ref,y!==null&&typeof y!="function"&&typeof y!="object"){if(D._owner){if(D=D._owner,D){if(D.tag!==1)throw Error(n(309));var R=D.stateNode}if(!R)throw Error(n(147,y));var J=R,te=""+y;return w!==null&&w.ref!==null&&typeof w.ref=="function"&&w.ref._stringRef===te?w.ref:(w=function(ye){var Qe=J.refs;ye===null?delete Qe[te]:Qe[te]=ye},w._stringRef=te,w)}if(typeof y!="string")throw Error(n(284));if(!D._owner)throw Error(n(290,y))}return y}function Ii(y,w){throw y=Object.prototype.toString.call(w),Error(n(31,y==="[object Object]"?"object with keys {"+Object.keys(w).join(", ")+"}":y))}function to(y){var w=y._init;return w(y._payload)}function rs(y){function w(ot,Ze){if(y){var lt=ot.deletions;lt===null?(ot.deletions=[Ze],ot.flags|=16):lt.push(Ze)}}function D(ot,Ze){if(!y)return null;for(;Ze!==null;)w(ot,Ze),Ze=Ze.sibling;return null}function R(ot,Ze){for(ot=new Map;Ze!==null;)Ze.key!==null?ot.set(Ze.key,Ze):ot.set(Ze.index,Ze),Ze=Ze.sibling;return ot}function J(ot,Ze){return ot=Um(ot,Ze),ot.index=0,ot.sibling=null,ot}function te(ot,Ze,lt){return ot.index=lt,y?(lt=ot.alternate,lt!==null?(lt=lt.index,lt<Ze?(ot.flags|=2,Ze):lt):(ot.flags|=2,Ze)):(ot.flags|=1048576,Ze)}function ye(ot){return y&&ot.alternate===null&&(ot.flags|=2),ot}function Qe(ot,Ze,lt,Ft){return Ze===null||Ze.tag!==6?(Ze=rP(lt,ot.mode,Ft),Ze.return=ot,Ze):(Ze=J(Ze,lt),Ze.return=ot,Ze)}function Ke(ot,Ze,lt,Ft){var on=lt.type;return on===C?St(ot,Ze,lt.props.children,Ft,lt.key):Ze!==null&&(Ze.elementType===on||typeof on=="object"&&on!==null&&on.$$typeof===U&&to(on)===Ze.type)?(Ft=J(Ze,lt.props),Ft.ref=Fn(ot,Ze,lt),Ft.return=ot,Ft):(Ft=CE(lt.type,lt.key,lt.props,null,ot.mode,Ft),Ft.ref=Fn(ot,Ze,lt),Ft.return=ot,Ft)}function dt(ot,Ze,lt,Ft){return Ze===null||Ze.tag!==4||Ze.stateNode.containerInfo!==lt.containerInfo||Ze.stateNode.implementation!==lt.implementation?(Ze=iP(lt,ot.mode,Ft),Ze.return=ot,Ze):(Ze=J(Ze,lt.children||[]),Ze.return=ot,Ze)}function St(ot,Ze,lt,Ft,on){return Ze===null||Ze.tag!==7?(Ze=rv(lt,ot.mode,Ft,on),Ze.return=ot,Ze):(Ze=J(Ze,lt),Ze.return=ot,Ze)}function Et(ot,Ze,lt){if(typeof Ze=="string"&&Ze!==""||typeof Ze=="number")return Ze=rP(""+Ze,ot.mode,lt),Ze.return=ot,Ze;if(typeof Ze=="object"&&Ze!==null){switch(Ze.$$typeof){case N:return lt=CE(Ze.type,Ze.key,Ze.props,null,ot.mode,lt),lt.ref=Fn(ot,null,Ze),lt.return=ot,lt;case _:return Ze=iP(Ze,ot.mode,lt),Ze.return=ot,Ze;case U:var Ft=Ze._init;return Et(ot,Ft(Ze._payload),lt)}if($e(Ze)||$(Ze))return Ze=rv(Ze,ot.mode,lt,null),Ze.return=ot,Ze;Ii(ot,Ze)}return null}function Ct(ot,Ze,lt,Ft){var on=Ze!==null?Ze.key:null;if(typeof lt=="string"&&lt!==""||typeof lt=="number")return on!==null?null:Qe(ot,Ze,""+lt,Ft);if(typeof lt=="object"&&lt!==null){switch(lt.$$typeof){case N:return lt.key===on?Ke(ot,Ze,lt,Ft):null;case _:return lt.key===on?dt(ot,Ze,lt,Ft):null;case U:return on=lt._init,Ct(ot,Ze,on(lt._payload),Ft)}if($e(lt)||$(lt))return on!==null?null:St(ot,Ze,lt,Ft,null);Ii(ot,lt)}return null}function qt(ot,Ze,lt,Ft,on){if(typeof Ft=="string"&&Ft!==""||typeof Ft=="number")return ot=ot.get(lt)||null,Qe(Ze,ot,""+Ft,on);if(typeof Ft=="object"&&Ft!==null){switch(Ft.$$typeof){case N:return ot=ot.get(Ft.key===null?lt:Ft.key)||null,Ke(Ze,ot,Ft,on);case _:return ot=ot.get(Ft.key===null?lt:Ft.key)||null,dt(Ze,ot,Ft,on);case U:var yn=Ft._init;return qt(ot,Ze,lt,yn(Ft._payload),on)}if($e(Ft)||$(Ft))return ot=ot.get(lt)||null,St(Ze,ot,Ft,on,null);Ii(Ze,Ft)}return null}function rn(ot,Ze,lt,Ft){for(var on=null,yn=null,bn=Ze,Un=Ze=0,Da=null;bn!==null&&Un<lt.length;Un++){bn.index>Un?(Da=bn,bn=null):Da=bn.sibling;var Dr=Ct(ot,bn,lt[Un],Ft);if(Dr===null){bn===null&&(bn=Da);break}y&&bn&&Dr.alternate===null&&w(ot,bn),Ze=te(Dr,Ze,Un),yn===null?on=Dr:yn.sibling=Dr,yn=Dr,bn=Da}if(Un===lt.length)return D(ot,bn),mt&&et(ot,Un),on;if(bn===null){for(;Un<lt.length;Un++)bn=Et(ot,lt[Un],Ft),bn!==null&&(Ze=te(bn,Ze,Un),yn===null?on=bn:yn.sibling=bn,yn=bn);return mt&&et(ot,Un),on}for(bn=R(ot,bn);Un<lt.length;Un++)Da=qt(bn,ot,Un,lt[Un],Ft),Da!==null&&(y&&Da.alternate!==null&&bn.delete(Da.key===null?Un:Da.key),Ze=te(Da,Ze,Un),yn===null?on=Da:yn.sibling=Da,yn=Da);return y&&bn.forEach(function(Im){return w(ot,Im)}),mt&&et(ot,Un),on}function an(ot,Ze,lt,Ft){var on=$(lt);if(typeof on!="function")throw Error(n(150));if(lt=on.call(lt),lt==null)throw Error(n(151));for(var yn=on=null,bn=Ze,Un=Ze=0,Da=null,Dr=lt.next();bn!==null&&!Dr.done;Un++,Dr=lt.next()){bn.index>Un?(Da=bn,bn=null):Da=bn.sibling;var Im=Ct(ot,bn,Dr.value,Ft);if(Im===null){bn===null&&(bn=Da);break}y&&bn&&Im.alternate===null&&w(ot,bn),Ze=te(Im,Ze,Un),yn===null?on=Im:yn.sibling=Im,yn=Im,bn=Da}if(Dr.done)return D(ot,bn),mt&&et(ot,Un),on;if(bn===null){for(;!Dr.done;Un++,Dr=lt.next())Dr=Et(ot,Dr.value,Ft),Dr!==null&&(Ze=te(Dr,Ze,Un),yn===null?on=Dr:yn.sibling=Dr,yn=Dr);return mt&&et(ot,Un),on}for(bn=R(ot,bn);!Dr.done;Un++,Dr=lt.next())Dr=qt(bn,ot,Un,Dr.value,Ft),Dr!==null&&(y&&Dr.alternate!==null&&bn.delete(Dr.key===null?Un:Dr.key),Ze=te(Dr,Ze,Un),yn===null?on=Dr:yn.sibling=Dr,yn=Dr);return y&&bn.forEach(function(kNe){return w(ot,kNe)}),mt&&et(ot,Un),on}function Ds(ot,Ze,lt,Ft){if(typeof lt=="object"&&lt!==null&&lt.type===C&&lt.key===null&&(lt=lt.props.children),typeof lt=="object"&&lt!==null){switch(lt.$$typeof){case N:e:{for(var on=lt.key,yn=Ze;yn!==null;){if(yn.key===on){if(on=lt.type,on===C){if(yn.tag===7){D(ot,yn.sibling),Ze=J(yn,lt.props.children),Ze.return=ot,ot=Ze;break e}}else if(yn.elementType===on||typeof on=="object"&&on!==null&&on.$$typeof===U&&to(on)===yn.type){D(ot,yn.sibling),Ze=J(yn,lt.props),Ze.ref=Fn(ot,yn,lt),Ze.return=ot,ot=Ze;break e}D(ot,yn);break}else w(ot,yn);yn=yn.sibling}lt.type===C?(Ze=rv(lt.props.children,ot.mode,Ft,lt.key),Ze.return=ot,ot=Ze):(Ft=CE(lt.type,lt.key,lt.props,null,ot.mode,Ft),Ft.ref=Fn(ot,Ze,lt),Ft.return=ot,ot=Ft)}return ye(ot);case _:e:{for(yn=lt.key;Ze!==null;){if(Ze.key===yn)if(Ze.tag===4&&Ze.stateNode.containerInfo===lt.containerInfo&&Ze.stateNode.implementation===lt.implementation){D(ot,Ze.sibling),Ze=J(Ze,lt.children||[]),Ze.return=ot,ot=Ze;break e}else{D(ot,Ze);break}else w(ot,Ze);Ze=Ze.sibling}Ze=iP(lt,ot.mode,Ft),Ze.return=ot,ot=Ze}return ye(ot);case U:return yn=lt._init,Ds(ot,Ze,yn(lt._payload),Ft)}if($e(lt))return rn(ot,Ze,lt,Ft);if($(lt))return an(ot,Ze,lt,Ft);Ii(ot,lt)}return typeof lt=="string"&&lt!==""||typeof lt=="number"?(lt=""+lt,Ze!==null&&Ze.tag===6?(D(ot,Ze.sibling),Ze=J(Ze,lt),Ze.return=ot,ot=Ze):(D(ot,Ze),Ze=rP(lt,ot.mode,Ft),Ze.return=ot,ot=Ze),ye(ot)):D(ot,Ze)}return Ds}var Ss=rs(!0),Er=rs(!1),Sa=vc(null),Ea=null,Oi=null,Es=null;function aa(){Es=Oi=Ea=null}function No(y){var w=Sa.current;Ir(Sa),y._currentValue=w}function Ql(y,w,D){for(;y!==null;){var R=y.alternate;if((y.childLanes&w)!==w?(y.childLanes|=w,R!==null&&(R.childLanes|=w)):R!==null&&(R.childLanes&w)!==w&&(R.childLanes|=w),y===D)break;y=y.return}}function Mi(y,w){Ea=y,Es=Oi=null,y=y.dependencies,y!==null&&y.firstContext!==null&&((y.lanes&w)!==0&&(Wl=!0),y.firstContext=null)}function ms(y){var w=y._currentValue;if(Es!==y)if(y={context:y,memoizedValue:w,next:null},Oi===null){if(Ea===null)throw Error(n(308));Oi=y,Ea.dependencies={lanes:0,firstContext:y}}else Oi=Oi.next=y;return w}var al=null;function Hh(y){al===null?al=[y]:al.push(y)}function vd(y,w,D,R){var J=w.interleaved;return J===null?(D.next=D,Hh(w)):(D.next=J.next,J.next=D),w.interleaved=D,Br(y,R)}function Br(y,w){y.lanes|=w;var D=y.alternate;for(D!==null&&(D.lanes|=w),D=y,y=y.return;y!==null;)y.childLanes|=w,D=y.alternate,D!==null&&(D.childLanes|=w),D=y,y=y.return;return D.tag===3?D.stateNode:null}var fu=!1;function tb(y){y.updateQueue={baseState:y.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function yj(y,w){y=y.updateQueue,w.updateQueue===y&&(w.updateQueue={baseState:y.baseState,firstBaseUpdate:y.firstBaseUpdate,lastBaseUpdate:y.lastBaseUpdate,shared:y.shared,effects:y.effects})}function Hl(y,w){return{eventTime:y,lane:w,tag:0,payload:null,callback:null,next:null}}function zl(y,w,D){var R=y.updateQueue;if(R===null)return null;if(R=R.shared,(_r&2)!==0){var J=R.pending;return J===null?w.next=w:(w.next=J.next,J.next=w),R.pending=w,Br(y,D)}return J=R.interleaved,J===null?(w.next=w,Hh(R)):(w.next=J.next,J.next=w),R.interleaved=w,Br(y,D)}function xA(y,w,D){if(w=w.updateQueue,w!==null&&(w=w.shared,(D&4194240)!==0)){var R=w.lanes;R&=y.pendingLanes,D|=R,w.lanes=D,Xp(y,D)}}function $l(y,w){var D=y.updateQueue,R=y.alternate;if(R!==null&&(R=R.updateQueue,D===R)){var J=null,te=null;if(D=D.firstBaseUpdate,D!==null){do{var ye={eventTime:D.eventTime,lane:D.lane,tag:D.tag,payload:D.payload,callback:D.callback,next:null};te===null?J=te=ye:te=te.next=ye,D=D.next}while(D!==null);te===null?J=te=w:te=te.next=w}else J=te=w;D={baseState:R.baseState,firstBaseUpdate:J,lastBaseUpdate:te,shared:R.shared,effects:R.effects},y.updateQueue=D;return}y=D.lastBaseUpdate,y===null?D.firstBaseUpdate=w:y.next=w,D.lastBaseUpdate=w}function yd(y,w,D,R){var J=y.updateQueue;fu=!1;var te=J.firstBaseUpdate,ye=J.lastBaseUpdate,Qe=J.shared.pending;if(Qe!==null){J.shared.pending=null;var Ke=Qe,dt=Ke.next;Ke.next=null,ye===null?te=dt:ye.next=dt,ye=Ke;var St=y.alternate;St!==null&&(St=St.updateQueue,Qe=St.lastBaseUpdate,Qe!==ye&&(Qe===null?St.firstBaseUpdate=dt:Qe.next=dt,St.lastBaseUpdate=Ke))}if(te!==null){var Et=J.baseState;ye=0,St=dt=Ke=null,Qe=te;do{var Ct=Qe.lane,qt=Qe.eventTime;if((R&Ct)===Ct){St!==null&&(St=St.next={eventTime:qt,lane:0,tag:Qe.tag,payload:Qe.payload,callback:Qe.callback,next:null});e:{var rn=y,an=Qe;switch(Ct=w,qt=D,an.tag){case 1:if(rn=an.payload,typeof rn=="function"){Et=rn.call(qt,Et,Ct);break e}Et=rn;break e;case 3:rn.flags=rn.flags&-65537|128;case 0:if(rn=an.payload,Ct=typeof rn=="function"?rn.call(qt,Et,Ct):rn,Ct==null)break e;Et=K({},Et,Ct);break e;case 2:fu=!0}}Qe.callback!==null&&Qe.lane!==0&&(y.flags|=64,Ct=J.effects,Ct===null?J.effects=[Qe]:Ct.push(Qe))}else qt={eventTime:qt,lane:Ct,tag:Qe.tag,payload:Qe.payload,callback:Qe.callback,next:null},St===null?(dt=St=qt,Ke=Et):St=St.next=qt,ye|=Ct;if(Qe=Qe.next,Qe===null){if(Qe=J.shared.pending,Qe===null)break;Ct=Qe,Qe=Ct.next,Ct.next=null,J.lastBaseUpdate=Ct,J.shared.pending=null}}while(!0);if(St===null&&(Ke=Et),J.baseState=Ke,J.firstBaseUpdate=dt,J.lastBaseUpdate=St,w=J.shared.interleaved,w!==null){J=w;do ye|=J.lane,J=J.next;while(J!==w)}else te===null&&(J.shared.lanes=0);Zx|=ye,y.lanes=ye,y.memoizedState=Et}}function vA(y,w,D){if(y=w.effects,w.effects=null,y!==null)for(w=0;w<y.length;w++){var R=y[w],J=R.callback;if(J!==null){if(R.callback=null,R=D,typeof J!="function")throw Error(n(191,J));J.call(R)}}}var Nm={},ol=vc(Nm),_m=vc(Nm),zh=vc(Nm);function bd(y){if(y===Nm)throw Error(n(174));return y}function Cm(y,w){switch(zr(zh,w),zr(_m,y),zr(ol,Nm),y=w.nodeType,y){case 9:case 11:w=(w=w.documentElement)?w.namespaceURI:ut(null,"");break;default:y=y===8?w.parentNode:w,w=y.namespaceURI||null,y=y.tagName,w=ut(w,y)}Ir(ol),zr(ol,w)}function Au(){Ir(ol),Ir(_m),Ir(zh)}function oE(y){bd(zh.current);var w=bd(ol.current),D=ut(w,y.type);w!==D&&(zr(_m,y),zr(ol,D))}function bj(y){_m.current===y&&(Ir(ol),Ir(_m))}var fi=vc(0);function yc(y){for(var w=y;w!==null;){if(w.tag===13){var D=w.memoizedState;if(D!==null&&(D=D.dehydrated,D===null||D.data==="$?"||D.data==="$!"))return w}else if(w.tag===19&&w.memoizedProps.revealOrder!==void 0){if((w.flags&128)!==0)return w}else if(w.child!==null){w.child.return=w,w=w.child;continue}if(w===y)break;for(;w.sibling===null;){if(w.return===null||w.return===y)return null;w=w.return}w.sibling.return=w.return,w=w.sibling}return null}var wj=[];function jj(){for(var y=0;y<wj.length;y++)wj[y]._workInProgressVersionPrimary=null;wj.length=0}var nb=j.ReactCurrentDispatcher,rb=j.ReactCurrentBatchConfig,pu=0,_i=null,gs=null,is=null,Sm=!1,wd=!1,Em=0,B6=0;function Bs(){throw Error(n(321))}function ib(y,w){if(w===null)return!1;for(var D=0;D<w.length&&D<y.length;D++)if(!Nr(y[D],w[D]))return!1;return!0}function Xx(y,w,D,R,J,te){if(pu=te,_i=w,w.memoizedState=null,w.updateQueue=null,w.lanes=0,nb.current=y===null||y.memoizedState===null?iNe:sNe,y=D(R,J),wd){te=0;do{if(wd=!1,Em=0,25<=te)throw Error(n(301));te+=1,is=gs=null,w.updateQueue=null,nb.current=aNe,y=D(R,J)}while(wd)}if(nb.current=hE,w=gs!==null&&gs.next!==null,pu=0,is=gs=_i=null,Sm=!1,w)throw Error(n(300));return y}function mu(){var y=Em!==0;return Em=0,y}function bc(){var y={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return is===null?_i.memoizedState=is=y:is=is.next=y,is}function ll(){if(gs===null){var y=_i.alternate;y=y!==null?y.memoizedState:null}else y=gs.next;var w=is===null?_i.memoizedState:is.next;if(w!==null)is=w,gs=y;else{if(y===null)throw Error(n(310));gs=y,y={memoizedState:gs.memoizedState,baseState:gs.baseState,baseQueue:gs.baseQueue,queue:gs.queue,next:null},is===null?_i.memoizedState=is=y:is=is.next=y}return is}function Yx(y,w){return typeof w=="function"?w(y):w}function sb(y){var w=ll(),D=w.queue;if(D===null)throw Error(n(311));D.lastRenderedReducer=y;var R=gs,J=R.baseQueue,te=D.pending;if(te!==null){if(J!==null){var ye=J.next;J.next=te.next,te.next=ye}R.baseQueue=J=te,D.pending=null}if(J!==null){te=J.next,R=R.baseState;var Qe=ye=null,Ke=null,dt=te;do{var St=dt.lane;if((pu&St)===St)Ke!==null&&(Ke=Ke.next={lane:0,action:dt.action,hasEagerState:dt.hasEagerState,eagerState:dt.eagerState,next:null}),R=dt.hasEagerState?dt.eagerState:y(R,dt.action);else{var Et={lane:St,action:dt.action,hasEagerState:dt.hasEagerState,eagerState:dt.eagerState,next:null};Ke===null?(Qe=Ke=Et,ye=R):Ke=Ke.next=Et,_i.lanes|=St,Zx|=St}dt=dt.next}while(dt!==null&&dt!==te);Ke===null?ye=R:Ke.next=Qe,Nr(R,w.memoizedState)||(Wl=!0),w.memoizedState=R,w.baseState=ye,w.baseQueue=Ke,D.lastRenderedState=R}if(y=D.interleaved,y!==null){J=y;do te=J.lane,_i.lanes|=te,Zx|=te,J=J.next;while(J!==y)}else J===null&&(D.lanes=0);return[w.memoizedState,D.dispatch]}function $h(y){var w=ll(),D=w.queue;if(D===null)throw Error(n(311));D.lastRenderedReducer=y;var R=D.dispatch,J=D.pending,te=w.memoizedState;if(J!==null){D.pending=null;var ye=J=J.next;do te=y(te,ye.action),ye=ye.next;while(ye!==J);Nr(te,w.memoizedState)||(Wl=!0),w.memoizedState=te,w.baseQueue===null&&(w.baseState=te),D.lastRenderedState=te}return[te,R]}function lE(){}function Nj(y,w){var D=_i,R=ll(),J=w(),te=!Nr(R.memoizedState,J);if(te&&(R.memoizedState=J,Wl=!0),R=R.queue,lb(uE.bind(null,D,R,y),[y]),R.getSnapshot!==w||te||is!==null&&is.memoizedState.tag&1){if(D.flags|=2048,cl(9,_j.bind(null,D,R,J,w),void 0,null),Ba===null)throw Error(n(349));(pu&30)!==0||cE(D,w,J)}return J}function cE(y,w,D){y.flags|=16384,y={getSnapshot:w,value:D},w=_i.updateQueue,w===null?(w={lastEffect:null,stores:null},_i.updateQueue=w,w.stores=[y]):(D=w.stores,D===null?w.stores=[y]:D.push(y))}function _j(y,w,D,R){w.value=D,w.getSnapshot=R,Bm(w)&&ab(y)}function uE(y,w,D){return D(function(){Bm(w)&&ab(y)})}function Bm(y){var w=y.getSnapshot;y=y.value;try{var D=w();return!Nr(y,D)}catch{return!0}}function ab(y){var w=Br(y,1);w!==null&&Sd(w,y,1,-1)}function Jx(y){var w=bc();return typeof y=="function"&&(y=y()),w.memoizedState=w.baseState=y,y={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Yx,lastRenderedState:y},w.queue=y,y=y.dispatch=rNe.bind(null,_i,y),[w.memoizedState,y]}function cl(y,w,D,R){return y={tag:y,create:w,destroy:D,deps:R,next:null},w=_i.updateQueue,w===null?(w={lastEffect:null,stores:null},_i.updateQueue=w,w.lastEffect=y.next=y):(D=w.lastEffect,D===null?w.lastEffect=y.next=y:(R=D.next,D.next=y,y.next=R,w.lastEffect=y)),y}function jd(){return ll().memoizedState}function wc(y,w,D,R){var J=bc();_i.flags|=y,J.memoizedState=cl(1|w,D,void 0,R===void 0?null:R)}function yA(y,w,D,R){var J=ll();R=R===void 0?null:R;var te=void 0;if(gs!==null){var ye=gs.memoizedState;if(te=ye.destroy,R!==null&&ib(R,ye.deps)){J.memoizedState=cl(w,D,te,R);return}}_i.flags|=y,J.memoizedState=cl(1|w,D,te,R)}function ob(y,w){return wc(8390656,8,y,w)}function lb(y,w){return yA(2048,8,y,w)}function dE(y,w){return yA(4,2,y,w)}function cb(y,w){return yA(4,4,y,w)}function ub(y,w){if(typeof w=="function")return y=y(),w(y),function(){w(null)};if(w!=null)return y=y(),w.current=y,function(){w.current=null}}function hV(y,w,D){return D=D!=null?D.concat([y]):null,yA(4,4,ub.bind(null,w,y),D)}function D6(){}function fV(y,w){var D=ll();w=w===void 0?null:w;var R=D.memoizedState;return R!==null&&w!==null&&ib(w,R[1])?R[0]:(D.memoizedState=[y,w],y)}function AV(y,w){var D=ll();w=w===void 0?null:w;var R=D.memoizedState;return R!==null&&w!==null&&ib(w,R[1])?R[0]:(y=y(),D.memoizedState=[y,w],y)}function pV(y,w,D){return(pu&21)===0?(y.baseState&&(y.baseState=!1,Wl=!0),y.memoizedState=D):(Nr(D,w)||(D=Bx(),_i.lanes|=D,Zx|=D,y.baseState=!0),w)}function tNe(y,w){var D=jr;jr=D!==0&&4>D?D:4,y(!0);var R=rb.transition;rb.transition={};try{y(!1),w()}finally{jr=D,rb.transition=R}}function mV(){return ll().memoizedState}function nNe(y,w,D){var R=Fm(y);if(D={lane:R,action:D,hasEagerState:!1,eagerState:null,next:null},gV(y))xV(w,D);else if(D=vd(y,w,D,R),D!==null){var J=dl();Sd(D,y,R,J),vV(D,w,R)}}function rNe(y,w,D){var R=Fm(y),J={lane:R,action:D,hasEagerState:!1,eagerState:null,next:null};if(gV(y))xV(w,J);else{var te=y.alternate;if(y.lanes===0&&(te===null||te.lanes===0)&&(te=w.lastRenderedReducer,te!==null))try{var ye=w.lastRenderedState,Qe=te(ye,D);if(J.hasEagerState=!0,J.eagerState=Qe,Nr(Qe,ye)){var Ke=w.interleaved;Ke===null?(J.next=J,Hh(w)):(J.next=Ke.next,Ke.next=J),w.interleaved=J;return}}catch{}finally{}D=vd(y,w,J,R),D!==null&&(J=dl(),Sd(D,y,R,J),vV(D,w,R))}}function gV(y){var w=y.alternate;return y===_i||w!==null&&w===_i}function xV(y,w){wd=Sm=!0;var D=y.pending;D===null?w.next=w:(w.next=D.next,D.next=w),y.pending=w}function vV(y,w,D){if((D&4194240)!==0){var R=w.lanes;R&=y.pendingLanes,D|=R,w.lanes=D,Xp(y,D)}}var hE={readContext:ms,useCallback:Bs,useContext:Bs,useEffect:Bs,useImperativeHandle:Bs,useInsertionEffect:Bs,useLayoutEffect:Bs,useMemo:Bs,useReducer:Bs,useRef:Bs,useState:Bs,useDebugValue:Bs,useDeferredValue:Bs,useTransition:Bs,useMutableSource:Bs,useSyncExternalStore:Bs,useId:Bs,unstable_isNewReconciler:!1},iNe={readContext:ms,useCallback:function(y,w){return bc().memoizedState=[y,w===void 0?null:w],y},useContext:ms,useEffect:ob,useImperativeHandle:function(y,w,D){return D=D!=null?D.concat([y]):null,wc(4194308,4,ub.bind(null,w,y),D)},useLayoutEffect:function(y,w){return wc(4194308,4,y,w)},useInsertionEffect:function(y,w){return wc(4,2,y,w)},useMemo:function(y,w){var D=bc();return w=w===void 0?null:w,y=y(),D.memoizedState=[y,w],y},useReducer:function(y,w,D){var R=bc();return w=D!==void 0?D(w):w,R.memoizedState=R.baseState=w,y={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:y,lastRenderedState:w},R.queue=y,y=y.dispatch=nNe.bind(null,_i,y),[R.memoizedState,y]},useRef:function(y){var w=bc();return y={current:y},w.memoizedState=y},useState:Jx,useDebugValue:D6,useDeferredValue:function(y){return bc().memoizedState=y},useTransition:function(){var y=Jx(!1),w=y[0];return y=tNe.bind(null,y[1]),bc().memoizedState=y,[w,y]},useMutableSource:function(){},useSyncExternalStore:function(y,w,D){var R=_i,J=bc();if(mt){if(D===void 0)throw Error(n(407));D=D()}else{if(D=w(),Ba===null)throw Error(n(349));(pu&30)!==0||cE(R,w,D)}J.memoizedState=D;var te={value:D,getSnapshot:w};return J.queue=te,ob(uE.bind(null,R,te,y),[y]),R.flags|=2048,cl(9,_j.bind(null,R,te,D,w),void 0,null),D},useId:function(){var y=bc(),w=Ba.identifierPrefix;if(mt){var D=at,R=st;D=(R&~(1<<32-tl(R)-1)).toString(32)+D,w=":"+w+"R"+D,D=Em++,0<D&&(w+="H"+D.toString(32)),w+=":"}else D=B6++,w=":"+w+"r"+D.toString(32)+":";return y.memoizedState=w},unstable_isNewReconciler:!1},sNe={readContext:ms,useCallback:fV,useContext:ms,useEffect:lb,useImperativeHandle:hV,useInsertionEffect:dE,useLayoutEffect:cb,useMemo:AV,useReducer:sb,useRef:jd,useState:function(){return sb(Yx)},useDebugValue:D6,useDeferredValue:function(y){var w=ll();return pV(w,gs.memoizedState,y)},useTransition:function(){var y=sb(Yx)[0],w=ll().memoizedState;return[y,w]},useMutableSource:lE,useSyncExternalStore:Nj,useId:mV,unstable_isNewReconciler:!1},aNe={readContext:ms,useCallback:fV,useContext:ms,useEffect:lb,useImperativeHandle:hV,useInsertionEffect:dE,useLayoutEffect:cb,useMemo:AV,useReducer:$h,useRef:jd,useState:function(){return $h(Yx)},useDebugValue:D6,useDeferredValue:function(y){var w=ll();return gs===null?w.memoizedState=y:pV(w,gs.memoizedState,y)},useTransition:function(){var y=$h(Yx)[0],w=ll().memoizedState;return[y,w]},useMutableSource:lE,useSyncExternalStore:Nj,useId:mV,unstable_isNewReconciler:!1};function Nd(y,w){if(y&&y.defaultProps){w=K({},w),y=y.defaultProps;for(var D in y)w[D]===void 0&&(w[D]=y[D]);return w}return w}function T6(y,w,D,R){w=y.memoizedState,D=D(R,w),D=D==null?w:K({},w,D),y.memoizedState=D,y.lanes===0&&(y.updateQueue.baseState=D)}var fE={isMounted:function(y){return(y=y._reactInternals)?$i(y)===y:!1},enqueueSetState:function(y,w,D){y=y._reactInternals;var R=dl(),J=Fm(y),te=Hl(R,J);te.payload=w,D!=null&&(te.callback=D),w=zl(y,te,J),w!==null&&(Sd(w,y,J,R),xA(w,y,J))},enqueueReplaceState:function(y,w,D){y=y._reactInternals;var R=dl(),J=Fm(y),te=Hl(R,J);te.tag=1,te.payload=w,D!=null&&(te.callback=D),w=zl(y,te,J),w!==null&&(Sd(w,y,J,R),xA(w,y,J))},enqueueForceUpdate:function(y,w){y=y._reactInternals;var D=dl(),R=Fm(y),J=Hl(D,R);J.tag=2,w!=null&&(J.callback=w),w=zl(y,J,R),w!==null&&(Sd(w,y,R,D),xA(w,y,R))}};function yV(y,w,D,R,J,te,ye){return y=y.stateNode,typeof y.shouldComponentUpdate=="function"?y.shouldComponentUpdate(R,te,ye):w.prototype&&w.prototype.isPureReactComponent?!fd(D,R)||!fd(J,te):!0}function bV(y,w,D){var R=!1,J=Qh,te=w.contextType;return typeof te=="object"&&te!==null?te=ms(te):(J=jo(w)?mA:sa.current,R=w.contextTypes,te=(R=R!=null)?jm(y,J):Qh),w=new w(D,te),y.memoizedState=w.state!==null&&w.state!==void 0?w.state:null,w.updater=fE,y.stateNode=w,w._reactInternals=y,R&&(y=y.stateNode,y.__reactInternalMemoizedUnmaskedChildContext=J,y.__reactInternalMemoizedMaskedChildContext=te),w}function wV(y,w,D,R){y=w.state,typeof w.componentWillReceiveProps=="function"&&w.componentWillReceiveProps(D,R),typeof w.UNSAFE_componentWillReceiveProps=="function"&&w.UNSAFE_componentWillReceiveProps(D,R),w.state!==y&&fE.enqueueReplaceState(w,w.state,null)}function k6(y,w,D,R){var J=y.stateNode;J.props=D,J.state=y.memoizedState,J.refs={},tb(y);var te=w.contextType;typeof te=="object"&&te!==null?J.context=ms(te):(te=jo(w)?mA:sa.current,J.context=jm(y,te)),J.state=y.memoizedState,te=w.getDerivedStateFromProps,typeof te=="function"&&(T6(y,w,te,D),J.state=y.memoizedState),typeof w.getDerivedStateFromProps=="function"||typeof J.getSnapshotBeforeUpdate=="function"||typeof J.UNSAFE_componentWillMount!="function"&&typeof J.componentWillMount!="function"||(w=J.state,typeof J.componentWillMount=="function"&&J.componentWillMount(),typeof J.UNSAFE_componentWillMount=="function"&&J.UNSAFE_componentWillMount(),w!==J.state&&fE.enqueueReplaceState(J,J.state,null),yd(y,D,J,R),J.state=y.memoizedState),typeof J.componentDidMount=="function"&&(y.flags|=4194308)}function db(y,w){try{var D="",R=w;do D+=ee(R),R=R.return;while(R);var J=D}catch(te){J=`
Error generating stack: `+te.message+`
`+te.stack}return{value:y,source:w,stack:J,digest:null}}function F6(y,w,D){return{value:y,source:null,stack:D??null,digest:w??null}}function P6(y,w){try{console.error(w.value)}catch(D){setTimeout(function(){throw D})}}var oNe=typeof WeakMap=="function"?WeakMap:Map;function jV(y,w,D){D=Hl(-1,D),D.tag=3,D.payload={element:null};var R=w.value;return D.callback=function(){yE||(yE=!0,G6=R),P6(y,w)},D}function NV(y,w,D){D=Hl(-1,D),D.tag=3;var R=y.type.getDerivedStateFromError;if(typeof R=="function"){var J=w.value;D.payload=function(){return R(J)},D.callback=function(){P6(y,w)}}var te=y.stateNode;return te!==null&&typeof te.componentDidCatch=="function"&&(D.callback=function(){P6(y,w),typeof R!="function"&&(Tm===null?Tm=new Set([this]):Tm.add(this));var ye=w.stack;this.componentDidCatch(w.value,{componentStack:ye!==null?ye:""})}),D}function _V(y,w,D){var R=y.pingCache;if(R===null){R=y.pingCache=new oNe;var J=new Set;R.set(w,J)}else J=R.get(w),J===void 0&&(J=new Set,R.set(w,J));J.has(D)||(J.add(D),y=bNe.bind(null,y,w,D),w.then(y,y))}function CV(y){do{var w;if((w=y.tag===13)&&(w=y.memoizedState,w=w!==null?w.dehydrated!==null:!0),w)return y;y=y.return}while(y!==null);return null}function SV(y,w,D,R,J){return(y.mode&1)===0?(y===w?y.flags|=65536:(y.flags|=128,D.flags|=131072,D.flags&=-52805,D.tag===1&&(D.alternate===null?D.tag=17:(w=Hl(-1,1),w.tag=2,zl(D,w,1))),D.lanes|=1),y):(y.flags|=65536,y.lanes=J,y)}var lNe=j.ReactCurrentOwner,Wl=!1;function ul(y,w,D,R){w.child=y===null?Er(w,null,D,R):Ss(w,y.child,D,R)}function EV(y,w,D,R,J){D=D.render;var te=w.ref;return Mi(w,J),R=Xx(y,w,D,R,te,J),D=mu(),y!==null&&!Wl?(w.updateQueue=y.updateQueue,w.flags&=-2053,y.lanes&=~J,bA(y,w,J)):(mt&&D&&ft(w),w.flags|=1,ul(y,w,R,J),w.child)}function BV(y,w,D,R,J){if(y===null){var te=D.type;return typeof te=="function"&&!nP(te)&&te.defaultProps===void 0&&D.compare===null&&D.defaultProps===void 0?(w.tag=15,w.type=te,DV(y,w,te,R,J)):(y=CE(D.type,null,R,w,w.mode,J),y.ref=w.ref,y.return=w,w.child=y)}if(te=y.child,(y.lanes&J)===0){var ye=te.memoizedProps;if(D=D.compare,D=D!==null?D:fd,D(ye,R)&&y.ref===w.ref)return bA(y,w,J)}return w.flags|=1,y=Um(te,R),y.ref=w.ref,y.return=w,w.child=y}function DV(y,w,D,R,J){if(y!==null){var te=y.memoizedProps;if(fd(te,R)&&y.ref===w.ref)if(Wl=!1,w.pendingProps=R=te,(y.lanes&J)!==0)(y.flags&131072)!==0&&(Wl=!0);else return w.lanes=y.lanes,bA(y,w,J)}return U6(y,w,D,R,J)}function TV(y,w,D){var R=w.pendingProps,J=R.children,te=y!==null?y.memoizedState:null;if(R.mode==="hidden")if((w.mode&1)===0)w.memoizedState={baseLanes:0,cachePool:null,transitions:null},zr(fb,jc),jc|=D;else{if((D&1073741824)===0)return y=te!==null?te.baseLanes|D:D,w.lanes=w.childLanes=1073741824,w.memoizedState={baseLanes:y,cachePool:null,transitions:null},w.updateQueue=null,zr(fb,jc),jc|=y,null;w.memoizedState={baseLanes:0,cachePool:null,transitions:null},R=te!==null?te.baseLanes:D,zr(fb,jc),jc|=R}else te!==null?(R=te.baseLanes|D,w.memoizedState=null):R=D,zr(fb,jc),jc|=R;return ul(y,w,J,D),w.child}function kV(y,w){var D=w.ref;(y===null&&D!==null||y!==null&&y.ref!==D)&&(w.flags|=512,w.flags|=2097152)}function U6(y,w,D,R,J){var te=jo(D)?mA:sa.current;return te=jm(w,te),Mi(w,J),D=Xx(y,w,D,R,te,J),R=mu(),y!==null&&!Wl?(w.updateQueue=y.updateQueue,w.flags&=-2053,y.lanes&=~J,bA(y,w,J)):(mt&&R&&ft(w),w.flags|=1,ul(y,w,D,J),w.child)}function FV(y,w,D,R,J){if(jo(D)){var te=!0;gA(w)}else te=!1;if(Mi(w,J),w.stateNode===null)pE(y,w),bV(w,D,R),k6(w,D,R,J),R=!0;else if(y===null){var ye=w.stateNode,Qe=w.memoizedProps;ye.props=Qe;var Ke=ye.context,dt=D.contextType;typeof dt=="object"&&dt!==null?dt=ms(dt):(dt=jo(D)?mA:sa.current,dt=jm(w,dt));var St=D.getDerivedStateFromProps,Et=typeof St=="function"||typeof ye.getSnapshotBeforeUpdate=="function";Et||typeof ye.UNSAFE_componentWillReceiveProps!="function"&&typeof ye.componentWillReceiveProps!="function"||(Qe!==R||Ke!==dt)&&wV(w,ye,R,dt),fu=!1;var Ct=w.memoizedState;ye.state=Ct,yd(w,R,ye,J),Ke=w.memoizedState,Qe!==R||Ct!==Ke||wo.current||fu?(typeof St=="function"&&(T6(w,D,St,R),Ke=w.memoizedState),(Qe=fu||yV(w,D,Qe,R,Ct,Ke,dt))?(Et||typeof ye.UNSAFE_componentWillMount!="function"&&typeof ye.componentWillMount!="function"||(typeof ye.componentWillMount=="function"&&ye.componentWillMount(),typeof ye.UNSAFE_componentWillMount=="function"&&ye.UNSAFE_componentWillMount()),typeof ye.componentDidMount=="function"&&(w.flags|=4194308)):(typeof ye.componentDidMount=="function"&&(w.flags|=4194308),w.memoizedProps=R,w.memoizedState=Ke),ye.props=R,ye.state=Ke,ye.context=dt,R=Qe):(typeof ye.componentDidMount=="function"&&(w.flags|=4194308),R=!1)}else{ye=w.stateNode,yj(y,w),Qe=w.memoizedProps,dt=w.type===w.elementType?Qe:Nd(w.type,Qe),ye.props=dt,Et=w.pendingProps,Ct=ye.context,Ke=D.contextType,typeof Ke=="object"&&Ke!==null?Ke=ms(Ke):(Ke=jo(D)?mA:sa.current,Ke=jm(w,Ke));var qt=D.getDerivedStateFromProps;(St=typeof qt=="function"||typeof ye.getSnapshotBeforeUpdate=="function")||typeof ye.UNSAFE_componentWillReceiveProps!="function"&&typeof ye.componentWillReceiveProps!="function"||(Qe!==Et||Ct!==Ke)&&wV(w,ye,R,Ke),fu=!1,Ct=w.memoizedState,ye.state=Ct,yd(w,R,ye,J);var rn=w.memoizedState;Qe!==Et||Ct!==rn||wo.current||fu?(typeof qt=="function"&&(T6(w,D,qt,R),rn=w.memoizedState),(dt=fu||yV(w,D,dt,R,Ct,rn,Ke)||!1)?(St||typeof ye.UNSAFE_componentWillUpdate!="function"&&typeof ye.componentWillUpdate!="function"||(typeof ye.componentWillUpdate=="function"&&ye.componentWillUpdate(R,rn,Ke),typeof ye.UNSAFE_componentWillUpdate=="function"&&ye.UNSAFE_componentWillUpdate(R,rn,Ke)),typeof ye.componentDidUpdate=="function"&&(w.flags|=4),typeof ye.getSnapshotBeforeUpdate=="function"&&(w.flags|=1024)):(typeof ye.componentDidUpdate!="function"||Qe===y.memoizedProps&&Ct===y.memoizedState||(w.flags|=4),typeof ye.getSnapshotBeforeUpdate!="function"||Qe===y.memoizedProps&&Ct===y.memoizedState||(w.flags|=1024),w.memoizedProps=R,w.memoizedState=rn),ye.props=R,ye.state=rn,ye.context=Ke,R=dt):(typeof ye.componentDidUpdate!="function"||Qe===y.memoizedProps&&Ct===y.memoizedState||(w.flags|=4),typeof ye.getSnapshotBeforeUpdate!="function"||Qe===y.memoizedProps&&Ct===y.memoizedState||(w.flags|=1024),R=!1)}return I6(y,w,D,R,te,J)}function I6(y,w,D,R,J,te){kV(y,w);var ye=(w.flags&128)!==0;if(!R&&!ye)return J&&aE(w,D,!1),bA(y,w,te);R=w.stateNode,lNe.current=w;var Qe=ye&&typeof D.getDerivedStateFromError!="function"?null:R.render();return w.flags|=1,y!==null&&ye?(w.child=Ss(w,y.child,null,te),w.child=Ss(w,null,Qe,te)):ul(y,w,Qe,te),w.memoizedState=R.state,J&&aE(w,D,!0),w.child}function PV(y){var w=y.stateNode;w.pendingContext?sE(y,w.pendingContext,w.pendingContext!==w.context):w.context&&sE(y,w.context,!1),Cm(y,w.containerInfo)}function UV(y,w,D,R,J){return qn(),Or(J),w.flags|=256,ul(y,w,D,R),w.child}var O6={dehydrated:null,treeContext:null,retryLane:0};function M6(y){return{baseLanes:y,cachePool:null,transitions:null}}function IV(y,w,D){var R=w.pendingProps,J=fi.current,te=!1,ye=(w.flags&128)!==0,Qe;if((Qe=ye)||(Qe=y!==null&&y.memoizedState===null?!1:(J&2)!==0),Qe?(te=!0,w.flags&=-129):(y===null||y.memoizedState!==null)&&(J|=1),zr(fi,J&1),y===null)return Mt(w),y=w.memoizedState,y!==null&&(y=y.dehydrated,y!==null)?((w.mode&1)===0?w.lanes=1:y.data==="$!"?w.lanes=8:w.lanes=1073741824,null):(ye=R.children,y=R.fallback,te?(R=w.mode,te=w.child,ye={mode:"hidden",children:ye},(R&1)===0&&te!==null?(te.childLanes=0,te.pendingProps=ye):te=SE(ye,R,0,null),y=rv(y,R,D,null),te.return=w,y.return=w,te.sibling=y,w.child=te,w.child.memoizedState=M6(D),w.memoizedState=O6,y):L6(w,ye));if(J=y.memoizedState,J!==null&&(Qe=J.dehydrated,Qe!==null))return cNe(y,w,ye,R,Qe,J,D);if(te){te=R.fallback,ye=w.mode,J=y.child,Qe=J.sibling;var Ke={mode:"hidden",children:R.children};return(ye&1)===0&&w.child!==J?(R=w.child,R.childLanes=0,R.pendingProps=Ke,w.deletions=null):(R=Um(J,Ke),R.subtreeFlags=J.subtreeFlags&14680064),Qe!==null?te=Um(Qe,te):(te=rv(te,ye,D,null),te.flags|=2),te.return=w,R.return=w,R.sibling=te,w.child=R,R=te,te=w.child,ye=y.child.memoizedState,ye=ye===null?M6(D):{baseLanes:ye.baseLanes|D,cachePool:null,transitions:ye.transitions},te.memoizedState=ye,te.childLanes=y.childLanes&~D,w.memoizedState=O6,R}return te=y.child,y=te.sibling,R=Um(te,{mode:"visible",children:R.children}),(w.mode&1)===0&&(R.lanes=D),R.return=w,R.sibling=null,y!==null&&(D=w.deletions,D===null?(w.deletions=[y],w.flags|=16):D.push(y)),w.child=R,w.memoizedState=null,R}function L6(y,w){return w=SE({mode:"visible",children:w},y.mode,0,null),w.return=y,y.child=w}function AE(y,w,D,R){return R!==null&&Or(R),Ss(w,y.child,null,D),y=L6(w,w.pendingProps.children),y.flags|=2,w.memoizedState=null,y}function cNe(y,w,D,R,J,te,ye){if(D)return w.flags&256?(w.flags&=-257,R=F6(Error(n(422))),AE(y,w,ye,R)):w.memoizedState!==null?(w.child=y.child,w.flags|=128,null):(te=R.fallback,J=w.mode,R=SE({mode:"visible",children:R.children},J,0,null),te=rv(te,J,ye,null),te.flags|=2,R.return=w,te.return=w,R.sibling=te,w.child=R,(w.mode&1)!==0&&Ss(w,y.child,null,ye),w.child.memoizedState=M6(ye),w.memoizedState=O6,te);if((w.mode&1)===0)return AE(y,w,ye,null);if(J.data==="$!"){if(R=J.nextSibling&&J.nextSibling.dataset,R)var Qe=R.dgst;return R=Qe,te=Error(n(419)),R=F6(te,R,void 0),AE(y,w,ye,R)}if(Qe=(ye&y.childLanes)!==0,Wl||Qe){if(R=Ba,R!==null){switch(ye&-ye){case 4:J=2;break;case 16:J=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:J=32;break;case 536870912:J=268435456;break;default:J=0}J=(J&(R.suspendedLanes|ye))!==0?0:J,J!==0&&J!==te.retryLane&&(te.retryLane=J,Br(y,J),Sd(R,y,J,-1))}return tP(),R=F6(Error(n(421))),AE(y,w,ye,R)}return J.data==="$?"?(w.flags|=128,w.child=y.child,w=wNe.bind(null,y),J._reactRetry=w,null):(y=te.treeContext,gt=eo(J.nextSibling),Xe=w,mt=!0,xt=null,y!==null&&(Ee[Pe++]=st,Ee[Pe++]=at,Ee[Pe++]=Ve,st=y.id,at=y.overflow,Ve=w),w=L6(w,R.children),w.flags|=4096,w)}function OV(y,w,D){y.lanes|=w;var R=y.alternate;R!==null&&(R.lanes|=w),Ql(y.return,w,D)}function R6(y,w,D,R,J){var te=y.memoizedState;te===null?y.memoizedState={isBackwards:w,rendering:null,renderingStartTime:0,last:R,tail:D,tailMode:J}:(te.isBackwards=w,te.rendering=null,te.renderingStartTime=0,te.last=R,te.tail=D,te.tailMode=J)}function MV(y,w,D){var R=w.pendingProps,J=R.revealOrder,te=R.tail;if(ul(y,w,R.children,D),R=fi.current,(R&2)!==0)R=R&1|2,w.flags|=128;else{if(y!==null&&(y.flags&128)!==0)e:for(y=w.child;y!==null;){if(y.tag===13)y.memoizedState!==null&&OV(y,D,w);else if(y.tag===19)OV(y,D,w);else if(y.child!==null){y.child.return=y,y=y.child;continue}if(y===w)break e;for(;y.sibling===null;){if(y.return===null||y.return===w)break e;y=y.return}y.sibling.return=y.return,y=y.sibling}R&=1}if(zr(fi,R),(w.mode&1)===0)w.memoizedState=null;else switch(J){case"forwards":for(D=w.child,J=null;D!==null;)y=D.alternate,y!==null&&yc(y)===null&&(J=D),D=D.sibling;D=J,D===null?(J=w.child,w.child=null):(J=D.sibling,D.sibling=null),R6(w,!1,J,D,te);break;case"backwards":for(D=null,J=w.child,w.child=null;J!==null;){if(y=J.alternate,y!==null&&yc(y)===null){w.child=J;break}y=J.sibling,J.sibling=D,D=J,J=y}R6(w,!0,D,null,te);break;case"together":R6(w,!1,null,null,void 0);break;default:w.memoizedState=null}return w.child}function pE(y,w){(w.mode&1)===0&&y!==null&&(y.alternate=null,w.alternate=null,w.flags|=2)}function bA(y,w,D){if(y!==null&&(w.dependencies=y.dependencies),Zx|=w.lanes,(D&w.childLanes)===0)return null;if(y!==null&&w.child!==y.child)throw Error(n(153));if(w.child!==null){for(y=w.child,D=Um(y,y.pendingProps),w.child=D,D.return=w;y.sibling!==null;)y=y.sibling,D=D.sibling=Um(y,y.pendingProps),D.return=w;D.sibling=null}return w.child}function uNe(y,w,D){switch(w.tag){case 3:PV(w),qn();break;case 5:oE(w);break;case 1:jo(w.type)&&gA(w);break;case 4:Cm(w,w.stateNode.containerInfo);break;case 10:var R=w.type._context,J=w.memoizedProps.value;zr(Sa,R._currentValue),R._currentValue=J;break;case 13:if(R=w.memoizedState,R!==null)return R.dehydrated!==null?(zr(fi,fi.current&1),w.flags|=128,null):(D&w.child.childLanes)!==0?IV(y,w,D):(zr(fi,fi.current&1),y=bA(y,w,D),y!==null?y.sibling:null);zr(fi,fi.current&1);break;case 19:if(R=(D&w.childLanes)!==0,(y.flags&128)!==0){if(R)return MV(y,w,D);w.flags|=128}if(J=w.memoizedState,J!==null&&(J.rendering=null,J.tail=null,J.lastEffect=null),zr(fi,fi.current),R)break;return null;case 22:case 23:return w.lanes=0,TV(y,w,D)}return bA(y,w,D)}var LV,Q6,RV,QV;LV=function(y,w){for(var D=w.child;D!==null;){if(D.tag===5||D.tag===6)y.appendChild(D.stateNode);else if(D.tag!==4&&D.child!==null){D.child.return=D,D=D.child;continue}if(D===w)break;for(;D.sibling===null;){if(D.return===null||D.return===w)return;D=D.return}D.sibling.return=D.return,D=D.sibling}},Q6=function(){},RV=function(y,w,D,R){var J=y.memoizedProps;if(J!==R){y=w.stateNode,bd(ol.current);var te=null;switch(D){case"input":J=X(y,J),R=X(y,R),te=[];break;case"select":J=K({},J,{value:void 0}),R=K({},R,{value:void 0}),te=[];break;case"textarea":J=Fe(y,J),R=Fe(y,R),te=[];break;default:typeof J.onClick!="function"&&typeof R.onClick=="function"&&(y.onclick=ym)}Ut(D,R);var ye;D=null;for(dt in J)if(!R.hasOwnProperty(dt)&&J.hasOwnProperty(dt)&&J[dt]!=null)if(dt==="style"){var Qe=J[dt];for(ye in Qe)Qe.hasOwnProperty(ye)&&(D||(D={}),D[ye]="")}else dt!=="dangerouslySetInnerHTML"&&dt!=="children"&&dt!=="suppressContentEditableWarning"&&dt!=="suppressHydrationWarning"&&dt!=="autoFocus"&&(s.hasOwnProperty(dt)?te||(te=[]):(te=te||[]).push(dt,null));for(dt in R){var Ke=R[dt];if(Qe=J!=null?J[dt]:void 0,R.hasOwnProperty(dt)&&Ke!==Qe&&(Ke!=null||Qe!=null))if(dt==="style")if(Qe){for(ye in Qe)!Qe.hasOwnProperty(ye)||Ke&&Ke.hasOwnProperty(ye)||(D||(D={}),D[ye]="");for(ye in Ke)Ke.hasOwnProperty(ye)&&Qe[ye]!==Ke[ye]&&(D||(D={}),D[ye]=Ke[ye])}else D||(te||(te=[]),te.push(dt,D)),D=Ke;else dt==="dangerouslySetInnerHTML"?(Ke=Ke?Ke.__html:void 0,Qe=Qe?Qe.__html:void 0,Ke!=null&&Qe!==Ke&&(te=te||[]).push(dt,Ke)):dt==="children"?typeof Ke!="string"&&typeof Ke!="number"||(te=te||[]).push(dt,""+Ke):dt!=="suppressContentEditableWarning"&&dt!=="suppressHydrationWarning"&&(s.hasOwnProperty(dt)?(Ke!=null&&dt==="onScroll"&&Yr("scroll",y),te||Qe===Ke||(te=[])):(te=te||[]).push(dt,Ke))}D&&(te=te||[]).push("style",D);var dt=te;(w.updateQueue=dt)&&(w.flags|=4)}},QV=function(y,w,D,R){D!==R&&(w.flags|=4)};function Cj(y,w){if(!mt)switch(y.tailMode){case"hidden":w=y.tail;for(var D=null;w!==null;)w.alternate!==null&&(D=w),w=w.sibling;D===null?y.tail=null:D.sibling=null;break;case"collapsed":D=y.tail;for(var R=null;D!==null;)D.alternate!==null&&(R=D),D=D.sibling;R===null?w||y.tail===null?y.tail=null:y.tail.sibling=null:R.sibling=null}}function _o(y){var w=y.alternate!==null&&y.alternate.child===y.child,D=0,R=0;if(w)for(var J=y.child;J!==null;)D|=J.lanes|J.childLanes,R|=J.subtreeFlags&14680064,R|=J.flags&14680064,J.return=y,J=J.sibling;else for(J=y.child;J!==null;)D|=J.lanes|J.childLanes,R|=J.subtreeFlags,R|=J.flags,J.return=y,J=J.sibling;return y.subtreeFlags|=R,y.childLanes=D,w}function dNe(y,w,D){var R=w.pendingProps;switch(Ge(w),w.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return _o(w),null;case 1:return jo(w.type)&&eb(),_o(w),null;case 3:return R=w.stateNode,Au(),Ir(wo),Ir(sa),jj(),R.pendingContext&&(R.context=R.pendingContext,R.pendingContext=null),(y===null||y.child===null)&&(br(w)?w.flags|=4:y===null||y.memoizedState.isDehydrated&&(w.flags&256)===0||(w.flags|=1024,xt!==null&&(J6(xt),xt=null))),Q6(y,w),_o(w),null;case 5:bj(w);var J=bd(zh.current);if(D=w.type,y!==null&&w.stateNode!=null)RV(y,w,D,R,J),y.ref!==w.ref&&(w.flags|=512,w.flags|=2097152);else{if(!R){if(w.stateNode===null)throw Error(n(166));return _o(w),null}if(y=bd(ol.current),br(w)){R=w.stateNode,D=w.type;var te=w.memoizedProps;switch(R[hu]=w,R[bm]=te,y=(w.mode&1)!==0,D){case"dialog":Yr("cancel",R),Yr("close",R);break;case"iframe":case"object":case"embed":Yr("load",R);break;case"video":case"audio":for(J=0;J<Lh.length;J++)Yr(Lh[J],R);break;case"source":Yr("error",R);break;case"img":case"image":case"link":Yr("error",R),Yr("load",R);break;case"details":Yr("toggle",R);break;case"input":ue(R,te),Yr("invalid",R);break;case"select":R._wrapperState={wasMultiple:!!te.multiple},Yr("invalid",R);break;case"textarea":De(R,te),Yr("invalid",R)}Ut(D,te),J=null;for(var ye in te)if(te.hasOwnProperty(ye)){var Qe=te[ye];ye==="children"?typeof Qe=="string"?R.textContent!==Qe&&(te.suppressHydrationWarning!==!0&&Zy(R.textContent,Qe,y),J=["children",Qe]):typeof Qe=="number"&&R.textContent!==""+Qe&&(te.suppressHydrationWarning!==!0&&Zy(R.textContent,Qe,y),J=["children",""+Qe]):s.hasOwnProperty(ye)&&Qe!=null&&ye==="onScroll"&&Yr("scroll",R)}switch(D){case"input":Me(R),ce(R,te,!0);break;case"textarea":Me(R),Oe(R);break;case"select":case"option":break;default:typeof te.onClick=="function"&&(R.onclick=ym)}R=J,w.updateQueue=R,R!==null&&(w.flags|=4)}else{ye=J.nodeType===9?J:J.ownerDocument,y==="http://www.w3.org/1999/xhtml"&&(y=We(D)),y==="http://www.w3.org/1999/xhtml"?D==="script"?(y=ye.createElement("div"),y.innerHTML="<script><\/script>",y=y.removeChild(y.firstChild)):typeof R.is=="string"?y=ye.createElement(D,{is:R.is}):(y=ye.createElement(D),D==="select"&&(ye=y,R.multiple?ye.multiple=!0:R.size&&(ye.size=R.size))):y=ye.createElementNS(y,D),y[hu]=w,y[bm]=R,LV(y,w,!1,!1),w.stateNode=y;e:{switch(ye=mn(D,R),D){case"dialog":Yr("cancel",y),Yr("close",y),J=R;break;case"iframe":case"object":case"embed":Yr("load",y),J=R;break;case"video":case"audio":for(J=0;J<Lh.length;J++)Yr(Lh[J],y);J=R;break;case"source":Yr("error",y),J=R;break;case"img":case"image":case"link":Yr("error",y),Yr("load",y),J=R;break;case"details":Yr("toggle",y),J=R;break;case"input":ue(y,R),J=X(y,R),Yr("invalid",y);break;case"option":J=R;break;case"select":y._wrapperState={wasMultiple:!!R.multiple},J=K({},R,{value:void 0}),Yr("invalid",y);break;case"textarea":De(y,R),J=Fe(y,R),Yr("invalid",y);break;default:J=R}Ut(D,J),Qe=J;for(te in Qe)if(Qe.hasOwnProperty(te)){var Ke=Qe[te];te==="style"?kt(y,Ke):te==="dangerouslySetInnerHTML"?(Ke=Ke?Ke.__html:void 0,Ke!=null&&Nt(y,Ke)):te==="children"?typeof Ke=="string"?(D!=="textarea"||Ke!=="")&&jt(y,Ke):typeof Ke=="number"&&jt(y,""+Ke):te!=="suppressContentEditableWarning"&&te!=="suppressHydrationWarning"&&te!=="autoFocus"&&(s.hasOwnProperty(te)?Ke!=null&&te==="onScroll"&&Yr("scroll",y):Ke!=null&&b(y,te,Ke,ye))}switch(D){case"input":Me(y),ce(y,R,!1);break;case"textarea":Me(y),Oe(y);break;case"option":R.value!=null&&y.setAttribute("value",""+Ae(R.value));break;case"select":y.multiple=!!R.multiple,te=R.value,te!=null?ze(y,!!R.multiple,te,!1):R.defaultValue!=null&&ze(y,!!R.multiple,R.defaultValue,!0);break;default:typeof J.onClick=="function"&&(y.onclick=ym)}switch(D){case"button":case"input":case"select":case"textarea":R=!!R.autoFocus;break e;case"img":R=!0;break e;default:R=!1}}R&&(w.flags|=4)}w.ref!==null&&(w.flags|=512,w.flags|=2097152)}return _o(w),null;case 6:if(y&&w.stateNode!=null)QV(y,w,y.memoizedProps,R);else{if(typeof R!="string"&&w.stateNode===null)throw Error(n(166));if(D=bd(zh.current),bd(ol.current),br(w)){if(R=w.stateNode,D=w.memoizedProps,R[hu]=w,(te=R.nodeValue!==D)&&(y=Xe,y!==null))switch(y.tag){case 3:Zy(R.nodeValue,D,(y.mode&1)!==0);break;case 5:y.memoizedProps.suppressHydrationWarning!==!0&&Zy(R.nodeValue,D,(y.mode&1)!==0)}te&&(w.flags|=4)}else R=(D.nodeType===9?D:D.ownerDocument).createTextNode(R),R[hu]=w,w.stateNode=R}return _o(w),null;case 13:if(Ir(fi),R=w.memoizedState,y===null||y.memoizedState!==null&&y.memoizedState.dehydrated!==null){if(mt&&gt!==null&&(w.mode&1)!==0&&(w.flags&128)===0)hr(),qn(),w.flags|=98560,te=!1;else if(te=br(w),R!==null&&R.dehydrated!==null){if(y===null){if(!te)throw Error(n(318));if(te=w.memoizedState,te=te!==null?te.dehydrated:null,!te)throw Error(n(317));te[hu]=w}else qn(),(w.flags&128)===0&&(w.memoizedState=null),w.flags|=4;_o(w),te=!1}else xt!==null&&(J6(xt),xt=null),te=!0;if(!te)return w.flags&65536?w:null}return(w.flags&128)!==0?(w.lanes=D,w):(R=R!==null,R!==(y!==null&&y.memoizedState!==null)&&R&&(w.child.flags|=8192,(w.mode&1)!==0&&(y===null||(fi.current&1)!==0?oa===0&&(oa=3):tP())),w.updateQueue!==null&&(w.flags|=4),_o(w),null);case 4:return Au(),Q6(y,w),y===null&&hA(w.stateNode.containerInfo),_o(w),null;case 10:return No(w.type._context),_o(w),null;case 17:return jo(w.type)&&eb(),_o(w),null;case 19:if(Ir(fi),te=w.memoizedState,te===null)return _o(w),null;if(R=(w.flags&128)!==0,ye=te.rendering,ye===null)if(R)Cj(te,!1);else{if(oa!==0||y!==null&&(y.flags&128)!==0)for(y=w.child;y!==null;){if(ye=yc(y),ye!==null){for(w.flags|=128,Cj(te,!1),R=ye.updateQueue,R!==null&&(w.updateQueue=R,w.flags|=4),w.subtreeFlags=0,R=D,D=w.child;D!==null;)te=D,y=R,te.flags&=14680066,ye=te.alternate,ye===null?(te.childLanes=0,te.lanes=y,te.child=null,te.subtreeFlags=0,te.memoizedProps=null,te.memoizedState=null,te.updateQueue=null,te.dependencies=null,te.stateNode=null):(te.childLanes=ye.childLanes,te.lanes=ye.lanes,te.child=ye.child,te.subtreeFlags=0,te.deletions=null,te.memoizedProps=ye.memoizedProps,te.memoizedState=ye.memoizedState,te.updateQueue=ye.updateQueue,te.type=ye.type,y=ye.dependencies,te.dependencies=y===null?null:{lanes:y.lanes,firstContext:y.firstContext}),D=D.sibling;return zr(fi,fi.current&1|2),w.child}y=y.sibling}te.tail!==null&&hi()>Ab&&(w.flags|=128,R=!0,Cj(te,!1),w.lanes=4194304)}else{if(!R)if(y=yc(ye),y!==null){if(w.flags|=128,R=!0,D=y.updateQueue,D!==null&&(w.updateQueue=D,w.flags|=4),Cj(te,!0),te.tail===null&&te.tailMode==="hidden"&&!ye.alternate&&!mt)return _o(w),null}else 2*hi()-te.renderingStartTime>Ab&&D!==1073741824&&(w.flags|=128,R=!0,Cj(te,!1),w.lanes=4194304);te.isBackwards?(ye.sibling=w.child,w.child=ye):(D=te.last,D!==null?D.sibling=ye:w.child=ye,te.last=ye)}return te.tail!==null?(w=te.tail,te.rendering=w,te.tail=w.sibling,te.renderingStartTime=hi(),w.sibling=null,D=fi.current,zr(fi,R?D&1|2:D&1),w):(_o(w),null);case 22:case 23:return eP(),R=w.memoizedState!==null,y!==null&&y.memoizedState!==null!==R&&(w.flags|=8192),R&&(w.mode&1)!==0?(jc&1073741824)!==0&&(_o(w),w.subtreeFlags&6&&(w.flags|=8192)):_o(w),null;case 24:return null;case 25:return null}throw Error(n(156,w.tag))}function hNe(y,w){switch(Ge(w),w.tag){case 1:return jo(w.type)&&eb(),y=w.flags,y&65536?(w.flags=y&-65537|128,w):null;case 3:return Au(),Ir(wo),Ir(sa),jj(),y=w.flags,(y&65536)!==0&&(y&128)===0?(w.flags=y&-65537|128,w):null;case 5:return bj(w),null;case 13:if(Ir(fi),y=w.memoizedState,y!==null&&y.dehydrated!==null){if(w.alternate===null)throw Error(n(340));qn()}return y=w.flags,y&65536?(w.flags=y&-65537|128,w):null;case 19:return Ir(fi),null;case 4:return Au(),null;case 10:return No(w.type._context),null;case 22:case 23:return eP(),null;case 24:return null;default:return null}}var mE=!1,Co=!1,fNe=typeof WeakSet=="function"?WeakSet:Set,Zt=null;function hb(y,w){var D=y.ref;if(D!==null)if(typeof D=="function")try{D(null)}catch(R){xs(y,w,R)}else D.current=null}function H6(y,w,D){try{D()}catch(R){xs(y,w,R)}}var HV=!1;function ANe(y,w){if(Vx=tm,y=Rx(),lA(y)){if("selectionStart"in y)var D={start:y.selectionStart,end:y.selectionEnd};else e:{D=(D=y.ownerDocument)&&D.defaultView||window;var R=D.getSelection&&D.getSelection();if(R&&R.rangeCount!==0){D=R.anchorNode;var J=R.anchorOffset,te=R.focusNode;R=R.focusOffset;try{D.nodeType,te.nodeType}catch{D=null;break e}var ye=0,Qe=-1,Ke=-1,dt=0,St=0,Et=y,Ct=null;t:for(;;){for(var qt;Et!==D||J!==0&&Et.nodeType!==3||(Qe=ye+J),Et!==te||R!==0&&Et.nodeType!==3||(Ke=ye+R),Et.nodeType===3&&(ye+=Et.nodeValue.length),(qt=Et.firstChild)!==null;)Ct=Et,Et=qt;for(;;){if(Et===y)break t;if(Ct===D&&++dt===J&&(Qe=ye),Ct===te&&++St===R&&(Ke=ye),(qt=Et.nextSibling)!==null)break;Et=Ct,Ct=Et.parentNode}Et=qt}D=Qe===-1||Ke===-1?null:{start:Qe,end:Ke}}else D=null}D=D||{start:0,end:0}}else D=null;for(AA={focusedElem:y,selectionRange:D},tm=!1,Zt=w;Zt!==null;)if(w=Zt,y=w.child,(w.subtreeFlags&1028)!==0&&y!==null)y.return=w,Zt=y;else for(;Zt!==null;){w=Zt;try{var rn=w.alternate;if((w.flags&1024)!==0)switch(w.tag){case 0:case 11:case 15:break;case 1:if(rn!==null){var an=rn.memoizedProps,Ds=rn.memoizedState,ot=w.stateNode,Ze=ot.getSnapshotBeforeUpdate(w.elementType===w.type?an:Nd(w.type,an),Ds);ot.__reactInternalSnapshotBeforeUpdate=Ze}break;case 3:var lt=w.stateNode.containerInfo;lt.nodeType===1?lt.textContent="":lt.nodeType===9&&lt.documentElement&&lt.removeChild(lt.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(Ft){xs(w,w.return,Ft)}if(y=w.sibling,y!==null){y.return=w.return,Zt=y;break}Zt=w.return}return rn=HV,HV=!1,rn}function Sj(y,w,D){var R=w.updateQueue;if(R=R!==null?R.lastEffect:null,R!==null){var J=R=R.next;do{if((J.tag&y)===y){var te=J.destroy;J.destroy=void 0,te!==void 0&&H6(w,D,te)}J=J.next}while(J!==R)}}function gE(y,w){if(w=w.updateQueue,w=w!==null?w.lastEffect:null,w!==null){var D=w=w.next;do{if((D.tag&y)===y){var R=D.create;D.destroy=R()}D=D.next}while(D!==w)}}function z6(y){var w=y.ref;if(w!==null){var D=y.stateNode;switch(y.tag){case 5:y=D;break;default:y=D}typeof w=="function"?w(y):w.current=y}}function zV(y){var w=y.alternate;w!==null&&(y.alternate=null,zV(w)),y.child=null,y.deletions=null,y.sibling=null,y.tag===5&&(w=y.stateNode,w!==null&&(delete w[hu],delete w[bm],delete w[bo],delete w[S6],delete w[E6])),y.stateNode=null,y.return=null,y.dependencies=null,y.memoizedProps=null,y.memoizedState=null,y.pendingProps=null,y.stateNode=null,y.updateQueue=null}function $V(y){return y.tag===5||y.tag===3||y.tag===4}function WV(y){e:for(;;){for(;y.sibling===null;){if(y.return===null||$V(y.return))return null;y=y.return}for(y.sibling.return=y.return,y=y.sibling;y.tag!==5&&y.tag!==6&&y.tag!==18;){if(y.flags&2||y.child===null||y.tag===4)continue e;y.child.return=y,y=y.child}if(!(y.flags&2))return y.stateNode}}function $6(y,w,D){var R=y.tag;if(R===5||R===6)y=y.stateNode,w?D.nodeType===8?D.parentNode.insertBefore(y,w):D.insertBefore(y,w):(D.nodeType===8?(w=D.parentNode,w.insertBefore(y,D)):(w=D,w.appendChild(y)),D=D._reactRootContainer,D!=null||w.onclick!==null||(w.onclick=ym));else if(R!==4&&(y=y.child,y!==null))for($6(y,w,D),y=y.sibling;y!==null;)$6(y,w,D),y=y.sibling}function W6(y,w,D){var R=y.tag;if(R===5||R===6)y=y.stateNode,w?D.insertBefore(y,w):D.appendChild(y);else if(R!==4&&(y=y.child,y!==null))for(W6(y,w,D),y=y.sibling;y!==null;)W6(y,w,D),y=y.sibling}var no=null,_d=!1;function Dm(y,w,D){for(D=D.child;D!==null;)qV(y,w,D),D=D.sibling}function qV(y,w,D){if(po&&typeof po.onCommitFiberUnmount=="function")try{po.onCommitFiberUnmount(ad,D)}catch{}switch(D.tag){case 5:Co||hb(D,w);case 6:var R=no,J=_d;no=null,Dm(y,w,D),no=R,_d=J,no!==null&&(_d?(y=no,D=D.stateNode,y.nodeType===8?y.parentNode.removeChild(D):y.removeChild(D)):no.removeChild(D.stateNode));break;case 18:no!==null&&(_d?(y=no,D=D.stateNode,y.nodeType===8?gj(y.parentNode,D):y.nodeType===1&&gj(y,D),pc(y)):gj(no,D.stateNode));break;case 4:R=no,J=_d,no=D.stateNode.containerInfo,_d=!0,Dm(y,w,D),no=R,_d=J;break;case 0:case 11:case 14:case 15:if(!Co&&(R=D.updateQueue,R!==null&&(R=R.lastEffect,R!==null))){J=R=R.next;do{var te=J,ye=te.destroy;te=te.tag,ye!==void 0&&((te&2)!==0||(te&4)!==0)&&H6(D,w,ye),J=J.next}while(J!==R)}Dm(y,w,D);break;case 1:if(!Co&&(hb(D,w),R=D.stateNode,typeof R.componentWillUnmount=="function"))try{R.props=D.memoizedProps,R.state=D.memoizedState,R.componentWillUnmount()}catch(Qe){xs(D,w,Qe)}Dm(y,w,D);break;case 21:Dm(y,w,D);break;case 22:D.mode&1?(Co=(R=Co)||D.memoizedState!==null,Dm(y,w,D),Co=R):Dm(y,w,D);break;default:Dm(y,w,D)}}function VV(y){var w=y.updateQueue;if(w!==null){y.updateQueue=null;var D=y.stateNode;D===null&&(D=y.stateNode=new fNe),w.forEach(function(R){var J=jNe.bind(null,y,R);D.has(R)||(D.add(R),R.then(J,J))})}}function Cd(y,w){var D=w.deletions;if(D!==null)for(var R=0;R<D.length;R++){var J=D[R];try{var te=y,ye=w,Qe=ye;e:for(;Qe!==null;){switch(Qe.tag){case 5:no=Qe.stateNode,_d=!1;break e;case 3:no=Qe.stateNode.containerInfo,_d=!0;break e;case 4:no=Qe.stateNode.containerInfo,_d=!0;break e}Qe=Qe.return}if(no===null)throw Error(n(160));qV(te,ye,J),no=null,_d=!1;var Ke=J.alternate;Ke!==null&&(Ke.return=null),J.return=null}catch(dt){xs(J,w,dt)}}if(w.subtreeFlags&12854)for(w=w.child;w!==null;)KV(w,y),w=w.sibling}function KV(y,w){var D=y.alternate,R=y.flags;switch(y.tag){case 0:case 11:case 14:case 15:if(Cd(w,y),Wh(y),R&4){try{Sj(3,y,y.return),gE(3,y)}catch(an){xs(y,y.return,an)}try{Sj(5,y,y.return)}catch(an){xs(y,y.return,an)}}break;case 1:Cd(w,y),Wh(y),R&512&&D!==null&&hb(D,D.return);break;case 5:if(Cd(w,y),Wh(y),R&512&&D!==null&&hb(D,D.return),y.flags&32){var J=y.stateNode;try{jt(J,"")}catch(an){xs(y,y.return,an)}}if(R&4&&(J=y.stateNode,J!=null)){var te=y.memoizedProps,ye=D!==null?D.memoizedProps:te,Qe=y.type,Ke=y.updateQueue;if(y.updateQueue=null,Ke!==null)try{Qe==="input"&&te.type==="radio"&&te.name!=null&&re(J,te),mn(Qe,ye);var dt=mn(Qe,te);for(ye=0;ye<Ke.length;ye+=2){var St=Ke[ye],Et=Ke[ye+1];St==="style"?kt(J,Et):St==="dangerouslySetInnerHTML"?Nt(J,Et):St==="children"?jt(J,Et):b(J,St,Et,dt)}switch(Qe){case"input":de(J,te);break;case"textarea":Ce(J,te);break;case"select":var Ct=J._wrapperState.wasMultiple;J._wrapperState.wasMultiple=!!te.multiple;var qt=te.value;qt!=null?ze(J,!!te.multiple,qt,!1):Ct!==!!te.multiple&&(te.defaultValue!=null?ze(J,!!te.multiple,te.defaultValue,!0):ze(J,!!te.multiple,te.multiple?[]:"",!1))}J[bm]=te}catch(an){xs(y,y.return,an)}}break;case 6:if(Cd(w,y),Wh(y),R&4){if(y.stateNode===null)throw Error(n(162));J=y.stateNode,te=y.memoizedProps;try{J.nodeValue=te}catch(an){xs(y,y.return,an)}}break;case 3:if(Cd(w,y),Wh(y),R&4&&D!==null&&D.memoizedState.isDehydrated)try{pc(w.containerInfo)}catch(an){xs(y,y.return,an)}break;case 4:Cd(w,y),Wh(y);break;case 13:Cd(w,y),Wh(y),J=y.child,J.flags&8192&&(te=J.memoizedState!==null,J.stateNode.isHidden=te,!te||J.alternate!==null&&J.alternate.memoizedState!==null||(K6=hi())),R&4&&VV(y);break;case 22:if(St=D!==null&&D.memoizedState!==null,y.mode&1?(Co=(dt=Co)||St,Cd(w,y),Co=dt):Cd(w,y),Wh(y),R&8192){if(dt=y.memoizedState!==null,(y.stateNode.isHidden=dt)&&!St&&(y.mode&1)!==0)for(Zt=y,St=y.child;St!==null;){for(Et=Zt=St;Zt!==null;){switch(Ct=Zt,qt=Ct.child,Ct.tag){case 0:case 11:case 14:case 15:Sj(4,Ct,Ct.return);break;case 1:hb(Ct,Ct.return);var rn=Ct.stateNode;if(typeof rn.componentWillUnmount=="function"){R=Ct,D=Ct.return;try{w=R,rn.props=w.memoizedProps,rn.state=w.memoizedState,rn.componentWillUnmount()}catch(an){xs(R,D,an)}}break;case 5:hb(Ct,Ct.return);break;case 22:if(Ct.memoizedState!==null){YV(Et);continue}}qt!==null?(qt.return=Ct,Zt=qt):YV(Et)}St=St.sibling}e:for(St=null,Et=y;;){if(Et.tag===5){if(St===null){St=Et;try{J=Et.stateNode,dt?(te=J.style,typeof te.setProperty=="function"?te.setProperty("display","none","important"):te.display="none"):(Qe=Et.stateNode,Ke=Et.memoizedProps.style,ye=Ke!=null&&Ke.hasOwnProperty("display")?Ke.display:null,Qe.style.display=ht("display",ye))}catch(an){xs(y,y.return,an)}}}else if(Et.tag===6){if(St===null)try{Et.stateNode.nodeValue=dt?"":Et.memoizedProps}catch(an){xs(y,y.return,an)}}else if((Et.tag!==22&&Et.tag!==23||Et.memoizedState===null||Et===y)&&Et.child!==null){Et.child.return=Et,Et=Et.child;continue}if(Et===y)break e;for(;Et.sibling===null;){if(Et.return===null||Et.return===y)break e;St===Et&&(St=null),Et=Et.return}St===Et&&(St=null),Et.sibling.return=Et.return,Et=Et.sibling}}break;case 19:Cd(w,y),Wh(y),R&4&&VV(y);break;case 21:break;default:Cd(w,y),Wh(y)}}function Wh(y){var w=y.flags;if(w&2){try{e:{for(var D=y.return;D!==null;){if($V(D)){var R=D;break e}D=D.return}throw Error(n(160))}switch(R.tag){case 5:var J=R.stateNode;R.flags&32&&(jt(J,""),R.flags&=-33);var te=WV(y);W6(y,te,J);break;case 3:case 4:var ye=R.stateNode.containerInfo,Qe=WV(y);$6(y,Qe,ye);break;default:throw Error(n(161))}}catch(Ke){xs(y,y.return,Ke)}y.flags&=-3}w&4096&&(y.flags&=-4097)}function pNe(y,w,D){Zt=y,GV(y)}function GV(y,w,D){for(var R=(y.mode&1)!==0;Zt!==null;){var J=Zt,te=J.child;if(J.tag===22&&R){var ye=J.memoizedState!==null||mE;if(!ye){var Qe=J.alternate,Ke=Qe!==null&&Qe.memoizedState!==null||Co;Qe=mE;var dt=Co;if(mE=ye,(Co=Ke)&&!dt)for(Zt=J;Zt!==null;)ye=Zt,Ke=ye.child,ye.tag===22&&ye.memoizedState!==null?JV(J):Ke!==null?(Ke.return=ye,Zt=Ke):JV(J);for(;te!==null;)Zt=te,GV(te),te=te.sibling;Zt=J,mE=Qe,Co=dt}XV(y)}else(J.subtreeFlags&8772)!==0&&te!==null?(te.return=J,Zt=te):XV(y)}}function XV(y){for(;Zt!==null;){var w=Zt;if((w.flags&8772)!==0){var D=w.alternate;try{if((w.flags&8772)!==0)switch(w.tag){case 0:case 11:case 15:Co||gE(5,w);break;case 1:var R=w.stateNode;if(w.flags&4&&!Co)if(D===null)R.componentDidMount();else{var J=w.elementType===w.type?D.memoizedProps:Nd(w.type,D.memoizedProps);R.componentDidUpdate(J,D.memoizedState,R.__reactInternalSnapshotBeforeUpdate)}var te=w.updateQueue;te!==null&&vA(w,te,R);break;case 3:var ye=w.updateQueue;if(ye!==null){if(D=null,w.child!==null)switch(w.child.tag){case 5:D=w.child.stateNode;break;case 1:D=w.child.stateNode}vA(w,ye,D)}break;case 5:var Qe=w.stateNode;if(D===null&&w.flags&4){D=Qe;var Ke=w.memoizedProps;switch(w.type){case"button":case"input":case"select":case"textarea":Ke.autoFocus&&D.focus();break;case"img":Ke.src&&(D.src=Ke.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(w.memoizedState===null){var dt=w.alternate;if(dt!==null){var St=dt.memoizedState;if(St!==null){var Et=St.dehydrated;Et!==null&&pc(Et)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}Co||w.flags&512&&z6(w)}catch(Ct){xs(w,w.return,Ct)}}if(w===y){Zt=null;break}if(D=w.sibling,D!==null){D.return=w.return,Zt=D;break}Zt=w.return}}function YV(y){for(;Zt!==null;){var w=Zt;if(w===y){Zt=null;break}var D=w.sibling;if(D!==null){D.return=w.return,Zt=D;break}Zt=w.return}}function JV(y){for(;Zt!==null;){var w=Zt;try{switch(w.tag){case 0:case 11:case 15:var D=w.return;try{gE(4,w)}catch(Ke){xs(w,D,Ke)}break;case 1:var R=w.stateNode;if(typeof R.componentDidMount=="function"){var J=w.return;try{R.componentDidMount()}catch(Ke){xs(w,J,Ke)}}var te=w.return;try{z6(w)}catch(Ke){xs(w,te,Ke)}break;case 5:var ye=w.return;try{z6(w)}catch(Ke){xs(w,ye,Ke)}}}catch(Ke){xs(w,w.return,Ke)}if(w===y){Zt=null;break}var Qe=w.sibling;if(Qe!==null){Qe.return=w.return,Zt=Qe;break}Zt=w.return}}var mNe=Math.ceil,xE=j.ReactCurrentDispatcher,q6=j.ReactCurrentOwner,gu=j.ReactCurrentBatchConfig,_r=0,Ba=null,Ws=null,ro=0,jc=0,fb=vc(0),oa=0,Ej=null,Zx=0,vE=0,V6=0,Bj=null,ql=null,K6=0,Ab=1/0,wA=null,yE=!1,G6=null,Tm=null,bE=!1,km=null,wE=0,Dj=0,X6=null,jE=-1,NE=0;function dl(){return(_r&6)!==0?hi():jE!==-1?jE:jE=hi()}function Fm(y){return(y.mode&1)===0?1:(_r&2)!==0&&ro!==0?ro&-ro:$r.transition!==null?(NE===0&&(NE=Bx()),NE):(y=jr,y!==0||(y=window.event,y=y===void 0?16:Px(y.type)),y)}function Sd(y,w,D,R){if(50<Dj)throw Dj=0,X6=null,Error(n(185));Sh(y,D,R),((_r&2)===0||y!==Ba)&&(y===Ba&&((_r&2)===0&&(vE|=D),oa===4&&Pm(y,ro)),Vl(y,R),D===1&&_r===0&&(w.mode&1)===0&&(Ab=hi()+500,Gx&&ne()))}function Vl(y,w){var D=y.callbackNode;go(y,w);var R=mo(y,y===Ba?ro:0);if(R===0)D!==null&&id(D),y.callbackNode=null,y.callbackPriority=0;else if(w=R&-R,y.callbackPriority!==w){if(D!=null&&id(D),w===1)y.tag===0?Z(eK.bind(null,y)):Q(eK.bind(null,y)),_6(function(){(_r&6)===0&&ne()}),D=null;else{switch(Yp(R)){case 1:D=tu;break;case 4:D=Vf;break;case 16:D=Nh;break;case 536870912:D=Kp;break;default:D=Nh}D=lK(D,ZV.bind(null,y))}y.callbackPriority=w,y.callbackNode=D}}function ZV(y,w){if(jE=-1,NE=0,(_r&6)!==0)throw Error(n(327));var D=y.callbackNode;if(pb()&&y.callbackNode!==D)return null;var R=mo(y,y===Ba?ro:0);if(R===0)return null;if((R&30)!==0||(R&y.expiredLanes)!==0||w)w=_E(y,R);else{w=R;var J=_r;_r|=2;var te=nK();(Ba!==y||ro!==w)&&(wA=null,Ab=hi()+500,tv(y,w));do try{vNe();break}catch(Qe){tK(y,Qe)}while(!0);aa(),xE.current=te,_r=J,Ws!==null?w=0:(Ba=null,ro=0,w=oa)}if(w!==0){if(w===2&&(J=Xf(y),J!==0&&(R=J,w=Y6(y,J))),w===1)throw D=Ej,tv(y,0),Pm(y,R),Vl(y,hi()),D;if(w===6)Pm(y,R);else{if(J=y.current.alternate,(R&30)===0&&!gNe(J)&&(w=_E(y,R),w===2&&(te=Xf(y),te!==0&&(R=te,w=Y6(y,te))),w===1))throw D=Ej,tv(y,0),Pm(y,R),Vl(y,hi()),D;switch(y.finishedWork=J,y.finishedLanes=R,w){case 0:case 1:throw Error(n(345));case 2:nv(y,ql,wA);break;case 3:if(Pm(y,R),(R&130023424)===R&&(w=K6+500-hi(),10<w)){if(mo(y,0)!==0)break;if(J=y.suspendedLanes,(J&R)!==R){dl(),y.pingedLanes|=y.suspendedLanes&J;break}y.timeoutHandle=mj(nv.bind(null,y,ql,wA),w);break}nv(y,ql,wA);break;case 4:if(Pm(y,R),(R&4194240)===R)break;for(w=y.eventTimes,J=-1;0<R;){var ye=31-tl(R);te=1<<ye,ye=w[ye],ye>J&&(J=ye),R&=~te}if(R=J,R=hi()-R,R=(120>R?120:480>R?480:1080>R?1080:1920>R?1920:3e3>R?3e3:4320>R?4320:1960*mNe(R/1960))-R,10<R){y.timeoutHandle=mj(nv.bind(null,y,ql,wA),R);break}nv(y,ql,wA);break;case 5:nv(y,ql,wA);break;default:throw Error(n(329))}}}return Vl(y,hi()),y.callbackNode===D?ZV.bind(null,y):null}function Y6(y,w){var D=Bj;return y.current.memoizedState.isDehydrated&&(tv(y,w).flags|=256),y=_E(y,w),y!==2&&(w=ql,ql=D,w!==null&&J6(w)),y}function J6(y){ql===null?ql=y:ql.push.apply(ql,y)}function gNe(y){for(var w=y;;){if(w.flags&16384){var D=w.updateQueue;if(D!==null&&(D=D.stores,D!==null))for(var R=0;R<D.length;R++){var J=D[R],te=J.getSnapshot;J=J.value;try{if(!Nr(te(),J))return!1}catch{return!1}}}if(D=w.child,w.subtreeFlags&16384&&D!==null)D.return=w,w=D;else{if(w===y)break;for(;w.sibling===null;){if(w.return===null||w.return===y)return!0;w=w.return}w.sibling.return=w.return,w=w.sibling}}return!0}function Pm(y,w){for(w&=~V6,w&=~vE,y.suspendedLanes|=w,y.pingedLanes&=~w,y=y.expirationTimes;0<w;){var D=31-tl(w),R=1<<D;y[D]=-1,w&=~R}}function eK(y){if((_r&6)!==0)throw Error(n(327));pb();var w=mo(y,0);if((w&1)===0)return Vl(y,hi()),null;var D=_E(y,w);if(y.tag!==0&&D===2){var R=Xf(y);R!==0&&(w=R,D=Y6(y,R))}if(D===1)throw D=Ej,tv(y,0),Pm(y,w),Vl(y,hi()),D;if(D===6)throw Error(n(345));return y.finishedWork=y.current.alternate,y.finishedLanes=w,nv(y,ql,wA),Vl(y,hi()),null}function Z6(y,w){var D=_r;_r|=1;try{return y(w)}finally{_r=D,_r===0&&(Ab=hi()+500,Gx&&ne())}}function ev(y){km!==null&&km.tag===0&&(_r&6)===0&&pb();var w=_r;_r|=1;var D=gu.transition,R=jr;try{if(gu.transition=null,jr=1,y)return y()}finally{jr=R,gu.transition=D,_r=w,(_r&6)===0&&ne()}}function eP(){jc=fb.current,Ir(fb)}function tv(y,w){y.finishedWork=null,y.finishedLanes=0;var D=y.timeoutHandle;if(D!==-1&&(y.timeoutHandle=-1,rE(D)),Ws!==null)for(D=Ws.return;D!==null;){var R=D;switch(Ge(R),R.tag){case 1:R=R.type.childContextTypes,R!=null&&eb();break;case 3:Au(),Ir(wo),Ir(sa),jj();break;case 5:bj(R);break;case 4:Au();break;case 13:Ir(fi);break;case 19:Ir(fi);break;case 10:No(R.type._context);break;case 22:case 23:eP()}D=D.return}if(Ba=y,Ws=y=Um(y.current,null),ro=jc=w,oa=0,Ej=null,V6=vE=Zx=0,ql=Bj=null,al!==null){for(w=0;w<al.length;w++)if(D=al[w],R=D.interleaved,R!==null){D.interleaved=null;var J=R.next,te=D.pending;if(te!==null){var ye=te.next;te.next=J,R.next=ye}D.pending=R}al=null}return y}function tK(y,w){do{var D=Ws;try{if(aa(),nb.current=hE,Sm){for(var R=_i.memoizedState;R!==null;){var J=R.queue;J!==null&&(J.pending=null),R=R.next}Sm=!1}if(pu=0,is=gs=_i=null,wd=!1,Em=0,q6.current=null,D===null||D.return===null){oa=1,Ej=w,Ws=null;break}e:{var te=y,ye=D.return,Qe=D,Ke=w;if(w=ro,Qe.flags|=32768,Ke!==null&&typeof Ke=="object"&&typeof Ke.then=="function"){var dt=Ke,St=Qe,Et=St.tag;if((St.mode&1)===0&&(Et===0||Et===11||Et===15)){var Ct=St.alternate;Ct?(St.updateQueue=Ct.updateQueue,St.memoizedState=Ct.memoizedState,St.lanes=Ct.lanes):(St.updateQueue=null,St.memoizedState=null)}var qt=CV(ye);if(qt!==null){qt.flags&=-257,SV(qt,ye,Qe,te,w),qt.mode&1&&_V(te,dt,w),w=qt,Ke=dt;var rn=w.updateQueue;if(rn===null){var an=new Set;an.add(Ke),w.updateQueue=an}else rn.add(Ke);break e}else{if((w&1)===0){_V(te,dt,w),tP();break e}Ke=Error(n(426))}}else if(mt&&Qe.mode&1){var Ds=CV(ye);if(Ds!==null){(Ds.flags&65536)===0&&(Ds.flags|=256),SV(Ds,ye,Qe,te,w),Or(db(Ke,Qe));break e}}te=Ke=db(Ke,Qe),oa!==4&&(oa=2),Bj===null?Bj=[te]:Bj.push(te),te=ye;do{switch(te.tag){case 3:te.flags|=65536,w&=-w,te.lanes|=w;var ot=jV(te,Ke,w);$l(te,ot);break e;case 1:Qe=Ke;var Ze=te.type,lt=te.stateNode;if((te.flags&128)===0&&(typeof Ze.getDerivedStateFromError=="function"||lt!==null&&typeof lt.componentDidCatch=="function"&&(Tm===null||!Tm.has(lt)))){te.flags|=65536,w&=-w,te.lanes|=w;var Ft=NV(te,Qe,w);$l(te,Ft);break e}}te=te.return}while(te!==null)}iK(D)}catch(on){w=on,Ws===D&&D!==null&&(Ws=D=D.return);continue}break}while(!0)}function nK(){var y=xE.current;return xE.current=hE,y===null?hE:y}function tP(){(oa===0||oa===3||oa===2)&&(oa=4),Ba===null||(Zx&268435455)===0&&(vE&268435455)===0||Pm(Ba,ro)}function _E(y,w){var D=_r;_r|=2;var R=nK();(Ba!==y||ro!==w)&&(wA=null,tv(y,w));do try{xNe();break}catch(J){tK(y,J)}while(!0);if(aa(),_r=D,xE.current=R,Ws!==null)throw Error(n(261));return Ba=null,ro=0,oa}function xNe(){for(;Ws!==null;)rK(Ws)}function vNe(){for(;Ws!==null&&!sd();)rK(Ws)}function rK(y){var w=oK(y.alternate,y,jc);y.memoizedProps=y.pendingProps,w===null?iK(y):Ws=w,q6.current=null}function iK(y){var w=y;do{var D=w.alternate;if(y=w.return,(w.flags&32768)===0){if(D=dNe(D,w,jc),D!==null){Ws=D;return}}else{if(D=hNe(D,w),D!==null){D.flags&=32767,Ws=D;return}if(y!==null)y.flags|=32768,y.subtreeFlags=0,y.deletions=null;else{oa=6,Ws=null;return}}if(w=w.sibling,w!==null){Ws=w;return}Ws=w=y}while(w!==null);oa===0&&(oa=5)}function nv(y,w,D){var R=jr,J=gu.transition;try{gu.transition=null,jr=1,yNe(y,w,D,R)}finally{gu.transition=J,jr=R}return null}function yNe(y,w,D,R){do pb();while(km!==null);if((_r&6)!==0)throw Error(n(327));D=y.finishedWork;var J=y.finishedLanes;if(D===null)return null;if(y.finishedWork=null,y.finishedLanes=0,D===y.current)throw Error(n(177));y.callbackNode=null,y.callbackPriority=0;var te=D.lanes|D.childLanes;if(hj(y,te),y===Ba&&(Ws=Ba=null,ro=0),(D.subtreeFlags&2064)===0&&(D.flags&2064)===0||bE||(bE=!0,lK(Nh,function(){return pb(),null})),te=(D.flags&15990)!==0,(D.subtreeFlags&15990)!==0||te){te=gu.transition,gu.transition=null;var ye=jr;jr=1;var Qe=_r;_r|=4,q6.current=null,ANe(y,D),KV(D,y),cA(AA),tm=!!Vx,AA=Vx=null,y.current=D,pNe(D),Vp(),_r=Qe,jr=ye,gu.transition=te}else y.current=D;if(bE&&(bE=!1,km=y,wE=J),te=y.pendingLanes,te===0&&(Tm=null),nu(D.stateNode),Vl(y,hi()),w!==null)for(R=y.onRecoverableError,D=0;D<w.length;D++)J=w[D],R(J.value,{componentStack:J.stack,digest:J.digest});if(yE)throw yE=!1,y=G6,G6=null,y;return(wE&1)!==0&&y.tag!==0&&pb(),te=y.pendingLanes,(te&1)!==0?y===X6?Dj++:(Dj=0,X6=y):Dj=0,ne(),null}function pb(){if(km!==null){var y=Yp(wE),w=gu.transition,D=jr;try{if(gu.transition=null,jr=16>y?16:y,km===null)var R=!1;else{if(y=km,km=null,wE=0,(_r&6)!==0)throw Error(n(331));var J=_r;for(_r|=4,Zt=y.current;Zt!==null;){var te=Zt,ye=te.child;if((Zt.flags&16)!==0){var Qe=te.deletions;if(Qe!==null){for(var Ke=0;Ke<Qe.length;Ke++){var dt=Qe[Ke];for(Zt=dt;Zt!==null;){var St=Zt;switch(St.tag){case 0:case 11:case 15:Sj(8,St,te)}var Et=St.child;if(Et!==null)Et.return=St,Zt=Et;else for(;Zt!==null;){St=Zt;var Ct=St.sibling,qt=St.return;if(zV(St),St===dt){Zt=null;break}if(Ct!==null){Ct.return=qt,Zt=Ct;break}Zt=qt}}}var rn=te.alternate;if(rn!==null){var an=rn.child;if(an!==null){rn.child=null;do{var Ds=an.sibling;an.sibling=null,an=Ds}while(an!==null)}}Zt=te}}if((te.subtreeFlags&2064)!==0&&ye!==null)ye.return=te,Zt=ye;else e:for(;Zt!==null;){if(te=Zt,(te.flags&2048)!==0)switch(te.tag){case 0:case 11:case 15:Sj(9,te,te.return)}var ot=te.sibling;if(ot!==null){ot.return=te.return,Zt=ot;break e}Zt=te.return}}var Ze=y.current;for(Zt=Ze;Zt!==null;){ye=Zt;var lt=ye.child;if((ye.subtreeFlags&2064)!==0&&lt!==null)lt.return=ye,Zt=lt;else e:for(ye=Ze;Zt!==null;){if(Qe=Zt,(Qe.flags&2048)!==0)try{switch(Qe.tag){case 0:case 11:case 15:gE(9,Qe)}}catch(on){xs(Qe,Qe.return,on)}if(Qe===ye){Zt=null;break e}var Ft=Qe.sibling;if(Ft!==null){Ft.return=Qe.return,Zt=Ft;break e}Zt=Qe.return}}if(_r=J,ne(),po&&typeof po.onPostCommitFiberRoot=="function")try{po.onPostCommitFiberRoot(ad,y)}catch{}R=!0}return R}finally{jr=D,gu.transition=w}}return!1}function sK(y,w,D){w=db(D,w),w=jV(y,w,1),y=zl(y,w,1),w=dl(),y!==null&&(Sh(y,1,w),Vl(y,w))}function xs(y,w,D){if(y.tag===3)sK(y,y,D);else for(;w!==null;){if(w.tag===3){sK(w,y,D);break}else if(w.tag===1){var R=w.stateNode;if(typeof w.type.getDerivedStateFromError=="function"||typeof R.componentDidCatch=="function"&&(Tm===null||!Tm.has(R))){y=db(D,y),y=NV(w,y,1),w=zl(w,y,1),y=dl(),w!==null&&(Sh(w,1,y),Vl(w,y));break}}w=w.return}}function bNe(y,w,D){var R=y.pingCache;R!==null&&R.delete(w),w=dl(),y.pingedLanes|=y.suspendedLanes&D,Ba===y&&(ro&D)===D&&(oa===4||oa===3&&(ro&130023424)===ro&&500>hi()-K6?tv(y,0):V6|=D),Vl(y,w)}function aK(y,w){w===0&&((y.mode&1)===0?w=1:(w=Ch,Ch<<=1,(Ch&130023424)===0&&(Ch=4194304)));var D=dl();y=Br(y,w),y!==null&&(Sh(y,w,D),Vl(y,D))}function wNe(y){var w=y.memoizedState,D=0;w!==null&&(D=w.retryLane),aK(y,D)}function jNe(y,w){var D=0;switch(y.tag){case 13:var R=y.stateNode,J=y.memoizedState;J!==null&&(D=J.retryLane);break;case 19:R=y.stateNode;break;default:throw Error(n(314))}R!==null&&R.delete(w),aK(y,D)}var oK;oK=function(y,w,D){if(y!==null)if(y.memoizedProps!==w.pendingProps||wo.current)Wl=!0;else{if((y.lanes&D)===0&&(w.flags&128)===0)return Wl=!1,uNe(y,w,D);Wl=(y.flags&131072)!==0}else Wl=!1,mt&&(w.flags&1048576)!==0&&bt(w,_e,w.index);switch(w.lanes=0,w.tag){case 2:var R=w.type;pE(y,w),y=w.pendingProps;var J=jm(w,sa.current);Mi(w,D),J=Xx(null,w,R,y,J,D);var te=mu();return w.flags|=1,typeof J=="object"&&J!==null&&typeof J.render=="function"&&J.$$typeof===void 0?(w.tag=1,w.memoizedState=null,w.updateQueue=null,jo(R)?(te=!0,gA(w)):te=!1,w.memoizedState=J.state!==null&&J.state!==void 0?J.state:null,tb(w),J.updater=fE,w.stateNode=J,J._reactInternals=w,k6(w,R,y,D),w=I6(null,w,R,!0,te,D)):(w.tag=0,mt&&te&&ft(w),ul(null,w,J,D),w=w.child),w;case 16:R=w.elementType;e:{switch(pE(y,w),y=w.pendingProps,J=R._init,R=J(R._payload),w.type=R,J=w.tag=_Ne(R),y=Nd(R,y),J){case 0:w=U6(null,w,R,y,D);break e;case 1:w=FV(null,w,R,y,D);break e;case 11:w=EV(null,w,R,y,D);break e;case 14:w=BV(null,w,R,Nd(R.type,y),D);break e}throw Error(n(306,R,""))}return w;case 0:return R=w.type,J=w.pendingProps,J=w.elementType===R?J:Nd(R,J),U6(y,w,R,J,D);case 1:return R=w.type,J=w.pendingProps,J=w.elementType===R?J:Nd(R,J),FV(y,w,R,J,D);case 3:e:{if(PV(w),y===null)throw Error(n(387));R=w.pendingProps,te=w.memoizedState,J=te.element,yj(y,w),yd(w,R,null,D);var ye=w.memoizedState;if(R=ye.element,te.isDehydrated)if(te={element:R,isDehydrated:!1,cache:ye.cache,pendingSuspenseBoundaries:ye.pendingSuspenseBoundaries,transitions:ye.transitions},w.updateQueue.baseState=te,w.memoizedState=te,w.flags&256){J=db(Error(n(423)),w),w=UV(y,w,R,D,J);break e}else if(R!==J){J=db(Error(n(424)),w),w=UV(y,w,R,D,J);break e}else for(gt=eo(w.stateNode.containerInfo.firstChild),Xe=w,mt=!0,xt=null,D=Er(w,null,R,D),w.child=D;D;)D.flags=D.flags&-3|4096,D=D.sibling;else{if(qn(),R===J){w=bA(y,w,D);break e}ul(y,w,R,D)}w=w.child}return w;case 5:return oE(w),y===null&&Mt(w),R=w.type,J=w.pendingProps,te=y!==null?y.memoizedProps:null,ye=J.children,pj(R,J)?ye=null:te!==null&&pj(R,te)&&(w.flags|=32),kV(y,w),ul(y,w,ye,D),w.child;case 6:return y===null&&Mt(w),null;case 13:return IV(y,w,D);case 4:return Cm(w,w.stateNode.containerInfo),R=w.pendingProps,y===null?w.child=Ss(w,null,R,D):ul(y,w,R,D),w.child;case 11:return R=w.type,J=w.pendingProps,J=w.elementType===R?J:Nd(R,J),EV(y,w,R,J,D);case 7:return ul(y,w,w.pendingProps,D),w.child;case 8:return ul(y,w,w.pendingProps.children,D),w.child;case 12:return ul(y,w,w.pendingProps.children,D),w.child;case 10:e:{if(R=w.type._context,J=w.pendingProps,te=w.memoizedProps,ye=J.value,zr(Sa,R._currentValue),R._currentValue=ye,te!==null)if(Nr(te.value,ye)){if(te.children===J.children&&!wo.current){w=bA(y,w,D);break e}}else for(te=w.child,te!==null&&(te.return=w);te!==null;){var Qe=te.dependencies;if(Qe!==null){ye=te.child;for(var Ke=Qe.firstContext;Ke!==null;){if(Ke.context===R){if(te.tag===1){Ke=Hl(-1,D&-D),Ke.tag=2;var dt=te.updateQueue;if(dt!==null){dt=dt.shared;var St=dt.pending;St===null?Ke.next=Ke:(Ke.next=St.next,St.next=Ke),dt.pending=Ke}}te.lanes|=D,Ke=te.alternate,Ke!==null&&(Ke.lanes|=D),Ql(te.return,D,w),Qe.lanes|=D;break}Ke=Ke.next}}else if(te.tag===10)ye=te.type===w.type?null:te.child;else if(te.tag===18){if(ye=te.return,ye===null)throw Error(n(341));ye.lanes|=D,Qe=ye.alternate,Qe!==null&&(Qe.lanes|=D),Ql(ye,D,w),ye=te.sibling}else ye=te.child;if(ye!==null)ye.return=te;else for(ye=te;ye!==null;){if(ye===w){ye=null;break}if(te=ye.sibling,te!==null){te.return=ye.return,ye=te;break}ye=ye.return}te=ye}ul(y,w,J.children,D),w=w.child}return w;case 9:return J=w.type,R=w.pendingProps.children,Mi(w,D),J=ms(J),R=R(J),w.flags|=1,ul(y,w,R,D),w.child;case 14:return R=w.type,J=Nd(R,w.pendingProps),J=Nd(R.type,J),BV(y,w,R,J,D);case 15:return DV(y,w,w.type,w.pendingProps,D);case 17:return R=w.type,J=w.pendingProps,J=w.elementType===R?J:Nd(R,J),pE(y,w),w.tag=1,jo(R)?(y=!0,gA(w)):y=!1,Mi(w,D),bV(w,R,J),k6(w,R,J,D),I6(null,w,R,!0,y,D);case 19:return MV(y,w,D);case 22:return TV(y,w,D)}throw Error(n(156,w.tag))};function lK(y,w){return rd(y,w)}function NNe(y,w,D,R){this.tag=y,this.key=D,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=w,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=R,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function xu(y,w,D,R){return new NNe(y,w,D,R)}function nP(y){return y=y.prototype,!(!y||!y.isReactComponent)}function _Ne(y){if(typeof y=="function")return nP(y)?1:0;if(y!=null){if(y=y.$$typeof,y===F)return 11;if(y===q)return 14}return 2}function Um(y,w){var D=y.alternate;return D===null?(D=xu(y.tag,w,y.key,y.mode),D.elementType=y.elementType,D.type=y.type,D.stateNode=y.stateNode,D.alternate=y,y.alternate=D):(D.pendingProps=w,D.type=y.type,D.flags=0,D.subtreeFlags=0,D.deletions=null),D.flags=y.flags&14680064,D.childLanes=y.childLanes,D.lanes=y.lanes,D.child=y.child,D.memoizedProps=y.memoizedProps,D.memoizedState=y.memoizedState,D.updateQueue=y.updateQueue,w=y.dependencies,D.dependencies=w===null?null:{lanes:w.lanes,firstContext:w.firstContext},D.sibling=y.sibling,D.index=y.index,D.ref=y.ref,D}function CE(y,w,D,R,J,te){var ye=2;if(R=y,typeof y=="function")nP(y)&&(ye=1);else if(typeof y=="string")ye=5;else e:switch(y){case C:return rv(D.children,J,te,w);case k:ye=8,J|=8;break;case T:return y=xu(12,D,w,J|2),y.elementType=T,y.lanes=te,y;case M:return y=xu(13,D,w,J),y.elementType=M,y.lanes=te,y;case S:return y=xu(19,D,w,J),y.elementType=S,y.lanes=te,y;case L:return SE(D,J,te,w);default:if(typeof y=="object"&&y!==null)switch(y.$$typeof){case O:ye=10;break e;case I:ye=9;break e;case F:ye=11;break e;case q:ye=14;break e;case U:ye=16,R=null;break e}throw Error(n(130,y==null?y:typeof y,""))}return w=xu(ye,D,w,J),w.elementType=y,w.type=R,w.lanes=te,w}function rv(y,w,D,R){return y=xu(7,y,R,w),y.lanes=D,y}function SE(y,w,D,R){return y=xu(22,y,R,w),y.elementType=L,y.lanes=D,y.stateNode={isHidden:!1},y}function rP(y,w,D){return y=xu(6,y,null,w),y.lanes=D,y}function iP(y,w,D){return w=xu(4,y.children!==null?y.children:[],y.key,w),w.lanes=D,w.stateNode={containerInfo:y.containerInfo,pendingChildren:null,implementation:y.implementation},w}function CNe(y,w,D,R,J){this.tag=w,this.containerInfo=y,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Dx(0),this.expirationTimes=Dx(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Dx(0),this.identifierPrefix=R,this.onRecoverableError=J,this.mutableSourceEagerHydrationData=null}function sP(y,w,D,R,J,te,ye,Qe,Ke){return y=new CNe(y,w,D,Qe,Ke),w===1?(w=1,te===!0&&(w|=8)):w=0,te=xu(3,null,null,w),y.current=te,te.stateNode=y,te.memoizedState={element:R,isDehydrated:D,cache:null,transitions:null,pendingSuspenseBoundaries:null},tb(te),y}function SNe(y,w,D){var R=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:_,key:R==null?null:""+R,children:y,containerInfo:w,implementation:D}}function cK(y){if(!y)return Qh;y=y._reactInternals;e:{if($i(y)!==y||y.tag!==1)throw Error(n(170));var w=y;do{switch(w.tag){case 3:w=w.stateNode.context;break e;case 1:if(jo(w.type)){w=w.stateNode.__reactInternalMemoizedMergedChildContext;break e}}w=w.return}while(w!==null);throw Error(n(171))}if(y.tag===1){var D=y.type;if(jo(D))return vj(y,D,w)}return w}function uK(y,w,D,R,J,te,ye,Qe,Ke){return y=sP(D,R,!0,y,J,te,ye,Qe,Ke),y.context=cK(null),D=y.current,R=dl(),J=Fm(D),te=Hl(R,J),te.callback=w??null,zl(D,te,J),y.current.lanes=J,Sh(y,J,R),Vl(y,R),y}function EE(y,w,D,R){var J=w.current,te=dl(),ye=Fm(J);return D=cK(D),w.context===null?w.context=D:w.pendingContext=D,w=Hl(te,ye),w.payload={element:y},R=R===void 0?null:R,R!==null&&(w.callback=R),y=zl(J,w,ye),y!==null&&(Sd(y,J,ye,te),xA(y,J,ye)),ye}function BE(y){if(y=y.current,!y.child)return null;switch(y.child.tag){case 5:return y.child.stateNode;default:return y.child.stateNode}}function dK(y,w){if(y=y.memoizedState,y!==null&&y.dehydrated!==null){var D=y.retryLane;y.retryLane=D!==0&&D<w?D:w}}function aP(y,w){dK(y,w),(y=y.alternate)&&dK(y,w)}function ENe(){return null}var hK=typeof reportError=="function"?reportError:function(y){console.error(y)};function oP(y){this._internalRoot=y}DE.prototype.render=oP.prototype.render=function(y){var w=this._internalRoot;if(w===null)throw Error(n(409));EE(y,w,null,null)},DE.prototype.unmount=oP.prototype.unmount=function(){var y=this._internalRoot;if(y!==null){this._internalRoot=null;var w=y.containerInfo;ev(function(){EE(null,y,null,null)}),w[Ca]=null}};function DE(y){this._internalRoot=y}DE.prototype.unstable_scheduleHydration=function(y){if(y){var w=ru();y={blockedOn:null,target:y,priority:w};for(var D=0;D<su.length&&w!==0&&w<su[D].priority;D++);su.splice(D,0,y),D===0&&Zp(y)}};function lP(y){return!(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)}function TE(y){return!(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11&&(y.nodeType!==8||y.nodeValue!==" react-mount-point-unstable "))}function fK(){}function BNe(y,w,D,R,J){if(J){if(typeof R=="function"){var te=R;R=function(){var dt=BE(ye);te.call(dt)}}var ye=uK(w,R,y,0,null,!1,!1,"",fK);return y._reactRootContainer=ye,y[Ca]=ye.current,hA(y.nodeType===8?y.parentNode:y),ev(),ye}for(;J=y.lastChild;)y.removeChild(J);if(typeof R=="function"){var Qe=R;R=function(){var dt=BE(Ke);Qe.call(dt)}}var Ke=sP(y,0,!1,null,null,!1,!1,"",fK);return y._reactRootContainer=Ke,y[Ca]=Ke.current,hA(y.nodeType===8?y.parentNode:y),ev(function(){EE(w,Ke,D,R)}),Ke}function kE(y,w,D,R,J){var te=D._reactRootContainer;if(te){var ye=te;if(typeof J=="function"){var Qe=J;J=function(){var Ke=BE(ye);Qe.call(Ke)}}EE(w,ye,y,J)}else ye=BNe(D,w,y,J,R);return BE(ye)}$y=function(y){switch(y.tag){case 3:var w=y.stateNode;if(w.current.memoizedState.isDehydrated){var D=Gf(w.pendingLanes);D!==0&&(Xp(w,D|1),Vl(w,hi()),(_r&6)===0&&(Ab=hi()+500,ne()))}break;case 13:ev(function(){var R=Br(y,1);if(R!==null){var J=dl();Sd(R,y,1,J)}}),aP(y,1)}},Tx=function(y){if(y.tag===13){var w=Br(y,134217728);if(w!==null){var D=dl();Sd(w,y,134217728,D)}aP(y,134217728)}},Wy=function(y){if(y.tag===13){var w=Fm(y),D=Br(y,w);if(D!==null){var R=dl();Sd(D,y,w,R)}aP(y,w)}},ru=function(){return jr},Yf=function(y,w){var D=jr;try{return jr=y,w()}finally{jr=D}},lr=function(y,w,D){switch(w){case"input":if(de(y,D),w=D.name,D.type==="radio"&&w!=null){for(D=y;D.parentNode;)D=D.parentNode;for(D=D.querySelectorAll("input[name="+JSON.stringify(""+w)+'][type="radio"]'),w=0;w<D.length;w++){var R=D[w];if(R!==y&&R.form===y.form){var J=Kx(R);if(!J)throw Error(n(90));Ie(R),de(R,J)}}}break;case"textarea":Ce(y,D);break;case"select":w=D.value,w!=null&&ze(y,!!D.multiple,w,!1)}},ln=Z6,kn=ev;var DNe={usingClientEntryPoint:!1,Events:[wm,pA,Kx,Je,wt,Z6]},Tj={findFiberByHostInstance:Rh,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},TNe={bundleType:Tj.bundleType,version:Tj.version,rendererPackageName:Tj.rendererPackageName,rendererConfig:Tj.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:j.ReactCurrentDispatcher,findHostInstanceByFiber:function(y){return y=eu(y),y===null?null:y.stateNode},findFiberByHostInstance:Tj.findFiberByHostInstance||ENe,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var FE=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!FE.isDisabled&&FE.supportsFiber)try{ad=FE.inject(TNe),po=FE}catch{}}return Kl.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=DNe,Kl.createPortal=function(y,w){var D=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!lP(w))throw Error(n(200));return SNe(y,w,null,D)},Kl.createRoot=function(y,w){if(!lP(y))throw Error(n(299));var D=!1,R="",J=hK;return w!=null&&(w.unstable_strictMode===!0&&(D=!0),w.identifierPrefix!==void 0&&(R=w.identifierPrefix),w.onRecoverableError!==void 0&&(J=w.onRecoverableError)),w=sP(y,1,!1,null,null,D,!1,R,J),y[Ca]=w.current,hA(y.nodeType===8?y.parentNode:y),new oP(w)},Kl.findDOMNode=function(y){if(y==null)return null;if(y.nodeType===1)return y;var w=y._reactInternals;if(w===void 0)throw typeof y.render=="function"?Error(n(188)):(y=Object.keys(y).join(","),Error(n(268,y)));return y=eu(w),y=y===null?null:y.stateNode,y},Kl.flushSync=function(y){return ev(y)},Kl.hydrate=function(y,w,D){if(!TE(w))throw Error(n(200));return kE(null,y,w,!0,D)},Kl.hydrateRoot=function(y,w,D){if(!lP(y))throw Error(n(405));var R=D!=null&&D.hydratedSources||null,J=!1,te="",ye=hK;if(D!=null&&(D.unstable_strictMode===!0&&(J=!0),D.identifierPrefix!==void 0&&(te=D.identifierPrefix),D.onRecoverableError!==void 0&&(ye=D.onRecoverableError)),w=uK(w,null,y,1,D??null,J,!1,te,ye),y[Ca]=w.current,hA(y),R)for(y=0;y<R.length;y++)D=R[y],J=D._getVersion,J=J(D._source),w.mutableSourceEagerHydrationData==null?w.mutableSourceEagerHydrationData=[D,J]:w.mutableSourceEagerHydrationData.push(D,J);return new DE(w)},Kl.render=function(y,w,D){if(!TE(w))throw Error(n(200));return kE(null,y,w,!1,D)},Kl.unmountComponentAtNode=function(y){if(!TE(y))throw Error(n(40));return y._reactRootContainer?(ev(function(){kE(null,null,y,!1,function(){y._reactRootContainer=null,y[Ca]=null})}),!0):!1},Kl.unstable_batchedUpdates=Z6,Kl.unstable_renderSubtreeIntoContainer=function(y,w,D,R){if(!TE(D))throw Error(n(200));if(y==null||y._reactInternals===void 0)throw Error(n(38));return kE(y,w,D,!1,R)},Kl.version="18.3.1-next-f1338f8080-20240426",Kl}var wK;function Kle(){if(wK)return hP.exports;wK=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),hP.exports=HNe(),hP.exports}var jK;function zNe(){if(jK)return PE;jK=1;var t=Kle();return PE.createRoot=t.createRoot,PE.hydrateRoot=t.hydrateRoot,PE}var $Ne=zNe();const WNe=t=>t instanceof Error?t.message+`
`+t.stack:JSON.stringify(t,null,2);class qNe extends pe.Component{constructor(e){super(e),this.state={hasError:!1,error:null}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}render(){return this.state.hasError?i.jsxs("div",{className:"p-4 border border-red-500 rounded",children:[i.jsx("h2",{className:"text-red-500",children:"Something went wrong."}),i.jsx("pre",{className:"mt-2 text-sm",children:WNe(this.state.error)})]}):this.props.children}}var U2=Kle();const VNe=wr(U2);/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function y_(){return y_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},y_.apply(this,arguments)}var Pg;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Pg||(Pg={}));const NK="popstate";function KNe(t){t===void 0&&(t={});function e(r,s){let{pathname:a,search:o,hash:l}=r.location;return iR("",{pathname:a,search:o,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:ED(s)}return XNe(e,n,null,t)}function Zs(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Gle(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function GNe(){return Math.random().toString(36).substr(2,8)}function _K(t,e){return{usr:t.state,key:t.key,idx:e}}function iR(t,e,n,r){return n===void 0&&(n=null),y_({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?I2(e):e,{state:n,key:e&&e.key||r||GNe()})}function ED(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function I2(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function XNe(t,e,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:a=!1}=r,o=s.history,l=Pg.Pop,c=null,u=d();u==null&&(u=0,o.replaceState(y_({},o.state,{idx:u}),""));function d(){return(o.state||{idx:null}).idx}function h(){l=Pg.Pop;let m=d(),g=m==null?null:m-u;u=m,c&&c({action:l,location:p.location,delta:g})}function f(m,g){l=Pg.Push;let x=iR(p.location,m,g);u=d()+1;let b=_K(x,u),j=p.createHref(x);try{o.pushState(b,"",j)}catch(N){if(N instanceof DOMException&&N.name==="DataCloneError")throw N;s.location.assign(j)}a&&c&&c({action:l,location:p.location,delta:1})}function A(m,g){l=Pg.Replace;let x=iR(p.location,m,g);u=d();let b=_K(x,u),j=p.createHref(x);o.replaceState(b,"",j),a&&c&&c({action:l,location:p.location,delta:0})}function v(m){let g=s.location.origin!=="null"?s.location.origin:s.location.href,x=typeof m=="string"?m:ED(m);return x=x.replace(/ $/,"%20"),Zs(g,"No window.location.(origin|href) available to create URL for href: "+x),new URL(x,g)}let p={get action(){return l},get location(){return t(s,o)},listen(m){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(NK,h),c=m,()=>{s.removeEventListener(NK,h),c=null}},createHref(m){return e(s,m)},createURL:v,encodeLocation(m){let g=v(m);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:f,replace:A,go(m){return o.go(m)}};return p}var CK;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(CK||(CK={}));function YNe(t,e,n){return n===void 0&&(n="/"),JNe(t,e,n)}function JNe(t,e,n,r){let s=typeof e=="string"?I2(e):e,a=KH(s.pathname||"/",n);if(a==null)return null;let o=Xle(t);ZNe(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let u=d_e(a);l=l_e(o[c],u)}return l}function Xle(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(a,o,l)=>{let c={relativePath:l===void 0?a.path||"":l,caseSensitive:a.caseSensitive===!0,childrenIndex:o,route:a};c.relativePath.startsWith("/")&&(Zs(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let u=Hg([r,c.relativePath]),d=n.concat(c);a.children&&a.children.length>0&&(Zs(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),Xle(a.children,e,d,u)),!(a.path==null&&!a.index)&&e.push({path:u,score:a_e(u,a.index),routesMeta:d})};return t.forEach((a,o)=>{var l;if(a.path===""||!((l=a.path)!=null&&l.includes("?")))s(a,o);else for(let c of Yle(a.path))s(a,o,c)}),e}function Yle(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),a=n.replace(/\?$/,"");if(r.length===0)return s?[a,""]:[a];let o=Yle(r.join("/")),l=[];return l.push(...o.map(c=>c===""?a:[a,c].join("/"))),s&&l.push(...o),l.map(c=>t.startsWith("/")&&c===""?"/":c)}function ZNe(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:o_e(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const e_e=/^:[\w-]+$/,t_e=3,n_e=2,r_e=1,i_e=10,s_e=-2,SK=t=>t==="*";function a_e(t,e){let n=t.split("/"),r=n.length;return n.some(SK)&&(r+=s_e),e&&(r+=n_e),n.filter(s=>!SK(s)).reduce((s,a)=>s+(e_e.test(a)?t_e:a===""?r_e:i_e),r)}function o_e(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function l_e(t,e,n){let{routesMeta:r}=t,s={},a="/",o=[];for(let l=0;l<r.length;++l){let c=r[l],u=l===r.length-1,d=a==="/"?e:e.slice(a.length)||"/",h=c_e({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),f=c.route;if(!h)return null;Object.assign(s,h.params),o.push({params:s,pathname:Hg([a,h.pathname]),pathnameBase:p_e(Hg([a,h.pathnameBase])),route:f}),h.pathnameBase!=="/"&&(a=Hg([a,h.pathnameBase]))}return o}function c_e(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=u_e(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let a=s[0],o=a.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:r.reduce((u,d,h)=>{let{paramName:f,isOptional:A}=d;if(f==="*"){let p=l[h]||"";o=a.slice(0,a.length-p.length).replace(/(.)\/+$/,"$1")}const v=l[h];return A&&!v?u[f]=void 0:u[f]=(v||"").replace(/%2F/g,"/"),u},{}),pathname:a,pathnameBase:o,pattern:t}}function u_e(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),Gle(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(r.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function d_e(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Gle(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function KH(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function h_e(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?I2(t):t;return{pathname:n?n.startsWith("/")?n:f_e(n,e):e,search:m_e(r),hash:g_e(s)}}function f_e(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function pP(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function A_e(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Jle(t,e){let n=A_e(t);return e?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Zle(t,e,n,r){r===void 0&&(r=!1);let s;typeof t=="string"?s=I2(t):(s=y_({},t),Zs(!s.pathname||!s.pathname.includes("?"),pP("?","pathname","search",s)),Zs(!s.pathname||!s.pathname.includes("#"),pP("#","pathname","hash",s)),Zs(!s.search||!s.search.includes("#"),pP("#","search","hash",s)));let a=t===""||s.pathname==="",o=a?"/":s.pathname,l;if(o==null)l=n;else{let h=e.length-1;if(!r&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),h-=1;s.pathname=f.join("/")}l=h>=0?e[h]:"/"}let c=h_e(s,l),u=o&&o!=="/"&&o.endsWith("/"),d=(a||o===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const Hg=t=>t.join("/").replace(/\/\/+/g,"/"),p_e=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),m_e=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,g_e=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function x_e(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const ece=["post","put","patch","delete"];new Set(ece);const v_e=["get",...ece];new Set(v_e);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function b_(){return b_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},b_.apply(this,arguments)}const GH=E.createContext(null),y_e=E.createContext(null),_y=E.createContext(null),rk=E.createContext(null),Cy=E.createContext({outlet:null,matches:[],isDataRoute:!1}),tce=E.createContext(null);function b_e(t,e){let{relative:n}=e===void 0?{}:e;fS()||Zs(!1);let{basename:r,navigator:s}=E.useContext(_y),{hash:a,pathname:o,search:l}=ice(t,{relative:n}),c=o;return r!=="/"&&(c=o==="/"?r:Hg([r,o])),s.createHref({pathname:c,search:l,hash:a})}function fS(){return E.useContext(rk)!=null}function Sy(){return fS()||Zs(!1),E.useContext(rk).location}function nce(t){E.useContext(_y).static||E.useLayoutEffect(t)}function rce(){let{isDataRoute:t}=E.useContext(Cy);return t?P_e():w_e()}function w_e(){fS()||Zs(!1);let t=E.useContext(GH),{basename:e,future:n,navigator:r}=E.useContext(_y),{matches:s}=E.useContext(Cy),{pathname:a}=Sy(),o=JSON.stringify(Jle(s,n.v7_relativeSplatPath)),l=E.useRef(!1);return nce(()=>{l.current=!0}),E.useCallback(function(u,d){if(d===void 0&&(d={}),!l.current)return;if(typeof u=="number"){r.go(u);return}let h=Zle(u,JSON.parse(o),a,d.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:Hg([e,h.pathname])),(d.replace?r.replace:r.push)(h,d.state,d)},[e,r,o,a,t])}function ice(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=E.useContext(_y),{matches:s}=E.useContext(Cy),{pathname:a}=Sy(),o=JSON.stringify(Jle(s,r.v7_relativeSplatPath));return E.useMemo(()=>Zle(t,JSON.parse(o),a,n==="path"),[t,o,a,n])}function j_e(t,e){return N_e(t,e)}function N_e(t,e,n,r){fS()||Zs(!1);let{navigator:s}=E.useContext(_y),{matches:a}=E.useContext(Cy),o=a[a.length-1],l=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let u=Sy(),d;if(e){var h;let m=typeof e=="string"?I2(e):e;c==="/"||(h=m.pathname)!=null&&h.startsWith(c)||Zs(!1),d=m}else d=u;let f=d.pathname||"/",A=f;if(c!=="/"){let m=c.replace(/^\//,"").split("/");A="/"+f.replace(/^\//,"").split("/").slice(m.length).join("/")}let v=YNe(t,{pathname:A}),p=B_e(v&&v.map(m=>Object.assign({},m,{params:Object.assign({},l,m.params),pathname:Hg([c,s.encodeLocation?s.encodeLocation(m.pathname).pathname:m.pathname]),pathnameBase:m.pathnameBase==="/"?c:Hg([c,s.encodeLocation?s.encodeLocation(m.pathnameBase).pathname:m.pathnameBase])})),a,n,r);return e&&p?E.createElement(rk.Provider,{value:{location:b_({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Pg.Pop}},p):p}function __e(){let t=F_e(),e=x_e(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return E.createElement(E.Fragment,null,E.createElement("h2",null,"Unexpected Application Error!"),E.createElement("h3",{style:{fontStyle:"italic"}},e),n?E.createElement("pre",{style:s},n):null,null)}const C_e=E.createElement(__e,null);class S_e extends E.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?E.createElement(Cy.Provider,{value:this.props.routeContext},E.createElement(tce.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function E_e(t){let{routeContext:e,match:n,children:r}=t,s=E.useContext(GH);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),E.createElement(Cy.Provider,{value:e},r)}function B_e(t,e,n,r){var s;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var a;if(!n)return null;if(n.errors)t=n.matches;else if((a=r)!=null&&a.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,l=(s=n)==null?void 0:s.errors;if(l!=null){let d=o.findIndex(h=>h.route.id&&(l==null?void 0:l[h.route.id])!==void 0);d>=0||Zs(!1),o=o.slice(0,Math.min(o.length,d+1))}let c=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<o.length;d++){let h=o[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(u=d),h.route.id){let{loaderData:f,errors:A}=n,v=h.route.loader&&f[h.route.id]===void 0&&(!A||A[h.route.id]===void 0);if(h.route.lazy||v){c=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((d,h,f)=>{let A,v=!1,p=null,m=null;n&&(A=l&&h.route.id?l[h.route.id]:void 0,p=h.route.errorElement||C_e,c&&(u<0&&f===0?(U_e("route-fallback"),v=!0,m=null):u===f&&(v=!0,m=h.route.hydrateFallbackElement||null)));let g=e.concat(o.slice(0,f+1)),x=()=>{let b;return A?b=p:v?b=m:h.route.Component?b=E.createElement(h.route.Component,null):h.route.element?b=h.route.element:b=d,E.createElement(E_e,{match:h,routeContext:{outlet:d,matches:g,isDataRoute:n!=null},children:b})};return n&&(h.route.ErrorBoundary||h.route.errorElement||f===0)?E.createElement(S_e,{location:n.location,revalidation:n.revalidation,component:p,error:A,children:x(),routeContext:{outlet:null,matches:g,isDataRoute:!0}}):x()},null)}var sce=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(sce||{}),ace=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(ace||{});function D_e(t){let e=E.useContext(GH);return e||Zs(!1),e}function T_e(t){let e=E.useContext(y_e);return e||Zs(!1),e}function k_e(t){let e=E.useContext(Cy);return e||Zs(!1),e}function oce(t){let e=k_e(),n=e.matches[e.matches.length-1];return n.route.id||Zs(!1),n.route.id}function F_e(){var t;let e=E.useContext(tce),n=T_e(),r=oce();return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function P_e(){let{router:t}=D_e(sce.UseNavigateStable),e=oce(ace.UseNavigateStable),n=E.useRef(!1);return nce(()=>{n.current=!0}),E.useCallback(function(s,a){a===void 0&&(a={}),n.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,b_({fromRouteId:e},a)))},[t,e])}const EK={};function U_e(t,e,n){EK[t]||(EK[t]=!0)}function I_e(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function la(t){Zs(!1)}function O_e(t){let{basename:e="/",children:n=null,location:r,navigationType:s=Pg.Pop,navigator:a,static:o=!1,future:l}=t;fS()&&Zs(!1);let c=e.replace(/^\/*/,"/"),u=E.useMemo(()=>({basename:c,navigator:a,static:o,future:b_({v7_relativeSplatPath:!1},l)}),[c,l,a,o]);typeof r=="string"&&(r=I2(r));let{pathname:d="/",search:h="",hash:f="",state:A=null,key:v="default"}=r,p=E.useMemo(()=>{let m=KH(d,c);return m==null?null:{location:{pathname:m,search:h,hash:f,state:A,key:v},navigationType:s}},[c,d,h,f,A,v,s]);return p==null?null:E.createElement(_y.Provider,{value:u},E.createElement(rk.Provider,{children:n,value:p}))}function M_e(t){let{children:e,location:n}=t;return j_e(sR(e),n)}new Promise(()=>{});function sR(t,e){e===void 0&&(e=[]);let n=[];return E.Children.forEach(t,(r,s)=>{if(!E.isValidElement(r))return;let a=[...e,s];if(r.type===E.Fragment){n.push.apply(n,sR(r.props.children,a));return}r.type!==la&&Zs(!1),!r.props.index||!r.props.children||Zs(!1);let o={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=sR(r.props.children,a)),n.push(o)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function aR(){return aR=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},aR.apply(this,arguments)}function L_e(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,a;for(a=0;a<r.length;a++)s=r[a],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function R_e(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function Q_e(t,e){return t.button===0&&(!e||e==="_self")&&!R_e(t)}const H_e=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],z_e="6";try{window.__reactRouterVersion=z_e}catch{}const $_e="startTransition",BK=nk[$_e];function W_e(t){let{basename:e,children:n,future:r,window:s}=t,a=E.useRef();a.current==null&&(a.current=KNe({window:s,v5Compat:!0}));let o=a.current,[l,c]=E.useState({action:o.action,location:o.location}),{v7_startTransition:u}=r||{},d=E.useCallback(h=>{u&&BK?BK(()=>c(h)):c(h)},[c,u]);return E.useLayoutEffect(()=>o.listen(d),[o,d]),E.useEffect(()=>I_e(r),[r]),E.createElement(O_e,{basename:e,children:n,location:l.location,navigationType:l.action,navigator:o,future:r})}const q_e=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",V_e=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,PA=E.forwardRef(function(e,n){let{onClick:r,relative:s,reloadDocument:a,replace:o,state:l,target:c,to:u,preventScrollReset:d,viewTransition:h}=e,f=L_e(e,H_e),{basename:A}=E.useContext(_y),v,p=!1;if(typeof u=="string"&&V_e.test(u)&&(v=u,q_e))try{let b=new URL(window.location.href),j=u.startsWith("//")?new URL(b.protocol+u):new URL(u),N=KH(j.pathname,A);j.origin===b.origin&&N!=null?u=N+j.search+j.hash:p=!0}catch{}let m=b_e(u,{relative:s}),g=K_e(u,{replace:o,state:l,target:c,preventScrollReset:d,relative:s,viewTransition:h});function x(b){r&&r(b),b.defaultPrevented||g(b)}return E.createElement("a",aR({},f,{href:v||m,onClick:p||a?r:x,ref:n,target:c}))});var DK;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(DK||(DK={}));var TK;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(TK||(TK={}));function K_e(t,e){let{target:n,replace:r,state:s,preventScrollReset:a,relative:o,viewTransition:l}=e===void 0?{}:e,c=rce(),u=Sy(),d=ice(t,{relative:o});return E.useCallback(h=>{if(Q_e(h,n)){h.preventDefault();let f=r!==void 0?r:ED(u)===ED(d);c(t,{replace:f,state:s,preventScrollReset:a,relative:o,viewTransition:l})}},[u,c,d,r,s,n,t,a,o,l])}/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var G_e={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X_e=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const At=(t,e)=>{const n=E.forwardRef(({color:r="currentColor",size:s=24,strokeWidth:a=2,absoluteStrokeWidth:o,className:l="",children:c,...u},d)=>E.createElement("svg",{ref:d,...G_e,width:s,height:s,stroke:r,strokeWidth:o?Number(a)*24/Number(s):a,className:["lucide",`lucide-${X_e(t)}`,l].join(" "),...u},[...e.map(([h,f])=>E.createElement(h,f)),...Array.isArray(c)?c:[c]]));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rs=At("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y_e=At("Archive",[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J_e=At("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AS=At("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ea=At("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z_e=At("ArrowUpDown",[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lce=At("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const za=At("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hs=At("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sB=At("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e5e=At("BookHeart",[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H20v20H6.5a2.5 2.5 0 0 1 0-5H20",key:"t4utmx"}],["path",{d:"M16 8.2C16 7 15 6 13.8 6c-.8 0-1.4.3-1.8.9-.4-.6-1-.9-1.8-.9C9 6 8 7 8 8.2c0 .6.3 1.2.7 1.6h0C10 11.1 12 13 12 13s2-1.9 3.3-3.1h0c.4-.4.7-1 .7-1.7z",key:"1dlbw1"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dr=At("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t5e=At("Book",[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H20v20H6.5a2.5 2.5 0 0 1 0-5H20",key:"t4utmx"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rh=At("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zt=At("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kK=At("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wp=At("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oR=At("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O2=At("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XH=At("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n5e=At("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pS=At("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cce=At("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jl=At("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rt=At("CircleCheckBig",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r5e=At("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ny=At("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i5e=At("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xr=At("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w_=At("Code",[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uce=At("Compass",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polygon",{points:"16.24 7.76 14.12 14.12 7.76 16.24 9.88 9.88 16.24 7.76",key:"m9r19z"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s5e=At("Contrast",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 18a6 6 0 0 0 0-12v12z",key:"j4l70d"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dce=At("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j_=At("Cpu",[["rect",{width:"16",height:"16",x:"4",y:"4",rx:"2",key:"14l7u7"}],["rect",{width:"6",height:"6",x:"9",y:"9",rx:"1",key:"5aljv4"}],["path",{d:"M15 2v2",key:"13l42r"}],["path",{d:"M15 20v2",key:"15mkzm"}],["path",{d:"M2 15h2",key:"1gxd5l"}],["path",{d:"M2 9h2",key:"1bbxkp"}],["path",{d:"M20 15h2",key:"19e6y8"}],["path",{d:"M20 9h2",key:"19tzq7"}],["path",{d:"M9 2v2",key:"165o2o"}],["path",{d:"M9 20v2",key:"i2bqo8"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jb=At("Crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N_=At("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gr=At("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mS=At("Earth",[["path",{d:"M21.54 15H17a2 2 0 0 0-2 2v4.54",key:"1djwo0"}],["path",{d:"M7 3.34V5a3 3 0 0 0 3 3v0a2 2 0 0 1 2 2v0c0 1.1.9 2 2 2v0a2 2 0 0 0 2-2v0c0-1.1.9-2 2-2h3.17",key:"1fi5u6"}],["path",{d:"M11 21.95V18a2 2 0 0 0-2-2v0a2 2 0 0 1-2-2v-1a2 2 0 0 0-2-2H2.05",key:"xsiumc"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hce=At("EllipsisVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FK=At("Ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p1=At("Expand",[["path",{d:"m21 21-6-6m6 6v-4.8m0 4.8h-4.8",key:"1c15vz"}],["path",{d:"M3 16.2V21m0 0h4.8M3 21l6-6",key:"1fsnz2"}],["path",{d:"M21 7.8V3m0 0h-4.8M21 3l-6 6",key:"hawz9i"}],["path",{d:"M3 7.8V3m0 0h4.8M3 3l6 6",key:"u9ee12"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a5e=At("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aB=At("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vn=At("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mP=At("FileImage",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["circle",{cx:"10",cy:"12",r:"2",key:"737tya"}],["path",{d:"m20 17-1.296-1.296a2.41 2.41 0 0 0-3.408 0L9 22",key:"wt3hpn"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xn=At("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fce=At("Film",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M7 3v18",key:"bbkbws"}],["path",{d:"M3 7.5h4",key:"zfgn84"}],["path",{d:"M3 12h18",key:"1i2n21"}],["path",{d:"M3 16.5h4",key:"1230mu"}],["path",{d:"M17 3v18",key:"in4fa5"}],["path",{d:"M17 7.5h4",key:"myr1c1"}],["path",{d:"M17 16.5h4",key:"go4c1d"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gS=At("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o5e=At("Flower",[["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}],["path",{d:"M12 16.5A4.5 4.5 0 1 1 7.5 12 4.5 4.5 0 1 1 12 7.5a4.5 4.5 0 1 1 4.5 4.5 4.5 4.5 0 1 1-4.5 4.5",key:"14wa3c"}],["path",{d:"M12 7.5V9",key:"1oy5b0"}],["path",{d:"M7.5 12H9",key:"eltsq1"}],["path",{d:"M16.5 12H15",key:"vk5kw4"}],["path",{d:"M12 16.5V15",key:"k7eayi"}],["path",{d:"m8 8 1.88 1.88",key:"nxy4qf"}],["path",{d:"M14.12 9.88 16 8",key:"1lst6k"}],["path",{d:"m8 16 1.88-1.88",key:"h2eex1"}],["path",{d:"M14.12 14.12 16 16",key:"uqkrx3"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PK=At("Focus",[["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}],["path",{d:"M3 7V5a2 2 0 0 1 2-2h2",key:"aa7l1z"}],["path",{d:"M17 3h2a2 2 0 0 1 2 2v2",key:"4qcy5o"}],["path",{d:"M21 17v2a2 2 0 0 1-2 2h-2",key:"6vwrx8"}],["path",{d:"M7 21H5a2 2 0 0 1-2-2v-2",key:"ioqczr"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BD=At("FolderOpen",[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l5e=At("Frown",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M16 16s-1.5-2-4-2-4 2-4 2",key:"epbg0q"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ace=At("Gauge",[["path",{d:"m12 14 4-4",key:"9kzdfg"}],["path",{d:"M3.34 19a10 10 0 1 1 17.32 0",key:"19p75a"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pce=At("GitBranch",[["line",{x1:"6",x2:"6",y1:"3",y2:"15",key:"17qcm7"}],["circle",{cx:"18",cy:"6",r:"3",key:"1h7g24"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M18 9a9 9 0 0 1-9 9",key:"n2h4wq"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c5e=At("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u5e=At("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d5e=At("GripVertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mce=At("HardDrive",[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ta=At("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gce=At("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h5e=At("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Go=At("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mp=At("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nr=At("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tv=At("Link2",[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f5e=At("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ik=At("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xS=At("Maximize2",[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A5e=At("Meh",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"8",x2:"16",y1:"15",y2:"15",key:"1xb1d9"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xce=At("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $u=At("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lR=At("Microscope",[["path",{d:"M6 18h8",key:"1borvv"}],["path",{d:"M3 22h18",key:"8prr45"}],["path",{d:"M14 22a7 7 0 1 0 0-14h-1",key:"1jwaiy"}],["path",{d:"M9 14h2",key:"197e7h"}],["path",{d:"M9 12a2 2 0 0 1-2-2V6h6v4a2 2 0 0 1-2 2Z",key:"1bmzmy"}],["path",{d:"M12 6V3a1 1 0 0 0-1-1H9a1 1 0 0 0-1 1v3",key:"1drr47"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ry=At("Minimize2",[["polyline",{points:"4 14 10 14 10 20",key:"11kfnr"}],["polyline",{points:"20 10 14 10 14 4",key:"rlmsce"}],["line",{x1:"14",x2:"21",y1:"10",y2:"3",key:"o5lafz"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YH=At("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gP=At("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jv=At("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p5e=At("MousePointer",[["path",{d:"m3 3 7.07 16.97 2.51-7.39 7.39-2.51L3 3z",key:"y2ucgo"}],["path",{d:"m13 13 6 6",key:"1nhxnf"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DD=At("Navigation",[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TD=At("Network",[["rect",{x:"16",y:"16",width:"6",height:"6",rx:"1",key:"4q2zg0"}],["rect",{x:"2",y:"16",width:"6",height:"6",rx:"1",key:"8cvhb9"}],["rect",{x:"9",y:"2",width:"6",height:"6",rx:"1",key:"1egb70"}],["path",{d:"M5 16v-3a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3",key:"1jsf9p"}],["path",{d:"M12 12V8",key:"2874zd"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vce=At("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wa=At("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jp=At("Pause",[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gu=At("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.5 3.5a2.12 2.12 0 0 1 3 3L7 19l-4 1 1-4Z",key:"ymcmye"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ga=At("PenTool",[["path",{d:"m12 19 7-7 3 3-7 7-3-3z",key:"rklqx2"}],["path",{d:"m18 13-1.5-7.5L2 2l3.5 14.5L13 18l5-5z",key:"1et58u"}],["path",{d:"m2 2 7.586 7.586",key:"etlp93"}],["circle",{cx:"11",cy:"11",r:"2",key:"xmgehs"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m5e=At("PieChart",[["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}],["path",{d:"M22 12A10 10 0 0 0 12 2v10z",key:"1rfc4y"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sk=At("PinOff",[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["line",{x1:"12",x2:"12",y1:"17",y2:"22",key:"1jrz49"}],["path",{d:"M9 9v1.76a2 2 0 0 1-1.11 1.79l-1.78.9A2 2 0 0 0 5 15.24V17h12",key:"13x2n8"}],["path",{d:"M15 9.34V6h1a2 2 0 0 0 0-4H7.89",key:"reo3ki"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ak=At("Pin",[["line",{x1:"12",x2:"12",y1:"17",y2:"22",key:"1jrz49"}],["path",{d:"M5 17h14v-1.76a2 2 0 0 0-1.11-1.79l-1.78-.9A2 2 0 0 1 15 10.76V6h1a2 2 0 0 0 0-4H8a2 2 0 0 0 0 4h1v4.76a2 2 0 0 1-1.11 1.79l-1.78.9A2 2 0 0 0 5 15.24Z",key:"13yl11"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xa=At("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const us=At("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cR=At("Quote",[["path",{d:"M3 21c3 0 7-1 7-8V5c0-1.25-.756-2.017-2-2H4c-1.25 0-2 .75-2 1.972V11c0 1.25.75 2 2 2 1 0 1 0 1 1v1c0 1-1 2-2 2s-1 .008-1 1.031V20c0 1 0 1 1 1z",key:"4rm80e"}],["path",{d:"M15 21c3 0 7-1 7-8V5c0-1.25-.757-2.017-2-2h-4c-1.25 0-2 .75-2 1.972V11c0 1.25.75 2 2 2h.75c0 2.25.25 4-2.75 4v3c0 1 0 1 1 1z",key:"10za9r"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ar=At("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yce=At("Repeat",[["path",{d:"m17 2 4 4-4 4",key:"nntrym"}],["path",{d:"M3 11v-1a4 4 0 0 1 4-4h14",key:"84bu3i"}],["path",{d:"m7 22-4-4 4-4",key:"1wqhfi"}],["path",{d:"M21 13v1a4 4 0 0 1-4 4H3",key:"1rx37r"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g5e=At("Rocket",[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dx=At("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ko=At("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xP=At("Scale",[["path",{d:"m16 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"7g6ntu"}],["path",{d:"m2 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"ijws7r"}],["path",{d:"M7 21h10",key:"1b0cd5"}],["path",{d:"M12 3v18",key:"108xh3"}],["path",{d:"M3 7h2c2 0 5-1 7-2 2 1 5 2 7 2h2",key:"3gwbw2"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kl=At("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __=At("Settings2",[["path",{d:"M20 7h-9",key:"3s1dr2"}],["path",{d:"M14 17H5",key:"gfn3mx"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}],["circle",{cx:"7",cy:"7",r:"3",key:"dfmy0x"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qr=At("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ey=At("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x5e=At("Share",[["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["polyline",{points:"16 6 12 2 8 6",key:"m901s6"}],["line",{x1:"12",x2:"12",y1:"2",y2:"15",key:"1p0rca"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XN=At("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oB=At("Shrink",[["path",{d:"m15 15 6 6m-6-6v4.8m0-4.8h4.8",key:"17vawe"}],["path",{d:"M9 19.8V15m0 0H4.2M9 15l-6 6",key:"chjx8e"}],["path",{d:"M15 4.2V9m0 0h4.8M15 9l6-6",key:"lav6yq"}],["path",{d:"M9 4.2V9m0 0H4.2M9 9 3 3",key:"1pxi2q"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v5e=At("Shuffle",[["path",{d:"M2 18h1.4c1.3 0 2.5-.6 3.3-1.7l6.1-8.6c.7-1.1 2-1.7 3.3-1.7H22",key:"1wmou1"}],["path",{d:"m18 2 4 4-4 4",key:"pucp1d"}],["path",{d:"M2 6h1.9c1.5 0 2.9.9 3.6 2.2",key:"10bdb2"}],["path",{d:"M22 18h-5.9c-1.3 0-2.6-.7-3.3-1.8l-.5-.8",key:"vgxac0"}],["path",{d:"m18 14 4 4-4 4",key:"10pe0f"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y5e=At("SkipBack",[["polygon",{points:"19 20 9 12 19 4 19 20",key:"o2sva"}],["line",{x1:"5",x2:"5",y1:"19",y2:"5",key:"1ocqjk"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b5e=At("SkipForward",[["polygon",{points:"5 4 15 12 5 20 5 4",key:"16p6eg"}],["line",{x1:"19",x2:"19",y1:"5",y2:"19",key:"futhcm"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w5e=At("Smile",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qn=At("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j5e=At("Split",[["path",{d:"M16 3h5v5",key:"1806ms"}],["path",{d:"M8 3H3v5",key:"15dfkv"}],["path",{d:"M12 22v-8.3a4 4 0 0 0-1.172-2.872L3 3",key:"1qrqzj"}],["path",{d:"m15 9 6-6",key:"ko1vev"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uR=At("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kD=At("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tr=At("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N5e=At("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _5e=At("Sunrise",[["path",{d:"M12 2v8",key:"1q4o3n"}],["path",{d:"m4.93 10.93 1.41 1.41",key:"2a7f42"}],["path",{d:"M2 18h2",key:"j10viu"}],["path",{d:"M20 18h2",key:"wocana"}],["path",{d:"m19.07 10.93-1.41 1.41",key:"15zs5n"}],["path",{d:"M22 22H2",key:"19qnx5"}],["path",{d:"m8 6 4-4 4 4",key:"ybng9g"}],["path",{d:"M16 18a4 4 0 0 0-8 0",key:"1lzouq"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C5e=At("Sunset",[["path",{d:"M12 10V2",key:"16sf7g"}],["path",{d:"m4.93 10.93 1.41 1.41",key:"2a7f42"}],["path",{d:"M2 18h2",key:"j10viu"}],["path",{d:"M20 18h2",key:"wocana"}],["path",{d:"m19.07 10.93-1.41 1.41",key:"15zs5n"}],["path",{d:"M22 22H2",key:"19qnx5"}],["path",{d:"m16 6-4 4-4-4",key:"6wukr"}],["path",{d:"M16 18a4 4 0 0 0-8 0",key:"1lzouq"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vP=At("Sword",[["polyline",{points:"14.5 17.5 3 6 3 3 6 3 17.5 14.5",key:"1hfsw2"}],["line",{x1:"13",x2:"19",y1:"19",y2:"13",key:"1vrmhu"}],["line",{x1:"16",x2:"20",y1:"16",y2:"20",key:"1bron3"}],["line",{x1:"19",x2:"21",y1:"21",y2:"19",key:"13pww6"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yP=At("Table",[["path",{d:"M12 3v18",key:"108xh3"}],["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const En=At("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bce=At("ThumbsDown",[["path",{d:"M17 14V2",key:"8ymqnk"}],["path",{d:"M9 18.12 10 14H4.17a2 2 0 0 1-1.92-2.56l2.33-8A2 2 0 0 1 6.5 2H20a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2h-2.76a2 2 0 0 0-1.79 1.11L12 22h0a3.13 3.13 0 0 1-3-3.88Z",key:"s6e0r"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wce=At("ThumbsUp",[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2h0a3.13 3.13 0 0 1 3 3.88Z",key:"y3tblf"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S5e=At("Timer",[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vS=At("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hn=At("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $a=At("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yg=At("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sc=At("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q0=At("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wn=At("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dR=At("Video",[["path",{d:"m22 8-6 4 6 4V8Z",key:"50v9me"}],["rect",{width:"14",height:"12",x:"2",y:"6",rx:"2",ry:"2",key:"1rqjg6"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JH=At("Volume2",[["polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5",key:"16drj5"}],["path",{d:"M15.54 8.46a5 5 0 0 1 0 7.07",key:"ltjumu"}],["path",{d:"M19.07 4.93a10 10 0 0 1 0 14.14",key:"1kegas"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E5e=At("VolumeX",[["polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5",key:"16drj5"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ha=At("WandSparkles",[["path",{d:"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72",key:"ul74o6"}],["path",{d:"m14 7 3 3",key:"1r5n42"}],["path",{d:"M5 6v4",key:"ilb8ba"}],["path",{d:"M19 14v4",key:"blhpug"}],["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M7 8H3",key:"zfb6yr"}],["path",{d:"M21 16h-4",key:"1cnmox"}],["path",{d:"M11 3H9",key:"1obp7u"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B5e=At("Wifi",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Np=At("Workflow",[["rect",{width:"8",height:"8",x:"3",y:"3",rx:"2",key:"by2w9f"}],["path",{d:"M7 11v4a2 2 0 0 0 2 2h4",key:"xkn7yn"}],["rect",{width:"8",height:"8",x:"13",y:"13",rx:"2",key:"1cgmvn"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bf=At("Wrench",[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sh=At("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vr=At("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]);function UK(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function jce(...t){return e=>{let n=!1;const r=t.map(s=>{const a=UK(s,e);return!n&&typeof a=="function"&&(n=!0),a});if(n)return()=>{for(let s=0;s<r.length;s++){const a=r[s];typeof a=="function"?a():UK(t[s],null)}}}}function Tn(...t){return E.useCallback(jce(...t),t)}function iy(t){const e=T5e(t),n=E.forwardRef((r,s)=>{const{children:a,...o}=r,l=E.Children.toArray(a),c=l.find(k5e);if(c){const u=c.props.children,d=l.map(h=>h===c?E.Children.count(u)>1?E.Children.only(null):E.isValidElement(u)?u.props.children:null:h);return i.jsx(e,{...o,ref:s,children:E.isValidElement(u)?E.cloneElement(u,void 0,d):null})}return i.jsx(e,{...o,ref:s,children:a})});return n.displayName=`${t}.Slot`,n}var D5e=iy("Slot");function T5e(t){const e=E.forwardRef((n,r)=>{const{children:s,...a}=n;if(E.isValidElement(s)){const o=P5e(s),l=F5e(a,s.props);return s.type!==E.Fragment&&(l.ref=r?jce(r,o):o),E.cloneElement(s,l)}return E.Children.count(s)>1?E.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var Nce=Symbol("radix.slottable");function _ce(t){const e=({children:n})=>i.jsx(i.Fragment,{children:n});return e.displayName=`${t}.Slottable`,e.__radixId=Nce,e}function k5e(t){return E.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===Nce}function F5e(t,e){const n={...e};for(const r in e){const s=t[r],a=e[r];/^on[A-Z]/.test(r)?s&&a?n[r]=(...l)=>{const c=a(...l);return s(...l),c}:s&&(n[r]=s):r==="style"?n[r]={...s,...a}:r==="className"&&(n[r]=[s,a].filter(Boolean).join(" "))}return{...t,...n}}function P5e(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function Cce(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=Cce(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Dn(){for(var t,e,n=0,r="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=Cce(t))&&(r&&(r+=" "),r+=e);return r}const IK=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,OK=Dn,M2=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return OK(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:a}=e,o=Object.keys(s).map(u=>{const d=n==null?void 0:n[u],h=a==null?void 0:a[u];if(d===null)return null;const f=IK(d)||IK(h);return s[u][f]}),l=n&&Object.entries(n).reduce((u,d)=>{let[h,f]=d;return f===void 0||(u[h]=f),u},{}),c=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((u,d)=>{let{class:h,className:f,...A}=d;return Object.entries(A).every(v=>{let[p,m]=v;return Array.isArray(m)?m.includes({...a,...l}[p]):{...a,...l}[p]===m})?[...u,h,f]:u},[]);return OK(t,o,c,n==null?void 0:n.class,n==null?void 0:n.className)},ZH="-",U5e=t=>{const e=O5e(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:o=>{const l=o.split(ZH);return l[0]===""&&l.length!==1&&l.shift(),Sce(l,e)||I5e(o)},getConflictingClassGroupIds:(o,l)=>{const c=n[o]||[];return l&&r[o]?[...c,...r[o]]:c}}},Sce=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),s=r?Sce(t.slice(1),r):void 0;if(s)return s;if(e.validators.length===0)return;const a=t.join(ZH);return(o=e.validators.find(({validator:l})=>l(a)))==null?void 0:o.classGroupId},MK=/^\[(.+)\]$/,I5e=t=>{if(MK.test(t)){const e=MK.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},O5e=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return L5e(Object.entries(t.classGroups),n).forEach(([a,o])=>{hR(o,r,a,e)}),r},hR=(t,e,n,r)=>{t.forEach(s=>{if(typeof s=="string"){const a=s===""?e:LK(e,s);a.classGroupId=n;return}if(typeof s=="function"){if(M5e(s)){hR(s(r),e,n,r);return}e.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([a,o])=>{hR(o,LK(e,a),n,r)})})},LK=(t,e)=>{let n=t;return e.split(ZH).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},M5e=t=>t.isThemeGetter,L5e=(t,e)=>e?t.map(([n,r])=>{const s=r.map(a=>typeof a=="string"?e+a:typeof a=="object"?Object.fromEntries(Object.entries(a).map(([o,l])=>[e+o,l])):a);return[n,s]}):t,R5e=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const s=(a,o)=>{n.set(a,o),e++,e>t&&(e=0,r=n,n=new Map)};return{get(a){let o=n.get(a);if(o!==void 0)return o;if((o=r.get(a))!==void 0)return s(a,o),o},set(a,o){n.has(a)?n.set(a,o):s(a,o)}}},Ece="!",Q5e=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,s=e[0],a=e.length,o=l=>{const c=[];let u=0,d=0,h;for(let m=0;m<l.length;m++){let g=l[m];if(u===0){if(g===s&&(r||l.slice(m,m+a)===e)){c.push(l.slice(d,m)),d=m+a;continue}if(g==="/"){h=m;continue}}g==="["?u++:g==="]"&&u--}const f=c.length===0?l:l.substring(d),A=f.startsWith(Ece),v=A?f.substring(1):f,p=h&&h>d?h-d:void 0;return{modifiers:c,hasImportantModifier:A,baseClassName:v,maybePostfixModifierPosition:p}};return n?l=>n({className:l,parseClassName:o}):o},H5e=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},z5e=t=>({cache:R5e(t.cacheSize),parseClassName:Q5e(t),...U5e(t)}),$5e=/\s+/,W5e=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s}=e,a=[],o=t.trim().split($5e);let l="";for(let c=o.length-1;c>=0;c-=1){const u=o[c],{modifiers:d,hasImportantModifier:h,baseClassName:f,maybePostfixModifierPosition:A}=n(u);let v=!!A,p=r(v?f.substring(0,A):f);if(!p){if(!v){l=u+(l.length>0?" "+l:l);continue}if(p=r(f),!p){l=u+(l.length>0?" "+l:l);continue}v=!1}const m=H5e(d).join(":"),g=h?m+Ece:m,x=g+p;if(a.includes(x))continue;a.push(x);const b=s(p,v);for(let j=0;j<b.length;++j){const N=b[j];a.push(g+N)}l=u+(l.length>0?" "+l:l)}return l};function q5e(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=Bce(e))&&(r&&(r+=" "),r+=n);return r}const Bce=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=Bce(t[r]))&&(n&&(n+=" "),n+=e);return n};function V5e(t,...e){let n,r,s,a=o;function o(c){const u=e.reduce((d,h)=>h(d),t());return n=z5e(u),r=n.cache.get,s=n.cache.set,a=l,l(c)}function l(c){const u=r(c);if(u)return u;const d=W5e(c,n);return s(c,d),d}return function(){return a(q5e.apply(null,arguments))}}const Li=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},Dce=/^\[(?:([a-z-]+):)?(.+)\]$/i,K5e=/^\d+\/\d+$/,G5e=new Set(["px","full","screen"]),X5e=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Y5e=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,J5e=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,Z5e=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,eCe=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,jA=t=>m1(t)||G5e.has(t)||K5e.test(t),Om=t=>L2(t,"length",lCe),m1=t=>!!t&&!Number.isNaN(Number(t)),bP=t=>L2(t,"number",m1),Fj=t=>!!t&&Number.isInteger(Number(t)),tCe=t=>t.endsWith("%")&&m1(t.slice(0,-1)),Gn=t=>Dce.test(t),Mm=t=>X5e.test(t),nCe=new Set(["length","size","percentage"]),rCe=t=>L2(t,nCe,Tce),iCe=t=>L2(t,"position",Tce),sCe=new Set(["image","url"]),aCe=t=>L2(t,sCe,uCe),oCe=t=>L2(t,"",cCe),Pj=()=>!0,L2=(t,e,n)=>{const r=Dce.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},lCe=t=>Y5e.test(t)&&!J5e.test(t),Tce=()=>!1,cCe=t=>Z5e.test(t),uCe=t=>eCe.test(t),dCe=()=>{const t=Li("colors"),e=Li("spacing"),n=Li("blur"),r=Li("brightness"),s=Li("borderColor"),a=Li("borderRadius"),o=Li("borderSpacing"),l=Li("borderWidth"),c=Li("contrast"),u=Li("grayscale"),d=Li("hueRotate"),h=Li("invert"),f=Li("gap"),A=Li("gradientColorStops"),v=Li("gradientColorStopPositions"),p=Li("inset"),m=Li("margin"),g=Li("opacity"),x=Li("padding"),b=Li("saturate"),j=Li("scale"),N=Li("sepia"),_=Li("skew"),C=Li("space"),k=Li("translate"),T=()=>["auto","contain","none"],O=()=>["auto","hidden","clip","visible","scroll"],I=()=>["auto",Gn,e],F=()=>[Gn,e],M=()=>["",jA,Om],S=()=>["auto",m1,Gn],q=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],U=()=>["solid","dashed","dotted","double","none"],L=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],z=()=>["start","end","center","between","around","evenly","stretch"],$=()=>["","0",Gn],K=()=>["auto","avoid","all","avoid-page","page","left","right","column"],V=()=>[m1,Gn];return{cacheSize:500,separator:":",theme:{colors:[Pj],spacing:[jA,Om],blur:["none","",Mm,Gn],brightness:V(),borderColor:[t],borderRadius:["none","","full",Mm,Gn],borderSpacing:F(),borderWidth:M(),contrast:V(),grayscale:$(),hueRotate:V(),invert:$(),gap:F(),gradientColorStops:[t],gradientColorStopPositions:[tCe,Om],inset:I(),margin:I(),opacity:V(),padding:F(),saturate:V(),scale:V(),sepia:$(),skew:V(),space:F(),translate:F()},classGroups:{aspect:[{aspect:["auto","square","video",Gn]}],container:["container"],columns:[{columns:[Mm]}],"break-after":[{"break-after":K()}],"break-before":[{"break-before":K()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...q(),Gn]}],overflow:[{overflow:O()}],"overflow-x":[{"overflow-x":O()}],"overflow-y":[{"overflow-y":O()}],overscroll:[{overscroll:T()}],"overscroll-x":[{"overscroll-x":T()}],"overscroll-y":[{"overscroll-y":T()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[p]}],"inset-x":[{"inset-x":[p]}],"inset-y":[{"inset-y":[p]}],start:[{start:[p]}],end:[{end:[p]}],top:[{top:[p]}],right:[{right:[p]}],bottom:[{bottom:[p]}],left:[{left:[p]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Fj,Gn]}],basis:[{basis:I()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Gn]}],grow:[{grow:$()}],shrink:[{shrink:$()}],order:[{order:["first","last","none",Fj,Gn]}],"grid-cols":[{"grid-cols":[Pj]}],"col-start-end":[{col:["auto",{span:["full",Fj,Gn]},Gn]}],"col-start":[{"col-start":S()}],"col-end":[{"col-end":S()}],"grid-rows":[{"grid-rows":[Pj]}],"row-start-end":[{row:["auto",{span:[Fj,Gn]},Gn]}],"row-start":[{"row-start":S()}],"row-end":[{"row-end":S()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Gn]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Gn]}],gap:[{gap:[f]}],"gap-x":[{"gap-x":[f]}],"gap-y":[{"gap-y":[f]}],"justify-content":[{justify:["normal",...z()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...z(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...z(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[x]}],px:[{px:[x]}],py:[{py:[x]}],ps:[{ps:[x]}],pe:[{pe:[x]}],pt:[{pt:[x]}],pr:[{pr:[x]}],pb:[{pb:[x]}],pl:[{pl:[x]}],m:[{m:[m]}],mx:[{mx:[m]}],my:[{my:[m]}],ms:[{ms:[m]}],me:[{me:[m]}],mt:[{mt:[m]}],mr:[{mr:[m]}],mb:[{mb:[m]}],ml:[{ml:[m]}],"space-x":[{"space-x":[C]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[C]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Gn,e]}],"min-w":[{"min-w":[Gn,e,"min","max","fit"]}],"max-w":[{"max-w":[Gn,e,"none","full","min","max","fit","prose",{screen:[Mm]},Mm]}],h:[{h:[Gn,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Gn,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Gn,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Gn,e,"auto","min","max","fit"]}],"font-size":[{text:["base",Mm,Om]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",bP]}],"font-family":[{font:[Pj]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Gn]}],"line-clamp":[{"line-clamp":["none",m1,bP]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",jA,Gn]}],"list-image":[{"list-image":["none",Gn]}],"list-style-type":[{list:["none","disc","decimal",Gn]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[g]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[g]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...U(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",jA,Om]}],"underline-offset":[{"underline-offset":["auto",jA,Gn]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:F()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Gn]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Gn]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[g]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...q(),iCe]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",rCe]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},aCe]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[v]}],"gradient-via-pos":[{via:[v]}],"gradient-to-pos":[{to:[v]}],"gradient-from":[{from:[A]}],"gradient-via":[{via:[A]}],"gradient-to":[{to:[A]}],rounded:[{rounded:[a]}],"rounded-s":[{"rounded-s":[a]}],"rounded-e":[{"rounded-e":[a]}],"rounded-t":[{"rounded-t":[a]}],"rounded-r":[{"rounded-r":[a]}],"rounded-b":[{"rounded-b":[a]}],"rounded-l":[{"rounded-l":[a]}],"rounded-ss":[{"rounded-ss":[a]}],"rounded-se":[{"rounded-se":[a]}],"rounded-ee":[{"rounded-ee":[a]}],"rounded-es":[{"rounded-es":[a]}],"rounded-tl":[{"rounded-tl":[a]}],"rounded-tr":[{"rounded-tr":[a]}],"rounded-br":[{"rounded-br":[a]}],"rounded-bl":[{"rounded-bl":[a]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[g]}],"border-style":[{border:[...U(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[g]}],"divide-style":[{divide:U()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...U()]}],"outline-offset":[{"outline-offset":[jA,Gn]}],"outline-w":[{outline:[jA,Om]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:M()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[g]}],"ring-offset-w":[{"ring-offset":[jA,Om]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",Mm,oCe]}],"shadow-color":[{shadow:[Pj]}],opacity:[{opacity:[g]}],"mix-blend":[{"mix-blend":[...L(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":L()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",Mm,Gn]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[h]}],saturate:[{saturate:[b]}],sepia:[{sepia:[N]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[h]}],"backdrop-opacity":[{"backdrop-opacity":[g]}],"backdrop-saturate":[{"backdrop-saturate":[b]}],"backdrop-sepia":[{"backdrop-sepia":[N]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Gn]}],duration:[{duration:V()}],ease:[{ease:["linear","in","out","in-out",Gn]}],delay:[{delay:V()}],animate:[{animate:["none","spin","ping","pulse","bounce",Gn]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[j]}],"scale-x":[{"scale-x":[j]}],"scale-y":[{"scale-y":[j]}],rotate:[{rotate:[Fj,Gn]}],"translate-x":[{"translate-x":[k]}],"translate-y":[{"translate-y":[k]}],"skew-x":[{"skew-x":[_]}],"skew-y":[{"skew-y":[_]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Gn]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Gn]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":F()}],"scroll-mx":[{"scroll-mx":F()}],"scroll-my":[{"scroll-my":F()}],"scroll-ms":[{"scroll-ms":F()}],"scroll-me":[{"scroll-me":F()}],"scroll-mt":[{"scroll-mt":F()}],"scroll-mr":[{"scroll-mr":F()}],"scroll-mb":[{"scroll-mb":F()}],"scroll-ml":[{"scroll-ml":F()}],"scroll-p":[{"scroll-p":F()}],"scroll-px":[{"scroll-px":F()}],"scroll-py":[{"scroll-py":F()}],"scroll-ps":[{"scroll-ps":F()}],"scroll-pe":[{"scroll-pe":F()}],"scroll-pt":[{"scroll-pt":F()}],"scroll-pr":[{"scroll-pr":F()}],"scroll-pb":[{"scroll-pb":F()}],"scroll-pl":[{"scroll-pl":F()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Gn]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[jA,Om,bP]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},hCe=V5e(dCe);function Vt(...t){return hCe(Dn(t))}const ez=M2("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-zinc-950 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 dark:focus-visible:ring-zinc-300",{variants:{variant:{default:"bg-zinc-900 text-zinc-50 shadow hover:bg-zinc-900/90 dark:bg-zinc-50 dark:text-zinc-900 dark:hover:bg-zinc-50/90",destructive:"bg-red-500 text-zinc-50 shadow-sm hover:bg-red-500/90 dark:bg-red-900 dark:text-zinc-50 dark:hover:bg-red-900/90",outline:"border border-zinc-200 bg-white shadow-sm hover:bg-zinc-100 hover:text-zinc-900 dark:border-zinc-800 dark:bg-zinc-950 dark:hover:bg-zinc-800 dark:hover:text-zinc-50",secondary:"bg-zinc-100 text-zinc-900 shadow-sm hover:bg-zinc-100/80 dark:bg-zinc-800 dark:text-zinc-50 dark:hover:bg-zinc-800/80",ghost:"hover:bg-zinc-100 hover:text-zinc-900 dark:hover:bg-zinc-800 dark:hover:text-zinc-50",link:"text-zinc-900 underline-offset-4 hover:underline dark:text-zinc-50"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),xe=E.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...s},a)=>{const o=r?D5e:"button";return i.jsx(o,{className:Vt(ez({variant:e,size:n,className:t})),ref:a,...s})});xe.displayName="Button";const wn=E.forwardRef(({className:t,type:e,...n},r)=>i.jsx("input",{type:e,className:Vt("flex h-9 w-full rounded-md border border-zinc-200 bg-transparent px-3 py-1 text-base shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-zinc-950 placeholder:text-zinc-500 focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-zinc-950 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm dark:border-zinc-800 dark:file:text-zinc-50 dark:placeholder:text-zinc-400 dark:focus-visible:ring-zinc-300",t),ref:r,...n}));wn.displayName="Input";const fCe=M2("inline-flex items-center rounded-md border border-zinc-200 px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-zinc-950 focus:ring-offset-2 dark:border-zinc-800 dark:focus:ring-zinc-300",{variants:{variant:{default:"border-transparent bg-zinc-900 text-zinc-50 shadow hover:bg-zinc-900/80 dark:bg-zinc-50 dark:text-zinc-900 dark:hover:bg-zinc-50/80",secondary:"border-transparent bg-zinc-100 text-zinc-900 hover:bg-zinc-100/80 dark:bg-zinc-800 dark:text-zinc-50 dark:hover:bg-zinc-800/80",destructive:"border-transparent bg-red-500 text-zinc-50 shadow hover:bg-red-500/80 dark:bg-red-900 dark:text-zinc-50 dark:hover:bg-red-900/80",outline:"text-zinc-950 dark:text-zinc-50"}},defaultVariants:{variant:"default"}});function He({className:t,variant:e,...n}){return i.jsx("div",{className:Vt(fCe({variant:e}),t),...n})}const ACe=()=>{const t=Sy();return i.jsx("nav",{className:"bg-white shadow-sm border-b border-gray-200 sticky top-0 z-50",children:i.jsx("div",{className:"px-6 py-4",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("div",{className:"flex items-center gap-4",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsxs("div",{className:"relative",children:[i.jsx(dr,{className:"h-8 w-8 text-blue-600"}),i.jsx(Qn,{className:"h-4 w-4 text-purple-500 absolute -top-1 -right-1"})]}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-xl font-bold text-gray-900",children:"منصة الكتابة العربية الذكية"}),i.jsx("p",{className:"text-sm text-gray-500",children:"نظام متطور لكتابة الروايات العربية"})]})]})}),i.jsx("div",{className:"flex-1 max-w-md mx-8",children:i.jsxs("div",{className:"relative",children:[i.jsx(kl,{className:"h-4 w-4 absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),i.jsx(wn,{type:"text",placeholder:"ابحث في المشاريع...",className:"pr-10 text-right"})]})}),i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsxs(xe,{variant:"ghost",size:"sm",className:"relative",children:[i.jsx(sB,{className:"h-5 w-5"}),i.jsx(He,{className:"absolute -top-1 -right-1 h-5 w-5 p-0 text-xs bg-red-500",children:"3"})]}),i.jsx(xe,{variant:"ghost",size:"sm",children:i.jsx(Qr,{className:"h-5 w-5"})}),i.jsxs(xe,{variant:"ghost",size:"sm",className:"flex items-center gap-2",children:[i.jsx(q0,{className:"h-5 w-5"}),i.jsx("span",{className:"text-sm",children:"المستخدم"})]}),i.jsx(PA,{to:"/ai-journey",children:i.jsxs(xe,{variant:t.pathname==="/ai-journey"?"default":"outline",className:"flex items-center gap-2",children:[i.jsx(Qn,{className:"h-4 w-4"}),"رحلة الكتابة الذكية"]})})]})]})})})},fR={projectId:`new-project-${Date.now()}`,projectName:"مشروع جديد",sourceAnalysis:null,generatedIdeas:[],selectedIdea:null,novelBlueprint:null,generatedChapters:[],generationProgress:{currentChapter:0,totalChapters:0,isGenerating:!1,generationMode:"sequential"},currentEditingChapter:null,editorSettings:{autoSave:!0,spellCheck:!0,grammarCheck:!0,styleCheck:!0,consistencyCheck:!0},finalProject:null,currentStage:1,isLoading:!1,error:null,lastSaved:null};function pCe(t,e){switch(e.type){case"SET_SOURCE_ANALYSIS":return{...t,sourceAnalysis:e.payload,currentStage:Math.max(t.currentStage,2)};case"START_ANALYSIS":return{...t,isLoading:!0,error:null};case"SET_GENERATED_IDEAS":return{...t,generatedIdeas:e.payload,currentStage:Math.max(t.currentStage,3)};case"SELECT_IDEA":return{...t,selectedIdea:e.payload,generatedIdeas:t.generatedIdeas.map(n=>({...n,selected:n.id===e.payload.id}))};case"SET_NOVEL_BLUEPRINT":return{...t,novelBlueprint:e.payload,currentStage:Math.max(t.currentStage,4)};case"ADD_GENERATED_CHAPTER":return{...t,generatedChapters:[...t.generatedChapters,e.payload]};case"UPDATE_CHAPTER":return{...t,generatedChapters:t.generatedChapters.map(n=>n.id===e.payload.id?{...n,...e.payload.updates}:n)};case"SET_GENERATION_PROGRESS":return{...t,generationProgress:{...t.generationProgress,...e.payload}};case"SET_CURRENT_EDITING_CHAPTER":return{...t,currentEditingChapter:e.payload,currentStage:Math.max(t.currentStage,5)};case"UPDATE_EDITOR_SETTINGS":return{...t,editorSettings:{...t.editorSettings,...e.payload}};case"SET_FINAL_PROJECT":return{...t,finalProject:e.payload,currentStage:6};case"SET_CURRENT_STAGE":return{...t,currentStage:e.payload};case"SET_LOADING":return{...t,isLoading:e.payload};case"SET_ERROR":return{...t,error:e.payload,isLoading:!1};case"SAVE_PROJECT":return{...t,lastSaved:new Date};case"LOAD_PROJECT":return{...e.payload,lastSaved:new Date};case"SET_PROJECT_ID":return{...t,projectId:e.payload.id,projectName:e.payload.name,lastSaved:new Date};case"RESET_JOURNEY":return fR;case"CLEAR_LOCAL_STORAGE":return localStorage.clear(),fR;default:return t}}const kce=E.createContext(null),mCe=({children:t})=>{const[e,n]=E.useReducer(pCe,fR);return E.useEffect(()=>{try{const r=localStorage.getItem("aiWritingJourneyState");if(r){const s=JSON.parse(r);s.sourceAnalysis&&(s.sourceAnalysis.uploadDate=new Date(s.sourceAnalysis.uploadDate)),s.generatedChapters.forEach(a=>{a.lastModified=new Date(a.lastModified)}),s.finalProject&&(s.finalProject.metadata.createdAt=new Date(s.finalProject.metadata.createdAt),s.finalProject.metadata.lastModified=new Date(s.finalProject.metadata.lastModified)),s.lastSaved&&(s.lastSaved=new Date(s.lastSaved)),n({type:"LOAD_PROJECT",payload:s})}}catch(r){console.error("فشل في تحميل الحالة من LocalStorage:",r),n({type:"CLEAR_LOCAL_STORAGE"}),n({type:"SET_ERROR",payload:"فشل في تحميل المشروع المحفوظ. تم إعادة تعيين الحالة."})}},[]),E.useEffect(()=>{if(!e.isLoading&&!e.error)try{localStorage.setItem("aiWritingJourneyState",JSON.stringify(e)),n({type:"SAVE_PROJECT"})}catch(r){console.error("فشل في حفظ الحالة في LocalStorage:",r),n({type:"SET_ERROR",payload:"فشل في حفظ المشروع تلقائياً."})}},[e]),i.jsx(kce.Provider,{value:{state:e,dispatch:n},children:t})},Ju=()=>{const t=E.useContext(kce);if(!t)throw new Error("useAIWritingJourney must be used within an AIWritingJourneyProvider");return t},gCe=()=>{const t=Sy(),{state:e}=Ju(),n=[{title:"لوحة القيادة",href:"/",icon:gce,description:"نظرة عامة على المشاريع"},{title:"ذاكرة السرد الحيّة",href:"/living-narrative-memory",icon:zt,description:"تحويل الترانسكريبت إلى قصص احترافية بالذكاء الاصطناعي",badge:"ثوري!"},{title:"الاندماج السردي الفائق",href:"/hyper-narrative-synthesizer",icon:Qn,description:"أول أداة عالمياً لدمج الروايات المتعددة في رواية واحدة متماسكة",badge:"أول عالمياً!"},{title:"الأدوات المتخصصة",href:"/specialized-tools",icon:Ha,description:"مجموعة فريدة عالمياً من أدوات التحليل الاحترافية للكتابة الإبداعية",badge:"فريد عالمياً!"},{title:"التحكم الشخصي",href:"/personal-style",icon:Wa,description:"تخصيص أسلوب الكتابة والتفضيلات",badge:"ذكي"},{title:"التحليلات الشخصية",href:"/analytics",icon:hs,description:"تتبع تطورك ومقاييس أسلوبك الشخصي",badge:"جديد"},{title:"المرحلة الثانية: التحسينات المتقدمة",href:"/phase-two-enhancements",icon:En,description:"تحسينات الميزات والذكاء - المستوى الاحترافي المتقدم",badge:"المرحلة الثانية!"},{title:"المحرر الذكي الفائق",href:"/smart-editor",icon:zt,description:"محرر تفاعلي مع اقتراحات ذكية فورية",badge:"فائق"},{title:"المحرر التفاعلي المتقدم",href:"/advanced-editor",icon:Gu,description:"محرر متطور مع تحليل شامل وأدوات تحسين متقدمة",badge:"جديد!"},{title:"المحرر الذكي الفائق الجديد",href:"/advanced-interactive-editor",icon:Qn,description:"المحرر الأحدث مع تحكم ذكي بالطول وميزة الشاهد",badge:"حصري!"},{title:"إدارة نظام الشاهد",href:"/witness-management",icon:dR,description:"أول نظام عالمي لدمج ترانسكريبت الفيديوهات في الكتابة",badge:"فريد عالمياً!"},{title:"الرحلة الموحدة",href:"/unified-journey",icon:vr,description:"تجربة كتابة موحدة ومرنة",badge:"موصى به"},{title:"رحلة الكتابة الذكية",href:"/ai-journey",icon:Qn,description:"النظام المتطور للكتابة",badge:e.currentStage},{title:"المدير الفني للرواية",href:"/workflow-builder",icon:Np,description:"بناء وتشغيل سير العمل المخصص"},{title:"استوديو الوكلاء",href:"/agent-studio",icon:rh,description:"إدارة الوكلاء الذكية المتقدمة",badge:"جديد"},{title:"الدمج السلس",href:"/seamless-integration",icon:mp,description:"نظام الدمج السلس للأدوات والوكلاء",badge:"جديد!"},{title:"معالج PDF المتقدم",href:"/pdf-processor",icon:xn,description:"قراءة ومعالجة ملفات PDF بتقنية متقدمة",badge:"محسن!"}],r=[{title:"تحليل المصدر",stage:1,icon:zt,completed:!!e.sourceAnalysis,current:e.currentStage===1},{title:"معمل الأفكار",stage:2,icon:En,completed:!!e.selectedIdea,current:e.currentStage===2},{title:"بناء المخطط",stage:3,icon:xn,completed:!!e.novelBlueprint,current:e.currentStage===3},{title:"توليد الفصول",stage:4,icon:ga,completed:e.generatedChapters.length>0,current:e.currentStage===4},{title:"المحرر التفاعلي",stage:5,icon:Gu,completed:e.generatedChapters.some(s=>s.status==="edited"),current:e.currentStage===5},{title:"التنقيح والتصدير",stage:6,icon:gr,completed:!!e.finalProject,current:e.currentStage===6}];return i.jsx("aside",{className:"fixed right-0 top-16 h-[calc(100vh-4rem)] w-64 bg-white border-l border-gray-200 overflow-y-auto",children:i.jsxs("div",{className:"p-6",children:[i.jsxs("div",{className:"mb-8",children:[i.jsx("h3",{className:"text-sm font-semibold text-gray-900 mb-4",children:"التنقل الرئيسي"}),i.jsx("nav",{className:"space-y-2",children:n.map(s=>{const a=s.icon,o=t.pathname===s.href;return i.jsxs(PA,{to:s.href,className:Vt("flex items-center gap-3 px-3 py-2 rounded-lg text-sm transition-colors",o?"bg-blue-100 text-blue-700 border border-blue-200":"text-gray-700 hover:bg-gray-100"),children:[i.jsx(a,{className:"h-5 w-5"}),i.jsxs("div",{className:"flex-1",children:[i.jsx("div",{className:"font-medium",children:s.title}),i.jsx("div",{className:"text-xs text-gray-500 mt-0.5",children:s.description})]}),s.badge&&i.jsx(He,{variant:"secondary",className:"text-xs",children:s.badge})]},s.href)})})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-sm font-semibold text-gray-900 mb-4",children:"مراحل الكتابة"}),i.jsx("div",{className:"space-y-2",children:r.map(s=>{const a=s.icon;return i.jsxs("div",{className:Vt("flex items-center gap-3 px-3 py-2 rounded-lg text-sm transition-colors",s.current?"bg-purple-100 text-purple-700 border border-purple-200":s.completed?"bg-green-50 text-green-700":"text-gray-500"),children:[i.jsxs("div",{className:"relative",children:[i.jsx(a,{className:"h-4 w-4"}),s.completed&&i.jsx("div",{className:"absolute -top-1 -right-1 w-2 h-2 bg-green-500 rounded-full"})]}),i.jsx("div",{className:"flex-1",children:i.jsx("div",{className:"font-medium",children:s.title})}),i.jsx(He,{variant:s.current?"default":s.completed?"secondary":"outline",className:"text-xs",children:s.stage})]},s.stage)})})]}),e.sourceAnalysis&&i.jsxs("div",{className:"mt-8 p-4 bg-gray-50 rounded-lg",children:[i.jsx("h4",{className:"text-sm font-semibold text-gray-900 mb-3",children:"إحصائيات المشروع"}),i.jsxs("div",{className:"space-y-2 text-sm text-gray-600",children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{children:"الفصول المولدة:"}),i.jsx("span",{children:e.generatedChapters.length})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{children:"إجمالي الكلمات:"}),i.jsx("span",{children:e.generatedChapters.reduce((s,a)=>s+a.wordCount,0).toLocaleString()})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{children:"متوسط الجودة:"}),i.jsxs("span",{children:[e.generatedChapters.length>0?Math.round(e.generatedChapters.reduce((s,a)=>s+a.quality.overall,0)/e.generatedChapters.length):0,"%"]})]})]})]})]})})},ae=E.forwardRef(({className:t,...e},n)=>i.jsx("div",{ref:n,className:Vt("rounded-xl border border-zinc-200 bg-white text-zinc-950 shadow dark:border-zinc-800 dark:bg-zinc-950 dark:text-zinc-50",t),...e}));ae.displayName="Card";const Te=E.forwardRef(({className:t,...e},n)=>i.jsx("div",{ref:n,className:Vt("flex flex-col space-y-1.5 p-6",t),...e}));Te.displayName="CardHeader";const ke=E.forwardRef(({className:t,...e},n)=>i.jsx("div",{ref:n,className:Vt("font-semibold leading-none tracking-tight",t),...e}));ke.displayName="CardTitle";const Pt=E.forwardRef(({className:t,...e},n)=>i.jsx("div",{ref:n,className:Vt("text-sm text-zinc-500 dark:text-zinc-400",t),...e}));Pt.displayName="CardDescription";const oe=E.forwardRef(({className:t,...e},n)=>i.jsx("div",{ref:n,className:Vt("p-6 pt-0",t),...e}));oe.displayName="CardContent";const xCe=E.forwardRef(({className:t,...e},n)=>i.jsx("div",{ref:n,className:Vt("flex items-center p-6 pt-0",t),...e}));xCe.displayName="CardFooter";function vCe(t,e){const n=E.createContext(e),r=a=>{const{children:o,...l}=a,c=E.useMemo(()=>l,Object.values(l));return i.jsx(n.Provider,{value:c,children:o})};r.displayName=t+"Provider";function s(a){const o=E.useContext(n);if(o)return o;if(e!==void 0)return e;throw new Error(`\`${a}\` must be used within \`${t}\``)}return[r,s]}function qa(t,e=[]){let n=[];function r(a,o){const l=E.createContext(o),c=n.length;n=[...n,o];const u=h=>{var g;const{scope:f,children:A,...v}=h,p=((g=f==null?void 0:f[t])==null?void 0:g[c])||l,m=E.useMemo(()=>v,Object.values(v));return i.jsx(p.Provider,{value:m,children:A})};u.displayName=a+"Provider";function d(h,f){var p;const A=((p=f==null?void 0:f[t])==null?void 0:p[c])||l,v=E.useContext(A);if(v)return v;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${a}\``)}return[u,d]}const s=()=>{const a=n.map(o=>E.createContext(o));return function(l){const c=(l==null?void 0:l[t])||a;return E.useMemo(()=>({[`__scope${t}`]:{...l,[t]:c}}),[l,c])}};return s.scopeName=t,[r,yCe(s,...e)]}function yCe(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(a){const o=r.reduce((l,{useScope:c,scopeName:u})=>{const h=c(a)[`__scope${u}`];return{...l,...h}},{});return E.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}var bCe=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Jt=bCe.reduce((t,e)=>{const n=iy(`Primitive.${e}`),r=E.forwardRef((s,a)=>{const{asChild:o,...l}=s,c=o?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),i.jsx(c,{...l,ref:a})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function Fce(t,e){t&&U2.flushSync(()=>t.dispatchEvent(e))}var tz="Progress",nz=100,[wCe,Emt]=qa(tz),[jCe,NCe]=wCe(tz),Pce=E.forwardRef((t,e)=>{const{__scopeProgress:n,value:r=null,max:s,getValueLabel:a=_Ce,...o}=t;(s||s===0)&&!RK(s)&&console.error(CCe(`${s}`,"Progress"));const l=RK(s)?s:nz;r!==null&&!QK(r,l)&&console.error(SCe(`${r}`,"Progress"));const c=QK(r,l)?r:null,u=FD(c)?a(c,l):void 0;return i.jsx(jCe,{scope:n,value:c,max:l,children:i.jsx(Jt.div,{"aria-valuemax":l,"aria-valuemin":0,"aria-valuenow":FD(c)?c:void 0,"aria-valuetext":u,role:"progressbar","data-state":Oce(c,l),"data-value":c??void 0,"data-max":l,...o,ref:e})})});Pce.displayName=tz;var Uce="ProgressIndicator",Ice=E.forwardRef((t,e)=>{const{__scopeProgress:n,...r}=t,s=NCe(Uce,n);return i.jsx(Jt.div,{"data-state":Oce(s.value,s.max),"data-value":s.value??void 0,"data-max":s.max,...r,ref:e})});Ice.displayName=Uce;function _Ce(t,e){return`${Math.round(t/e*100)}%`}function Oce(t,e){return t==null?"indeterminate":t===e?"complete":"loading"}function FD(t){return typeof t=="number"}function RK(t){return FD(t)&&!isNaN(t)&&t>0}function QK(t,e){return FD(t)&&!isNaN(t)&&t<=e&&t>=0}function CCe(t,e){return`Invalid prop \`max\` of value \`${t}\` supplied to \`${e}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${nz}\`.`}function SCe(t,e){return`Invalid prop \`value\` of value \`${t}\` supplied to \`${e}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${nz} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var Mce=Pce,ECe=Ice;const tt=E.forwardRef(({className:t,value:e,...n},r)=>i.jsx(Mce,{ref:r,className:Vt("relative h-2 w-full overflow-hidden rounded-full bg-zinc-900/20 dark:bg-zinc-50/20",t),...n,children:i.jsx(ECe,{className:"h-full w-full flex-1 bg-zinc-900 transition-all dark:bg-zinc-50",style:{transform:`translateX(-${100-(e||0)}%)`}})}));tt.displayName=Mce.displayName;const BCe=1,DCe=1e6;let wP=0;function TCe(){return wP=(wP+1)%Number.MAX_SAFE_INTEGER,wP.toString()}const jP=new Map,HK=t=>{if(jP.has(t))return;const e=setTimeout(()=>{jP.delete(t),YN({type:"REMOVE_TOAST",toastId:t})},DCe);jP.set(t,e)},kCe=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,BCe)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=e;return n?HK(n):t.toasts.forEach(r=>{HK(r.id)}),{...t,toasts:t.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==e.toastId)}}},lB=[];let cB={toasts:[]};function YN(t){cB=kCe(cB,t),lB.forEach(e=>{e(cB)})}function Bi({...t}){const e=TCe(),n=s=>YN({type:"UPDATE_TOAST",toast:{...s,id:e}}),r=()=>YN({type:"DISMISS_TOAST",toastId:e});return YN({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:s=>{s||r()}}}),{id:e,dismiss:r,update:n}}function ki(){const[t,e]=E.useState(cB);return E.useEffect(()=>(lB.push(e),()=>{const n=lB.indexOf(e);n>-1&&lB.splice(n,1)}),[t]),{...t,toast:Bi,dismiss:n=>YN({type:"DISMISS_TOAST",toastId:n})}}function Ht(t,e,{checkForDefaultPrevented:n=!0}={}){return function(s){if(t==null||t(s),n===!1||!s.defaultPrevented)return e==null?void 0:e(s)}}function ok(t){const e=t+"CollectionProvider",[n,r]=qa(e),[s,a]=n(e,{collectionRef:{current:null},itemMap:new Map}),o=p=>{const{scope:m,children:g}=p,x=pe.useRef(null),b=pe.useRef(new Map).current;return i.jsx(s,{scope:m,itemMap:b,collectionRef:x,children:g})};o.displayName=e;const l=t+"CollectionSlot",c=iy(l),u=pe.forwardRef((p,m)=>{const{scope:g,children:x}=p,b=a(l,g),j=Tn(m,b.collectionRef);return i.jsx(c,{ref:j,children:x})});u.displayName=l;const d=t+"CollectionItemSlot",h="data-radix-collection-item",f=iy(d),A=pe.forwardRef((p,m)=>{const{scope:g,children:x,...b}=p,j=pe.useRef(null),N=Tn(m,j),_=a(d,g);return pe.useEffect(()=>(_.itemMap.set(j,{ref:j,...b}),()=>void _.itemMap.delete(j))),i.jsx(f,{[h]:"",ref:N,children:x})});A.displayName=d;function v(p){const m=a(t+"CollectionConsumer",p);return pe.useCallback(()=>{const x=m.collectionRef.current;if(!x)return[];const b=Array.from(x.querySelectorAll(`[${h}]`));return Array.from(m.itemMap.values()).sort((_,C)=>b.indexOf(_.ref.current)-b.indexOf(C.ref.current))},[m.collectionRef,m.itemMap])}return[{Provider:o,Slot:u,ItemSlot:A},v,r]}function Gs(t){const e=E.useRef(t);return E.useEffect(()=>{e.current=t}),E.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function FCe(t,e=globalThis==null?void 0:globalThis.document){const n=Gs(t);E.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var PCe="DismissableLayer",AR="dismissableLayer.update",UCe="dismissableLayer.pointerDownOutside",ICe="dismissableLayer.focusOutside",zK,Lce=E.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),R2=E.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:a,onInteractOutside:o,onDismiss:l,...c}=t,u=E.useContext(Lce),[d,h]=E.useState(null),f=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,A]=E.useState({}),v=Tn(e,C=>h(C)),p=Array.from(u.layers),[m]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),g=p.indexOf(m),x=d?p.indexOf(d):-1,b=u.layersWithOutsidePointerEventsDisabled.size>0,j=x>=g,N=MCe(C=>{const k=C.target,T=[...u.branches].some(O=>O.contains(k));!j||T||(s==null||s(C),o==null||o(C),C.defaultPrevented||l==null||l())},f),_=LCe(C=>{const k=C.target;[...u.branches].some(O=>O.contains(k))||(a==null||a(C),o==null||o(C),C.defaultPrevented||l==null||l())},f);return FCe(C=>{x===u.layers.size-1&&(r==null||r(C),!C.defaultPrevented&&l&&(C.preventDefault(),l()))},f),E.useEffect(()=>{if(d)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(zK=f.body.style.pointerEvents,f.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),$K(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(f.body.style.pointerEvents=zK)}},[d,f,n,u]),E.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),$K())},[d,u]),E.useEffect(()=>{const C=()=>A({});return document.addEventListener(AR,C),()=>document.removeEventListener(AR,C)},[]),i.jsx(Jt.div,{...c,ref:v,style:{pointerEvents:b?j?"auto":"none":void 0,...t.style},onFocusCapture:Ht(t.onFocusCapture,_.onFocusCapture),onBlurCapture:Ht(t.onBlurCapture,_.onBlurCapture),onPointerDownCapture:Ht(t.onPointerDownCapture,N.onPointerDownCapture)})});R2.displayName=PCe;var OCe="DismissableLayerBranch",Rce=E.forwardRef((t,e)=>{const n=E.useContext(Lce),r=E.useRef(null),s=Tn(e,r);return E.useEffect(()=>{const a=r.current;if(a)return n.branches.add(a),()=>{n.branches.delete(a)}},[n.branches]),i.jsx(Jt.div,{...t,ref:s})});Rce.displayName=OCe;function MCe(t,e=globalThis==null?void 0:globalThis.document){const n=Gs(t),r=E.useRef(!1),s=E.useRef(()=>{});return E.useEffect(()=>{const a=l=>{if(l.target&&!r.current){let c=function(){Qce(UCe,n,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=c,e.addEventListener("click",s.current,{once:!0})):c()}else e.removeEventListener("click",s.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",a),e.removeEventListener("click",s.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function LCe(t,e=globalThis==null?void 0:globalThis.document){const n=Gs(t),r=E.useRef(!1);return E.useEffect(()=>{const s=a=>{a.target&&!r.current&&Qce(ICe,n,{originalEvent:a},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function $K(){const t=new CustomEvent(AR);document.dispatchEvent(t)}function Qce(t,e,n,{discrete:r}){const s=n.originalEvent.target,a=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?Fce(s,a):s.dispatchEvent(a)}var RCe=R2,QCe=Rce,Qs=globalThis!=null&&globalThis.document?E.useLayoutEffect:()=>{},HCe="Portal",Q2=E.forwardRef((t,e)=>{var l;const{container:n,...r}=t,[s,a]=E.useState(!1);Qs(()=>a(!0),[]);const o=n||s&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return o?VNe.createPortal(i.jsx(Jt.div,{...r,ref:e}),o):null});Q2.displayName=HCe;function zCe(t,e){return E.useReducer((n,r)=>e[n][r]??n,t)}var Jo=t=>{const{present:e,children:n}=t,r=$Ce(e),s=typeof n=="function"?n({present:r.isPresent}):E.Children.only(n),a=Tn(r.ref,WCe(s));return typeof n=="function"||r.isPresent?E.cloneElement(s,{ref:a}):null};Jo.displayName="Presence";function $Ce(t){const[e,n]=E.useState(),r=E.useRef(null),s=E.useRef(t),a=E.useRef("none"),o=t?"mounted":"unmounted",[l,c]=zCe(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return E.useEffect(()=>{const u=UE(r.current);a.current=l==="mounted"?u:"none"},[l]),Qs(()=>{const u=r.current,d=s.current;if(d!==t){const f=a.current,A=UE(u);t?c("MOUNT"):A==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(d&&f!==A?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,c]),Qs(()=>{if(e){let u;const d=e.ownerDocument.defaultView??window,h=A=>{const p=UE(r.current).includes(A.animationName);if(A.target===e&&p&&(c("ANIMATION_END"),!s.current)){const m=e.style.animationFillMode;e.style.animationFillMode="forwards",u=d.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=m)})}},f=A=>{A.target===e&&(a.current=UE(r.current))};return e.addEventListener("animationstart",f),e.addEventListener("animationcancel",h),e.addEventListener("animationend",h),()=>{d.clearTimeout(u),e.removeEventListener("animationstart",f),e.removeEventListener("animationcancel",h),e.removeEventListener("animationend",h)}}else c("ANIMATION_END")},[e,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:E.useCallback(u=>{r.current=u?getComputedStyle(u):null,n(u)},[])}}function UE(t){return(t==null?void 0:t.animationName)||"none"}function WCe(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var qCe=nk[" useInsertionEffect ".trim().toString()]||Qs;function Xu({prop:t,defaultProp:e,onChange:n=()=>{},caller:r}){const[s,a,o]=VCe({defaultProp:e,onChange:n}),l=t!==void 0,c=l?t:s;{const d=E.useRef(t!==void 0);E.useEffect(()=>{const h=d.current;h!==l&&console.warn(`${r} is changing from ${h?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=l},[l,r])}const u=E.useCallback(d=>{var h;if(l){const f=KCe(d)?d(t):d;f!==t&&((h=o.current)==null||h.call(o,f))}else a(d)},[l,t,a,o]);return[c,u]}function VCe({defaultProp:t,onChange:e}){const[n,r]=E.useState(t),s=E.useRef(n),a=E.useRef(e);return qCe(()=>{a.current=e},[e]),E.useEffect(()=>{var o;s.current!==n&&((o=a.current)==null||o.call(a,n),s.current=n)},[n,s]),[n,r,a]}function KCe(t){return typeof t=="function"}var Hce=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),GCe="VisuallyHidden",lk=E.forwardRef((t,e)=>i.jsx(Jt.span,{...t,ref:e,style:{...Hce,...t.style}}));lk.displayName=GCe;var XCe=lk,rz="ToastProvider",[iz,YCe,JCe]=ok("Toast"),[zce,Bmt]=qa("Toast",[JCe]),[ZCe,ck]=zce(rz),$ce=t=>{const{__scopeToast:e,label:n="Notification",duration:r=5e3,swipeDirection:s="right",swipeThreshold:a=50,children:o}=t,[l,c]=E.useState(null),[u,d]=E.useState(0),h=E.useRef(!1),f=E.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${rz}\`. Expected non-empty \`string\`.`),i.jsx(iz.Provider,{scope:e,children:i.jsx(ZCe,{scope:e,label:n,duration:r,swipeDirection:s,swipeThreshold:a,toastCount:u,viewport:l,onViewportChange:c,onToastAdd:E.useCallback(()=>d(A=>A+1),[]),onToastRemove:E.useCallback(()=>d(A=>A-1),[]),isFocusedToastEscapeKeyDownRef:h,isClosePausedRef:f,children:o})})};$ce.displayName=rz;var Wce="ToastViewport",eSe=["F8"],pR="toast.viewportPause",mR="toast.viewportResume",qce=E.forwardRef((t,e)=>{const{__scopeToast:n,hotkey:r=eSe,label:s="Notifications ({hotkey})",...a}=t,o=ck(Wce,n),l=YCe(n),c=E.useRef(null),u=E.useRef(null),d=E.useRef(null),h=E.useRef(null),f=Tn(e,h,o.onViewportChange),A=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),v=o.toastCount>0;E.useEffect(()=>{const m=g=>{var b;r.length!==0&&r.every(j=>g[j]||g.code===j)&&((b=h.current)==null||b.focus())};return document.addEventListener("keydown",m),()=>document.removeEventListener("keydown",m)},[r]),E.useEffect(()=>{const m=c.current,g=h.current;if(v&&m&&g){const x=()=>{if(!o.isClosePausedRef.current){const _=new CustomEvent(pR);g.dispatchEvent(_),o.isClosePausedRef.current=!0}},b=()=>{if(o.isClosePausedRef.current){const _=new CustomEvent(mR);g.dispatchEvent(_),o.isClosePausedRef.current=!1}},j=_=>{!m.contains(_.relatedTarget)&&b()},N=()=>{m.contains(document.activeElement)||b()};return m.addEventListener("focusin",x),m.addEventListener("focusout",j),m.addEventListener("pointermove",x),m.addEventListener("pointerleave",N),window.addEventListener("blur",x),window.addEventListener("focus",b),()=>{m.removeEventListener("focusin",x),m.removeEventListener("focusout",j),m.removeEventListener("pointermove",x),m.removeEventListener("pointerleave",N),window.removeEventListener("blur",x),window.removeEventListener("focus",b)}}},[v,o.isClosePausedRef]);const p=E.useCallback(({tabbingDirection:m})=>{const x=l().map(b=>{const j=b.ref.current,N=[j,...fSe(j)];return m==="forwards"?N:N.reverse()});return(m==="forwards"?x.reverse():x).flat()},[l]);return E.useEffect(()=>{const m=h.current;if(m){const g=x=>{var N,_,C;const b=x.altKey||x.ctrlKey||x.metaKey;if(x.key==="Tab"&&!b){const k=document.activeElement,T=x.shiftKey;if(x.target===m&&T){(N=u.current)==null||N.focus();return}const F=p({tabbingDirection:T?"backwards":"forwards"}),M=F.findIndex(S=>S===k);NP(F.slice(M+1))?x.preventDefault():T?(_=u.current)==null||_.focus():(C=d.current)==null||C.focus()}};return m.addEventListener("keydown",g),()=>m.removeEventListener("keydown",g)}},[l,p]),i.jsxs(QCe,{ref:c,role:"region","aria-label":s.replace("{hotkey}",A),tabIndex:-1,style:{pointerEvents:v?void 0:"none"},children:[v&&i.jsx(gR,{ref:u,onFocusFromOutsideViewport:()=>{const m=p({tabbingDirection:"forwards"});NP(m)}}),i.jsx(iz.Slot,{scope:n,children:i.jsx(Jt.ol,{tabIndex:-1,...a,ref:f})}),v&&i.jsx(gR,{ref:d,onFocusFromOutsideViewport:()=>{const m=p({tabbingDirection:"backwards"});NP(m)}})]})});qce.displayName=Wce;var Vce="ToastFocusProxy",gR=E.forwardRef((t,e)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...s}=t,a=ck(Vce,n);return i.jsx(lk,{"aria-hidden":!0,tabIndex:0,...s,ref:e,style:{position:"fixed"},onFocus:o=>{var u;const l=o.relatedTarget;!((u=a.viewport)!=null&&u.contains(l))&&r()}})});gR.displayName=Vce;var yS="Toast",tSe="toast.swipeStart",nSe="toast.swipeMove",rSe="toast.swipeCancel",iSe="toast.swipeEnd",Kce=E.forwardRef((t,e)=>{const{forceMount:n,open:r,defaultOpen:s,onOpenChange:a,...o}=t,[l,c]=Xu({prop:r,defaultProp:s??!0,onChange:a,caller:yS});return i.jsx(Jo,{present:n||l,children:i.jsx(oSe,{open:l,...o,ref:e,onClose:()=>c(!1),onPause:Gs(t.onPause),onResume:Gs(t.onResume),onSwipeStart:Ht(t.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Ht(t.onSwipeMove,u=>{const{x:d,y:h}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${h}px`)}),onSwipeCancel:Ht(t.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Ht(t.onSwipeEnd,u=>{const{x:d,y:h}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${h}px`),c(!1)})})})});Kce.displayName=yS;var[sSe,aSe]=zce(yS,{onClose(){}}),oSe=E.forwardRef((t,e)=>{const{__scopeToast:n,type:r="foreground",duration:s,open:a,onClose:o,onEscapeKeyDown:l,onPause:c,onResume:u,onSwipeStart:d,onSwipeMove:h,onSwipeCancel:f,onSwipeEnd:A,...v}=t,p=ck(yS,n),[m,g]=E.useState(null),x=Tn(e,S=>g(S)),b=E.useRef(null),j=E.useRef(null),N=s||p.duration,_=E.useRef(0),C=E.useRef(N),k=E.useRef(0),{onToastAdd:T,onToastRemove:O}=p,I=Gs(()=>{var q;(m==null?void 0:m.contains(document.activeElement))&&((q=p.viewport)==null||q.focus()),o()}),F=E.useCallback(S=>{!S||S===1/0||(window.clearTimeout(k.current),_.current=new Date().getTime(),k.current=window.setTimeout(I,S))},[I]);E.useEffect(()=>{const S=p.viewport;if(S){const q=()=>{F(C.current),u==null||u()},U=()=>{const L=new Date().getTime()-_.current;C.current=C.current-L,window.clearTimeout(k.current),c==null||c()};return S.addEventListener(pR,U),S.addEventListener(mR,q),()=>{S.removeEventListener(pR,U),S.removeEventListener(mR,q)}}},[p.viewport,N,c,u,F]),E.useEffect(()=>{a&&!p.isClosePausedRef.current&&F(N)},[a,N,p.isClosePausedRef,F]),E.useEffect(()=>(T(),()=>O()),[T,O]);const M=E.useMemo(()=>m?tue(m):null,[m]);return p.viewport?i.jsxs(i.Fragment,{children:[M&&i.jsx(lSe,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:M}),i.jsx(sSe,{scope:n,onClose:I,children:U2.createPortal(i.jsx(iz.ItemSlot,{scope:n,children:i.jsx(RCe,{asChild:!0,onEscapeKeyDown:Ht(l,()=>{p.isFocusedToastEscapeKeyDownRef.current||I(),p.isFocusedToastEscapeKeyDownRef.current=!1}),children:i.jsx(Jt.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":a?"open":"closed","data-swipe-direction":p.swipeDirection,...v,ref:x,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:Ht(t.onKeyDown,S=>{S.key==="Escape"&&(l==null||l(S.nativeEvent),S.nativeEvent.defaultPrevented||(p.isFocusedToastEscapeKeyDownRef.current=!0,I()))}),onPointerDown:Ht(t.onPointerDown,S=>{S.button===0&&(b.current={x:S.clientX,y:S.clientY})}),onPointerMove:Ht(t.onPointerMove,S=>{if(!b.current)return;const q=S.clientX-b.current.x,U=S.clientY-b.current.y,L=!!j.current,z=["left","right"].includes(p.swipeDirection),$=["left","up"].includes(p.swipeDirection)?Math.min:Math.max,K=z?$(0,q):0,V=z?0:$(0,U),H=S.pointerType==="touch"?10:2,W={x:K,y:V},Y={originalEvent:S,delta:W};L?(j.current=W,IE(nSe,h,Y,{discrete:!1})):WK(W,p.swipeDirection,H)?(j.current=W,IE(tSe,d,Y,{discrete:!1}),S.target.setPointerCapture(S.pointerId)):(Math.abs(q)>H||Math.abs(U)>H)&&(b.current=null)}),onPointerUp:Ht(t.onPointerUp,S=>{const q=j.current,U=S.target;if(U.hasPointerCapture(S.pointerId)&&U.releasePointerCapture(S.pointerId),j.current=null,b.current=null,q){const L=S.currentTarget,z={originalEvent:S,delta:q};WK(q,p.swipeDirection,p.swipeThreshold)?IE(iSe,A,z,{discrete:!0}):IE(rSe,f,z,{discrete:!0}),L.addEventListener("click",$=>$.preventDefault(),{once:!0})}})})})}),p.viewport)})]}):null}),lSe=t=>{const{__scopeToast:e,children:n,...r}=t,s=ck(yS,e),[a,o]=E.useState(!1),[l,c]=E.useState(!1);return dSe(()=>o(!0)),E.useEffect(()=>{const u=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(u)},[]),l?null:i.jsx(Q2,{asChild:!0,children:i.jsx(lk,{...r,children:a&&i.jsxs(i.Fragment,{children:[s.label," ",n]})})})},cSe="ToastTitle",Gce=E.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return i.jsx(Jt.div,{...r,ref:e})});Gce.displayName=cSe;var uSe="ToastDescription",Xce=E.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return i.jsx(Jt.div,{...r,ref:e})});Xce.displayName=uSe;var Yce="ToastAction",Jce=E.forwardRef((t,e)=>{const{altText:n,...r}=t;return n.trim()?i.jsx(eue,{altText:n,asChild:!0,children:i.jsx(sz,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${Yce}\`. Expected non-empty \`string\`.`),null)});Jce.displayName=Yce;var Zce="ToastClose",sz=E.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t,s=aSe(Zce,n);return i.jsx(eue,{asChild:!0,children:i.jsx(Jt.button,{type:"button",...r,ref:e,onClick:Ht(t.onClick,s.onClose)})})});sz.displayName=Zce;var eue=E.forwardRef((t,e)=>{const{__scopeToast:n,altText:r,...s}=t;return i.jsx(Jt.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...s,ref:e})});function tue(t){const e=[];return Array.from(t.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),hSe(r)){const s=r.ariaHidden||r.hidden||r.style.display==="none",a=r.dataset.radixToastAnnounceExclude==="";if(!s)if(a){const o=r.dataset.radixToastAnnounceAlt;o&&e.push(o)}else e.push(...tue(r))}}),e}function IE(t,e,n,{discrete:r}){const s=n.originalEvent.currentTarget,a=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?Fce(s,a):s.dispatchEvent(a)}var WK=(t,e,n=0)=>{const r=Math.abs(t.x),s=Math.abs(t.y),a=r>s;return e==="left"||e==="right"?a&&r>n:!a&&s>n};function dSe(t=()=>{}){const e=Gs(t);Qs(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[e])}function hSe(t){return t.nodeType===t.ELEMENT_NODE}function fSe(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function NP(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}var ASe=$ce,nue=qce,rue=Kce,iue=Gce,sue=Xce,aue=Jce,oue=sz;const pSe=ASe,lue=E.forwardRef(({className:t,...e},n)=>i.jsx(nue,{ref:n,className:Vt("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));lue.displayName=nue.displayName;const mSe=M2("group pointer-events-auto relative flex w-full items-center justify-between space-x-2 overflow-hidden rounded-md border border-zinc-200 p-4 pr-6 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full dark:border-zinc-800",{variants:{variant:{default:"border bg-white text-zinc-950 dark:bg-zinc-950 dark:text-zinc-50",destructive:"destructive group border-red-500 bg-red-500 text-zinc-50 dark:border-red-900 dark:bg-red-900 dark:text-zinc-50"}},defaultVariants:{variant:"default"}}),cue=E.forwardRef(({className:t,variant:e,...n},r)=>i.jsx(rue,{ref:r,className:Vt(mSe({variant:e}),t),...n}));cue.displayName=rue.displayName;const gSe=E.forwardRef(({className:t,...e},n)=>i.jsx(aue,{ref:n,className:Vt("inline-flex h-8 shrink-0 items-center justify-center rounded-md border border-zinc-200 bg-transparent px-3 text-sm font-medium transition-colors hover:bg-zinc-100 focus:outline-none focus:ring-1 focus:ring-zinc-950 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-zinc-100/40 group-[.destructive]:hover:border-red-500/30 group-[.destructive]:hover:bg-red-500 group-[.destructive]:hover:text-zinc-50 group-[.destructive]:focus:ring-red-500 dark:border-zinc-800 dark:hover:bg-zinc-800 dark:focus:ring-zinc-300 dark:group-[.destructive]:border-zinc-800/40 dark:group-[.destructive]:hover:border-red-900/30 dark:group-[.destructive]:hover:bg-red-900 dark:group-[.destructive]:hover:text-zinc-50 dark:group-[.destructive]:focus:ring-red-900",t),...e}));gSe.displayName=aue.displayName;const uue=E.forwardRef(({className:t,...e},n)=>i.jsx(oue,{ref:n,className:Vt("absolute right-1 top-1 rounded-md p-1 text-zinc-950/50 opacity-0 transition-opacity hover:text-zinc-950 focus:opacity-100 focus:outline-none focus:ring-1 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600 dark:text-zinc-50/50 dark:hover:text-zinc-50",t),"toast-close":"",...e,children:i.jsx(sh,{className:"h-4 w-4"})}));uue.displayName=oue.displayName;const due=E.forwardRef(({className:t,...e},n)=>i.jsx(iue,{ref:n,className:Vt("text-sm font-semibold [&+div]:text-xs",t),...e}));due.displayName=iue.displayName;const hue=E.forwardRef(({className:t,...e},n)=>i.jsx(sue,{ref:n,className:Vt("text-sm opacity-90",t),...e}));hue.displayName=sue.displayName;function fue(){const{toasts:t}=ki();return i.jsxs(pSe,{children:[t.map(function({id:e,title:n,description:r,action:s,...a}){return i.jsxs(cue,{...a,children:[i.jsxs("div",{className:"grid gap-1",children:[n&&i.jsx(due,{children:n}),r&&i.jsx(hue,{children:r})]}),s,i.jsx(uue,{})]},e)}),i.jsx(lue,{})]})}const bl="http://localhost:5000/api";class xSe{async getProjects(){try{const n=await(await fetch(`${bl}/projects`)).json();if(n.success)return n.projects||[];throw new Error(n.error||"فشل في جلب المشاريع")}catch(e){throw console.error("خطأ في جلب المشاريع:",e),e}}async createProject(e="مشروع جديد",n="وصف المشروع الجديد"){try{const s=await(await fetch(`${bl}/projects`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({title:e,description:n})})).json();if(s.success)return s.project_id;throw new Error(s.error||"فشل في إنشاء المشروع")}catch(r){throw console.error("خطأ في إنشاء المشروع:",r),r}}async getProject(e){try{const r=await(await fetch(`${bl}/projects/${e}`)).json();if(r.success)return r.project;throw new Error(r.error||"فشل في جلب المشروع")}catch(n){throw console.error("خطأ في جلب المشروع:",n),n}}async deleteProject(e){try{return(await(await fetch(`${bl}/projects/${e}`,{method:"DELETE"})).json()).success||!1}catch(n){throw console.error("خطأ في حذف المشروع:",n),n}}async saveProjectData(e,n){try{return(await(await fetch(`${bl}/projects/${e}/save`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({stage_data:n})})).json()).success||!1}catch(r){throw console.error("خطأ في حفظ بيانات المشروع:",r),r}}async updateProjectStage(e,n){try{return(await(await fetch(`${bl}/projects/${e}/stage`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({stage:n})})).json()).success||!1}catch(r){throw console.error("خطأ في تحديث مرحلة المشروع:",r),r}}}class vSe{async getWorkflowTemplates(){try{const n=await(await fetch(`${bl}/workflows/templates`)).json();if(n.success)return n.templates||[];throw new Error(n.error||"فشل في جلب قوالب سير العمل")}catch(e){throw console.error("خطأ في جلب قوالب سير العمل:",e),e}}async createWorkflowFromTemplate(e){try{const r=await(await fetch(`${bl}/workflows/create-from-template`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({template_id:e})})).json();if(r.success)return r.workflow;throw new Error(r.error||"فشل في إنشاء سير العمل")}catch(n){throw console.error("خطأ في إنشاء سير العمل:",n),n}}async runWorkflow(e,n={}){try{const s=await(await fetch(`${bl}/workflows/run`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({workflow:e,initial_data:n})})).json();if(s.success)return s;throw new Error(s.error||"فشل في تشغيل سير العمل")}catch(r){throw console.error("خطأ في تشغيل سير العمل:",r),r}}async getWorkflowProgress(e){try{return await(await fetch(`${bl}/workflows/progress/${e}`)).json()}catch(n){throw console.error("خطأ في جلب تقدم سير العمل:",n),n}}async cancelWorkflow(e){try{return(await(await fetch(`${bl}/workflows/cancel/${e}`,{method:"POST"})).json()).success||!1}catch(n){throw console.error("خطأ في إلغاء سير العمل:",n),n}}async saveWorkflow(e,n={}){try{const s=await(await fetch(`${bl}/workflows/save`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({workflow:e,...n})})).json();if(s.success)return s.workflow_id;throw new Error(s.error||"فشل في حفظ سير العمل")}catch(r){throw console.error("خطأ في حفظ سير العمل:",r),r}}async loadWorkflow(e){try{const r=await(await fetch(`${bl}/workflows/load/${e}`)).json();if(r.success)return r;throw new Error(r.error||"فشل في تحميل سير العمل")}catch(n){throw console.error("خطأ في تحميل سير العمل:",n),n}}async listWorkflows(){try{const n=await(await fetch(`${bl}/workflows/list`)).json();if(n.success)return n.workflows||[];throw new Error(n.error||"فشل في جلب قائمة سير العمل")}catch(e){throw console.error("خطأ في جلب قائمة سير العمل:",e),e}}async deleteWorkflow(e){try{return(await(await fetch(`${bl}/workflows/delete/${e}`,{method:"DELETE"})).json()).success||!1}catch(n){throw console.error("خطأ في حذف سير العمل:",n),n}}}const kv=new xSe,ySe=new vSe;var bSe=nk[" useId ".trim().toString()]||(()=>{}),wSe=0;function Cf(t){const[e,n]=E.useState(bSe());return Qs(()=>{n(r=>r??String(wSe++))},[t]),e?`radix-${e}`:""}var _P="focusScope.autoFocusOnMount",CP="focusScope.autoFocusOnUnmount",qK={bubbles:!1,cancelable:!0},jSe="FocusScope",uk=E.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:a,...o}=t,[l,c]=E.useState(null),u=Gs(s),d=Gs(a),h=E.useRef(null),f=Tn(e,p=>c(p)),A=E.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;E.useEffect(()=>{if(r){let p=function(b){if(A.paused||!l)return;const j=b.target;l.contains(j)?h.current=j:Wm(h.current,{select:!0})},m=function(b){if(A.paused||!l)return;const j=b.relatedTarget;j!==null&&(l.contains(j)||Wm(h.current,{select:!0}))},g=function(b){if(document.activeElement===document.body)for(const N of b)N.removedNodes.length>0&&Wm(l)};document.addEventListener("focusin",p),document.addEventListener("focusout",m);const x=new MutationObserver(g);return l&&x.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",p),document.removeEventListener("focusout",m),x.disconnect()}}},[r,l,A.paused]),E.useEffect(()=>{if(l){KK.add(A);const p=document.activeElement;if(!l.contains(p)){const g=new CustomEvent(_P,qK);l.addEventListener(_P,u),l.dispatchEvent(g),g.defaultPrevented||(NSe(BSe(Aue(l)),{select:!0}),document.activeElement===p&&Wm(l))}return()=>{l.removeEventListener(_P,u),setTimeout(()=>{const g=new CustomEvent(CP,qK);l.addEventListener(CP,d),l.dispatchEvent(g),g.defaultPrevented||Wm(p??document.body,{select:!0}),l.removeEventListener(CP,d),KK.remove(A)},0)}}},[l,u,d,A]);const v=E.useCallback(p=>{if(!n&&!r||A.paused)return;const m=p.key==="Tab"&&!p.altKey&&!p.ctrlKey&&!p.metaKey,g=document.activeElement;if(m&&g){const x=p.currentTarget,[b,j]=_Se(x);b&&j?!p.shiftKey&&g===j?(p.preventDefault(),n&&Wm(b,{select:!0})):p.shiftKey&&g===b&&(p.preventDefault(),n&&Wm(j,{select:!0})):g===x&&p.preventDefault()}},[n,r,A.paused]);return i.jsx(Jt.div,{tabIndex:-1,...o,ref:f,onKeyDown:v})});uk.displayName=jSe;function NSe(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(Wm(r,{select:e}),document.activeElement!==n)return}function _Se(t){const e=Aue(t),n=VK(e,t),r=VK(e.reverse(),t);return[n,r]}function Aue(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function VK(t,e){for(const n of t)if(!CSe(n,{upTo:e}))return n}function CSe(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function SSe(t){return t instanceof HTMLInputElement&&"select"in t}function Wm(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&SSe(t)&&e&&t.select()}}var KK=ESe();function ESe(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=GK(t,e),t.unshift(e)},remove(e){var n;t=GK(t,e),(n=t[0])==null||n.resume()}}}function GK(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function BSe(t){return t.filter(e=>e.tagName!=="A")}var SP=0;function az(){E.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??XK()),document.body.insertAdjacentElement("beforeend",t[1]??XK()),SP++,()=>{SP===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),SP--}},[])}function XK(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var xf=function(){return xf=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},xf.apply(this,arguments)};function pue(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function By(t,e,n,r){function s(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function l(d){try{u(r.next(d))}catch(h){o(h)}}function c(d){try{u(r.throw(d))}catch(h){o(h)}}function u(d){d.done?a(d.value):s(d.value).then(l,c)}u((r=r.apply(t,e||[])).next())})}function DSe(t,e,n){if(n||arguments.length===2)for(var r=0,s=e.length,a;r<s;r++)(a||!(r in e))&&(a||(a=Array.prototype.slice.call(e,0,r)),a[r]=e[r]);return t.concat(a||Array.prototype.slice.call(e))}var uB="right-scroll-bar-position",dB="width-before-scroll-bar",TSe="with-scroll-bars-hidden",kSe="--removed-body-scroll-bar-size";function EP(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function FSe(t,e){var n=E.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=e,n.facade}var PSe=typeof window<"u"?E.useLayoutEffect:E.useEffect,YK=new WeakMap;function USe(t,e){var n=FSe(null,function(r){return t.forEach(function(s){return EP(s,r)})});return PSe(function(){var r=YK.get(n);if(r){var s=new Set(r),a=new Set(t),o=n.current;s.forEach(function(l){a.has(l)||EP(l,null)}),a.forEach(function(l){s.has(l)||EP(l,o)})}YK.set(n,t)},[t]),n}function ISe(t){return t}function OSe(t,e){e===void 0&&(e=ISe);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(a){var o=e(a,r);return n.push(o),function(){n=n.filter(function(l){return l!==o})}},assignSyncMedium:function(a){for(r=!0;n.length;){var o=n;n=[],o.forEach(a)}n={push:function(l){return a(l)},filter:function(){return n}}},assignMedium:function(a){r=!0;var o=[];if(n.length){var l=n;n=[],l.forEach(a),o=n}var c=function(){var d=o;o=[],d.forEach(a)},u=function(){return Promise.resolve().then(c)};u(),n={push:function(d){o.push(d),u()},filter:function(d){return o=o.filter(d),n}}}};return s}function MSe(t){t===void 0&&(t={});var e=OSe(null);return e.options=xf({async:!0,ssr:!1},t),e}var mue=function(t){var e=t.sideCar,n=pue(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return E.createElement(r,xf({},n))};mue.isSideCarExport=!0;function LSe(t,e){return t.useMedium(e),mue}var gue=MSe(),BP=function(){},dk=E.forwardRef(function(t,e){var n=E.useRef(null),r=E.useState({onScrollCapture:BP,onWheelCapture:BP,onTouchMoveCapture:BP}),s=r[0],a=r[1],o=t.forwardProps,l=t.children,c=t.className,u=t.removeScrollBar,d=t.enabled,h=t.shards,f=t.sideCar,A=t.noRelative,v=t.noIsolation,p=t.inert,m=t.allowPinchZoom,g=t.as,x=g===void 0?"div":g,b=t.gapMode,j=pue(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),N=f,_=USe([n,e]),C=xf(xf({},j),s);return E.createElement(E.Fragment,null,d&&E.createElement(N,{sideCar:gue,removeScrollBar:u,shards:h,noRelative:A,noIsolation:v,inert:p,setCallbacks:a,allowPinchZoom:!!m,lockRef:n,gapMode:b}),o?E.cloneElement(E.Children.only(l),xf(xf({},C),{ref:_})):E.createElement(x,xf({},C,{className:c,ref:_}),l))});dk.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};dk.classNames={fullWidth:dB,zeroRight:uB};var RSe=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function QSe(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=RSe();return e&&t.setAttribute("nonce",e),t}function HSe(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function zSe(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var $Se=function(){var t=0,e=null;return{add:function(n){t==0&&(e=QSe())&&(HSe(e,n),zSe(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},WSe=function(){var t=$Se();return function(e,n){E.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},xue=function(){var t=WSe(),e=function(n){var r=n.styles,s=n.dynamic;return t(r,s),null};return e},qSe={left:0,top:0,right:0,gap:0},DP=function(t){return parseInt(t||"",10)||0},VSe=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],s=e[t==="padding"?"paddingRight":"marginRight"];return[DP(n),DP(r),DP(s)]},KSe=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return qSe;var e=VSe(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},GSe=xue(),g1="data-scroll-locked",XSe=function(t,e,n,r){var s=t.left,a=t.top,o=t.right,l=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(TSe,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(l,"px ").concat(r,`;
  }
  body[`).concat(g1,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(a,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(l,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(uB,` {
    right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(dB,` {
    margin-right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(uB," .").concat(uB,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(dB," .").concat(dB,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(g1,`] {
    `).concat(kSe,": ").concat(l,`px;
  }
`)},JK=function(){var t=parseInt(document.body.getAttribute(g1)||"0",10);return isFinite(t)?t:0},YSe=function(){E.useEffect(function(){return document.body.setAttribute(g1,(JK()+1).toString()),function(){var t=JK()-1;t<=0?document.body.removeAttribute(g1):document.body.setAttribute(g1,t.toString())}},[])},JSe=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,s=r===void 0?"margin":r;YSe();var a=E.useMemo(function(){return KSe(s)},[s]);return E.createElement(GSe,{styles:XSe(a,!e,s,n?"":"!important")})},xR=!1;if(typeof window<"u")try{var OE=Object.defineProperty({},"passive",{get:function(){return xR=!0,!0}});window.addEventListener("test",OE,OE),window.removeEventListener("test",OE,OE)}catch{xR=!1}var mb=xR?{passive:!1}:!1,ZSe=function(t){return t.tagName==="TEXTAREA"},vue=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!ZSe(t)&&n[e]==="visible")},eEe=function(t){return vue(t,"overflowY")},tEe=function(t){return vue(t,"overflowX")},ZK=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=yue(t,r);if(s){var a=bue(t,r),o=a[1],l=a[2];if(o>l)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},nEe=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},rEe=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},yue=function(t,e){return t==="v"?eEe(e):tEe(e)},bue=function(t,e){return t==="v"?nEe(e):rEe(e)},iEe=function(t,e){return t==="h"&&e==="rtl"?-1:1},sEe=function(t,e,n,r,s){var a=iEe(t,window.getComputedStyle(e).direction),o=a*r,l=n.target,c=e.contains(l),u=!1,d=o>0,h=0,f=0;do{if(!l)break;var A=bue(t,l),v=A[0],p=A[1],m=A[2],g=p-m-a*v;(v||g)&&yue(t,l)&&(h+=g,f+=v);var x=l.parentNode;l=x&&x.nodeType===Node.DOCUMENT_FRAGMENT_NODE?x.host:x}while(!c&&l!==document.body||c&&(e.contains(l)||e===l));return(d&&Math.abs(h)<1||!d&&Math.abs(f)<1)&&(u=!0),u},ME=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},eG=function(t){return[t.deltaX,t.deltaY]},tG=function(t){return t&&"current"in t?t.current:t},aEe=function(t,e){return t[0]===e[0]&&t[1]===e[1]},oEe=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},lEe=0,gb=[];function cEe(t){var e=E.useRef([]),n=E.useRef([0,0]),r=E.useRef(),s=E.useState(lEe++)[0],a=E.useState(xue)[0],o=E.useRef(t);E.useEffect(function(){o.current=t},[t]),E.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(s));var p=DSe([t.lockRef.current],(t.shards||[]).map(tG),!0).filter(Boolean);return p.forEach(function(m){return m.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),p.forEach(function(m){return m.classList.remove("allow-interactivity-".concat(s))})}}},[t.inert,t.lockRef.current,t.shards]);var l=E.useCallback(function(p,m){if("touches"in p&&p.touches.length===2||p.type==="wheel"&&p.ctrlKey)return!o.current.allowPinchZoom;var g=ME(p),x=n.current,b="deltaX"in p?p.deltaX:x[0]-g[0],j="deltaY"in p?p.deltaY:x[1]-g[1],N,_=p.target,C=Math.abs(b)>Math.abs(j)?"h":"v";if("touches"in p&&C==="h"&&_.type==="range")return!1;var k=ZK(C,_);if(!k)return!0;if(k?N=C:(N=C==="v"?"h":"v",k=ZK(C,_)),!k)return!1;if(!r.current&&"changedTouches"in p&&(b||j)&&(r.current=N),!N)return!0;var T=r.current||N;return sEe(T,m,p,T==="h"?b:j)},[]),c=E.useCallback(function(p){var m=p;if(!(!gb.length||gb[gb.length-1]!==a)){var g="deltaY"in m?eG(m):ME(m),x=e.current.filter(function(N){return N.name===m.type&&(N.target===m.target||m.target===N.shadowParent)&&aEe(N.delta,g)})[0];if(x&&x.should){m.cancelable&&m.preventDefault();return}if(!x){var b=(o.current.shards||[]).map(tG).filter(Boolean).filter(function(N){return N.contains(m.target)}),j=b.length>0?l(m,b[0]):!o.current.noIsolation;j&&m.cancelable&&m.preventDefault()}}},[]),u=E.useCallback(function(p,m,g,x){var b={name:p,delta:m,target:g,should:x,shadowParent:uEe(g)};e.current.push(b),setTimeout(function(){e.current=e.current.filter(function(j){return j!==b})},1)},[]),d=E.useCallback(function(p){n.current=ME(p),r.current=void 0},[]),h=E.useCallback(function(p){u(p.type,eG(p),p.target,l(p,t.lockRef.current))},[]),f=E.useCallback(function(p){u(p.type,ME(p),p.target,l(p,t.lockRef.current))},[]);E.useEffect(function(){return gb.push(a),t.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:f}),document.addEventListener("wheel",c,mb),document.addEventListener("touchmove",c,mb),document.addEventListener("touchstart",d,mb),function(){gb=gb.filter(function(p){return p!==a}),document.removeEventListener("wheel",c,mb),document.removeEventListener("touchmove",c,mb),document.removeEventListener("touchstart",d,mb)}},[]);var A=t.removeScrollBar,v=t.inert;return E.createElement(E.Fragment,null,v?E.createElement(a,{styles:oEe(s)}):null,A?E.createElement(JSe,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function uEe(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const dEe=LSe(gue,cEe);var hk=E.forwardRef(function(t,e){return E.createElement(dk,xf({},t,{ref:e,sideCar:dEe}))});hk.classNames=dk.classNames;var hEe=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},xb=new WeakMap,LE=new WeakMap,RE={},TP=0,wue=function(t){return t&&(t.host||wue(t.parentNode))},fEe=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=wue(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},AEe=function(t,e,n,r){var s=fEe(e,Array.isArray(t)?t:[t]);RE[n]||(RE[n]=new WeakMap);var a=RE[n],o=[],l=new Set,c=new Set(s),u=function(h){!h||l.has(h)||(l.add(h),u(h.parentNode))};s.forEach(u);var d=function(h){!h||c.has(h)||Array.prototype.forEach.call(h.children,function(f){if(l.has(f))d(f);else try{var A=f.getAttribute(r),v=A!==null&&A!=="false",p=(xb.get(f)||0)+1,m=(a.get(f)||0)+1;xb.set(f,p),a.set(f,m),o.push(f),p===1&&v&&LE.set(f,!0),m===1&&f.setAttribute(n,"true"),v||f.setAttribute(r,"true")}catch(g){console.error("aria-hidden: cannot operate on ",f,g)}})};return d(e),l.clear(),TP++,function(){o.forEach(function(h){var f=xb.get(h)-1,A=a.get(h)-1;xb.set(h,f),a.set(h,A),f||(LE.has(h)||h.removeAttribute(r),LE.delete(h)),A||h.removeAttribute(n)}),TP--,TP||(xb=new WeakMap,xb=new WeakMap,LE=new WeakMap,RE={})}},oz=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),s=hEe(t);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live], script"))),AEe(r,s,n,"aria-hidden")):function(){return null}},fk="Dialog",[jue,Nue]=qa(fk),[pEe,gh]=jue(fk),_ue=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:s,onOpenChange:a,modal:o=!0}=t,l=E.useRef(null),c=E.useRef(null),[u,d]=Xu({prop:r,defaultProp:s??!1,onChange:a,caller:fk});return i.jsx(pEe,{scope:e,triggerRef:l,contentRef:c,contentId:Cf(),titleId:Cf(),descriptionId:Cf(),open:u,onOpenChange:d,onOpenToggle:E.useCallback(()=>d(h=>!h),[d]),modal:o,children:n})};_ue.displayName=fk;var Cue="DialogTrigger",Sue=E.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=gh(Cue,n),a=Tn(e,s.triggerRef);return i.jsx(Jt.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":uz(s.open),...r,ref:a,onClick:Ht(t.onClick,s.onOpenToggle)})});Sue.displayName=Cue;var lz="DialogPortal",[mEe,Eue]=jue(lz,{forceMount:void 0}),Bue=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:s}=t,a=gh(lz,e);return i.jsx(mEe,{scope:e,forceMount:n,children:E.Children.map(r,o=>i.jsx(Jo,{present:n||a.open,children:i.jsx(Q2,{asChild:!0,container:s,children:o})}))})};Bue.displayName=lz;var PD="DialogOverlay",Due=E.forwardRef((t,e)=>{const n=Eue(PD,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,a=gh(PD,t.__scopeDialog);return a.modal?i.jsx(Jo,{present:r||a.open,children:i.jsx(xEe,{...s,ref:e})}):null});Due.displayName=PD;var gEe=iy("DialogOverlay.RemoveScroll"),xEe=E.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=gh(PD,n);return i.jsx(hk,{as:gEe,allowPinchZoom:!0,shards:[s.contentRef],children:i.jsx(Jt.div,{"data-state":uz(s.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),sy="DialogContent",Tue=E.forwardRef((t,e)=>{const n=Eue(sy,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,a=gh(sy,t.__scopeDialog);return i.jsx(Jo,{present:r||a.open,children:a.modal?i.jsx(vEe,{...s,ref:e}):i.jsx(yEe,{...s,ref:e})})});Tue.displayName=sy;var vEe=E.forwardRef((t,e)=>{const n=gh(sy,t.__scopeDialog),r=E.useRef(null),s=Tn(e,n.contentRef,r);return E.useEffect(()=>{const a=r.current;if(a)return oz(a)},[]),i.jsx(kue,{...t,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Ht(t.onCloseAutoFocus,a=>{var o;a.preventDefault(),(o=n.triggerRef.current)==null||o.focus()}),onPointerDownOutside:Ht(t.onPointerDownOutside,a=>{const o=a.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0;(o.button===2||l)&&a.preventDefault()}),onFocusOutside:Ht(t.onFocusOutside,a=>a.preventDefault())})}),yEe=E.forwardRef((t,e)=>{const n=gh(sy,t.__scopeDialog),r=E.useRef(!1),s=E.useRef(!1);return i.jsx(kue,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var o,l;(o=t.onCloseAutoFocus)==null||o.call(t,a),a.defaultPrevented||(r.current||(l=n.triggerRef.current)==null||l.focus(),a.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:a=>{var c,u;(c=t.onInteractOutside)==null||c.call(t,a),a.defaultPrevented||(r.current=!0,a.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const o=a.target;((u=n.triggerRef.current)==null?void 0:u.contains(o))&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&s.current&&a.preventDefault()}})}),kue=E.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:a,...o}=t,l=gh(sy,n),c=E.useRef(null),u=Tn(e,c);return az(),i.jsxs(i.Fragment,{children:[i.jsx(uk,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:a,children:i.jsx(R2,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":uz(l.open),...o,ref:u,onDismiss:()=>l.onOpenChange(!1)})}),i.jsxs(i.Fragment,{children:[i.jsx(wEe,{titleId:l.titleId}),i.jsx(NEe,{contentRef:c,descriptionId:l.descriptionId})]})]})}),cz="DialogTitle",Fue=E.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=gh(cz,n);return i.jsx(Jt.h2,{id:s.titleId,...r,ref:e})});Fue.displayName=cz;var Pue="DialogDescription",Uue=E.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=gh(Pue,n);return i.jsx(Jt.p,{id:s.descriptionId,...r,ref:e})});Uue.displayName=Pue;var Iue="DialogClose",Oue=E.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=gh(Iue,n);return i.jsx(Jt.button,{type:"button",...r,ref:e,onClick:Ht(t.onClick,()=>s.onOpenChange(!1))})});Oue.displayName=Iue;function uz(t){return t?"open":"closed"}var Mue="DialogTitleWarning",[bEe,Lue]=vCe(Mue,{contentName:sy,titleName:cz,docsSlug:"dialog"}),wEe=({titleId:t})=>{const e=Lue(Mue),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return E.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},jEe="DialogDescriptionWarning",NEe=({contentRef:t,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${Lue(jEe).contentName}}.`;return E.useEffect(()=>{var a;const s=(a=t.current)==null?void 0:a.getAttribute("aria-describedby");e&&s&&(document.getElementById(e)||console.warn(r))},[r,t,e]),null},dz=_ue,hz=Sue,fz=Bue,bS=Due,wS=Tue,jS=Fue,NS=Uue,Ak=Oue,Rue="AlertDialog",[_Ee,Dmt]=qa(Rue,[Nue]),Qp=Nue(),Que=t=>{const{__scopeAlertDialog:e,...n}=t,r=Qp(e);return i.jsx(dz,{...r,...n,modal:!0})};Que.displayName=Rue;var CEe="AlertDialogTrigger",Hue=E.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,s=Qp(n);return i.jsx(hz,{...s,...r,ref:e})});Hue.displayName=CEe;var SEe="AlertDialogPortal",zue=t=>{const{__scopeAlertDialog:e,...n}=t,r=Qp(e);return i.jsx(fz,{...r,...n})};zue.displayName=SEe;var EEe="AlertDialogOverlay",$ue=E.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,s=Qp(n);return i.jsx(bS,{...s,...r,ref:e})});$ue.displayName=EEe;var x1="AlertDialogContent",[BEe,DEe]=_Ee(x1),TEe=_ce("AlertDialogContent"),Wue=E.forwardRef((t,e)=>{const{__scopeAlertDialog:n,children:r,...s}=t,a=Qp(n),o=E.useRef(null),l=Tn(e,o),c=E.useRef(null);return i.jsx(bEe,{contentName:x1,titleName:que,docsSlug:"alert-dialog",children:i.jsx(BEe,{scope:n,cancelRef:c,children:i.jsxs(wS,{role:"alertdialog",...a,...s,ref:l,onOpenAutoFocus:Ht(s.onOpenAutoFocus,u=>{var d;u.preventDefault(),(d=c.current)==null||d.focus({preventScroll:!0})}),onPointerDownOutside:u=>u.preventDefault(),onInteractOutside:u=>u.preventDefault(),children:[i.jsx(TEe,{children:r}),i.jsx(FEe,{contentRef:o})]})})})});Wue.displayName=x1;var que="AlertDialogTitle",Vue=E.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,s=Qp(n);return i.jsx(jS,{...s,...r,ref:e})});Vue.displayName=que;var Kue="AlertDialogDescription",Gue=E.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,s=Qp(n);return i.jsx(NS,{...s,...r,ref:e})});Gue.displayName=Kue;var kEe="AlertDialogAction",Xue=E.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,s=Qp(n);return i.jsx(Ak,{...s,...r,ref:e})});Xue.displayName=kEe;var Yue="AlertDialogCancel",Jue=E.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,{cancelRef:s}=DEe(Yue,n),a=Qp(n),o=Tn(e,s);return i.jsx(Ak,{...a,...r,ref:o})});Jue.displayName=Yue;var FEe=({contentRef:t})=>{const e=`\`${x1}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${x1}\` by passing a \`${Kue}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${x1}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return E.useEffect(()=>{var r;document.getElementById((r=t.current)==null?void 0:r.getAttribute("aria-describedby"))||console.warn(e)},[e,t]),null},PEe=Que,UEe=Hue,IEe=zue,Zue=$ue,ede=Wue,tde=Xue,nde=Jue,rde=Vue,ide=Gue;const sde=PEe,OEe=UEe,MEe=IEe,ade=E.forwardRef(({className:t,...e},n)=>i.jsx(Zue,{className:Vt("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e,ref:n}));ade.displayName=Zue.displayName;const Az=E.forwardRef(({className:t,...e},n)=>i.jsxs(MEe,{children:[i.jsx(ade,{}),i.jsx(ede,{ref:n,className:Vt("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border border-zinc-200 bg-white p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg dark:border-zinc-800 dark:bg-zinc-950",t),...e})]}));Az.displayName=ede.displayName;const pz=({className:t,...e})=>i.jsx("div",{className:Vt("flex flex-col space-y-2 text-center sm:text-left",t),...e});pz.displayName="AlertDialogHeader";const mz=({className:t,...e})=>i.jsx("div",{className:Vt("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});mz.displayName="AlertDialogFooter";const gz=E.forwardRef(({className:t,...e},n)=>i.jsx(rde,{ref:n,className:Vt("text-lg font-semibold",t),...e}));gz.displayName=rde.displayName;const xz=E.forwardRef(({className:t,...e},n)=>i.jsx(ide,{ref:n,className:Vt("text-sm text-zinc-500 dark:text-zinc-400",t),...e}));xz.displayName=ide.displayName;const ode=E.forwardRef(({className:t,...e},n)=>i.jsx(tde,{ref:n,className:Vt(ez(),t),...e}));ode.displayName=tde.displayName;const vz=E.forwardRef(({className:t,...e},n)=>i.jsx(nde,{ref:n,className:Vt(ez({variant:"outline"}),"mt-2 sm:mt-0",t),...e}));vz.displayName=nde.displayName;const LEe=()=>{const{state:t}=Ju(),{toast:e}=ki(),[n,r]=E.useState([]),[s,a]=E.useState([]),[o,l]=E.useState(!0),[c,u]=E.useState({totalProjects:0,totalWords:0,averageQuality:0,writingHours:0});E.useEffect(()=>{d()},[]);const d=async()=>{try{l(!0);const m=await kv.getProjects();r(m);const g=await ySe.listWorkflows();a(g),h(m,g)}catch(m){console.error("خطأ في جلب بيانات لوحة القيادة:",m),e({title:"خطأ في جلب البيانات",description:"تعذر تحميل بيانات لوحة القيادة. جارٍ استخدام البيانات المحفوظة محلياً.",variant:"destructive"})}finally{l(!1)}},h=(m,g)=>{const x=m.length,b=m.length>0?m.reduce((C,k)=>C+k.current_stage,0)/m.length:0,j=Math.round(b/6*100),N=m.reduce((C,k)=>C+k.current_stage*5e3,0),_=Math.round(N/500);u({totalProjects:x,totalWords:N,averageQuality:j,writingHours:_})},f=[{title:"إجمالي المشاريع",value:c.totalProjects.toString(),change:`+${c.totalProjects}`,icon:dr,color:"text-blue-600"},{title:"الكلمات المقدرة",value:c.totalWords.toLocaleString(),change:`+${Math.round(c.totalWords*.1).toLocaleString()}`,icon:xn,color:"text-green-600"},{title:"تقدم المشاريع",value:`${c.averageQuality}%`,change:`+${Math.round(c.averageQuality*.05)}%`,icon:Hn,color:"text-yellow-600"},{title:"ساعات العمل المقدرة",value:c.writingHours.toString(),change:`+${Math.round(c.writingHours*.15)}`,icon:xr,color:"text-purple-600"}],A=async()=>{try{e({title:"إنشاء مشروع جديد",description:"جارٍ تحضير مساحة عمل لمشروعك الجديد...",duration:3e3});const m=await kv.createProject();await d(),e({title:"تم إنشاء المشروع",description:`تم إنشاء المشروع رقم ${m} بنجاح. يمكنك الآن البدء في رحلة الكتابة.`,duration:3e3})}catch(m){console.error("خطأ في إنشاء المشروع:",m),e({title:"خطأ في إنشاء المشروع",description:"تعذر إنشاء مشروع جديد. يرجى المحاولة مرة أخرى.",variant:"destructive"})}},v=async m=>{try{e({title:"فتح المشروع",description:`جارٍ فتح المشروع رقم ${m}...`,duration:2e3});const g=await kv.getProject(m);g&&e({title:"تم فتح المشروع",description:`تم فتح "${g.title}" بنجاح.`,duration:3e3})}catch(g){console.error("خطأ في فتح المشروع:",g),e({title:"خطأ في فتح المشروع",description:"تعذر فتح المشروع. يرجى المحاولة مرة أخرى.",variant:"destructive"})}},p=async m=>{try{if(e({title:"حذف المشروع",description:`جارٍ حذف المشروع رقم ${m}...`,duration:2e3,variant:"destructive"}),await kv.deleteProject(m))await d(),e({title:"تم حذف المشروع",description:`تم حذف المشروع رقم ${m} بنجاح.`,duration:3e3});else throw new Error("فشل في حذف المشروع")}catch(g){console.error("خطأ في حذف المشروع:",g),e({title:"خطأ في حذف المشروع",description:"تعذر حذف المشروع. يرجى المحاولة مرة أخرى.",variant:"destructive"})}};return i.jsxs("div",{className:"space-y-8",children:[i.jsxs("div",{className:"relative overflow-hidden rounded-2xl bg-gradient-to-r from-blue-600 to-purple-600 text-white",children:[i.jsx("div",{className:"absolute inset-0 bg-black/20"}),i.jsx("div",{className:"relative p-8",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold mb-2",children:"مرحباً بك في منصة الكتابة العربية الذكية"}),i.jsx("p",{className:"text-blue-100 text-lg max-w-2xl",children:"استخدم قوة الذكاء الاصطناعي لإنشاء روايات عربية أصيلة ومبدعة. اكتشف رحلة الكتابة الذكية وابدأ مشروعك الجديد اليوم."})]}),i.jsxs("div",{className:"flex gap-4",children:[i.jsx(PA,{to:"/ai-journey",children:i.jsxs(xe,{size:"lg",variant:"secondary",className:"flex items-center gap-2",children:[i.jsx(Qn,{className:"h-5 w-5"}),"بدء رحلة الكتابة الذكية",i.jsx(ea,{className:"h-4 w-4"})]})}),i.jsxs(xe,{size:"lg",variant:"outline",className:"text-white border-white hover:bg-white/10",onClick:A,children:[i.jsx(us,{className:"h-5 w-5 ml-2"}),"مشروع جديد"]})]})]})})]}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:o?[...Array(4)].map((m,g)=>i.jsxs(ae,{className:"animate-pulse",children:[i.jsxs(Te,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx("div",{className:"h-4 bg-gray-200 rounded w-24"}),i.jsx("div",{className:"h-5 w-5 bg-gray-200 rounded"})]}),i.jsxs(oe,{children:[i.jsx("div",{className:"h-8 bg-gray-200 rounded w-16 mb-2"}),i.jsx("div",{className:"h-3 bg-gray-200 rounded w-20"})]})]},g)):f.map(m=>{const g=m.icon;return i.jsxs(ae,{children:[i.jsxs(Te,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(ke,{className:"text-sm font-medium text-gray-600",children:m.title}),i.jsx(g,{className:`h-5 w-5 ${m.color}`})]}),i.jsxs(oe,{children:[i.jsx("div",{className:"text-2xl font-bold",children:m.value}),i.jsxs("p",{className:"text-xs text-green-600 mt-1",children:[m.change," من الشهر الماضي"]})]})]},m.title)})}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[i.jsx("div",{className:"lg:col-span-2",children:i.jsxs(ae,{children:[i.jsx(Te,{children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx(ke,{children:"إدارة المشاريع"}),i.jsx(Pt,{children:"إنشاء، فتح، وحذف المشاريع"})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsxs(xe,{variant:"outline",size:"sm",onClick:A,children:[i.jsx(us,{className:"h-4 w-4 mr-2"}),"مشروع جديد"]}),i.jsx(PA,{to:"/workflow-builder",children:i.jsxs(xe,{variant:"outline",size:"sm",className:"flex items-center gap-2",children:[i.jsx(Np,{className:"h-4 w-4"}),"المدير الفني للرواية"]})})]})]})}),i.jsx(oe,{className:"space-y-4",children:o?[...Array(3)].map((m,g)=>i.jsx("div",{className:"p-4 border rounded-lg animate-pulse",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex-1",children:[i.jsx("div",{className:"h-5 bg-gray-200 rounded w-48 mb-2"}),i.jsx("div",{className:"h-4 bg-gray-200 rounded w-32 mb-3"}),i.jsx("div",{className:"h-3 bg-gray-200 rounded w-64"})]}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"h-12 w-20 bg-gray-200 rounded"}),i.jsx("div",{className:"h-8 w-8 bg-gray-200 rounded"}),i.jsx("div",{className:"h-8 w-8 bg-gray-200 rounded"})]})]})},g)):n.length>0?n.map(m=>{const g=Math.round(m.current_stage/6*100),x=m.current_stage*5e3;return i.jsxs("div",{className:"p-4 border rounded-lg hover:bg-gray-50 transition-colors flex items-center justify-between",children:[i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[i.jsx("h3",{className:"font-semibold",children:m.title}),i.jsxs(He,{variant:"secondary",children:["المرحلة ",m.current_stage]})]}),i.jsx("p",{className:"text-sm text-gray-600 mb-3",children:m.description}),i.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-500",children:[i.jsxs("span",{children:[x.toLocaleString()," كلمة مقدرة"]}),i.jsxs("span",{children:["آخر تعديل: ",new Date(m.last_saved).toLocaleDateString("ar-SA")]})]})]}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsxs("div",{className:"text-left min-w-[100px]",children:[i.jsxs("div",{className:"text-sm font-medium mb-2",children:[g,"%"]}),i.jsx(tt,{value:g,className:"w-20"})]}),i.jsx(xe,{variant:"ghost",size:"sm",onClick:()=>v(m.id),title:"فتح المشروع",children:i.jsx(BD,{className:"h-4 w-4"})}),i.jsxs(sde,{children:[i.jsx(OEe,{asChild:!0,children:i.jsx(xe,{variant:"ghost",size:"sm",className:"text-red-500 hover:text-red-600",title:"حذف المشروع",children:i.jsx(vS,{className:"h-4 w-4"})})}),i.jsxs(Az,{children:[i.jsxs(pz,{children:[i.jsx(gz,{children:"هل أنت متأكد تماماً؟"}),i.jsxs(xz,{children:["سيؤدي هذا الإجراء إلى حذف مشروع ",i.jsxs("span",{className:"font-semibold",children:['"',m.title,'"']})," بشكل دائم من خوادمنا. لا يمكن التراجع عن هذا الإجراء."]})]}),i.jsxs(mz,{children:[i.jsx(vz,{children:"إلغاء"}),i.jsx(ode,{onClick:()=>p(m.id),className:"bg-red-500 hover:bg-red-600",children:"حذف"})]})]})]})]})]},m.id)}):i.jsxs("div",{className:"text-center py-8 text-gray-500",children:[i.jsx("p",{children:"لا توجد مشاريع حالياً. ابدأ مشروعك الأول!"}),i.jsxs(xe,{onClick:A,className:"mt-4",children:[i.jsx(us,{className:"h-4 w-4 mr-2"}),"إنشاء مشروع جديد"]})]})})]})}),i.jsx("div",{children:i.jsxs(ae,{children:[i.jsxs(Te,{children:[i.jsxs(ke,{className:"flex items-center gap-2",children:[i.jsx(Qn,{className:"h-5 w-5 text-purple-600"}),"رحلة الكتابة الذكية"]}),i.jsx(Pt,{children:"نظام متطور للكتابة بالذكاء الاصطناعي"})]}),i.jsx(oe,{children:i.jsxs("div",{className:"space-y-4",children:[t.sourceAnalysis?i.jsxs("div",{className:"p-4 bg-purple-50 rounded-lg",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[i.jsx(zt,{className:"h-4 w-4 text-purple-600"}),i.jsx("span",{className:"font-medium text-purple-900",children:"رحلة جارية"})]}),i.jsx("p",{className:"text-sm text-purple-700 mb-3",children:t.sourceAnalysis.title}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("span",{className:"text-sm text-purple-600",children:["المرحلة ",t.currentStage," من 6"]}),i.jsx(PA,{to:"/ai-journey",children:i.jsx(xe,{size:"sm",variant:"outline",children:"متابعة"})})]})]}):i.jsxs("div",{className:"text-center py-6",children:[i.jsx(Qn,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),i.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"ابدأ رحلتك الآن"}),i.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"استخدم الذكاء الاصطناعي لإنشاء رواية عربية مبدعة"}),i.jsx(PA,{to:"/ai-journey",children:i.jsx(xe,{size:"sm",className:"w-full",children:"بدء الرحلة"})})]}),i.jsxs("div",{className:"border-t pt-4",children:[i.jsx("h5",{className:"font-medium mb-3",children:"نصائح سريعة"}),i.jsxs("ul",{className:"space-y-2 text-sm text-gray-600",children:[i.jsxs("li",{className:"flex items-start gap-2",children:[i.jsx("div",{className:"w-1.5 h-1.5 bg-blue-500 rounded-full mt-2 flex-shrink-0"}),"اختر رواية مصدر غنية بالأسلوب والعمق الثقافي"]}),i.jsxs("li",{className:"flex items-start gap-2",children:[i.jsx("div",{className:"w-1.5 h-1.5 bg-blue-500 rounded-full mt-2 flex-shrink-0"}),"راجع نتائج التحليل قبل الانتقال للمرحلة التالية"]}),i.jsxs("li",{className:"flex items-start gap-2",children:[i.jsx("div",{className:"w-1.5 h-1.5 bg-blue-500 rounded-full mt-2 flex-shrink-0"}),"استفد من أدوات التحرير التفاعلي"]})]})]})]})})]})})]}),i.jsxs(ae,{children:[i.jsxs(Te,{children:[i.jsxs(ke,{className:"flex items-center gap-2",children:[i.jsx(Np,{className:"h-5 w-5 text-indigo-600"}),"المدير الفني للرواية"]}),i.jsx(Pt,{children:"إحصائيات سير العمل وتصميمات محفوظة"})]}),i.jsx(oe,{children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[i.jsxs("div",{className:"space-y-4",children:[i.jsx("h4",{className:"font-medium text-gray-900",children:"تصميمات سير العمل"}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("span",{className:"text-sm text-gray-600",children:"التصميمات المحفوظة"}),i.jsx(He,{variant:"secondary",children:s.length})]}),i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("span",{className:"text-sm text-gray-600",children:"القوالب العامة"}),i.jsx(He,{variant:"outline",children:s.filter(m=>m.is_template).length})]}),i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("span",{className:"text-sm text-gray-600",children:"المشاركة العامة"}),i.jsx(He,{variant:"outline",children:s.filter(m=>m.is_public).length})]})]})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsx("h4",{className:"font-medium text-gray-900",children:"أشهر القوالب"}),i.jsxs("div",{className:"space-y-2",children:[s.filter(m=>m.usage_count>0).sort((m,g)=>g.usage_count-m.usage_count).slice(0,3).map((m,g)=>i.jsxs("div",{className:"flex items-center justify-between text-sm",children:[i.jsx("span",{className:"text-gray-600 truncate",children:m.name}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Rs,{className:"h-3 w-3 text-gray-400"}),i.jsx("span",{className:"text-gray-500",children:m.usage_count})]})]},m.id)),s.filter(m=>m.usage_count>0).length===0&&i.jsx("p",{className:"text-sm text-gray-500",children:"لا توجد إحصائيات استخدام حتى الآن"})]})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsx("h4",{className:"font-medium text-gray-900",children:"إجراءات سريعة"}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(PA,{to:"/workflow-builder",children:i.jsxs(xe,{variant:"outline",size:"sm",className:"w-full justify-start",children:[i.jsx(us,{className:"h-4 w-4 mr-2"}),"تصميم جديد"]})}),i.jsx(PA,{to:"/workflow-builder",children:i.jsxs(xe,{variant:"outline",size:"sm",className:"w-full justify-start",children:[i.jsx(BD,{className:"h-4 w-4 mr-2"}),"تصفح القوالب"]})}),i.jsx(PA,{to:"/workflow-builder",children:i.jsxs(xe,{variant:"outline",size:"sm",className:"w-full justify-start",children:[i.jsx(Qn,{className:"h-4 w-4 mr-2"}),"سير عمل ذكي"]})})]})]})]})})]}),i.jsxs(ae,{children:[i.jsxs(Te,{children:[i.jsx(ke,{children:"الأنشطة الحديثة"}),i.jsx(Pt,{children:"آخر الأنشطة في منصة الكتابة"})]}),i.jsx(oe,{children:i.jsx("div",{className:"space-y-3",children:[{action:'تم إكمال تحليل رواية "حكايات من بغداد"',time:"منذ ساعتين",type:"analysis"},{action:'تم توليد 3 أفكار جديدة لمشروع "أساطير الأندلس"',time:"منذ 4 ساعات",type:"generation"},{action:'تم تحرير الفصل الخامس من "رواية الصحراء الذهبية"',time:"أمس",type:"editing"},{action:'تم إنشاء مخطط جديد لرواية "ظلال دمشق"',time:"أمس",type:"blueprint"}].map((m,g)=>i.jsxs("div",{className:"flex items-center gap-3 py-2",children:[i.jsx("div",{className:`w-2 h-2 rounded-full ${m.type==="analysis"?"bg-blue-500":m.type==="generation"?"bg-green-500":m.type==="editing"?"bg-purple-500":"bg-yellow-500"}`}),i.jsx("div",{className:"flex-1",children:i.jsx("p",{className:"text-sm",children:m.action})}),i.jsx("span",{className:"text-xs text-gray-500",children:m.time})]},g))})})]}),i.jsx(fue,{})]})};function xh(t){const e=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&e==="[object Date]"?new t.constructor(+t):typeof t=="number"||e==="[object Number]"||typeof t=="string"||e==="[object String]"?new Date(t):new Date(NaN)}function ay(t,e){return t instanceof Date?new t.constructor(e):new Date(e)}const lde=6048e5,REe=864e5;let QEe={};function pk(){return QEe}function C_(t,e){var l,c,u,d;const n=pk(),r=(e==null?void 0:e.weekStartsOn)??((c=(l=e==null?void 0:e.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??n.weekStartsOn??((d=(u=n.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,s=xh(t),a=s.getDay(),o=(a<r?7:0)+a-r;return s.setDate(s.getDate()-o),s.setHours(0,0,0,0),s}function UD(t){return C_(t,{weekStartsOn:1})}function cde(t){const e=xh(t),n=e.getFullYear(),r=ay(t,0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);const s=UD(r),a=ay(t,0);a.setFullYear(n,0,4),a.setHours(0,0,0,0);const o=UD(a);return e.getTime()>=s.getTime()?n+1:e.getTime()>=o.getTime()?n:n-1}function nG(t){const e=xh(t);return e.setHours(0,0,0,0),e}function rG(t){const e=xh(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function HEe(t,e){const n=nG(t),r=nG(e),s=+n-rG(n),a=+r-rG(r);return Math.round((s-a)/REe)}function zEe(t){const e=cde(t),n=ay(t,0);return n.setFullYear(e,0,4),n.setHours(0,0,0,0),UD(n)}function $Ee(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function WEe(t){if(!$Ee(t)&&typeof t!="number")return!1;const e=xh(t);return!isNaN(Number(e))}function qEe(t){const e=xh(t),n=ay(t,0);return n.setFullYear(e.getFullYear(),0,1),n.setHours(0,0,0,0),n}const VEe={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},KEe=(t,e,n)=>{let r;const s=VEe[t];return typeof s=="string"?r=s:e===1?r=s.one:r=s.other.replace("{{count}}",e.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function v1(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const GEe={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},XEe={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},YEe={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},JEe={date:v1({formats:GEe,defaultWidth:"full"}),time:v1({formats:XEe,defaultWidth:"full"}),dateTime:v1({formats:YEe,defaultWidth:"full"})},ZEe={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},e4e=(t,e,n,r)=>ZEe[t];function vf(t){return(e,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let s;if(r==="formatting"&&t.formattingValues){const o=t.defaultFormattingWidth||t.defaultWidth,l=n!=null&&n.width?String(n.width):o;s=t.formattingValues[l]||t.formattingValues[o]}else{const o=t.defaultWidth,l=n!=null&&n.width?String(n.width):t.defaultWidth;s=t.values[l]||t.values[o]}const a=t.argumentCallback?t.argumentCallback(e):e;return s[a]}}const t4e={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},n4e={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},r4e={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},i4e={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},s4e={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},a4e={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},o4e=(t,e)=>{const n=Number(t),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},l4e={ordinalNumber:o4e,era:vf({values:t4e,defaultWidth:"wide"}),quarter:vf({values:n4e,defaultWidth:"wide",argumentCallback:t=>t-1}),month:vf({values:r4e,defaultWidth:"wide"}),day:vf({values:i4e,defaultWidth:"wide"}),dayPeriod:vf({values:s4e,defaultWidth:"wide",formattingValues:a4e,defaultFormattingWidth:"wide"})};function yf(t){return(e,n={})=>{const r=n.width,s=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],a=e.match(s);if(!a)return null;const o=a[0],l=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],c=Array.isArray(l)?u4e(l,h=>h.test(o)):c4e(l,h=>h.test(o));let u;u=t.valueCallback?t.valueCallback(c):c,u=n.valueCallback?n.valueCallback(u):u;const d=e.slice(o.length);return{value:u,rest:d}}}function c4e(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function u4e(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function ude(t){return(e,n={})=>{const r=e.match(t.matchPattern);if(!r)return null;const s=r[0],a=e.match(t.parsePattern);if(!a)return null;let o=t.valueCallback?t.valueCallback(a[0]):a[0];o=n.valueCallback?n.valueCallback(o):o;const l=e.slice(s.length);return{value:o,rest:l}}}const d4e=/^(\d+)(th|st|nd|rd)?/i,h4e=/\d+/i,f4e={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},A4e={any:[/^b/i,/^(a|c)/i]},p4e={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},m4e={any:[/1/i,/2/i,/3/i,/4/i]},g4e={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},x4e={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},v4e={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},y4e={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},b4e={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},w4e={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},j4e={ordinalNumber:ude({matchPattern:d4e,parsePattern:h4e,valueCallback:t=>parseInt(t,10)}),era:yf({matchPatterns:f4e,defaultMatchWidth:"wide",parsePatterns:A4e,defaultParseWidth:"any"}),quarter:yf({matchPatterns:p4e,defaultMatchWidth:"wide",parsePatterns:m4e,defaultParseWidth:"any",valueCallback:t=>t+1}),month:yf({matchPatterns:g4e,defaultMatchWidth:"wide",parsePatterns:x4e,defaultParseWidth:"any"}),day:yf({matchPatterns:v4e,defaultMatchWidth:"wide",parsePatterns:y4e,defaultParseWidth:"any"}),dayPeriod:yf({matchPatterns:b4e,defaultMatchWidth:"any",parsePatterns:w4e,defaultParseWidth:"any"})},N4e={code:"en-US",formatDistance:KEe,formatLong:JEe,formatRelative:e4e,localize:l4e,match:j4e,options:{weekStartsOn:0,firstWeekContainsDate:1}};function _4e(t){const e=xh(t);return HEe(e,qEe(e))+1}function C4e(t){const e=xh(t),n=+UD(e)-+zEe(e);return Math.round(n/lde)+1}function dde(t,e){var d,h,f,A;const n=xh(t),r=n.getFullYear(),s=pk(),a=(e==null?void 0:e.firstWeekContainsDate)??((h=(d=e==null?void 0:e.locale)==null?void 0:d.options)==null?void 0:h.firstWeekContainsDate)??s.firstWeekContainsDate??((A=(f=s.locale)==null?void 0:f.options)==null?void 0:A.firstWeekContainsDate)??1,o=ay(t,0);o.setFullYear(r+1,0,a),o.setHours(0,0,0,0);const l=C_(o,e),c=ay(t,0);c.setFullYear(r,0,a),c.setHours(0,0,0,0);const u=C_(c,e);return n.getTime()>=l.getTime()?r+1:n.getTime()>=u.getTime()?r:r-1}function S4e(t,e){var l,c,u,d;const n=pk(),r=(e==null?void 0:e.firstWeekContainsDate)??((c=(l=e==null?void 0:e.locale)==null?void 0:l.options)==null?void 0:c.firstWeekContainsDate)??n.firstWeekContainsDate??((d=(u=n.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??1,s=dde(t,e),a=ay(t,0);return a.setFullYear(s,0,r),a.setHours(0,0,0,0),C_(a,e)}function E4e(t,e){const n=xh(t),r=+C_(n,e)-+S4e(n,e);return Math.round(r/lde)+1}function ei(t,e){const n=t<0?"-":"",r=Math.abs(t).toString().padStart(e,"0");return n+r}const Lm={y(t,e){const n=t.getFullYear(),r=n>0?n:1-n;return ei(e==="yy"?r%100:r,e.length)},M(t,e){const n=t.getMonth();return e==="M"?String(n+1):ei(n+1,2)},d(t,e){return ei(t.getDate(),e.length)},a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(t,e){return ei(t.getHours()%12||12,e.length)},H(t,e){return ei(t.getHours(),e.length)},m(t,e){return ei(t.getMinutes(),e.length)},s(t,e){return ei(t.getSeconds(),e.length)},S(t,e){const n=e.length,r=t.getMilliseconds(),s=Math.trunc(r*Math.pow(10,n-3));return ei(s,e.length)}},vb={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},iG={G:function(t,e,n){const r=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){const r=t.getFullYear(),s=r>0?r:1-r;return n.ordinalNumber(s,{unit:"year"})}return Lm.y(t,e)},Y:function(t,e,n,r){const s=dde(t,r),a=s>0?s:1-s;if(e==="YY"){const o=a%100;return ei(o,2)}return e==="Yo"?n.ordinalNumber(a,{unit:"year"}):ei(a,e.length)},R:function(t,e){const n=cde(t);return ei(n,e.length)},u:function(t,e){const n=t.getFullYear();return ei(n,e.length)},Q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return ei(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return ei(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(t,e,n){const r=t.getMonth();switch(e){case"M":case"MM":return Lm.M(t,e);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(t,e,n){const r=t.getMonth();switch(e){case"L":return String(r+1);case"LL":return ei(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(t,e,n,r){const s=E4e(t,r);return e==="wo"?n.ordinalNumber(s,{unit:"week"}):ei(s,e.length)},I:function(t,e,n){const r=C4e(t);return e==="Io"?n.ordinalNumber(r,{unit:"week"}):ei(r,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):Lm.d(t,e)},D:function(t,e,n){const r=_4e(t);return e==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):ei(r,e.length)},E:function(t,e,n){const r=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(t,e,n,r){const s=t.getDay(),a=(s-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(a);case"ee":return ei(a,2);case"eo":return n.ordinalNumber(a,{unit:"day"});case"eee":return n.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(s,{width:"short",context:"formatting"});case"eeee":default:return n.day(s,{width:"wide",context:"formatting"})}},c:function(t,e,n,r){const s=t.getDay(),a=(s-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(a);case"cc":return ei(a,e.length);case"co":return n.ordinalNumber(a,{unit:"day"});case"ccc":return n.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(s,{width:"narrow",context:"standalone"});case"cccccc":return n.day(s,{width:"short",context:"standalone"});case"cccc":default:return n.day(s,{width:"wide",context:"standalone"})}},i:function(t,e,n){const r=t.getDay(),s=r===0?7:r;switch(e){case"i":return String(s);case"ii":return ei(s,e.length);case"io":return n.ordinalNumber(s,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(t,e,n){const s=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(t,e,n){const r=t.getHours();let s;switch(r===12?s=vb.noon:r===0?s=vb.midnight:s=r/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(t,e,n){const r=t.getHours();let s;switch(r>=17?s=vb.evening:r>=12?s=vb.afternoon:r>=4?s=vb.morning:s=vb.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){let r=t.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return Lm.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):Lm.H(t,e)},K:function(t,e,n){const r=t.getHours()%12;return e==="Ko"?n.ordinalNumber(r,{unit:"hour"}):ei(r,e.length)},k:function(t,e,n){let r=t.getHours();return r===0&&(r=24),e==="ko"?n.ordinalNumber(r,{unit:"hour"}):ei(r,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):Lm.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):Lm.s(t,e)},S:function(t,e){return Lm.S(t,e)},X:function(t,e,n){const r=t.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return aG(r);case"XXXX":case"XX":return Av(r);case"XXXXX":case"XXX":default:return Av(r,":")}},x:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"x":return aG(r);case"xxxx":case"xx":return Av(r);case"xxxxx":case"xxx":default:return Av(r,":")}},O:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+sG(r,":");case"OOOO":default:return"GMT"+Av(r,":")}},z:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+sG(r,":");case"zzzz":default:return"GMT"+Av(r,":")}},t:function(t,e,n){const r=Math.trunc(t.getTime()/1e3);return ei(r,e.length)},T:function(t,e,n){const r=t.getTime();return ei(r,e.length)}};function sG(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),s=Math.trunc(r/60),a=r%60;return a===0?n+String(s):n+String(s)+e+ei(a,2)}function aG(t,e){return t%60===0?(t>0?"-":"+")+ei(Math.abs(t)/60,2):Av(t,e)}function Av(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),s=ei(Math.trunc(r/60),2),a=ei(r%60,2);return n+s+e+a}const oG=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},hde=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},B4e=(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],r=n[1],s=n[2];if(!s)return oG(t,e);let a;switch(r){case"P":a=e.dateTime({width:"short"});break;case"PP":a=e.dateTime({width:"medium"});break;case"PPP":a=e.dateTime({width:"long"});break;case"PPPP":default:a=e.dateTime({width:"full"});break}return a.replace("{{date}}",oG(r,e)).replace("{{time}}",hde(s,e))},D4e={p:hde,P:B4e},T4e=/^D+$/,k4e=/^Y+$/,F4e=["D","DD","YY","YYYY"];function P4e(t){return T4e.test(t)}function U4e(t){return k4e.test(t)}function I4e(t,e,n){const r=O4e(t,e,n);if(console.warn(r),F4e.includes(t))throw new RangeError(r)}function O4e(t,e,n){const r=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const M4e=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,L4e=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,R4e=/^'([^]*?)'?$/,Q4e=/''/g,H4e=/[a-zA-Z]/;function z4e(t,e,n){var d,h,f,A,v,p,m,g;const r=pk(),s=(n==null?void 0:n.locale)??r.locale??N4e,a=(n==null?void 0:n.firstWeekContainsDate)??((h=(d=n==null?void 0:n.locale)==null?void 0:d.options)==null?void 0:h.firstWeekContainsDate)??r.firstWeekContainsDate??((A=(f=r.locale)==null?void 0:f.options)==null?void 0:A.firstWeekContainsDate)??1,o=(n==null?void 0:n.weekStartsOn)??((p=(v=n==null?void 0:n.locale)==null?void 0:v.options)==null?void 0:p.weekStartsOn)??r.weekStartsOn??((g=(m=r.locale)==null?void 0:m.options)==null?void 0:g.weekStartsOn)??0,l=xh(t);if(!WEe(l))throw new RangeError("Invalid time value");let c=e.match(L4e).map(x=>{const b=x[0];if(b==="p"||b==="P"){const j=D4e[b];return j(x,s.formatLong)}return x}).join("").match(M4e).map(x=>{if(x==="''")return{isToken:!1,value:"'"};const b=x[0];if(b==="'")return{isToken:!1,value:$4e(x)};if(iG[b])return{isToken:!0,value:x};if(b.match(H4e))throw new RangeError("Format string contains an unescaped latin alphabet character `"+b+"`");return{isToken:!1,value:x}});s.localize.preprocessor&&(c=s.localize.preprocessor(l,c));const u={firstWeekContainsDate:a,weekStartsOn:o,locale:s};return c.map(x=>{if(!x.isToken)return x.value;const b=x.value;(!(n!=null&&n.useAdditionalWeekYearTokens)&&U4e(b)||!(n!=null&&n.useAdditionalDayOfYearTokens)&&P4e(b))&&I4e(b,e,String(t));const j=iG[b[0]];return j(l,b,s.localize,u)}).join("")}function $4e(t){const e=t.match(R4e);return e?e[1].replace(Q4e,"'"):t}const W4e={lessThanXSeconds:{one:"أقل من ثانية",two:"أقل من ثانيتين",threeToTen:"أقل من {{count}} ثواني",other:"أقل من {{count}} ثانية"},xSeconds:{one:"ثانية واحدة",two:"ثانيتان",threeToTen:"{{count}} ثواني",other:"{{count}} ثانية"},halfAMinute:"نصف دقيقة",lessThanXMinutes:{one:"أقل من دقيقة",two:"أقل من دقيقتين",threeToTen:"أقل من {{count}} دقائق",other:"أقل من {{count}} دقيقة"},xMinutes:{one:"دقيقة واحدة",two:"دقيقتان",threeToTen:"{{count}} دقائق",other:"{{count}} دقيقة"},aboutXHours:{one:"ساعة واحدة تقريباً",two:"ساعتين تقريبا",threeToTen:"{{count}} ساعات تقريباً",other:"{{count}} ساعة تقريباً"},xHours:{one:"ساعة واحدة",two:"ساعتان",threeToTen:"{{count}} ساعات",other:"{{count}} ساعة"},xDays:{one:"يوم واحد",two:"يومان",threeToTen:"{{count}} أيام",other:"{{count}} يوم"},aboutXWeeks:{one:"أسبوع واحد تقريبا",two:"أسبوعين تقريبا",threeToTen:"{{count}} أسابيع تقريبا",other:"{{count}} أسبوعا تقريبا"},xWeeks:{one:"أسبوع واحد",two:"أسبوعان",threeToTen:"{{count}} أسابيع",other:"{{count}} أسبوعا"},aboutXMonths:{one:"شهر واحد تقريباً",two:"شهرين تقريبا",threeToTen:"{{count}} أشهر تقريبا",other:"{{count}} شهرا تقريباً"},xMonths:{one:"شهر واحد",two:"شهران",threeToTen:"{{count}} أشهر",other:"{{count}} شهرا"},aboutXYears:{one:"سنة واحدة تقريباً",two:"سنتين تقريبا",threeToTen:"{{count}} سنوات تقريباً",other:"{{count}} سنة تقريباً"},xYears:{one:"سنة واحد",two:"سنتان",threeToTen:"{{count}} سنوات",other:"{{count}} سنة"},overXYears:{one:"أكثر من سنة",two:"أكثر من سنتين",threeToTen:"أكثر من {{count}} سنوات",other:"أكثر من {{count}} سنة"},almostXYears:{one:"ما يقارب سنة واحدة",two:"ما يقارب سنتين",threeToTen:"ما يقارب {{count}} سنوات",other:"ما يقارب {{count}} سنة"}},q4e=(t,e,n)=>{const r=W4e[t];let s;return typeof r=="string"?s=r:e===1?s=r.one:e===2?s=r.two:e<=10?s=r.threeToTen.replace("{{count}}",String(e)):s=r.other.replace("{{count}}",String(e)),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"خلال "+s:"منذ "+s:s},V4e={full:"EEEE، do MMMM y",long:"do MMMM y",medium:"d MMM y",short:"dd/MM/yyyy"},K4e={full:"HH:mm:ss",long:"HH:mm:ss",medium:"HH:mm:ss",short:"HH:mm"},G4e={full:"{{date}} 'عند الساعة' {{time}}",long:"{{date}} 'عند الساعة' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},X4e={date:v1({formats:V4e,defaultWidth:"full"}),time:v1({formats:K4e,defaultWidth:"full"}),dateTime:v1({formats:G4e,defaultWidth:"full"})},Y4e={lastWeek:"eeee 'الماضي عند الساعة' p",yesterday:"'الأمس عند الساعة' p",today:"'اليوم عند الساعة' p",tomorrow:"'غدا عند الساعة' p",nextWeek:"eeee 'القادم عند الساعة' p",other:"P"},J4e=t=>Y4e[t],Z4e={narrow:["ق","ب"],abbreviated:["ق.م.","ب.م."],wide:["قبل الميلاد","بعد الميلاد"]},eBe={narrow:["1","2","3","4"],abbreviated:["ر1","ر2","ر3","ر4"],wide:["الربع الأول","الربع الثاني","الربع الثالث","الربع الرابع"]},tBe={narrow:["ي","ف","م","أ","م","ي","ي","أ","س","أ","ن","د"],abbreviated:["يناير","فبراير","مارس","أبريل","مايو","يونيو","يوليو","أغسطس","سبتمبر","أكتوبر","نوفمبر","ديسمبر"],wide:["يناير","فبراير","مارس","أبريل","مايو","يونيو","يوليو","أغسطس","سبتمبر","أكتوبر","نوفمبر","ديسمبر"]},nBe={narrow:["ح","ن","ث","ر","خ","ج","س"],short:["أحد","اثنين","ثلاثاء","أربعاء","خميس","جمعة","سبت"],abbreviated:["أحد","اثنين","ثلاثاء","أربعاء","خميس","جمعة","سبت"],wide:["الأحد","الاثنين","الثلاثاء","الأربعاء","الخميس","الجمعة","السبت"]},rBe={narrow:{am:"ص",pm:"م",morning:"الصباح",noon:"الظهر",afternoon:"بعد الظهر",evening:"المساء",night:"الليل",midnight:"منتصف الليل"},abbreviated:{am:"ص",pm:"م",morning:"الصباح",noon:"الظهر",afternoon:"بعد الظهر",evening:"المساء",night:"الليل",midnight:"منتصف الليل"},wide:{am:"ص",pm:"م",morning:"الصباح",noon:"الظهر",afternoon:"بعد الظهر",evening:"المساء",night:"الليل",midnight:"منتصف الليل"}},iBe={narrow:{am:"ص",pm:"م",morning:"في الصباح",noon:"الظهر",afternoon:"بعد الظهر",evening:"في المساء",night:"في الليل",midnight:"منتصف الليل"},abbreviated:{am:"ص",pm:"م",morning:"في الصباح",noon:"الظهر",afternoon:"بعد الظهر",evening:"في المساء",night:"في الليل",midnight:"منتصف الليل"},wide:{am:"ص",pm:"م",morning:"في الصباح",noon:"الظهر",afternoon:"بعد الظهر",evening:"في المساء",night:"في الليل",midnight:"منتصف الليل"}},sBe=t=>String(t),aBe={ordinalNumber:sBe,era:vf({values:Z4e,defaultWidth:"wide"}),quarter:vf({values:eBe,defaultWidth:"wide",argumentCallback:t=>t-1}),month:vf({values:tBe,defaultWidth:"wide"}),day:vf({values:nBe,defaultWidth:"wide"}),dayPeriod:vf({values:rBe,defaultWidth:"wide",formattingValues:iBe,defaultFormattingWidth:"wide"})},oBe=/^(\d+)(th|st|nd|rd)?/i,lBe=/\d+/i,cBe={narrow:/[قب]/,abbreviated:/[قب]\.م\./,wide:/(قبل|بعد) الميلاد/},uBe={any:[/قبل/,/بعد/]},dBe={narrow:/^[1234]/i,abbreviated:/ر[1234]/,wide:/الربع (الأول|الثاني|الثالث|الرابع)/},hBe={any:[/1/i,/2/i,/3/i,/4/i]},fBe={narrow:/^[أيفمسند]/,abbreviated:/^(يناير|فبراير|مارس|أبريل|مايو|يونيو|يوليو|أغسطس|سبتمبر|أكتوبر|نوفمبر|ديسمبر)/,wide:/^(يناير|فبراير|مارس|أبريل|مايو|يونيو|يوليو|أغسطس|سبتمبر|أكتوبر|نوفمبر|ديسمبر)/},ABe={narrow:[/^ي/i,/^ف/i,/^م/i,/^أ/i,/^م/i,/^ي/i,/^ي/i,/^أ/i,/^س/i,/^أ/i,/^ن/i,/^د/i],any:[/^يناير/i,/^فبراير/i,/^مارس/i,/^أبريل/i,/^مايو/i,/^يونيو/i,/^يوليو/i,/^أغسطس/i,/^سبتمبر/i,/^أكتوبر/i,/^نوفمبر/i,/^ديسمبر/i]},pBe={narrow:/^[حنثرخجس]/i,short:/^(أحد|اثنين|ثلاثاء|أربعاء|خميس|جمعة|سبت)/i,abbreviated:/^(أحد|اثنين|ثلاثاء|أربعاء|خميس|جمعة|سبت)/i,wide:/^(الأحد|الاثنين|الثلاثاء|الأربعاء|الخميس|الجمعة|السبت)/i},mBe={narrow:[/^ح/i,/^ن/i,/^ث/i,/^ر/i,/^خ/i,/^ج/i,/^س/i],wide:[/^الأحد/i,/^الاثنين/i,/^الثلاثاء/i,/^الأربعاء/i,/^الخميس/i,/^الجمعة/i,/^السبت/i],any:[/^أح/i,/^اث/i,/^ث/i,/^أر/i,/^خ/i,/^ج/i,/^س/i]},gBe={narrow:/^(ص|م|منتصف الليل|الظهر|بعد الظهر|في الصباح|في المساء|في الليل)/,any:/^(ص|م|منتصف الليل|الظهر|بعد الظهر|في الصباح|في المساء|في الليل)/},xBe={any:{am:/^ص/,pm:/^م/,midnight:/منتصف الليل/,noon:/الظهر/,afternoon:/بعد الظهر/,morning:/في الصباح/,evening:/في المساء/,night:/في الليل/}},vBe={ordinalNumber:ude({matchPattern:oBe,parsePattern:lBe,valueCallback:t=>parseInt(t,10)}),era:yf({matchPatterns:cBe,defaultMatchWidth:"wide",parsePatterns:uBe,defaultParseWidth:"any"}),quarter:yf({matchPatterns:dBe,defaultMatchWidth:"wide",parsePatterns:hBe,defaultParseWidth:"any",valueCallback:t=>t+1}),month:yf({matchPatterns:fBe,defaultMatchWidth:"wide",parsePatterns:ABe,defaultParseWidth:"any"}),day:yf({matchPatterns:pBe,defaultMatchWidth:"wide",parsePatterns:mBe,defaultParseWidth:"any"}),dayPeriod:yf({matchPatterns:gBe,defaultMatchWidth:"any",parsePatterns:xBe,defaultParseWidth:"any"})},yBe={code:"ar",formatDistance:q4e,formatLong:X4e,formatRelative:J4e,localize:aBe,match:vBe,options:{weekStartsOn:6,firstWeekContainsDate:1}},bBe=({onChoice:t})=>{const{dispatch:e}=Ju(),[n,r]=E.useState(!1),[s,a]=E.useState([]);E.useEffect(()=>{o()},[]);const o=async()=>{try{const h=(await kv.getProjects()).map(f=>({projectId:f.id,projectName:f.title,lastSaved:new Date(f.last_saved),currentStage:f.current_stage,description:f.description}));h.sort((f,A)=>A.lastSaved.getTime()-f.lastSaved.getTime()),a(h)}catch(d){console.error("خطأ في جلب المشاريع المحفوظة:",d),a([])}},l=async d=>{try{const h=await kv.getProject(d);if(h){const f={projectId:h.id.toString(),projectName:h.title||"مشروع بدون اسم",currentStage:h.current_stage||1,sourceAnalysis:h.source_analysis_json?JSON.parse(h.source_analysis_json):null,generatedIdeas:h.generated_ideas_json?JSON.parse(h.generated_ideas_json):[],selectedIdea:h.selected_idea_json?JSON.parse(h.selected_idea_json):null,novelBlueprint:h.novel_blueprint_json?JSON.parse(h.novel_blueprint_json):null,generatedChapters:h.generated_chapters_json?JSON.parse(h.generated_chapters_json):[],finalProject:h.final_project_json?JSON.parse(h.final_project_json):null,lastSaved:new Date(h.last_saved),generationProgress:{currentChapter:0,totalChapters:0,isGenerating:!1,generationMode:"sequential"},currentEditingChapter:null,editorSettings:{autoSave:!0,spellCheck:!0,grammarCheck:!0,styleCheck:!0,consistencyCheck:!0},isLoading:!1,error:null};f.sourceAnalysis&&f.sourceAnalysis.uploadDate&&(f.sourceAnalysis.uploadDate=new Date(f.sourceAnalysis.uploadDate)),f.generatedChapters&&f.generatedChapters.forEach(A=>{A.lastModified&&(A.lastModified=new Date(A.lastModified))}),f.finalProject&&f.finalProject.metadata&&(f.finalProject.metadata.createdAt&&(f.finalProject.metadata.createdAt=new Date(f.finalProject.metadata.createdAt)),f.finalProject.metadata.lastModified&&(f.finalProject.metadata.lastModified=new Date(f.finalProject.metadata.lastModified))),e({type:"LOAD_PROJECT",payload:f}),r(!1),t("continue")}else console.error("المشروع غير موجود:",d)}catch(h){console.error("فشل في تحميل المشروع:",h)}},c=async d=>{try{await kv.deleteProject(d)?o():console.error("فشل في حذف المشروع:",d)}catch(h){console.error("خطأ في حذف المشروع:",h)}},u=[{id:"analyze",title:"تحليل رواية موجودة",description:"حمّل رواية لتحليل أسلوبها واستخدامها كمرجع لإنشاء أعمال جديدة",icon:zt,color:"from-blue-500 to-blue-600",features:["تحليل عميق للأسلوب الأدبي","استخراج العناصر الثقافية","فهم بنية الشخصيات والحبكة","دعم ملفات PDF، DOCX، TXT"],buttonText:"ابدأ التحليل",emoji:"🧠",action:()=>t("analyze")},{id:"new",title:"بدء رواية جديدة",description:"ابدأ مشروع رواية جديد من الصفر بمساعدة الذكاء الاصطناعي",icon:nr,color:"from-green-500 to-green-600",features:["معمل الأفكار الإبداعية","بناء مخطط ذكي","شخصيات وحبكات متطورة","أدوات كتابة تفاعلية"],buttonText:"إنشاء مشروع جديد",emoji:"✨",action:()=>{e({type:"RESET_JOURNEY"}),t("new")}},{id:"continue",title:"استكمال مشروع محفوظ",description:"تابع العمل على مشروع رواية محفوظ مسبقاً",icon:BD,color:"from-purple-500 to-purple-600",features:["استرجاع المشاريع المحفوظة","متابعة من نقطة التوقف","حفظ تلقائي للتقدم","إدارة عدة مشاريع"],buttonText:"تصفح المشاريع",emoji:"📁",action:()=>{o(),r(!0)}}];return i.jsxs("div",{className:"container mx-auto px-4 py-8",children:[i.jsxs("div",{className:"text-center mb-12",children:[i.jsxs("div",{className:"flex items-center justify-center gap-3 mb-6",children:[i.jsx(Qn,{className:"h-8 w-8 text-blue-600 animate-pulse"}),i.jsx("h2",{className:"text-4xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:"كيف تود أن تبدأ رحلتك؟"}),i.jsx(dr,{className:"h-8 w-8 text-purple-600 animate-pulse"})]}),i.jsx("p",{className:"text-lg text-gray-600 max-w-2xl mx-auto",children:"اختر الطريقة التي تناسبك لبدء رحلة الكتابة الذكية والإبداع الأدبي"})]}),i.jsx("div",{className:"grid md:grid-cols-3 gap-8 max-w-6xl mx-auto",children:u.map(d=>{const h=d.icon;return i.jsxs(ae,{className:"relative overflow-hidden transition-all duration-300 hover:shadow-2xl hover:-translate-y-1 group cursor-pointer border-2 hover:border-transparent",children:[i.jsx("div",{className:`absolute inset-0 bg-gradient-to-br ${d.color} opacity-0 group-hover:opacity-10 transition-opacity duration-300`}),i.jsxs(Te,{className:"relative",children:[i.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[i.jsx("div",{className:`w-16 h-16 rounded-2xl bg-gradient-to-br ${d.color} flex items-center justify-center shadow-lg`,children:i.jsx(h,{className:"h-8 w-8 text-white"})}),i.jsx("div",{className:"text-4xl",children:d.emoji})]}),i.jsx(ke,{className:"text-xl mb-2 group-hover:text-blue-600 transition-colors",children:d.title}),i.jsx(Pt,{className:"text-gray-600 leading-relaxed",children:d.description})]}),i.jsxs(oe,{className:"relative",children:[i.jsxs("div",{className:"mb-6",children:[i.jsxs("h4",{className:"font-semibold text-gray-800 mb-3 flex items-center gap-2",children:[i.jsx(En,{className:"h-4 w-4 text-blue-600"}),"الميزات الرئيسية:"]}),i.jsx("ul",{className:"space-y-2",children:d.features.map((f,A)=>i.jsxs("li",{className:"flex items-start gap-2 text-sm text-gray-600",children:[i.jsx("div",{className:`w-2 h-2 rounded-full bg-gradient-to-r ${d.color} mt-2 flex-shrink-0`}),f]},A))})]}),i.jsxs(xe,{onClick:d.action,className:`w-full bg-gradient-to-r ${d.color} hover:opacity-90 text-white font-medium py-3 transition-all duration-300 group-hover:shadow-lg`,children:[i.jsx("span",{children:d.buttonText}),i.jsx(ea,{className:"h-4 w-4 mr-2 group-hover:translate-x-1 transition-transform"})]})]})]},d.id)})}),i.jsx("div",{className:"text-center mt-12",children:i.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-purple-50 rounded-2xl p-6 max-w-4xl mx-auto",children:[i.jsxs("div",{className:"flex items-center justify-center gap-6 mb-4",children:[i.jsxs("div",{className:"flex items-center gap-2 text-blue-600",children:[i.jsx(xr,{className:"h-5 w-5"}),i.jsx("span",{className:"font-medium",children:"سريع وذكي"})]}),i.jsxs("div",{className:"flex items-center gap-2 text-green-600",children:[i.jsx(Wn,{className:"h-5 w-5"}),i.jsx("span",{className:"font-medium",children:"سهل الاستخدام"})]}),i.jsxs("div",{className:"flex items-center gap-2 text-purple-600",children:[i.jsx(Qn,{className:"h-5 w-5"}),i.jsx("span",{className:"font-medium",children:"نتائج احترافية"})]})]}),i.jsx("p",{className:"text-gray-600 text-sm",children:"جميع خياراتك محفوظة ويمكنك التبديل بينها في أي وقت • دعم كامل للغة العربية وخصائصها الفريدة"})]})}),i.jsx(sde,{open:n,onOpenChange:r,children:i.jsxs(Az,{className:"sm:max-w-[800px] max-h-[90vh] flex flex-col",children:[i.jsxs(pz,{children:[i.jsx(gz,{className:"text-2xl font-bold text-right",children:"استكمال مشروع محفوظ"}),i.jsx(xz,{className:"text-right",children:"اختر مشروعًا من القائمة أدناه لاستكماله، أو احذف المشاريع التي لم تعد بحاجة إليها."})]}),i.jsxs("div",{className:"flex-grow overflow-y-auto pr-4 -mr-4",children:[" ",s.length===0?i.jsx("p",{className:"text-center text-gray-500 py-8",children:"لا توجد مشاريع محفوظة حاليًا."}):i.jsx("div",{className:"space-y-4",children:s.map(d=>i.jsxs(ae,{className:"flex items-center justify-between p-4 shadow-sm hover:shadow-md transition-shadow duration-200",children:[i.jsxs("div",{children:[i.jsx(ke,{className:"text-lg",children:d.projectName}),i.jsxs(Pt,{className:"text-sm text-gray-500",children:["آخر حفظ: ",z4e(d.lastSaved,"dd MMMM yyyy, hh:mm a",{locale:yBe}),i.jsx("br",{}),"المرحلة الحالية: ",d.currentStage]})]}),i.jsxs("div",{className:"flex space-x-2",children:[i.jsx(xe,{onClick:()=>l(d.projectId),className:"bg-blue-500 hover:bg-blue-600 text-white",children:"تحميل"}),i.jsx(xe,{variant:"destructive",size:"icon",onClick:()=>c(d.projectId),children:i.jsx(vS,{className:"h-4 w-4"})})]})]},d.projectId))})]}),i.jsx(mz,{className:"flex justify-end gap-2 pt-4",children:i.jsx(vz,{children:"إلغاء"})})]})})]})};var kP={exports:{}},FP,lG;function wBe(){if(lG)return FP;lG=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return FP=t,FP}var PP,cG;function jBe(){if(cG)return PP;cG=1;var t=wBe();function e(){}function n(){}return n.resetWarningCache=e,PP=function(){function r(o,l,c,u,d,h){if(h!==t){var f=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw f.name="Invariant Violation",f}}r.isRequired=r;function s(){return r}var a={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:s,element:r,elementType:r,instanceOf:s,node:r,objectOf:s,oneOf:s,oneOfType:s,shape:s,exact:s,checkPropTypes:n,resetWarningCache:e};return a.PropTypes=a,a},PP}var uG;function NBe(){return uG||(uG=1,kP.exports=jBe()()),kP.exports}var _Be=NBe();const hn=wr(_Be),CBe=new Map([["1km","application/vnd.1000minds.decision-model+xml"],["3dml","text/vnd.in3d.3dml"],["3ds","image/x-3ds"],["3g2","video/3gpp2"],["3gp","video/3gp"],["3gpp","video/3gpp"],["3mf","model/3mf"],["7z","application/x-7z-compressed"],["7zip","application/x-7z-compressed"],["123","application/vnd.lotus-1-2-3"],["aab","application/x-authorware-bin"],["aac","audio/x-acc"],["aam","application/x-authorware-map"],["aas","application/x-authorware-seg"],["abw","application/x-abiword"],["ac","application/vnd.nokia.n-gage.ac+xml"],["ac3","audio/ac3"],["acc","application/vnd.americandynamics.acc"],["ace","application/x-ace-compressed"],["acu","application/vnd.acucobol"],["acutc","application/vnd.acucorp"],["adp","audio/adpcm"],["aep","application/vnd.audiograph"],["afm","application/x-font-type1"],["afp","application/vnd.ibm.modcap"],["ahead","application/vnd.ahead.space"],["ai","application/pdf"],["aif","audio/x-aiff"],["aifc","audio/x-aiff"],["aiff","audio/x-aiff"],["air","application/vnd.adobe.air-application-installer-package+zip"],["ait","application/vnd.dvb.ait"],["ami","application/vnd.amiga.ami"],["amr","audio/amr"],["apk","application/vnd.android.package-archive"],["apng","image/apng"],["appcache","text/cache-manifest"],["application","application/x-ms-application"],["apr","application/vnd.lotus-approach"],["arc","application/x-freearc"],["arj","application/x-arj"],["asc","application/pgp-signature"],["asf","video/x-ms-asf"],["asm","text/x-asm"],["aso","application/vnd.accpac.simply.aso"],["asx","video/x-ms-asf"],["atc","application/vnd.acucorp"],["atom","application/atom+xml"],["atomcat","application/atomcat+xml"],["atomdeleted","application/atomdeleted+xml"],["atomsvc","application/atomsvc+xml"],["atx","application/vnd.antix.game-component"],["au","audio/x-au"],["avi","video/x-msvideo"],["avif","image/avif"],["aw","application/applixware"],["azf","application/vnd.airzip.filesecure.azf"],["azs","application/vnd.airzip.filesecure.azs"],["azv","image/vnd.airzip.accelerator.azv"],["azw","application/vnd.amazon.ebook"],["b16","image/vnd.pco.b16"],["bat","application/x-msdownload"],["bcpio","application/x-bcpio"],["bdf","application/x-font-bdf"],["bdm","application/vnd.syncml.dm+wbxml"],["bdoc","application/x-bdoc"],["bed","application/vnd.realvnc.bed"],["bh2","application/vnd.fujitsu.oasysprs"],["bin","application/octet-stream"],["blb","application/x-blorb"],["blorb","application/x-blorb"],["bmi","application/vnd.bmi"],["bmml","application/vnd.balsamiq.bmml+xml"],["bmp","image/bmp"],["book","application/vnd.framemaker"],["box","application/vnd.previewsystems.box"],["boz","application/x-bzip2"],["bpk","application/octet-stream"],["bpmn","application/octet-stream"],["bsp","model/vnd.valve.source.compiled-map"],["btif","image/prs.btif"],["buffer","application/octet-stream"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["c","text/x-c"],["c4d","application/vnd.clonk.c4group"],["c4f","application/vnd.clonk.c4group"],["c4g","application/vnd.clonk.c4group"],["c4p","application/vnd.clonk.c4group"],["c4u","application/vnd.clonk.c4group"],["c11amc","application/vnd.cluetrust.cartomobile-config"],["c11amz","application/vnd.cluetrust.cartomobile-config-pkg"],["cab","application/vnd.ms-cab-compressed"],["caf","audio/x-caf"],["cap","application/vnd.tcpdump.pcap"],["car","application/vnd.curl.car"],["cat","application/vnd.ms-pki.seccat"],["cb7","application/x-cbr"],["cba","application/x-cbr"],["cbr","application/x-cbr"],["cbt","application/x-cbr"],["cbz","application/x-cbr"],["cc","text/x-c"],["cco","application/x-cocoa"],["cct","application/x-director"],["ccxml","application/ccxml+xml"],["cdbcmsg","application/vnd.contact.cmsg"],["cda","application/x-cdf"],["cdf","application/x-netcdf"],["cdfx","application/cdfx+xml"],["cdkey","application/vnd.mediastation.cdkey"],["cdmia","application/cdmi-capability"],["cdmic","application/cdmi-container"],["cdmid","application/cdmi-domain"],["cdmio","application/cdmi-object"],["cdmiq","application/cdmi-queue"],["cdr","application/cdr"],["cdx","chemical/x-cdx"],["cdxml","application/vnd.chemdraw+xml"],["cdy","application/vnd.cinderella"],["cer","application/pkix-cert"],["cfs","application/x-cfs-compressed"],["cgm","image/cgm"],["chat","application/x-chat"],["chm","application/vnd.ms-htmlhelp"],["chrt","application/vnd.kde.kchart"],["cif","chemical/x-cif"],["cii","application/vnd.anser-web-certificate-issue-initiation"],["cil","application/vnd.ms-artgalry"],["cjs","application/node"],["cla","application/vnd.claymore"],["class","application/octet-stream"],["clkk","application/vnd.crick.clicker.keyboard"],["clkp","application/vnd.crick.clicker.palette"],["clkt","application/vnd.crick.clicker.template"],["clkw","application/vnd.crick.clicker.wordbank"],["clkx","application/vnd.crick.clicker"],["clp","application/x-msclip"],["cmc","application/vnd.cosmocaller"],["cmdf","chemical/x-cmdf"],["cml","chemical/x-cml"],["cmp","application/vnd.yellowriver-custom-menu"],["cmx","image/x-cmx"],["cod","application/vnd.rim.cod"],["coffee","text/coffeescript"],["com","application/x-msdownload"],["conf","text/plain"],["cpio","application/x-cpio"],["cpp","text/x-c"],["cpt","application/mac-compactpro"],["crd","application/x-mscardfile"],["crl","application/pkix-crl"],["crt","application/x-x509-ca-cert"],["crx","application/x-chrome-extension"],["cryptonote","application/vnd.rig.cryptonote"],["csh","application/x-csh"],["csl","application/vnd.citationstyles.style+xml"],["csml","chemical/x-csml"],["csp","application/vnd.commonspace"],["csr","application/octet-stream"],["css","text/css"],["cst","application/x-director"],["csv","text/csv"],["cu","application/cu-seeme"],["curl","text/vnd.curl"],["cww","application/prs.cww"],["cxt","application/x-director"],["cxx","text/x-c"],["dae","model/vnd.collada+xml"],["daf","application/vnd.mobius.daf"],["dart","application/vnd.dart"],["dataless","application/vnd.fdsn.seed"],["davmount","application/davmount+xml"],["dbf","application/vnd.dbf"],["dbk","application/docbook+xml"],["dcr","application/x-director"],["dcurl","text/vnd.curl.dcurl"],["dd2","application/vnd.oma.dd2+xml"],["ddd","application/vnd.fujixerox.ddd"],["ddf","application/vnd.syncml.dmddf+xml"],["dds","image/vnd.ms-dds"],["deb","application/x-debian-package"],["def","text/plain"],["deploy","application/octet-stream"],["der","application/x-x509-ca-cert"],["dfac","application/vnd.dreamfactory"],["dgc","application/x-dgc-compressed"],["dic","text/x-c"],["dir","application/x-director"],["dis","application/vnd.mobius.dis"],["disposition-notification","message/disposition-notification"],["dist","application/octet-stream"],["distz","application/octet-stream"],["djv","image/vnd.djvu"],["djvu","image/vnd.djvu"],["dll","application/octet-stream"],["dmg","application/x-apple-diskimage"],["dmn","application/octet-stream"],["dmp","application/vnd.tcpdump.pcap"],["dms","application/octet-stream"],["dna","application/vnd.dna"],["doc","application/msword"],["docm","application/vnd.ms-word.template.macroEnabled.12"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["dot","application/msword"],["dotm","application/vnd.ms-word.template.macroEnabled.12"],["dotx","application/vnd.openxmlformats-officedocument.wordprocessingml.template"],["dp","application/vnd.osgi.dp"],["dpg","application/vnd.dpgraph"],["dra","audio/vnd.dra"],["drle","image/dicom-rle"],["dsc","text/prs.lines.tag"],["dssc","application/dssc+der"],["dtb","application/x-dtbook+xml"],["dtd","application/xml-dtd"],["dts","audio/vnd.dts"],["dtshd","audio/vnd.dts.hd"],["dump","application/octet-stream"],["dvb","video/vnd.dvb.file"],["dvi","application/x-dvi"],["dwd","application/atsc-dwd+xml"],["dwf","model/vnd.dwf"],["dwg","image/vnd.dwg"],["dxf","image/vnd.dxf"],["dxp","application/vnd.spotfire.dxp"],["dxr","application/x-director"],["ear","application/java-archive"],["ecelp4800","audio/vnd.nuera.ecelp4800"],["ecelp7470","audio/vnd.nuera.ecelp7470"],["ecelp9600","audio/vnd.nuera.ecelp9600"],["ecma","application/ecmascript"],["edm","application/vnd.novadigm.edm"],["edx","application/vnd.novadigm.edx"],["efif","application/vnd.picsel"],["ei6","application/vnd.pg.osasli"],["elc","application/octet-stream"],["emf","image/emf"],["eml","message/rfc822"],["emma","application/emma+xml"],["emotionml","application/emotionml+xml"],["emz","application/x-msmetafile"],["eol","audio/vnd.digital-winds"],["eot","application/vnd.ms-fontobject"],["eps","application/postscript"],["epub","application/epub+zip"],["es","application/ecmascript"],["es3","application/vnd.eszigno3+xml"],["esa","application/vnd.osgi.subsystem"],["esf","application/vnd.epson.esf"],["et3","application/vnd.eszigno3+xml"],["etx","text/x-setext"],["eva","application/x-eva"],["evy","application/x-envoy"],["exe","application/octet-stream"],["exi","application/exi"],["exp","application/express"],["exr","image/aces"],["ext","application/vnd.novadigm.ext"],["ez","application/andrew-inset"],["ez2","application/vnd.ezpix-album"],["ez3","application/vnd.ezpix-package"],["f","text/x-fortran"],["f4v","video/mp4"],["f77","text/x-fortran"],["f90","text/x-fortran"],["fbs","image/vnd.fastbidsheet"],["fcdt","application/vnd.adobe.formscentral.fcdt"],["fcs","application/vnd.isac.fcs"],["fdf","application/vnd.fdf"],["fdt","application/fdt+xml"],["fe_launch","application/vnd.denovo.fcselayout-link"],["fg5","application/vnd.fujitsu.oasysgp"],["fgd","application/x-director"],["fh","image/x-freehand"],["fh4","image/x-freehand"],["fh5","image/x-freehand"],["fh7","image/x-freehand"],["fhc","image/x-freehand"],["fig","application/x-xfig"],["fits","image/fits"],["flac","audio/x-flac"],["fli","video/x-fli"],["flo","application/vnd.micrografx.flo"],["flv","video/x-flv"],["flw","application/vnd.kde.kivio"],["flx","text/vnd.fmi.flexstor"],["fly","text/vnd.fly"],["fm","application/vnd.framemaker"],["fnc","application/vnd.frogans.fnc"],["fo","application/vnd.software602.filler.form+xml"],["for","text/x-fortran"],["fpx","image/vnd.fpx"],["frame","application/vnd.framemaker"],["fsc","application/vnd.fsc.weblaunch"],["fst","image/vnd.fst"],["ftc","application/vnd.fluxtime.clip"],["fti","application/vnd.anser-web-funds-transfer-initiation"],["fvt","video/vnd.fvt"],["fxp","application/vnd.adobe.fxp"],["fxpl","application/vnd.adobe.fxp"],["fzs","application/vnd.fuzzysheet"],["g2w","application/vnd.geoplan"],["g3","image/g3fax"],["g3w","application/vnd.geospace"],["gac","application/vnd.groove-account"],["gam","application/x-tads"],["gbr","application/rpki-ghostbusters"],["gca","application/x-gca-compressed"],["gdl","model/vnd.gdl"],["gdoc","application/vnd.google-apps.document"],["geo","application/vnd.dynageo"],["geojson","application/geo+json"],["gex","application/vnd.geometry-explorer"],["ggb","application/vnd.geogebra.file"],["ggt","application/vnd.geogebra.tool"],["ghf","application/vnd.groove-help"],["gif","image/gif"],["gim","application/vnd.groove-identity-message"],["glb","model/gltf-binary"],["gltf","model/gltf+json"],["gml","application/gml+xml"],["gmx","application/vnd.gmx"],["gnumeric","application/x-gnumeric"],["gpg","application/gpg-keys"],["gph","application/vnd.flographit"],["gpx","application/gpx+xml"],["gqf","application/vnd.grafeq"],["gqs","application/vnd.grafeq"],["gram","application/srgs"],["gramps","application/x-gramps-xml"],["gre","application/vnd.geometry-explorer"],["grv","application/vnd.groove-injector"],["grxml","application/srgs+xml"],["gsf","application/x-font-ghostscript"],["gsheet","application/vnd.google-apps.spreadsheet"],["gslides","application/vnd.google-apps.presentation"],["gtar","application/x-gtar"],["gtm","application/vnd.groove-tool-message"],["gtw","model/vnd.gtw"],["gv","text/vnd.graphviz"],["gxf","application/gxf"],["gxt","application/vnd.geonext"],["gz","application/gzip"],["gzip","application/gzip"],["h","text/x-c"],["h261","video/h261"],["h263","video/h263"],["h264","video/h264"],["hal","application/vnd.hal+xml"],["hbci","application/vnd.hbci"],["hbs","text/x-handlebars-template"],["hdd","application/x-virtualbox-hdd"],["hdf","application/x-hdf"],["heic","image/heic"],["heics","image/heic-sequence"],["heif","image/heif"],["heifs","image/heif-sequence"],["hej2","image/hej2k"],["held","application/atsc-held+xml"],["hh","text/x-c"],["hjson","application/hjson"],["hlp","application/winhlp"],["hpgl","application/vnd.hp-hpgl"],["hpid","application/vnd.hp-hpid"],["hps","application/vnd.hp-hps"],["hqx","application/mac-binhex40"],["hsj2","image/hsj2"],["htc","text/x-component"],["htke","application/vnd.kenameaapp"],["htm","text/html"],["html","text/html"],["hvd","application/vnd.yamaha.hv-dic"],["hvp","application/vnd.yamaha.hv-voice"],["hvs","application/vnd.yamaha.hv-script"],["i2g","application/vnd.intergeo"],["icc","application/vnd.iccprofile"],["ice","x-conference/x-cooltalk"],["icm","application/vnd.iccprofile"],["ico","image/x-icon"],["ics","text/calendar"],["ief","image/ief"],["ifb","text/calendar"],["ifm","application/vnd.shana.informed.formdata"],["iges","model/iges"],["igl","application/vnd.igloader"],["igm","application/vnd.insors.igm"],["igs","model/iges"],["igx","application/vnd.micrografx.igx"],["iif","application/vnd.shana.informed.interchange"],["img","application/octet-stream"],["imp","application/vnd.accpac.simply.imp"],["ims","application/vnd.ms-ims"],["in","text/plain"],["ini","text/plain"],["ink","application/inkml+xml"],["inkml","application/inkml+xml"],["install","application/x-install-instructions"],["iota","application/vnd.astraea-software.iota"],["ipfix","application/ipfix"],["ipk","application/vnd.shana.informed.package"],["irm","application/vnd.ibm.rights-management"],["irp","application/vnd.irepository.package+xml"],["iso","application/x-iso9660-image"],["itp","application/vnd.shana.informed.formtemplate"],["its","application/its+xml"],["ivp","application/vnd.immervision-ivp"],["ivu","application/vnd.immervision-ivu"],["jad","text/vnd.sun.j2me.app-descriptor"],["jade","text/jade"],["jam","application/vnd.jam"],["jar","application/java-archive"],["jardiff","application/x-java-archive-diff"],["java","text/x-java-source"],["jhc","image/jphc"],["jisp","application/vnd.jisp"],["jls","image/jls"],["jlt","application/vnd.hp-jlyt"],["jng","image/x-jng"],["jnlp","application/x-java-jnlp-file"],["joda","application/vnd.joost.joda-archive"],["jp2","image/jp2"],["jpe","image/jpeg"],["jpeg","image/jpeg"],["jpf","image/jpx"],["jpg","image/jpeg"],["jpg2","image/jp2"],["jpgm","video/jpm"],["jpgv","video/jpeg"],["jph","image/jph"],["jpm","video/jpm"],["jpx","image/jpx"],["js","application/javascript"],["json","application/json"],["json5","application/json5"],["jsonld","application/ld+json"],["jsonl","application/jsonl"],["jsonml","application/jsonml+json"],["jsx","text/jsx"],["jxr","image/jxr"],["jxra","image/jxra"],["jxrs","image/jxrs"],["jxs","image/jxs"],["jxsc","image/jxsc"],["jxsi","image/jxsi"],["jxss","image/jxss"],["kar","audio/midi"],["karbon","application/vnd.kde.karbon"],["kdb","application/octet-stream"],["kdbx","application/x-keepass2"],["key","application/x-iwork-keynote-sffkey"],["kfo","application/vnd.kde.kformula"],["kia","application/vnd.kidspiration"],["kml","application/vnd.google-earth.kml+xml"],["kmz","application/vnd.google-earth.kmz"],["kne","application/vnd.kinar"],["knp","application/vnd.kinar"],["kon","application/vnd.kde.kontour"],["kpr","application/vnd.kde.kpresenter"],["kpt","application/vnd.kde.kpresenter"],["kpxx","application/vnd.ds-keypoint"],["ksp","application/vnd.kde.kspread"],["ktr","application/vnd.kahootz"],["ktx","image/ktx"],["ktx2","image/ktx2"],["ktz","application/vnd.kahootz"],["kwd","application/vnd.kde.kword"],["kwt","application/vnd.kde.kword"],["lasxml","application/vnd.las.las+xml"],["latex","application/x-latex"],["lbd","application/vnd.llamagraphics.life-balance.desktop"],["lbe","application/vnd.llamagraphics.life-balance.exchange+xml"],["les","application/vnd.hhe.lesson-player"],["less","text/less"],["lgr","application/lgr+xml"],["lha","application/octet-stream"],["link66","application/vnd.route66.link66+xml"],["list","text/plain"],["list3820","application/vnd.ibm.modcap"],["listafp","application/vnd.ibm.modcap"],["litcoffee","text/coffeescript"],["lnk","application/x-ms-shortcut"],["log","text/plain"],["lostxml","application/lost+xml"],["lrf","application/octet-stream"],["lrm","application/vnd.ms-lrm"],["ltf","application/vnd.frogans.ltf"],["lua","text/x-lua"],["luac","application/x-lua-bytecode"],["lvp","audio/vnd.lucent.voice"],["lwp","application/vnd.lotus-wordpro"],["lzh","application/octet-stream"],["m1v","video/mpeg"],["m2a","audio/mpeg"],["m2v","video/mpeg"],["m3a","audio/mpeg"],["m3u","text/plain"],["m3u8","application/vnd.apple.mpegurl"],["m4a","audio/x-m4a"],["m4p","application/mp4"],["m4s","video/iso.segment"],["m4u","application/vnd.mpegurl"],["m4v","video/x-m4v"],["m13","application/x-msmediaview"],["m14","application/x-msmediaview"],["m21","application/mp21"],["ma","application/mathematica"],["mads","application/mads+xml"],["maei","application/mmt-aei+xml"],["mag","application/vnd.ecowin.chart"],["maker","application/vnd.framemaker"],["man","text/troff"],["manifest","text/cache-manifest"],["map","application/json"],["mar","application/octet-stream"],["markdown","text/markdown"],["mathml","application/mathml+xml"],["mb","application/mathematica"],["mbk","application/vnd.mobius.mbk"],["mbox","application/mbox"],["mc1","application/vnd.medcalcdata"],["mcd","application/vnd.mcd"],["mcurl","text/vnd.curl.mcurl"],["md","text/markdown"],["mdb","application/x-msaccess"],["mdi","image/vnd.ms-modi"],["mdx","text/mdx"],["me","text/troff"],["mesh","model/mesh"],["meta4","application/metalink4+xml"],["metalink","application/metalink+xml"],["mets","application/mets+xml"],["mfm","application/vnd.mfmp"],["mft","application/rpki-manifest"],["mgp","application/vnd.osgeo.mapguide.package"],["mgz","application/vnd.proteus.magazine"],["mid","audio/midi"],["midi","audio/midi"],["mie","application/x-mie"],["mif","application/vnd.mif"],["mime","message/rfc822"],["mj2","video/mj2"],["mjp2","video/mj2"],["mjs","application/javascript"],["mk3d","video/x-matroska"],["mka","audio/x-matroska"],["mkd","text/x-markdown"],["mks","video/x-matroska"],["mkv","video/x-matroska"],["mlp","application/vnd.dolby.mlp"],["mmd","application/vnd.chipnuts.karaoke-mmd"],["mmf","application/vnd.smaf"],["mml","text/mathml"],["mmr","image/vnd.fujixerox.edmics-mmr"],["mng","video/x-mng"],["mny","application/x-msmoney"],["mobi","application/x-mobipocket-ebook"],["mods","application/mods+xml"],["mov","video/quicktime"],["movie","video/x-sgi-movie"],["mp2","audio/mpeg"],["mp2a","audio/mpeg"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mp4a","audio/mp4"],["mp4s","application/mp4"],["mp4v","video/mp4"],["mp21","application/mp21"],["mpc","application/vnd.mophun.certificate"],["mpd","application/dash+xml"],["mpe","video/mpeg"],["mpeg","video/mpeg"],["mpg","video/mpeg"],["mpg4","video/mp4"],["mpga","audio/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["mpm","application/vnd.blueice.multipass"],["mpn","application/vnd.mophun.application"],["mpp","application/vnd.ms-project"],["mpt","application/vnd.ms-project"],["mpy","application/vnd.ibm.minipay"],["mqy","application/vnd.mobius.mqy"],["mrc","application/marc"],["mrcx","application/marcxml+xml"],["ms","text/troff"],["mscml","application/mediaservercontrol+xml"],["mseed","application/vnd.fdsn.mseed"],["mseq","application/vnd.mseq"],["msf","application/vnd.epson.msf"],["msg","application/vnd.ms-outlook"],["msh","model/mesh"],["msi","application/x-msdownload"],["msl","application/vnd.mobius.msl"],["msm","application/octet-stream"],["msp","application/octet-stream"],["msty","application/vnd.muvee.style"],["mtl","model/mtl"],["mts","model/vnd.mts"],["mus","application/vnd.musician"],["musd","application/mmt-usd+xml"],["musicxml","application/vnd.recordare.musicxml+xml"],["mvb","application/x-msmediaview"],["mvt","application/vnd.mapbox-vector-tile"],["mwf","application/vnd.mfer"],["mxf","application/mxf"],["mxl","application/vnd.recordare.musicxml"],["mxmf","audio/mobile-xmf"],["mxml","application/xv+xml"],["mxs","application/vnd.triscape.mxs"],["mxu","video/vnd.mpegurl"],["n-gage","application/vnd.nokia.n-gage.symbian.install"],["n3","text/n3"],["nb","application/mathematica"],["nbp","application/vnd.wolfram.player"],["nc","application/x-netcdf"],["ncx","application/x-dtbncx+xml"],["nfo","text/x-nfo"],["ngdat","application/vnd.nokia.n-gage.data"],["nitf","application/vnd.nitf"],["nlu","application/vnd.neurolanguage.nlu"],["nml","application/vnd.enliven"],["nnd","application/vnd.noblenet-directory"],["nns","application/vnd.noblenet-sealer"],["nnw","application/vnd.noblenet-web"],["npx","image/vnd.net-fpx"],["nq","application/n-quads"],["nsc","application/x-conference"],["nsf","application/vnd.lotus-notes"],["nt","application/n-triples"],["ntf","application/vnd.nitf"],["numbers","application/x-iwork-numbers-sffnumbers"],["nzb","application/x-nzb"],["oa2","application/vnd.fujitsu.oasys2"],["oa3","application/vnd.fujitsu.oasys3"],["oas","application/vnd.fujitsu.oasys"],["obd","application/x-msbinder"],["obgx","application/vnd.openblox.game+xml"],["obj","model/obj"],["oda","application/oda"],["odb","application/vnd.oasis.opendocument.database"],["odc","application/vnd.oasis.opendocument.chart"],["odf","application/vnd.oasis.opendocument.formula"],["odft","application/vnd.oasis.opendocument.formula-template"],["odg","application/vnd.oasis.opendocument.graphics"],["odi","application/vnd.oasis.opendocument.image"],["odm","application/vnd.oasis.opendocument.text-master"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogex","model/vnd.opengex"],["ogg","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["omdoc","application/omdoc+xml"],["onepkg","application/onenote"],["onetmp","application/onenote"],["onetoc","application/onenote"],["onetoc2","application/onenote"],["opf","application/oebps-package+xml"],["opml","text/x-opml"],["oprc","application/vnd.palm"],["opus","audio/ogg"],["org","text/x-org"],["osf","application/vnd.yamaha.openscoreformat"],["osfpvg","application/vnd.yamaha.openscoreformat.osfpvg+xml"],["osm","application/vnd.openstreetmap.data+xml"],["otc","application/vnd.oasis.opendocument.chart-template"],["otf","font/otf"],["otg","application/vnd.oasis.opendocument.graphics-template"],["oth","application/vnd.oasis.opendocument.text-web"],["oti","application/vnd.oasis.opendocument.image-template"],["otp","application/vnd.oasis.opendocument.presentation-template"],["ots","application/vnd.oasis.opendocument.spreadsheet-template"],["ott","application/vnd.oasis.opendocument.text-template"],["ova","application/x-virtualbox-ova"],["ovf","application/x-virtualbox-ovf"],["owl","application/rdf+xml"],["oxps","application/oxps"],["oxt","application/vnd.openofficeorg.extension"],["p","text/x-pascal"],["p7a","application/x-pkcs7-signature"],["p7b","application/x-pkcs7-certificates"],["p7c","application/pkcs7-mime"],["p7m","application/pkcs7-mime"],["p7r","application/x-pkcs7-certreqresp"],["p7s","application/pkcs7-signature"],["p8","application/pkcs8"],["p10","application/x-pkcs10"],["p12","application/x-pkcs12"],["pac","application/x-ns-proxy-autoconfig"],["pages","application/x-iwork-pages-sffpages"],["pas","text/x-pascal"],["paw","application/vnd.pawaafile"],["pbd","application/vnd.powerbuilder6"],["pbm","image/x-portable-bitmap"],["pcap","application/vnd.tcpdump.pcap"],["pcf","application/x-font-pcf"],["pcl","application/vnd.hp-pcl"],["pclxl","application/vnd.hp-pclxl"],["pct","image/x-pict"],["pcurl","application/vnd.curl.pcurl"],["pcx","image/x-pcx"],["pdb","application/x-pilot"],["pde","text/x-processing"],["pdf","application/pdf"],["pem","application/x-x509-user-cert"],["pfa","application/x-font-type1"],["pfb","application/x-font-type1"],["pfm","application/x-font-type1"],["pfr","application/font-tdpfr"],["pfx","application/x-pkcs12"],["pgm","image/x-portable-graymap"],["pgn","application/x-chess-pgn"],["pgp","application/pgp"],["php","application/x-httpd-php"],["php3","application/x-httpd-php"],["php4","application/x-httpd-php"],["phps","application/x-httpd-php-source"],["phtml","application/x-httpd-php"],["pic","image/x-pict"],["pkg","application/octet-stream"],["pki","application/pkixcmp"],["pkipath","application/pkix-pkipath"],["pkpass","application/vnd.apple.pkpass"],["pl","application/x-perl"],["plb","application/vnd.3gpp.pic-bw-large"],["plc","application/vnd.mobius.plc"],["plf","application/vnd.pocketlearn"],["pls","application/pls+xml"],["pm","application/x-perl"],["pml","application/vnd.ctc-posml"],["png","image/png"],["pnm","image/x-portable-anymap"],["portpkg","application/vnd.macports.portpkg"],["pot","application/vnd.ms-powerpoint"],["potm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["potx","application/vnd.openxmlformats-officedocument.presentationml.template"],["ppa","application/vnd.ms-powerpoint"],["ppam","application/vnd.ms-powerpoint.addin.macroEnabled.12"],["ppd","application/vnd.cups-ppd"],["ppm","image/x-portable-pixmap"],["pps","application/vnd.ms-powerpoint"],["ppsm","application/vnd.ms-powerpoint.slideshow.macroEnabled.12"],["ppsx","application/vnd.openxmlformats-officedocument.presentationml.slideshow"],["ppt","application/powerpoint"],["pptm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["pqa","application/vnd.palm"],["prc","application/x-pilot"],["pre","application/vnd.lotus-freelance"],["prf","application/pics-rules"],["provx","application/provenance+xml"],["ps","application/postscript"],["psb","application/vnd.3gpp.pic-bw-small"],["psd","application/x-photoshop"],["psf","application/x-font-linux-psf"],["pskcxml","application/pskc+xml"],["pti","image/prs.pti"],["ptid","application/vnd.pvi.ptid1"],["pub","application/x-mspublisher"],["pvb","application/vnd.3gpp.pic-bw-var"],["pwn","application/vnd.3m.post-it-notes"],["pya","audio/vnd.ms-playready.media.pya"],["pyv","video/vnd.ms-playready.media.pyv"],["qam","application/vnd.epson.quickanime"],["qbo","application/vnd.intu.qbo"],["qfx","application/vnd.intu.qfx"],["qps","application/vnd.publishare-delta-tree"],["qt","video/quicktime"],["qwd","application/vnd.quark.quarkxpress"],["qwt","application/vnd.quark.quarkxpress"],["qxb","application/vnd.quark.quarkxpress"],["qxd","application/vnd.quark.quarkxpress"],["qxl","application/vnd.quark.quarkxpress"],["qxt","application/vnd.quark.quarkxpress"],["ra","audio/x-realaudio"],["ram","audio/x-pn-realaudio"],["raml","application/raml+yaml"],["rapd","application/route-apd+xml"],["rar","application/x-rar"],["ras","image/x-cmu-raster"],["rcprofile","application/vnd.ipunplugged.rcprofile"],["rdf","application/rdf+xml"],["rdz","application/vnd.data-vision.rdz"],["relo","application/p2p-overlay+xml"],["rep","application/vnd.businessobjects"],["res","application/x-dtbresource+xml"],["rgb","image/x-rgb"],["rif","application/reginfo+xml"],["rip","audio/vnd.rip"],["ris","application/x-research-info-systems"],["rl","application/resource-lists+xml"],["rlc","image/vnd.fujixerox.edmics-rlc"],["rld","application/resource-lists-diff+xml"],["rm","audio/x-pn-realaudio"],["rmi","audio/midi"],["rmp","audio/x-pn-realaudio-plugin"],["rms","application/vnd.jcp.javame.midlet-rms"],["rmvb","application/vnd.rn-realmedia-vbr"],["rnc","application/relax-ng-compact-syntax"],["rng","application/xml"],["roa","application/rpki-roa"],["roff","text/troff"],["rp9","application/vnd.cloanto.rp9"],["rpm","audio/x-pn-realaudio-plugin"],["rpss","application/vnd.nokia.radio-presets"],["rpst","application/vnd.nokia.radio-preset"],["rq","application/sparql-query"],["rs","application/rls-services+xml"],["rsa","application/x-pkcs7"],["rsat","application/atsc-rsat+xml"],["rsd","application/rsd+xml"],["rsheet","application/urc-ressheet+xml"],["rss","application/rss+xml"],["rtf","text/rtf"],["rtx","text/richtext"],["run","application/x-makeself"],["rusd","application/route-usd+xml"],["rv","video/vnd.rn-realvideo"],["s","text/x-asm"],["s3m","audio/s3m"],["saf","application/vnd.yamaha.smaf-audio"],["sass","text/x-sass"],["sbml","application/sbml+xml"],["sc","application/vnd.ibm.secure-container"],["scd","application/x-msschedule"],["scm","application/vnd.lotus-screencam"],["scq","application/scvp-cv-request"],["scs","application/scvp-cv-response"],["scss","text/x-scss"],["scurl","text/vnd.curl.scurl"],["sda","application/vnd.stardivision.draw"],["sdc","application/vnd.stardivision.calc"],["sdd","application/vnd.stardivision.impress"],["sdkd","application/vnd.solent.sdkm+xml"],["sdkm","application/vnd.solent.sdkm+xml"],["sdp","application/sdp"],["sdw","application/vnd.stardivision.writer"],["sea","application/octet-stream"],["see","application/vnd.seemail"],["seed","application/vnd.fdsn.seed"],["sema","application/vnd.sema"],["semd","application/vnd.semd"],["semf","application/vnd.semf"],["senmlx","application/senml+xml"],["sensmlx","application/sensml+xml"],["ser","application/java-serialized-object"],["setpay","application/set-payment-initiation"],["setreg","application/set-registration-initiation"],["sfd-hdstx","application/vnd.hydrostatix.sof-data"],["sfs","application/vnd.spotfire.sfs"],["sfv","text/x-sfv"],["sgi","image/sgi"],["sgl","application/vnd.stardivision.writer-global"],["sgm","text/sgml"],["sgml","text/sgml"],["sh","application/x-sh"],["shar","application/x-shar"],["shex","text/shex"],["shf","application/shf+xml"],["shtml","text/html"],["sid","image/x-mrsid-image"],["sieve","application/sieve"],["sig","application/pgp-signature"],["sil","audio/silk"],["silo","model/mesh"],["sis","application/vnd.symbian.install"],["sisx","application/vnd.symbian.install"],["sit","application/x-stuffit"],["sitx","application/x-stuffitx"],["siv","application/sieve"],["skd","application/vnd.koan"],["skm","application/vnd.koan"],["skp","application/vnd.koan"],["skt","application/vnd.koan"],["sldm","application/vnd.ms-powerpoint.slide.macroenabled.12"],["sldx","application/vnd.openxmlformats-officedocument.presentationml.slide"],["slim","text/slim"],["slm","text/slim"],["sls","application/route-s-tsid+xml"],["slt","application/vnd.epson.salt"],["sm","application/vnd.stepmania.stepchart"],["smf","application/vnd.stardivision.math"],["smi","application/smil"],["smil","application/smil"],["smv","video/x-smv"],["smzip","application/vnd.stepmania.package"],["snd","audio/basic"],["snf","application/x-font-snf"],["so","application/octet-stream"],["spc","application/x-pkcs7-certificates"],["spdx","text/spdx"],["spf","application/vnd.yamaha.smaf-phrase"],["spl","application/x-futuresplash"],["spot","text/vnd.in3d.spot"],["spp","application/scvp-vp-response"],["spq","application/scvp-vp-request"],["spx","audio/ogg"],["sql","application/x-sql"],["src","application/x-wais-source"],["srt","application/x-subrip"],["sru","application/sru+xml"],["srx","application/sparql-results+xml"],["ssdl","application/ssdl+xml"],["sse","application/vnd.kodak-descriptor"],["ssf","application/vnd.epson.ssf"],["ssml","application/ssml+xml"],["sst","application/octet-stream"],["st","application/vnd.sailingtracker.track"],["stc","application/vnd.sun.xml.calc.template"],["std","application/vnd.sun.xml.draw.template"],["stf","application/vnd.wt.stf"],["sti","application/vnd.sun.xml.impress.template"],["stk","application/hyperstudio"],["stl","model/stl"],["stpx","model/step+xml"],["stpxz","model/step-xml+zip"],["stpz","model/step+zip"],["str","application/vnd.pg.format"],["stw","application/vnd.sun.xml.writer.template"],["styl","text/stylus"],["stylus","text/stylus"],["sub","text/vnd.dvb.subtitle"],["sus","application/vnd.sus-calendar"],["susp","application/vnd.sus-calendar"],["sv4cpio","application/x-sv4cpio"],["sv4crc","application/x-sv4crc"],["svc","application/vnd.dvb.service"],["svd","application/vnd.svd"],["svg","image/svg+xml"],["svgz","image/svg+xml"],["swa","application/x-director"],["swf","application/x-shockwave-flash"],["swi","application/vnd.aristanetworks.swi"],["swidtag","application/swid+xml"],["sxc","application/vnd.sun.xml.calc"],["sxd","application/vnd.sun.xml.draw"],["sxg","application/vnd.sun.xml.writer.global"],["sxi","application/vnd.sun.xml.impress"],["sxm","application/vnd.sun.xml.math"],["sxw","application/vnd.sun.xml.writer"],["t","text/troff"],["t3","application/x-t3vm-image"],["t38","image/t38"],["taglet","application/vnd.mynfc"],["tao","application/vnd.tao.intent-module-archive"],["tap","image/vnd.tencent.tap"],["tar","application/x-tar"],["tcap","application/vnd.3gpp2.tcap"],["tcl","application/x-tcl"],["td","application/urc-targetdesc+xml"],["teacher","application/vnd.smart.teacher"],["tei","application/tei+xml"],["teicorpus","application/tei+xml"],["tex","application/x-tex"],["texi","application/x-texinfo"],["texinfo","application/x-texinfo"],["text","text/plain"],["tfi","application/thraud+xml"],["tfm","application/x-tex-tfm"],["tfx","image/tiff-fx"],["tga","image/x-tga"],["tgz","application/x-tar"],["thmx","application/vnd.ms-officetheme"],["tif","image/tiff"],["tiff","image/tiff"],["tk","application/x-tcl"],["tmo","application/vnd.tmobile-livetv"],["toml","application/toml"],["torrent","application/x-bittorrent"],["tpl","application/vnd.groove-tool-template"],["tpt","application/vnd.trid.tpt"],["tr","text/troff"],["tra","application/vnd.trueapp"],["trig","application/trig"],["trm","application/x-msterminal"],["ts","video/mp2t"],["tsd","application/timestamped-data"],["tsv","text/tab-separated-values"],["ttc","font/collection"],["ttf","font/ttf"],["ttl","text/turtle"],["ttml","application/ttml+xml"],["twd","application/vnd.simtech-mindmapper"],["twds","application/vnd.simtech-mindmapper"],["txd","application/vnd.genomatix.tuxedo"],["txf","application/vnd.mobius.txf"],["txt","text/plain"],["u8dsn","message/global-delivery-status"],["u8hdr","message/global-headers"],["u8mdn","message/global-disposition-notification"],["u8msg","message/global"],["u32","application/x-authorware-bin"],["ubj","application/ubjson"],["udeb","application/x-debian-package"],["ufd","application/vnd.ufdl"],["ufdl","application/vnd.ufdl"],["ulx","application/x-glulx"],["umj","application/vnd.umajin"],["unityweb","application/vnd.unity"],["uoml","application/vnd.uoml+xml"],["uri","text/uri-list"],["uris","text/uri-list"],["urls","text/uri-list"],["usdz","model/vnd.usdz+zip"],["ustar","application/x-ustar"],["utz","application/vnd.uiq.theme"],["uu","text/x-uuencode"],["uva","audio/vnd.dece.audio"],["uvd","application/vnd.dece.data"],["uvf","application/vnd.dece.data"],["uvg","image/vnd.dece.graphic"],["uvh","video/vnd.dece.hd"],["uvi","image/vnd.dece.graphic"],["uvm","video/vnd.dece.mobile"],["uvp","video/vnd.dece.pd"],["uvs","video/vnd.dece.sd"],["uvt","application/vnd.dece.ttml+xml"],["uvu","video/vnd.uvvu.mp4"],["uvv","video/vnd.dece.video"],["uvva","audio/vnd.dece.audio"],["uvvd","application/vnd.dece.data"],["uvvf","application/vnd.dece.data"],["uvvg","image/vnd.dece.graphic"],["uvvh","video/vnd.dece.hd"],["uvvi","image/vnd.dece.graphic"],["uvvm","video/vnd.dece.mobile"],["uvvp","video/vnd.dece.pd"],["uvvs","video/vnd.dece.sd"],["uvvt","application/vnd.dece.ttml+xml"],["uvvu","video/vnd.uvvu.mp4"],["uvvv","video/vnd.dece.video"],["uvvx","application/vnd.dece.unspecified"],["uvvz","application/vnd.dece.zip"],["uvx","application/vnd.dece.unspecified"],["uvz","application/vnd.dece.zip"],["vbox","application/x-virtualbox-vbox"],["vbox-extpack","application/x-virtualbox-vbox-extpack"],["vcard","text/vcard"],["vcd","application/x-cdlink"],["vcf","text/x-vcard"],["vcg","application/vnd.groove-vcard"],["vcs","text/x-vcalendar"],["vcx","application/vnd.vcx"],["vdi","application/x-virtualbox-vdi"],["vds","model/vnd.sap.vds"],["vhd","application/x-virtualbox-vhd"],["vis","application/vnd.visionary"],["viv","video/vnd.vivo"],["vlc","application/videolan"],["vmdk","application/x-virtualbox-vmdk"],["vob","video/x-ms-vob"],["vor","application/vnd.stardivision.writer"],["vox","application/x-authorware-bin"],["vrml","model/vrml"],["vsd","application/vnd.visio"],["vsf","application/vnd.vsf"],["vss","application/vnd.visio"],["vst","application/vnd.visio"],["vsw","application/vnd.visio"],["vtf","image/vnd.valve.source.texture"],["vtt","text/vtt"],["vtu","model/vnd.vtu"],["vxml","application/voicexml+xml"],["w3d","application/x-director"],["wad","application/x-doom"],["wadl","application/vnd.sun.wadl+xml"],["war","application/java-archive"],["wasm","application/wasm"],["wav","audio/x-wav"],["wax","audio/x-ms-wax"],["wbmp","image/vnd.wap.wbmp"],["wbs","application/vnd.criticaltools.wbs+xml"],["wbxml","application/wbxml"],["wcm","application/vnd.ms-works"],["wdb","application/vnd.ms-works"],["wdp","image/vnd.ms-photo"],["weba","audio/webm"],["webapp","application/x-web-app-manifest+json"],["webm","video/webm"],["webmanifest","application/manifest+json"],["webp","image/webp"],["wg","application/vnd.pmi.widget"],["wgt","application/widget"],["wks","application/vnd.ms-works"],["wm","video/x-ms-wm"],["wma","audio/x-ms-wma"],["wmd","application/x-ms-wmd"],["wmf","image/wmf"],["wml","text/vnd.wap.wml"],["wmlc","application/wmlc"],["wmls","text/vnd.wap.wmlscript"],["wmlsc","application/vnd.wap.wmlscriptc"],["wmv","video/x-ms-wmv"],["wmx","video/x-ms-wmx"],["wmz","application/x-msmetafile"],["woff","font/woff"],["woff2","font/woff2"],["word","application/msword"],["wpd","application/vnd.wordperfect"],["wpl","application/vnd.ms-wpl"],["wps","application/vnd.ms-works"],["wqd","application/vnd.wqd"],["wri","application/x-mswrite"],["wrl","model/vrml"],["wsc","message/vnd.wfa.wsc"],["wsdl","application/wsdl+xml"],["wspolicy","application/wspolicy+xml"],["wtb","application/vnd.webturbo"],["wvx","video/x-ms-wvx"],["x3d","model/x3d+xml"],["x3db","model/x3d+fastinfoset"],["x3dbz","model/x3d+binary"],["x3dv","model/x3d-vrml"],["x3dvz","model/x3d+vrml"],["x3dz","model/x3d+xml"],["x32","application/x-authorware-bin"],["x_b","model/vnd.parasolid.transmit.binary"],["x_t","model/vnd.parasolid.transmit.text"],["xaml","application/xaml+xml"],["xap","application/x-silverlight-app"],["xar","application/vnd.xara"],["xav","application/xcap-att+xml"],["xbap","application/x-ms-xbap"],["xbd","application/vnd.fujixerox.docuworks.binder"],["xbm","image/x-xbitmap"],["xca","application/xcap-caps+xml"],["xcs","application/calendar+xml"],["xdf","application/xcap-diff+xml"],["xdm","application/vnd.syncml.dm+xml"],["xdp","application/vnd.adobe.xdp+xml"],["xdssc","application/dssc+xml"],["xdw","application/vnd.fujixerox.docuworks"],["xel","application/xcap-el+xml"],["xenc","application/xenc+xml"],["xer","application/patch-ops-error+xml"],["xfdf","application/vnd.adobe.xfdf"],["xfdl","application/vnd.xfdl"],["xht","application/xhtml+xml"],["xhtml","application/xhtml+xml"],["xhvml","application/xv+xml"],["xif","image/vnd.xiff"],["xl","application/excel"],["xla","application/vnd.ms-excel"],["xlam","application/vnd.ms-excel.addin.macroEnabled.12"],["xlc","application/vnd.ms-excel"],["xlf","application/xliff+xml"],["xlm","application/vnd.ms-excel"],["xls","application/vnd.ms-excel"],["xlsb","application/vnd.ms-excel.sheet.binary.macroEnabled.12"],["xlsm","application/vnd.ms-excel.sheet.macroEnabled.12"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xlt","application/vnd.ms-excel"],["xltm","application/vnd.ms-excel.template.macroEnabled.12"],["xltx","application/vnd.openxmlformats-officedocument.spreadsheetml.template"],["xlw","application/vnd.ms-excel"],["xm","audio/xm"],["xml","application/xml"],["xns","application/xcap-ns+xml"],["xo","application/vnd.olpc-sugar"],["xop","application/xop+xml"],["xpi","application/x-xpinstall"],["xpl","application/xproc+xml"],["xpm","image/x-xpixmap"],["xpr","application/vnd.is-xpr"],["xps","application/vnd.ms-xpsdocument"],["xpw","application/vnd.intercon.formnet"],["xpx","application/vnd.intercon.formnet"],["xsd","application/xml"],["xsl","application/xml"],["xslt","application/xslt+xml"],["xsm","application/vnd.syncml+xml"],["xspf","application/xspf+xml"],["xul","application/vnd.mozilla.xul+xml"],["xvm","application/xv+xml"],["xvml","application/xv+xml"],["xwd","image/x-xwindowdump"],["xyz","chemical/x-xyz"],["xz","application/x-xz"],["yaml","text/yaml"],["yang","application/yang"],["yin","application/yin+xml"],["yml","text/yaml"],["ymp","text/x-suse-ymp"],["z","application/x-compress"],["z1","application/x-zmachine"],["z2","application/x-zmachine"],["z3","application/x-zmachine"],["z4","application/x-zmachine"],["z5","application/x-zmachine"],["z6","application/x-zmachine"],["z7","application/x-zmachine"],["z8","application/x-zmachine"],["zaz","application/vnd.zzazz.deck+xml"],["zip","application/zip"],["zir","application/vnd.zul"],["zirz","application/vnd.zul"],["zmm","application/vnd.handheld-entertainment+xml"],["zsh","text/x-scriptzsh"]]);function Hw(t,e,n){const r=SBe(t),{webkitRelativePath:s}=t,a=typeof e=="string"?e:typeof s=="string"&&s.length>0?s:`./${t.name}`;return typeof r.path!="string"&&dG(r,"path",a),dG(r,"relativePath",a),r}function SBe(t){const{name:e}=t;if(e&&e.lastIndexOf(".")!==-1&&!t.type){const r=e.split(".").pop().toLowerCase(),s=CBe.get(r);s&&Object.defineProperty(t,"type",{value:s,writable:!1,configurable:!1,enumerable:!0})}return t}function dG(t,e,n){Object.defineProperty(t,e,{value:n,writable:!1,configurable:!1,enumerable:!0})}const EBe=[".DS_Store","Thumbs.db"];function BBe(t){return By(this,void 0,void 0,function*(){return ID(t)&&DBe(t.dataTransfer)?PBe(t.dataTransfer,t.type):TBe(t)?kBe(t):Array.isArray(t)&&t.every(e=>"getFile"in e&&typeof e.getFile=="function")?FBe(t):[]})}function DBe(t){return ID(t)}function TBe(t){return ID(t)&&ID(t.target)}function ID(t){return typeof t=="object"&&t!==null}function kBe(t){return vR(t.target.files).map(e=>Hw(e))}function FBe(t){return By(this,void 0,void 0,function*(){return(yield Promise.all(t.map(n=>n.getFile()))).map(n=>Hw(n))})}function PBe(t,e){return By(this,void 0,void 0,function*(){if(t.items){const n=vR(t.items).filter(s=>s.kind==="file");if(e!=="drop")return n;const r=yield Promise.all(n.map(UBe));return hG(fde(r))}return hG(vR(t.files).map(n=>Hw(n)))})}function hG(t){return t.filter(e=>EBe.indexOf(e.name)===-1)}function vR(t){if(t===null)return[];const e=[];for(let n=0;n<t.length;n++){const r=t[n];e.push(r)}return e}function UBe(t){if(typeof t.webkitGetAsEntry!="function")return fG(t);const e=t.webkitGetAsEntry();return e&&e.isDirectory?Ade(e):fG(t,e)}function fde(t){return t.reduce((e,n)=>[...e,...Array.isArray(n)?fde(n):[n]],[])}function fG(t,e){return By(this,void 0,void 0,function*(){var n;if(globalThis.isSecureContext&&typeof t.getAsFileSystemHandle=="function"){const a=yield t.getAsFileSystemHandle();if(a===null)throw new Error(`${t} is not a File`);if(a!==void 0){const o=yield a.getFile();return o.handle=a,Hw(o)}}const r=t.getAsFile();if(!r)throw new Error(`${t} is not a File`);return Hw(r,(n=e==null?void 0:e.fullPath)!==null&&n!==void 0?n:void 0)})}function IBe(t){return By(this,void 0,void 0,function*(){return t.isDirectory?Ade(t):OBe(t)})}function Ade(t){const e=t.createReader();return new Promise((n,r)=>{const s=[];function a(){e.readEntries(o=>By(this,void 0,void 0,function*(){if(o.length){const l=Promise.all(o.map(IBe));s.push(l),a()}else try{const l=yield Promise.all(s);n(l)}catch(l){r(l)}}),o=>{r(o)})}a()})}function OBe(t){return By(this,void 0,void 0,function*(){return new Promise((e,n)=>{t.file(r=>{const s=Hw(r,t.fullPath);e(s)},r=>{n(r)})})})}var QE={},AG;function MBe(){return AG||(AG=1,QE.__esModule=!0,QE.default=function(t,e){if(t&&e){var n=Array.isArray(e)?e:e.split(",");if(n.length===0)return!0;var r=t.name||"",s=(t.type||"").toLowerCase(),a=s.replace(/\/.*$/,"");return n.some(function(o){var l=o.trim().toLowerCase();return l.charAt(0)==="."?r.toLowerCase().endsWith(l):l.endsWith("/*")?a===l.replace(/\/.*$/,""):s===l})}return!0}),QE}var LBe=MBe();const UP=wr(LBe);function pG(t){return HBe(t)||QBe(t)||mde(t)||RBe()}function RBe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function QBe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function HBe(t){if(Array.isArray(t))return yR(t)}function mG(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function gG(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?mG(Object(n),!0).forEach(function(r){pde(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):mG(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function pde(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function S_(t,e){return WBe(t)||$Be(t,e)||mde(t,e)||zBe()}function zBe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mde(t,e){if(t){if(typeof t=="string")return yR(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return yR(t,e)}}function yR(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function $Be(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r=[],s=!0,a=!1,o,l;try{for(n=n.call(t);!(s=(o=n.next()).done)&&(r.push(o.value),!(e&&r.length===e));s=!0);}catch(c){a=!0,l=c}finally{try{!s&&n.return!=null&&n.return()}finally{if(a)throw l}}return r}}function WBe(t){if(Array.isArray(t))return t}var qBe=typeof UP=="function"?UP:UP.default,VBe="file-invalid-type",KBe="file-too-large",GBe="file-too-small",XBe="too-many-files",YBe=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",n=e.split(","),r=n.length>1?"one of ".concat(n.join(", ")):n[0];return{code:VBe,message:"File type must be ".concat(r)}},xG=function(e){return{code:KBe,message:"File is larger than ".concat(e," ").concat(e===1?"byte":"bytes")}},vG=function(e){return{code:GBe,message:"File is smaller than ".concat(e," ").concat(e===1?"byte":"bytes")}},JBe={code:XBe,message:"Too many files"};function gde(t,e){var n=t.type==="application/x-moz-file"||qBe(t,e);return[n,n?null:YBe(e)]}function xde(t,e,n){if(Nv(t.size))if(Nv(e)&&Nv(n)){if(t.size>n)return[!1,xG(n)];if(t.size<e)return[!1,vG(e)]}else{if(Nv(e)&&t.size<e)return[!1,vG(e)];if(Nv(n)&&t.size>n)return[!1,xG(n)]}return[!0,null]}function Nv(t){return t!=null}function ZBe(t){var e=t.files,n=t.accept,r=t.minSize,s=t.maxSize,a=t.multiple,o=t.maxFiles,l=t.validator;return!a&&e.length>1||a&&o>=1&&e.length>o?!1:e.every(function(c){var u=gde(c,n),d=S_(u,1),h=d[0],f=xde(c,r,s),A=S_(f,1),v=A[0],p=l?l(c):null;return h&&v&&!p})}function OD(t){return typeof t.isPropagationStopped=="function"?t.isPropagationStopped():typeof t.cancelBubble<"u"?t.cancelBubble:!1}function HE(t){return t.dataTransfer?Array.prototype.some.call(t.dataTransfer.types,function(e){return e==="Files"||e==="application/x-moz-file"}):!!t.target&&!!t.target.files}function yG(t){t.preventDefault()}function eDe(t){return t.indexOf("MSIE")!==-1||t.indexOf("Trident/")!==-1}function tDe(t){return t.indexOf("Edge/")!==-1}function nDe(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window.navigator.userAgent;return eDe(t)||tDe(t)}function qh(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(r){for(var s=arguments.length,a=new Array(s>1?s-1:0),o=1;o<s;o++)a[o-1]=arguments[o];return e.some(function(l){return!OD(r)&&l&&l.apply(void 0,[r].concat(a)),OD(r)})}}function rDe(){return"showOpenFilePicker"in window}function iDe(t){if(Nv(t)){var e=Object.entries(t).filter(function(n){var r=S_(n,2),s=r[0],a=r[1],o=!0;return vde(s)||(console.warn('Skipped "'.concat(s,'" because it is not a valid MIME type. Check https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types/Common_types for a list of valid MIME types.')),o=!1),(!Array.isArray(a)||!a.every(yde))&&(console.warn('Skipped "'.concat(s,'" because an invalid file extension was provided.')),o=!1),o}).reduce(function(n,r){var s=S_(r,2),a=s[0],o=s[1];return gG(gG({},n),{},pde({},a,o))},{});return[{description:"Files",accept:e}]}return t}function sDe(t){if(Nv(t))return Object.entries(t).reduce(function(e,n){var r=S_(n,2),s=r[0],a=r[1];return[].concat(pG(e),[s],pG(a))},[]).filter(function(e){return vde(e)||yde(e)}).join(",")}function aDe(t){return t instanceof DOMException&&(t.name==="AbortError"||t.code===t.ABORT_ERR)}function oDe(t){return t instanceof DOMException&&(t.name==="SecurityError"||t.code===t.SECURITY_ERR)}function vde(t){return t==="audio/*"||t==="video/*"||t==="image/*"||t==="text/*"||t==="application/*"||/\w+\/[-+.\w]+/g.test(t)}function yde(t){return/^.*\.[\w]+$/.test(t)}var lDe=["children"],cDe=["open"],uDe=["refKey","role","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"],dDe=["refKey","onChange","onClick"];function hDe(t){return pDe(t)||ADe(t)||bde(t)||fDe()}function fDe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ADe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function pDe(t){if(Array.isArray(t))return bR(t)}function IP(t,e){return xDe(t)||gDe(t,e)||bde(t,e)||mDe()}function mDe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bde(t,e){if(t){if(typeof t=="string")return bR(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return bR(t,e)}}function bR(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function gDe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r=[],s=!0,a=!1,o,l;try{for(n=n.call(t);!(s=(o=n.next()).done)&&(r.push(o.value),!(e&&r.length===e));s=!0);}catch(c){a=!0,l=c}finally{try{!s&&n.return!=null&&n.return()}finally{if(a)throw l}}return r}}function xDe(t){if(Array.isArray(t))return t}function bG(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function os(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?bG(Object(n),!0).forEach(function(r){wR(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):bG(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function wR(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function MD(t,e){if(t==null)return{};var n=vDe(t,e),r,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(s=0;s<a.length;s++)r=a[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function vDe(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,a;for(a=0;a<r.length;a++)s=r[a],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}var yz=E.forwardRef(function(t,e){var n=t.children,r=MD(t,lDe),s=jde(r),a=s.open,o=MD(s,cDe);return E.useImperativeHandle(e,function(){return{open:a}},[a]),pe.createElement(E.Fragment,null,n(os(os({},o),{},{open:a})))});yz.displayName="Dropzone";var wde={disabled:!1,getFilesFromEvent:BBe,maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null,useFsAccessApi:!1,autoFocus:!1};yz.defaultProps=wde;yz.propTypes={children:hn.func,accept:hn.objectOf(hn.arrayOf(hn.string)),multiple:hn.bool,preventDropOnDocument:hn.bool,noClick:hn.bool,noKeyboard:hn.bool,noDrag:hn.bool,noDragEventsBubbling:hn.bool,minSize:hn.number,maxSize:hn.number,maxFiles:hn.number,disabled:hn.bool,getFilesFromEvent:hn.func,onFileDialogCancel:hn.func,onFileDialogOpen:hn.func,useFsAccessApi:hn.bool,autoFocus:hn.bool,onDragEnter:hn.func,onDragLeave:hn.func,onDragOver:hn.func,onDrop:hn.func,onDropAccepted:hn.func,onDropRejected:hn.func,onError:hn.func,validator:hn.func};var jR={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,acceptedFiles:[],fileRejections:[]};function jde(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=os(os({},wde),t),n=e.accept,r=e.disabled,s=e.getFilesFromEvent,a=e.maxSize,o=e.minSize,l=e.multiple,c=e.maxFiles,u=e.onDragEnter,d=e.onDragLeave,h=e.onDragOver,f=e.onDrop,A=e.onDropAccepted,v=e.onDropRejected,p=e.onFileDialogCancel,m=e.onFileDialogOpen,g=e.useFsAccessApi,x=e.autoFocus,b=e.preventDropOnDocument,j=e.noClick,N=e.noKeyboard,_=e.noDrag,C=e.noDragEventsBubbling,k=e.onError,T=e.validator,O=E.useMemo(function(){return sDe(n)},[n]),I=E.useMemo(function(){return iDe(n)},[n]),F=E.useMemo(function(){return typeof m=="function"?m:wG},[m]),M=E.useMemo(function(){return typeof p=="function"?p:wG},[p]),S=E.useRef(null),q=E.useRef(null),U=E.useReducer(yDe,jR),L=IP(U,2),z=L[0],$=L[1],K=z.isFocused,V=z.isFileDialogActive,H=E.useRef(typeof window<"u"&&window.isSecureContext&&g&&rDe()),W=function(){!H.current&&V&&setTimeout(function(){if(q.current){var Oe=q.current.files;Oe.length||($({type:"closeDialog"}),M())}},300)};E.useEffect(function(){return window.addEventListener("focus",W,!1),function(){window.removeEventListener("focus",W,!1)}},[q,V,M,H]);var Y=E.useRef([]),ee=function(Oe){S.current&&S.current.contains(Oe.target)||(Oe.preventDefault(),Y.current=[])};E.useEffect(function(){return b&&(document.addEventListener("dragover",yG,!1),document.addEventListener("drop",ee,!1)),function(){b&&(document.removeEventListener("dragover",yG),document.removeEventListener("drop",ee))}},[S,b]),E.useEffect(function(){return!r&&x&&S.current&&S.current.focus(),function(){}},[S,x,r]);var ie=E.useCallback(function(Ce){k?k(Ce):console.error(Ce)},[k]),se=E.useCallback(function(Ce){Ce.preventDefault(),Ce.persist(),$e(Ce),Y.current=[].concat(hDe(Y.current),[Ce.target]),HE(Ce)&&Promise.resolve(s(Ce)).then(function(Oe){if(!(OD(Ce)&&!C)){var We=Oe.length,ut=We>0&&ZBe({files:Oe,accept:O,minSize:o,maxSize:a,multiple:l,maxFiles:c,validator:T}),yt=We>0&&!ut;$({isDragAccept:ut,isDragReject:yt,isDragActive:!0,type:"setDraggedFiles"}),u&&u(Ce)}}).catch(function(Oe){return ie(Oe)})},[s,u,ie,C,O,o,a,l,c,T]),Ae=E.useCallback(function(Ce){Ce.preventDefault(),Ce.persist(),$e(Ce);var Oe=HE(Ce);if(Oe&&Ce.dataTransfer)try{Ce.dataTransfer.dropEffect="copy"}catch{}return Oe&&h&&h(Ce),!1},[h,C]),he=E.useCallback(function(Ce){Ce.preventDefault(),Ce.persist(),$e(Ce);var Oe=Y.current.filter(function(ut){return S.current&&S.current.contains(ut)}),We=Oe.indexOf(Ce.target);We!==-1&&Oe.splice(We,1),Y.current=Oe,!(Oe.length>0)&&($({type:"setDraggedFiles",isDragActive:!1,isDragAccept:!1,isDragReject:!1}),HE(Ce)&&d&&d(Ce))},[S,d,C]),Be=E.useCallback(function(Ce,Oe){var We=[],ut=[];Ce.forEach(function(yt){var Nt=gde(yt,O),jt=IP(Nt,2),Ue=jt[0],ct=jt[1],ht=xde(yt,o,a),kt=IP(ht,2),Ot=kt[0],Ut=kt[1],mn=T?T(yt):null;if(Ue&&Ot&&!mn)We.push(yt);else{var fn=[ct,Ut];mn&&(fn=fn.concat(mn)),ut.push({file:yt,errors:fn.filter(function(wi){return wi})})}}),(!l&&We.length>1||l&&c>=1&&We.length>c)&&(We.forEach(function(yt){ut.push({file:yt,errors:[JBe]})}),We.splice(0)),$({acceptedFiles:We,fileRejections:ut,isDragReject:ut.length>0,type:"setFiles"}),f&&f(We,ut,Oe),ut.length>0&&v&&v(ut,Oe),We.length>0&&A&&A(We,Oe)},[$,l,O,o,a,c,f,A,v,T]),Me=E.useCallback(function(Ce){Ce.preventDefault(),Ce.persist(),$e(Ce),Y.current=[],HE(Ce)&&Promise.resolve(s(Ce)).then(function(Oe){OD(Ce)&&!C||Be(Oe,Ce)}).catch(function(Oe){return ie(Oe)}),$({type:"reset"})},[s,Be,ie,C]),Ie=E.useCallback(function(){if(H.current){$({type:"openDialog"}),F();var Ce={multiple:l,types:I};window.showOpenFilePicker(Ce).then(function(Oe){return s(Oe)}).then(function(Oe){Be(Oe,null),$({type:"closeDialog"})}).catch(function(Oe){aDe(Oe)?(M(Oe),$({type:"closeDialog"})):oDe(Oe)?(H.current=!1,q.current?(q.current.value=null,q.current.click()):ie(new Error("Cannot open the file picker because the https://developer.mozilla.org/en-US/docs/Web/API/File_System_Access_API is not supported and no <input> was provided."))):ie(Oe)});return}q.current&&($({type:"openDialog"}),F(),q.current.value=null,q.current.click())},[$,F,M,g,Be,ie,I,l]),Ye=E.useCallback(function(Ce){!S.current||!S.current.isEqualNode(Ce.target)||(Ce.key===" "||Ce.key==="Enter"||Ce.keyCode===32||Ce.keyCode===13)&&(Ce.preventDefault(),Ie())},[S,Ie]),X=E.useCallback(function(){$({type:"focus"})},[]),ue=E.useCallback(function(){$({type:"blur"})},[]),re=E.useCallback(function(){j||(nDe()?setTimeout(Ie,0):Ie())},[j,Ie]),de=function(Oe){return r?null:Oe},ce=function(Oe){return N?null:de(Oe)},Ne=function(Oe){return _?null:de(Oe)},$e=function(Oe){C&&Oe.stopPropagation()},ze=E.useMemo(function(){return function(){var Ce=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Oe=Ce.refKey,We=Oe===void 0?"ref":Oe,ut=Ce.role,yt=Ce.onKeyDown,Nt=Ce.onFocus,jt=Ce.onBlur,Ue=Ce.onClick,ct=Ce.onDragEnter,ht=Ce.onDragOver,kt=Ce.onDragLeave,Ot=Ce.onDrop,Ut=MD(Ce,uDe);return os(os(wR({onKeyDown:ce(qh(yt,Ye)),onFocus:ce(qh(Nt,X)),onBlur:ce(qh(jt,ue)),onClick:de(qh(Ue,re)),onDragEnter:Ne(qh(ct,se)),onDragOver:Ne(qh(ht,Ae)),onDragLeave:Ne(qh(kt,he)),onDrop:Ne(qh(Ot,Me)),role:typeof ut=="string"&&ut!==""?ut:"presentation"},We,S),!r&&!N?{tabIndex:0}:{}),Ut)}},[S,Ye,X,ue,re,se,Ae,he,Me,N,_,r]),Fe=E.useCallback(function(Ce){Ce.stopPropagation()},[]),De=E.useMemo(function(){return function(){var Ce=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Oe=Ce.refKey,We=Oe===void 0?"ref":Oe,ut=Ce.onChange,yt=Ce.onClick,Nt=MD(Ce,dDe),jt=wR({accept:O,multiple:l,type:"file",style:{border:0,clip:"rect(0, 0, 0, 0)",clipPath:"inset(50%)",height:"1px",margin:"0 -1px -1px 0",overflow:"hidden",padding:0,position:"absolute",width:"1px",whiteSpace:"nowrap"},onChange:de(qh(ut,Me)),onClick:de(qh(yt,Fe)),tabIndex:-1},We,q);return os(os({},jt),Nt)}},[q,n,l,Me,r]);return os(os({},z),{},{isFocused:K&&!r,getRootProps:ze,getInputProps:De,rootRef:S,inputRef:q,open:de(Ie)})}function yDe(t,e){switch(e.type){case"focus":return os(os({},t),{},{isFocused:!0});case"blur":return os(os({},t),{},{isFocused:!1});case"openDialog":return os(os({},jR),{},{isFileDialogActive:!0});case"closeDialog":return os(os({},t),{},{isFileDialogActive:!1});case"setDraggedFiles":return os(os({},t),{},{isDragActive:e.isDragActive,isDragAccept:e.isDragAccept,isDragReject:e.isDragReject});case"setFiles":return os(os({},t),{},{acceptedFiles:e.acceptedFiles,fileRejections:e.fileRejections,isDragReject:e.isDragReject});case"reset":return os({},jR);default:return t}}function wG(){}var bDe=E.createContext(void 0);function H2(t){const e=E.useContext(bDe);return t||e||"ltr"}var OP="rovingFocusGroup.onEntryFocus",wDe={bubbles:!1,cancelable:!0},_S="RovingFocusGroup",[NR,Nde,jDe]=ok(_S),[NDe,mk]=qa(_S,[jDe]),[_De,CDe]=NDe(_S),_de=E.forwardRef((t,e)=>i.jsx(NR.Provider,{scope:t.__scopeRovingFocusGroup,children:i.jsx(NR.Slot,{scope:t.__scopeRovingFocusGroup,children:i.jsx(SDe,{...t,ref:e})})}));_de.displayName=_S;var SDe=E.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:s=!1,dir:a,currentTabStopId:o,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...h}=t,f=E.useRef(null),A=Tn(e,f),v=H2(a),[p,m]=Xu({prop:o,defaultProp:l??null,onChange:c,caller:_S}),[g,x]=E.useState(!1),b=Gs(u),j=Nde(n),N=E.useRef(!1),[_,C]=E.useState(0);return E.useEffect(()=>{const k=f.current;if(k)return k.addEventListener(OP,b),()=>k.removeEventListener(OP,b)},[b]),i.jsx(_De,{scope:n,orientation:r,dir:v,loop:s,currentTabStopId:p,onItemFocus:E.useCallback(k=>m(k),[m]),onItemShiftTab:E.useCallback(()=>x(!0),[]),onFocusableItemAdd:E.useCallback(()=>C(k=>k+1),[]),onFocusableItemRemove:E.useCallback(()=>C(k=>k-1),[]),children:i.jsx(Jt.div,{tabIndex:g||_===0?-1:0,"data-orientation":r,...h,ref:A,style:{outline:"none",...t.style},onMouseDown:Ht(t.onMouseDown,()=>{N.current=!0}),onFocus:Ht(t.onFocus,k=>{const T=!N.current;if(k.target===k.currentTarget&&T&&!g){const O=new CustomEvent(OP,wDe);if(k.currentTarget.dispatchEvent(O),!O.defaultPrevented){const I=j().filter(U=>U.focusable),F=I.find(U=>U.active),M=I.find(U=>U.id===p),q=[F,M,...I].filter(Boolean).map(U=>U.ref.current);Ede(q,d)}}N.current=!1}),onBlur:Ht(t.onBlur,()=>x(!1))})})}),Cde="RovingFocusGroupItem",Sde=E.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:s=!1,tabStopId:a,children:o,...l}=t,c=Cf(),u=a||c,d=CDe(Cde,n),h=d.currentTabStopId===u,f=Nde(n),{onFocusableItemAdd:A,onFocusableItemRemove:v,currentTabStopId:p}=d;return E.useEffect(()=>{if(r)return A(),()=>v()},[r,A,v]),i.jsx(NR.ItemSlot,{scope:n,id:u,focusable:r,active:s,children:i.jsx(Jt.span,{tabIndex:h?0:-1,"data-orientation":d.orientation,...l,ref:e,onMouseDown:Ht(t.onMouseDown,m=>{r?d.onItemFocus(u):m.preventDefault()}),onFocus:Ht(t.onFocus,()=>d.onItemFocus(u)),onKeyDown:Ht(t.onKeyDown,m=>{if(m.key==="Tab"&&m.shiftKey){d.onItemShiftTab();return}if(m.target!==m.currentTarget)return;const g=DDe(m,d.orientation,d.dir);if(g!==void 0){if(m.metaKey||m.ctrlKey||m.altKey||m.shiftKey)return;m.preventDefault();let b=f().filter(j=>j.focusable).map(j=>j.ref.current);if(g==="last")b.reverse();else if(g==="prev"||g==="next"){g==="prev"&&b.reverse();const j=b.indexOf(m.currentTarget);b=d.loop?TDe(b,j+1):b.slice(j+1)}setTimeout(()=>Ede(b))}}),children:typeof o=="function"?o({isCurrentTabStop:h,hasTabStop:p!=null}):o})})});Sde.displayName=Cde;var EDe={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function BDe(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function DDe(t,e,n){const r=BDe(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return EDe[r]}function Ede(t,e=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:e}),document.activeElement!==n))return}function TDe(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var Bde=_de,Dde=Sde,gk="Tabs",[kDe,Tmt]=qa(gk,[mk]),Tde=mk(),[FDe,bz]=kDe(gk),kde=E.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,onValueChange:s,defaultValue:a,orientation:o="horizontal",dir:l,activationMode:c="automatic",...u}=t,d=H2(l),[h,f]=Xu({prop:r,onChange:s,defaultProp:a??"",caller:gk});return i.jsx(FDe,{scope:n,baseId:Cf(),value:h,onValueChange:f,orientation:o,dir:d,activationMode:c,children:i.jsx(Jt.div,{dir:d,"data-orientation":o,...u,ref:e})})});kde.displayName=gk;var Fde="TabsList",Pde=E.forwardRef((t,e)=>{const{__scopeTabs:n,loop:r=!0,...s}=t,a=bz(Fde,n),o=Tde(n);return i.jsx(Bde,{asChild:!0,...o,orientation:a.orientation,dir:a.dir,loop:r,children:i.jsx(Jt.div,{role:"tablist","aria-orientation":a.orientation,...s,ref:e})})});Pde.displayName=Fde;var Ude="TabsTrigger",Ide=E.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,disabled:s=!1,...a}=t,o=bz(Ude,n),l=Tde(n),c=Lde(o.baseId,r),u=Rde(o.baseId,r),d=r===o.value;return i.jsx(Dde,{asChild:!0,...l,focusable:!s,active:d,children:i.jsx(Jt.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":u,"data-state":d?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:c,...a,ref:e,onMouseDown:Ht(t.onMouseDown,h=>{!s&&h.button===0&&h.ctrlKey===!1?o.onValueChange(r):h.preventDefault()}),onKeyDown:Ht(t.onKeyDown,h=>{[" ","Enter"].includes(h.key)&&o.onValueChange(r)}),onFocus:Ht(t.onFocus,()=>{const h=o.activationMode!=="manual";!d&&!s&&h&&o.onValueChange(r)})})})});Ide.displayName=Ude;var Ode="TabsContent",Mde=E.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,forceMount:s,children:a,...o}=t,l=bz(Ode,n),c=Lde(l.baseId,r),u=Rde(l.baseId,r),d=r===l.value,h=E.useRef(d);return E.useEffect(()=>{const f=requestAnimationFrame(()=>h.current=!1);return()=>cancelAnimationFrame(f)},[]),i.jsx(Jo,{present:s||d,children:({present:f})=>i.jsx(Jt.div,{"data-state":d?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!f,id:u,tabIndex:0,...o,ref:e,style:{...t.style,animationDuration:h.current?"0s":void 0},children:f&&a})})});Mde.displayName=Ode;function Lde(t,e){return`${t}-trigger-${e}`}function Rde(t,e){return`${t}-content-${e}`}var PDe=kde,Qde=Pde,Hde=Ide,zde=Mde;const zn=PDe,On=E.forwardRef(({className:t,...e},n)=>i.jsx(Qde,{ref:n,className:Vt("inline-flex h-9 items-center justify-center rounded-lg bg-zinc-100 p-1 text-zinc-500 dark:bg-zinc-800 dark:text-zinc-400",t),...e}));On.displayName=Qde.displayName;const nt=E.forwardRef(({className:t,...e},n)=>i.jsx(Hde,{ref:n,className:Vt("inline-flex items-center justify-center whitespace-nowrap rounded-md px-3 py-1 text-sm font-medium ring-offset-white transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-zinc-950 focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-white data-[state=active]:text-zinc-950 data-[state=active]:shadow dark:ring-offset-zinc-950 dark:focus-visible:ring-zinc-300 dark:data-[state=active]:bg-zinc-950 dark:data-[state=active]:text-zinc-50",t),...e}));nt.displayName=Hde.displayName;const rt=E.forwardRef(({className:t,...e},n)=>i.jsx(zde,{ref:n,className:Vt("mt-2 ring-offset-white focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-zinc-950 focus-visible:ring-offset-2 dark:ring-offset-zinc-950 dark:focus-visible:ring-zinc-300",t),...e}));rt.displayName=zde.displayName;var JN={};JN.d=(t,e)=>{for(var n in e)JN.o(e,n)&&!JN.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})};JN.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var Mn=globalThis.pdfjsLib={};JN.d(Mn,{AbortException:()=>Jg,AnnotationEditorLayer:()=>F7,AnnotationEditorParamsType:()=>mr,AnnotationEditorType:()=>Xn,AnnotationEditorUIManager:()=>ly,AnnotationLayer:()=>BTe,AnnotationMode:()=>eg,ColorPicker:()=>$D,DOMSVGFactory:()=>Dz,DrawLayer:()=>I7,FeatureTest:()=>El,GlobalWorkerOptions:()=>cp,ImageKind:()=>hB,InvalidPDFException:()=>CR,MissingPDFException:()=>E_,OPS:()=>Md,OutputScale:()=>ER,PDFDataRangeTransport:()=>Whe,PDFDateString:()=>Cz,PDFWorker:()=>b1,PasswordResponses:()=>MDe,PermissionFlag:()=>ODe,PixelsPerInch:()=>Zg,RenderingCancelledException:()=>Nz,TextLayer:()=>B_,TouchManager:()=>HD,UnexpectedResponseException:()=>LD,Util:()=>un,VerbosityLevel:()=>xk,XfaLayer:()=>Vhe,build:()=>cTe,createValidAbsoluteUrl:()=>HDe,fetchData:()=>wk,getDocument:()=>eTe,getFilenameFromUrl:()=>YDe,getPdfFilenameFromUrl:()=>JDe,getXfaPageViewport:()=>ZDe,isDataScheme:()=>jk,isPdfFile:()=>_z,noContextMenu:()=>ch,normalizeUnicode:()=>KDe,setLayerDimensions:()=>oy,shadow:()=>or,stopEvent:()=>$c,version:()=>lTe});const Wo=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser"),$de=[1,0,0,1,0,0],_R=[.001,0,0,.001,0,0],UDe=1e7,MP=1.35,Lc={ANY:1,DISPLAY:2,PRINT:4,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,IS_EDITING:128,OPLIST:256},eg={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},IDe="pdfjs_internal_editor_",Xn={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15},mr={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23,HIGHLIGHT_COLOR:31,HIGHLIGHT_DEFAULT_COLOR:32,HIGHLIGHT_THICKNESS:33,HIGHLIGHT_FREE:34,HIGHLIGHT_SHOW_ALL:35,DRAW_STEP:41},ODe={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},To={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},hB={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},ca={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,WIDGET:20},Uj={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},xk={ERRORS:0,WARNINGS:1,INFOS:5},Md={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91,setStrokeTransparent:92,setFillTransparent:93},MDe={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let vk=xk.WARNINGS;function LDe(t){Number.isInteger(t)&&(vk=t)}function RDe(){return vk}function yk(t){vk>=xk.INFOS&&console.log(`Info: ${t}`)}function Yn(t){vk>=xk.WARNINGS&&console.log(`Warning: ${t}`)}function xi(t){throw new Error(t)}function Xs(t,e){t||xi(e)}function QDe(t){switch(t==null?void 0:t.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function HDe(t,e=null,n=null){if(!t)return null;try{if(n&&typeof t=="string"){if(n.addDefaultProtocol&&t.startsWith("www.")){const s=t.match(/\./g);(s==null?void 0:s.length)>=2&&(t=`http://${t}`)}if(n.tryConvertEncoding)try{t=VDe(t)}catch{}}const r=e?new URL(t,e):new URL(t);if(QDe(r))return r}catch{}return null}function or(t,e,n,r=!1){return Object.defineProperty(t,e,{value:n,enumerable:!r,configurable:!0,writable:!1}),n}const hx=function(){function e(n,r){this.message=n,this.name=r}return e.prototype=new Error,e.constructor=e,e}();class jG extends hx{constructor(e,n){super(e,"PasswordException"),this.code=n}}class LP extends hx{constructor(e,n){super(e,"UnknownErrorException"),this.details=n}}class CR extends hx{constructor(e){super(e,"InvalidPDFException")}}class E_ extends hx{constructor(e){super(e,"MissingPDFException")}}class LD extends hx{constructor(e,n){super(e,"UnexpectedResponseException"),this.status=n}}class zDe extends hx{constructor(e){super(e,"FormatError")}}class Jg extends hx{constructor(e){super(e,"AbortException")}}function Wde(t){(typeof t!="object"||(t==null?void 0:t.length)===void 0)&&xi("Invalid argument for bytesToString");const e=t.length,n=8192;if(e<n)return String.fromCharCode.apply(null,t);const r=[];for(let s=0;s<e;s+=n){const a=Math.min(s+n,e),o=t.subarray(s,a);r.push(String.fromCharCode.apply(null,o))}return r.join("")}function bk(t){typeof t!="string"&&xi("Invalid argument for stringToBytes");const e=t.length,n=new Uint8Array(e);for(let r=0;r<e;++r)n[r]=t.charCodeAt(r)&255;return n}function $De(t){return String.fromCharCode(t>>24&255,t>>16&255,t>>8&255,t&255)}function wz(t){const e=Object.create(null);for(const[n,r]of t)e[n]=r;return e}function WDe(){const t=new Uint8Array(4);return t[0]=1,new Uint32Array(t.buffer,0,1)[0]===1}function qDe(){try{return new Function(""),!0}catch{return!1}}class El{static get isLittleEndian(){return or(this,"isLittleEndian",WDe())}static get isEvalSupported(){return or(this,"isEvalSupported",qDe())}static get isOffscreenCanvasSupported(){return or(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get isImageDecoderSupported(){return or(this,"isImageDecoderSupported",typeof ImageDecoder<"u")}static get platform(){return typeof navigator<"u"&&typeof(navigator==null?void 0:navigator.platform)=="string"?or(this,"platform",{isMac:navigator.platform.includes("Mac"),isWindows:navigator.platform.includes("Win"),isFirefox:typeof(navigator==null?void 0:navigator.userAgent)=="string"&&navigator.userAgent.includes("Firefox")}):or(this,"platform",{isMac:!1,isWindows:!1,isFirefox:!1})}static get isCSSRoundSupported(){var e,n;return or(this,"isCSSRoundSupported",(n=(e=globalThis.CSS)==null?void 0:e.supports)==null?void 0:n.call(e,"width: round(1.5px, 1px)"))}}const RP=Array.from(Array(256).keys(),t=>t.toString(16).padStart(2,"0"));var yp,fB,SR;class un{static makeHexColor(e,n,r){return`#${RP[e]}${RP[n]}${RP[r]}`}static scaleMinMax(e,n){let r;e[0]?(e[0]<0&&(r=n[0],n[0]=n[2],n[2]=r),n[0]*=e[0],n[2]*=e[0],e[3]<0&&(r=n[1],n[1]=n[3],n[3]=r),n[1]*=e[3],n[3]*=e[3]):(r=n[0],n[0]=n[1],n[1]=r,r=n[2],n[2]=n[3],n[3]=r,e[1]<0&&(r=n[1],n[1]=n[3],n[3]=r),n[1]*=e[1],n[3]*=e[1],e[2]<0&&(r=n[0],n[0]=n[2],n[2]=r),n[0]*=e[2],n[2]*=e[2]),n[0]+=e[4],n[1]+=e[5],n[2]+=e[4],n[3]+=e[5]}static transform(e,n){return[e[0]*n[0]+e[2]*n[1],e[1]*n[0]+e[3]*n[1],e[0]*n[2]+e[2]*n[3],e[1]*n[2]+e[3]*n[3],e[0]*n[4]+e[2]*n[5]+e[4],e[1]*n[4]+e[3]*n[5]+e[5]]}static applyTransform(e,n){const r=e[0]*n[0]+e[1]*n[2]+n[4],s=e[0]*n[1]+e[1]*n[3]+n[5];return[r,s]}static applyInverseTransform(e,n){const r=n[0]*n[3]-n[1]*n[2],s=(e[0]*n[3]-e[1]*n[2]+n[2]*n[5]-n[4]*n[3])/r,a=(-e[0]*n[1]+e[1]*n[0]+n[4]*n[1]-n[5]*n[0])/r;return[s,a]}static getAxialAlignedBoundingBox(e,n){const r=this.applyTransform(e,n),s=this.applyTransform(e.slice(2,4),n),a=this.applyTransform([e[0],e[3]],n),o=this.applyTransform([e[2],e[1]],n);return[Math.min(r[0],s[0],a[0],o[0]),Math.min(r[1],s[1],a[1],o[1]),Math.max(r[0],s[0],a[0],o[0]),Math.max(r[1],s[1],a[1],o[1])]}static inverseTransform(e){const n=e[0]*e[3]-e[1]*e[2];return[e[3]/n,-e[1]/n,-e[2]/n,e[0]/n,(e[2]*e[5]-e[4]*e[3])/n,(e[4]*e[1]-e[5]*e[0])/n]}static singularValueDecompose2dScale(e){const n=[e[0],e[2],e[1],e[3]],r=e[0]*n[0]+e[1]*n[2],s=e[0]*n[1]+e[1]*n[3],a=e[2]*n[0]+e[3]*n[2],o=e[2]*n[1]+e[3]*n[3],l=(r+o)/2,c=Math.sqrt((r+o)**2-4*(r*o-a*s))/2,u=l+c||1,d=l-c||1;return[Math.sqrt(u),Math.sqrt(d)]}static normalizeRect(e){const n=e.slice(0);return e[0]>e[2]&&(n[0]=e[2],n[2]=e[0]),e[1]>e[3]&&(n[1]=e[3],n[3]=e[1]),n}static intersect(e,n){const r=Math.max(Math.min(e[0],e[2]),Math.min(n[0],n[2])),s=Math.min(Math.max(e[0],e[2]),Math.max(n[0],n[2]));if(r>s)return null;const a=Math.max(Math.min(e[1],e[3]),Math.min(n[1],n[3])),o=Math.min(Math.max(e[1],e[3]),Math.max(n[1],n[3]));return a>o?null:[r,a,s,o]}static bezierBoundingBox(e,n,r,s,a,o,l,c,u){return u?(u[0]=Math.min(u[0],e,l),u[1]=Math.min(u[1],n,c),u[2]=Math.max(u[2],e,l),u[3]=Math.max(u[3],n,c)):u=[Math.min(e,l),Math.min(n,c),Math.max(e,l),Math.max(n,c)],je(this,yp,SR).call(this,e,r,a,l,n,s,o,c,3*(-e+3*(r-a)+l),6*(e-2*r+a),3*(r-e),u),je(this,yp,SR).call(this,e,r,a,l,n,s,o,c,3*(-n+3*(s-o)+c),6*(n-2*s+o),3*(s-n),u),u}}yp=new WeakSet,fB=function(e,n,r,s,a,o,l,c,u,d){if(u<=0||u>=1)return;const h=1-u,f=u*u,A=f*u,v=h*(h*(h*e+3*u*n)+3*f*r)+A*s,p=h*(h*(h*a+3*u*o)+3*f*l)+A*c;d[0]=Math.min(d[0],v),d[1]=Math.min(d[1],p),d[2]=Math.max(d[2],v),d[3]=Math.max(d[3],p)},SR=function(e,n,r,s,a,o,l,c,u,d,h,f){if(Math.abs(u)<1e-12){Math.abs(d)>=1e-12&&je(this,yp,fB).call(this,e,n,r,s,a,o,l,c,-h/d,f);return}const A=d**2-4*h*u;if(A<0)return;const v=Math.sqrt(A),p=2*u;je(this,yp,fB).call(this,e,n,r,s,a,o,l,c,(-d+v)/p,f),je(this,yp,fB).call(this,e,n,r,s,a,o,l,c,(-d-v)/p,f)},be(un,yp);function VDe(t){return decodeURIComponent(escape(t))}let QP=null,NG=null;function KDe(t){return QP||(QP=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,NG=new Map([["ﬅ","ſt"]])),t.replaceAll(QP,(e,n,r)=>n?n.normalize("NFKC"):NG.get(r))}function GDe(){if(typeof crypto.randomUUID=="function")return crypto.randomUUID();const t=new Uint8Array(32);return crypto.getRandomValues(t),Wde(t)}const jz="pdfjs_internal_id_";function XDe(t){return Uint8Array.prototype.toBase64?t.toBase64():btoa(Wde(t))}typeof Promise.try!="function"&&(Promise.try=function(t,...e){return new Promise(n=>{n(t(...e))})});const TA="http://www.w3.org/2000/svg",Bv=class Bv{};Nn(Bv,"CSS",96),Nn(Bv,"PDF",72),Nn(Bv,"PDF_TO_CSS_UNITS",Bv.CSS/Bv.PDF);let Zg=Bv;async function wk(t,e="text"){if(gN(t,document.baseURI)){const n=await fetch(t);if(!n.ok)throw new Error(n.statusText);switch(e){case"arraybuffer":return n.arrayBuffer();case"blob":return n.blob();case"json":return n.json()}return n.text()}return new Promise((n,r)=>{const s=new XMLHttpRequest;s.open("GET",t,!0),s.responseType=e,s.onreadystatechange=()=>{if(s.readyState===XMLHttpRequest.DONE){if(s.status===200||s.status===0){switch(e){case"arraybuffer":case"blob":case"json":n(s.response);return}n(s.responseText);return}r(new Error(s.statusText))}},s.send(null)})}class CS{constructor({viewBox:e,userUnit:n,scale:r,rotation:s,offsetX:a=0,offsetY:o=0,dontFlip:l=!1}){this.viewBox=e,this.userUnit=n,this.scale=r,this.rotation=s,this.offsetX=a,this.offsetY=o,r*=n;const c=(e[2]+e[0])/2,u=(e[3]+e[1])/2;let d,h,f,A;switch(s%=360,s<0&&(s+=360),s){case 180:d=-1,h=0,f=0,A=1;break;case 90:d=0,h=1,f=1,A=0;break;case 270:d=0,h=-1,f=-1,A=0;break;case 0:d=1,h=0,f=0,A=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}l&&(f=-f,A=-A);let v,p,m,g;d===0?(v=Math.abs(u-e[1])*r+a,p=Math.abs(c-e[0])*r+o,m=(e[3]-e[1])*r,g=(e[2]-e[0])*r):(v=Math.abs(c-e[0])*r+a,p=Math.abs(u-e[1])*r+o,m=(e[2]-e[0])*r,g=(e[3]-e[1])*r),this.transform=[d*r,h*r,f*r,A*r,v-d*r*c-f*r*u,p-h*r*c-A*r*u],this.width=m,this.height=g}get rawDims(){const{userUnit:e,viewBox:n}=this,r=n.map(s=>s*e);return or(this,"rawDims",{pageWidth:r[2]-r[0],pageHeight:r[3]-r[1],pageX:r[0],pageY:r[1]})}clone({scale:e=this.scale,rotation:n=this.rotation,offsetX:r=this.offsetX,offsetY:s=this.offsetY,dontFlip:a=!1}={}){return new CS({viewBox:this.viewBox.slice(),userUnit:this.userUnit,scale:e,rotation:n,offsetX:r,offsetY:s,dontFlip:a})}convertToViewportPoint(e,n){return un.applyTransform([e,n],this.transform)}convertToViewportRectangle(e){const n=un.applyTransform([e[0],e[1]],this.transform),r=un.applyTransform([e[2],e[3]],this.transform);return[n[0],n[1],r[0],r[1]]}convertToPdfPoint(e,n){return un.applyInverseTransform([e,n],this.transform)}}class Nz extends hx{constructor(e,n=0){super(e,"RenderingCancelledException"),this.extraDelay=n}}function jk(t){const e=t.length;let n=0;for(;n<e&&t[n].trim()==="";)n++;return t.substring(n,n+5).toLowerCase()==="data:"}function _z(t){return typeof t=="string"&&/\.pdf$/i.test(t)}function YDe(t){return[t]=t.split(/[#?]/,1),t.substring(t.lastIndexOf("/")+1)}function JDe(t,e="document.pdf"){if(typeof t!="string")return e;if(jk(t))return Yn('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),e;const n=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,r=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,s=n.exec(t);let a=r.exec(s[1])||r.exec(s[2])||r.exec(s[3]);if(a&&(a=a[0],a.includes("%")))try{a=r.exec(decodeURIComponent(a))[0]}catch{}return a||e}class _G{constructor(){Nn(this,"started",Object.create(null));Nn(this,"times",[])}time(e){e in this.started&&Yn(`Timer is already running for ${e}`),this.started[e]=Date.now()}timeEnd(e){e in this.started||Yn(`Timer has not been started for ${e}`),this.times.push({name:e,start:this.started[e],end:Date.now()}),delete this.started[e]}toString(){const e=[];let n=0;for(const{name:r}of this.times)n=Math.max(r.length,n);for(const{name:r,start:s,end:a}of this.times)e.push(`${r.padEnd(n)} ${a-s}ms
`);return e.join("")}}function gN(t,e){try{const{protocol:n}=e?new URL(t,e):new URL(t);return n==="http:"||n==="https:"}catch{return!1}}function ch(t){t.preventDefault()}function $c(t){t.preventDefault(),t.stopPropagation()}var Q5;class Cz{static toDateObject(e){if(!e||typeof e!="string")return null;B(this,Q5)||le(this,Q5,new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const n=B(this,Q5).exec(e);if(!n)return null;const r=parseInt(n[1],10);let s=parseInt(n[2],10);s=s>=1&&s<=12?s-1:0;let a=parseInt(n[3],10);a=a>=1&&a<=31?a:1;let o=parseInt(n[4],10);o=o>=0&&o<=23?o:0;let l=parseInt(n[5],10);l=l>=0&&l<=59?l:0;let c=parseInt(n[6],10);c=c>=0&&c<=59?c:0;const u=n[7]||"Z";let d=parseInt(n[8],10);d=d>=0&&d<=23?d:0;let h=parseInt(n[9],10)||0;return h=h>=0&&h<=59?h:0,u==="-"?(o+=d,l+=h):u==="+"&&(o-=d,l-=h),new Date(Date.UTC(r,s,a,o,l,c))}}Q5=new WeakMap,be(Cz,Q5);function ZDe(t,{scale:e=1,rotation:n=0}){const{width:r,height:s}=t.attributes.style,a=[0,0,parseInt(r),parseInt(s)];return new CS({viewBox:a,userUnit:1,scale:e,rotation:n})}function Sz(t){if(t.startsWith("#")){const e=parseInt(t.slice(1),16);return[(e&16711680)>>16,(e&65280)>>8,e&255]}return t.startsWith("rgb(")?t.slice(4,-1).split(",").map(e=>parseInt(e)):t.startsWith("rgba(")?t.slice(5,-1).split(",").map(e=>parseInt(e)).slice(0,3):(Yn(`Not a valid color format: "${t}"`),[0,0,0])}function e3e(t){const e=document.createElement("span");e.style.visibility="hidden",document.body.append(e);for(const n of t.keys()){e.style.color=n;const r=window.getComputedStyle(e).color;t.set(n,Sz(r))}e.remove()}function Xi(t){const{a:e,b:n,c:r,d:s,e:a,f:o}=t.getTransform();return[e,n,r,s,a,o]}function Vh(t){const{a:e,b:n,c:r,d:s,e:a,f:o}=t.getTransform().invertSelf();return[e,n,r,s,a,o]}function oy(t,e,n=!1,r=!0){if(e instanceof CS){const{pageWidth:s,pageHeight:a}=e.rawDims,{style:o}=t,l=El.isCSSRoundSupported,c=`var(--scale-factor) * ${s}px`,u=`var(--scale-factor) * ${a}px`,d=l?`round(down, ${c}, var(--scale-round-x, 1px))`:`calc(${c})`,h=l?`round(down, ${u}, var(--scale-round-y, 1px))`:`calc(${u})`;!n||e.rotation%180===0?(o.width=d,o.height=h):(o.width=h,o.height=d)}r&&t.setAttribute("data-main-rotation",e.rotation)}class ER{constructor(){const e=window.devicePixelRatio||1;this.sx=e,this.sy=e}get scaled(){return this.sx!==1||this.sy!==1}get symmetric(){return this.sx===this.sy}}var ig,Hv,Rd,zv,H5,z5,OT,qde,Dl,Vde,Kde,AB,Gde,DR;const IA=class IA{constructor(e){be(this,Dl);be(this,ig,null);be(this,Hv,null);be(this,Rd);be(this,zv,null);be(this,H5,null);le(this,Rd,e),B(IA,z5)||le(IA,z5,Object.freeze({freetext:"pdfjs-editor-remove-freetext-button",highlight:"pdfjs-editor-remove-highlight-button",ink:"pdfjs-editor-remove-ink-button",stamp:"pdfjs-editor-remove-stamp-button"}))}render(){const e=le(this,ig,document.createElement("div"));e.classList.add("editToolbar","hidden"),e.setAttribute("role","toolbar");const n=B(this,Rd)._uiManager._signal;e.addEventListener("contextmenu",ch,{signal:n}),e.addEventListener("pointerdown",je(IA,OT,qde),{signal:n});const r=le(this,zv,document.createElement("div"));r.className="buttons",e.append(r);const s=B(this,Rd).toolbarPosition;if(s){const{style:a}=e,o=B(this,Rd)._uiManager.direction==="ltr"?1-s[0]:s[0];a.insetInlineEnd=`${100*o}%`,a.top=`calc(${100*s[1]}% + var(--editor-toolbar-vert-offset))`}return je(this,Dl,Gde).call(this),e}get div(){return B(this,ig)}hide(){var e;B(this,ig).classList.add("hidden"),(e=B(this,Hv))==null||e.hideDropdown()}show(){var e;B(this,ig).classList.remove("hidden"),(e=B(this,H5))==null||e.shown()}async addAltText(e){const n=await e.render();je(this,Dl,AB).call(this,n),B(this,zv).prepend(n,B(this,Dl,DR)),le(this,H5,e)}addColorPicker(e){le(this,Hv,e);const n=e.renderButton();je(this,Dl,AB).call(this,n),B(this,zv).prepend(n,B(this,Dl,DR))}remove(){var e;B(this,ig).remove(),(e=B(this,Hv))==null||e.destroy(),le(this,Hv,null)}};ig=new WeakMap,Hv=new WeakMap,Rd=new WeakMap,zv=new WeakMap,H5=new WeakMap,z5=new WeakMap,OT=new WeakSet,qde=function(e){e.stopPropagation()},Dl=new WeakSet,Vde=function(e){B(this,Rd)._focusEventsAllowed=!1,$c(e)},Kde=function(e){B(this,Rd)._focusEventsAllowed=!0,$c(e)},AB=function(e){const n=B(this,Rd)._uiManager._signal;e.addEventListener("focusin",je(this,Dl,Vde).bind(this),{capture:!0,signal:n}),e.addEventListener("focusout",je(this,Dl,Kde).bind(this),{capture:!0,signal:n}),e.addEventListener("contextmenu",ch,{signal:n})},Gde=function(){const{editorType:e,_uiManager:n}=B(this,Rd),r=document.createElement("button");r.className="delete",r.tabIndex=0,r.setAttribute("data-l10n-id",B(IA,z5)[e]),je(this,Dl,AB).call(this,r),r.addEventListener("click",s=>{n.delete()},{signal:n._signal}),B(this,zv).append(r)},DR=function(){const e=document.createElement("div");return e.className="divider",e},be(IA,OT),be(IA,z5,null);let BR=IA;var $5,$v,Wv,ux,Xde,Yde,Jde;class t3e{constructor(e){be(this,ux);be(this,$5,null);be(this,$v,null);be(this,Wv);le(this,Wv,e)}show(e,n,r){const[s,a]=je(this,ux,Yde).call(this,n,r),{style:o}=B(this,$v)||le(this,$v,je(this,ux,Xde).call(this));e.append(B(this,$v)),o.insetInlineEnd=`${100*s}%`,o.top=`calc(${100*a}% + var(--editor-toolbar-vert-offset))`}hide(){B(this,$v).remove()}}$5=new WeakMap,$v=new WeakMap,Wv=new WeakMap,ux=new WeakSet,Xde=function(){const e=le(this,$v,document.createElement("div"));e.className="editToolbar",e.setAttribute("role","toolbar"),e.addEventListener("contextmenu",ch,{signal:B(this,Wv)._signal});const n=le(this,$5,document.createElement("div"));return n.className="buttons",e.append(n),je(this,ux,Jde).call(this),e},Yde=function(e,n){let r=0,s=0;for(const a of e){const o=a.y+a.height;if(o<r)continue;const l=a.x+(n?a.width:0);if(o>r){s=l,r=o;continue}n?l>s&&(s=l):l<s&&(s=l)}return[n?1-s:s,r]},Jde=function(){const e=document.createElement("button");e.className="highlightButton",e.tabIndex=0,e.setAttribute("data-l10n-id","pdfjs-highlight-floating-button1");const n=document.createElement("span");e.append(n),n.className="visuallyHidden",n.setAttribute("data-l10n-id","pdfjs-highlight-floating-button-label");const r=B(this,Wv)._signal;e.addEventListener("contextmenu",ch,{signal:r}),e.addEventListener("click",()=>{B(this,Wv).highlightSelection("floating_button")},{signal:r}),B(this,$5).append(e)};function RD(t,e,n){for(const r of n)e.addEventListener(r,t[r].bind(t))}var MT;class n3e{constructor(){be(this,MT,0)}get id(){return`${IDe}${hl(this,MT)._++}`}}MT=new WeakMap;var O1,W5,Po,M1,pB;const aV=class aV{constructor(){be(this,M1);be(this,O1,GDe());be(this,W5,0);be(this,Po,null)}static get _isSVGFittingCanvas(){const e='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',r=new OffscreenCanvas(1,3).getContext("2d",{willReadFrequently:!0}),s=new Image;s.src=e;const a=s.decode().then(()=>(r.drawImage(s,0,0,1,1,0,0,1,3),new Uint32Array(r.getImageData(0,0,1,1).data.buffer)[0]===0));return or(this,"_isSVGFittingCanvas",a)}async getFromFile(e){const{lastModified:n,name:r,size:s,type:a}=e;return je(this,M1,pB).call(this,`${n}_${r}_${s}_${a}`,e)}async getFromUrl(e){return je(this,M1,pB).call(this,e,e)}async getFromBlob(e,n){const r=await n;return je(this,M1,pB).call(this,e,r)}async getFromId(e){B(this,Po)||le(this,Po,new Map);const n=B(this,Po).get(e);if(!n)return null;if(n.bitmap)return n.refCounter+=1,n;if(n.file)return this.getFromFile(n.file);if(n.blobPromise){const{blobPromise:r}=n;return delete n.blobPromise,this.getFromBlob(n.id,r)}return this.getFromUrl(n.url)}getFromCanvas(e,n){B(this,Po)||le(this,Po,new Map);let r=B(this,Po).get(e);if(r!=null&&r.bitmap)return r.refCounter+=1,r;const s=new OffscreenCanvas(n.width,n.height);return s.getContext("2d").drawImage(n,0,0),r={bitmap:s.transferToImageBitmap(),id:`image_${B(this,O1)}_${hl(this,W5)._++}`,refCounter:1,isSvg:!1},B(this,Po).set(e,r),B(this,Po).set(r.id,r),r}getSvgUrl(e){const n=B(this,Po).get(e);return n!=null&&n.isSvg?n.svgUrl:null}deleteId(e){var s;B(this,Po)||le(this,Po,new Map);const n=B(this,Po).get(e);if(!n||(n.refCounter-=1,n.refCounter!==0))return;const{bitmap:r}=n;if(!n.url&&!n.file){const a=new OffscreenCanvas(r.width,r.height);a.getContext("bitmaprenderer").transferFromImageBitmap(r),n.blobPromise=a.convertToBlob()}(s=r.close)==null||s.call(r),n.bitmap=null}isValidId(e){return e.startsWith(`image_${B(this,O1)}_`)}};O1=new WeakMap,W5=new WeakMap,Po=new WeakMap,M1=new WeakSet,pB=async function(e,n){B(this,Po)||le(this,Po,new Map);let r=B(this,Po).get(e);if(r===null)return null;if(r!=null&&r.bitmap)return r.refCounter+=1,r;try{r||(r={bitmap:null,id:`image_${B(this,O1)}_${hl(this,W5)._++}`,refCounter:0,isSvg:!1});let s;if(typeof n=="string"?(r.url=n,s=await wk(n,"blob")):n instanceof File?s=r.file=n:n instanceof Blob&&(s=n),s.type==="image/svg+xml"){const a=aV._isSVGFittingCanvas,o=new FileReader,l=new Image,c=new Promise((u,d)=>{l.onload=()=>{r.bitmap=l,r.isSvg=!0,u()},o.onload=async()=>{const h=r.svgUrl=o.result;l.src=await a?`${h}#svgView(preserveAspectRatio(none))`:h},l.onerror=o.onerror=d});o.readAsDataURL(s),await c}else r.bitmap=await createImageBitmap(s);r.refCounter=1}catch(s){Yn(s),r=null}return B(this,Po).set(e,r),r&&B(this,Po).set(r.id,r),r};let TR=aV;var ks,sg,q5,ss;class r3e{constructor(e=128){be(this,ks,[]);be(this,sg,!1);be(this,q5);be(this,ss,-1);le(this,q5,e)}add({cmd:e,undo:n,post:r,mustExec:s,type:a=NaN,overwriteIfSameType:o=!1,keepUndo:l=!1}){if(s&&e(),B(this,sg))return;const c={cmd:e,undo:n,post:r,type:a};if(B(this,ss)===-1){B(this,ks).length>0&&(B(this,ks).length=0),le(this,ss,0),B(this,ks).push(c);return}if(o&&B(this,ks)[B(this,ss)].type===a){l&&(c.undo=B(this,ks)[B(this,ss)].undo),B(this,ks)[B(this,ss)]=c;return}const u=B(this,ss)+1;u===B(this,q5)?B(this,ks).splice(0,1):(le(this,ss,u),u<B(this,ks).length&&B(this,ks).splice(u)),B(this,ks).push(c)}undo(){if(B(this,ss)===-1)return;le(this,sg,!0);const{undo:e,post:n}=B(this,ks)[B(this,ss)];e(),n==null||n(),le(this,sg,!1),le(this,ss,B(this,ss)-1)}redo(){if(B(this,ss)<B(this,ks).length-1){le(this,ss,B(this,ss)+1),le(this,sg,!0);const{cmd:e,post:n}=B(this,ks)[B(this,ss)];e(),n==null||n(),le(this,sg,!1)}}hasSomethingToUndo(){return B(this,ss)!==-1}hasSomethingToRedo(){return B(this,ss)<B(this,ks).length-1}cleanType(e){if(B(this,ss)!==-1){for(let n=B(this,ss);n>=0;n--)if(B(this,ks)[n].type!==e){B(this,ks).splice(n+1,B(this,ss)-n),le(this,ss,n);return}B(this,ks).length=0,le(this,ss,-1)}}destroy(){le(this,ks,null)}}ks=new WeakMap,sg=new WeakMap,q5=new WeakMap,ss=new WeakMap;var LT,Zde;class SS{constructor(e){be(this,LT);this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:n}=El.platform;for(const[r,s,a={}]of e)for(const o of r){const l=o.startsWith("mac+");n&&l?(this.callbacks.set(o.slice(4),{callback:s,options:a}),this.allKeys.add(o.split("+").at(-1))):!n&&!l&&(this.callbacks.set(o,{callback:s,options:a}),this.allKeys.add(o.split("+").at(-1)))}}exec(e,n){if(!this.allKeys.has(n.key))return;const r=this.callbacks.get(je(this,LT,Zde).call(this,n));if(!r)return;const{callback:s,options:{bubbles:a=!1,args:o=[],checker:l=null}}=r;l&&!l(e,n)||(s.bind(e,...o,n)(),a||$c(n))}}LT=new WeakSet,Zde=function(e){e.altKey&&this.buffer.push("alt"),e.ctrlKey&&this.buffer.push("ctrl"),e.metaKey&&this.buffer.push("meta"),e.shiftKey&&this.buffer.push("shift"),this.buffer.push(e.key);const n=this.buffer.join("+");return this.buffer.length=0,n};const RT=class RT{get _colors(){const e=new Map([["CanvasText",null],["Canvas",null]]);return e3e(e),or(this,"_colors",e)}convert(e){const n=Sz(e);if(!window.matchMedia("(forced-colors: active)").matches)return n;for(const[r,s]of this._colors)if(s.every((a,o)=>a===n[o]))return RT._colorsMapping.get(r);return n}getHexCode(e){const n=this._colors.get(e);return n?un.makeHexColor(...n):e}};Nn(RT,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));let kR=RT;var L1,Sc,ha,io,R1,MA,Q1,Eu,ag,qv,H1,Vv,ef,Qd,Kv,V5,K5,z1,G5,tf,og,$1,lg,nf,QT,cg,X5,ug,Gv,Y5,J5,Fa,Jr,LA,Xv,Z5,eC,dg,rf,RA,tC,Bu,Lt,mB,FR,ehe,the,gB,nhe,rhe,ihe,PR,she,UR,IR,ahe,Al,kA,ohe,lhe,OR,che,xN,MR;const f1=class f1{constructor(e,n,r,s,a,o,l,c,u,d,h,f,A){be(this,Lt);be(this,L1,new AbortController);be(this,Sc,null);be(this,ha,new Map);be(this,io,new Map);be(this,R1,null);be(this,MA,null);be(this,Q1,null);be(this,Eu,new r3e);be(this,ag,null);be(this,qv,null);be(this,H1,0);be(this,Vv,new Set);be(this,ef,null);be(this,Qd,null);be(this,Kv,new Set);Nn(this,"_editorUndoBar",null);be(this,V5,!1);be(this,K5,!1);be(this,z1,!1);be(this,G5,null);be(this,tf,null);be(this,og,null);be(this,$1,null);be(this,lg,!1);be(this,nf,null);be(this,QT,new n3e);be(this,cg,!1);be(this,X5,!1);be(this,ug,null);be(this,Gv,null);be(this,Y5,null);be(this,J5,null);be(this,Fa,Xn.NONE);be(this,Jr,new Set);be(this,LA,null);be(this,Xv,null);be(this,Z5,null);be(this,eC,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1,hasSelectedText:!1});be(this,dg,[0,0]);be(this,rf,null);be(this,RA,null);be(this,tC,null);be(this,Bu,null);const v=this._signal=B(this,L1).signal;le(this,RA,e),le(this,tC,n),le(this,R1,r),this._eventBus=s,s._on("editingaction",this.onEditingAction.bind(this),{signal:v}),s._on("pagechanging",this.onPageChanging.bind(this),{signal:v}),s._on("scalechanging",this.onScaleChanging.bind(this),{signal:v}),s._on("rotationchanging",this.onRotationChanging.bind(this),{signal:v}),s._on("setpreference",this.onSetPreference.bind(this),{signal:v}),s._on("switchannotationeditorparams",p=>this.updateParams(p.type,p.value),{signal:v}),je(this,Lt,nhe).call(this),je(this,Lt,ahe).call(this),je(this,Lt,PR).call(this),le(this,MA,a.annotationStorage),le(this,G5,a.filterFactory),le(this,Xv,o),le(this,$1,l||null),le(this,V5,c),le(this,K5,u),le(this,z1,d),le(this,J5,h||null),this.viewParameters={realScale:Zg.PDF_TO_CSS_UNITS,rotation:0},this.isShiftKeyDown=!1,this._editorUndoBar=f||null,this._supportsPinchToZoom=A!==!1}static get _keyboardManager(){const e=f1.prototype,n=o=>B(o,RA).contains(document.activeElement)&&document.activeElement.tagName!=="BUTTON"&&o.hasSomethingToControl(),r=(o,{target:l})=>{if(l instanceof HTMLInputElement){const{type:c}=l;return c!=="text"&&c!=="number"}return!0},s=this.TRANSLATE_SMALL,a=this.TRANSLATE_BIG;return or(this,"_keyboardManager",new SS([[["ctrl+a","mac+meta+a"],e.selectAll,{checker:r}],[["ctrl+z","mac+meta+z"],e.undo,{checker:r}],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],e.redo,{checker:r}],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],e.delete,{checker:r}],[["Enter","mac+Enter"],e.addNewEditorFromKeyboard,{checker:(o,{target:l})=>!(l instanceof HTMLButtonElement)&&B(o,RA).contains(l)&&!o.isEnterHandled}],[[" ","mac+ "],e.addNewEditorFromKeyboard,{checker:(o,{target:l})=>!(l instanceof HTMLButtonElement)&&B(o,RA).contains(document.activeElement)}],[["Escape","mac+Escape"],e.unselectAll],[["ArrowLeft","mac+ArrowLeft"],e.translateSelectedEditors,{args:[-s,0],checker:n}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e.translateSelectedEditors,{args:[-a,0],checker:n}],[["ArrowRight","mac+ArrowRight"],e.translateSelectedEditors,{args:[s,0],checker:n}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e.translateSelectedEditors,{args:[a,0],checker:n}],[["ArrowUp","mac+ArrowUp"],e.translateSelectedEditors,{args:[0,-s],checker:n}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e.translateSelectedEditors,{args:[0,-a],checker:n}],[["ArrowDown","mac+ArrowDown"],e.translateSelectedEditors,{args:[0,s],checker:n}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e.translateSelectedEditors,{args:[0,a],checker:n}]]))}destroy(){var e,n,r,s,a;(e=B(this,Bu))==null||e.resolve(),le(this,Bu,null),(n=B(this,L1))==null||n.abort(),le(this,L1,null),this._signal=null;for(const o of B(this,io).values())o.destroy();B(this,io).clear(),B(this,ha).clear(),B(this,Kv).clear(),le(this,Sc,null),B(this,Jr).clear(),B(this,Eu).destroy(),(r=B(this,R1))==null||r.destroy(),(s=B(this,nf))==null||s.hide(),le(this,nf,null),B(this,tf)&&(clearTimeout(B(this,tf)),le(this,tf,null)),B(this,rf)&&(clearTimeout(B(this,rf)),le(this,rf,null)),(a=this._editorUndoBar)==null||a.destroy()}combinedSignal(e){return AbortSignal.any([this._signal,e.signal])}get mlManager(){return B(this,J5)}get useNewAltTextFlow(){return B(this,K5)}get useNewAltTextWhenAddingImage(){return B(this,z1)}get hcmFilter(){return or(this,"hcmFilter",B(this,Xv)?B(this,G5).addHCMFilter(B(this,Xv).foreground,B(this,Xv).background):"none")}get direction(){return or(this,"direction",getComputedStyle(B(this,RA)).direction)}get highlightColors(){return or(this,"highlightColors",B(this,$1)?new Map(B(this,$1).split(",").map(e=>e.split("=").map(n=>n.trim()))):null)}get highlightColorNames(){return or(this,"highlightColorNames",this.highlightColors?new Map(Array.from(this.highlightColors,e=>e.reverse())):null)}setCurrentDrawingSession(e){e?(this.unselectAll(),this.disableUserSelect(!0)):this.disableUserSelect(!1),le(this,qv,e)}setMainHighlightColorPicker(e){le(this,Y5,e)}editAltText(e,n=!1){var r;(r=B(this,R1))==null||r.editAltText(this,e,n)}switchToMode(e,n){this._eventBus.on("annotationeditormodechanged",n,{once:!0,signal:this._signal}),this._eventBus.dispatch("showannotationeditorui",{source:this,mode:e})}setPreference(e,n){this._eventBus.dispatch("setpreference",{source:this,name:e,value:n})}onSetPreference({name:e,value:n}){switch(e){case"enableNewAltTextWhenAddingImage":le(this,z1,n);break}}onPageChanging({pageNumber:e}){le(this,H1,e-1)}focusMainContainer(){B(this,RA).focus()}findParent(e,n){for(const r of B(this,io).values()){const{x:s,y:a,width:o,height:l}=r.div.getBoundingClientRect();if(e>=s&&e<=s+o&&n>=a&&n<=a+l)return r}return null}disableUserSelect(e=!1){B(this,tC).classList.toggle("noUserSelect",e)}addShouldRescale(e){B(this,Kv).add(e)}removeShouldRescale(e){B(this,Kv).delete(e)}onScaleChanging({scale:e}){var n;this.commitOrRemove(),this.viewParameters.realScale=e*Zg.PDF_TO_CSS_UNITS;for(const r of B(this,Kv))r.onScaleChanging();(n=B(this,qv))==null||n.onScaleChanging()}onRotationChanging({pagesRotation:e}){this.commitOrRemove(),this.viewParameters.rotation=e}highlightSelection(e=""){const n=document.getSelection();if(!n||n.isCollapsed)return;const{anchorNode:r,anchorOffset:s,focusNode:a,focusOffset:o}=n,l=n.toString(),u=je(this,Lt,mB).call(this,n).closest(".textLayer"),d=this.getSelectionBoxes(u);if(!d)return;n.empty();const h=je(this,Lt,FR).call(this,u),f=B(this,Fa)===Xn.NONE,A=()=>{h==null||h.createAndAddNewEditor({x:0,y:0},!1,{methodOfCreation:e,boxes:d,anchorNode:r,anchorOffset:s,focusNode:a,focusOffset:o,text:l}),f&&this.showAllEditors("highlight",!0,!0)};if(f){this.switchToMode(Xn.HIGHLIGHT,A);return}A()}addToAnnotationStorage(e){!e.isEmpty()&&B(this,MA)&&!B(this,MA).has(e.id)&&B(this,MA).setValue(e.id,e)}blur(){if(this.isShiftKeyDown=!1,B(this,lg)&&(le(this,lg,!1),je(this,Lt,gB).call(this,"main_toolbar")),!this.hasSelection)return;const{activeElement:e}=document;for(const n of B(this,Jr))if(n.div.contains(e)){le(this,Gv,[n,e]),n._focusEventsAllowed=!1;break}}focus(){if(!B(this,Gv))return;const[e,n]=B(this,Gv);le(this,Gv,null),n.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:this._signal}),n.focus()}addEditListeners(){je(this,Lt,PR).call(this),je(this,Lt,UR).call(this)}removeEditListeners(){je(this,Lt,she).call(this),je(this,Lt,IR).call(this)}dragOver(e){for(const{type:n}of e.dataTransfer.items)for(const r of B(this,Qd))if(r.isHandlingMimeForPasting(n)){e.dataTransfer.dropEffect="copy",e.preventDefault();return}}drop(e){for(const n of e.dataTransfer.items)for(const r of B(this,Qd))if(r.isHandlingMimeForPasting(n.type)){r.paste(n,this.currentLayer),e.preventDefault();return}}copy(e){var r;if(e.preventDefault(),(r=B(this,Sc))==null||r.commitOrRemove(),!this.hasSelection)return;const n=[];for(const s of B(this,Jr)){const a=s.serialize(!0);a&&n.push(a)}n.length!==0&&e.clipboardData.setData("application/pdfjs",JSON.stringify(n))}cut(e){this.copy(e),this.delete()}async paste(e){e.preventDefault();const{clipboardData:n}=e;for(const a of n.items)for(const o of B(this,Qd))if(o.isHandlingMimeForPasting(a.type)){o.paste(a,this.currentLayer);return}let r=n.getData("application/pdfjs");if(!r)return;try{r=JSON.parse(r)}catch(a){Yn(`paste: "${a.message}".`);return}if(!Array.isArray(r))return;this.unselectAll();const s=this.currentLayer;try{const a=[];for(const c of r){const u=await s.deserialize(c);if(!u)return;a.push(u)}const o=()=>{for(const c of a)je(this,Lt,OR).call(this,c);je(this,Lt,MR).call(this,a)},l=()=>{for(const c of a)c.remove()};this.addCommands({cmd:o,undo:l,mustExec:!0})}catch(a){Yn(`paste: "${a.message}".`)}}keydown(e){!this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!0),B(this,Fa)!==Xn.NONE&&!this.isEditorHandlingKeyboard&&f1._keyboardManager.exec(this,e)}keyup(e){this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!1,B(this,lg)&&(le(this,lg,!1),je(this,Lt,gB).call(this,"main_toolbar")))}onEditingAction({name:e}){switch(e){case"undo":case"redo":case"delete":case"selectAll":this[e]();break;case"highlightSelection":this.highlightSelection("context_menu");break}}setEditingState(e){e?(je(this,Lt,rhe).call(this),je(this,Lt,UR).call(this),je(this,Lt,Al).call(this,{isEditing:B(this,Fa)!==Xn.NONE,isEmpty:je(this,Lt,xN).call(this),hasSomethingToUndo:B(this,Eu).hasSomethingToUndo(),hasSomethingToRedo:B(this,Eu).hasSomethingToRedo(),hasSelectedEditor:!1})):(je(this,Lt,ihe).call(this),je(this,Lt,IR).call(this),je(this,Lt,Al).call(this,{isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(e){if(!B(this,Qd)){le(this,Qd,e);for(const n of B(this,Qd))je(this,Lt,kA).call(this,n.defaultPropertiesToUpdate)}}getId(){return B(this,QT).id}get currentLayer(){return B(this,io).get(B(this,H1))}getLayer(e){return B(this,io).get(e)}get currentPageIndex(){return B(this,H1)}addLayer(e){B(this,io).set(e.pageIndex,e),B(this,cg)?e.enable():e.disable()}removeLayer(e){B(this,io).delete(e.pageIndex)}async updateMode(e,n=null,r=!1){var s;if(B(this,Fa)!==e&&!(B(this,Bu)&&(await B(this,Bu).promise,!B(this,Bu)))){if(le(this,Bu,Promise.withResolvers()),le(this,Fa,e),e===Xn.NONE){this.setEditingState(!1),je(this,Lt,lhe).call(this),(s=this._editorUndoBar)==null||s.hide(),B(this,Bu).resolve();return}this.setEditingState(!0),await je(this,Lt,ohe).call(this),this.unselectAll();for(const a of B(this,io).values())a.updateMode(e);if(!n){r&&this.addNewEditorFromKeyboard(),B(this,Bu).resolve();return}for(const a of B(this,ha).values())a.annotationElementId===n?(this.setSelected(a),a.enterInEditMode()):a.unselect();B(this,Bu).resolve()}}addNewEditorFromKeyboard(){this.currentLayer.canCreateNewEmptyEditor()&&this.currentLayer.addNewEditor()}updateToolbar(e){e!==B(this,Fa)&&this._eventBus.dispatch("switchannotationeditormode",{source:this,mode:e})}updateParams(e,n){var r;if(B(this,Qd)){switch(e){case mr.CREATE:this.currentLayer.addNewEditor();return;case mr.HIGHLIGHT_DEFAULT_COLOR:(r=B(this,Y5))==null||r.updateColor(n);break;case mr.HIGHLIGHT_SHOW_ALL:this._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:{type:"highlight",action:"toggle_visibility"}}}),(B(this,Z5)||le(this,Z5,new Map)).set(e,n),this.showAllEditors("highlight",n);break}for(const s of B(this,Jr))s.updateParams(e,n);for(const s of B(this,Qd))s.updateDefaultParams(e,n)}}showAllEditors(e,n,r=!1){var a;for(const o of B(this,ha).values())o.editorType===e&&o.show(n);(((a=B(this,Z5))==null?void 0:a.get(mr.HIGHLIGHT_SHOW_ALL))??!0)!==n&&je(this,Lt,kA).call(this,[[mr.HIGHLIGHT_SHOW_ALL,n]])}enableWaiting(e=!1){if(B(this,X5)!==e){le(this,X5,e);for(const n of B(this,io).values())e?n.disableClick():n.enableClick(),n.div.classList.toggle("waiting",e)}}getEditors(e){const n=[];for(const r of B(this,ha).values())r.pageIndex===e&&n.push(r);return n}getEditor(e){return B(this,ha).get(e)}addEditor(e){B(this,ha).set(e.id,e)}removeEditor(e){var n;e.div.contains(document.activeElement)&&(B(this,tf)&&clearTimeout(B(this,tf)),le(this,tf,setTimeout(()=>{this.focusMainContainer(),le(this,tf,null)},0))),B(this,ha).delete(e.id),this.unselect(e),(!e.annotationElementId||!B(this,Vv).has(e.annotationElementId))&&((n=B(this,MA))==null||n.remove(e.id))}addDeletedAnnotationElement(e){B(this,Vv).add(e.annotationElementId),this.addChangedExistingAnnotation(e),e.deleted=!0}isDeletedAnnotationElement(e){return B(this,Vv).has(e)}removeDeletedAnnotationElement(e){B(this,Vv).delete(e.annotationElementId),this.removeChangedExistingAnnotation(e),e.deleted=!1}setActiveEditor(e){B(this,Sc)!==e&&(le(this,Sc,e),e&&je(this,Lt,kA).call(this,e.propertiesToUpdate))}updateUI(e){B(this,Lt,che)===e&&je(this,Lt,kA).call(this,e.propertiesToUpdate)}updateUIForDefaultProperties(e){je(this,Lt,kA).call(this,e.defaultPropertiesToUpdate)}toggleSelected(e){if(B(this,Jr).has(e)){B(this,Jr).delete(e),e.unselect(),je(this,Lt,Al).call(this,{hasSelectedEditor:this.hasSelection});return}B(this,Jr).add(e),e.select(),je(this,Lt,kA).call(this,e.propertiesToUpdate),je(this,Lt,Al).call(this,{hasSelectedEditor:!0})}setSelected(e){var n;(n=B(this,qv))==null||n.commitOrRemove();for(const r of B(this,Jr))r!==e&&r.unselect();B(this,Jr).clear(),B(this,Jr).add(e),e.select(),je(this,Lt,kA).call(this,e.propertiesToUpdate),je(this,Lt,Al).call(this,{hasSelectedEditor:!0})}isSelected(e){return B(this,Jr).has(e)}get firstSelectedEditor(){return B(this,Jr).values().next().value}unselect(e){e.unselect(),B(this,Jr).delete(e),je(this,Lt,Al).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return B(this,Jr).size!==0}get isEnterHandled(){return B(this,Jr).size===1&&this.firstSelectedEditor.isEnterHandled}undo(){var e;B(this,Eu).undo(),je(this,Lt,Al).call(this,{hasSomethingToUndo:B(this,Eu).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:je(this,Lt,xN).call(this)}),(e=this._editorUndoBar)==null||e.hide()}redo(){B(this,Eu).redo(),je(this,Lt,Al).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:B(this,Eu).hasSomethingToRedo(),isEmpty:je(this,Lt,xN).call(this)})}addCommands(e){B(this,Eu).add(e),je(this,Lt,Al).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:je(this,Lt,xN).call(this)})}cleanUndoStack(e){B(this,Eu).cleanType(e)}delete(){var a;this.commitOrRemove();const e=(a=this.currentLayer)==null?void 0:a.endDrawingSession(!0);if(!this.hasSelection&&!e)return;const n=e?[e]:[...B(this,Jr)],r=()=>{var o;(o=this._editorUndoBar)==null||o.show(s,n.length===1?n[0].editorType:n.length);for(const l of n)l.remove()},s=()=>{for(const o of n)je(this,Lt,OR).call(this,o)};this.addCommands({cmd:r,undo:s,mustExec:!0})}commitOrRemove(){var e;(e=B(this,Sc))==null||e.commitOrRemove()}hasSomethingToControl(){return B(this,Sc)||this.hasSelection}selectAll(){for(const e of B(this,Jr))e.commit();je(this,Lt,MR).call(this,B(this,ha).values())}unselectAll(){var e;if(!(B(this,Sc)&&(B(this,Sc).commitOrRemove(),B(this,Fa)!==Xn.NONE))&&!((e=B(this,qv))!=null&&e.commitOrRemove())&&this.hasSelection){for(const n of B(this,Jr))n.unselect();B(this,Jr).clear(),je(this,Lt,Al).call(this,{hasSelectedEditor:!1})}}translateSelectedEditors(e,n,r=!1){if(r||this.commitOrRemove(),!this.hasSelection)return;B(this,dg)[0]+=e,B(this,dg)[1]+=n;const[s,a]=B(this,dg),o=[...B(this,Jr)],l=1e3;B(this,rf)&&clearTimeout(B(this,rf)),le(this,rf,setTimeout(()=>{le(this,rf,null),B(this,dg)[0]=B(this,dg)[1]=0,this.addCommands({cmd:()=>{for(const c of o)B(this,ha).has(c.id)&&c.translateInPage(s,a)},undo:()=>{for(const c of o)B(this,ha).has(c.id)&&c.translateInPage(-s,-a)},mustExec:!1})},l));for(const c of o)c.translateInPage(e,n)}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),le(this,ef,new Map);for(const e of B(this,Jr))B(this,ef).set(e,{savedX:e.x,savedY:e.y,savedPageIndex:e.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!B(this,ef))return!1;this.disableUserSelect(!1);const e=B(this,ef);le(this,ef,null);let n=!1;for(const[{x:s,y:a,pageIndex:o},l]of e)l.newX=s,l.newY=a,l.newPageIndex=o,n||(n=s!==l.savedX||a!==l.savedY||o!==l.savedPageIndex);if(!n)return!1;const r=(s,a,o,l)=>{if(B(this,ha).has(s.id)){const c=B(this,io).get(l);c?s._setParentAndPosition(c,a,o):(s.pageIndex=l,s.x=a,s.y=o)}};return this.addCommands({cmd:()=>{for(const[s,{newX:a,newY:o,newPageIndex:l}]of e)r(s,a,o,l)},undo:()=>{for(const[s,{savedX:a,savedY:o,savedPageIndex:l}]of e)r(s,a,o,l)},mustExec:!0}),!0}dragSelectedEditors(e,n){if(B(this,ef))for(const r of B(this,ef).keys())r.drag(e,n)}rebuild(e){if(e.parent===null){const n=this.getLayer(e.pageIndex);n?(n.changeParent(e),n.addOrRebuild(e)):(this.addEditor(e),this.addToAnnotationStorage(e),e.rebuild())}else e.parent.addOrRebuild(e)}get isEditorHandlingKeyboard(){var e;return((e=this.getActive())==null?void 0:e.shouldGetKeyboardEvents())||B(this,Jr).size===1&&this.firstSelectedEditor.shouldGetKeyboardEvents()}isActive(e){return B(this,Sc)===e}getActive(){return B(this,Sc)}getMode(){return B(this,Fa)}get imageManager(){return or(this,"imageManager",new TR)}getSelectionBoxes(e){if(!e)return null;const n=document.getSelection();for(let u=0,d=n.rangeCount;u<d;u++)if(!e.contains(n.getRangeAt(u).commonAncestorContainer))return null;const{x:r,y:s,width:a,height:o}=e.getBoundingClientRect();let l;switch(e.getAttribute("data-main-rotation")){case"90":l=(u,d,h,f)=>({x:(d-s)/o,y:1-(u+h-r)/a,width:f/o,height:h/a});break;case"180":l=(u,d,h,f)=>({x:1-(u+h-r)/a,y:1-(d+f-s)/o,width:h/a,height:f/o});break;case"270":l=(u,d,h,f)=>({x:1-(d+f-s)/o,y:(u-r)/a,width:f/o,height:h/a});break;default:l=(u,d,h,f)=>({x:(u-r)/a,y:(d-s)/o,width:h/a,height:f/o});break}const c=[];for(let u=0,d=n.rangeCount;u<d;u++){const h=n.getRangeAt(u);if(!h.collapsed)for(const{x:f,y:A,width:v,height:p}of h.getClientRects())v===0||p===0||c.push(l(f,A,v,p))}return c.length===0?null:c}addChangedExistingAnnotation({annotationElementId:e,id:n}){(B(this,Q1)||le(this,Q1,new Map)).set(e,n)}removeChangedExistingAnnotation({annotationElementId:e}){var n;(n=B(this,Q1))==null||n.delete(e)}renderAnnotationElement(e){var s;const n=(s=B(this,Q1))==null?void 0:s.get(e.data.id);if(!n)return;const r=B(this,MA).getRawValue(n);r&&(B(this,Fa)===Xn.NONE&&!r.hasBeenModified||r.renderAnnotationElement(e))}};L1=new WeakMap,Sc=new WeakMap,ha=new WeakMap,io=new WeakMap,R1=new WeakMap,MA=new WeakMap,Q1=new WeakMap,Eu=new WeakMap,ag=new WeakMap,qv=new WeakMap,H1=new WeakMap,Vv=new WeakMap,ef=new WeakMap,Qd=new WeakMap,Kv=new WeakMap,V5=new WeakMap,K5=new WeakMap,z1=new WeakMap,G5=new WeakMap,tf=new WeakMap,og=new WeakMap,$1=new WeakMap,lg=new WeakMap,nf=new WeakMap,QT=new WeakMap,cg=new WeakMap,X5=new WeakMap,ug=new WeakMap,Gv=new WeakMap,Y5=new WeakMap,J5=new WeakMap,Fa=new WeakMap,Jr=new WeakMap,LA=new WeakMap,Xv=new WeakMap,Z5=new WeakMap,eC=new WeakMap,dg=new WeakMap,rf=new WeakMap,RA=new WeakMap,tC=new WeakMap,Bu=new WeakMap,Lt=new WeakSet,mB=function({anchorNode:e}){return e.nodeType===Node.TEXT_NODE?e.parentElement:e},FR=function(e){const{currentLayer:n}=this;if(n.hasTextLayer(e))return n;for(const r of B(this,io).values())if(r.hasTextLayer(e))return r;return null},ehe=function(){const e=document.getSelection();if(!e||e.isCollapsed)return;const r=je(this,Lt,mB).call(this,e).closest(".textLayer"),s=this.getSelectionBoxes(r);s&&(B(this,nf)||le(this,nf,new t3e(this)),B(this,nf).show(r,s,this.direction==="ltr"))},the=function(){var a,o,l;const e=document.getSelection();if(!e||e.isCollapsed){B(this,LA)&&((a=B(this,nf))==null||a.hide(),le(this,LA,null),je(this,Lt,Al).call(this,{hasSelectedText:!1}));return}const{anchorNode:n}=e;if(n===B(this,LA))return;const s=je(this,Lt,mB).call(this,e).closest(".textLayer");if(!s){B(this,LA)&&((o=B(this,nf))==null||o.hide(),le(this,LA,null),je(this,Lt,Al).call(this,{hasSelectedText:!1}));return}if((l=B(this,nf))==null||l.hide(),le(this,LA,n),je(this,Lt,Al).call(this,{hasSelectedText:!0}),!(B(this,Fa)!==Xn.HIGHLIGHT&&B(this,Fa)!==Xn.NONE)&&(B(this,Fa)===Xn.HIGHLIGHT&&this.showAllEditors("highlight",!0,!0),le(this,lg,this.isShiftKeyDown),!this.isShiftKeyDown)){const c=B(this,Fa)===Xn.HIGHLIGHT?je(this,Lt,FR).call(this,s):null;c==null||c.toggleDrawing();const u=new AbortController,d=this.combinedSignal(u),h=f=>{f.type==="pointerup"&&f.button!==0||(u.abort(),c==null||c.toggleDrawing(!0),f.type==="pointerup"&&je(this,Lt,gB).call(this,"main_toolbar"))};window.addEventListener("pointerup",h,{signal:d}),window.addEventListener("blur",h,{signal:d})}},gB=function(e=""){B(this,Fa)===Xn.HIGHLIGHT?this.highlightSelection(e):B(this,V5)&&je(this,Lt,ehe).call(this)},nhe=function(){document.addEventListener("selectionchange",je(this,Lt,the).bind(this),{signal:this._signal})},rhe=function(){if(B(this,og))return;le(this,og,new AbortController);const e=this.combinedSignal(B(this,og));window.addEventListener("focus",this.focus.bind(this),{signal:e}),window.addEventListener("blur",this.blur.bind(this),{signal:e})},ihe=function(){var e;(e=B(this,og))==null||e.abort(),le(this,og,null)},PR=function(){if(B(this,ug))return;le(this,ug,new AbortController);const e=this.combinedSignal(B(this,ug));window.addEventListener("keydown",this.keydown.bind(this),{signal:e}),window.addEventListener("keyup",this.keyup.bind(this),{signal:e})},she=function(){var e;(e=B(this,ug))==null||e.abort(),le(this,ug,null)},UR=function(){if(B(this,ag))return;le(this,ag,new AbortController);const e=this.combinedSignal(B(this,ag));document.addEventListener("copy",this.copy.bind(this),{signal:e}),document.addEventListener("cut",this.cut.bind(this),{signal:e}),document.addEventListener("paste",this.paste.bind(this),{signal:e})},IR=function(){var e;(e=B(this,ag))==null||e.abort(),le(this,ag,null)},ahe=function(){const e=this._signal;document.addEventListener("dragover",this.dragOver.bind(this),{signal:e}),document.addEventListener("drop",this.drop.bind(this),{signal:e})},Al=function(e){Object.entries(e).some(([r,s])=>B(this,eC)[r]!==s)&&(this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(B(this,eC),e)}),B(this,Fa)===Xn.HIGHLIGHT&&e.hasSelectedEditor===!1&&je(this,Lt,kA).call(this,[[mr.HIGHLIGHT_FREE,!0]]))},kA=function(e){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:e})},ohe=async function(){if(!B(this,cg)){le(this,cg,!0);const e=[];for(const n of B(this,io).values())e.push(n.enable());await Promise.all(e);for(const n of B(this,ha).values())n.enable()}},lhe=function(){if(this.unselectAll(),B(this,cg)){le(this,cg,!1);for(const e of B(this,io).values())e.disable();for(const e of B(this,ha).values())e.disable()}},OR=function(e){const n=B(this,io).get(e.pageIndex);n?n.addOrRebuild(e):(this.addEditor(e),this.addToAnnotationStorage(e))},che=function(){let e=null;for(e of B(this,Jr));return e},xN=function(){if(B(this,ha).size===0)return!0;if(B(this,ha).size===1)for(const e of B(this,ha).values())return e.isEmpty();return!1},MR=function(e){for(const n of B(this,Jr))n.unselect();B(this,Jr).clear();for(const n of e)n.isEmpty()||(B(this,Jr).add(n),n.select());je(this,Lt,Al).call(this,{hasSelectedEditor:this.hasSelection})},Nn(f1,"TRANSLATE_SMALL",1),Nn(f1,"TRANSLATE_BIG",10);let ly=f1;var Pa,sf,Hd,W1,af,Ec,q1,of,Jl,QA,Yv,lf,hg,ih,vN,xB;const pl=class pl{constructor(e){be(this,ih);be(this,Pa,null);be(this,sf,!1);be(this,Hd,null);be(this,W1,null);be(this,af,null);be(this,Ec,null);be(this,q1,!1);be(this,of,null);be(this,Jl,null);be(this,QA,null);be(this,Yv,null);be(this,lf,!1);le(this,Jl,e),le(this,lf,e._uiManager.useNewAltTextFlow),B(pl,hg)||le(pl,hg,Object.freeze({added:"pdfjs-editor-new-alt-text-added-button","added-label":"pdfjs-editor-new-alt-text-added-button-label",missing:"pdfjs-editor-new-alt-text-missing-button","missing-label":"pdfjs-editor-new-alt-text-missing-button-label",review:"pdfjs-editor-new-alt-text-to-review-button","review-label":"pdfjs-editor-new-alt-text-to-review-button-label"}))}static initialize(e){pl._l10n??(pl._l10n=e)}async render(){const e=le(this,Hd,document.createElement("button"));e.className="altText",e.tabIndex="0";const n=le(this,W1,document.createElement("span"));e.append(n),B(this,lf)?(e.classList.add("new"),e.setAttribute("data-l10n-id",B(pl,hg).missing),n.setAttribute("data-l10n-id",B(pl,hg)["missing-label"])):(e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button"),n.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button-label"));const r=B(this,Jl)._uiManager._signal;e.addEventListener("contextmenu",ch,{signal:r}),e.addEventListener("pointerdown",a=>a.stopPropagation(),{signal:r});const s=a=>{a.preventDefault(),B(this,Jl)._uiManager.editAltText(B(this,Jl)),B(this,lf)&&B(this,Jl)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_clicked",data:{label:B(this,ih,vN)}})};return e.addEventListener("click",s,{capture:!0,signal:r}),e.addEventListener("keydown",a=>{a.target===e&&a.key==="Enter"&&(le(this,q1,!0),s(a))},{signal:r}),await je(this,ih,xB).call(this),e}finish(){B(this,Hd)&&(B(this,Hd).focus({focusVisible:B(this,q1)}),le(this,q1,!1))}isEmpty(){return B(this,lf)?B(this,Pa)===null:!B(this,Pa)&&!B(this,sf)}hasData(){return B(this,lf)?B(this,Pa)!==null||!!B(this,QA):this.isEmpty()}get guessedText(){return B(this,QA)}async setGuessedText(e){B(this,Pa)===null&&(le(this,QA,e),le(this,Yv,await pl._l10n.get("pdfjs-editor-new-alt-text-generated-alt-text-with-disclaimer",{generatedAltText:e})),je(this,ih,xB).call(this))}toggleAltTextBadge(e=!1){var n;if(!B(this,lf)||B(this,Pa)){(n=B(this,of))==null||n.remove(),le(this,of,null);return}if(!B(this,of)){const r=le(this,of,document.createElement("div"));r.className="noAltTextBadge",B(this,Jl).div.append(r)}B(this,of).classList.toggle("hidden",!e)}serialize(e){let n=B(this,Pa);return!e&&B(this,QA)===n&&(n=B(this,Yv)),{altText:n,decorative:B(this,sf),guessedText:B(this,QA),textWithDisclaimer:B(this,Yv)}}get data(){return{altText:B(this,Pa),decorative:B(this,sf)}}set data({altText:e,decorative:n,guessedText:r,textWithDisclaimer:s,cancel:a=!1}){r&&(le(this,QA,r),le(this,Yv,s)),!(B(this,Pa)===e&&B(this,sf)===n)&&(a||(le(this,Pa,e),le(this,sf,n)),je(this,ih,xB).call(this))}toggle(e=!1){B(this,Hd)&&(!e&&B(this,Ec)&&(clearTimeout(B(this,Ec)),le(this,Ec,null)),B(this,Hd).disabled=!e)}shown(){B(this,Jl)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_displayed",data:{label:B(this,ih,vN)}})}destroy(){var e,n;(e=B(this,Hd))==null||e.remove(),le(this,Hd,null),le(this,W1,null),le(this,af,null),(n=B(this,of))==null||n.remove(),le(this,of,null)}};Pa=new WeakMap,sf=new WeakMap,Hd=new WeakMap,W1=new WeakMap,af=new WeakMap,Ec=new WeakMap,q1=new WeakMap,of=new WeakMap,Jl=new WeakMap,QA=new WeakMap,Yv=new WeakMap,lf=new WeakMap,hg=new WeakMap,ih=new WeakSet,vN=function(){return B(this,Pa)&&"added"||B(this,Pa)===null&&this.guessedText&&"review"||"missing"},xB=async function(){var s,a,o;const e=B(this,Hd);if(!e)return;if(B(this,lf)){if(e.classList.toggle("done",!!B(this,Pa)),e.setAttribute("data-l10n-id",B(pl,hg)[B(this,ih,vN)]),(s=B(this,W1))==null||s.setAttribute("data-l10n-id",B(pl,hg)[`${B(this,ih,vN)}-label`]),!B(this,Pa)){(a=B(this,af))==null||a.remove();return}}else{if(!B(this,Pa)&&!B(this,sf)){e.classList.remove("done"),(o=B(this,af))==null||o.remove();return}e.classList.add("done"),e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-edit-button")}let n=B(this,af);if(!n){le(this,af,n=document.createElement("span")),n.className="tooltip",n.setAttribute("role","tooltip"),n.id=`alt-text-tooltip-${B(this,Jl).id}`;const l=100,c=B(this,Jl)._uiManager._signal;c.addEventListener("abort",()=>{clearTimeout(B(this,Ec)),le(this,Ec,null)},{once:!0}),e.addEventListener("mouseenter",()=>{le(this,Ec,setTimeout(()=>{le(this,Ec,null),B(this,af).classList.add("show"),B(this,Jl)._reportTelemetry({action:"alt_text_tooltip"})},l))},{signal:c}),e.addEventListener("mouseleave",()=>{var u;B(this,Ec)&&(clearTimeout(B(this,Ec)),le(this,Ec,null)),(u=B(this,af))==null||u.classList.remove("show")},{signal:c})}B(this,sf)?n.setAttribute("data-l10n-id","pdfjs-editor-alt-text-decorative-tooltip"):(n.removeAttribute("data-l10n-id"),n.textContent=B(this,Pa)),n.parentNode||e.append(n);const r=B(this,Jl).getImageForAltText();r==null||r.setAttribute("aria-describedby",n.id)},be(pl,hg,null),Nn(pl,"_l10n",null);let QD=pl;var nC,Jv,rC,iC,sC,aC,oC,V1,HA,Zv,fg,Lp,uhe,dhe,LR;const oV=class oV{constructor({container:e,isPinchingDisabled:n=null,isPinchingStopped:r=null,onPinchStart:s=null,onPinching:a=null,onPinchEnd:o=null,signal:l}){be(this,Lp);be(this,nC);be(this,Jv,!1);be(this,rC,null);be(this,iC);be(this,sC);be(this,aC);be(this,oC);be(this,V1);be(this,HA,null);be(this,Zv);be(this,fg,null);le(this,nC,e),le(this,rC,r),le(this,iC,n),le(this,sC,s),le(this,aC,a),le(this,oC,o),le(this,Zv,new AbortController),le(this,V1,AbortSignal.any([l,B(this,Zv).signal])),e.addEventListener("touchstart",je(this,Lp,uhe).bind(this),{passive:!1,signal:B(this,V1)})}get MIN_TOUCH_DISTANCE_TO_PINCH(){return or(this,"MIN_TOUCH_DISTANCE_TO_PINCH",35/(window.devicePixelRatio||1))}destroy(){var e;(e=B(this,Zv))==null||e.abort(),le(this,Zv,null)}};nC=new WeakMap,Jv=new WeakMap,rC=new WeakMap,iC=new WeakMap,sC=new WeakMap,aC=new WeakMap,oC=new WeakMap,V1=new WeakMap,HA=new WeakMap,Zv=new WeakMap,fg=new WeakMap,Lp=new WeakSet,uhe=function(e){var s,a,o;if((s=B(this,iC))!=null&&s.call(this)||e.touches.length<2)return;if(!B(this,fg)){le(this,fg,new AbortController);const l=AbortSignal.any([B(this,V1),B(this,fg).signal]),c=B(this,nC),u={signal:l,passive:!1};c.addEventListener("touchmove",je(this,Lp,dhe).bind(this),u),c.addEventListener("touchend",je(this,Lp,LR).bind(this),u),c.addEventListener("touchcancel",je(this,Lp,LR).bind(this),u),(a=B(this,sC))==null||a.call(this)}if($c(e),e.touches.length!==2||(o=B(this,rC))!=null&&o.call(this)){le(this,HA,null);return}let[n,r]=e.touches;n.identifier>r.identifier&&([n,r]=[r,n]),le(this,HA,{touch0X:n.screenX,touch0Y:n.screenY,touch1X:r.screenX,touch1Y:r.screenY})},dhe=function(e){var j;if(!B(this,HA)||e.touches.length!==2)return;let[n,r]=e.touches;n.identifier>r.identifier&&([n,r]=[r,n]);const{screenX:s,screenY:a}=n,{screenX:o,screenY:l}=r,c=B(this,HA),{touch0X:u,touch0Y:d,touch1X:h,touch1Y:f}=c,A=h-u,v=f-d,p=o-s,m=l-a,g=Math.hypot(p,m)||1,x=Math.hypot(A,v)||1;if(!B(this,Jv)&&Math.abs(x-g)<=oV.MIN_TOUCH_DISTANCE_TO_PINCH)return;if(c.touch0X=s,c.touch0Y=a,c.touch1X=o,c.touch1Y=l,e.preventDefault(),!B(this,Jv)){le(this,Jv,!0);return}const b=[(s+o)/2,(a+l)/2];(j=B(this,aC))==null||j.call(this,b,x,g)},LR=function(e){var n;B(this,fg).abort(),le(this,fg,null),(n=B(this,oC))==null||n.call(this),B(this,HA)&&(e.preventDefault(),le(this,HA,null),le(this,Jv,!1))};let HD=oV;var e0,zd,Ri,K1,Ag,lC,t0,so,n0,zA,pg,cC,r0,Bc,uC,i0,$A,cf,G1,X1,Du,s0,dC,HT,Cn,RR,hC,QR,vB,hhe,fhe,HR,yB,zR,Ahe,phe,mhe,$R,ghe,WR,xhe,vhe,yhe,qR,yN;const Jn=class Jn{constructor(e){be(this,Cn);be(this,e0,null);be(this,zd,null);be(this,Ri,null);be(this,K1,!1);be(this,Ag,null);be(this,lC,"");be(this,t0,!1);be(this,so,null);be(this,n0,null);be(this,zA,null);be(this,pg,null);be(this,cC,"");be(this,r0,!1);be(this,Bc,null);be(this,uC,!1);be(this,i0,!1);be(this,$A,!1);be(this,cf,null);be(this,G1,0);be(this,X1,0);be(this,Du,null);be(this,s0,null);Nn(this,"_editToolbar",null);Nn(this,"_initialOptions",Object.create(null));Nn(this,"_initialData",null);Nn(this,"_isVisible",!0);Nn(this,"_uiManager",null);Nn(this,"_focusEventsAllowed",!0);be(this,dC,!1);be(this,HT,Jn._zIndex++);this.parent=e.parent,this.id=e.id,this.width=this.height=null,this.pageIndex=e.parent.pageIndex,this.name=e.name,this.div=null,this._uiManager=e.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=e.isCentered,this._structTreeParentId=null;const{rotation:n,rawDims:{pageWidth:r,pageHeight:s,pageX:a,pageY:o}}=this.parent.viewport;this.rotation=n,this.pageRotation=(360+n-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[r,s],this.pageTranslation=[a,o];const[l,c]=this.parentDimensions;this.x=e.x/l,this.y=e.y/c,this.isAttachedToDOM=!1,this.deleted=!1}static get _resizerKeyboardManager(){const e=Jn.prototype._resizeWithKeyboard,n=ly.TRANSLATE_SMALL,r=ly.TRANSLATE_BIG;return or(this,"_resizerKeyboardManager",new SS([[["ArrowLeft","mac+ArrowLeft"],e,{args:[-n,0]}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e,{args:[-r,0]}],[["ArrowRight","mac+ArrowRight"],e,{args:[n,0]}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e,{args:[r,0]}],[["ArrowUp","mac+ArrowUp"],e,{args:[0,-n]}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e,{args:[0,-r]}],[["ArrowDown","mac+ArrowDown"],e,{args:[0,n]}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e,{args:[0,r]}],[["Escape","mac+Escape"],Jn.prototype._stopResizingWithKeyboard]]))}get editorType(){return Object.getPrototypeOf(this).constructor._type}static get isDrawer(){return!1}static get _defaultLineColor(){return or(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(e){const n=new i3e({id:e.parent.getNextId(),parent:e.parent,uiManager:e._uiManager});n.annotationElementId=e.annotationElementId,n.deleted=!0,n._uiManager.addToAnnotationStorage(n)}static initialize(e,n){if(Jn._l10n??(Jn._l10n=e),Jn._l10nResizer||(Jn._l10nResizer=Object.freeze({topLeft:"pdfjs-editor-resizer-top-left",topMiddle:"pdfjs-editor-resizer-top-middle",topRight:"pdfjs-editor-resizer-top-right",middleRight:"pdfjs-editor-resizer-middle-right",bottomRight:"pdfjs-editor-resizer-bottom-right",bottomMiddle:"pdfjs-editor-resizer-bottom-middle",bottomLeft:"pdfjs-editor-resizer-bottom-left",middleLeft:"pdfjs-editor-resizer-middle-left"})),Jn._borderLineWidth!==-1)return;const r=getComputedStyle(document.documentElement);Jn._borderLineWidth=parseFloat(r.getPropertyValue("--outline-width"))||0}static updateDefaultParams(e,n){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(e){return!1}static paste(e,n){xi("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return B(this,dC)}set _isDraggable(e){var n;le(this,dC,e),(n=this.div)==null||n.classList.toggle("draggable",e)}get isEnterHandled(){return!0}center(){const[e,n]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*n/(e*2),this.y+=this.width*e/(n*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*n/(e*2),this.y-=this.width*e/(n*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(e){this._uiManager.addCommands(e)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=B(this,HT)}setParent(e){e!==null?(this.pageIndex=e.pageIndex,this.pageDimensions=e.pageDimensions):je(this,Cn,yN).call(this),this.parent=e}focusin(e){this._focusEventsAllowed&&(B(this,r0)?le(this,r0,!1):this.parent.setSelected(this))}focusout(e){var r;if(!this._focusEventsAllowed||!this.isAttachedToDOM)return;const n=e.relatedTarget;n!=null&&n.closest(`#${this.id}`)||(e.preventDefault(),(r=this.parent)!=null&&r.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(e,n,r,s){const[a,o]=this.parentDimensions;[r,s]=this.screenToPageTranslation(r,s),this.x=(e+r)/a,this.y=(n+s)/o,this.fixAndSetPosition()}translate(e,n){je(this,Cn,RR).call(this,this.parentDimensions,e,n)}translateInPage(e,n){B(this,Bc)||le(this,Bc,[this.x,this.y,this.width,this.height]),je(this,Cn,RR).call(this,this.pageDimensions,e,n),this.div.scrollIntoView({block:"nearest"})}drag(e,n){B(this,Bc)||le(this,Bc,[this.x,this.y,this.width,this.height]);const{div:r,parentDimensions:[s,a]}=this;if(this.x+=e/s,this.y+=n/a,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:h,y:f}=this.div.getBoundingClientRect();this.parent.findNewParent(this,h,f)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:o,y:l}=this;const[c,u]=this.getBaseTranslation();o+=c,l+=u;const{style:d}=r;d.left=`${(100*o).toFixed(2)}%`,d.top=`${(100*l).toFixed(2)}%`,this._onTranslating(o,l),r.scrollIntoView({block:"nearest"})}_onTranslating(e,n){}_onTranslated(e,n){}get _hasBeenMoved(){return!!B(this,Bc)&&(B(this,Bc)[0]!==this.x||B(this,Bc)[1]!==this.y)}get _hasBeenResized(){return!!B(this,Bc)&&(B(this,Bc)[2]!==this.width||B(this,Bc)[3]!==this.height)}getBaseTranslation(){const[e,n]=this.parentDimensions,{_borderLineWidth:r}=Jn,s=r/e,a=r/n;switch(this.rotation){case 90:return[-s,a];case 180:return[s,a];case 270:return[s,-a];default:return[-s,-a]}}get _mustFixPosition(){return!0}fixAndSetPosition(e=this.rotation){const{div:{style:n},pageDimensions:[r,s]}=this;let{x:a,y:o,width:l,height:c}=this;if(l*=r,c*=s,a*=r,o*=s,this._mustFixPosition)switch(e){case 0:a=Math.max(0,Math.min(r-l,a)),o=Math.max(0,Math.min(s-c,o));break;case 90:a=Math.max(0,Math.min(r-c,a)),o=Math.min(s,Math.max(l,o));break;case 180:a=Math.min(r,Math.max(l,a)),o=Math.min(s,Math.max(c,o));break;case 270:a=Math.min(r,Math.max(c,a)),o=Math.max(0,Math.min(s-l,o));break}this.x=a/=r,this.y=o/=s;const[u,d]=this.getBaseTranslation();a+=u,o+=d,n.left=`${(100*a).toFixed(2)}%`,n.top=`${(100*o).toFixed(2)}%`,this.moveInDOM()}screenToPageTranslation(e,n){var r;return je(r=Jn,hC,QR).call(r,e,n,this.parentRotation)}pageTranslationToScreen(e,n){var r;return je(r=Jn,hC,QR).call(r,e,n,360-this.parentRotation)}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:e,pageDimensions:[n,r]}=this;return[n*e,r*e]}setDims(e,n){const[r,s]=this.parentDimensions,{style:a}=this.div;a.width=`${(100*e/r).toFixed(2)}%`,B(this,t0)||(a.height=`${(100*n/s).toFixed(2)}%`)}fixDims(){const{style:e}=this.div,{height:n,width:r}=e,s=r.endsWith("%"),a=!B(this,t0)&&n.endsWith("%");if(s&&a)return;const[o,l]=this.parentDimensions;s||(e.width=`${(100*parseFloat(r)/o).toFixed(2)}%`),!B(this,t0)&&!a&&(e.height=`${(100*parseFloat(n)/l).toFixed(2)}%`)}getInitialTranslation(){return[0,0]}_onResized(){}static _round(e){return Math.round(e*1e4)/1e4}_onResizing(){}altTextFinish(){var e;(e=B(this,Ri))==null||e.finish()}async addEditToolbar(){return this._editToolbar||B(this,i0)?this._editToolbar:(this._editToolbar=new BR(this),this.div.append(this._editToolbar.render()),B(this,Ri)&&await this._editToolbar.addAltText(B(this,Ri)),this._editToolbar)}removeEditToolbar(){var e;this._editToolbar&&(this._editToolbar.remove(),this._editToolbar=null,(e=B(this,Ri))==null||e.destroy())}addContainer(e){var r;const n=(r=this._editToolbar)==null?void 0:r.div;n?n.before(e):this.div.append(e)}getClientDimensions(){return this.div.getBoundingClientRect()}async addAltTextButton(){B(this,Ri)||(QD.initialize(Jn._l10n),le(this,Ri,new QD(this)),B(this,e0)&&(B(this,Ri).data=B(this,e0),le(this,e0,null)),await this.addEditToolbar())}get altTextData(){var e;return(e=B(this,Ri))==null?void 0:e.data}set altTextData(e){B(this,Ri)&&(B(this,Ri).data=e)}get guessedAltText(){var e;return(e=B(this,Ri))==null?void 0:e.guessedText}async setGuessedAltText(e){var n;await((n=B(this,Ri))==null?void 0:n.setGuessedText(e))}serializeAltText(e){var n;return(n=B(this,Ri))==null?void 0:n.serialize(e)}hasAltText(){return!!B(this,Ri)&&!B(this,Ri).isEmpty()}hasAltTextData(){var e;return((e=B(this,Ri))==null?void 0:e.hasData())??!1}render(){var a;this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.tabIndex=B(this,K1)?-1:0,this._isVisible||this.div.classList.add("hidden"),this.setInForeground(),je(this,Cn,WR).call(this);const[e,n]=this.parentDimensions;this.parentRotation%180!==0&&(this.div.style.maxWidth=`${(100*n/e).toFixed(2)}%`,this.div.style.maxHeight=`${(100*e/n).toFixed(2)}%`);const[r,s]=this.getInitialTranslation();return this.translate(r,s),RD(this,this.div,["pointerdown"]),this.isResizable&&this._uiManager._supportsPinchToZoom&&(B(this,s0)||le(this,s0,new HD({container:this.div,isPinchingDisabled:()=>!this.isSelected,onPinchStart:je(this,Cn,Ahe).bind(this),onPinching:je(this,Cn,phe).bind(this),onPinchEnd:je(this,Cn,mhe).bind(this),signal:this._uiManager._signal}))),(a=this._uiManager._editorUndoBar)==null||a.hide(),this.div}pointerdown(e){const{isMac:n}=El.platform;if(e.button!==0||e.ctrlKey&&n){e.preventDefault();return}if(le(this,r0,!0),this._isDraggable){je(this,Cn,ghe).call(this,e);return}je(this,Cn,$R).call(this,e)}get isSelected(){return this._uiManager.isSelected(this)}_onStartDragging(){}_onStopDragging(){}moveInDOM(){B(this,cf)&&clearTimeout(B(this,cf)),le(this,cf,setTimeout(()=>{var e;le(this,cf,null),(e=this.parent)==null||e.moveEditorInDOM(this)},0))}_setParentAndPosition(e,n,r){e.changeParent(this),this.x=n,this.y=r,this.fixAndSetPosition(),this._onTranslated()}getRect(e,n,r=this.rotation){const s=this.parentScale,[a,o]=this.pageDimensions,[l,c]=this.pageTranslation,u=e/s,d=n/s,h=this.x*a,f=this.y*o,A=this.width*a,v=this.height*o;switch(r){case 0:return[h+u+l,o-f-d-v+c,h+u+A+l,o-f-d+c];case 90:return[h+d+l,o-f+u+c,h+d+v+l,o-f+u+A+c];case 180:return[h-u-A+l,o-f+d+c,h-u+l,o-f+d+v+c];case 270:return[h-d-v+l,o-f-u-A+c,h-d+l,o-f-u+c];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(e,n){const[r,s,a,o]=e,l=a-r,c=o-s;switch(this.rotation){case 0:return[r,n-o,l,c];case 90:return[r,n-s,c,l];case 180:return[a,n-s,l,c];case 270:return[a,n-o,c,l];default:throw new Error("Invalid rotation")}}onceAdded(e){}isEmpty(){return!1}enableEditMode(){le(this,i0,!0)}disableEditMode(){le(this,i0,!1)}isInEditMode(){return B(this,i0)}shouldGetKeyboardEvents(){return B(this,$A)}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}get isOnScreen(){const{top:e,left:n,bottom:r,right:s}=this.getClientDimensions(),{innerHeight:a,innerWidth:o}=window;return n<o&&s>0&&e<a&&r>0}rebuild(){je(this,Cn,WR).call(this)}rotate(e){}resize(){}serializeDeleted(){var e;return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex,popupRef:((e=this._initialData)==null?void 0:e.popupRef)||""}}serialize(e=!1,n=null){xi("An editor must be serializable")}static async deserialize(e,n,r){const s=new this.prototype.constructor({parent:n,id:n.getNextId(),uiManager:r});s.rotation=e.rotation,le(s,e0,e.accessibilityData);const[a,o]=s.pageDimensions,[l,c,u,d]=s.getRectInCurrentCoords(e.rect,o);return s.x=l/a,s.y=c/o,s.width=u/a,s.height=d/o,s}get hasBeenModified(){return!!this.annotationElementId&&(this.deleted||this.serialize()!==null)}remove(){var e,n;if((e=B(this,pg))==null||e.abort(),le(this,pg,null),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),B(this,cf)&&(clearTimeout(B(this,cf)),le(this,cf,null)),je(this,Cn,yN).call(this),this.removeEditToolbar(),B(this,Du)){for(const r of B(this,Du).values())clearTimeout(r);le(this,Du,null)}this.parent=null,(n=B(this,s0))==null||n.destroy(),le(this,s0,null)}get isResizable(){return!1}makeResizable(){this.isResizable&&(je(this,Cn,hhe).call(this),B(this,so).classList.remove("hidden"),RD(this,this.div,["keydown"]))}get toolbarPosition(){return null}keydown(e){if(!this.isResizable||e.target!==this.div||e.key!=="Enter")return;this._uiManager.setSelected(this),le(this,zA,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const n=B(this,so).children;if(!B(this,zd)){le(this,zd,Array.from(n));const o=je(this,Cn,xhe).bind(this),l=je(this,Cn,vhe).bind(this),c=this._uiManager._signal;for(const u of B(this,zd)){const d=u.getAttribute("data-resizer-name");u.setAttribute("role","spinbutton"),u.addEventListener("keydown",o,{signal:c}),u.addEventListener("blur",l,{signal:c}),u.addEventListener("focus",je(this,Cn,yhe).bind(this,d),{signal:c}),u.setAttribute("data-l10n-id",Jn._l10nResizer[d])}}const r=B(this,zd)[0];let s=0;for(const o of n){if(o===r)break;s++}const a=(360-this.rotation+this.parentRotation)%360/90*(B(this,zd).length/4);if(a!==s){if(a<s)for(let l=0;l<s-a;l++)B(this,so).append(B(this,so).firstChild);else if(a>s)for(let l=0;l<a-s;l++)B(this,so).firstChild.before(B(this,so).lastChild);let o=0;for(const l of n){const u=B(this,zd)[o++].getAttribute("data-resizer-name");l.setAttribute("data-l10n-id",Jn._l10nResizer[u])}}je(this,Cn,qR).call(this,0),le(this,$A,!0),B(this,so).firstChild.focus({focusVisible:!0}),e.preventDefault(),e.stopImmediatePropagation()}_resizeWithKeyboard(e,n){B(this,$A)&&je(this,Cn,zR).call(this,B(this,cC),{deltaX:e,deltaY:n,fromKeyboard:!0})}_stopResizingWithKeyboard(){je(this,Cn,yN).call(this),this.div.focus()}select(){var e,n,r;if(this.makeResizable(),(e=this.div)==null||e.classList.add("selectedEditor"),!this._editToolbar){this.addEditToolbar().then(()=>{var s,a;(s=this.div)!=null&&s.classList.contains("selectedEditor")&&((a=this._editToolbar)==null||a.show())});return}(n=this._editToolbar)==null||n.show(),(r=B(this,Ri))==null||r.toggleAltTextBadge(!1)}unselect(){var e,n,r,s,a;(e=B(this,so))==null||e.classList.add("hidden"),(n=this.div)==null||n.classList.remove("selectedEditor"),(r=this.div)!=null&&r.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus({preventScroll:!0}),(s=this._editToolbar)==null||s.hide(),(a=B(this,Ri))==null||a.toggleAltTextBadge(!0)}updateParams(e,n){}disableEditing(){}enableEditing(){}enterInEditMode(){}getImageForAltText(){return null}get contentDiv(){return this.div}get isEditing(){return B(this,uC)}set isEditing(e){le(this,uC,e),this.parent&&(e?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(e,n){le(this,t0,!0);const r=e/n,{style:s}=this.div;s.aspectRatio=r,s.height="auto"}static get MIN_SIZE(){return 16}static canCreateNewEmptyEditor(){return!0}get telemetryInitialData(){return{action:"added"}}get telemetryFinalData(){return null}_reportTelemetry(e,n=!1){if(n){B(this,Du)||le(this,Du,new Map);const{action:r}=e;let s=B(this,Du).get(r);s&&clearTimeout(s),s=setTimeout(()=>{this._reportTelemetry(e),B(this,Du).delete(r),B(this,Du).size===0&&le(this,Du,null)},Jn._telemetryTimeout),B(this,Du).set(r,s);return}e.type||(e.type=this.editorType),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:e}})}show(e=this._isVisible){this.div.classList.toggle("hidden",!e),this._isVisible=e}enable(){this.div&&(this.div.tabIndex=0),le(this,K1,!1)}disable(){this.div&&(this.div.tabIndex=-1),le(this,K1,!0)}renderAnnotationElement(e){let n=e.container.querySelector(".annotationContent");if(!n)n=document.createElement("div"),n.classList.add("annotationContent",this.editorType),e.container.prepend(n);else if(n.nodeName==="CANVAS"){const r=n;n=document.createElement("div"),n.classList.add("annotationContent",this.editorType),r.before(n)}return n}resetAnnotationElement(e){const{firstChild:n}=e.container;(n==null?void 0:n.nodeName)==="DIV"&&n.classList.contains("annotationContent")&&n.remove()}};e0=new WeakMap,zd=new WeakMap,Ri=new WeakMap,K1=new WeakMap,Ag=new WeakMap,lC=new WeakMap,t0=new WeakMap,so=new WeakMap,n0=new WeakMap,zA=new WeakMap,pg=new WeakMap,cC=new WeakMap,r0=new WeakMap,Bc=new WeakMap,uC=new WeakMap,i0=new WeakMap,$A=new WeakMap,cf=new WeakMap,G1=new WeakMap,X1=new WeakMap,Du=new WeakMap,s0=new WeakMap,dC=new WeakMap,HT=new WeakMap,Cn=new WeakSet,RR=function([e,n],r,s){[r,s]=this.screenToPageTranslation(r,s),this.x+=r/e,this.y+=s/n,this._onTranslating(this.x,this.y),this.fixAndSetPosition()},hC=new WeakSet,QR=function(e,n,r){switch(r){case 90:return[n,-e];case 180:return[-e,-n];case 270:return[-n,e];default:return[e,n]}},vB=function(e){switch(e){case 90:{const[n,r]=this.pageDimensions;return[0,-n/r,r/n,0]}case 180:return[-1,0,0,-1];case 270:{const[n,r]=this.pageDimensions;return[0,n/r,-r/n,0]}default:return[1,0,0,1]}},hhe=function(){if(B(this,so))return;le(this,so,document.createElement("div")),B(this,so).classList.add("resizers");const e=this._willKeepAspectRatio?["topLeft","topRight","bottomRight","bottomLeft"]:["topLeft","topMiddle","topRight","middleRight","bottomRight","bottomMiddle","bottomLeft","middleLeft"],n=this._uiManager._signal;for(const r of e){const s=document.createElement("div");B(this,so).append(s),s.classList.add("resizer",r),s.setAttribute("data-resizer-name",r),s.addEventListener("pointerdown",je(this,Cn,fhe).bind(this,r),{signal:n}),s.addEventListener("contextmenu",ch,{signal:n}),s.tabIndex=-1}this.div.prepend(B(this,so))},fhe=function(e,n){var d;n.preventDefault();const{isMac:r}=El.platform;if(n.button!==0||n.ctrlKey&&r)return;(d=B(this,Ri))==null||d.toggle(!1);const s=this._isDraggable;this._isDraggable=!1,le(this,n0,[n.screenX,n.screenY]);const a=new AbortController,o=this._uiManager.combinedSignal(a);this.parent.togglePointerEvents(!1),window.addEventListener("pointermove",je(this,Cn,zR).bind(this,e),{passive:!0,capture:!0,signal:o}),window.addEventListener("touchmove",$c,{passive:!1,signal:o}),window.addEventListener("contextmenu",ch,{signal:o}),le(this,zA,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const l=this.parent.div.style.cursor,c=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(n.target).cursor;const u=()=>{var h;a.abort(),this.parent.togglePointerEvents(!0),(h=B(this,Ri))==null||h.toggle(!0),this._isDraggable=s,this.parent.div.style.cursor=l,this.div.style.cursor=c,je(this,Cn,yB).call(this)};window.addEventListener("pointerup",u,{signal:o}),window.addEventListener("blur",u,{signal:o})},HR=function(e,n,r,s){this.width=r,this.height=s,this.x=e,this.y=n;const[a,o]=this.parentDimensions;this.setDims(a*r,o*s),this.fixAndSetPosition(),this._onResized()},yB=function(){if(!B(this,zA))return;const{savedX:e,savedY:n,savedWidth:r,savedHeight:s}=B(this,zA);le(this,zA,null);const a=this.x,o=this.y,l=this.width,c=this.height;a===e&&o===n&&l===r&&c===s||this.addCommands({cmd:je(this,Cn,HR).bind(this,a,o,l,c),undo:je(this,Cn,HR).bind(this,e,n,r,s),mustExec:!0})},zR=function(e,n){const[r,s]=this.parentDimensions,a=this.x,o=this.y,l=this.width,c=this.height,u=Jn.MIN_SIZE/r,d=Jn.MIN_SIZE/s,h=je(this,Cn,vB).call(this,this.rotation),f=(U,L)=>[h[0]*U+h[2]*L,h[1]*U+h[3]*L],A=je(this,Cn,vB).call(this,360-this.rotation),v=(U,L)=>[A[0]*U+A[2]*L,A[1]*U+A[3]*L];let p,m,g=!1,x=!1;switch(e){case"topLeft":g=!0,p=(U,L)=>[0,0],m=(U,L)=>[U,L];break;case"topMiddle":p=(U,L)=>[U/2,0],m=(U,L)=>[U/2,L];break;case"topRight":g=!0,p=(U,L)=>[U,0],m=(U,L)=>[0,L];break;case"middleRight":x=!0,p=(U,L)=>[U,L/2],m=(U,L)=>[0,L/2];break;case"bottomRight":g=!0,p=(U,L)=>[U,L],m=(U,L)=>[0,0];break;case"bottomMiddle":p=(U,L)=>[U/2,L],m=(U,L)=>[U/2,0];break;case"bottomLeft":g=!0,p=(U,L)=>[0,L],m=(U,L)=>[U,0];break;case"middleLeft":x=!0,p=(U,L)=>[0,L/2],m=(U,L)=>[U,L/2];break}const b=p(l,c),j=m(l,c);let N=f(...j);const _=Jn._round(a+N[0]),C=Jn._round(o+N[1]);let k=1,T=1,O,I;if(n.fromKeyboard)({deltaX:O,deltaY:I}=n);else{const{screenX:U,screenY:L}=n,[z,$]=B(this,n0);[O,I]=this.screenToPageTranslation(U-z,L-$),B(this,n0)[0]=U,B(this,n0)[1]=L}if([O,I]=v(O/r,I/s),g){const U=Math.hypot(l,c);k=T=Math.max(Math.min(Math.hypot(j[0]-b[0]-O,j[1]-b[1]-I)/U,1/l,1/c),u/l,d/c)}else x?k=Math.max(u,Math.min(1,Math.abs(j[0]-b[0]-O)))/l:T=Math.max(d,Math.min(1,Math.abs(j[1]-b[1]-I)))/c;const F=Jn._round(l*k),M=Jn._round(c*T);N=f(...m(F,M));const S=_-N[0],q=C-N[1];B(this,Bc)||le(this,Bc,[this.x,this.y,this.width,this.height]),this.width=F,this.height=M,this.x=S,this.y=q,this.setDims(r*F,s*M),this.fixAndSetPosition(),this._onResizing()},Ahe=function(){var e;le(this,zA,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height}),(e=B(this,Ri))==null||e.toggle(!1),this.parent.togglePointerEvents(!1)},phe=function(e,n,r){let a=.7*(r/n)+1-.7;if(a===1)return;const o=je(this,Cn,vB).call(this,this.rotation),l=(_,C)=>[o[0]*_+o[2]*C,o[1]*_+o[3]*C],[c,u]=this.parentDimensions,d=this.x,h=this.y,f=this.width,A=this.height,v=Jn.MIN_SIZE/c,p=Jn.MIN_SIZE/u;a=Math.max(Math.min(a,1/f,1/A),v/f,p/A);const m=Jn._round(f*a),g=Jn._round(A*a);if(m===f&&g===A)return;B(this,Bc)||le(this,Bc,[d,h,f,A]);const x=l(f/2,A/2),b=Jn._round(d+x[0]),j=Jn._round(h+x[1]),N=l(m/2,g/2);this.x=b-N[0],this.y=j-N[1],this.width=m,this.height=g,this.setDims(c*m,u*g),this.fixAndSetPosition(),this._onResizing()},mhe=function(){var e;(e=B(this,Ri))==null||e.toggle(!0),this.parent.togglePointerEvents(!0),je(this,Cn,yB).call(this)},$R=function(e){const{isMac:n}=El.platform;e.ctrlKey&&!n||e.shiftKey||e.metaKey&&n?this.parent.toggleSelected(this):this.parent.setSelected(this)},ghe=function(e){const{isSelected:n}=this;this._uiManager.setUpDragSession();let r=!1;const s=new AbortController,a=this._uiManager.combinedSignal(s),o={capture:!0,passive:!1,signal:a},l=u=>{s.abort(),le(this,Ag,null),le(this,r0,!1),this._uiManager.endDragSession()||je(this,Cn,$R).call(this,u),r&&this._onStopDragging()};n&&(le(this,G1,e.clientX),le(this,X1,e.clientY),le(this,Ag,e.pointerId),le(this,lC,e.pointerType),window.addEventListener("pointermove",u=>{r||(r=!0,this._onStartDragging());const{clientX:d,clientY:h,pointerId:f}=u;if(f!==B(this,Ag)){$c(u);return}const[A,v]=this.screenToPageTranslation(d-B(this,G1),h-B(this,X1));le(this,G1,d),le(this,X1,h),this._uiManager.dragSelectedEditors(A,v)},o),window.addEventListener("touchmove",$c,o),window.addEventListener("pointerdown",u=>{u.pointerType===B(this,lC)&&(B(this,s0)||u.isPrimary)&&l(u),$c(u)},o));const c=u=>{if(!B(this,Ag)||B(this,Ag)===u.pointerId){l(u);return}$c(u)};window.addEventListener("pointerup",c,{signal:a}),window.addEventListener("blur",c,{signal:a})},WR=function(){if(B(this,pg)||!this.div)return;le(this,pg,new AbortController);const e=this._uiManager.combinedSignal(B(this,pg));this.div.addEventListener("focusin",this.focusin.bind(this),{signal:e}),this.div.addEventListener("focusout",this.focusout.bind(this),{signal:e})},xhe=function(e){Jn._resizerKeyboardManager.exec(this,e)},vhe=function(e){var n;B(this,$A)&&((n=e.relatedTarget)==null?void 0:n.parentNode)!==B(this,so)&&je(this,Cn,yN).call(this)},yhe=function(e){le(this,cC,B(this,$A)?e:"")},qR=function(e){if(B(this,zd))for(const n of B(this,zd))n.tabIndex=e},yN=function(){le(this,$A,!1),je(this,Cn,qR).call(this,-1),je(this,Cn,yB).call(this)},be(Jn,hC),Nn(Jn,"_l10n",null),Nn(Jn,"_l10nResizer",null),Nn(Jn,"_borderLineWidth",-1),Nn(Jn,"_colorManager",new kR),Nn(Jn,"_zIndex",1),Nn(Jn,"_telemetryTimeout",1e3);let ls=Jn;class i3e extends ls{constructor(e){super(e),this.annotationElementId=e.annotationElementId,this.deleted=!0}serialize(){return this.serializeDeleted()}}const CG=3285377520,vu=4294901760,Kh=65535;class bhe{constructor(e){this.h1=e?e&4294967295:CG,this.h2=e?e&4294967295:CG}update(e){let n,r;if(typeof e=="string"){n=new Uint8Array(e.length*2),r=0;for(let p=0,m=e.length;p<m;p++){const g=e.charCodeAt(p);g<=255?n[r++]=g:(n[r++]=g>>>8,n[r++]=g&255)}}else if(ArrayBuffer.isView(e))n=e.slice(),r=n.byteLength;else throw new Error("Invalid data format, must be a string or TypedArray.");const s=r>>2,a=r-s*4,o=new Uint32Array(n.buffer,0,s);let l=0,c=0,u=this.h1,d=this.h2;const h=3432918353,f=461845907,A=h&Kh,v=f&Kh;for(let p=0;p<s;p++)p&1?(l=o[p],l=l*h&vu|l*A&Kh,l=l<<15|l>>>17,l=l*f&vu|l*v&Kh,u^=l,u=u<<13|u>>>19,u=u*5+3864292196):(c=o[p],c=c*h&vu|c*A&Kh,c=c<<15|c>>>17,c=c*f&vu|c*v&Kh,d^=c,d=d<<13|d>>>19,d=d*5+3864292196);switch(l=0,a){case 3:l^=n[s*4+2]<<16;case 2:l^=n[s*4+1]<<8;case 1:l^=n[s*4],l=l*h&vu|l*A&Kh,l=l<<15|l>>>17,l=l*f&vu|l*v&Kh,s&1?u^=l:d^=l}this.h1=u,this.h2=d}hexdigest(){let e=this.h1,n=this.h2;return e^=n>>>1,e=e*3981806797&vu|e*36045&Kh,n=n*4283543511&vu|((n<<16|e>>>16)*2950163797&vu)>>>16,e^=n>>>1,e=e*444984403&vu|e*60499&Kh,n=n*3301882366&vu|((n<<16|e>>>16)*3120437893&vu)>>>16,e^=n>>>1,(e>>>0).toString(16).padStart(8,"0")+(n>>>0).toString(16).padStart(8,"0")}}const VR=Object.freeze({map:null,hash:"",transfer:void 0});var a0,o0,Ua,zT,whe;class Ez{constructor(){be(this,zT);be(this,a0,!1);be(this,o0,null);be(this,Ua,new Map);this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(e,n){const r=B(this,Ua).get(e);return r===void 0?n:Object.assign(n,r)}getRawValue(e){return B(this,Ua).get(e)}remove(e){if(B(this,Ua).delete(e),B(this,Ua).size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const n of B(this,Ua).values())if(n instanceof ls)return;this.onAnnotationEditor(null)}}setValue(e,n){const r=B(this,Ua).get(e);let s=!1;if(r!==void 0)for(const[a,o]of Object.entries(n))r[a]!==o&&(s=!0,r[a]=o);else s=!0,B(this,Ua).set(e,n);s&&je(this,zT,whe).call(this),n instanceof ls&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(n.constructor._type)}has(e){return B(this,Ua).has(e)}getAll(){return B(this,Ua).size>0?wz(B(this,Ua)):null}setAll(e){for(const[n,r]of Object.entries(e))this.setValue(n,r)}get size(){return B(this,Ua).size}resetModified(){B(this,a0)&&(le(this,a0,!1),typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new jhe(this)}get serializable(){if(B(this,Ua).size===0)return VR;const e=new Map,n=new bhe,r=[],s=Object.create(null);let a=!1;for(const[o,l]of B(this,Ua)){const c=l instanceof ls?l.serialize(!1,s):l;c&&(e.set(o,c),n.update(`${o}:${JSON.stringify(c)}`),a||(a=!!c.bitmap))}if(a)for(const o of e.values())o.bitmap&&r.push(o.bitmap);return e.size>0?{map:e,hash:n.hexdigest(),transfer:r}:VR}get editorStats(){let e=null;const n=new Map;for(const r of B(this,Ua).values()){if(!(r instanceof ls))continue;const s=r.telemetryFinalData;if(!s)continue;const{type:a}=s;n.has(a)||n.set(a,Object.getPrototypeOf(r).constructor),e||(e=Object.create(null));const o=e[a]||(e[a]=new Map);for(const[l,c]of Object.entries(s)){if(l==="type")continue;let u=o.get(l);u||(u=new Map,o.set(l,u));const d=u.get(c)??0;u.set(c,d+1)}}for(const[r,s]of n)e[r]=s.computeTelemetryFinalData(e[r]);return e}resetModifiedIds(){le(this,o0,null)}get modifiedIds(){if(B(this,o0))return B(this,o0);const e=[];for(const n of B(this,Ua).values())!(n instanceof ls)||!n.annotationElementId||!n.serialize()||e.push(n.annotationElementId);return le(this,o0,{ids:new Set(e),hash:e.join(",")})}}a0=new WeakMap,o0=new WeakMap,Ua=new WeakMap,zT=new WeakSet,whe=function(){B(this,a0)||(le(this,a0,!0),typeof this.onSetModified=="function"&&this.onSetModified())};var fC;class jhe extends Ez{constructor(n){super();be(this,fC);const{map:r,hash:s,transfer:a}=n.serializable,o=structuredClone(r,a?{transfer:a}:null);le(this,fC,{map:o,hash:s,transfer:a})}get print(){xi("Should not call PrintAnnotationStorage.print")}get serializable(){return B(this,fC)}get modifiedIds(){return or(this,"modifiedIds",{ids:new Set,hash:""})}}fC=new WeakMap;var Y1;class s3e{constructor({ownerDocument:e=globalThis.document,styleElement:n=null}){be(this,Y1,new Set);this._document=e,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(e){this.nativeFontFaces.add(e),this._document.fonts.add(e)}removeNativeFontFace(e){this.nativeFontFaces.delete(e),this._document.fonts.delete(e)}insertRule(e){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const n=this.styleElement.sheet;n.insertRule(e,n.cssRules.length)}clear(){for(const e of this.nativeFontFaces)this._document.fonts.delete(e);this.nativeFontFaces.clear(),B(this,Y1).clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont({systemFontInfo:e,_inspectFont:n}){if(!(!e||B(this,Y1).has(e.loadedName))){if(Xs(!this.disableFontFace,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:r,src:s,style:a}=e,o=new FontFace(r,s,a);this.addNativeFontFace(o);try{await o.load(),B(this,Y1).add(r),n==null||n(e)}catch{Yn(`Cannot load system font: ${e.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(o)}return}xi("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(e){if(e.attached||e.missingFile&&!e.systemFontInfo)return;if(e.attached=!0,e.systemFontInfo){await this.loadSystemFont(e);return}if(this.isFontLoadingAPISupported){const r=e.createNativeFontFace();if(r){this.addNativeFontFace(r);try{await r.loaded}catch(s){throw Yn(`Failed to load font '${r.family}': '${s}'.`),e.disableFontFace=!0,s}}return}const n=e.createFontFaceRule();if(n){if(this.insertRule(n),this.isSyncFontLoadingSupported)return;await new Promise(r=>{const s=this._queueLoadingCallback(r);this._prepareFontLoadEvent(e,s)})}}get isFontLoadingAPISupported(){var n;const e=!!((n=this._document)!=null&&n.fonts);return or(this,"isFontLoadingAPISupported",e)}get isSyncFontLoadingSupported(){let e=!1;return(Wo||typeof navigator<"u"&&typeof(navigator==null?void 0:navigator.userAgent)=="string"&&/Mozilla\/5.0.*?rv:\d+.*? Gecko/.test(navigator.userAgent))&&(e=!0),or(this,"isSyncFontLoadingSupported",e)}_queueLoadingCallback(e){function n(){for(Xs(!s.done,"completeRequest() cannot be called twice."),s.done=!0;r.length>0&&r[0].done;){const a=r.shift();setTimeout(a.callback,0)}}const{loadingRequests:r}=this,s={done:!1,complete:n,callback:e};return r.push(s),s}get _loadTestFont(){const e=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return or(this,"_loadTestFont",e)}_prepareFontLoadEvent(e,n){function r(j,N){return j.charCodeAt(N)<<24|j.charCodeAt(N+1)<<16|j.charCodeAt(N+2)<<8|j.charCodeAt(N+3)&255}function s(j,N,_,C){const k=j.substring(0,N),T=j.substring(N+_);return k+C+T}let a,o;const l=this._document.createElement("canvas");l.width=1,l.height=1;const c=l.getContext("2d");let u=0;function d(j,N){if(++u>30){Yn("Load test font never loaded."),N();return}if(c.font="30px "+j,c.fillText(".",0,20),c.getImageData(0,0,1,1).data[3]>0){N();return}setTimeout(d.bind(null,j,N))}const h=`lt${Date.now()}${this.loadTestFontId++}`;let f=this._loadTestFont;f=s(f,976,h.length,h);const v=16,p=1482184792;let m=r(f,v);for(a=0,o=h.length-3;a<o;a+=4)m=m-p+r(h,a)|0;a<h.length&&(m=m-p+r(h+"XXX",a)|0),f=s(f,v,4,$De(m));const g=`url(data:font/opentype;base64,${btoa(f)});`,x=`@font-face {font-family:"${h}";src:${g}}`;this.insertRule(x);const b=this._document.createElement("div");b.style.visibility="hidden",b.style.width=b.style.height="10px",b.style.position="absolute",b.style.top=b.style.left="0px";for(const j of[e.loadedName,h]){const N=this._document.createElement("span");N.textContent="Hi",N.style.fontFamily=j,b.append(N)}this._document.body.append(b),d(h,()=>{b.remove(),n.complete()})}}Y1=new WeakMap;class a3e{constructor(e,{disableFontFace:n=!1,fontExtraProperties:r=!1,inspectFont:s=null}){this.compiledGlyphs=Object.create(null);for(const a in e)this[a]=e[a];this.disableFontFace=n===!0,this.fontExtraProperties=r===!0,this._inspectFont=s}createNativeFontFace(){var n;if(!this.data||this.disableFontFace)return null;let e;if(!this.cssFontInfo)e=new FontFace(this.loadedName,this.data,{});else{const r={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(r.style=`oblique ${this.cssFontInfo.italicAngle}deg`),e=new FontFace(this.cssFontInfo.fontFamily,this.data,r)}return(n=this._inspectFont)==null||n.call(this,this),e}createFontFaceRule(){var r;if(!this.data||this.disableFontFace)return null;const e=`url(data:${this.mimetype};base64,${XDe(this.data)});`;let n;if(!this.cssFontInfo)n=`@font-face {font-family:"${this.loadedName}";src:${e}}`;else{let s=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(s+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),n=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${s}src:${e}}`}return(r=this._inspectFont)==null||r.call(this,this,e),n}getPathGenerator(e,n){if(this.compiledGlyphs[n]!==void 0)return this.compiledGlyphs[n];const r=this.loadedName+"_path_"+n;let s;try{s=e.get(r)}catch(o){Yn(`getPathGenerator - ignoring character: "${o}".`)}const a=new Path2D(s||"");return this.fontExtraProperties||e.delete(r),this.compiledGlyphs[n]=a}}const zE={DATA:1,ERROR:2},qs={CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function SG(){}function Xl(t){if(t instanceof Jg||t instanceof CR||t instanceof E_||t instanceof jG||t instanceof LD||t instanceof LP)return t;switch(t instanceof Error||typeof t=="object"&&t!==null||xi('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),t.name){case"AbortException":return new Jg(t.message);case"InvalidPDFException":return new CR(t.message);case"MissingPDFException":return new E_(t.message);case"PasswordException":return new jG(t.message,t.code);case"UnexpectedResponseException":return new LD(t.message,t.status);case"UnknownErrorException":return new LP(t.message,t.details)}return new LP(t.message,t.toString())}var J1,Ku,Nhe,_he,Che,bB;class bN{constructor(e,n,r){be(this,Ku);be(this,J1,new AbortController);this.sourceName=e,this.targetName=n,this.comObj=r,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),r.addEventListener("message",je(this,Ku,Nhe).bind(this),{signal:B(this,J1).signal})}on(e,n){const r=this.actionHandler;if(r[e])throw new Error(`There is already an actionName called "${e}"`);r[e]=n}send(e,n,r){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,data:n},r)}sendWithPromise(e,n,r){const s=this.callbackId++,a=Promise.withResolvers();this.callbackCapabilities[s]=a;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,callbackId:s,data:n},r)}catch(o){a.reject(o)}return a.promise}sendWithStream(e,n,r,s){const a=this.streamId++,o=this.sourceName,l=this.targetName,c=this.comObj;return new ReadableStream({start:u=>{const d=Promise.withResolvers();return this.streamControllers[a]={controller:u,startCall:d,pullCall:null,cancelCall:null,isClosed:!1},c.postMessage({sourceName:o,targetName:l,action:e,streamId:a,data:n,desiredSize:u.desiredSize},s),d.promise},pull:u=>{const d=Promise.withResolvers();return this.streamControllers[a].pullCall=d,c.postMessage({sourceName:o,targetName:l,stream:qs.PULL,streamId:a,desiredSize:u.desiredSize}),d.promise},cancel:u=>{Xs(u instanceof Error,"cancel must have a valid reason");const d=Promise.withResolvers();return this.streamControllers[a].cancelCall=d,this.streamControllers[a].isClosed=!0,c.postMessage({sourceName:o,targetName:l,stream:qs.CANCEL,streamId:a,reason:Xl(u)}),d.promise}},r)}destroy(){var e;(e=B(this,J1))==null||e.abort(),le(this,J1,null)}}J1=new WeakMap,Ku=new WeakSet,Nhe=function({data:e}){if(e.targetName!==this.sourceName)return;if(e.stream){je(this,Ku,Che).call(this,e);return}if(e.callback){const r=e.callbackId,s=this.callbackCapabilities[r];if(!s)throw new Error(`Cannot resolve callback ${r}`);if(delete this.callbackCapabilities[r],e.callback===zE.DATA)s.resolve(e.data);else if(e.callback===zE.ERROR)s.reject(Xl(e.reason));else throw new Error("Unexpected callback case");return}const n=this.actionHandler[e.action];if(!n)throw new Error(`Unknown action from worker: ${e.action}`);if(e.callbackId){const r=this.sourceName,s=e.sourceName,a=this.comObj;Promise.try(n,e.data).then(function(o){a.postMessage({sourceName:r,targetName:s,callback:zE.DATA,callbackId:e.callbackId,data:o})},function(o){a.postMessage({sourceName:r,targetName:s,callback:zE.ERROR,callbackId:e.callbackId,reason:Xl(o)})});return}if(e.streamId){je(this,Ku,_he).call(this,e);return}n(e.data)},_he=function(e){const n=e.streamId,r=this.sourceName,s=e.sourceName,a=this.comObj,o=this,l=this.actionHandler[e.action],c={enqueue(u,d=1,h){if(this.isCancelled)return;const f=this.desiredSize;this.desiredSize-=d,f>0&&this.desiredSize<=0&&(this.sinkCapability=Promise.withResolvers(),this.ready=this.sinkCapability.promise),a.postMessage({sourceName:r,targetName:s,stream:qs.ENQUEUE,streamId:n,chunk:u},h)},close(){this.isCancelled||(this.isCancelled=!0,a.postMessage({sourceName:r,targetName:s,stream:qs.CLOSE,streamId:n}),delete o.streamSinks[n])},error(u){Xs(u instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,a.postMessage({sourceName:r,targetName:s,stream:qs.ERROR,streamId:n,reason:Xl(u)}))},sinkCapability:Promise.withResolvers(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:e.desiredSize,ready:null};c.sinkCapability.resolve(),c.ready=c.sinkCapability.promise,this.streamSinks[n]=c,Promise.try(l,e.data,c).then(function(){a.postMessage({sourceName:r,targetName:s,stream:qs.START_COMPLETE,streamId:n,success:!0})},function(u){a.postMessage({sourceName:r,targetName:s,stream:qs.START_COMPLETE,streamId:n,reason:Xl(u)})})},Che=function(e){const n=e.streamId,r=this.sourceName,s=e.sourceName,a=this.comObj,o=this.streamControllers[n],l=this.streamSinks[n];switch(e.stream){case qs.START_COMPLETE:e.success?o.startCall.resolve():o.startCall.reject(Xl(e.reason));break;case qs.PULL_COMPLETE:e.success?o.pullCall.resolve():o.pullCall.reject(Xl(e.reason));break;case qs.PULL:if(!l){a.postMessage({sourceName:r,targetName:s,stream:qs.PULL_COMPLETE,streamId:n,success:!0});break}l.desiredSize<=0&&e.desiredSize>0&&l.sinkCapability.resolve(),l.desiredSize=e.desiredSize,Promise.try(l.onPull||SG).then(function(){a.postMessage({sourceName:r,targetName:s,stream:qs.PULL_COMPLETE,streamId:n,success:!0})},function(u){a.postMessage({sourceName:r,targetName:s,stream:qs.PULL_COMPLETE,streamId:n,reason:Xl(u)})});break;case qs.ENQUEUE:if(Xs(o,"enqueue should have stream controller"),o.isClosed)break;o.controller.enqueue(e.chunk);break;case qs.CLOSE:if(Xs(o,"close should have stream controller"),o.isClosed)break;o.isClosed=!0,o.controller.close(),je(this,Ku,bB).call(this,o,n);break;case qs.ERROR:Xs(o,"error should have stream controller"),o.controller.error(Xl(e.reason)),je(this,Ku,bB).call(this,o,n);break;case qs.CANCEL_COMPLETE:e.success?o.cancelCall.resolve():o.cancelCall.reject(Xl(e.reason)),je(this,Ku,bB).call(this,o,n);break;case qs.CANCEL:if(!l)break;const c=Xl(e.reason);Promise.try(l.onCancel||SG,c).then(function(){a.postMessage({sourceName:r,targetName:s,stream:qs.CANCEL_COMPLETE,streamId:n,success:!0})},function(u){a.postMessage({sourceName:r,targetName:s,stream:qs.CANCEL_COMPLETE,streamId:n,reason:Xl(u)})}),l.sinkCapability.reject(c),l.isCancelled=!0,delete this.streamSinks[n];break;default:throw new Error("Unexpected stream case")}},bB=async function(e,n){var r,s,a;await Promise.allSettled([(r=e.startCall)==null?void 0:r.promise,(s=e.pullCall)==null?void 0:s.promise,(a=e.cancelCall)==null?void 0:a.promise]),delete this.streamControllers[n]};var AC;class She{constructor({enableHWA:e=!1}){be(this,AC,!1);le(this,AC,e)}create(e,n){if(e<=0||n<=0)throw new Error("Invalid canvas size");const r=this._createCanvas(e,n);return{canvas:r,context:r.getContext("2d",{willReadFrequently:!B(this,AC)})}}reset(e,n,r){if(!e.canvas)throw new Error("Canvas is not specified");if(n<=0||r<=0)throw new Error("Invalid canvas size");e.canvas.width=n,e.canvas.height=r}destroy(e){if(!e.canvas)throw new Error("Canvas is not specified");e.canvas.width=0,e.canvas.height=0,e.canvas=null,e.context=null}_createCanvas(e,n){xi("Abstract method `_createCanvas` called.")}}AC=new WeakMap;class o3e extends She{constructor({ownerDocument:e=globalThis.document,enableHWA:n=!1}){super({enableHWA:n}),this._document=e}_createCanvas(e,n){const r=this._document.createElement("canvas");return r.width=e,r.height=n,r}}class Ehe{constructor({baseUrl:e=null,isCompressed:n=!0}){this.baseUrl=e,this.isCompressed=n}async fetch({name:e}){if(!this.baseUrl)throw new Error("Ensure that the `cMapUrl` and `cMapPacked` API parameters are provided.");if(!e)throw new Error("CMap name must be specified.");const n=this.baseUrl+e+(this.isCompressed?".bcmap":"");return this._fetch(n).then(r=>({cMapData:r,isCompressed:this.isCompressed})).catch(r=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${n}`)})}async _fetch(e){xi("Abstract method `_fetch` called.")}}class Bhe extends Ehe{async _fetch(e){const n=await wk(e,this.isCompressed?"arraybuffer":"text");return n instanceof ArrayBuffer?new Uint8Array(n):bk(n)}}class Dhe{addFilter(e){return"none"}addHCMFilter(e,n){return"none"}addAlphaFilter(e){return"none"}addLuminosityFilter(e){return"none"}addHighlightHCMFilter(e,n,r,s,a){return"none"}destroy(e=!1){}}var l0,Z1,WA,qA,Uo,c0,u0,Gt,ko,wN,Rb,wB,Qb,The,KR,Hb,jN,NN,GR,_N;class l3e extends Dhe{constructor({docId:n,ownerDocument:r=globalThis.document}){super();be(this,Gt);be(this,l0);be(this,Z1);be(this,WA);be(this,qA);be(this,Uo);be(this,c0);be(this,u0,0);le(this,qA,n),le(this,Uo,r)}addFilter(n){if(!n)return"none";let r=B(this,Gt,ko).get(n);if(r)return r;const[s,a,o]=je(this,Gt,wB).call(this,n),l=n.length===1?s:`${s}${a}${o}`;if(r=B(this,Gt,ko).get(l),r)return B(this,Gt,ko).set(n,r),r;const c=`g_${B(this,qA)}_transfer_map_${hl(this,u0)._++}`,u=je(this,Gt,Qb).call(this,c);B(this,Gt,ko).set(n,u),B(this,Gt,ko).set(l,u);const d=je(this,Gt,Hb).call(this,c);return je(this,Gt,NN).call(this,s,a,o,d),u}addHCMFilter(n,r){var v;const s=`${n}-${r}`,a="base";let o=B(this,Gt,wN).get(a);if((o==null?void 0:o.key)===s||(o?((v=o.filter)==null||v.remove(),o.key=s,o.url="none",o.filter=null):(o={key:s,url:"none",filter:null},B(this,Gt,wN).set(a,o)),!n||!r))return o.url;const l=je(this,Gt,_N).call(this,n);n=un.makeHexColor(...l);const c=je(this,Gt,_N).call(this,r);if(r=un.makeHexColor(...c),B(this,Gt,Rb).style.color="",n==="#000000"&&r==="#ffffff"||n===r)return o.url;const u=new Array(256);for(let p=0;p<=255;p++){const m=p/255;u[p]=m<=.03928?m/12.92:((m+.055)/1.055)**2.4}const d=u.join(","),h=`g_${B(this,qA)}_hcm_filter`,f=o.filter=je(this,Gt,Hb).call(this,h);je(this,Gt,NN).call(this,d,d,d,f),je(this,Gt,KR).call(this,f);const A=(p,m)=>{const g=l[p]/255,x=c[p]/255,b=new Array(m+1);for(let j=0;j<=m;j++)b[j]=g+j/m*(x-g);return b.join(",")};return je(this,Gt,NN).call(this,A(0,5),A(1,5),A(2,5),f),o.url=je(this,Gt,Qb).call(this,h),o.url}addAlphaFilter(n){let r=B(this,Gt,ko).get(n);if(r)return r;const[s]=je(this,Gt,wB).call(this,[n]),a=`alpha_${s}`;if(r=B(this,Gt,ko).get(a),r)return B(this,Gt,ko).set(n,r),r;const o=`g_${B(this,qA)}_alpha_map_${hl(this,u0)._++}`,l=je(this,Gt,Qb).call(this,o);B(this,Gt,ko).set(n,l),B(this,Gt,ko).set(a,l);const c=je(this,Gt,Hb).call(this,o);return je(this,Gt,GR).call(this,s,c),l}addLuminosityFilter(n){let r=B(this,Gt,ko).get(n||"luminosity");if(r)return r;let s,a;if(n?([s]=je(this,Gt,wB).call(this,[n]),a=`luminosity_${s}`):a="luminosity",r=B(this,Gt,ko).get(a),r)return B(this,Gt,ko).set(n,r),r;const o=`g_${B(this,qA)}_luminosity_map_${hl(this,u0)._++}`,l=je(this,Gt,Qb).call(this,o);B(this,Gt,ko).set(n,l),B(this,Gt,ko).set(a,l);const c=je(this,Gt,Hb).call(this,o);return je(this,Gt,The).call(this,c),n&&je(this,Gt,GR).call(this,s,c),l}addHighlightHCMFilter(n,r,s,a,o){var x;const l=`${r}-${s}-${a}-${o}`;let c=B(this,Gt,wN).get(n);if((c==null?void 0:c.key)===l||(c?((x=c.filter)==null||x.remove(),c.key=l,c.url="none",c.filter=null):(c={key:l,url:"none",filter:null},B(this,Gt,wN).set(n,c)),!r||!s))return c.url;const[u,d]=[r,s].map(je(this,Gt,_N).bind(this));let h=Math.round(.2126*u[0]+.7152*u[1]+.0722*u[2]),f=Math.round(.2126*d[0]+.7152*d[1]+.0722*d[2]),[A,v]=[a,o].map(je(this,Gt,_N).bind(this));f<h&&([h,f,A,v]=[f,h,v,A]),B(this,Gt,Rb).style.color="";const p=(b,j,N)=>{const _=new Array(256),C=(f-h)/N,k=b/255,T=(j-b)/(255*N);let O=0;for(let I=0;I<=N;I++){const F=Math.round(h+I*C),M=k+I*T;for(let S=O;S<=F;S++)_[S]=M;O=F+1}for(let I=O;I<256;I++)_[I]=_[O-1];return _.join(",")},m=`g_${B(this,qA)}_hcm_${n}_filter`,g=c.filter=je(this,Gt,Hb).call(this,m);return je(this,Gt,KR).call(this,g),je(this,Gt,NN).call(this,p(A[0],v[0],5),p(A[1],v[1],5),p(A[2],v[2],5),g),c.url=je(this,Gt,Qb).call(this,m),c.url}destroy(n=!1){var r,s,a,o;n&&((r=B(this,c0))!=null&&r.size)||((s=B(this,WA))==null||s.parentNode.parentNode.remove(),le(this,WA,null),(a=B(this,Z1))==null||a.clear(),le(this,Z1,null),(o=B(this,c0))==null||o.clear(),le(this,c0,null),le(this,u0,0))}}l0=new WeakMap,Z1=new WeakMap,WA=new WeakMap,qA=new WeakMap,Uo=new WeakMap,c0=new WeakMap,u0=new WeakMap,Gt=new WeakSet,ko=function(){return B(this,Z1)||le(this,Z1,new Map)},wN=function(){return B(this,c0)||le(this,c0,new Map)},Rb=function(){if(!B(this,WA)){const n=B(this,Uo).createElement("div"),{style:r}=n;r.visibility="hidden",r.contain="strict",r.width=r.height=0,r.position="absolute",r.top=r.left=0,r.zIndex=-1;const s=B(this,Uo).createElementNS(TA,"svg");s.setAttribute("width",0),s.setAttribute("height",0),le(this,WA,B(this,Uo).createElementNS(TA,"defs")),n.append(s),s.append(B(this,WA)),B(this,Uo).body.append(n)}return B(this,WA)},wB=function(n){if(n.length===1){const u=n[0],d=new Array(256);for(let f=0;f<256;f++)d[f]=u[f]/255;const h=d.join(",");return[h,h,h]}const[r,s,a]=n,o=new Array(256),l=new Array(256),c=new Array(256);for(let u=0;u<256;u++)o[u]=r[u]/255,l[u]=s[u]/255,c[u]=a[u]/255;return[o.join(","),l.join(","),c.join(",")]},Qb=function(n){if(B(this,l0)===void 0){le(this,l0,"");const r=B(this,Uo).URL;r!==B(this,Uo).baseURI&&(jk(r)?Yn('#createUrl: ignore "data:"-URL for performance reasons.'):le(this,l0,r.split("#",1)[0]))}return`url(${B(this,l0)}#${n})`},The=function(n){const r=B(this,Uo).createElementNS(TA,"feColorMatrix");r.setAttribute("type","matrix"),r.setAttribute("values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0.59 0.11 0 0"),n.append(r)},KR=function(n){const r=B(this,Uo).createElementNS(TA,"feColorMatrix");r.setAttribute("type","matrix"),r.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),n.append(r)},Hb=function(n){const r=B(this,Uo).createElementNS(TA,"filter");return r.setAttribute("color-interpolation-filters","sRGB"),r.setAttribute("id",n),B(this,Gt,Rb).append(r),r},jN=function(n,r,s){const a=B(this,Uo).createElementNS(TA,r);a.setAttribute("type","discrete"),a.setAttribute("tableValues",s),n.append(a)},NN=function(n,r,s,a){const o=B(this,Uo).createElementNS(TA,"feComponentTransfer");a.append(o),je(this,Gt,jN).call(this,o,"feFuncR",n),je(this,Gt,jN).call(this,o,"feFuncG",r),je(this,Gt,jN).call(this,o,"feFuncB",s)},GR=function(n,r){const s=B(this,Uo).createElementNS(TA,"feComponentTransfer");r.append(s),je(this,Gt,jN).call(this,s,"feFuncA",n)},_N=function(n){return B(this,Gt,Rb).style.color=n,Sz(getComputedStyle(B(this,Gt,Rb)).getPropertyValue("color"))};class khe{constructor({baseUrl:e=null}){this.baseUrl=e}async fetch({filename:e}){if(!this.baseUrl)throw new Error("Ensure that the `standardFontDataUrl` API parameter is provided.");if(!e)throw new Error("Font filename must be specified.");const n=`${this.baseUrl}${e}`;return this._fetch(n).catch(r=>{throw new Error(`Unable to load font data at: ${n}`)})}async _fetch(e){xi("Abstract method `_fetch` called.")}}class Fhe extends khe{async _fetch(e){const n=await wk(e,"arraybuffer");return new Uint8Array(n)}}Wo&&Yn("Please use the `legacy` build in Node.js environments.");async function Phe(t){const n=await process.getBuiltinModule("fs").promises.readFile(t);return new Uint8Array(n)}class c3e extends Dhe{}class u3e extends She{_createCanvas(e,n){return process.getBuiltinModule("module").createRequire(import.meta.url)("@napi-rs/canvas").createCanvas(e,n)}}class d3e extends Ehe{async _fetch(e){return Phe(e)}}class h3e extends khe{async _fetch(e){return Phe(e)}}const Qo={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function XR(t,e){if(!e)return;const n=e[2]-e[0],r=e[3]-e[1],s=new Path2D;s.rect(e[0],e[1],n,r),t.clip(s)}class Bz{getPattern(){xi("Abstract method `getPattern` called.")}}class f3e extends Bz{constructor(e){super(),this._type=e[1],this._bbox=e[2],this._colorStops=e[3],this._p0=e[4],this._p1=e[5],this._r0=e[6],this._r1=e[7],this.matrix=null}_createGradient(e){let n;this._type==="axial"?n=e.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(n=e.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const r of this._colorStops)n.addColorStop(r[0],r[1]);return n}getPattern(e,n,r,s){let a;if(s===Qo.STROKE||s===Qo.FILL){const o=n.current.getClippedPathBoundingBox(s,Xi(e))||[0,0,0,0],l=Math.ceil(o[2]-o[0])||1,c=Math.ceil(o[3]-o[1])||1,u=n.cachedCanvases.getCanvas("pattern",l,c),d=u.context;d.clearRect(0,0,d.canvas.width,d.canvas.height),d.beginPath(),d.rect(0,0,d.canvas.width,d.canvas.height),d.translate(-o[0],-o[1]),r=un.transform(r,[1,0,0,1,o[0],o[1]]),d.transform(...n.baseTransform),this.matrix&&d.transform(...this.matrix),XR(d,this._bbox),d.fillStyle=this._createGradient(d),d.fill(),a=e.createPattern(u.canvas,"no-repeat");const h=new DOMMatrix(r);a.setTransform(h)}else XR(e,this._bbox),a=this._createGradient(e);return a}}function HP(t,e,n,r,s,a,o,l){const c=e.coords,u=e.colors,d=t.data,h=t.width*4;let f;c[n+1]>c[r+1]&&(f=n,n=r,r=f,f=a,a=o,o=f),c[r+1]>c[s+1]&&(f=r,r=s,s=f,f=o,o=l,l=f),c[n+1]>c[r+1]&&(f=n,n=r,r=f,f=a,a=o,o=f);const A=(c[n]+e.offsetX)*e.scaleX,v=(c[n+1]+e.offsetY)*e.scaleY,p=(c[r]+e.offsetX)*e.scaleX,m=(c[r+1]+e.offsetY)*e.scaleY,g=(c[s]+e.offsetX)*e.scaleX,x=(c[s+1]+e.offsetY)*e.scaleY;if(v>=x)return;const b=u[a],j=u[a+1],N=u[a+2],_=u[o],C=u[o+1],k=u[o+2],T=u[l],O=u[l+1],I=u[l+2],F=Math.round(v),M=Math.round(x);let S,q,U,L,z,$,K,V;for(let H=F;H<=M;H++){if(H<m){const se=H<v?0:(v-H)/(v-m);S=A-(A-p)*se,q=b-(b-_)*se,U=j-(j-C)*se,L=N-(N-k)*se}else{let se;H>x?se=1:m===x?se=0:se=(m-H)/(m-x),S=p-(p-g)*se,q=_-(_-T)*se,U=C-(C-O)*se,L=k-(k-I)*se}let W;H<v?W=0:H>x?W=1:W=(v-H)/(v-x),z=A-(A-g)*W,$=b-(b-T)*W,K=j-(j-O)*W,V=N-(N-I)*W;const Y=Math.round(Math.min(S,z)),ee=Math.round(Math.max(S,z));let ie=h*H+Y*4;for(let se=Y;se<=ee;se++)W=(S-se)/(S-z),W<0?W=0:W>1&&(W=1),d[ie++]=q-(q-$)*W|0,d[ie++]=U-(U-K)*W|0,d[ie++]=L-(L-V)*W|0,d[ie++]=255}}function A3e(t,e,n){const r=e.coords,s=e.colors;let a,o;switch(e.type){case"lattice":const l=e.verticesPerRow,c=Math.floor(r.length/l)-1,u=l-1;for(a=0;a<c;a++){let d=a*l;for(let h=0;h<u;h++,d++)HP(t,n,r[d],r[d+1],r[d+l],s[d],s[d+1],s[d+l]),HP(t,n,r[d+l+1],r[d+1],r[d+l],s[d+l+1],s[d+1],s[d+l])}break;case"triangles":for(a=0,o=r.length;a<o;a+=3)HP(t,n,r[a],r[a+1],r[a+2],s[a],s[a+1],s[a+2]);break;default:throw new Error("illegal figure")}}class p3e extends Bz{constructor(e){super(),this._coords=e[2],this._colors=e[3],this._figures=e[4],this._bounds=e[5],this._bbox=e[7],this._background=e[8],this.matrix=null}_createMeshCanvas(e,n,r){const l=Math.floor(this._bounds[0]),c=Math.floor(this._bounds[1]),u=Math.ceil(this._bounds[2])-l,d=Math.ceil(this._bounds[3])-c,h=Math.min(Math.ceil(Math.abs(u*e[0]*1.1)),3e3),f=Math.min(Math.ceil(Math.abs(d*e[1]*1.1)),3e3),A=u/h,v=d/f,p={coords:this._coords,colors:this._colors,offsetX:-l,offsetY:-c,scaleX:1/A,scaleY:1/v},m=h+2*2,g=f+2*2,x=r.getCanvas("mesh",m,g),b=x.context,j=b.createImageData(h,f);if(n){const _=j.data;for(let C=0,k=_.length;C<k;C+=4)_[C]=n[0],_[C+1]=n[1],_[C+2]=n[2],_[C+3]=255}for(const _ of this._figures)A3e(j,_,p);return b.putImageData(j,2,2),{canvas:x.canvas,offsetX:l-2*A,offsetY:c-2*v,scaleX:A,scaleY:v}}getPattern(e,n,r,s){XR(e,this._bbox);let a;if(s===Qo.SHADING)a=un.singularValueDecompose2dScale(Xi(e));else if(a=un.singularValueDecompose2dScale(n.baseTransform),this.matrix){const l=un.singularValueDecompose2dScale(this.matrix);a=[a[0]*l[0],a[1]*l[1]]}const o=this._createMeshCanvas(a,s===Qo.SHADING?null:this._background,n.cachedCanvases);return s!==Qo.SHADING&&(e.setTransform(...n.baseTransform),this.matrix&&e.transform(...this.matrix)),e.translate(o.offsetX,o.offsetY),e.scale(o.scaleX,o.scaleY),e.createPattern(o.canvas,"no-repeat")}}class m3e extends Bz{getPattern(){return"hotpink"}}function g3e(t){switch(t[0]){case"RadialAxial":return new f3e(t);case"Mesh":return new p3e(t);case"Dummy":return new m3e}throw new Error(`Unknown IR type: ${t[0]}`)}const EG={COLORED:1,UNCOLORED:2},$T=class $T{constructor(e,n,r,s,a){this.operatorList=e[2],this.matrix=e[3],this.bbox=e[4],this.xstep=e[5],this.ystep=e[6],this.paintType=e[7],this.tilingType=e[8],this.color=n,this.ctx=r,this.canvasGraphicsFactory=s,this.baseTransform=a}createPatternCanvas(e){const{bbox:n,operatorList:r,paintType:s,tilingType:a,color:o,canvasGraphicsFactory:l}=this;let{xstep:c,ystep:u}=this;c=Math.abs(c),u=Math.abs(u),yk("TilingType: "+a);const d=n[0],h=n[1],f=n[2],A=n[3],v=f-d,p=A-h,m=un.singularValueDecompose2dScale(this.matrix),g=un.singularValueDecompose2dScale(this.baseTransform),x=m[0]*g[0],b=m[1]*g[1];let j=v,N=p,_=!1,C=!1;const k=Math.ceil(c*x),T=Math.ceil(u*b),O=Math.ceil(v*x),I=Math.ceil(p*b);k>=O?j=c:_=!0,T>=I?N=u:C=!0;const F=this.getSizeAndScale(j,this.ctx.canvas.width,x),M=this.getSizeAndScale(N,this.ctx.canvas.height,b),S=e.cachedCanvases.getCanvas("pattern",F.size,M.size),q=S.context,U=l.createCanvasGraphics(q);if(U.groupLevel=e.groupLevel,this.setFillAndStrokeStyleToContext(U,s,o),q.translate(-F.scale*d,-M.scale*h),U.transform(F.scale,0,0,M.scale,0,0),q.save(),this.clipBbox(U,d,h,f,A),U.baseTransform=Xi(U.ctx),U.executeOperatorList(r),U.endDrawing(),q.restore(),_||C){const L=S.canvas;_&&(j=c),C&&(N=u);const z=this.getSizeAndScale(j,this.ctx.canvas.width,x),$=this.getSizeAndScale(N,this.ctx.canvas.height,b),K=z.size,V=$.size,H=e.cachedCanvases.getCanvas("pattern-workaround",K,V),W=H.context,Y=_?Math.floor(v/c):0,ee=C?Math.floor(p/u):0;for(let ie=0;ie<=Y;ie++)for(let se=0;se<=ee;se++)W.drawImage(L,K*ie,V*se,K,V,0,0,K,V);return{canvas:H.canvas,scaleX:z.scale,scaleY:$.scale,offsetX:d,offsetY:h}}return{canvas:S.canvas,scaleX:F.scale,scaleY:M.scale,offsetX:d,offsetY:h}}getSizeAndScale(e,n,r){const s=Math.max($T.MAX_PATTERN_SIZE,n);let a=Math.ceil(e*r);return a>=s?a=s:r=a/e,{scale:r,size:a}}clipBbox(e,n,r,s,a){const o=s-n,l=a-r;e.ctx.rect(n,r,o,l),e.current.updateRectMinMax(Xi(e.ctx),[n,r,s,a]),e.clip(),e.endPath()}setFillAndStrokeStyleToContext(e,n,r){const s=e.ctx,a=e.current;switch(n){case EG.COLORED:const o=this.ctx;s.fillStyle=o.fillStyle,s.strokeStyle=o.strokeStyle,a.fillColor=o.fillStyle,a.strokeColor=o.strokeStyle;break;case EG.UNCOLORED:const l=un.makeHexColor(r[0],r[1],r[2]);s.fillStyle=l,s.strokeStyle=l,a.fillColor=l,a.strokeColor=l;break;default:throw new zDe(`Unsupported paint type: ${n}`)}}getPattern(e,n,r,s){let a=r;s!==Qo.SHADING&&(a=un.transform(a,n.baseTransform),this.matrix&&(a=un.transform(a,this.matrix)));const o=this.createPatternCanvas(n);let l=new DOMMatrix(a);l=l.translate(o.offsetX,o.offsetY),l=l.scale(1/o.scaleX,1/o.scaleY);const c=e.createPattern(o.canvas,"repeat");return c.setTransform(l),c}};Nn($T,"MAX_PATTERN_SIZE",3e3);let YR=$T;function x3e({src:t,srcPos:e=0,dest:n,width:r,height:s,nonBlackColor:a=4294967295,inverseDecode:o=!1}){const l=El.isLittleEndian?4278190080:255,[c,u]=o?[a,l]:[l,a],d=r>>3,h=r&7,f=t.length;n=new Uint32Array(n.buffer);let A=0;for(let v=0;v<s;v++){for(const m=e+d;e<m;e++){const g=e<f?t[e]:255;n[A++]=g&128?u:c,n[A++]=g&64?u:c,n[A++]=g&32?u:c,n[A++]=g&16?u:c,n[A++]=g&8?u:c,n[A++]=g&4?u:c,n[A++]=g&2?u:c,n[A++]=g&1?u:c}if(h===0)continue;const p=e<f?t[e++]:255;for(let m=0;m<h;m++)n[A++]=p&1<<7-m?u:c}return{srcPos:e,destPos:A}}const BG=16,DG=100,v3e=15,TG=10,kG=1e3,tc=16;function y3e(t,e){if(t._removeMirroring)throw new Error("Context is already forwarding operations.");t.__originalSave=t.save,t.__originalRestore=t.restore,t.__originalRotate=t.rotate,t.__originalScale=t.scale,t.__originalTranslate=t.translate,t.__originalTransform=t.transform,t.__originalSetTransform=t.setTransform,t.__originalResetTransform=t.resetTransform,t.__originalClip=t.clip,t.__originalMoveTo=t.moveTo,t.__originalLineTo=t.lineTo,t.__originalBezierCurveTo=t.bezierCurveTo,t.__originalRect=t.rect,t.__originalClosePath=t.closePath,t.__originalBeginPath=t.beginPath,t._removeMirroring=()=>{t.save=t.__originalSave,t.restore=t.__originalRestore,t.rotate=t.__originalRotate,t.scale=t.__originalScale,t.translate=t.__originalTranslate,t.transform=t.__originalTransform,t.setTransform=t.__originalSetTransform,t.resetTransform=t.__originalResetTransform,t.clip=t.__originalClip,t.moveTo=t.__originalMoveTo,t.lineTo=t.__originalLineTo,t.bezierCurveTo=t.__originalBezierCurveTo,t.rect=t.__originalRect,t.closePath=t.__originalClosePath,t.beginPath=t.__originalBeginPath,delete t._removeMirroring},t.save=function(){e.save(),this.__originalSave()},t.restore=function(){e.restore(),this.__originalRestore()},t.translate=function(r,s){e.translate(r,s),this.__originalTranslate(r,s)},t.scale=function(r,s){e.scale(r,s),this.__originalScale(r,s)},t.transform=function(r,s,a,o,l,c){e.transform(r,s,a,o,l,c),this.__originalTransform(r,s,a,o,l,c)},t.setTransform=function(r,s,a,o,l,c){e.setTransform(r,s,a,o,l,c),this.__originalSetTransform(r,s,a,o,l,c)},t.resetTransform=function(){e.resetTransform(),this.__originalResetTransform()},t.rotate=function(r){e.rotate(r),this.__originalRotate(r)},t.clip=function(r){e.clip(r),this.__originalClip(r)},t.moveTo=function(n,r){e.moveTo(n,r),this.__originalMoveTo(n,r)},t.lineTo=function(n,r){e.lineTo(n,r),this.__originalLineTo(n,r)},t.bezierCurveTo=function(n,r,s,a,o,l){e.bezierCurveTo(n,r,s,a,o,l),this.__originalBezierCurveTo(n,r,s,a,o,l)},t.rect=function(n,r,s,a){e.rect(n,r,s,a),this.__originalRect(n,r,s,a)},t.closePath=function(){e.closePath(),this.__originalClosePath()},t.beginPath=function(){e.beginPath(),this.__originalBeginPath()}}class b3e{constructor(e){this.canvasFactory=e,this.cache=Object.create(null)}getCanvas(e,n,r){let s;return this.cache[e]!==void 0?(s=this.cache[e],this.canvasFactory.reset(s,n,r)):(s=this.canvasFactory.create(n,r),this.cache[e]=s),s}delete(e){delete this.cache[e]}clear(){for(const e in this.cache){const n=this.cache[e];this.canvasFactory.destroy(n),delete this.cache[e]}}}function $E(t,e,n,r,s,a,o,l,c,u){const[d,h,f,A,v,p]=Xi(t);if(h===0&&f===0){const x=o*d+v,b=Math.round(x),j=l*A+p,N=Math.round(j),_=(o+c)*d+v,C=Math.abs(Math.round(_)-b)||1,k=(l+u)*A+p,T=Math.abs(Math.round(k)-N)||1;return t.setTransform(Math.sign(d),0,0,Math.sign(A),b,N),t.drawImage(e,n,r,s,a,0,0,C,T),t.setTransform(d,h,f,A,v,p),[C,T]}if(d===0&&A===0){const x=l*f+v,b=Math.round(x),j=o*h+p,N=Math.round(j),_=(l+u)*f+v,C=Math.abs(Math.round(_)-b)||1,k=(o+c)*h+p,T=Math.abs(Math.round(k)-N)||1;return t.setTransform(0,Math.sign(h),Math.sign(f),0,b,N),t.drawImage(e,n,r,s,a,0,0,T,C),t.setTransform(d,h,f,A,v,p),[T,C]}t.drawImage(e,n,r,s,a,o,l,c,u);const m=Math.hypot(d,h),g=Math.hypot(f,A);return[m*c,g*u]}function w3e(t){const{width:e,height:n}=t;if(e>kG||n>kG)return null;const r=1e3,s=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),a=e+1;let o=new Uint8Array(a*(n+1)),l,c,u;const d=e+7&-8;let h=new Uint8Array(d*n),f=0;for(const g of t.data){let x=128;for(;x>0;)h[f++]=g&x?0:255,x>>=1}let A=0;for(f=0,h[f]!==0&&(o[0]=1,++A),c=1;c<e;c++)h[f]!==h[f+1]&&(o[c]=h[f]?2:1,++A),f++;for(h[f]!==0&&(o[c]=2,++A),l=1;l<n;l++){f=l*d,u=l*a,h[f-d]!==h[f]&&(o[u]=h[f]?1:8,++A);let g=(h[f]?4:0)+(h[f-d]?8:0);for(c=1;c<e;c++)g=(g>>2)+(h[f+1]?4:0)+(h[f-d+1]?8:0),s[g]&&(o[u+c]=s[g],++A),f++;if(h[f-d]!==h[f]&&(o[u+c]=h[f]?2:4,++A),A>r)return null}for(f=d*(n-1),u=l*a,h[f]!==0&&(o[u]=8,++A),c=1;c<e;c++)h[f]!==h[f+1]&&(o[u+c]=h[f]?4:8,++A),f++;if(h[f]!==0&&(o[u+c]=4,++A),A>r)return null;const v=new Int32Array([0,a,-1,0,-a,0,0,0,1]),p=new Path2D;for(l=0;A&&l<=n;l++){let g=l*a;const x=g+e;for(;g<x&&!o[g];)g++;if(g===x)continue;p.moveTo(g%a,l);const b=g;let j=o[g];do{const N=v[j];do g+=N;while(!o[g]);const _=o[g];_!==5&&_!==10?(j=_,o[g]=0):(j=_&51*j>>4,o[g]&=j>>2|j<<2),p.lineTo(g%a,g/a|0),o[g]||--A}while(b!==g);--l}return h=null,o=null,function(g){g.save(),g.scale(1/e,-1/n),g.translate(0,-n),g.fill(p),g.beginPath(),g.restore()}}class FG{constructor(e,n){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=$de,this.textMatrixScale=1,this.fontMatrix=_R,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=To.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.patternStroke=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps="none",this.startNewPathAndClipBox([0,0,e,n])}clone(){const e=Object.create(this);return e.clipBox=this.clipBox.slice(),e}setCurrentPoint(e,n){this.x=e,this.y=n}updatePathMinMax(e,n,r){[n,r]=un.applyTransform([n,r],e),this.minX=Math.min(this.minX,n),this.minY=Math.min(this.minY,r),this.maxX=Math.max(this.maxX,n),this.maxY=Math.max(this.maxY,r)}updateRectMinMax(e,n){const r=un.applyTransform(n,e),s=un.applyTransform(n.slice(2),e),a=un.applyTransform([n[0],n[3]],e),o=un.applyTransform([n[2],n[1]],e);this.minX=Math.min(this.minX,r[0],s[0],a[0],o[0]),this.minY=Math.min(this.minY,r[1],s[1],a[1],o[1]),this.maxX=Math.max(this.maxX,r[0],s[0],a[0],o[0]),this.maxY=Math.max(this.maxY,r[1],s[1],a[1],o[1])}updateScalingPathMinMax(e,n){un.scaleMinMax(e,n),this.minX=Math.min(this.minX,n[0]),this.minY=Math.min(this.minY,n[1]),this.maxX=Math.max(this.maxX,n[2]),this.maxY=Math.max(this.maxY,n[3])}updateCurvePathMinMax(e,n,r,s,a,o,l,c,u,d){const h=un.bezierBoundingBox(n,r,s,a,o,l,c,u,d);d||this.updateRectMinMax(e,h)}getPathBoundingBox(e=Qo.FILL,n=null){const r=[this.minX,this.minY,this.maxX,this.maxY];if(e===Qo.STROKE){n||xi("Stroke bounding box must include transform.");const s=un.singularValueDecompose2dScale(n),a=s[0]*this.lineWidth/2,o=s[1]*this.lineWidth/2;r[0]-=a,r[1]-=o,r[2]+=a,r[3]+=o}return r}updateClipFromPath(){const e=un.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(e||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(e){this.clipBox=e,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(e=Qo.FILL,n=null){return un.intersect(this.clipBox,this.getPathBoundingBox(e,n))}}function PG(t,e){if(e instanceof ImageData){t.putImageData(e,0,0);return}const n=e.height,r=e.width,s=n%tc,a=(n-s)/tc,o=s===0?a:a+1,l=t.createImageData(r,tc);let c=0,u;const d=e.data,h=l.data;let f,A,v,p;if(e.kind===hB.GRAYSCALE_1BPP){const m=d.byteLength,g=new Uint32Array(h.buffer,0,h.byteLength>>2),x=g.length,b=r+7>>3,j=4294967295,N=El.isLittleEndian?4278190080:255;for(f=0;f<o;f++){for(v=f<a?tc:s,u=0,A=0;A<v;A++){const _=m-c;let C=0;const k=_>b?r:_*8-7,T=k&-8;let O=0,I=0;for(;C<T;C+=8)I=d[c++],g[u++]=I&128?j:N,g[u++]=I&64?j:N,g[u++]=I&32?j:N,g[u++]=I&16?j:N,g[u++]=I&8?j:N,g[u++]=I&4?j:N,g[u++]=I&2?j:N,g[u++]=I&1?j:N;for(;C<k;C++)O===0&&(I=d[c++],O=128),g[u++]=I&O?j:N,O>>=1}for(;u<x;)g[u++]=0;t.putImageData(l,0,f*tc)}}else if(e.kind===hB.RGBA_32BPP){for(A=0,p=r*tc*4,f=0;f<a;f++)h.set(d.subarray(c,c+p)),c+=p,t.putImageData(l,0,A),A+=tc;f<o&&(p=r*s*4,h.set(d.subarray(c,c+p)),t.putImageData(l,0,A))}else if(e.kind===hB.RGB_24BPP)for(v=tc,p=r*v,f=0;f<o;f++){for(f>=a&&(v=s,p=r*v),u=0,A=p;A--;)h[u++]=d[c++],h[u++]=d[c++],h[u++]=d[c++],h[u++]=255;t.putImageData(l,0,f*tc)}else throw new Error(`bad image kind: ${e.kind}`)}function UG(t,e){if(e.bitmap){t.drawImage(e.bitmap,0,0);return}const n=e.height,r=e.width,s=n%tc,a=(n-s)/tc,o=s===0?a:a+1,l=t.createImageData(r,tc);let c=0;const u=e.data,d=l.data;for(let h=0;h<o;h++){const f=h<a?tc:s;({srcPos:c}=x3e({src:u,srcPos:c,dest:d,width:r,height:f,nonBlackColor:0})),t.putImageData(l,0,h*tc)}}function Ij(t,e){const n=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const r of n)t[r]!==void 0&&(e[r]=t[r]);t.setLineDash!==void 0&&(e.setLineDash(t.getLineDash()),e.lineDashOffset=t.lineDashOffset)}function WE(t){if(t.strokeStyle=t.fillStyle="#000000",t.fillRule="nonzero",t.globalAlpha=1,t.lineWidth=1,t.lineCap="butt",t.lineJoin="miter",t.miterLimit=10,t.globalCompositeOperation="source-over",t.font="10px sans-serif",t.setLineDash!==void 0&&(t.setLineDash([]),t.lineDashOffset=0),!Wo){const{filter:e}=t;e!=="none"&&e!==""&&(t.filter="none")}}function IG(t,e){if(e)return!0;const n=un.singularValueDecompose2dScale(t);n[0]=Math.fround(n[0]),n[1]=Math.fround(n[1]);const r=Math.fround((globalThis.devicePixelRatio||1)*Zg.PDF_TO_CSS_UNITS);return n[0]<=r&&n[1]<=r}const j3e=["butt","round","square"],N3e=["miter","round","bevel"],_3e={},OG={};var mh,JR,ZR,e7;const lV=class lV{constructor(e,n,r,s,a,{optionalContentConfig:o,markedContentStack:l=null},c,u){be(this,mh);this.ctx=e,this.current=new FG(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=n,this.objs=r,this.canvasFactory=s,this.filterFactory=a,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=l||[],this.optionalContentConfig=o,this.cachedCanvases=new b3e(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=c,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=u,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(e,n=null){return typeof e=="string"?e.startsWith("g_")?this.commonObjs.get(e):this.objs.get(e):n}beginDrawing({transform:e,viewport:n,transparency:r=!1,background:s=null}){const a=this.ctx.canvas.width,o=this.ctx.canvas.height,l=this.ctx.fillStyle;if(this.ctx.fillStyle=s||"#ffffff",this.ctx.fillRect(0,0,a,o),this.ctx.fillStyle=l,r){const c=this.cachedCanvases.getCanvas("transparent",a,o);this.compositeCtx=this.ctx,this.transparentCanvas=c.canvas,this.ctx=c.context,this.ctx.save(),this.ctx.transform(...Xi(this.compositeCtx))}this.ctx.save(),WE(this.ctx),e&&(this.ctx.transform(...e),this.outputScaleX=e[0],this.outputScaleY=e[0]),this.ctx.transform(...n.transform),this.viewportScale=n.scale,this.baseTransform=Xi(this.ctx)}executeOperatorList(e,n,r,s){const a=e.argsArray,o=e.fnArray;let l=n||0;const c=a.length;if(c===l)return l;const u=c-l>TG&&typeof r=="function",d=u?Date.now()+v3e:0;let h=0;const f=this.commonObjs,A=this.objs;let v;for(;;){if(s!==void 0&&l===s.nextBreakPoint)return s.breakIt(l,r),l;if(v=o[l],v!==Md.dependency)this[v].apply(this,a[l]);else for(const p of a[l]){const m=p.startsWith("g_")?f:A;if(!m.has(p))return m.get(p,r),l}if(l++,l===c)return l;if(u&&++h>TG){if(Date.now()>d)return r(),l;h=0}}}endDrawing(){je(this,mh,JR).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const e of this._cachedBitmapsMap.values()){for(const n of e.values())typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement&&(n.width=n.height=0);e.clear()}this._cachedBitmapsMap.clear(),je(this,mh,ZR).call(this)}_scaleImage(e,n){const r=e.width??e.displayWidth,s=e.height??e.displayHeight;let a=Math.max(Math.hypot(n[0],n[1]),1),o=Math.max(Math.hypot(n[2],n[3]),1),l=r,c=s,u="prescale1",d,h;for(;a>2&&l>1||o>2&&c>1;){let f=l,A=c;a>2&&l>1&&(f=l>=16384?Math.floor(l/2)-1||1:Math.ceil(l/2),a/=l/f),o>2&&c>1&&(A=c>=16384?Math.floor(c/2)-1||1:Math.ceil(c)/2,o/=c/A),d=this.cachedCanvases.getCanvas(u,f,A),h=d.context,h.clearRect(0,0,f,A),h.drawImage(e,0,0,l,c,0,0,f,A),e=d.canvas,l=f,c=A,u=u==="prescale1"?"prescale2":"prescale1"}return{img:e,paintWidth:l,paintHeight:c}}_createMaskCanvas(e){const n=this.ctx,{width:r,height:s}=e,a=this.current.fillColor,o=this.current.patternFill,l=Xi(n);let c,u,d,h;if((e.bitmap||e.data)&&e.count>1){const k=e.bitmap||e.data.buffer;u=JSON.stringify(o?l:[l.slice(0,4),a]),c=this._cachedBitmapsMap.get(k),c||(c=new Map,this._cachedBitmapsMap.set(k,c));const T=c.get(u);if(T&&!o){const O=Math.round(Math.min(l[0],l[2])+l[4]),I=Math.round(Math.min(l[1],l[3])+l[5]);return{canvas:T,offsetX:O,offsetY:I}}d=T}d||(h=this.cachedCanvases.getCanvas("maskCanvas",r,s),UG(h.context,e));let f=un.transform(l,[1/r,0,0,-1/s,0,0]);f=un.transform(f,[1,0,0,1,0,-s]);const[A,v,p,m]=un.getAxialAlignedBoundingBox([0,0,r,s],f),g=Math.round(p-A)||1,x=Math.round(m-v)||1,b=this.cachedCanvases.getCanvas("fillCanvas",g,x),j=b.context,N=A,_=v;j.translate(-N,-_),j.transform(...f),d||(d=this._scaleImage(h.canvas,Vh(j)),d=d.img,c&&o&&c.set(u,d)),j.imageSmoothingEnabled=IG(Xi(j),e.interpolate),$E(j,d,0,0,d.width,d.height,0,0,r,s),j.globalCompositeOperation="source-in";const C=un.transform(Vh(j),[1,0,0,1,-N,-_]);return j.fillStyle=o?a.getPattern(n,this,C,Qo.FILL):a,j.fillRect(0,0,r,s),c&&!o&&(this.cachedCanvases.delete("fillCanvas"),c.set(u,b.canvas)),{canvas:b.canvas,offsetX:Math.round(N),offsetY:Math.round(_)}}setLineWidth(e){e!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=e,this.ctx.lineWidth=e}setLineCap(e){this.ctx.lineCap=j3e[e]}setLineJoin(e){this.ctx.lineJoin=N3e[e]}setMiterLimit(e){this.ctx.miterLimit=e}setDash(e,n){const r=this.ctx;r.setLineDash!==void 0&&(r.setLineDash(e),r.lineDashOffset=n)}setRenderingIntent(e){}setFlatness(e){}setGState(e){for(const[n,r]of e)switch(n){case"LW":this.setLineWidth(r);break;case"LC":this.setLineCap(r);break;case"LJ":this.setLineJoin(r);break;case"ML":this.setMiterLimit(r);break;case"D":this.setDash(r[0],r[1]);break;case"RI":this.setRenderingIntent(r);break;case"FL":this.setFlatness(r);break;case"Font":this.setFont(r[0],r[1]);break;case"CA":this.current.strokeAlpha=r;break;case"ca":this.current.fillAlpha=r,this.ctx.globalAlpha=r;break;case"BM":this.ctx.globalCompositeOperation=r;break;case"SMask":this.current.activeSMask=r?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(r);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const e=this.inSMaskMode;this.current.activeSMask&&!e?this.beginSMaskMode():!this.current.activeSMask&&e&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const e=this.ctx.canvas.width,n=this.ctx.canvas.height,r="smaskGroupAt"+this.groupLevel,s=this.cachedCanvases.getCanvas(r,e,n);this.suspendedCtx=this.ctx,this.ctx=s.context;const a=this.ctx;a.setTransform(...Xi(this.suspendedCtx)),Ij(this.suspendedCtx,a),y3e(a,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),Ij(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(e){if(!this.current.activeSMask)return;e?(e[0]=Math.floor(e[0]),e[1]=Math.floor(e[1]),e[2]=Math.ceil(e[2]),e[3]=Math.ceil(e[3])):e=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const n=this.current.activeSMask,r=this.suspendedCtx;this.composeSMask(r,n,this.ctx,e),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}composeSMask(e,n,r,s){const a=s[0],o=s[1],l=s[2]-a,c=s[3]-o;l===0||c===0||(this.genericComposeSMask(n.context,r,l,c,n.subtype,n.backdrop,n.transferMap,a,o,n.offsetX,n.offsetY),e.save(),e.globalAlpha=1,e.globalCompositeOperation="source-over",e.setTransform(1,0,0,1,0,0),e.drawImage(r.canvas,0,0),e.restore())}genericComposeSMask(e,n,r,s,a,o,l,c,u,d,h){let f=e.canvas,A=c-d,v=u-h;if(o){const m=un.makeHexColor(...o);if(A<0||v<0||A+r>f.width||v+s>f.height){const g=this.cachedCanvases.getCanvas("maskExtension",r,s),x=g.context;x.drawImage(f,-A,-v),x.globalCompositeOperation="destination-atop",x.fillStyle=m,x.fillRect(0,0,r,s),x.globalCompositeOperation="source-over",f=g.canvas,A=v=0}else{e.save(),e.globalAlpha=1,e.setTransform(1,0,0,1,0,0);const g=new Path2D;g.rect(A,v,r,s),e.clip(g),e.globalCompositeOperation="destination-atop",e.fillStyle=m,e.fillRect(A,v,r,s),e.restore()}}n.save(),n.globalAlpha=1,n.setTransform(1,0,0,1,0,0),a==="Alpha"&&l?n.filter=this.filterFactory.addAlphaFilter(l):a==="Luminosity"&&(n.filter=this.filterFactory.addLuminosityFilter(l));const p=new Path2D;p.rect(c,u,r,s),n.clip(p),n.globalCompositeOperation="destination-in",n.drawImage(f,A,v,r,s,c,u,r,s),n.restore()}save(){this.inSMaskMode?(Ij(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const e=this.current;this.stateStack.push(e),this.current=e.clone()}restore(){this.stateStack.length===0&&this.inSMaskMode&&this.endSMaskMode(),this.stateStack.length!==0&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),Ij(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null)}transform(e,n,r,s,a,o){this.ctx.transform(e,n,r,s,a,o),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(e,n,r){const s=this.ctx,a=this.current;let o=a.x,l=a.y,c,u;const d=Xi(s),h=d[0]===0&&d[3]===0||d[1]===0&&d[2]===0,f=h?r.slice(0):null;for(let A=0,v=0,p=e.length;A<p;A++)switch(e[A]|0){case Md.rectangle:o=n[v++],l=n[v++];const m=n[v++],g=n[v++],x=o+m,b=l+g;s.moveTo(o,l),m===0||g===0?s.lineTo(x,b):(s.lineTo(x,l),s.lineTo(x,b),s.lineTo(o,b)),h||a.updateRectMinMax(d,[o,l,x,b]),s.closePath();break;case Md.moveTo:o=n[v++],l=n[v++],s.moveTo(o,l),h||a.updatePathMinMax(d,o,l);break;case Md.lineTo:o=n[v++],l=n[v++],s.lineTo(o,l),h||a.updatePathMinMax(d,o,l);break;case Md.curveTo:c=o,u=l,o=n[v+4],l=n[v+5],s.bezierCurveTo(n[v],n[v+1],n[v+2],n[v+3],o,l),a.updateCurvePathMinMax(d,c,u,n[v],n[v+1],n[v+2],n[v+3],o,l,f),v+=6;break;case Md.curveTo2:c=o,u=l,s.bezierCurveTo(o,l,n[v],n[v+1],n[v+2],n[v+3]),a.updateCurvePathMinMax(d,c,u,o,l,n[v],n[v+1],n[v+2],n[v+3],f),o=n[v+2],l=n[v+3],v+=4;break;case Md.curveTo3:c=o,u=l,o=n[v+2],l=n[v+3],s.bezierCurveTo(n[v],n[v+1],o,l,o,l),a.updateCurvePathMinMax(d,c,u,n[v],n[v+1],o,l,o,l,f),v+=4;break;case Md.closePath:s.closePath();break}h&&a.updateScalingPathMinMax(d,f),a.setCurrentPoint(o,l)}closePath(){this.ctx.closePath()}stroke(e=!0){const n=this.ctx,r=this.current.strokeColor;n.globalAlpha=this.current.strokeAlpha,this.contentVisible&&(typeof r=="object"&&(r!=null&&r.getPattern)?(n.save(),n.strokeStyle=r.getPattern(n,this,Vh(n),Qo.STROKE),this.rescaleAndStroke(!1),n.restore()):this.rescaleAndStroke(!0)),e&&this.consumePath(this.current.getClippedPathBoundingBox()),n.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(e=!0){const n=this.ctx,r=this.current.fillColor,s=this.current.patternFill;let a=!1;s&&(n.save(),n.fillStyle=r.getPattern(n,this,Vh(n),Qo.FILL),a=!0);const o=this.current.getClippedPathBoundingBox();this.contentVisible&&o!==null&&(this.pendingEOFill?(n.fill("evenodd"),this.pendingEOFill=!1):n.fill()),a&&n.restore(),e&&this.consumePath(o)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=_3e}eoClip(){this.pendingClip=OG}beginText(){this.current.textMatrix=$de,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const e=this.pendingTextPaths,n=this.ctx;if(e===void 0){n.beginPath();return}const r=new Path2D,s=n.getTransform().invertSelf();for(const{transform:a,x:o,y:l,fontSize:c,path:u}of e)r.addPath(u,new DOMMatrix(a).preMultiplySelf(s).translate(o,l).scale(c,-c));n.clip(r),n.beginPath(),delete this.pendingTextPaths}setCharSpacing(e){this.current.charSpacing=e}setWordSpacing(e){this.current.wordSpacing=e}setHScale(e){this.current.textHScale=e/100}setLeading(e){this.current.leading=-e}setFont(e,n){var d;const r=this.commonObjs.get(e),s=this.current;if(!r)throw new Error(`Can't find font for ${e}`);if(s.fontMatrix=r.fontMatrix||_R,(s.fontMatrix[0]===0||s.fontMatrix[3]===0)&&Yn("Invalid font matrix for font "+e),n<0?(n=-n,s.fontDirection=-1):s.fontDirection=1,this.current.font=r,this.current.fontSize=n,r.isType3Font)return;const a=r.loadedName||"sans-serif",o=((d=r.systemFontInfo)==null?void 0:d.css)||`"${a}", ${r.fallbackName}`;let l="normal";r.black?l="900":r.bold&&(l="bold");const c=r.italic?"italic":"normal";let u=n;n<BG?u=BG:n>DG&&(u=DG),this.current.fontSizeScale=n/u,this.ctx.font=`${c} ${l} ${u}px ${o}`}setTextRenderingMode(e){this.current.textRenderingMode=e}setTextRise(e){this.current.textRise=e}moveText(e,n){this.current.x=this.current.lineX+=e,this.current.y=this.current.lineY+=n}setLeadingMoveText(e,n){this.setLeading(-n),this.moveText(e,n)}setTextMatrix(e,n,r,s,a,o){this.current.textMatrix=[e,n,r,s,a,o],this.current.textMatrixScale=Math.hypot(e,n),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(e,n,r,s,a){const o=this.ctx,l=this.current,c=l.font,u=l.textRenderingMode,d=l.fontSize/l.fontSizeScale,h=u&To.FILL_STROKE_MASK,f=!!(u&To.ADD_TO_PATH_FLAG),A=l.patternFill&&!c.missingFile,v=l.patternStroke&&!c.missingFile;let p;if((c.disableFontFace||f||A||v)&&(p=c.getPathGenerator(this.commonObjs,e)),c.disableFontFace||A||v){if(o.save(),o.translate(n,r),o.scale(d,-d),h===To.FILL||h===To.FILL_STROKE)if(s){const m=o.getTransform();o.setTransform(...s),o.fill(je(this,mh,e7).call(this,p,m,s))}else o.fill(p);if(h===To.STROKE||h===To.FILL_STROKE)if(a){const m=o.getTransform();o.setTransform(...a),o.stroke(je(this,mh,e7).call(this,p,m,a))}else o.lineWidth/=d,o.stroke(p);o.restore()}else(h===To.FILL||h===To.FILL_STROKE)&&o.fillText(e,n,r),(h===To.STROKE||h===To.FILL_STROKE)&&o.strokeText(e,n,r);f&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:Xi(o),x:n,y:r,fontSize:d,path:p})}get isFontSubpixelAAEnabled(){const{context:e}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);e.scale(1.5,1),e.fillText("I",0,10);const n=e.getImageData(0,0,10,10).data;let r=!1;for(let s=3;s<n.length;s+=4)if(n[s]>0&&n[s]<255){r=!0;break}return or(this,"isFontSubpixelAAEnabled",r)}showText(e){const n=this.current,r=n.font;if(r.isType3Font)return this.showType3Text(e);const s=n.fontSize;if(s===0)return;const a=this.ctx,o=n.fontSizeScale,l=n.charSpacing,c=n.wordSpacing,u=n.fontDirection,d=n.textHScale*u,h=e.length,f=r.vertical,A=f?1:-1,v=r.defaultVMetrics,p=s*n.fontMatrix[0],m=n.textRenderingMode===To.FILL&&!r.disableFontFace&&!n.patternFill;a.save(),a.transform(...n.textMatrix),a.translate(n.x,n.y+n.textRise),u>0?a.scale(d,-1):a.scale(d,1);let g,x;if(n.patternFill){a.save();const C=n.fillColor.getPattern(a,this,Vh(a),Qo.FILL);g=Xi(a),a.restore(),a.fillStyle=C}if(n.patternStroke){a.save();const C=n.strokeColor.getPattern(a,this,Vh(a),Qo.STROKE);x=Xi(a),a.restore(),a.strokeStyle=C}let b=n.lineWidth;const j=n.textMatrixScale;if(j===0||b===0){const C=n.textRenderingMode&To.FILL_STROKE_MASK;(C===To.STROKE||C===To.FILL_STROKE)&&(b=this.getSinglePixelWidth())}else b/=j;if(o!==1&&(a.scale(o,o),b/=o),a.lineWidth=b,r.isInvalidPDFjsFont){const C=[];let k=0;for(const T of e)C.push(T.unicode),k+=T.width;a.fillText(C.join(""),0,0),n.x+=k*p*d,a.restore(),this.compose();return}let N=0,_;for(_=0;_<h;++_){const C=e[_];if(typeof C=="number"){N+=A*C*s/1e3;continue}let k=!1;const T=(C.isSpace?c:0)+l,O=C.fontChar,I=C.accent;let F,M,S=C.width;if(f){const U=C.vmetric||v,L=-(C.vmetric?U[1]:S*.5)*p,z=U[2]*p;S=U?-U[0]:S,F=L/o,M=(N+z)/o}else F=N/o,M=0;if(r.remeasure&&S>0){const U=a.measureText(O).width*1e3/s*o;if(S<U&&this.isFontSubpixelAAEnabled){const L=S/U;k=!0,a.save(),a.scale(L,1),F/=L}else S!==U&&(F+=(S-U)/2e3*s/o)}if(this.contentVisible&&(C.isInFont||r.missingFile)){if(m&&!I)a.fillText(O,F,M);else if(this.paintChar(O,F,M,g,x),I){const U=F+s*I.offset.x/o,L=M-s*I.offset.y/o;this.paintChar(I.fontChar,U,L,g,x)}}const q=f?S*p-T*u:S*p+T*u;N+=q,k&&a.restore()}f?n.y-=N:n.x+=N*d,a.restore(),this.compose()}showType3Text(e){const n=this.ctx,r=this.current,s=r.font,a=r.fontSize,o=r.fontDirection,l=s.vertical?1:-1,c=r.charSpacing,u=r.wordSpacing,d=r.textHScale*o,h=r.fontMatrix||_R,f=e.length,A=r.textRenderingMode===To.INVISIBLE;let v,p,m,g;if(!(A||a===0)){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,n.save(),n.transform(...r.textMatrix),n.translate(r.x,r.y),n.scale(d,o),v=0;v<f;++v){if(p=e[v],typeof p=="number"){g=l*p*a/1e3,this.ctx.translate(g,0),r.x+=g*d;continue}const x=(p.isSpace?u:0)+c,b=s.charProcOperatorList[p.operatorListId];if(!b){Yn(`Type3 character "${p.operatorListId}" is not available.`);continue}this.contentVisible&&(this.processingType3=p,this.save(),n.scale(a,a),n.transform(...h),this.executeOperatorList(b),this.restore()),m=un.applyTransform([p.width,0],h)[0]*a+x,n.translate(m,0),r.x+=m*d}n.restore(),this.processingType3=null}}setCharWidth(e,n){}setCharWidthAndBounds(e,n,r,s,a,o){this.ctx.rect(r,s,a-r,o-s),this.ctx.clip(),this.endPath()}getColorN_Pattern(e){let n;if(e[0]==="TilingPattern"){const r=e[1],s=this.baseTransform||Xi(this.ctx),a={createCanvasGraphics:o=>new lV(o,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};n=new YR(e,r,this.ctx,a,s)}else n=this._getPattern(e[1],e[2]);return n}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments),this.current.patternStroke=!0}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(e,n,r){this.ctx.strokeStyle=this.current.strokeColor=un.makeHexColor(e,n,r),this.current.patternStroke=!1}setStrokeTransparent(){this.ctx.strokeStyle=this.current.strokeColor="transparent",this.current.patternStroke=!1}setFillRGBColor(e,n,r){this.ctx.fillStyle=this.current.fillColor=un.makeHexColor(e,n,r),this.current.patternFill=!1}setFillTransparent(){this.ctx.fillStyle=this.current.fillColor="transparent",this.current.patternFill=!1}_getPattern(e,n=null){let r;return this.cachedPatterns.has(e)?r=this.cachedPatterns.get(e):(r=g3e(this.getObject(e)),this.cachedPatterns.set(e,r)),n&&(r.matrix=n),r}shadingFill(e){if(!this.contentVisible)return;const n=this.ctx;this.save();const r=this._getPattern(e);n.fillStyle=r.getPattern(n,this,Vh(n),Qo.SHADING);const s=Vh(n);if(s){const{width:a,height:o}=n.canvas,[l,c,u,d]=un.getAxialAlignedBoundingBox([0,0,a,o],s);this.ctx.fillRect(l,c,u-l,d-c)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){xi("Should not call beginInlineImage")}beginImageData(){xi("Should not call beginImageData")}paintFormXObjectBegin(e,n){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),e&&this.transform(...e),this.baseTransform=Xi(this.ctx),n)){const r=n[2]-n[0],s=n[3]-n[1];this.ctx.rect(n[0],n[1],r,s),this.current.updateRectMinMax(Xi(this.ctx),n),this.clip(),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(e){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const n=this.ctx;e.isolated||yk("TODO: Support non-isolated groups."),e.knockout&&Yn("Knockout groups not supported.");const r=Xi(n);if(e.matrix&&n.transform(...e.matrix),!e.bbox)throw new Error("Bounding box is required.");let s=un.getAxialAlignedBoundingBox(e.bbox,Xi(n));const a=[0,0,n.canvas.width,n.canvas.height];s=un.intersect(s,a)||[0,0,0,0];const o=Math.floor(s[0]),l=Math.floor(s[1]),c=Math.max(Math.ceil(s[2])-o,1),u=Math.max(Math.ceil(s[3])-l,1);this.current.startNewPathAndClipBox([0,0,c,u]);let d="groupAt"+this.groupLevel;e.smask&&(d+="_smask_"+this.smaskCounter++%2);const h=this.cachedCanvases.getCanvas(d,c,u),f=h.context;f.translate(-o,-l),f.transform(...r),e.smask?this.smaskStack.push({canvas:h.canvas,context:f,offsetX:o,offsetY:l,subtype:e.smask.subtype,backdrop:e.smask.backdrop,transferMap:e.smask.transferMap||null,startTransformInverse:null}):(n.setTransform(1,0,0,1,0,0),n.translate(o,l),n.save()),Ij(n,f),this.ctx=f,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(n),this.groupLevel++}endGroup(e){if(!this.contentVisible)return;this.groupLevel--;const n=this.ctx,r=this.groupStack.pop();if(this.ctx=r,this.ctx.imageSmoothingEnabled=!1,e.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const s=Xi(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...s);const a=un.getAxialAlignedBoundingBox([0,0,n.canvas.width,n.canvas.height],s);this.ctx.drawImage(n.canvas,0,0),this.ctx.restore(),this.compose(a)}}beginAnnotation(e,n,r,s,a){if(je(this,mh,JR).call(this),WE(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),n){const o=n[2]-n[0],l=n[3]-n[1];if(a&&this.annotationCanvasMap){r=r.slice(),r[4]-=n[0],r[5]-=n[1],n=n.slice(),n[0]=n[1]=0,n[2]=o,n[3]=l;const[c,u]=un.singularValueDecompose2dScale(Xi(this.ctx)),{viewportScale:d}=this,h=Math.ceil(o*this.outputScaleX*d),f=Math.ceil(l*this.outputScaleY*d);this.annotationCanvas=this.canvasFactory.create(h,f);const{canvas:A,context:v}=this.annotationCanvas;this.annotationCanvasMap.set(e,A),this.annotationCanvas.savedCtx=this.ctx,this.ctx=v,this.ctx.save(),this.ctx.setTransform(c,0,0,-u,0,l*u),WE(this.ctx)}else WE(this.ctx),this.endPath(),this.ctx.rect(n[0],n[1],o,l),this.ctx.clip(),this.ctx.beginPath()}this.current=new FG(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...r),this.transform(...s)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),je(this,mh,ZR).call(this),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(e){if(!this.contentVisible)return;const n=e.count;e=this.getObject(e.data,e),e.count=n;const r=this.ctx,s=this.processingType3;if(s&&(s.compiled===void 0&&(s.compiled=w3e(e)),s.compiled)){s.compiled(r);return}const a=this._createMaskCanvas(e),o=a.canvas;r.save(),r.setTransform(1,0,0,1,0,0),r.drawImage(o,a.offsetX,a.offsetY),r.restore(),this.compose()}paintImageMaskXObjectRepeat(e,n,r=0,s=0,a,o){if(!this.contentVisible)return;e=this.getObject(e.data,e);const l=this.ctx;l.save();const c=Xi(l);l.transform(n,r,s,a,0,0);const u=this._createMaskCanvas(e);l.setTransform(1,0,0,1,u.offsetX-c[4],u.offsetY-c[5]);for(let d=0,h=o.length;d<h;d+=2){const f=un.transform(c,[n,r,s,a,o[d],o[d+1]]),[A,v]=un.applyTransform([0,0],f);l.drawImage(u.canvas,A,v)}l.restore(),this.compose()}paintImageMaskXObjectGroup(e){if(!this.contentVisible)return;const n=this.ctx,r=this.current.fillColor,s=this.current.patternFill;for(const a of e){const{data:o,width:l,height:c,transform:u}=a,d=this.cachedCanvases.getCanvas("maskCanvas",l,c),h=d.context;h.save();const f=this.getObject(o,a);UG(h,f),h.globalCompositeOperation="source-in",h.fillStyle=s?r.getPattern(h,this,Vh(n),Qo.FILL):r,h.fillRect(0,0,l,c),h.restore(),n.save(),n.transform(...u),n.scale(1,-1),$E(n,d.canvas,0,0,l,c,0,-1,1,1),n.restore()}this.compose()}paintImageXObject(e){if(!this.contentVisible)return;const n=this.getObject(e);if(!n){Yn("Dependent image isn't ready yet");return}this.paintInlineImageXObject(n)}paintImageXObjectRepeat(e,n,r,s){if(!this.contentVisible)return;const a=this.getObject(e);if(!a){Yn("Dependent image isn't ready yet");return}const o=a.width,l=a.height,c=[];for(let u=0,d=s.length;u<d;u+=2)c.push({transform:[n,0,0,r,s[u],s[u+1]],x:0,y:0,w:o,h:l});this.paintInlineImageXObjectGroup(a,c)}applyTransferMapsToCanvas(e){return this.current.transferMaps!=="none"&&(e.filter=this.current.transferMaps,e.drawImage(e.canvas,0,0),e.filter="none"),e.canvas}applyTransferMapsToBitmap(e){if(this.current.transferMaps==="none")return e.bitmap;const{bitmap:n,width:r,height:s}=e,a=this.cachedCanvases.getCanvas("inlineImage",r,s),o=a.context;return o.filter=this.current.transferMaps,o.drawImage(n,0,0),o.filter="none",a.canvas}paintInlineImageXObject(e){if(!this.contentVisible)return;const n=e.width,r=e.height,s=this.ctx;if(this.save(),!Wo){const{filter:l}=s;l!=="none"&&l!==""&&(s.filter="none")}s.scale(1/n,-1/r);let a;if(e.bitmap)a=this.applyTransferMapsToBitmap(e);else if(typeof HTMLElement=="function"&&e instanceof HTMLElement||!e.data)a=e;else{const c=this.cachedCanvases.getCanvas("inlineImage",n,r).context;PG(c,e),a=this.applyTransferMapsToCanvas(c)}const o=this._scaleImage(a,Vh(s));s.imageSmoothingEnabled=IG(Xi(s),e.interpolate),$E(s,o.img,0,0,o.paintWidth,o.paintHeight,0,-r,n,r),this.compose(),this.restore()}paintInlineImageXObjectGroup(e,n){if(!this.contentVisible)return;const r=this.ctx;let s;if(e.bitmap)s=e.bitmap;else{const a=e.width,o=e.height,c=this.cachedCanvases.getCanvas("inlineImage",a,o).context;PG(c,e),s=this.applyTransferMapsToCanvas(c)}for(const a of n)r.save(),r.transform(...a.transform),r.scale(1,-1),$E(r,s,a.x,a.y,a.w,a.h,0,-1,1,1),r.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(e){}markPointProps(e,n){}beginMarkedContent(e){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(e,n){e==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(n)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(e){const n=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(e);const r=this.ctx;this.pendingClip&&(n||(this.pendingClip===OG?r.clip("evenodd"):r.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),r.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const e=Xi(this.ctx);if(e[1]===0&&e[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(e[0]),Math.abs(e[3]));else{const n=Math.abs(e[0]*e[3]-e[2]*e[1]),r=Math.hypot(e[0],e[2]),s=Math.hypot(e[1],e[3]);this._cachedGetSinglePixelWidth=Math.max(r,s)/n}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:e}=this.current,{a:n,b:r,c:s,d:a}=this.ctx.getTransform();let o,l;if(r===0&&s===0){const c=Math.abs(n),u=Math.abs(a);if(c===u)if(e===0)o=l=1/c;else{const d=c*e;o=l=d<1?1/d:1}else if(e===0)o=1/c,l=1/u;else{const d=c*e,h=u*e;o=d<1?1/d:1,l=h<1?1/h:1}}else{const c=Math.abs(n*a-r*s),u=Math.hypot(n,r),d=Math.hypot(s,a);if(e===0)o=d/c,l=u/c;else{const h=e*c;o=d>h?d/h:1,l=u>h?u/h:1}}this._cachedScaleForStroking[0]=o,this._cachedScaleForStroking[1]=l}return this._cachedScaleForStroking}rescaleAndStroke(e){const{ctx:n}=this,{lineWidth:r}=this.current,[s,a]=this.getScaleForStroking();if(n.lineWidth=r||1,s===1&&a===1){n.stroke();return}const o=n.getLineDash();if(e&&n.save(),n.scale(s,a),o.length>0){const l=Math.max(s,a);n.setLineDash(o.map(c=>c/l)),n.lineDashOffset/=l}n.stroke(),e&&n.restore()}isContentVisible(){for(let e=this.markedContentStack.length-1;e>=0;e--)if(!this.markedContentStack[e].visible)return!1;return!0}};mh=new WeakSet,JR=function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.current.activeSMask=null,this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)},ZR=function(){if(this.pageColors){const e=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(e!=="none"){const n=this.ctx.filter;this.ctx.filter=e,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=n}}},e7=function(e,n,r){const s=new Path2D;return s.addPath(e,new DOMMatrix(r).invertSelf().multiplySelf(n)),s};let y1=lV;for(const t in Md)y1.prototype[t]!==void 0&&(y1.prototype[Md[t]]=y1.prototype[t]);var pC,mC;class cp{static get workerPort(){return B(this,pC)}static set workerPort(e){if(!(typeof Worker<"u"&&e instanceof Worker)&&e!==null)throw new Error("Invalid `workerPort` type.");le(this,pC,e)}static get workerSrc(){return B(this,mC)}static set workerSrc(e){if(typeof e!="string")throw new Error("Invalid `workerSrc` type.");le(this,mC,e)}}pC=new WeakMap,mC=new WeakMap,be(cp,pC,null),be(cp,mC,"");var d0,gC;class C3e{constructor({parsedData:e,rawData:n}){be(this,d0);be(this,gC);le(this,d0,e),le(this,gC,n)}getRaw(){return B(this,gC)}get(e){return B(this,d0).get(e)??null}getAll(){return wz(B(this,d0))}has(e){return B(this,d0).has(e)}}d0=new WeakMap,gC=new WeakMap;const zb=Symbol("INTERNAL");var xC,vC,yC,ew;class S3e{constructor(e,{name:n,intent:r,usage:s,rbGroups:a}){be(this,xC,!1);be(this,vC,!1);be(this,yC,!1);be(this,ew,!0);le(this,xC,!!(e&Lc.DISPLAY)),le(this,vC,!!(e&Lc.PRINT)),this.name=n,this.intent=r,this.usage=s,this.rbGroups=a}get visible(){if(B(this,yC))return B(this,ew);if(!B(this,ew))return!1;const{print:e,view:n}=this.usage;return B(this,xC)?(n==null?void 0:n.viewState)!=="OFF":B(this,vC)?(e==null?void 0:e.printState)!=="OFF":!0}_setVisible(e,n,r=!1){e!==zb&&xi("Internal method `_setVisible` called."),le(this,yC,r),le(this,ew,n)}}xC=new WeakMap,vC=new WeakMap,yC=new WeakMap,ew=new WeakMap;var mg,Zr,tw,nw,bC,t7;class E3e{constructor(e,n=Lc.DISPLAY){be(this,bC);be(this,mg,null);be(this,Zr,new Map);be(this,tw,null);be(this,nw,null);if(this.renderingIntent=n,this.name=null,this.creator=null,e!==null){this.name=e.name,this.creator=e.creator,le(this,nw,e.order);for(const r of e.groups)B(this,Zr).set(r.id,new S3e(n,r));if(e.baseState==="OFF")for(const r of B(this,Zr).values())r._setVisible(zb,!1);for(const r of e.on)B(this,Zr).get(r)._setVisible(zb,!0);for(const r of e.off)B(this,Zr).get(r)._setVisible(zb,!1);le(this,tw,this.getHash())}}isVisible(e){if(B(this,Zr).size===0)return!0;if(!e)return yk("Optional content group not defined."),!0;if(e.type==="OCG")return B(this,Zr).has(e.id)?B(this,Zr).get(e.id).visible:(Yn(`Optional content group not found: ${e.id}`),!0);if(e.type==="OCMD"){if(e.expression)return je(this,bC,t7).call(this,e.expression);if(!e.policy||e.policy==="AnyOn"){for(const n of e.ids){if(!B(this,Zr).has(n))return Yn(`Optional content group not found: ${n}`),!0;if(B(this,Zr).get(n).visible)return!0}return!1}else if(e.policy==="AllOn"){for(const n of e.ids){if(!B(this,Zr).has(n))return Yn(`Optional content group not found: ${n}`),!0;if(!B(this,Zr).get(n).visible)return!1}return!0}else if(e.policy==="AnyOff"){for(const n of e.ids){if(!B(this,Zr).has(n))return Yn(`Optional content group not found: ${n}`),!0;if(!B(this,Zr).get(n).visible)return!0}return!1}else if(e.policy==="AllOff"){for(const n of e.ids){if(!B(this,Zr).has(n))return Yn(`Optional content group not found: ${n}`),!0;if(B(this,Zr).get(n).visible)return!1}return!0}return Yn(`Unknown optional content policy ${e.policy}.`),!0}return Yn(`Unknown group type ${e.type}.`),!0}setVisibility(e,n=!0,r=!0){var a;const s=B(this,Zr).get(e);if(!s){Yn(`Optional content group not found: ${e}`);return}if(r&&n&&s.rbGroups.length)for(const o of s.rbGroups)for(const l of o)l!==e&&((a=B(this,Zr).get(l))==null||a._setVisible(zb,!1,!0));s._setVisible(zb,!!n,!0),le(this,mg,null)}setOCGState({state:e,preserveRB:n}){let r;for(const s of e){switch(s){case"ON":case"OFF":case"Toggle":r=s;continue}const a=B(this,Zr).get(s);if(a)switch(r){case"ON":this.setVisibility(s,!0,n);break;case"OFF":this.setVisibility(s,!1,n);break;case"Toggle":this.setVisibility(s,!a.visible,n);break}}le(this,mg,null)}get hasInitialVisibility(){return B(this,tw)===null||this.getHash()===B(this,tw)}getOrder(){return B(this,Zr).size?B(this,nw)?B(this,nw).slice():[...B(this,Zr).keys()]:null}getGroups(){return B(this,Zr).size>0?wz(B(this,Zr)):null}getGroup(e){return B(this,Zr).get(e)||null}getHash(){if(B(this,mg)!==null)return B(this,mg);const e=new bhe;for(const[n,r]of B(this,Zr))e.update(`${n}:${r.visible}`);return le(this,mg,e.hexdigest())}}mg=new WeakMap,Zr=new WeakMap,tw=new WeakMap,nw=new WeakMap,bC=new WeakSet,t7=function(e){const n=e.length;if(n<2)return!0;const r=e[0];for(let s=1;s<n;s++){const a=e[s];let o;if(Array.isArray(a))o=je(this,bC,t7).call(this,a);else if(B(this,Zr).has(a))o=B(this,Zr).get(a).visible;else return Yn(`Optional content group not found: ${a}`),!0;switch(r){case"And":if(!o)return!1;break;case"Or":if(o)return!0;break;case"Not":return!o;default:return!0}}return r==="And"};class B3e{constructor(e,{disableRange:n=!1,disableStream:r=!1}){Xs(e,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.');const{length:s,initialData:a,progressiveDone:o,contentDispositionFilename:l}=e;if(this._queuedChunks=[],this._progressiveDone=o,this._contentDispositionFilename=l,(a==null?void 0:a.length)>0){const c=a instanceof Uint8Array&&a.byteLength===a.buffer.byteLength?a.buffer:new Uint8Array(a).buffer;this._queuedChunks.push(c)}this._pdfDataRangeTransport=e,this._isStreamingSupported=!r,this._isRangeSupported=!n,this._contentLength=s,this._fullRequestReader=null,this._rangeReaders=[],e.addRangeListener((c,u)=>{this._onReceiveData({begin:c,chunk:u})}),e.addProgressListener((c,u)=>{this._onProgress({loaded:c,total:u})}),e.addProgressiveReadListener(c=>{this._onReceiveData({chunk:c})}),e.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),e.transportReady()}_onReceiveData({begin:e,chunk:n}){const r=n instanceof Uint8Array&&n.byteLength===n.buffer.byteLength?n.buffer:new Uint8Array(n).buffer;if(e===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(r):this._queuedChunks.push(r);else{const s=this._rangeReaders.some(function(a){return a._begin!==e?!1:(a._enqueue(r),!0)});Xs(s,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}_onProgress(e){var n,r,s,a;e.total===void 0?(r=(n=this._rangeReaders[0])==null?void 0:n.onProgress)==null||r.call(n,{loaded:e.loaded}):(a=(s=this._fullRequestReader)==null?void 0:s.onProgress)==null||a.call(s,{loaded:e.loaded,total:e.total})}_onProgressiveDone(){var e;(e=this._fullRequestReader)==null||e.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(e){const n=this._rangeReaders.indexOf(e);n>=0&&this._rangeReaders.splice(n,1)}getFullReader(){Xs(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const e=this._queuedChunks;return this._queuedChunks=null,new D3e(this,e,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(e,n){if(n<=this._progressiveDataLength)return null;const r=new T3e(this,e,n);return this._pdfDataRangeTransport.requestDataRange(e,n),this._rangeReaders.push(r),r}cancelAllRequests(e){var n;(n=this._fullRequestReader)==null||n.cancel(e);for(const r of this._rangeReaders.slice(0))r.cancel(e);this._pdfDataRangeTransport.abort()}}class D3e{constructor(e,n,r=!1,s=null){this._stream=e,this._done=r||!1,this._filename=_z(s)?s:null,this._queuedChunks=n||[],this._loaded=0;for(const a of this._queuedChunks)this._loaded+=a.byteLength;this._requests=[],this._headersReady=Promise.resolve(),e._fullRequestReader=this,this.onProgress=null}_enqueue(e){this._done||(this._requests.length>0?this._requests.shift().resolve({value:e,done:!1}):this._queuedChunks.push(e),this._loaded+=e.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class T3e{constructor(e,n,r){this._stream=e,this._begin=n,this._end=r,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(e){if(!this._done){if(this._requests.length===0)this._queuedChunk=e;else{this._requests.shift().resolve({value:e,done:!1});for(const r of this._requests)r.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const n=this._queuedChunk;return this._queuedChunk=null,{value:n,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}function k3e(t){let e=!0,n=r("filename\\*","i").exec(t);if(n){n=n[1];let d=l(n);return d=unescape(d),d=c(d),d=u(d),a(d)}if(n=o(t),n){const d=u(n);return a(d)}if(n=r("filename","i").exec(t),n){n=n[1];let d=l(n);return d=u(d),a(d)}function r(d,h){return new RegExp("(?:^|;)\\s*"+d+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',h)}function s(d,h){if(d){if(!/^[\x00-\xFF]+$/.test(h))return h;try{const f=new TextDecoder(d,{fatal:!0}),A=bk(h);h=f.decode(A),e=!1}catch{}}return h}function a(d){return e&&/[\x80-\xff]/.test(d)&&(d=s("utf-8",d),e&&(d=s("iso-8859-1",d))),d}function o(d){const h=[];let f;const A=r("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(f=A.exec(d))!==null;){let[,p,m,g]=f;if(p=parseInt(p,10),p in h){if(p===0)break;continue}h[p]=[m,g]}const v=[];for(let p=0;p<h.length&&p in h;++p){let[m,g]=h[p];g=l(g),m&&(g=unescape(g),p===0&&(g=c(g))),v.push(g)}return v.join("")}function l(d){if(d.startsWith('"')){const h=d.slice(1).split('\\"');for(let f=0;f<h.length;++f){const A=h[f].indexOf('"');A!==-1&&(h[f]=h[f].slice(0,A),h.length=f+1),h[f]=h[f].replaceAll(/\\(.)/g,"$1")}d=h.join('"')}return d}function c(d){const h=d.indexOf("'");if(h===-1)return d;const f=d.slice(0,h),v=d.slice(h+1).replace(/^[^']*'/,"");return s(f,v)}function u(d){return!d.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(d)?d:d.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(h,f,A,v){if(A==="q"||A==="Q")return v=v.replaceAll("_"," "),v=v.replaceAll(/=([0-9a-fA-F]{2})/g,function(p,m){return String.fromCharCode(parseInt(m,16))}),s(f,v);try{v=atob(v)}catch{}return s(f,v)})}return""}function Uhe(t,e){const n=new Headers;if(!t||!e||typeof e!="object")return n;for(const r in e){const s=e[r];s!==void 0&&n.append(r,s)}return n}function Nk(t){try{return new URL(t).origin}catch{}return null}function Ihe({responseHeaders:t,isHttp:e,rangeChunkSize:n,disableRange:r}){const s={allowRangeRequests:!1,suggestedLength:void 0},a=parseInt(t.get("Content-Length"),10);return!Number.isInteger(a)||(s.suggestedLength=a,a<=2*n)||r||!e||t.get("Accept-Ranges")!=="bytes"||(t.get("Content-Encoding")||"identity")!=="identity"||(s.allowRangeRequests=!0),s}function Ohe(t){const e=t.get("Content-Disposition");if(e){let n=k3e(e);if(n.includes("%"))try{n=decodeURIComponent(n)}catch{}if(_z(n))return n}return null}function _k(t,e){return t===404||t===0&&e.startsWith("file:")?new E_('Missing PDF "'+e+'".'):new LD(`Unexpected server response (${t}) while retrieving PDF "${e}".`,t)}function Mhe(t){return t===200||t===206}function Lhe(t,e,n){return{method:"GET",headers:t,signal:n.signal,mode:"cors",credentials:e?"include":"same-origin",redirect:"follow"}}function Rhe(t){return t instanceof Uint8Array?t.buffer:t instanceof ArrayBuffer?t:(Yn(`getArrayBuffer - unexpected data format: ${t}`),new Uint8Array(t).buffer)}class MG{constructor(e){Nn(this,"_responseOrigin",null);this.source=e,this.isHttp=/^https?:/i.test(e.url),this.headers=Uhe(this.isHttp,e.httpHeaders),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}getFullReader(){return Xs(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new F3e(this),this._fullRequestReader}getRangeReader(e,n){if(n<=this._progressiveDataLength)return null;const r=new P3e(this,e,n);return this._rangeRequestReaders.push(r),r}cancelAllRequests(e){var n;(n=this._fullRequestReader)==null||n.cancel(e);for(const r of this._rangeRequestReaders.slice(0))r.cancel(e)}}class F3e{constructor(e){this._stream=e,this._reader=null,this._loaded=0,this._filename=null;const n=e.source;this._withCredentials=n.withCredentials||!1,this._contentLength=n.length,this._headersCapability=Promise.withResolvers(),this._disableRange=n.disableRange||!1,this._rangeChunkSize=n.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!n.disableStream,this._isRangeSupported=!n.disableRange;const r=new Headers(e.headers),s=n.url;fetch(s,Lhe(r,this._withCredentials,this._abortController)).then(a=>{if(e._responseOrigin=Nk(a.url),!Mhe(a.status))throw _k(a.status,s);this._reader=a.body.getReader(),this._headersCapability.resolve();const o=a.headers,{allowRangeRequests:l,suggestedLength:c}=Ihe({responseHeaders:o,isHttp:e.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=l,this._contentLength=c||this._contentLength,this._filename=Ohe(o),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new Jg("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var r;await this._headersCapability.promise;const{value:e,done:n}=await this._reader.read();return n?{value:e,done:n}:(this._loaded+=e.byteLength,(r=this.onProgress)==null||r.call(this,{loaded:this._loaded,total:this._contentLength}),{value:Rhe(e),done:!1})}cancel(e){var n;(n=this._reader)==null||n.cancel(e),this._abortController.abort()}}class P3e{constructor(e,n,r){this._stream=e,this._reader=null,this._loaded=0;const s=e.source;this._withCredentials=s.withCredentials||!1,this._readCapability=Promise.withResolvers(),this._isStreamingSupported=!s.disableStream,this._abortController=new AbortController;const a=new Headers(e.headers);a.append("Range",`bytes=${n}-${r-1}`);const o=s.url;fetch(o,Lhe(a,this._withCredentials,this._abortController)).then(l=>{const c=Nk(l.url);if(c!==e._responseOrigin)throw new Error(`Expected range response-origin "${c}" to match "${e._responseOrigin}".`);if(!Mhe(l.status))throw _k(l.status,o);this._readCapability.resolve(),this._reader=l.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){var r;await this._readCapability.promise;const{value:e,done:n}=await this._reader.read();return n?{value:e,done:n}:(this._loaded+=e.byteLength,(r=this.onProgress)==null||r.call(this,{loaded:this._loaded}),{value:Rhe(e),done:!1})}cancel(e){var n;(n=this._reader)==null||n.cancel(e),this._abortController.abort()}}const zP=200,$P=206;function U3e(t){const e=t.response;return typeof e!="string"?e:bk(e).buffer}class I3e{constructor({url:e,httpHeaders:n,withCredentials:r}){Nn(this,"_responseOrigin",null);this.url=e,this.isHttp=/^https?:/i.test(e),this.headers=Uhe(this.isHttp,n),this.withCredentials=r||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}request(e){const n=new XMLHttpRequest,r=this.currXhrId++,s=this.pendingRequests[r]={xhr:n};n.open("GET",this.url),n.withCredentials=this.withCredentials;for(const[a,o]of this.headers)n.setRequestHeader(a,o);return this.isHttp&&"begin"in e&&"end"in e?(n.setRequestHeader("Range",`bytes=${e.begin}-${e.end-1}`),s.expectedStatus=$P):s.expectedStatus=zP,n.responseType="arraybuffer",Xs(e.onError,"Expected `onError` callback to be provided."),n.onerror=()=>{e.onError(n.status)},n.onreadystatechange=this.onStateChange.bind(this,r),n.onprogress=this.onProgress.bind(this,r),s.onHeadersReceived=e.onHeadersReceived,s.onDone=e.onDone,s.onError=e.onError,s.onProgress=e.onProgress,n.send(null),r}onProgress(e,n){var s;const r=this.pendingRequests[e];r&&((s=r.onProgress)==null||s.call(r,n))}onStateChange(e,n){const r=this.pendingRequests[e];if(!r)return;const s=r.xhr;if(s.readyState>=2&&r.onHeadersReceived&&(r.onHeadersReceived(),delete r.onHeadersReceived),s.readyState!==4||!(e in this.pendingRequests))return;if(delete this.pendingRequests[e],s.status===0&&this.isHttp){r.onError(s.status);return}const a=s.status||zP;if(!(a===zP&&r.expectedStatus===$P)&&a!==r.expectedStatus){r.onError(s.status);return}const l=U3e(s);if(a===$P){const c=s.getResponseHeader("Content-Range"),u=/bytes (\d+)-(\d+)\/(\d+)/.exec(c);u?r.onDone({begin:parseInt(u[1],10),chunk:l}):(Yn('Missing or invalid "Content-Range" header.'),r.onError(0))}else l?r.onDone({begin:0,chunk:l}):r.onError(s.status)}getRequestXhr(e){return this.pendingRequests[e].xhr}isPendingRequest(e){return e in this.pendingRequests}abortRequest(e){const n=this.pendingRequests[e].xhr;delete this.pendingRequests[e],n.abort()}}class O3e{constructor(e){this._source=e,this._manager=new I3e(e),this._rangeChunkSize=e.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(e){const n=this._rangeRequestReaders.indexOf(e);n>=0&&this._rangeRequestReaders.splice(n,1)}getFullReader(){return Xs(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new M3e(this._manager,this._source),this._fullRequestReader}getRangeReader(e,n){const r=new L3e(this._manager,e,n);return r.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(r),r}cancelAllRequests(e){var n;(n=this._fullRequestReader)==null||n.cancel(e);for(const r of this._rangeRequestReaders.slice(0))r.cancel(e)}}class M3e{constructor(e,n){this._manager=e,this._url=n.url,this._fullRequestId=e.request({onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._headersCapability=Promise.withResolvers(),this._disableRange=n.disableRange||!1,this._contentLength=n.length,this._rangeChunkSize=n.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const e=this._fullRequestId,n=this._manager.getRequestXhr(e);this._manager._responseOrigin=Nk(n.responseURL);const r=n.getAllResponseHeaders(),s=new Headers(r?r.trimStart().replace(/[^\S ]+$/,"").split(/[\r\n]+/).map(l=>{const[c,...u]=l.split(": ");return[c,u.join(": ")]}):[]),{allowRangeRequests:a,suggestedLength:o}=Ihe({responseHeaders:s,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});a&&(this._isRangeSupported=!0),this._contentLength=o||this._contentLength,this._filename=Ohe(s),this._isRangeSupported&&this._manager.abortRequest(e),this._headersCapability.resolve()}_onDone(e){if(e&&(this._requests.length>0?this._requests.shift().resolve({value:e.chunk,done:!1}):this._cachedChunks.push(e.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(e){this._storedError=_k(e,this._url),this._headersCapability.reject(this._storedError);for(const n of this._requests)n.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(e){var n;(n=this.onProgress)==null||n.call(this,{loaded:e.loaded,total:e.lengthComputable?e.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersCapability.promise}async read(){if(await this._headersCapability.promise,this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0,this._headersCapability.reject(e);for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class L3e{constructor(e,n,r){this._manager=e,this._url=e.url,this._requestId=e.request({begin:n,end:r,onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_onHeadersReceived(){var n;const e=Nk((n=this._manager.getRequestXhr(this._requestId))==null?void 0:n.responseURL);e!==this._manager._responseOrigin&&(this._storedError=new Error(`Expected range response-origin "${e}" to match "${this._manager._responseOrigin}".`),this._onError(0))}_close(){var e;(e=this.onClosed)==null||e.call(this,this)}_onDone(e){const n=e.chunk;this._requests.length>0?this._requests.shift().resolve({value:n,done:!1}):this._queuedChunk=n,this._done=!0;for(const r of this._requests)r.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(e){this._storedError??(this._storedError=_k(e,this._url));for(const n of this._requests)n.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(e){var n;this.isStreamingSupported||(n=this.onProgress)==null||n.call(this,{loaded:e.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const n=this._queuedChunk;return this._queuedChunk=null,{value:n,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}const R3e=/^[a-z][a-z0-9\-+.]+:/i;function Q3e(t){if(R3e.test(t))return new URL(t);const e=process.getBuiltinModule("url");return new URL(e.pathToFileURL(t))}class H3e{constructor(e){this.source=e,this.url=Q3e(e.url),Xs(this.url.protocol==="file:","PDFNodeStream only supports file:// URLs."),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}getFullReader(){return Xs(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=new z3e(this),this._fullRequestReader}getRangeReader(e,n){if(n<=this._progressiveDataLength)return null;const r=new $3e(this,e,n);return this._rangeRequestReaders.push(r),r}cancelAllRequests(e){var n;(n=this._fullRequestReader)==null||n.cancel(e);for(const r of this._rangeRequestReaders.slice(0))r.cancel(e)}}class z3e{constructor(e){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null;const n=e.source;this._contentLength=n.length,this._loaded=0,this._filename=null,this._disableRange=n.disableRange||!1,this._rangeChunkSize=n.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!n.disableStream,this._isRangeSupported=!n.disableRange,this._readableStream=null,this._readCapability=Promise.withResolvers(),this._headersCapability=Promise.withResolvers();const r=process.getBuiltinModule("fs");r.promises.lstat(this._url).then(s=>{this._contentLength=s.size,this._setReadableStream(r.createReadStream(this._url)),this._headersCapability.resolve()},s=>{s.code==="ENOENT"&&(s=new E_(`Missing PDF "${this._url}".`)),this._storedError=s,this._headersCapability.reject(s)})}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var r;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,(r=this.onProgress)==null||r.call(this,{loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",n=>{this._error(n)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new Jg("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class $3e{constructor(e,n,r){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=Promise.withResolvers();const s=e.source;this._isStreamingSupported=!s.disableStream;const a=process.getBuiltinModule("fs");this._setReadableStream(a.createReadStream(this._url,{start:n,end:r-1}))}get isStreamingSupported(){return this._isStreamingSupported}async read(){var r;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,(r=this.onProgress)==null||r.call(this,{loaded:this._loaded}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",n=>{this._error(n)}),this._storedError&&this._readableStream.destroy(this._storedError)}}const W3e=1e5,Gl=30,q3e=.8;var Vle,gg,Zl,wC,jC,h0,VA,NC,_C,f0,rw,iw,xg,sw,CC,aw,A0,SC,EC,p0,m0,BC,vg,ow,Rp,Qhe,Hhe,n7,Gc,jB,r7,zhe,$he;const da=class da{constructor({textContentSource:e,container:n,viewport:r}){be(this,Rp);be(this,gg,Promise.withResolvers());be(this,Zl,null);be(this,wC,!1);be(this,jC,!!((Vle=globalThis.FontInspector)!=null&&Vle.enabled));be(this,h0,null);be(this,VA,null);be(this,NC,0);be(this,_C,0);be(this,f0,null);be(this,rw,null);be(this,iw,0);be(this,xg,0);be(this,sw,Object.create(null));be(this,CC,[]);be(this,aw,null);be(this,A0,[]);be(this,SC,new WeakMap);be(this,EC,null);var c;if(e instanceof ReadableStream)le(this,aw,e);else if(typeof e=="object")le(this,aw,new ReadableStream({start(u){u.enqueue(e),u.close()}}));else throw new Error('No "textContentSource" parameter specified.');le(this,Zl,le(this,rw,n)),le(this,xg,r.scale*(globalThis.devicePixelRatio||1)),le(this,iw,r.rotation),le(this,VA,{div:null,properties:null,ctx:null});const{pageWidth:s,pageHeight:a,pageX:o,pageY:l}=r.rawDims;le(this,EC,[1,0,0,-1,-o,l+a]),le(this,_C,s),le(this,NC,a),je(c=da,Gc,zhe).call(c),oy(n,r),B(this,gg).promise.finally(()=>{B(da,ow).delete(this),le(this,VA,null),le(this,sw,null)}).catch(()=>{})}static get fontFamilyMap(){const{isWindows:e,isFirefox:n}=El.platform;return or(this,"fontFamilyMap",new Map([["sans-serif",`${e&&n?"Calibri, ":""}sans-serif`],["monospace",`${e&&n?"Lucida Console, ":""}monospace`]]))}render(){const e=()=>{B(this,f0).read().then(({value:n,done:r})=>{if(r){B(this,gg).resolve();return}B(this,h0)??le(this,h0,n.lang),Object.assign(B(this,sw),n.styles),je(this,Rp,Qhe).call(this,n.items),e()},B(this,gg).reject)};return le(this,f0,B(this,aw).getReader()),B(da,ow).add(this),e(),B(this,gg).promise}update({viewport:e,onBefore:n=null}){var a;const r=e.scale*(globalThis.devicePixelRatio||1),s=e.rotation;if(s!==B(this,iw)&&(n==null||n(),le(this,iw,s),oy(B(this,rw),{rotation:s})),r!==B(this,xg)){n==null||n(),le(this,xg,r);const o={div:null,properties:null,ctx:je(a=da,Gc,jB).call(a,B(this,h0))};for(const l of B(this,A0))o.properties=B(this,SC).get(l),o.div=l,je(this,Rp,n7).call(this,o)}}cancel(){var n;const e=new Jg("TextLayer task cancelled.");(n=B(this,f0))==null||n.cancel(e).catch(()=>{}),le(this,f0,null),B(this,gg).reject(e)}get textDivs(){return B(this,A0)}get textContentItemsStr(){return B(this,CC)}static cleanup(){if(!(B(this,ow).size>0)){B(this,p0).clear();for(const{canvas:e}of B(this,m0).values())e.remove();B(this,m0).clear()}}};gg=new WeakMap,Zl=new WeakMap,wC=new WeakMap,jC=new WeakMap,h0=new WeakMap,VA=new WeakMap,NC=new WeakMap,_C=new WeakMap,f0=new WeakMap,rw=new WeakMap,iw=new WeakMap,xg=new WeakMap,sw=new WeakMap,CC=new WeakMap,aw=new WeakMap,A0=new WeakMap,SC=new WeakMap,EC=new WeakMap,p0=new WeakMap,m0=new WeakMap,BC=new WeakMap,vg=new WeakMap,ow=new WeakMap,Rp=new WeakSet,Qhe=function(e){var s,a;if(B(this,wC))return;(a=B(this,VA)).ctx??(a.ctx=je(s=da,Gc,jB).call(s,B(this,h0)));const n=B(this,A0),r=B(this,CC);for(const o of e){if(n.length>W3e){Yn("Ignoring additional textDivs for performance reasons."),le(this,wC,!0);return}if(o.str===void 0){if(o.type==="beginMarkedContentProps"||o.type==="beginMarkedContent"){const l=B(this,Zl);le(this,Zl,document.createElement("span")),B(this,Zl).classList.add("markedContent"),o.id!==null&&B(this,Zl).setAttribute("id",`${o.id}`),l.append(B(this,Zl))}else o.type==="endMarkedContent"&&le(this,Zl,B(this,Zl).parentNode);continue}r.push(o.str),je(this,Rp,Hhe).call(this,o)}},Hhe=function(e){var p;const n=document.createElement("span"),r={angle:0,canvasWidth:0,hasText:e.str!=="",hasEOL:e.hasEOL,fontSize:0};B(this,A0).push(n);const s=un.transform(B(this,EC),e.transform);let a=Math.atan2(s[1],s[0]);const o=B(this,sw)[e.fontName];o.vertical&&(a+=Math.PI/2);let l=B(this,jC)&&o.fontSubstitution||o.fontFamily;l=da.fontFamilyMap.get(l)||l;const c=Math.hypot(s[2],s[3]),u=c*je(p=da,Gc,$he).call(p,l,B(this,h0));let d,h;a===0?(d=s[4],h=s[5]-u):(d=s[4]+u*Math.sin(a),h=s[5]-u*Math.cos(a));const f="calc(var(--scale-factor)*",A=n.style;B(this,Zl)===B(this,rw)?(A.left=`${(100*d/B(this,_C)).toFixed(2)}%`,A.top=`${(100*h/B(this,NC)).toFixed(2)}%`):(A.left=`${f}${d.toFixed(2)}px)`,A.top=`${f}${h.toFixed(2)}px)`),A.fontSize=`${f}${(B(da,vg)*c).toFixed(2)}px)`,A.fontFamily=l,r.fontSize=c,n.setAttribute("role","presentation"),n.textContent=e.str,n.dir=e.dir,B(this,jC)&&(n.dataset.fontName=o.fontSubstitutionLoadedName||e.fontName),a!==0&&(r.angle=a*(180/Math.PI));let v=!1;if(e.str.length>1)v=!0;else if(e.str!==" "&&e.transform[0]!==e.transform[3]){const m=Math.abs(e.transform[0]),g=Math.abs(e.transform[3]);m!==g&&Math.max(m,g)/Math.min(m,g)>1.5&&(v=!0)}if(v&&(r.canvasWidth=o.vertical?e.height:e.width),B(this,SC).set(n,r),B(this,VA).div=n,B(this,VA).properties=r,je(this,Rp,n7).call(this,B(this,VA)),r.hasText&&B(this,Zl).append(n),r.hasEOL){const m=document.createElement("br");m.setAttribute("role","presentation"),B(this,Zl).append(m)}},n7=function(e){var l;const{div:n,properties:r,ctx:s}=e,{style:a}=n;let o="";if(B(da,vg)>1&&(o=`scale(${1/B(da,vg)})`),r.canvasWidth!==0&&r.hasText){const{fontFamily:c}=a,{canvasWidth:u,fontSize:d}=r;je(l=da,Gc,r7).call(l,s,d*B(this,xg),c);const{width:h}=s.measureText(n.textContent);h>0&&(o=`scaleX(${u*B(this,xg)/h}) ${o}`)}r.angle!==0&&(o=`rotate(${r.angle}deg) ${o}`),o.length>0&&(a.transform=o)},Gc=new WeakSet,jB=function(e=null){let n=B(this,m0).get(e||(e=""));if(!n){const r=document.createElement("canvas");r.className="hiddenCanvasElement",r.lang=e,document.body.append(r),n=r.getContext("2d",{alpha:!1,willReadFrequently:!0}),B(this,m0).set(e,n),B(this,BC).set(n,{size:0,family:""})}return n},r7=function(e,n,r){const s=B(this,BC).get(e);n===s.size&&r===s.family||(e.font=`${n}px ${r}`,s.size=n,s.family=r)},zhe=function(){if(B(this,vg)!==null)return;const e=document.createElement("div");e.style.opacity=0,e.style.lineHeight=1,e.style.fontSize="1px",e.style.position="absolute",e.textContent="X",document.body.append(e),le(this,vg,e.getBoundingClientRect().height),e.remove()},$he=function(e,n){const r=B(this,p0).get(e);if(r)return r;const s=je(this,Gc,jB).call(this,n);s.canvas.width=s.canvas.height=Gl,je(this,Gc,r7).call(this,s,Gl,e);const a=s.measureText("");let o=a.fontBoundingBoxAscent,l=Math.abs(a.fontBoundingBoxDescent);if(o){const d=o/(o+l);return B(this,p0).set(e,d),s.canvas.width=s.canvas.height=0,d}s.strokeStyle="red",s.clearRect(0,0,Gl,Gl),s.strokeText("g",0,0);let c=s.getImageData(0,0,Gl,Gl).data;l=0;for(let d=c.length-1-3;d>=0;d-=4)if(c[d]>0){l=Math.ceil(d/4/Gl);break}s.clearRect(0,0,Gl,Gl),s.strokeText("A",0,Gl),c=s.getImageData(0,0,Gl,Gl).data,o=0;for(let d=0,h=c.length;d<h;d+=4)if(c[d]>0){o=Gl-Math.floor(d/4/Gl);break}s.canvas.width=s.canvas.height=0;const u=o?o/(o+l):q3e;return B(this,p0).set(e,u),u},be(da,Gc),be(da,p0,new Map),be(da,m0,new Map),be(da,BC,new WeakMap),be(da,vg,null),be(da,ow,new Set);let B_=da;class D_{static textContent(e){const n=[],r={items:n,styles:Object.create(null)};function s(a){var c;if(!a)return;let o=null;const l=a.name;if(l==="#text")o=a.value;else if(D_.shouldBuildText(l))(c=a==null?void 0:a.attributes)!=null&&c.textContent?o=a.attributes.textContent:a.value&&(o=a.value);else return;if(o!==null&&n.push({str:o}),!!a.children)for(const u of a.children)s(u)}return s(e),r}static shouldBuildText(e){return!(e==="textarea"||e==="input"||e==="option"||e==="select")}}const V3e=65536,K3e=100,G3e=5e3,X3e=Wo?u3e:o3e,Y3e=Wo?d3e:Bhe,J3e=Wo?c3e:l3e,Z3e=Wo?h3e:Fhe;function eTe(t={}){typeof t=="string"||t instanceof URL?t={url:t}:(t instanceof ArrayBuffer||ArrayBuffer.isView(t))&&(t={data:t});const e=new i7,{docId:n}=e,r=t.url?tTe(t.url):null,s=t.data?nTe(t.data):null,a=t.httpHeaders||null,o=t.withCredentials===!0,l=t.password??null,c=t.range instanceof Whe?t.range:null,u=Number.isInteger(t.rangeChunkSize)&&t.rangeChunkSize>0?t.rangeChunkSize:V3e;let d=t.worker instanceof b1?t.worker:null;const h=t.verbosity,f=typeof t.docBaseUrl=="string"&&!jk(t.docBaseUrl)?t.docBaseUrl:null,A=typeof t.cMapUrl=="string"?t.cMapUrl:null,v=t.cMapPacked!==!1,p=t.CMapReaderFactory||Y3e,m=typeof t.standardFontDataUrl=="string"?t.standardFontDataUrl:null,g=t.StandardFontDataFactory||Z3e,x=t.stopAtErrors!==!0,b=Number.isInteger(t.maxImageSize)&&t.maxImageSize>-1?t.maxImageSize:-1,j=t.isEvalSupported!==!1,N=typeof t.isOffscreenCanvasSupported=="boolean"?t.isOffscreenCanvasSupported:!Wo,_=typeof t.isImageDecoderSupported=="boolean"?t.isImageDecoderSupported:!Wo&&(El.platform.isFirefox||!globalThis.chrome),C=Number.isInteger(t.canvasMaxAreaInBytes)?t.canvasMaxAreaInBytes:-1,k=typeof t.disableFontFace=="boolean"?t.disableFontFace:Wo,T=t.fontExtraProperties===!0,O=t.enableXfa===!0,I=t.ownerDocument||globalThis.document,F=t.disableRange===!0,M=t.disableStream===!0,S=t.disableAutoFetch===!0,q=t.pdfBug===!0,U=t.CanvasFactory||X3e,L=t.FilterFactory||J3e,z=t.enableHWA===!0,$=c?c.length:t.length??NaN,K=typeof t.useSystemFonts=="boolean"?t.useSystemFonts:!Wo&&!k,V=typeof t.useWorkerFetch=="boolean"?t.useWorkerFetch:p===Bhe&&g===Fhe&&A&&m&&gN(A,document.baseURI)&&gN(m,document.baseURI),H=null;LDe(h);const W={canvasFactory:new U({ownerDocument:I,enableHWA:z}),filterFactory:new L({docId:n,ownerDocument:I}),cMapReaderFactory:V?null:new p({baseUrl:A,isCompressed:v}),standardFontDataFactory:V?null:new g({baseUrl:m})};if(!d){const ie={verbosity:h,port:cp.workerPort};d=ie.port?b1.fromPort(ie):new b1(ie),e._worker=d}const Y={docId:n,apiVersion:"4.10.38",data:s,password:l,disableAutoFetch:S,rangeChunkSize:u,length:$,docBaseUrl:f,enableXfa:O,evaluatorOptions:{maxImageSize:b,disableFontFace:k,ignoreErrors:x,isEvalSupported:j,isOffscreenCanvasSupported:N,isImageDecoderSupported:_,canvasMaxAreaInBytes:C,fontExtraProperties:T,useSystemFonts:K,cMapUrl:V?A:null,standardFontDataUrl:V?m:null}},ee={disableFontFace:k,fontExtraProperties:T,ownerDocument:I,pdfBug:q,styleElement:H,loadingParams:{disableAutoFetch:S,enableXfa:O}};return d.promise.then(function(){if(e.destroyed)throw new Error("Loading aborted");if(d.destroyed)throw new Error("Worker was destroyed");const ie=d.messageHandler.sendWithPromise("GetDocRequest",Y,s?[s.buffer]:null);let se;if(c)se=new B3e(c,{disableRange:F,disableStream:M});else if(!s){if(!r)throw new Error("getDocument - no `url` parameter provided.");let Ae;if(Wo)if(gN(r)){if(typeof fetch>"u"||typeof Response>"u"||!("body"in Response.prototype))throw new Error("getDocument - the Fetch API was disabled in Node.js, see `--no-experimental-fetch`.");Ae=MG}else Ae=H3e;else Ae=gN(r)?MG:O3e;se=new Ae({url:r,length:$,httpHeaders:a,withCredentials:o,rangeChunkSize:u,disableRange:F,disableStream:M})}return ie.then(Ae=>{if(e.destroyed)throw new Error("Loading aborted");if(d.destroyed)throw new Error("Worker was destroyed");const he=new bN(n,Ae,d.port),Be=new aTe(he,e,se,ee,W);e._transport=Be,he.send("Ready",null)})}).catch(e._capability.reject),e}function tTe(t){if(t instanceof URL)return t.href;try{return new URL(t,window.location).href}catch{if(Wo&&typeof t=="string")return t}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function nTe(t){if(Wo&&typeof Buffer<"u"&&t instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(t instanceof Uint8Array&&t.byteLength===t.buffer.byteLength)return t;if(typeof t=="string")return bk(t);if(t instanceof ArrayBuffer||ArrayBuffer.isView(t)||typeof t=="object"&&!isNaN(t==null?void 0:t.length))return new Uint8Array(t);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}function LG(t){return typeof t=="object"&&Number.isInteger(t==null?void 0:t.num)&&t.num>=0&&Number.isInteger(t==null?void 0:t.gen)&&t.gen>=0}var WT;const qT=class qT{constructor(){this._capability=Promise.withResolvers(),this._transport=null,this._worker=null,this.docId=`d${hl(qT,WT)._++}`,this.destroyed=!1,this.onPassword=null,this.onProgress=null}get promise(){return this._capability.promise}async destroy(){var e,n,r,s;this.destroyed=!0;try{(e=this._worker)!=null&&e.port&&(this._worker._pendingDestroy=!0),await((n=this._transport)==null?void 0:n.destroy())}catch(a){throw(r=this._worker)!=null&&r.port&&delete this._worker._pendingDestroy,a}this._transport=null,(s=this._worker)==null||s.destroy(),this._worker=null}};WT=new WeakMap,be(qT,WT,0);let i7=qT;class Whe{constructor(e,n,r=!1,s=null){this.length=e,this.initialData=n,this.progressiveDone=r,this.contentDispositionFilename=s,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=Promise.withResolvers()}addRangeListener(e){this._rangeListeners.push(e)}addProgressListener(e){this._progressListeners.push(e)}addProgressiveReadListener(e){this._progressiveReadListeners.push(e)}addProgressiveDoneListener(e){this._progressiveDoneListeners.push(e)}onDataRange(e,n){for(const r of this._rangeListeners)r(e,n)}onDataProgress(e,n){this._readyCapability.promise.then(()=>{for(const r of this._progressListeners)r(e,n)})}onDataProgressiveRead(e){this._readyCapability.promise.then(()=>{for(const n of this._progressiveReadListeners)n(e)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const e of this._progressiveDoneListeners)e()})}transportReady(){this._readyCapability.resolve()}requestDataRange(e,n){xi("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}class rTe{constructor(e,n){this._pdfInfo=e,this._transport=n}get annotationStorage(){return this._transport.annotationStorage}get canvasFactory(){return this._transport.canvasFactory}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return or(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(e){return this._transport.getPage(e)}getPageIndex(e){return this._transport.getPageIndex(e)}getDestinations(){return this._transport.getDestinations()}getDestination(e){return this._transport.getDestination(e)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig({intent:e="display"}={}){const{renderingIntent:n}=this._transport.getRenderingIntent(e);return this._transport.getOptionalContentConfig(n)}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(e=!1){return this._transport.startCleanup(e||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}cachedPageNumber(e){return this._transport.cachedPageNumber(e)}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}var yg,KA,Ou,$b,NB;class iTe{constructor(e,n,r,s=!1){be(this,Ou);be(this,yg,null);be(this,KA,!1);this._pageIndex=e,this._pageInfo=n,this._transport=r,this._stats=s?new _G:null,this._pdfBug=s,this.commonObjs=r.commonObjs,this.objs=new qhe,this._maybeCleanupAfterRender=!1,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:e,rotation:n=this.rotate,offsetX:r=0,offsetY:s=0,dontFlip:a=!1}={}){return new CS({viewBox:this.view,userUnit:this.userUnit,scale:e,rotation:n,offsetX:r,offsetY:s,dontFlip:a})}getAnnotations({intent:e="display"}={}){const{renderingIntent:n}=this._transport.getRenderingIntent(e);return this._transport.getAnnotations(this._pageIndex,n)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return or(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){var e;return((e=this._transport._htmlForXfa)==null?void 0:e.children[this._pageIndex])||null}render({canvasContext:e,viewport:n,intent:r="display",annotationMode:s=eg.ENABLE,transform:a=null,background:o=null,optionalContentConfigPromise:l=null,annotationCanvasMap:c=null,pageColors:u=null,printAnnotationStorage:d=null,isEditing:h=!1}){var j,N;(j=this._stats)==null||j.time("Overall");const f=this._transport.getRenderingIntent(r,s,d,h),{renderingIntent:A,cacheKey:v}=f;le(this,KA,!1),je(this,Ou,NB).call(this),l||(l=this._transport.getOptionalContentConfig(A));let p=this._intentStates.get(v);p||(p=Object.create(null),this._intentStates.set(v,p)),p.streamReaderCancelTimeout&&(clearTimeout(p.streamReaderCancelTimeout),p.streamReaderCancelTimeout=null);const m=!!(A&Lc.PRINT);p.displayReadyCapability||(p.displayReadyCapability=Promise.withResolvers(),p.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(N=this._stats)==null||N.time("Page Request"),this._pumpOperatorList(f));const g=_=>{var C;p.renderTasks.delete(x),(this._maybeCleanupAfterRender||m)&&le(this,KA,!0),je(this,Ou,$b).call(this,!m),_?(x.capability.reject(_),this._abortOperatorList({intentState:p,reason:_ instanceof Error?_:new Error(_)})):x.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"),(C=globalThis.Stats)!=null&&C.enabled&&globalThis.Stats.add(this.pageNumber,this._stats))},x=new a7({callback:g,params:{canvasContext:e,viewport:n,transform:a,background:o},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:c,operatorList:p.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!m,pdfBug:this._pdfBug,pageColors:u});(p.renderTasks||(p.renderTasks=new Set)).add(x);const b=x.task;return Promise.all([p.displayReadyCapability.promise,l]).then(([_,C])=>{var k;if(this.destroyed){g();return}if((k=this._stats)==null||k.time("Rendering"),!(C.renderingIntent&A))throw new Error("Must use the same `intent`-argument when calling the `PDFPageProxy.render` and `PDFDocumentProxy.getOptionalContentConfig` methods.");x.initializeGraphics({transparency:_,optionalContentConfig:C}),x.operatorListChanged()}).catch(g),b}getOperatorList({intent:e="display",annotationMode:n=eg.ENABLE,printAnnotationStorage:r=null,isEditing:s=!1}={}){var u;function a(){l.operatorList.lastChunk&&(l.opListReadCapability.resolve(l.operatorList),l.renderTasks.delete(c))}const o=this._transport.getRenderingIntent(e,n,r,s,!0);let l=this._intentStates.get(o.cacheKey);l||(l=Object.create(null),this._intentStates.set(o.cacheKey,l));let c;return l.opListReadCapability||(c=Object.create(null),c.operatorListChanged=a,l.opListReadCapability=Promise.withResolvers(),(l.renderTasks||(l.renderTasks=new Set)).add(c),l.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(u=this._stats)==null||u.time("Page Request"),this._pumpOperatorList(o)),l.opListReadCapability.promise}streamTextContent({includeMarkedContent:e=!1,disableNormalization:n=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:e===!0,disableNormalization:n===!0},{highWaterMark:100,size(s){return s.items.length}})}getTextContent(e={}){if(this._transport._htmlForXfa)return this.getXfa().then(r=>D_.textContent(r));const n=this.streamTextContent(e);return new Promise(function(r,s){function a(){o.read().then(function({value:c,done:u}){if(u){r(l);return}l.lang??(l.lang=c.lang),Object.assign(l.styles,c.styles),l.items.push(...c.items),a()},s)}const o=n.getReader(),l={items:[],styles:Object.create(null),lang:null};a()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const e=[];for(const n of this._intentStates.values())if(this._abortOperatorList({intentState:n,reason:new Error("Page was destroyed."),force:!0}),!n.opListReadCapability)for(const r of n.renderTasks)e.push(r.completed),r.cancel();return this.objs.clear(),le(this,KA,!1),je(this,Ou,NB).call(this),Promise.all(e)}cleanup(e=!1){le(this,KA,!0);const n=je(this,Ou,$b).call(this,!1);return e&&n&&this._stats&&(this._stats=new _G),n}_startRenderPage(e,n){var s,a;const r=this._intentStates.get(n);r&&((s=this._stats)==null||s.timeEnd("Page Request"),(a=r.displayReadyCapability)==null||a.resolve(e))}_renderPageChunk(e,n){for(let r=0,s=e.length;r<s;r++)n.operatorList.fnArray.push(e.fnArray[r]),n.operatorList.argsArray.push(e.argsArray[r]);n.operatorList.lastChunk=e.lastChunk,n.operatorList.separateAnnots=e.separateAnnots;for(const r of n.renderTasks)r.operatorListChanged();e.lastChunk&&je(this,Ou,$b).call(this,!0)}_pumpOperatorList({renderingIntent:e,cacheKey:n,annotationStorageSerializable:r,modifiedIds:s}){const{map:a,transfer:o}=r,c=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:e,cacheKey:n,annotationStorage:a,modifiedIds:s},o).getReader(),u=this._intentStates.get(n);u.streamReader=c;const d=()=>{c.read().then(({value:h,done:f})=>{if(f){u.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(h,u),d())},h=>{if(u.streamReader=null,!this._transport.destroyed){if(u.operatorList){u.operatorList.lastChunk=!0;for(const f of u.renderTasks)f.operatorListChanged();je(this,Ou,$b).call(this,!0)}if(u.displayReadyCapability)u.displayReadyCapability.reject(h);else if(u.opListReadCapability)u.opListReadCapability.reject(h);else throw h}})};d()}_abortOperatorList({intentState:e,reason:n,force:r=!1}){if(e.streamReader){if(e.streamReaderCancelTimeout&&(clearTimeout(e.streamReaderCancelTimeout),e.streamReaderCancelTimeout=null),!r){if(e.renderTasks.size>0)return;if(n instanceof Nz){let s=K3e;n.extraDelay>0&&n.extraDelay<1e3&&(s+=n.extraDelay),e.streamReaderCancelTimeout=setTimeout(()=>{e.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:e,reason:n,force:!0})},s);return}}if(e.streamReader.cancel(new Jg(n.message)).catch(()=>{}),e.streamReader=null,!this._transport.destroyed){for(const[s,a]of this._intentStates)if(a===e){this._intentStates.delete(s);break}this.cleanup()}}}get stats(){return this._stats}}yg=new WeakMap,KA=new WeakMap,Ou=new WeakSet,$b=function(e=!1){if(je(this,Ou,NB).call(this),!B(this,KA)||this.destroyed)return!1;if(e)return le(this,yg,setTimeout(()=>{le(this,yg,null),je(this,Ou,$b).call(this,!1)},G3e)),!1;for(const{renderTasks:n,operatorList:r}of this._intentStates.values())if(n.size>0||!r.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),le(this,KA,!1),!0},NB=function(){B(this,yg)&&(clearTimeout(B(this,yg)),le(this,yg,null))};var GA,VT;class sTe{constructor(){be(this,GA,new Map);be(this,VT,Promise.resolve())}postMessage(e,n){const r={data:structuredClone(e,n?{transfer:n}:null)};B(this,VT).then(()=>{for(const[s]of B(this,GA))s.call(this,r)})}addEventListener(e,n,r=null){let s=null;if((r==null?void 0:r.signal)instanceof AbortSignal){const{signal:a}=r;if(a.aborted){Yn("LoopbackPort - cannot use an `aborted` signal.");return}const o=()=>this.removeEventListener(e,n);s=()=>a.removeEventListener("abort",o),a.addEventListener("abort",o)}B(this,GA).set(n,s)}removeEventListener(e,n){const r=B(this,GA).get(n);r==null||r(),B(this,GA).delete(n)}terminate(){for(const[,e]of B(this,GA))e==null||e();B(this,GA).clear()}}GA=new WeakMap,VT=new WeakMap;var KT,g0,x0,lw,_B,cw,CB;const Gi=class Gi{constructor({name:e=null,port:n=null,verbosity:r=RDe()}={}){be(this,lw);var s;if(this.name=e,this.destroyed=!1,this.verbosity=r,this._readyCapability=Promise.withResolvers(),this._port=null,this._webWorker=null,this._messageHandler=null,n){if((s=B(Gi,x0))!=null&&s.has(n))throw new Error("Cannot use more than one PDFWorker per port.");(B(Gi,x0)||le(Gi,x0,new WeakMap)).set(n,this),this._initializeFromPort(n);return}this._initialize()}get promise(){return this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(e){this._port=e,this._messageHandler=new bN("main","worker",e),this._messageHandler.on("ready",function(){}),je(this,lw,_B).call(this)}_initialize(){if(B(Gi,g0)||B(Gi,cw,CB)){this._setupFakeWorker();return}let{workerSrc:e}=Gi;try{Gi._isSameOrigin(window.location.href,e)||(e=Gi._createCDNWrapper(new URL(e,window.location).href));const n=new Worker(e,{type:"module"}),r=new bN("main","worker",n),s=()=>{a.abort(),r.destroy(),n.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},a=new AbortController;n.addEventListener("error",()=>{this._webWorker||s()},{signal:a.signal}),r.on("test",l=>{if(a.abort(),this.destroyed||!l){s();return}this._messageHandler=r,this._port=n,this._webWorker=n,je(this,lw,_B).call(this)}),r.on("ready",l=>{if(a.abort(),this.destroyed){s();return}try{o()}catch{this._setupFakeWorker()}});const o=()=>{const l=new Uint8Array;r.send("test",l,[l.buffer])};o();return}catch{yk("The worker has been disabled.")}this._setupFakeWorker()}_setupFakeWorker(){B(Gi,g0)||(Yn("Setting up fake worker."),le(Gi,g0,!0)),Gi._setupFakeWorkerGlobal.then(e=>{if(this.destroyed){this._readyCapability.reject(new Error("Worker was destroyed"));return}const n=new sTe;this._port=n;const r=`fake${hl(Gi,KT)._++}`,s=new bN(r+"_worker",r,n);e.setup(s,n),this._messageHandler=new bN(r,r+"_worker",n),je(this,lw,_B).call(this)}).catch(e=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${e.message}".`))})}destroy(){var e,n,r;this.destroyed=!0,(e=this._webWorker)==null||e.terminate(),this._webWorker=null,(n=B(Gi,x0))==null||n.delete(this._port),this._port=null,(r=this._messageHandler)==null||r.destroy(),this._messageHandler=null}static fromPort(e){var r;if(!(e!=null&&e.port))throw new Error("PDFWorker.fromPort - invalid method signature.");const n=(r=B(this,x0))==null?void 0:r.get(e.port);if(n){if(n._pendingDestroy)throw new Error("PDFWorker.fromPort - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return n}return new Gi(e)}static get workerSrc(){if(cp.workerSrc)return cp.workerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _setupFakeWorkerGlobal(){return or(this,"_setupFakeWorkerGlobal",(async()=>B(this,cw,CB)?B(this,cw,CB):(await import(this.workerSrc)).WorkerMessageHandler)())}};KT=new WeakMap,g0=new WeakMap,x0=new WeakMap,lw=new WeakSet,_B=function(){this._readyCapability.resolve(),this._messageHandler.send("configure",{verbosity:this.verbosity})},cw=new WeakSet,CB=function(){var e;try{return((e=globalThis.pdfjsWorker)==null?void 0:e.WorkerMessageHandler)||null}catch{return null}},be(Gi,cw),be(Gi,KT,0),be(Gi,g0,!1),be(Gi,x0),Wo&&(le(Gi,g0,!0),cp.workerSrc||(cp.workerSrc="./pdf.worker.mjs")),Gi._isSameOrigin=(e,n)=>{let r;try{if(r=new URL(e),!r.origin||r.origin==="null")return!1}catch{return!1}const s=new URL(n,r);return r.origin===s.origin},Gi._createCDNWrapper=e=>{const n=`await import("${e}");`;return URL.createObjectURL(new Blob([n],{type:"text/javascript"}))};let b1=Gi;var XA,uf,uw,dw,YA,v0,CN;class aTe{constructor(e,n,r,s,a){be(this,v0);be(this,XA,new Map);be(this,uf,new Map);be(this,uw,new Map);be(this,dw,new Map);be(this,YA,null);this.messageHandler=e,this.loadingTask=n,this.commonObjs=new qhe,this.fontLoader=new s3e({ownerDocument:s.ownerDocument,styleElement:s.styleElement}),this.loadingParams=s.loadingParams,this._params=s,this.canvasFactory=a.canvasFactory,this.filterFactory=a.filterFactory,this.cMapReaderFactory=a.cMapReaderFactory,this.standardFontDataFactory=a.standardFontDataFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=r,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=Promise.withResolvers(),this.setupMessageHandler()}get annotationStorage(){return or(this,"annotationStorage",new Ez)}getRenderingIntent(e,n=eg.ENABLE,r=null,s=!1,a=!1){let o=Lc.DISPLAY,l=VR;switch(e){case"any":o=Lc.ANY;break;case"display":break;case"print":o=Lc.PRINT;break;default:Yn(`getRenderingIntent - invalid intent: ${e}`)}const c=o&Lc.PRINT&&r instanceof jhe?r:this.annotationStorage;switch(n){case eg.DISABLE:o+=Lc.ANNOTATIONS_DISABLE;break;case eg.ENABLE:break;case eg.ENABLE_FORMS:o+=Lc.ANNOTATIONS_FORMS;break;case eg.ENABLE_STORAGE:o+=Lc.ANNOTATIONS_STORAGE,l=c.serializable;break;default:Yn(`getRenderingIntent - invalid annotationMode: ${n}`)}s&&(o+=Lc.IS_EDITING),a&&(o+=Lc.OPLIST);const{ids:u,hash:d}=c.modifiedIds,h=[o,l.hash,d];return{renderingIntent:o,cacheKey:h.join("_"),annotationStorageSerializable:l,modifiedIds:u}}destroy(){var r;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=Promise.withResolvers(),(r=B(this,YA))==null||r.reject(new Error("Worker was destroyed during onPassword callback"));const e=[];for(const s of B(this,uf).values())e.push(s._destroy());B(this,uf).clear(),B(this,uw).clear(),B(this,dw).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const n=this.messageHandler.sendWithPromise("Terminate",null);return e.push(n),Promise.all(e).then(()=>{var s,a;this.commonObjs.clear(),this.fontLoader.clear(),B(this,XA).clear(),this.filterFactory.destroy(),B_.cleanup(),(s=this._networkStream)==null||s.cancelAllRequests(new Jg("Worker was terminated.")),(a=this.messageHandler)==null||a.destroy(),this.messageHandler=null,this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:e,loadingTask:n}=this;e.on("GetReader",(r,s)=>{Xs(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=a=>{this._lastProgress={loaded:a.loaded,total:a.total}},s.onPull=()=>{this._fullReader.read().then(function({value:a,done:o}){if(o){s.close();return}Xs(a instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),s.enqueue(new Uint8Array(a),1,[a])}).catch(a=>{s.error(a)})},s.onCancel=a=>{this._fullReader.cancel(a),s.ready.catch(o=>{if(!this.destroyed)throw o})}}),e.on("ReaderHeadersReady",async r=>{var l;await this._fullReader.headersReady;const{isStreamingSupported:s,isRangeSupported:a,contentLength:o}=this._fullReader;return(!s||!a)&&(this._lastProgress&&((l=n.onProgress)==null||l.call(n,this._lastProgress)),this._fullReader.onProgress=c=>{var u;(u=n.onProgress)==null||u.call(n,{loaded:c.loaded,total:c.total})}),{isStreamingSupported:s,isRangeSupported:a,contentLength:o}}),e.on("GetRangeReader",(r,s)=>{Xs(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const a=this._networkStream.getRangeReader(r.begin,r.end);if(!a){s.close();return}s.onPull=()=>{a.read().then(function({value:o,done:l}){if(l){s.close();return}Xs(o instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),s.enqueue(new Uint8Array(o),1,[o])}).catch(o=>{s.error(o)})},s.onCancel=o=>{a.cancel(o),s.ready.catch(l=>{if(!this.destroyed)throw l})}}),e.on("GetDoc",({pdfInfo:r})=>{this._numPages=r.numPages,this._htmlForXfa=r.htmlForXfa,delete r.htmlForXfa,n._capability.resolve(new rTe(r,this))}),e.on("DocException",r=>{n._capability.reject(Xl(r))}),e.on("PasswordRequest",r=>{le(this,YA,Promise.withResolvers());try{if(!n.onPassword)throw Xl(r);const s=a=>{a instanceof Error?B(this,YA).reject(a):B(this,YA).resolve({password:a})};n.onPassword(s,r.code)}catch(s){B(this,YA).reject(s)}return B(this,YA).promise}),e.on("DataLoaded",r=>{var s;(s=n.onProgress)==null||s.call(n,{loaded:r.length,total:r.length}),this.downloadInfoCapability.resolve(r)}),e.on("StartRenderPage",r=>{if(this.destroyed)return;B(this,uf).get(r.pageIndex)._startRenderPage(r.transparency,r.cacheKey)}),e.on("commonobj",([r,s,a])=>{var o;if(this.destroyed||this.commonObjs.has(r))return null;switch(s){case"Font":const{disableFontFace:l,fontExtraProperties:c,pdfBug:u}=this._params;if("error"in a){const A=a.error;Yn(`Error during font loading: ${A}`),this.commonObjs.resolve(r,A);break}const d=u&&((o=globalThis.FontInspector)!=null&&o.enabled)?(A,v)=>globalThis.FontInspector.fontAdded(A,v):null,h=new a3e(a,{disableFontFace:l,fontExtraProperties:c,inspectFont:d});this.fontLoader.bind(h).catch(()=>e.sendWithPromise("FontFallback",{id:r})).finally(()=>{!c&&h.data&&(h.data=null),this.commonObjs.resolve(r,h)});break;case"CopyLocalImage":const{imageRef:f}=a;Xs(f,"The imageRef must be defined.");for(const A of B(this,uf).values())for(const[,v]of A.objs)if((v==null?void 0:v.ref)===f)return v.dataLen?(this.commonObjs.resolve(r,structuredClone(v)),v.dataLen):null;break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(r,a);break;default:throw new Error(`Got unknown common object type ${s}`)}return null}),e.on("obj",([r,s,a,o])=>{var c;if(this.destroyed)return;const l=B(this,uf).get(s);if(!l.objs.has(r)){if(l._intentStates.size===0){(c=o==null?void 0:o.bitmap)==null||c.close();return}switch(a){case"Image":l.objs.resolve(r,o),(o==null?void 0:o.dataLen)>UDe&&(l._maybeCleanupAfterRender=!0);break;case"Pattern":l.objs.resolve(r,o);break;default:throw new Error(`Got unknown object type ${a}`)}}}),e.on("DocProgress",r=>{var s;this.destroyed||(s=n.onProgress)==null||s.call(n,{loaded:r.loaded,total:r.total})}),e.on("FetchBuiltInCMap",async r=>{if(this.destroyed)throw new Error("Worker was destroyed.");if(!this.cMapReaderFactory)throw new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter.");return this.cMapReaderFactory.fetch(r)}),e.on("FetchStandardFontData",async r=>{if(this.destroyed)throw new Error("Worker was destroyed.");if(!this.standardFontDataFactory)throw new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.");return this.standardFontDataFactory.fetch(r)})}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var r;this.annotationStorage.size<=0&&Yn("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:e,transfer:n}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:e,filename:((r=this._fullReader)==null?void 0:r.filename)??null},n).finally(()=>{this.annotationStorage.resetModified()})}getPage(e){if(!Number.isInteger(e)||e<=0||e>this._numPages)return Promise.reject(new Error("Invalid page request."));const n=e-1,r=B(this,uw).get(n);if(r)return r;const s=this.messageHandler.sendWithPromise("GetPage",{pageIndex:n}).then(a=>{if(this.destroyed)throw new Error("Transport destroyed");a.refStr&&B(this,dw).set(a.refStr,e);const o=new iTe(n,a,this,this._params.pdfBug);return B(this,uf).set(n,o),o});return B(this,uw).set(n,s),s}getPageIndex(e){return LG(e)?this.messageHandler.sendWithPromise("GetPageIndex",{num:e.num,gen:e.gen}):Promise.reject(new Error("Invalid pageIndex request."))}getAnnotations(e,n){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:e,intent:n})}getFieldObjects(){return je(this,v0,CN).call(this,"GetFieldObjects")}hasJSActions(){return je(this,v0,CN).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(e){return typeof e!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:e})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return je(this,v0,CN).call(this,"GetDocJSActions")}getPageJSActions(e){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:e})}getStructTree(e){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:e})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(e){return je(this,v0,CN).call(this,"GetOptionalContentConfig").then(n=>new E3e(n,e))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const e="GetMetadata",n=B(this,XA).get(e);if(n)return n;const r=this.messageHandler.sendWithPromise(e,null).then(s=>{var a,o;return{info:s[0],metadata:s[1]?new C3e(s[1]):null,contentDispositionFilename:((a=this._fullReader)==null?void 0:a.filename)??null,contentLength:((o=this._fullReader)==null?void 0:o.contentLength)??null}});return B(this,XA).set(e,r),r}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(e=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const n of B(this,uf).values())if(!n.cleanup())throw new Error(`startCleanup: Page ${n.pageNumber} is currently rendering.`);this.commonObjs.clear(),e||this.fontLoader.clear(),B(this,XA).clear(),this.filterFactory.destroy(!0),B_.cleanup()}}cachedPageNumber(e){if(!LG(e))return null;const n=e.gen===0?`${e.num}R`:`${e.num}R${e.gen}`;return B(this,dw).get(n)??null}}XA=new WeakMap,uf=new WeakMap,uw=new WeakMap,dw=new WeakMap,YA=new WeakMap,v0=new WeakSet,CN=function(e,n=null){const r=B(this,XA).get(e);if(r)return r;const s=this.messageHandler.sendWithPromise(e,n);return B(this,XA).set(e,s),s};const Oj=Symbol("INITIAL_DATA");var Dc,DC,s7;class qhe{constructor(){be(this,DC);be(this,Dc,Object.create(null))}get(e,n=null){if(n){const s=je(this,DC,s7).call(this,e);return s.promise.then(()=>n(s.data)),null}const r=B(this,Dc)[e];if(!r||r.data===Oj)throw new Error(`Requesting object that isn't resolved yet ${e}.`);return r.data}has(e){const n=B(this,Dc)[e];return!!n&&n.data!==Oj}delete(e){const n=B(this,Dc)[e];return!n||n.data===Oj?!1:(delete B(this,Dc)[e],!0)}resolve(e,n=null){const r=je(this,DC,s7).call(this,e);r.data=n,r.resolve()}clear(){var e;for(const n in B(this,Dc)){const{data:r}=B(this,Dc)[n];(e=r==null?void 0:r.bitmap)==null||e.close()}le(this,Dc,Object.create(null))}*[Symbol.iterator](){for(const e in B(this,Dc)){const{data:n}=B(this,Dc)[e];n!==Oj&&(yield[e,n])}}}Dc=new WeakMap,DC=new WeakSet,s7=function(e){var n;return(n=B(this,Dc))[e]||(n[e]={...Promise.withResolvers(),data:Oj})};var bg;class oTe{constructor(e){be(this,bg,null);le(this,bg,e),this.onContinue=null}get promise(){return B(this,bg).capability.promise}cancel(e=0){B(this,bg).cancel(null,e)}get separateAnnots(){const{separateAnnots:e}=B(this,bg).operatorList;if(!e)return!1;const{annotationCanvasMap:n}=B(this,bg);return e.form||e.canvas&&(n==null?void 0:n.size)>0}}bg=new WeakMap;var wg,y0;const Dv=class Dv{constructor({callback:e,params:n,objs:r,commonObjs:s,annotationCanvasMap:a,operatorList:o,pageIndex:l,canvasFactory:c,filterFactory:u,useRequestAnimationFrame:d=!1,pdfBug:h=!1,pageColors:f=null}){be(this,wg,null);this.callback=e,this.params=n,this.objs=r,this.commonObjs=s,this.annotationCanvasMap=a,this.operatorListIdx=null,this.operatorList=o,this._pageIndex=l,this.canvasFactory=c,this.filterFactory=u,this._pdfBug=h,this.pageColors=f,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=d===!0&&typeof window<"u",this.cancelled=!1,this.capability=Promise.withResolvers(),this.task=new oTe(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=n.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:e=!1,optionalContentConfig:n}){var l,c;if(this.cancelled)return;if(this._canvas){if(B(Dv,y0).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");B(Dv,y0).add(this._canvas)}this._pdfBug&&((l=globalThis.StepperManager)!=null&&l.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:r,viewport:s,transform:a,background:o}=this.params;this.gfx=new y1(r,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:n},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:a,viewport:s,transparency:e,background:o}),this.operatorListIdx=0,this.graphicsReady=!0,(c=this.graphicsReadyCallback)==null||c.call(this)}cancel(e=null,n=0){var r;this.running=!1,this.cancelled=!0,(r=this.gfx)==null||r.endDrawing(),B(this,wg)&&(window.cancelAnimationFrame(B(this,wg)),le(this,wg,null)),B(Dv,y0).delete(this._canvas),this.callback(e||new Nz(`Rendering cancelled, page ${this._pageIndex+1}`,n))}operatorListChanged(){var e;if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}(e=this.stepper)==null||e.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?le(this,wg,window.requestAnimationFrame(()=>{le(this,wg,null),this._nextBound().catch(this._cancelBound)})):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),B(Dv,y0).delete(this._canvas),this.callback())))}};wg=new WeakMap,y0=new WeakMap,be(Dv,y0,new WeakSet);let a7=Dv;const lTe="4.10.38",cTe="f9bea397f";function RG(t){return Math.floor(Math.max(0,Math.min(1,t))*255).toString(16).padStart(2,"0")}function Mj(t){return Math.max(0,Math.min(255,255*t))}class QG{static CMYK_G([e,n,r,s]){return["G",1-Math.min(1,.3*e+.59*r+.11*n+s)]}static G_CMYK([e]){return["CMYK",0,0,0,1-e]}static G_RGB([e]){return["RGB",e,e,e]}static G_rgb([e]){return e=Mj(e),[e,e,e]}static G_HTML([e]){const n=RG(e);return`#${n}${n}${n}`}static RGB_G([e,n,r]){return["G",.3*e+.59*n+.11*r]}static RGB_rgb(e){return e.map(Mj)}static RGB_HTML(e){return`#${e.map(RG).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([e,n,r,s]){return["RGB",1-Math.min(1,e+s),1-Math.min(1,r+s),1-Math.min(1,n+s)]}static CMYK_rgb([e,n,r,s]){return[Mj(1-Math.min(1,e+s)),Mj(1-Math.min(1,r+s)),Mj(1-Math.min(1,n+s))]}static CMYK_HTML(e){const n=this.CMYK_RGB(e).slice(1);return this.RGB_HTML(n)}static RGB_CMYK([e,n,r]){const s=1-e,a=1-n,o=1-r,l=Math.min(s,a,o);return["CMYK",s,a,o,l]}}class uTe{create(e,n,r=!1){if(e<=0||n<=0)throw new Error("Invalid SVG dimensions");const s=this._createSVG("svg:svg");return s.setAttribute("version","1.1"),r||(s.setAttribute("width",`${e}px`),s.setAttribute("height",`${n}px`)),s.setAttribute("preserveAspectRatio","none"),s.setAttribute("viewBox",`0 0 ${e} ${n}`),s}createElement(e){if(typeof e!="string")throw new Error("Invalid SVG element type");return this._createSVG(e)}_createSVG(e){xi("Abstract method `_createSVG` called.")}}class Dz extends uTe{_createSVG(e){return document.createElementNS(TA,e)}}class Vhe{static setupStorage(e,n,r,s,a){const o=s.getValue(n,{value:null});switch(r.name){case"textarea":if(o.value!==null&&(e.textContent=o.value),a==="print")break;e.addEventListener("input",l=>{s.setValue(n,{value:l.target.value})});break;case"input":if(r.attributes.type==="radio"||r.attributes.type==="checkbox"){if(o.value===r.attributes.xfaOn?e.setAttribute("checked",!0):o.value===r.attributes.xfaOff&&e.removeAttribute("checked"),a==="print")break;e.addEventListener("change",l=>{s.setValue(n,{value:l.target.checked?l.target.getAttribute("xfaOn"):l.target.getAttribute("xfaOff")})})}else{if(o.value!==null&&e.setAttribute("value",o.value),a==="print")break;e.addEventListener("input",l=>{s.setValue(n,{value:l.target.value})})}break;case"select":if(o.value!==null){e.setAttribute("value",o.value);for(const l of r.children)l.attributes.value===o.value?l.attributes.selected=!0:l.attributes.hasOwnProperty("selected")&&delete l.attributes.selected}e.addEventListener("input",l=>{const c=l.target.options,u=c.selectedIndex===-1?"":c[c.selectedIndex].value;s.setValue(n,{value:u})});break}}static setAttributes({html:e,element:n,storage:r=null,intent:s,linkService:a}){const{attributes:o}=n,l=e instanceof HTMLAnchorElement;o.type==="radio"&&(o.name=`${o.name}-${s}`);for(const[c,u]of Object.entries(o))if(u!=null)switch(c){case"class":u.length&&e.setAttribute(c,u.join(" "));break;case"dataId":break;case"id":e.setAttribute("data-element-id",u);break;case"style":Object.assign(e.style,u);break;case"textContent":e.textContent=u;break;default:(!l||c!=="href"&&c!=="newWindow")&&e.setAttribute(c,u)}l&&a.addLinkAttributes(e,o.href,o.newWindow),r&&o.dataId&&this.setupStorage(e,o.dataId,n,r)}static render(e){var h,f;const n=e.annotationStorage,r=e.linkService,s=e.xfaHtml,a=e.intent||"display",o=document.createElement(s.name);s.attributes&&this.setAttributes({html:o,element:s,intent:a,linkService:r});const l=a!=="richText",c=e.div;if(c.append(o),e.viewport){const A=`matrix(${e.viewport.transform.join(",")})`;c.style.transform=A}l&&c.setAttribute("class","xfaLayer xfaFont");const u=[];if(s.children.length===0){if(s.value){const A=document.createTextNode(s.value);o.append(A),l&&D_.shouldBuildText(s.name)&&u.push(A)}return{textDivs:u}}const d=[[s,-1,o]];for(;d.length>0;){const[A,v,p]=d.at(-1);if(v+1===A.children.length){d.pop();continue}const m=A.children[++d.at(-1)[1]];if(m===null)continue;const{name:g}=m;if(g==="#text"){const b=document.createTextNode(m.value);u.push(b),p.append(b);continue}const x=(h=m==null?void 0:m.attributes)!=null&&h.xmlns?document.createElementNS(m.attributes.xmlns,g):document.createElement(g);if(p.append(x),m.attributes&&this.setAttributes({html:x,element:m,storage:n,intent:a,linkService:r}),((f=m.children)==null?void 0:f.length)>0)d.push([m,-1,x]);else if(m.value){const b=document.createTextNode(m.value);l&&D_.shouldBuildText(g)&&u.push(b),x.append(b)}}for(const A of c.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))A.setAttribute("readOnly",!0);return{textDivs:u}}static update(e){const n=`matrix(${e.viewport.transform.join(",")})`;e.div.style.transform=n,e.div.hidden=!1}}const ES=1e3,dTe=9,cy=new WeakSet;function zg(t){return{width:t[2]-t[0],height:t[3]-t[1]}}class hTe{static create(e){switch(e.data.annotationType){case ca.LINK:return new Khe(e);case ca.TEXT:return new fTe(e);case ca.WIDGET:switch(e.data.fieldType){case"Tx":return new ATe(e);case"Btn":return e.data.radioButton?new Yhe(e):e.data.checkBox?new mTe(e):new gTe(e);case"Ch":return new xTe(e);case"Sig":return new pTe(e)}return new Dy(e);case ca.POPUP:return new l7(e);case ca.FREETEXT:return new nfe(e);case ca.LINE:return new yTe(e);case ca.SQUARE:return new bTe(e);case ca.CIRCLE:return new wTe(e);case ca.POLYLINE:return new rfe(e);case ca.CARET:return new NTe(e);case ca.INK:return new Tz(e);case ca.POLYGON:return new jTe(e);case ca.HIGHLIGHT:return new ife(e);case ca.UNDERLINE:return new _Te(e);case ca.SQUIGGLY:return new CTe(e);case ca.STRIKEOUT:return new STe(e);case ca.STAMP:return new sfe(e);case ca.FILEATTACHMENT:return new ETe(e);default:return new Hs(e)}}}var b0,hw,fw,TC,o7;const cV=class cV{constructor(e,{isRenderable:n=!1,ignoreBorder:r=!1,createQuadrilaterals:s=!1}={}){be(this,TC);be(this,b0,null);be(this,hw,!1);be(this,fw,null);this.isRenderable=n,this.data=e.data,this.layer=e.layer,this.linkService=e.linkService,this.downloadManager=e.downloadManager,this.imageResourcesPath=e.imageResourcesPath,this.renderForms=e.renderForms,this.svgFactory=e.svgFactory,this.annotationStorage=e.annotationStorage,this.enableScripting=e.enableScripting,this.hasJSActions=e.hasJSActions,this._fieldObjects=e.fieldObjects,this.parent=e.parent,n&&(this.container=this._createContainer(r)),s&&this._createQuadrilaterals()}static _hasPopupData({titleObj:e,contentsObj:n,richText:r}){return!!(e!=null&&e.str||n!=null&&n.str||r!=null&&r.str)}get _isEditable(){return this.data.isEditable}get hasPopupData(){return cV._hasPopupData(this.data)}updateEdited(e){var r;if(!this.container)return;B(this,b0)||le(this,b0,{rect:this.data.rect.slice(0)});const{rect:n}=e;n&&je(this,TC,o7).call(this,n),(r=B(this,fw))==null||r.popup.updateEdited(e)}resetEdited(){var e;B(this,b0)&&(je(this,TC,o7).call(this,B(this,b0).rect),(e=B(this,fw))==null||e.popup.resetEdited(),le(this,b0,null))}_createContainer(e){const{data:n,parent:{page:r,viewport:s}}=this,a=document.createElement("section");a.setAttribute("data-annotation-id",n.id),this instanceof Dy||(a.tabIndex=ES);const{style:o}=a;if(o.zIndex=this.parent.zIndex++,n.alternativeText&&(a.title=n.alternativeText),n.noRotate&&a.classList.add("norotate"),!n.rect||this instanceof l7){const{rotation:p}=n;return!n.hasOwnCanvas&&p!==0&&this.setRotation(p,a),a}const{width:l,height:c}=zg(n.rect);if(!e&&n.borderStyle.width>0){o.borderWidth=`${n.borderStyle.width}px`;const p=n.borderStyle.horizontalCornerRadius,m=n.borderStyle.verticalCornerRadius;if(p>0||m>0){const x=`calc(${p}px * var(--scale-factor)) / calc(${m}px * var(--scale-factor))`;o.borderRadius=x}else if(this instanceof Yhe){const x=`calc(${l}px * var(--scale-factor)) / calc(${c}px * var(--scale-factor))`;o.borderRadius=x}switch(n.borderStyle.style){case Uj.SOLID:o.borderStyle="solid";break;case Uj.DASHED:o.borderStyle="dashed";break;case Uj.BEVELED:Yn("Unimplemented border style: beveled");break;case Uj.INSET:Yn("Unimplemented border style: inset");break;case Uj.UNDERLINE:o.borderBottomStyle="solid";break}const g=n.borderColor||null;g?(le(this,hw,!0),o.borderColor=un.makeHexColor(g[0]|0,g[1]|0,g[2]|0)):o.borderWidth=0}const u=un.normalizeRect([n.rect[0],r.view[3]-n.rect[1]+r.view[1],n.rect[2],r.view[3]-n.rect[3]+r.view[1]]),{pageWidth:d,pageHeight:h,pageX:f,pageY:A}=s.rawDims;o.left=`${100*(u[0]-f)/d}%`,o.top=`${100*(u[1]-A)/h}%`;const{rotation:v}=n;return n.hasOwnCanvas||v===0?(o.width=`${100*l/d}%`,o.height=`${100*c/h}%`):this.setRotation(v,a),a}setRotation(e,n=this.container){if(!this.data.rect)return;const{pageWidth:r,pageHeight:s}=this.parent.viewport.rawDims,{width:a,height:o}=zg(this.data.rect);let l,c;e%180===0?(l=100*a/r,c=100*o/s):(l=100*o/r,c=100*a/s),n.style.width=`${l}%`,n.style.height=`${c}%`,n.setAttribute("data-main-rotation",(360-e)%360)}get _commonActions(){const e=(n,r,s)=>{const a=s.detail[n],o=a[0],l=a.slice(1);s.target.style[r]=QG[`${o}_HTML`](l),this.annotationStorage.setValue(this.data.id,{[r]:QG[`${o}_rgb`](l)})};return or(this,"_commonActions",{display:n=>{const{display:r}=n.detail,s=r%2===1;this.container.style.visibility=s?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:s,noPrint:r===1||r===2})},print:n=>{this.annotationStorage.setValue(this.data.id,{noPrint:!n.detail.print})},hidden:n=>{const{hidden:r}=n.detail;this.container.style.visibility=r?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:r,noView:r})},focus:n=>{setTimeout(()=>n.target.focus({preventScroll:!1}),0)},userName:n=>{n.target.title=n.detail.userName},readonly:n=>{n.target.disabled=n.detail.readonly},required:n=>{this._setRequired(n.target,n.detail.required)},bgColor:n=>{e("bgColor","backgroundColor",n)},fillColor:n=>{e("fillColor","backgroundColor",n)},fgColor:n=>{e("fgColor","color",n)},textColor:n=>{e("textColor","color",n)},borderColor:n=>{e("borderColor","borderColor",n)},strokeColor:n=>{e("strokeColor","borderColor",n)},rotation:n=>{const r=n.detail.rotation;this.setRotation(r),this.annotationStorage.setValue(this.data.id,{rotation:r})}})}_dispatchEventFromSandbox(e,n){const r=this._commonActions;for(const s of Object.keys(n.detail)){const a=e[s]||r[s];a==null||a(n)}}_setDefaultPropertiesFromJS(e){if(!this.enableScripting)return;const n=this.annotationStorage.getRawValue(this.data.id);if(!n)return;const r=this._commonActions;for(const[s,a]of Object.entries(n)){const o=r[s];if(o){const l={detail:{[s]:a},target:e};o(l),delete n[s]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:e}=this.data;if(!e)return;const[n,r,s,a]=this.data.rect.map(p=>Math.fround(p));if(e.length===8){const[p,m,g,x]=e.subarray(2,6);if(s===p&&a===m&&n===g&&r===x)return}const{style:o}=this.container;let l;if(B(this,hw)){const{borderColor:p,borderWidth:m}=o;o.borderWidth=0,l=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${p}" stroke-width="${m}">`],this.container.classList.add("hasBorder")}const c=s-n,u=a-r,{svgFactory:d}=this,h=d.createElement("svg");h.classList.add("quadrilateralsContainer"),h.setAttribute("width",0),h.setAttribute("height",0);const f=d.createElement("defs");h.append(f);const A=d.createElement("clipPath"),v=`clippath_${this.data.id}`;A.setAttribute("id",v),A.setAttribute("clipPathUnits","objectBoundingBox"),f.append(A);for(let p=2,m=e.length;p<m;p+=8){const g=e[p],x=e[p+1],b=e[p+2],j=e[p+3],N=d.createElement("rect"),_=(b-n)/c,C=(a-x)/u,k=(g-b)/c,T=(x-j)/u;N.setAttribute("x",_),N.setAttribute("y",C),N.setAttribute("width",k),N.setAttribute("height",T),A.append(N),l==null||l.push(`<rect vector-effect="non-scaling-stroke" x="${_}" y="${C}" width="${k}" height="${T}"/>`)}B(this,hw)&&(l.push("</g></svg>')"),o.backgroundImage=l.join("")),this.container.append(h),this.container.style.clipPath=`url(#${v})`}_createPopup(){const{data:e}=this,n=le(this,fw,new l7({data:{color:e.color,titleObj:e.titleObj,modificationDate:e.modificationDate,contentsObj:e.contentsObj,richText:e.richText,parentRect:e.rect,borderStyle:0,id:`popup_${e.id}`,rotation:e.rotation},parent:this.parent,elements:[this]}));this.parent.div.append(n.render())}render(){xi("Abstract method `AnnotationElement.render` called")}_getElementsByName(e,n=null){const r=[];if(this._fieldObjects){const s=this._fieldObjects[e];if(s)for(const{page:a,id:o,exportValues:l}of s){if(a===-1||o===n)continue;const c=typeof l=="string"?l:null,u=document.querySelector(`[data-element-id="${o}"]`);if(u&&!cy.has(u)){Yn(`_getElementsByName - element not allowed: ${o}`);continue}r.push({id:o,exportValue:c,domElement:u})}return r}for(const s of document.getElementsByName(e)){const{exportValue:a}=s,o=s.getAttribute("data-element-id");o!==n&&cy.has(s)&&r.push({id:o,exportValue:a,domElement:s})}return r}show(){var e;this.container&&(this.container.hidden=!1),(e=this.popup)==null||e.maybeShow()}hide(){var e;this.container&&(this.container.hidden=!0),(e=this.popup)==null||e.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const e=this.getElementsToTriggerPopup();if(Array.isArray(e))for(const n of e)n.classList.add("highlightArea");else e.classList.add("highlightArea")}_editOnDoubleClick(){if(!this._isEditable)return;const{annotationEditorType:e,data:{id:n}}=this;this.container.addEventListener("dblclick",()=>{var r;(r=this.linkService.eventBus)==null||r.dispatch("switchannotationeditormode",{source:this,mode:e,editId:n})})}};b0=new WeakMap,hw=new WeakMap,fw=new WeakMap,TC=new WeakSet,o7=function(e){const{container:{style:n},data:{rect:r,rotation:s},parent:{viewport:{rawDims:{pageWidth:a,pageHeight:o,pageX:l,pageY:c}}}}=this;r==null||r.splice(0,4,...e);const{width:u,height:d}=zg(e);n.left=`${100*(e[0]-l)/a}%`,n.top=`${100*(o-e[3]+c)/o}%`,s===0?(n.width=`${100*u/a}%`,n.height=`${100*d/o}%`):this.setRotation(s)};let Hs=cV;var zc,pv,Ghe,Xhe;class Khe extends Hs{constructor(n,r=null){super(n,{isRenderable:!0,ignoreBorder:!!(r!=null&&r.ignoreBorder),createQuadrilaterals:!0});be(this,zc);this.isTooltipOnly=n.data.isTooltipOnly}render(){const{data:n,linkService:r}=this,s=document.createElement("a");s.setAttribute("data-element-id",n.id);let a=!1;return n.url?(r.addLinkAttributes(s,n.url,n.newWindow),a=!0):n.action?(this._bindNamedAction(s,n.action),a=!0):n.attachment?(je(this,zc,Ghe).call(this,s,n.attachment,n.attachmentDest),a=!0):n.setOCGState?(je(this,zc,Xhe).call(this,s,n.setOCGState),a=!0):n.dest?(this._bindLink(s,n.dest),a=!0):(n.actions&&(n.actions.Action||n.actions["Mouse Up"]||n.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(s,n),a=!0),n.resetForm?(this._bindResetFormAction(s,n.resetForm),a=!0):this.isTooltipOnly&&!a&&(this._bindLink(s,""),a=!0)),this.container.classList.add("linkAnnotation"),a&&this.container.append(s),this.container}_bindLink(n,r){n.href=this.linkService.getDestinationHash(r),n.onclick=()=>(r&&this.linkService.goToDestination(r),!1),(r||r==="")&&je(this,zc,pv).call(this)}_bindNamedAction(n,r){n.href=this.linkService.getAnchorUrl(""),n.onclick=()=>(this.linkService.executeNamedAction(r),!1),je(this,zc,pv).call(this)}_bindJSAction(n,r){n.href=this.linkService.getAnchorUrl("");const s=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const a of Object.keys(r.actions)){const o=s.get(a);o&&(n[o]=()=>{var l;return(l=this.linkService.eventBus)==null||l.dispatch("dispatcheventinsandbox",{source:this,detail:{id:r.id,name:a}}),!1})}n.onclick||(n.onclick=()=>!1),je(this,zc,pv).call(this)}_bindResetFormAction(n,r){const s=n.onclick;if(s||(n.href=this.linkService.getAnchorUrl("")),je(this,zc,pv).call(this),!this._fieldObjects){Yn('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),s||(n.onclick=()=>!1);return}n.onclick=()=>{var h;s==null||s();const{fields:a,refs:o,include:l}=r,c=[];if(a.length!==0||o.length!==0){const f=new Set(o);for(const A of a){const v=this._fieldObjects[A]||[];for(const{id:p}of v)f.add(p)}for(const A of Object.values(this._fieldObjects))for(const v of A)f.has(v.id)===l&&c.push(v)}else for(const f of Object.values(this._fieldObjects))c.push(...f);const u=this.annotationStorage,d=[];for(const f of c){const{id:A}=f;switch(d.push(A),f.type){case"text":{const p=f.defaultValue||"";u.setValue(A,{value:p});break}case"checkbox":case"radiobutton":{const p=f.defaultValue===f.exportValues;u.setValue(A,{value:p});break}case"combobox":case"listbox":{const p=f.defaultValue||"";u.setValue(A,{value:p});break}default:continue}const v=document.querySelector(`[data-element-id="${A}"]`);if(v){if(!cy.has(v)){Yn(`_bindResetFormAction - element not allowed: ${A}`);continue}}else continue;v.dispatchEvent(new Event("resetform"))}return this.enableScripting&&((h=this.linkService.eventBus)==null||h.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:d,name:"ResetForm"}})),!1}}}zc=new WeakSet,pv=function(){this.container.setAttribute("data-internal-link","")},Ghe=function(n,r,s=null){n.href=this.linkService.getAnchorUrl(""),r.description&&(n.title=r.description),n.onclick=()=>{var a;return(a=this.downloadManager)==null||a.openOrDownloadData(r.content,r.filename,s),!1},je(this,zc,pv).call(this)},Xhe=function(n,r){n.href=this.linkService.getAnchorUrl(""),n.onclick=()=>(this.linkService.executeSetOCGState(r),!1),je(this,zc,pv).call(this)};class fTe extends Hs{constructor(e){super(e,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const e=document.createElement("img");return e.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",e.setAttribute("data-l10n-id","pdfjs-text-annotation-type"),e.setAttribute("data-l10n-args",JSON.stringify({type:this.data.name})),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(e),this.container}}class Dy extends Hs{render(){return this.container}showElementAndHideCanvas(e){var n;this.data.hasOwnCanvas&&(((n=e.previousSibling)==null?void 0:n.nodeName)==="CANVAS"&&(e.previousSibling.hidden=!0),e.hidden=!1)}_getKeyModifier(e){return El.platform.isMac?e.metaKey:e.ctrlKey}_setEventListener(e,n,r,s,a){r.includes("mouse")?e.addEventListener(r,o=>{var l;(l=this.linkService.eventBus)==null||l.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:s,value:a(o),shift:o.shiftKey,modifier:this._getKeyModifier(o)}})}):e.addEventListener(r,o=>{var l;if(r==="blur"){if(!n.focused||!o.relatedTarget)return;n.focused=!1}else if(r==="focus"){if(n.focused)return;n.focused=!0}a&&((l=this.linkService.eventBus)==null||l.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:s,value:a(o)}}))})}_setEventListeners(e,n,r,s){var a,o,l;for(const[c,u]of r)(u==="Action"||(a=this.data.actions)!=null&&a[u])&&((u==="Focus"||u==="Blur")&&(n||(n={focused:!1})),this._setEventListener(e,n,c,u,s),u==="Focus"&&!((o=this.data.actions)!=null&&o.Blur)?this._setEventListener(e,n,"blur","Blur",null):u==="Blur"&&!((l=this.data.actions)!=null&&l.Focus)&&this._setEventListener(e,n,"focus","Focus",null))}_setBackgroundColor(e){const n=this.data.backgroundColor||null;e.style.backgroundColor=n===null?"transparent":un.makeHexColor(n[0],n[1],n[2])}_setTextStyle(e){const n=["left","center","right"],{fontColor:r}=this.data.defaultAppearanceData,s=this.data.defaultAppearanceData.fontSize||dTe,a=e.style;let o;const l=2,c=u=>Math.round(10*u)/10;if(this.data.multiLine){const u=Math.abs(this.data.rect[3]-this.data.rect[1]-l),d=Math.round(u/(MP*s))||1,h=u/d;o=Math.min(s,c(h/MP))}else{const u=Math.abs(this.data.rect[3]-this.data.rect[1]-l);o=Math.min(s,c(u/MP))}a.fontSize=`calc(${o}px * var(--scale-factor))`,a.color=un.makeHexColor(r[0],r[1],r[2]),this.data.textAlignment!==null&&(a.textAlign=n[this.data.textAlignment])}_setRequired(e,n){n?e.setAttribute("required",!0):e.removeAttribute("required"),e.setAttribute("aria-required",n)}}class ATe extends Dy{constructor(e){const n=e.renderForms||e.data.hasOwnCanvas||!e.data.hasAppearance&&!!e.data.fieldValue;super(e,{isRenderable:n})}setPropertyOnSiblings(e,n,r,s){const a=this.annotationStorage;for(const o of this._getElementsByName(e.name,e.id))o.domElement&&(o.domElement[n]=r),a.setValue(o.id,{[s]:r})}render(){var s,a;const e=this.annotationStorage,n=this.data.id;this.container.classList.add("textWidgetAnnotation");let r=null;if(this.renderForms){const o=e.getValue(n,{value:this.data.fieldValue});let l=o.value||"";const c=e.getValue(n,{charLimit:this.data.maxLen}).charLimit;c&&l.length>c&&(l=l.slice(0,c));let u=o.formattedValue||((s=this.data.textContent)==null?void 0:s.join(`
`))||null;u&&this.data.comb&&(u=u.replaceAll(/\s+/g,""));const d={userValue:l,formattedValue:u,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(r=document.createElement("textarea"),r.textContent=u??l,this.data.doNotScroll&&(r.style.overflowY="hidden")):(r=document.createElement("input"),r.type="text",r.setAttribute("value",u??l),this.data.doNotScroll&&(r.style.overflowX="hidden")),this.data.hasOwnCanvas&&(r.hidden=!0),cy.add(r),r.setAttribute("data-element-id",n),r.disabled=this.data.readOnly,r.name=this.data.fieldName,r.tabIndex=ES,this._setRequired(r,this.data.required),c&&(r.maxLength=c),r.addEventListener("input",f=>{e.setValue(n,{value:f.target.value}),this.setPropertyOnSiblings(r,"value",f.target.value,"value"),d.formattedValue=null}),r.addEventListener("resetform",f=>{const A=this.data.defaultFieldValue??"";r.value=d.userValue=A,d.formattedValue=null});let h=f=>{const{formattedValue:A}=d;A!=null&&(f.target.value=A),f.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){r.addEventListener("focus",A=>{var p;if(d.focused)return;const{target:v}=A;d.userValue&&(v.value=d.userValue),d.lastCommittedValue=v.value,d.commitKey=1,(p=this.data.actions)!=null&&p.Focus||(d.focused=!0)}),r.addEventListener("updatefromsandbox",A=>{this.showElementAndHideCanvas(A.target);const v={value(p){d.userValue=p.detail.value??"",e.setValue(n,{value:d.userValue.toString()}),p.target.value=d.userValue},formattedValue(p){const{formattedValue:m}=p.detail;d.formattedValue=m,m!=null&&p.target!==document.activeElement&&(p.target.value=m),e.setValue(n,{formattedValue:m})},selRange(p){p.target.setSelectionRange(...p.detail.selRange)},charLimit:p=>{var b;const{charLimit:m}=p.detail,{target:g}=p;if(m===0){g.removeAttribute("maxLength");return}g.setAttribute("maxLength",m);let x=d.userValue;!x||x.length<=m||(x=x.slice(0,m),g.value=d.userValue=x,e.setValue(n,{value:x}),(b=this.linkService.eventBus)==null||b.dispatch("dispatcheventinsandbox",{source:this,detail:{id:n,name:"Keystroke",value:x,willCommit:!0,commitKey:1,selStart:g.selectionStart,selEnd:g.selectionEnd}}))}};this._dispatchEventFromSandbox(v,A)}),r.addEventListener("keydown",A=>{var m;d.commitKey=1;let v=-1;if(A.key==="Escape"?v=0:A.key==="Enter"&&!this.data.multiLine?v=2:A.key==="Tab"&&(d.commitKey=3),v===-1)return;const{value:p}=A.target;d.lastCommittedValue!==p&&(d.lastCommittedValue=p,d.userValue=p,(m=this.linkService.eventBus)==null||m.dispatch("dispatcheventinsandbox",{source:this,detail:{id:n,name:"Keystroke",value:p,willCommit:!0,commitKey:v,selStart:A.target.selectionStart,selEnd:A.target.selectionEnd}}))});const f=h;h=null,r.addEventListener("blur",A=>{var p,m;if(!d.focused||!A.relatedTarget)return;(p=this.data.actions)!=null&&p.Blur||(d.focused=!1);const{value:v}=A.target;d.userValue=v,d.lastCommittedValue!==v&&((m=this.linkService.eventBus)==null||m.dispatch("dispatcheventinsandbox",{source:this,detail:{id:n,name:"Keystroke",value:v,willCommit:!0,commitKey:d.commitKey,selStart:A.target.selectionStart,selEnd:A.target.selectionEnd}})),f(A)}),(a=this.data.actions)!=null&&a.Keystroke&&r.addEventListener("beforeinput",A=>{var N;d.lastCommittedValue=null;const{data:v,target:p}=A,{value:m,selectionStart:g,selectionEnd:x}=p;let b=g,j=x;switch(A.inputType){case"deleteWordBackward":{const _=m.substring(0,g).match(/\w*[^\w]*$/);_&&(b-=_[0].length);break}case"deleteWordForward":{const _=m.substring(g).match(/^[^\w]*\w*/);_&&(j+=_[0].length);break}case"deleteContentBackward":g===x&&(b-=1);break;case"deleteContentForward":g===x&&(j+=1);break}A.preventDefault(),(N=this.linkService.eventBus)==null||N.dispatch("dispatcheventinsandbox",{source:this,detail:{id:n,name:"Keystroke",value:m,change:v||"",willCommit:!1,selStart:b,selEnd:j}})}),this._setEventListeners(r,d,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],A=>A.target.value)}if(h&&r.addEventListener("blur",h),this.data.comb){const A=(this.data.rect[2]-this.data.rect[0])/c;r.classList.add("comb"),r.style.letterSpacing=`calc(${A}px * var(--scale-factor) - 1ch)`}}else r=document.createElement("div"),r.textContent=this.data.fieldValue,r.style.verticalAlign="middle",r.style.display="table-cell",this.data.hasOwnCanvas&&(r.hidden=!0);return this._setTextStyle(r),this._setBackgroundColor(r),this._setDefaultPropertiesFromJS(r),this.container.append(r),this.container}}class pTe extends Dy{constructor(e){super(e,{isRenderable:!!e.data.hasOwnCanvas})}}class mTe extends Dy{constructor(e){super(e,{isRenderable:e.renderForms})}render(){const e=this.annotationStorage,n=this.data,r=n.id;let s=e.getValue(r,{value:n.exportValue===n.fieldValue}).value;typeof s=="string"&&(s=s!=="Off",e.setValue(r,{value:s})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const a=document.createElement("input");return cy.add(a),a.setAttribute("data-element-id",r),a.disabled=n.readOnly,this._setRequired(a,this.data.required),a.type="checkbox",a.name=n.fieldName,s&&a.setAttribute("checked",!0),a.setAttribute("exportValue",n.exportValue),a.tabIndex=ES,a.addEventListener("change",o=>{const{name:l,checked:c}=o.target;for(const u of this._getElementsByName(l,r)){const d=c&&u.exportValue===n.exportValue;u.domElement&&(u.domElement.checked=d),e.setValue(u.id,{value:d})}e.setValue(r,{value:c})}),a.addEventListener("resetform",o=>{const l=n.defaultFieldValue||"Off";o.target.checked=l===n.exportValue}),this.enableScripting&&this.hasJSActions&&(a.addEventListener("updatefromsandbox",o=>{const l={value(c){c.target.checked=c.detail.value!=="Off",e.setValue(r,{value:c.target.checked})}};this._dispatchEventFromSandbox(l,o)}),this._setEventListeners(a,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],o=>o.target.checked)),this._setBackgroundColor(a),this._setDefaultPropertiesFromJS(a),this.container.append(a),this.container}}class Yhe extends Dy{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const e=this.annotationStorage,n=this.data,r=n.id;let s=e.getValue(r,{value:n.fieldValue===n.buttonValue}).value;if(typeof s=="string"&&(s=s!==n.buttonValue,e.setValue(r,{value:s})),s)for(const o of this._getElementsByName(n.fieldName,r))e.setValue(o.id,{value:!1});const a=document.createElement("input");if(cy.add(a),a.setAttribute("data-element-id",r),a.disabled=n.readOnly,this._setRequired(a,this.data.required),a.type="radio",a.name=n.fieldName,s&&a.setAttribute("checked",!0),a.tabIndex=ES,a.addEventListener("change",o=>{const{name:l,checked:c}=o.target;for(const u of this._getElementsByName(l,r))e.setValue(u.id,{value:!1});e.setValue(r,{value:c})}),a.addEventListener("resetform",o=>{const l=n.defaultFieldValue;o.target.checked=l!=null&&l===n.buttonValue}),this.enableScripting&&this.hasJSActions){const o=n.buttonValue;a.addEventListener("updatefromsandbox",l=>{const c={value:u=>{const d=o===u.detail.value;for(const h of this._getElementsByName(u.target.name)){const f=d&&h.id===r;h.domElement&&(h.domElement.checked=f),e.setValue(h.id,{value:f})}}};this._dispatchEventFromSandbox(c,l)}),this._setEventListeners(a,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],l=>l.target.checked)}return this._setBackgroundColor(a),this._setDefaultPropertiesFromJS(a),this.container.append(a),this.container}}class gTe extends Khe{constructor(e){super(e,{ignoreBorder:e.data.hasAppearance})}render(){const e=super.render();e.classList.add("buttonWidgetAnnotation","pushButton");const n=e.lastChild;return this.enableScripting&&this.hasJSActions&&n&&(this._setDefaultPropertiesFromJS(n),n.addEventListener("updatefromsandbox",r=>{this._dispatchEventFromSandbox({},r)})),e}}class xTe extends Dy{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const e=this.annotationStorage,n=this.data.id,r=e.getValue(n,{value:this.data.fieldValue}),s=document.createElement("select");cy.add(s),s.setAttribute("data-element-id",n),s.disabled=this.data.readOnly,this._setRequired(s,this.data.required),s.name=this.data.fieldName,s.tabIndex=ES;let a=this.data.combo&&this.data.options.length>0;this.data.combo||(s.size=this.data.options.length,this.data.multiSelect&&(s.multiple=!0)),s.addEventListener("resetform",d=>{const h=this.data.defaultFieldValue;for(const f of s.options)f.selected=f.value===h});for(const d of this.data.options){const h=document.createElement("option");h.textContent=d.displayValue,h.value=d.exportValue,r.value.includes(d.exportValue)&&(h.setAttribute("selected",!0),a=!1),s.append(h)}let o=null;if(a){const d=document.createElement("option");d.value=" ",d.setAttribute("hidden",!0),d.setAttribute("selected",!0),s.prepend(d),o=()=>{d.remove(),s.removeEventListener("input",o),o=null},s.addEventListener("input",o)}const l=d=>{const h=d?"value":"textContent",{options:f,multiple:A}=s;return A?Array.prototype.filter.call(f,v=>v.selected).map(v=>v[h]):f.selectedIndex===-1?null:f[f.selectedIndex][h]};let c=l(!1);const u=d=>{const h=d.target.options;return Array.prototype.map.call(h,f=>({displayValue:f.textContent,exportValue:f.value}))};return this.enableScripting&&this.hasJSActions?(s.addEventListener("updatefromsandbox",d=>{const h={value(f){o==null||o();const A=f.detail.value,v=new Set(Array.isArray(A)?A:[A]);for(const p of s.options)p.selected=v.has(p.value);e.setValue(n,{value:l(!0)}),c=l(!1)},multipleSelection(f){s.multiple=!0},remove(f){const A=s.options,v=f.detail.remove;A[v].selected=!1,s.remove(v),A.length>0&&Array.prototype.findIndex.call(A,m=>m.selected)===-1&&(A[0].selected=!0),e.setValue(n,{value:l(!0),items:u(f)}),c=l(!1)},clear(f){for(;s.length!==0;)s.remove(0);e.setValue(n,{value:null,items:[]}),c=l(!1)},insert(f){const{index:A,displayValue:v,exportValue:p}=f.detail.insert,m=s.children[A],g=document.createElement("option");g.textContent=v,g.value=p,m?m.before(g):s.append(g),e.setValue(n,{value:l(!0),items:u(f)}),c=l(!1)},items(f){const{items:A}=f.detail;for(;s.length!==0;)s.remove(0);for(const v of A){const{displayValue:p,exportValue:m}=v,g=document.createElement("option");g.textContent=p,g.value=m,s.append(g)}s.options.length>0&&(s.options[0].selected=!0),e.setValue(n,{value:l(!0),items:u(f)}),c=l(!1)},indices(f){const A=new Set(f.detail.indices);for(const v of f.target.options)v.selected=A.has(v.index);e.setValue(n,{value:l(!0)}),c=l(!1)},editable(f){f.target.disabled=!f.detail.editable}};this._dispatchEventFromSandbox(h,d)}),s.addEventListener("input",d=>{var A;const h=l(!0),f=l(!1);e.setValue(n,{value:h}),d.preventDefault(),(A=this.linkService.eventBus)==null||A.dispatch("dispatcheventinsandbox",{source:this,detail:{id:n,name:"Keystroke",value:c,change:f,changeEx:h,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(s,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],d=>d.target.value)):s.addEventListener("input",function(d){e.setValue(n,{value:l(!0)})}),this.data.combo&&this._setTextStyle(s),this._setBackgroundColor(s),this._setDefaultPropertiesFromJS(s),this.container.append(s),this.container}}class l7 extends Hs{constructor(e){const{data:n,elements:r}=e;super(e,{isRenderable:Hs._hasPopupData(n)}),this.elements=r,this.popup=null}render(){this.container.classList.add("popupAnnotation");const e=this.popup=new vTe({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),n=[];for(const r of this.elements)r.popup=e,r.container.ariaHasPopup="dialog",n.push(r.data.id),r.addHighlightArea();return this.container.setAttribute("aria-controls",n.map(r=>`${jz}${r}`).join(",")),this.container}}var Aw,GT,XT,pw,w0,vs,JA,mw,kC,FC,gw,ZA,$d,ep,PC,tp,UC,j0,N0,ui,SB,c7,Jhe,Zhe,efe,tfe,EB,BB,u7;class vTe{constructor({container:e,color:n,elements:r,titleObj:s,modificationDate:a,contentsObj:o,richText:l,parent:c,rect:u,parentRect:d,open:h}){be(this,ui);be(this,Aw,je(this,ui,efe).bind(this));be(this,GT,je(this,ui,u7).bind(this));be(this,XT,je(this,ui,BB).bind(this));be(this,pw,je(this,ui,EB).bind(this));be(this,w0,null);be(this,vs,null);be(this,JA,null);be(this,mw,null);be(this,kC,null);be(this,FC,null);be(this,gw,null);be(this,ZA,!1);be(this,$d,null);be(this,ep,null);be(this,PC,null);be(this,tp,null);be(this,UC,null);be(this,j0,null);be(this,N0,!1);var f;le(this,vs,e),le(this,UC,s),le(this,JA,o),le(this,tp,l),le(this,FC,c),le(this,w0,n),le(this,PC,u),le(this,gw,d),le(this,kC,r),le(this,mw,Cz.toDateObject(a)),this.trigger=r.flatMap(A=>A.getElementsToTriggerPopup());for(const A of this.trigger)A.addEventListener("click",B(this,pw)),A.addEventListener("mouseenter",B(this,XT)),A.addEventListener("mouseleave",B(this,GT)),A.classList.add("popupTriggerArea");for(const A of r)(f=A.container)==null||f.addEventListener("keydown",B(this,Aw));B(this,vs).hidden=!0,h&&je(this,ui,EB).call(this)}render(){if(B(this,$d))return;const e=le(this,$d,document.createElement("div"));if(e.className="popup",B(this,w0)){const a=e.style.outlineColor=un.makeHexColor(...B(this,w0));CSS.supports("background-color","color-mix(in srgb, red 30%, white)")?e.style.backgroundColor=`color-mix(in srgb, ${a} 30%, white)`:e.style.backgroundColor=un.makeHexColor(...B(this,w0).map(l=>Math.floor(.7*(255-l)+l)))}const n=document.createElement("span");n.className="header";const r=document.createElement("h1");if(n.append(r),{dir:r.dir,str:r.textContent}=B(this,UC),e.append(n),B(this,mw)){const a=document.createElement("span");a.classList.add("popupDate"),a.setAttribute("data-l10n-id","pdfjs-annotation-date-time-string"),a.setAttribute("data-l10n-args",JSON.stringify({dateObj:B(this,mw).valueOf()})),n.append(a)}const s=B(this,ui,SB);if(s)Vhe.render({xfaHtml:s,intent:"richText",div:e}),e.lastChild.classList.add("richText","popupContent");else{const a=this._formatContents(B(this,JA));e.append(a)}B(this,vs).append(e)}_formatContents({str:e,dir:n}){const r=document.createElement("p");r.classList.add("popupContent"),r.dir=n;const s=e.split(/(?:\r\n?|\n)/);for(let a=0,o=s.length;a<o;++a){const l=s[a];r.append(document.createTextNode(l)),a<o-1&&r.append(document.createElement("br"))}return r}updateEdited({rect:e,popupContent:n}){var r;B(this,j0)||le(this,j0,{contentsObj:B(this,JA),richText:B(this,tp)}),e&&le(this,ep,null),n&&(le(this,tp,je(this,ui,Zhe).call(this,n)),le(this,JA,null)),(r=B(this,$d))==null||r.remove(),le(this,$d,null)}resetEdited(){var e;B(this,j0)&&({contentsObj:hl(this,JA)._,richText:hl(this,tp)._}=B(this,j0),le(this,j0,null),(e=B(this,$d))==null||e.remove(),le(this,$d,null),le(this,ep,null))}forceHide(){le(this,N0,this.isVisible),B(this,N0)&&(B(this,vs).hidden=!0)}maybeShow(){B(this,N0)&&(B(this,$d)||je(this,ui,BB).call(this),le(this,N0,!1),B(this,vs).hidden=!1)}get isVisible(){return B(this,vs).hidden===!1}}Aw=new WeakMap,GT=new WeakMap,XT=new WeakMap,pw=new WeakMap,w0=new WeakMap,vs=new WeakMap,JA=new WeakMap,mw=new WeakMap,kC=new WeakMap,FC=new WeakMap,gw=new WeakMap,ZA=new WeakMap,$d=new WeakMap,ep=new WeakMap,PC=new WeakMap,tp=new WeakMap,UC=new WeakMap,j0=new WeakMap,N0=new WeakMap,ui=new WeakSet,SB=function(){const e=B(this,tp),n=B(this,JA);return e!=null&&e.str&&(!(n!=null&&n.str)||n.str===e.str)&&B(this,tp).html||null},c7=function(){var e,n,r;return((r=(n=(e=B(this,ui,SB))==null?void 0:e.attributes)==null?void 0:n.style)==null?void 0:r.fontSize)||0},Jhe=function(){var e,n,r;return((r=(n=(e=B(this,ui,SB))==null?void 0:e.attributes)==null?void 0:n.style)==null?void 0:r.color)||null},Zhe=function(e){const n=[],r={str:e,html:{name:"div",attributes:{dir:"auto"},children:[{name:"p",children:n}]}},s={style:{color:B(this,ui,Jhe),fontSize:B(this,ui,c7)?`calc(${B(this,ui,c7)}px * var(--scale-factor))`:""}};for(const a of e.split(`
`))n.push({name:"span",value:a,attributes:s});return r},efe=function(e){e.altKey||e.shiftKey||e.ctrlKey||e.metaKey||(e.key==="Enter"||e.key==="Escape"&&B(this,ZA))&&je(this,ui,EB).call(this)},tfe=function(){if(B(this,ep)!==null)return;const{page:{view:e},viewport:{rawDims:{pageWidth:n,pageHeight:r,pageX:s,pageY:a}}}=B(this,FC);let o=!!B(this,gw),l=o?B(this,gw):B(this,PC);for(const v of B(this,kC))if(!l||un.intersect(v.data.rect,l)!==null){l=v.data.rect,o=!0;break}const c=un.normalizeRect([l[0],e[3]-l[1]+e[1],l[2],e[3]-l[3]+e[1]]),d=o?l[2]-l[0]+5:0,h=c[0]+d,f=c[1];le(this,ep,[100*(h-s)/n,100*(f-a)/r]);const{style:A}=B(this,vs);A.left=`${B(this,ep)[0]}%`,A.top=`${B(this,ep)[1]}%`},EB=function(){le(this,ZA,!B(this,ZA)),B(this,ZA)?(je(this,ui,BB).call(this),B(this,vs).addEventListener("click",B(this,pw)),B(this,vs).addEventListener("keydown",B(this,Aw))):(je(this,ui,u7).call(this),B(this,vs).removeEventListener("click",B(this,pw)),B(this,vs).removeEventListener("keydown",B(this,Aw)))},BB=function(){B(this,$d)||this.render(),this.isVisible?B(this,ZA)&&B(this,vs).classList.add("focused"):(je(this,ui,tfe).call(this),B(this,vs).hidden=!1,B(this,vs).style.zIndex=parseInt(B(this,vs).style.zIndex)+1e3)},u7=function(){B(this,vs).classList.remove("focused"),!(B(this,ZA)||!this.isVisible)&&(B(this,vs).hidden=!0,B(this,vs).style.zIndex=parseInt(B(this,vs).style.zIndex)-1e3)};class nfe extends Hs{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.textContent=e.data.textContent,this.textPosition=e.data.textPosition,this.annotationEditorType=Xn.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const e=document.createElement("div");e.classList.add("annotationTextContent"),e.setAttribute("role","comment");for(const n of this.textContent){const r=document.createElement("span");r.textContent=n,e.append(r)}this.container.append(e)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}var IC;class yTe extends Hs{constructor(n){super(n,{isRenderable:!0,ignoreBorder:!0});be(this,IC,null)}render(){this.container.classList.add("lineAnnotation");const n=this.data,{width:r,height:s}=zg(n.rect),a=this.svgFactory.create(r,s,!0),o=le(this,IC,this.svgFactory.createElement("svg:line"));return o.setAttribute("x1",n.rect[2]-n.lineCoordinates[0]),o.setAttribute("y1",n.rect[3]-n.lineCoordinates[1]),o.setAttribute("x2",n.rect[2]-n.lineCoordinates[2]),o.setAttribute("y2",n.rect[3]-n.lineCoordinates[3]),o.setAttribute("stroke-width",n.borderStyle.width||1),o.setAttribute("stroke","transparent"),o.setAttribute("fill","transparent"),a.append(o),this.container.append(a),!n.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return B(this,IC)}addHighlightArea(){this.container.classList.add("highlightArea")}}IC=new WeakMap;var OC;class bTe extends Hs{constructor(n){super(n,{isRenderable:!0,ignoreBorder:!0});be(this,OC,null)}render(){this.container.classList.add("squareAnnotation");const n=this.data,{width:r,height:s}=zg(n.rect),a=this.svgFactory.create(r,s,!0),o=n.borderStyle.width,l=le(this,OC,this.svgFactory.createElement("svg:rect"));return l.setAttribute("x",o/2),l.setAttribute("y",o/2),l.setAttribute("width",r-o),l.setAttribute("height",s-o),l.setAttribute("stroke-width",o||1),l.setAttribute("stroke","transparent"),l.setAttribute("fill","transparent"),a.append(l),this.container.append(a),!n.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return B(this,OC)}addHighlightArea(){this.container.classList.add("highlightArea")}}OC=new WeakMap;var MC;class wTe extends Hs{constructor(n){super(n,{isRenderable:!0,ignoreBorder:!0});be(this,MC,null)}render(){this.container.classList.add("circleAnnotation");const n=this.data,{width:r,height:s}=zg(n.rect),a=this.svgFactory.create(r,s,!0),o=n.borderStyle.width,l=le(this,MC,this.svgFactory.createElement("svg:ellipse"));return l.setAttribute("cx",r/2),l.setAttribute("cy",s/2),l.setAttribute("rx",r/2-o/2),l.setAttribute("ry",s/2-o/2),l.setAttribute("stroke-width",o||1),l.setAttribute("stroke","transparent"),l.setAttribute("fill","transparent"),a.append(l),this.container.append(a),!n.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return B(this,MC)}addHighlightArea(){this.container.classList.add("highlightArea")}}MC=new WeakMap;var LC;class rfe extends Hs{constructor(n){super(n,{isRenderable:!0,ignoreBorder:!0});be(this,LC,null);this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const{data:{rect:n,vertices:r,borderStyle:s,popupRef:a}}=this;if(!r)return this.container;const{width:o,height:l}=zg(n),c=this.svgFactory.create(o,l,!0);let u=[];for(let h=0,f=r.length;h<f;h+=2){const A=r[h]-n[0],v=n[3]-r[h+1];u.push(`${A},${v}`)}u=u.join(" ");const d=le(this,LC,this.svgFactory.createElement(this.svgElementName));return d.setAttribute("points",u),d.setAttribute("stroke-width",s.width||1),d.setAttribute("stroke","transparent"),d.setAttribute("fill","transparent"),c.append(d),this.container.append(c),!a&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return B(this,LC)}addHighlightArea(){this.container.classList.add("highlightArea")}}LC=new WeakMap;class jTe extends rfe{constructor(e){super(e),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class NTe extends Hs{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}var RC,_0,QC,d7;class Tz extends Hs{constructor(n){super(n,{isRenderable:!0,ignoreBorder:!0});be(this,QC);be(this,RC,null);be(this,_0,[]);this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=this.data.it==="InkHighlight"?Xn.HIGHLIGHT:Xn.INK}render(){this.container.classList.add(this.containerClassName);const{data:{rect:n,rotation:r,inkLists:s,borderStyle:a,popupRef:o}}=this,{transform:l,width:c,height:u}=je(this,QC,d7).call(this,r,n),d=this.svgFactory.create(c,u,!0),h=le(this,RC,this.svgFactory.createElement("svg:g"));d.append(h),h.setAttribute("stroke-width",a.width||1),h.setAttribute("stroke-linecap","round"),h.setAttribute("stroke-linejoin","round"),h.setAttribute("stroke-miterlimit",10),h.setAttribute("stroke","transparent"),h.setAttribute("fill","transparent"),h.setAttribute("transform",l);for(let f=0,A=s.length;f<A;f++){const v=this.svgFactory.createElement(this.svgElementName);B(this,_0).push(v),v.setAttribute("points",s[f].join(",")),h.append(v)}return!o&&this.hasPopupData&&this._createPopup(),this.container.append(d),this._editOnDoubleClick(),this.container}updateEdited(n){super.updateEdited(n);const{thickness:r,points:s,rect:a}=n,o=B(this,RC);if(r>=0&&o.setAttribute("stroke-width",r||1),s)for(let l=0,c=B(this,_0).length;l<c;l++)B(this,_0)[l].setAttribute("points",s[l].join(","));if(a){const{transform:l,width:c,height:u}=je(this,QC,d7).call(this,this.data.rotation,a);o.parentElement.setAttribute("viewBox",`0 0 ${c} ${u}`),o.setAttribute("transform",l)}}getElementsToTriggerPopup(){return B(this,_0)}addHighlightArea(){this.container.classList.add("highlightArea")}}RC=new WeakMap,_0=new WeakMap,QC=new WeakSet,d7=function(n,r){switch(n){case 90:return{transform:`rotate(90) translate(${-r[0]},${r[1]}) scale(1,-1)`,width:r[3]-r[1],height:r[2]-r[0]};case 180:return{transform:`rotate(180) translate(${-r[2]},${r[1]}) scale(1,-1)`,width:r[2]-r[0],height:r[3]-r[1]};case 270:return{transform:`rotate(270) translate(${-r[2]},${r[3]}) scale(1,-1)`,width:r[3]-r[1],height:r[2]-r[0]};default:return{transform:`translate(${-r[0]},${r[3]}) scale(1,-1)`,width:r[2]-r[0],height:r[3]-r[1]}}};class ife extends Hs{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0}),this.annotationEditorType=Xn.HIGHLIGHT}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this._editOnDoubleClick(),this.container}}class _Te extends Hs{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),this.container}}class CTe extends Hs{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),this.container}}class STe extends Hs{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),this.container}}class sfe extends Hs{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.annotationEditorType=Xn.STAMP}render(){return this.container.classList.add("stampAnnotation"),this.container.setAttribute("role","img"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}var HC,zC,h7;class ETe extends Hs{constructor(n){var s;super(n,{isRenderable:!0});be(this,zC);be(this,HC,null);const{file:r}=this.data;this.filename=r.filename,this.content=r.content,(s=this.linkService.eventBus)==null||s.dispatch("fileattachmentannotation",{source:this,...r})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:n,data:r}=this;let s;r.hasAppearance||r.fillAlpha===0?s=document.createElement("div"):(s=document.createElement("img"),s.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(r.name)?"paperclip":"pushpin"}.svg`,r.fillAlpha&&r.fillAlpha<1&&(s.style=`filter: opacity(${Math.round(r.fillAlpha*100)}%);`)),s.addEventListener("dblclick",je(this,zC,h7).bind(this)),le(this,HC,s);const{isMac:a}=El.platform;return n.addEventListener("keydown",o=>{o.key==="Enter"&&(a?o.metaKey:o.ctrlKey)&&je(this,zC,h7).call(this)}),!r.popupRef&&this.hasPopupData?this._createPopup():s.classList.add("popupTriggerArea"),n.append(s),n}getElementsToTriggerPopup(){return B(this,HC)}addHighlightArea(){this.container.classList.add("highlightArea")}}HC=new WeakMap,zC=new WeakSet,h7=function(){var n;(n=this.downloadManager)==null||n.openOrDownloadData(this.content,this.filename)};var $C,C0,S0,WC,Ny,afe,f7;class BTe{constructor({div:e,accessibilityManager:n,annotationCanvasMap:r,annotationEditorUIManager:s,page:a,viewport:o,structTreeLayer:l}){be(this,Ny);be(this,$C,null);be(this,C0,null);be(this,S0,new Map);be(this,WC,null);this.div=e,le(this,$C,n),le(this,C0,r),le(this,WC,l||null),this.page=a,this.viewport=o,this.zIndex=0,this._annotationEditorUIManager=s}hasEditableAnnotations(){return B(this,S0).size>0}async render(e){var o;const{annotations:n}=e,r=this.div;oy(r,this.viewport);const s=new Map,a={data:null,layer:r,linkService:e.linkService,downloadManager:e.downloadManager,imageResourcesPath:e.imageResourcesPath||"",renderForms:e.renderForms!==!1,svgFactory:new Dz,annotationStorage:e.annotationStorage||new Ez,enableScripting:e.enableScripting===!0,hasJSActions:e.hasJSActions,fieldObjects:e.fieldObjects,parent:this,elements:null};for(const l of n){if(l.noHTML)continue;const c=l.annotationType===ca.POPUP;if(c){const h=s.get(l.id);if(!h)continue;a.elements=h}else{const{width:h,height:f}=zg(l.rect);if(h<=0||f<=0)continue}a.data=l;const u=hTe.create(a);if(!u.isRenderable)continue;if(!c&&l.popupRef){const h=s.get(l.popupRef);h?h.push(u):s.set(l.popupRef,[u])}const d=u.render();l.hidden&&(d.style.visibility="hidden"),await je(this,Ny,afe).call(this,d,l.id),u._isEditable&&(B(this,S0).set(u.data.id,u),(o=this._annotationEditorUIManager)==null||o.renderAnnotationElement(u))}je(this,Ny,f7).call(this)}update({viewport:e}){const n=this.div;this.viewport=e,oy(n,{rotation:e.rotation}),je(this,Ny,f7).call(this),n.hidden=!1}getEditableAnnotations(){return Array.from(B(this,S0).values())}getEditableAnnotation(e){return B(this,S0).get(e)}}$C=new WeakMap,C0=new WeakMap,S0=new WeakMap,WC=new WeakMap,Ny=new WeakSet,afe=async function(e,n){var o,l;const r=e.firstChild||e,s=r.id=`${jz}${n}`,a=await((o=B(this,WC))==null?void 0:o.getAriaAttributes(s));if(a)for(const[c,u]of a)r.setAttribute(c,u);this.div.append(e),(l=B(this,$C))==null||l.moveElementInDOM(this.div,e,r,!1)},f7=function(){if(!B(this,C0))return;const e=this.div;for(const[n,r]of B(this,C0)){const s=e.querySelector(`[data-annotation-id="${n}"]`);if(!s)continue;r.className="annotationContent";const{firstChild:a}=s;a?a.nodeName==="CANVAS"?a.replaceWith(r):a.classList.contains("annotationContent")?a.after(r):a.before(r):s.append(r)}B(this,C0).clear()};const qE=/\r\n?|\n/g;var Wd,Tc,qC,E0,kc,ra,ofe,lfe,cfe,DB,bp,TB,kB,ufe,p7,dfe;const Ci=class Ci extends ls{constructor(n){super({...n,name:"freeTextEditor"});be(this,ra);be(this,Wd);be(this,Tc,"");be(this,qC,`${this.id}-editor`);be(this,E0,null);be(this,kc);le(this,Wd,n.color||Ci._defaultColor||ls._defaultLineColor),le(this,kc,n.fontSize||Ci._defaultFontSize)}static get _keyboardManager(){const n=Ci.prototype,r=o=>o.isEmpty(),s=ly.TRANSLATE_SMALL,a=ly.TRANSLATE_BIG;return or(this,"_keyboardManager",new SS([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],n.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],n.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],n._translateEmpty,{args:[-s,0],checker:r}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],n._translateEmpty,{args:[-a,0],checker:r}],[["ArrowRight","mac+ArrowRight"],n._translateEmpty,{args:[s,0],checker:r}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],n._translateEmpty,{args:[a,0],checker:r}],[["ArrowUp","mac+ArrowUp"],n._translateEmpty,{args:[0,-s],checker:r}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],n._translateEmpty,{args:[0,-a],checker:r}],[["ArrowDown","mac+ArrowDown"],n._translateEmpty,{args:[0,s],checker:r}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],n._translateEmpty,{args:[0,a],checker:r}]]))}static initialize(n,r){ls.initialize(n,r);const s=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(s.getPropertyValue("--freetext-padding"))}static updateDefaultParams(n,r){switch(n){case mr.FREETEXT_SIZE:Ci._defaultFontSize=r;break;case mr.FREETEXT_COLOR:Ci._defaultColor=r;break}}updateParams(n,r){switch(n){case mr.FREETEXT_SIZE:je(this,ra,ofe).call(this,r);break;case mr.FREETEXT_COLOR:je(this,ra,lfe).call(this,r);break}}static get defaultPropertiesToUpdate(){return[[mr.FREETEXT_SIZE,Ci._defaultFontSize],[mr.FREETEXT_COLOR,Ci._defaultColor||ls._defaultLineColor]]}get propertiesToUpdate(){return[[mr.FREETEXT_SIZE,B(this,kc)],[mr.FREETEXT_COLOR,B(this,Wd)]]}_translateEmpty(n,r){this._uiManager.translateSelectedEditors(n,r,!0)}getInitialTranslation(){const n=this.parentScale;return[-Ci._internalPadding*n,-(Ci._internalPadding+B(this,kc))*n]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){if(this.isInEditMode())return;this.parent.setEditingState(!1),this.parent.updateToolbar(Xn.FREETEXT),super.enableEditMode(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),le(this,E0,new AbortController);const n=this._uiManager.combinedSignal(B(this,E0));this.editorDiv.addEventListener("keydown",this.editorDivKeydown.bind(this),{signal:n}),this.editorDiv.addEventListener("focus",this.editorDivFocus.bind(this),{signal:n}),this.editorDiv.addEventListener("blur",this.editorDivBlur.bind(this),{signal:n}),this.editorDiv.addEventListener("input",this.editorDivInput.bind(this),{signal:n}),this.editorDiv.addEventListener("paste",this.editorDivPaste.bind(this),{signal:n})}disableEditMode(){var n;this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",B(this,qC)),this._isDraggable=!0,(n=B(this,E0))==null||n.abort(),le(this,E0,null),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freetextEditing"))}focusin(n){this._focusEventsAllowed&&(super.focusin(n),n.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(n){var r;this.width||(this.enableEditMode(),n&&this.editorDiv.focus(),(r=this._initialOptions)!=null&&r.isCentered&&this.center(),this._initialOptions=null)}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freetextEditing")),super.remove()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const n=B(this,Tc),r=le(this,Tc,je(this,ra,cfe).call(this).trimEnd());if(n===r)return;const s=a=>{if(le(this,Tc,a),!a){this.remove();return}je(this,ra,kB).call(this),this._uiManager.rebuild(this),je(this,ra,DB).call(this)};this.addCommands({cmd:()=>{s(r)},undo:()=>{s(n)},mustExec:!1}),je(this,ra,DB).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}dblclick(n){this.enterInEditMode()}keydown(n){n.target===this.div&&n.key==="Enter"&&(this.enterInEditMode(),n.preventDefault())}editorDivKeydown(n){Ci._keyboardManager.exec(this,n)}editorDivFocus(n){this.isEditing=!0}editorDivBlur(n){this.isEditing=!1}editorDivInput(n){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let n,r;this.width&&(n=this.x,r=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",B(this,qC)),this.editorDiv.setAttribute("data-l10n-id","pdfjs-free-text2"),this.editorDiv.setAttribute("data-l10n-attrs","default-content"),this.enableEditing(),this.editorDiv.contentEditable=!0;const{style:s}=this.editorDiv;if(s.fontSize=`calc(${B(this,kc)}px * var(--scale-factor))`,s.color=B(this,Wd),this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),RD(this,this.div,["dblclick","keydown"]),this.width){const[a,o]=this.parentDimensions;if(this.annotationElementId){const{position:l}=this._initialData;let[c,u]=this.getInitialTranslation();[c,u]=this.pageTranslationToScreen(c,u);const[d,h]=this.pageDimensions,[f,A]=this.pageTranslation;let v,p;switch(this.rotation){case 0:v=n+(l[0]-f)/d,p=r+this.height-(l[1]-A)/h;break;case 90:v=n+(l[0]-f)/d,p=r-(l[1]-A)/h,[c,u]=[u,-c];break;case 180:v=n-this.width+(l[0]-f)/d,p=r-(l[1]-A)/h,[c,u]=[-c,-u];break;case 270:v=n+(l[0]-f-this.height*h)/d,p=r+(l[1]-A-this.width*d)/h,[c,u]=[-u,c];break}this.setAt(v*a,p*o,c,u)}else this.setAt(n*a,r*o,this.width*a,this.height*o);je(this,ra,kB).call(this),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}editorDivPaste(n){var v,p,m;const r=n.clipboardData||window.clipboardData,{types:s}=r;if(s.length===1&&s[0]==="text/plain")return;n.preventDefault();const a=je(v=Ci,bp,p7).call(v,r.getData("text")||"").replaceAll(qE,`
`);if(!a)return;const o=window.getSelection();if(!o.rangeCount)return;this.editorDiv.normalize(),o.deleteFromDocument();const l=o.getRangeAt(0);if(!a.includes(`
`)){l.insertNode(document.createTextNode(a)),this.editorDiv.normalize(),o.collapseToStart();return}const{startContainer:c,startOffset:u}=l,d=[],h=[];if(c.nodeType===Node.TEXT_NODE){const g=c.parentElement;if(h.push(c.nodeValue.slice(u).replaceAll(qE,"")),g!==this.editorDiv){let x=d;for(const b of this.editorDiv.childNodes){if(b===g){x=h;continue}x.push(je(p=Ci,bp,TB).call(p,b))}}d.push(c.nodeValue.slice(0,u).replaceAll(qE,""))}else if(c===this.editorDiv){let g=d,x=0;for(const b of this.editorDiv.childNodes)x++===u&&(g=h),g.push(je(m=Ci,bp,TB).call(m,b))}le(this,Tc,`${d.join(`
`)}${a}${h.join(`
`)}`),je(this,ra,kB).call(this);const f=new Range;let A=d.reduce((g,x)=>g+x.length,0);for(const{firstChild:g}of this.editorDiv.childNodes)if(g.nodeType===Node.TEXT_NODE){const x=g.nodeValue.length;if(A<=x){f.setStart(g,A),f.setEnd(g,A);break}A-=x}o.removeAllRanges(),o.addRange(f)}get contentDiv(){return this.editorDiv}static async deserialize(n,r,s){var l;let a=null;if(n instanceof nfe){const{data:{defaultAppearanceData:{fontSize:c,fontColor:u},rect:d,rotation:h,id:f,popupRef:A},textContent:v,textPosition:p,parent:{page:{pageNumber:m}}}=n;if(!v||v.length===0)return null;a=n={annotationType:Xn.FREETEXT,color:Array.from(u),fontSize:c,value:v.join(`
`),position:p,pageIndex:m-1,rect:d.slice(0),rotation:h,id:f,deleted:!1,popupRef:A}}const o=await super.deserialize(n,r,s);return le(o,kc,n.fontSize),le(o,Wd,un.makeHexColor(...n.color)),le(o,Tc,je(l=Ci,bp,p7).call(l,n.value)),o.annotationElementId=n.id||null,o._initialData=a,o}serialize(n=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const r=Ci._internalPadding*this.parentScale,s=this.getRect(r,r),a=ls._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:B(this,Wd)),o={annotationType:Xn.FREETEXT,color:a,fontSize:B(this,kc),value:je(this,ra,ufe).call(this),pageIndex:this.pageIndex,rect:s,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return n?o:this.annotationElementId&&!je(this,ra,dfe).call(this,o)?null:(o.id=this.annotationElementId,o)}renderAnnotationElement(n){const r=super.renderAnnotationElement(n);if(this.deleted)return r;const{style:s}=r;s.fontSize=`calc(${B(this,kc)}px * var(--scale-factor))`,s.color=B(this,Wd),r.replaceChildren();for(const o of B(this,Tc).split(`
`)){const l=document.createElement("div");l.append(o?document.createTextNode(o):document.createElement("br")),r.append(l)}const a=Ci._internalPadding*this.parentScale;return n.updateEdited({rect:this.getRect(a,a),popupContent:B(this,Tc)}),r}resetAnnotationElement(n){super.resetAnnotationElement(n),n.resetEdited()}};Wd=new WeakMap,Tc=new WeakMap,qC=new WeakMap,E0=new WeakMap,kc=new WeakMap,ra=new WeakSet,ofe=function(n){const r=a=>{this.editorDiv.style.fontSize=`calc(${a}px * var(--scale-factor))`,this.translate(0,-(a-B(this,kc))*this.parentScale),le(this,kc,a),je(this,ra,DB).call(this)},s=B(this,kc);this.addCommands({cmd:r.bind(this,n),undo:r.bind(this,s),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:mr.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})},lfe=function(n){const r=a=>{le(this,Wd,this.editorDiv.style.color=a)},s=B(this,Wd);this.addCommands({cmd:r.bind(this,n),undo:r.bind(this,s),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:mr.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})},cfe=function(){var s;const n=[];this.editorDiv.normalize();let r=null;for(const a of this.editorDiv.childNodes)(r==null?void 0:r.nodeType)===Node.TEXT_NODE&&a.nodeName==="BR"||(n.push(je(s=Ci,bp,TB).call(s,a)),r=a);return n.join(`
`)},DB=function(){const[n,r]=this.parentDimensions;let s;if(this.isAttachedToDOM)s=this.div.getBoundingClientRect();else{const{currentLayer:a,div:o}=this,l=o.style.display,c=o.classList.contains("hidden");o.classList.remove("hidden"),o.style.display="hidden",a.div.append(this.div),s=o.getBoundingClientRect(),o.remove(),o.style.display=l,o.classList.toggle("hidden",c)}this.rotation%180===this.parentRotation%180?(this.width=s.width/n,this.height=s.height/r):(this.width=s.height/n,this.height=s.width/r),this.fixAndSetPosition()},bp=new WeakSet,TB=function(n){return(n.nodeType===Node.TEXT_NODE?n.nodeValue:n.innerText).replaceAll(qE,"")},kB=function(){if(this.editorDiv.replaceChildren(),!!B(this,Tc))for(const n of B(this,Tc).split(`
`)){const r=document.createElement("div");r.append(n?document.createTextNode(n):document.createElement("br")),this.editorDiv.append(r)}},ufe=function(){return B(this,Tc).replaceAll(" "," ")},p7=function(n){return n.replaceAll(" "," ")},dfe=function(n){const{value:r,fontSize:s,color:a,pageIndex:o}=this._initialData;return this._hasBeenMoved||n.value!==r||n.fontSize!==s||n.color.some((l,c)=>l!==a[c])||n.pageIndex!==o},be(Ci,bp),Nn(Ci,"_freeTextDefaultContent",""),Nn(Ci,"_internalPadding",0),Nn(Ci,"_defaultColor",null),Nn(Ci,"_defaultFontSize",10),Nn(Ci,"_type","freetext"),Nn(Ci,"_editorType",Xn.FREETEXT);let A7=Ci;class en{toSVGPath(){xi("Abstract method `toSVGPath` must be implemented.")}get box(){xi("Abstract getter `box` must be implemented.")}serialize(e,n){xi("Abstract method `serialize` must be implemented.")}static _rescale(e,n,r,s,a,o){o||(o=new Float32Array(e.length));for(let l=0,c=e.length;l<c;l+=2)o[l]=n+e[l]*s,o[l+1]=r+e[l+1]*a;return o}static _rescaleAndSwap(e,n,r,s,a,o){o||(o=new Float32Array(e.length));for(let l=0,c=e.length;l<c;l+=2)o[l]=n+e[l+1]*s,o[l+1]=r+e[l]*a;return o}static _translate(e,n,r,s){s||(s=new Float32Array(e.length));for(let a=0,o=e.length;a<o;a+=2)s[a]=n+e[a],s[a+1]=r+e[a+1];return s}static svgRound(e){return Math.round(e*1e4)}static _normalizePoint(e,n,r,s,a){switch(a){case 90:return[1-n/r,e/s];case 180:return[1-e/r,1-n/s];case 270:return[n/r,1-e/s];default:return[e/r,n/s]}}static _normalizePagePoint(e,n,r){switch(r){case 90:return[1-n,e];case 180:return[1-e,1-n];case 270:return[n,1-e];default:return[e,n]}}static createBezierPoints(e,n,r,s,a,o){return[(e+5*r)/6,(n+5*s)/6,(5*r+a)/6,(5*s+o)/6,(r+a)/2,(s+o)/2]}}Nn(en,"PRECISION",1e-4);var Fc,qd,xw,vw,df,ar,B0,D0,VC,KC,yw,bw,jg,GC,YT,JT,ma,SN,hfe,ffe,Afe,pfe,mfe,gfe;const OA=class OA{constructor({x:e,y:n},r,s,a,o,l=0){be(this,ma);be(this,Fc);be(this,qd,[]);be(this,xw);be(this,vw);be(this,df,[]);be(this,ar,new Float32Array(18));be(this,B0);be(this,D0);be(this,VC);be(this,KC);be(this,yw);be(this,bw);be(this,jg,[]);le(this,Fc,r),le(this,bw,a*s),le(this,vw,o),B(this,ar).set([NaN,NaN,NaN,NaN,e,n],6),le(this,xw,l),le(this,KC,B(OA,GC)*s),le(this,VC,B(OA,JT)*s),le(this,yw,s),B(this,jg).push(e,n)}isEmpty(){return isNaN(B(this,ar)[8])}add({x:e,y:n}){var T;le(this,B0,e),le(this,D0,n);const[r,s,a,o]=B(this,Fc);let[l,c,u,d]=B(this,ar).subarray(8,12);const h=e-u,f=n-d,A=Math.hypot(h,f);if(A<B(this,VC))return!1;const v=A-B(this,KC),p=v/A,m=p*h,g=p*f;let x=l,b=c;l=u,c=d,u+=m,d+=g,(T=B(this,jg))==null||T.push(e,n);const j=-g/v,N=m/v,_=j*B(this,bw),C=N*B(this,bw);return B(this,ar).set(B(this,ar).subarray(2,8),0),B(this,ar).set([u+_,d+C],4),B(this,ar).set(B(this,ar).subarray(14,18),12),B(this,ar).set([u-_,d-C],16),isNaN(B(this,ar)[6])?(B(this,df).length===0&&(B(this,ar).set([l+_,c+C],2),B(this,df).push(NaN,NaN,NaN,NaN,(l+_-r)/a,(c+C-s)/o),B(this,ar).set([l-_,c-C],14),B(this,qd).push(NaN,NaN,NaN,NaN,(l-_-r)/a,(c-C-s)/o)),B(this,ar).set([x,b,l,c,u,d],6),!this.isEmpty()):(B(this,ar).set([x,b,l,c,u,d],6),Math.abs(Math.atan2(b-c,x-l)-Math.atan2(g,m))<Math.PI/2?([l,c,u,d]=B(this,ar).subarray(2,6),B(this,df).push(NaN,NaN,NaN,NaN,((l+u)/2-r)/a,((c+d)/2-s)/o),[l,c,x,b]=B(this,ar).subarray(14,18),B(this,qd).push(NaN,NaN,NaN,NaN,((x+l)/2-r)/a,((b+c)/2-s)/o),!0):([x,b,l,c,u,d]=B(this,ar).subarray(0,6),B(this,df).push(((x+5*l)/6-r)/a,((b+5*c)/6-s)/o,((5*l+u)/6-r)/a,((5*c+d)/6-s)/o,((l+u)/2-r)/a,((c+d)/2-s)/o),[u,d,l,c,x,b]=B(this,ar).subarray(12,18),B(this,qd).push(((x+5*l)/6-r)/a,((b+5*c)/6-s)/o,((5*l+u)/6-r)/a,((5*c+d)/6-s)/o,((l+u)/2-r)/a,((c+d)/2-s)/o),!0))}toSVGPath(){if(this.isEmpty())return"";const e=B(this,df),n=B(this,qd);if(isNaN(B(this,ar)[6])&&!this.isEmpty())return je(this,ma,hfe).call(this);const r=[];r.push(`M${e[4]} ${e[5]}`);for(let s=6;s<e.length;s+=6)isNaN(e[s])?r.push(`L${e[s+4]} ${e[s+5]}`):r.push(`C${e[s]} ${e[s+1]} ${e[s+2]} ${e[s+3]} ${e[s+4]} ${e[s+5]}`);je(this,ma,Afe).call(this,r);for(let s=n.length-6;s>=6;s-=6)isNaN(n[s])?r.push(`L${n[s+4]} ${n[s+5]}`):r.push(`C${n[s]} ${n[s+1]} ${n[s+2]} ${n[s+3]} ${n[s+4]} ${n[s+5]}`);return je(this,ma,ffe).call(this,r),r.join(" ")}newFreeDrawOutline(e,n,r,s,a,o){return new xfe(e,n,r,s,a,o)}getOutlines(){var h;const e=B(this,df),n=B(this,qd),r=B(this,ar),[s,a,o,l]=B(this,Fc),c=new Float32Array((((h=B(this,jg))==null?void 0:h.length)??0)+2);for(let f=0,A=c.length-2;f<A;f+=2)c[f]=(B(this,jg)[f]-s)/o,c[f+1]=(B(this,jg)[f+1]-a)/l;if(c[c.length-2]=(B(this,B0)-s)/o,c[c.length-1]=(B(this,D0)-a)/l,isNaN(r[6])&&!this.isEmpty())return je(this,ma,pfe).call(this,c);const u=new Float32Array(B(this,df).length+24+B(this,qd).length);let d=e.length;for(let f=0;f<d;f+=2){if(isNaN(e[f])){u[f]=u[f+1]=NaN;continue}u[f]=e[f],u[f+1]=e[f+1]}d=je(this,ma,gfe).call(this,u,d);for(let f=n.length-6;f>=6;f-=6)for(let A=0;A<6;A+=2){if(isNaN(n[f+A])){u[d]=u[d+1]=NaN,d+=2;continue}u[d]=n[f+A],u[d+1]=n[f+A+1],d+=2}return je(this,ma,mfe).call(this,u,d),this.newFreeDrawOutline(u,c,B(this,Fc),B(this,yw),B(this,xw),B(this,vw))}};Fc=new WeakMap,qd=new WeakMap,xw=new WeakMap,vw=new WeakMap,df=new WeakMap,ar=new WeakMap,B0=new WeakMap,D0=new WeakMap,VC=new WeakMap,KC=new WeakMap,yw=new WeakMap,bw=new WeakMap,jg=new WeakMap,GC=new WeakMap,YT=new WeakMap,JT=new WeakMap,ma=new WeakSet,SN=function(){const e=B(this,ar).subarray(4,6),n=B(this,ar).subarray(16,18),[r,s,a,o]=B(this,Fc);return[(B(this,B0)+(e[0]-n[0])/2-r)/a,(B(this,D0)+(e[1]-n[1])/2-s)/o,(B(this,B0)+(n[0]-e[0])/2-r)/a,(B(this,D0)+(n[1]-e[1])/2-s)/o]},hfe=function(){const[e,n,r,s]=B(this,Fc),[a,o,l,c]=je(this,ma,SN).call(this);return`M${(B(this,ar)[2]-e)/r} ${(B(this,ar)[3]-n)/s} L${(B(this,ar)[4]-e)/r} ${(B(this,ar)[5]-n)/s} L${a} ${o} L${l} ${c} L${(B(this,ar)[16]-e)/r} ${(B(this,ar)[17]-n)/s} L${(B(this,ar)[14]-e)/r} ${(B(this,ar)[15]-n)/s} Z`},ffe=function(e){const n=B(this,qd);e.push(`L${n[4]} ${n[5]} Z`)},Afe=function(e){const[n,r,s,a]=B(this,Fc),o=B(this,ar).subarray(4,6),l=B(this,ar).subarray(16,18),[c,u,d,h]=je(this,ma,SN).call(this);e.push(`L${(o[0]-n)/s} ${(o[1]-r)/a} L${c} ${u} L${d} ${h} L${(l[0]-n)/s} ${(l[1]-r)/a}`)},pfe=function(e){const n=B(this,ar),[r,s,a,o]=B(this,Fc),[l,c,u,d]=je(this,ma,SN).call(this),h=new Float32Array(36);return h.set([NaN,NaN,NaN,NaN,(n[2]-r)/a,(n[3]-s)/o,NaN,NaN,NaN,NaN,(n[4]-r)/a,(n[5]-s)/o,NaN,NaN,NaN,NaN,l,c,NaN,NaN,NaN,NaN,u,d,NaN,NaN,NaN,NaN,(n[16]-r)/a,(n[17]-s)/o,NaN,NaN,NaN,NaN,(n[14]-r)/a,(n[15]-s)/o],0),this.newFreeDrawOutline(h,e,B(this,Fc),B(this,yw),B(this,xw),B(this,vw))},mfe=function(e,n){const r=B(this,qd);return e.set([NaN,NaN,NaN,NaN,r[4],r[5]],n),n+=6},gfe=function(e,n){const r=B(this,ar).subarray(4,6),s=B(this,ar).subarray(16,18),[a,o,l,c]=B(this,Fc),[u,d,h,f]=je(this,ma,SN).call(this);return e.set([NaN,NaN,NaN,NaN,(r[0]-a)/l,(r[1]-o)/c,NaN,NaN,NaN,NaN,u,d,NaN,NaN,NaN,NaN,h,f,NaN,NaN,NaN,NaN,(s[0]-a)/l,(s[1]-o)/c],n),n+=24},be(OA,GC,8),be(OA,YT,2),be(OA,JT,B(OA,GC)+B(OA,YT));let zD=OA;var ww,T0,np,XC,Pc,YC,Fs,ZT,vfe;class xfe extends en{constructor(n,r,s,a,o,l){super();be(this,ZT);be(this,ww);be(this,T0,new Float32Array(4));be(this,np);be(this,XC);be(this,Pc);be(this,YC);be(this,Fs);le(this,Fs,n),le(this,Pc,r),le(this,ww,s),le(this,YC,a),le(this,np,o),le(this,XC,l),this.lastPoint=[NaN,NaN],je(this,ZT,vfe).call(this,l);const[c,u,d,h]=B(this,T0);for(let f=0,A=n.length;f<A;f+=2)n[f]=(n[f]-c)/d,n[f+1]=(n[f+1]-u)/h;for(let f=0,A=r.length;f<A;f+=2)r[f]=(r[f]-c)/d,r[f+1]=(r[f+1]-u)/h}toSVGPath(){const n=[`M${B(this,Fs)[4]} ${B(this,Fs)[5]}`];for(let r=6,s=B(this,Fs).length;r<s;r+=6){if(isNaN(B(this,Fs)[r])){n.push(`L${B(this,Fs)[r+4]} ${B(this,Fs)[r+5]}`);continue}n.push(`C${B(this,Fs)[r]} ${B(this,Fs)[r+1]} ${B(this,Fs)[r+2]} ${B(this,Fs)[r+3]} ${B(this,Fs)[r+4]} ${B(this,Fs)[r+5]}`)}return n.push("Z"),n.join(" ")}serialize([n,r,s,a],o){const l=s-n,c=a-r;let u,d;switch(o){case 0:u=en._rescale(B(this,Fs),n,a,l,-c),d=en._rescale(B(this,Pc),n,a,l,-c);break;case 90:u=en._rescaleAndSwap(B(this,Fs),n,r,l,c),d=en._rescaleAndSwap(B(this,Pc),n,r,l,c);break;case 180:u=en._rescale(B(this,Fs),s,r,-l,c),d=en._rescale(B(this,Pc),s,r,-l,c);break;case 270:u=en._rescaleAndSwap(B(this,Fs),s,a,-l,-c),d=en._rescaleAndSwap(B(this,Pc),s,a,-l,-c);break}return{outline:Array.from(u),points:[Array.from(d)]}}get box(){return B(this,T0)}newOutliner(n,r,s,a,o,l=0){return new zD(n,r,s,a,o,l)}getNewOutline(n,r){const[s,a,o,l]=B(this,T0),[c,u,d,h]=B(this,ww),f=o*d,A=l*h,v=s*d+c,p=a*h+u,m=this.newOutliner({x:B(this,Pc)[0]*f+v,y:B(this,Pc)[1]*A+p},B(this,ww),B(this,YC),n,B(this,XC),r??B(this,np));for(let g=2;g<B(this,Pc).length;g+=2)m.add({x:B(this,Pc)[g]*f+v,y:B(this,Pc)[g+1]*A+p});return m.getOutlines()}}ww=new WeakMap,T0=new WeakMap,np=new WeakMap,XC=new WeakMap,Pc=new WeakMap,YC=new WeakMap,Fs=new WeakMap,ZT=new WeakSet,vfe=function(n){const r=B(this,Fs);let s=r[4],a=r[5],o=s,l=a,c=s,u=a,d=s,h=a;const f=n?Math.max:Math.min;for(let v=6,p=r.length;v<p;v+=6){if(isNaN(r[v]))o=Math.min(o,r[v+4]),l=Math.min(l,r[v+5]),c=Math.max(c,r[v+4]),u=Math.max(u,r[v+5]),h<r[v+5]?(d=r[v+4],h=r[v+5]):h===r[v+5]&&(d=f(d,r[v+4]));else{const m=un.bezierBoundingBox(s,a,...r.slice(v,v+6));o=Math.min(o,m[0]),l=Math.min(l,m[1]),c=Math.max(c,m[2]),u=Math.max(u,m[3]),h<m[3]?(d=m[2],h=m[3]):h===m[3]&&(d=f(d,m[2]))}s=r[v+4],a=r[v+5]}const A=B(this,T0);A[0]=o-B(this,np),A[1]=l-B(this,np),A[2]=c-o+2*B(this,np),A[3]=u-l+2*B(this,np),this.lastPoint=[d,h]};var JC,ZC,Ng,Vd,Tl,yfe,FB,bfe,wfe,g7;class m7{constructor(e,n=0,r=0,s=!0){be(this,Tl);be(this,JC);be(this,ZC);be(this,Ng,[]);be(this,Vd,[]);let a=1/0,o=-1/0,l=1/0,c=-1/0;const u=10**-4;for(const{x:m,y:g,width:x,height:b}of e){const j=Math.floor((m-n)/u)*u,N=Math.ceil((m+x+n)/u)*u,_=Math.floor((g-n)/u)*u,C=Math.ceil((g+b+n)/u)*u,k=[j,_,C,!0],T=[N,_,C,!1];B(this,Ng).push(k,T),a=Math.min(a,j),o=Math.max(o,N),l=Math.min(l,_),c=Math.max(c,C)}const d=o-a+2*r,h=c-l+2*r,f=a-r,A=l-r,v=B(this,Ng).at(s?-1:-2),p=[v[0],v[2]];for(const m of B(this,Ng)){const[g,x,b]=m;m[0]=(g-f)/d,m[1]=(x-A)/h,m[2]=(b-A)/h}le(this,JC,new Float32Array([f,A,d,h])),le(this,ZC,p)}getOutlines(){B(this,Ng).sort((n,r)=>n[0]-r[0]||n[1]-r[1]||n[2]-r[2]);const e=[];for(const n of B(this,Ng))n[3]?(e.push(...je(this,Tl,g7).call(this,n)),je(this,Tl,bfe).call(this,n)):(je(this,Tl,wfe).call(this,n),e.push(...je(this,Tl,g7).call(this,n)));return je(this,Tl,yfe).call(this,e)}}JC=new WeakMap,ZC=new WeakMap,Ng=new WeakMap,Vd=new WeakMap,Tl=new WeakSet,yfe=function(e){const n=[],r=new Set;for(const o of e){const[l,c,u]=o;n.push([l,c,o],[l,u,o])}n.sort((o,l)=>o[1]-l[1]||o[0]-l[0]);for(let o=0,l=n.length;o<l;o+=2){const c=n[o][2],u=n[o+1][2];c.push(u),u.push(c),r.add(c),r.add(u)}const s=[];let a;for(;r.size>0;){const o=r.values().next().value;let[l,c,u,d,h]=o;r.delete(o);let f=l,A=c;for(a=[l,u],s.push(a);;){let v;if(r.has(d))v=d;else if(r.has(h))v=h;else break;r.delete(v),[l,c,u,d,h]=v,f!==l&&(a.push(f,A,l,A===c?c:u),f=l),A=A===c?u:c}a.push(f,A)}return new DTe(s,B(this,JC),B(this,ZC))},FB=function(e){const n=B(this,Vd);let r=0,s=n.length-1;for(;r<=s;){const a=r+s>>1,o=n[a][0];if(o===e)return a;o<e?r=a+1:s=a-1}return s+1},bfe=function([,e,n]){const r=je(this,Tl,FB).call(this,e);B(this,Vd).splice(r,0,[e,n])},wfe=function([,e,n]){const r=je(this,Tl,FB).call(this,e);for(let s=r;s<B(this,Vd).length;s++){const[a,o]=B(this,Vd)[s];if(a!==e)break;if(a===e&&o===n){B(this,Vd).splice(s,1);return}}for(let s=r-1;s>=0;s--){const[a,o]=B(this,Vd)[s];if(a!==e)break;if(a===e&&o===n){B(this,Vd).splice(s,1);return}}},g7=function(e){const[n,r,s]=e,a=[[n,r,s]],o=je(this,Tl,FB).call(this,s);for(let l=0;l<o;l++){const[c,u]=B(this,Vd)[l];for(let d=0,h=a.length;d<h;d++){const[,f,A]=a[d];if(!(u<=f||A<=c)){if(f>=c){if(A>u)a[d][1]=u;else{if(h===1)return[];a.splice(d,1),d--,h--}continue}a[d][2]=c,A>u&&a.push([n,u,A])}}}return a};var eS,jw;class DTe extends en{constructor(n,r,s){super();be(this,eS);be(this,jw);le(this,jw,n),le(this,eS,r),this.lastPoint=s}toSVGPath(){const n=[];for(const r of B(this,jw)){let[s,a]=r;n.push(`M${s} ${a}`);for(let o=2;o<r.length;o+=2){const l=r[o],c=r[o+1];l===s?(n.push(`V${c}`),a=c):c===a&&(n.push(`H${l}`),s=l)}n.push("Z")}return n.join(" ")}serialize([n,r,s,a],o){const l=[],c=s-n,u=a-r;for(const d of B(this,jw)){const h=new Array(d.length);for(let f=0;f<d.length;f+=2)h[f]=n+d[f]*c,h[f+1]=a-d[f+1]*u;l.push(h)}return l}get box(){return B(this,eS)}get classNamesForOutlining(){return["highlightOutline"]}}eS=new WeakMap,jw=new WeakMap;class x7 extends zD{newFreeDrawOutline(e,n,r,s,a,o){return new TTe(e,n,r,s,a,o)}}class TTe extends xfe{newOutliner(e,n,r,s,a,o=0){return new x7(e,n,r,s,a,o)}}var Kd,k0,Nw,fa,tS,_w,nS,rS,_g,Gd,Cw,iS,ai,v7,y7,b7,mv,jfe,qm;const Yl=class Yl{constructor({editor:e=null,uiManager:n=null}){be(this,ai);be(this,Kd,null);be(this,k0,null);be(this,Nw);be(this,fa,null);be(this,tS,!1);be(this,_w,!1);be(this,nS,null);be(this,rS);be(this,_g,null);be(this,Gd,null);be(this,Cw);var r;e?(le(this,_w,!1),le(this,Cw,mr.HIGHLIGHT_COLOR),le(this,nS,e)):(le(this,_w,!0),le(this,Cw,mr.HIGHLIGHT_DEFAULT_COLOR)),le(this,Gd,(e==null?void 0:e._uiManager)||n),le(this,rS,B(this,Gd)._eventBus),le(this,Nw,(e==null?void 0:e.color)||((r=B(this,Gd))==null?void 0:r.highlightColors.values().next().value)||"#FFFF98"),B(Yl,iS)||le(Yl,iS,Object.freeze({blue:"pdfjs-editor-colorpicker-blue",green:"pdfjs-editor-colorpicker-green",pink:"pdfjs-editor-colorpicker-pink",red:"pdfjs-editor-colorpicker-red",yellow:"pdfjs-editor-colorpicker-yellow"}))}static get _keyboardManager(){return or(this,"_keyboardManager",new SS([[["Escape","mac+Escape"],Yl.prototype._hideDropdownFromKeyboard],[[" ","mac+ "],Yl.prototype._colorSelectFromKeyboard],[["ArrowDown","ArrowRight","mac+ArrowDown","mac+ArrowRight"],Yl.prototype._moveToNext],[["ArrowUp","ArrowLeft","mac+ArrowUp","mac+ArrowLeft"],Yl.prototype._moveToPrevious],[["Home","mac+Home"],Yl.prototype._moveToBeginning],[["End","mac+End"],Yl.prototype._moveToEnd]]))}renderButton(){const e=le(this,Kd,document.createElement("button"));e.className="colorPicker",e.tabIndex="0",e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-button"),e.setAttribute("aria-haspopup",!0);const n=B(this,Gd)._signal;e.addEventListener("click",je(this,ai,mv).bind(this),{signal:n}),e.addEventListener("keydown",je(this,ai,b7).bind(this),{signal:n});const r=le(this,k0,document.createElement("span"));return r.className="swatch",r.setAttribute("aria-hidden",!0),r.style.backgroundColor=B(this,Nw),e.append(r),e}renderMainDropdown(){const e=le(this,fa,je(this,ai,v7).call(this));return e.setAttribute("aria-orientation","horizontal"),e.setAttribute("aria-labelledby","highlightColorPickerLabel"),e}_colorSelectFromKeyboard(e){if(e.target===B(this,Kd)){je(this,ai,mv).call(this,e);return}const n=e.target.getAttribute("data-color");n&&je(this,ai,y7).call(this,n,e)}_moveToNext(e){var n,r;if(!B(this,ai,qm)){je(this,ai,mv).call(this,e);return}if(e.target===B(this,Kd)){(n=B(this,fa).firstChild)==null||n.focus();return}(r=e.target.nextSibling)==null||r.focus()}_moveToPrevious(e){var n,r;if(e.target===((n=B(this,fa))==null?void 0:n.firstChild)||e.target===B(this,Kd)){B(this,ai,qm)&&this._hideDropdownFromKeyboard();return}B(this,ai,qm)||je(this,ai,mv).call(this,e),(r=e.target.previousSibling)==null||r.focus()}_moveToBeginning(e){var n;if(!B(this,ai,qm)){je(this,ai,mv).call(this,e);return}(n=B(this,fa).firstChild)==null||n.focus()}_moveToEnd(e){var n;if(!B(this,ai,qm)){je(this,ai,mv).call(this,e);return}(n=B(this,fa).lastChild)==null||n.focus()}hideDropdown(){var e,n;(e=B(this,fa))==null||e.classList.add("hidden"),(n=B(this,_g))==null||n.abort(),le(this,_g,null)}_hideDropdownFromKeyboard(){var e;if(!B(this,_w)){if(!B(this,ai,qm)){(e=B(this,nS))==null||e.unselect();return}this.hideDropdown(),B(this,Kd).focus({preventScroll:!0,focusVisible:B(this,tS)})}}updateColor(e){if(B(this,k0)&&(B(this,k0).style.backgroundColor=e),!B(this,fa))return;const n=B(this,Gd).highlightColors.values();for(const r of B(this,fa).children)r.setAttribute("aria-selected",n.next().value===e)}destroy(){var e,n;(e=B(this,Kd))==null||e.remove(),le(this,Kd,null),le(this,k0,null),(n=B(this,fa))==null||n.remove(),le(this,fa,null)}};Kd=new WeakMap,k0=new WeakMap,Nw=new WeakMap,fa=new WeakMap,tS=new WeakMap,_w=new WeakMap,nS=new WeakMap,rS=new WeakMap,_g=new WeakMap,Gd=new WeakMap,Cw=new WeakMap,iS=new WeakMap,ai=new WeakSet,v7=function(){const e=document.createElement("div"),n=B(this,Gd)._signal;e.addEventListener("contextmenu",ch,{signal:n}),e.className="dropdown",e.role="listbox",e.setAttribute("aria-multiselectable",!1),e.setAttribute("aria-orientation","vertical"),e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-dropdown");for(const[r,s]of B(this,Gd).highlightColors){const a=document.createElement("button");a.tabIndex="0",a.role="option",a.setAttribute("data-color",s),a.title=r,a.setAttribute("data-l10n-id",B(Yl,iS)[r]);const o=document.createElement("span");a.append(o),o.className="swatch",o.style.backgroundColor=s,a.setAttribute("aria-selected",s===B(this,Nw)),a.addEventListener("click",je(this,ai,y7).bind(this,s),{signal:n}),e.append(a)}return e.addEventListener("keydown",je(this,ai,b7).bind(this),{signal:n}),e},y7=function(e,n){n.stopPropagation(),B(this,rS).dispatch("switchannotationeditorparams",{source:this,type:B(this,Cw),value:e})},b7=function(e){Yl._keyboardManager.exec(this,e)},mv=function(e){if(B(this,ai,qm)){this.hideDropdown();return}if(le(this,tS,e.detail===0),B(this,_g)||(le(this,_g,new AbortController),window.addEventListener("pointerdown",je(this,ai,jfe).bind(this),{signal:B(this,Gd).combinedSignal(B(this,_g))})),B(this,fa)){B(this,fa).classList.remove("hidden");return}const n=le(this,fa,je(this,ai,v7).call(this));B(this,Kd).append(n)},jfe=function(e){var n;(n=B(this,fa))!=null&&n.contains(e.target)||this.hideDropdown()},qm=function(){return B(this,fa)&&!B(this,fa).classList.contains("hidden")},be(Yl,iS,null);let $D=Yl;var Sw,sS,rp,F0,Ew,ec,aS,oS,P0,Tu,Uc,ao,Bw,ip,Io,Dw,ku,lS,Kn,w7,PB,Nfe,_fe,Cfe,j7,gv,Mu,Wb,Sfe,UB,EN,Efe,Bfe,Dfe,Tfe,kfe;const Lr=class Lr extends ls{constructor(n){super({...n,name:"highlightEditor"});be(this,Kn);be(this,Sw,null);be(this,sS,0);be(this,rp);be(this,F0,null);be(this,Ew,null);be(this,ec,null);be(this,aS,null);be(this,oS,0);be(this,P0,null);be(this,Tu,null);be(this,Uc,null);be(this,ao,!1);be(this,Bw,null);be(this,ip);be(this,Io,null);be(this,Dw,"");be(this,ku);be(this,lS,"");this.color=n.color||Lr._defaultColor,le(this,ku,n.thickness||Lr._defaultThickness),le(this,ip,n.opacity||Lr._defaultOpacity),le(this,rp,n.boxes||null),le(this,lS,n.methodOfCreation||""),le(this,Dw,n.text||""),this._isDraggable=!1,n.highlightId>-1?(le(this,ao,!0),je(this,Kn,PB).call(this,n),je(this,Kn,gv).call(this)):B(this,rp)&&(le(this,Sw,n.anchorNode),le(this,sS,n.anchorOffset),le(this,aS,n.focusNode),le(this,oS,n.focusOffset),je(this,Kn,w7).call(this),je(this,Kn,gv).call(this),this.rotate(this.rotation))}static get _keyboardManager(){const n=Lr.prototype;return or(this,"_keyboardManager",new SS([[["ArrowLeft","mac+ArrowLeft"],n._moveCaret,{args:[0]}],[["ArrowRight","mac+ArrowRight"],n._moveCaret,{args:[1]}],[["ArrowUp","mac+ArrowUp"],n._moveCaret,{args:[2]}],[["ArrowDown","mac+ArrowDown"],n._moveCaret,{args:[3]}]]))}get telemetryInitialData(){return{action:"added",type:B(this,ao)?"free_highlight":"highlight",color:this._uiManager.highlightColorNames.get(this.color),thickness:B(this,ku),methodOfCreation:B(this,lS)}}get telemetryFinalData(){return{type:"highlight",color:this._uiManager.highlightColorNames.get(this.color)}}static computeTelemetryFinalData(n){return{numberOfColors:n.get("color").size}}static initialize(n,r){var s;ls.initialize(n,r),Lr._defaultColor||(Lr._defaultColor=((s=r.highlightColors)==null?void 0:s.values().next().value)||"#fff066")}static updateDefaultParams(n,r){switch(n){case mr.HIGHLIGHT_DEFAULT_COLOR:Lr._defaultColor=r;break;case mr.HIGHLIGHT_THICKNESS:Lr._defaultThickness=r;break}}translateInPage(n,r){}get toolbarPosition(){return B(this,Bw)}updateParams(n,r){switch(n){case mr.HIGHLIGHT_COLOR:je(this,Kn,Nfe).call(this,r);break;case mr.HIGHLIGHT_THICKNESS:je(this,Kn,_fe).call(this,r);break}}static get defaultPropertiesToUpdate(){return[[mr.HIGHLIGHT_DEFAULT_COLOR,Lr._defaultColor],[mr.HIGHLIGHT_THICKNESS,Lr._defaultThickness]]}get propertiesToUpdate(){return[[mr.HIGHLIGHT_COLOR,this.color||Lr._defaultColor],[mr.HIGHLIGHT_THICKNESS,B(this,ku)||Lr._defaultThickness],[mr.HIGHLIGHT_FREE,B(this,ao)]]}async addEditToolbar(){const n=await super.addEditToolbar();return n?(this._uiManager.highlightColors&&(le(this,Ew,new $D({editor:this})),n.addColorPicker(B(this,Ew))),n):null}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}fixAndSetPosition(){return super.fixAndSetPosition(je(this,Kn,EN).call(this))}getBaseTranslation(){return[0,0]}getRect(n,r){return super.getRect(n,r,je(this,Kn,EN).call(this))}onceAdded(n){this.annotationElementId||this.parent.addUndoableEditor(this),n&&this.div.focus()}remove(){je(this,Kn,j7).call(this),this._reportTelemetry({action:"deleted"}),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(je(this,Kn,gv).call(this),this.isAttachedToDOM||this.parent.add(this)))}setParent(n){var s;let r=!1;this.parent&&!n?je(this,Kn,j7).call(this):n&&(je(this,Kn,gv).call(this,n),r=!this.parent&&((s=this.div)==null?void 0:s.classList.contains("selectedEditor"))),super.setParent(n),this.show(this._isVisible),r&&this.select()}rotate(n){var a,o,l;const{drawLayer:r}=this.parent;let s;B(this,ao)?(n=(n-this.rotation+360)%360,s=je(a=Lr,Mu,Wb).call(a,B(this,Tu).box,n)):s=je(o=Lr,Mu,Wb).call(o,[this.x,this.y,this.width,this.height],n),r.updateProperties(B(this,Uc),{bbox:s,root:{"data-main-rotation":n}}),r.updateProperties(B(this,Io),{bbox:je(l=Lr,Mu,Wb).call(l,B(this,ec).box,n),root:{"data-main-rotation":n}})}render(){if(this.div)return this.div;const n=super.render();B(this,Dw)&&(n.setAttribute("aria-label",B(this,Dw)),n.setAttribute("role","mark")),B(this,ao)?n.classList.add("free"):this.div.addEventListener("keydown",je(this,Kn,Sfe).bind(this),{signal:this._uiManager._signal});const r=le(this,P0,document.createElement("div"));n.append(r),r.setAttribute("aria-hidden","true"),r.className="internal",r.style.clipPath=B(this,F0);const[s,a]=this.parentDimensions;return this.setDims(this.width*s,this.height*a),RD(this,B(this,P0),["pointerover","pointerleave"]),this.enableEditing(),n}pointerover(){var n;this.isSelected||(n=this.parent)==null||n.drawLayer.updateProperties(B(this,Io),{rootClass:{hovered:!0}})}pointerleave(){var n;this.isSelected||(n=this.parent)==null||n.drawLayer.updateProperties(B(this,Io),{rootClass:{hovered:!1}})}_moveCaret(n){switch(this.parent.unselect(this),n){case 0:case 2:je(this,Kn,UB).call(this,!0);break;case 1:case 3:je(this,Kn,UB).call(this,!1);break}}select(){var n;super.select(),B(this,Io)&&((n=this.parent)==null||n.drawLayer.updateProperties(B(this,Io),{rootClass:{hovered:!1,selected:!0}}))}unselect(){var n;super.unselect(),B(this,Io)&&((n=this.parent)==null||n.drawLayer.updateProperties(B(this,Io),{rootClass:{selected:!1}}),B(this,ao)||je(this,Kn,UB).call(this,!1))}get _mustFixPosition(){return!B(this,ao)}show(n=this._isVisible){super.show(n),this.parent&&(this.parent.drawLayer.updateProperties(B(this,Uc),{rootClass:{hidden:!n}}),this.parent.drawLayer.updateProperties(B(this,Io),{rootClass:{hidden:!n}}))}static startHighlighting(n,r,{target:s,x:a,y:o}){const{x:l,y:c,width:u,height:d}=s.getBoundingClientRect(),h=new AbortController,f=n.combinedSignal(h),A=v=>{h.abort(),je(this,Mu,Tfe).call(this,n,v)};window.addEventListener("blur",A,{signal:f}),window.addEventListener("pointerup",A,{signal:f}),window.addEventListener("pointerdown",$c,{capture:!0,passive:!1,signal:f}),window.addEventListener("contextmenu",ch,{signal:f}),s.addEventListener("pointermove",je(this,Mu,Dfe).bind(this,n),{signal:f}),this._freeHighlight=new x7({x:a,y:o},[l,c,u,d],n.scale,this._defaultThickness/2,r,.001),{id:this._freeHighlightId,clipPathId:this._freeHighlightClipId}=n.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:this._defaultColor,"fill-opacity":this._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:this._freeHighlight.toSVGPath()}},!0,!0)}static async deserialize(n,r,s){var p,m,g,x;let a=null;if(n instanceof ife){const{data:{quadPoints:b,rect:j,rotation:N,id:_,color:C,opacity:k,popupRef:T},parent:{page:{pageNumber:O}}}=n;a=n={annotationType:Xn.HIGHLIGHT,color:Array.from(C),opacity:k,quadPoints:b,boxes:null,pageIndex:O-1,rect:j.slice(0),rotation:N,id:_,deleted:!1,popupRef:T}}else if(n instanceof Tz){const{data:{inkLists:b,rect:j,rotation:N,id:_,color:C,borderStyle:{rawWidth:k},popupRef:T},parent:{page:{pageNumber:O}}}=n;a=n={annotationType:Xn.HIGHLIGHT,color:Array.from(C),thickness:k,inkLists:b,boxes:null,pageIndex:O-1,rect:j.slice(0),rotation:N,id:_,deleted:!1,popupRef:T}}const{color:o,quadPoints:l,inkLists:c,opacity:u}=n,d=await super.deserialize(n,r,s);d.color=un.makeHexColor(...o),le(d,ip,u||1),c&&le(d,ku,n.thickness),d.annotationElementId=n.id||null,d._initialData=a;const[h,f]=d.pageDimensions,[A,v]=d.pageTranslation;if(l){const b=le(d,rp,[]);for(let j=0;j<l.length;j+=8)b.push({x:(l[j]-A)/h,y:1-(l[j+1]-v)/f,width:(l[j+2]-l[j])/h,height:(l[j+1]-l[j+5])/f});je(p=d,Kn,w7).call(p),je(m=d,Kn,gv).call(m),d.rotate(d.rotation)}else if(c){le(d,ao,!0);const b=c[0],j={x:b[0]-A,y:f-(b[1]-v)},N=new x7(j,[0,0,h,f],1,B(d,ku)/2,!0,.001);for(let k=0,T=b.length;k<T;k+=2)j.x=b[k]-A,j.y=f-(b[k+1]-v),N.add(j);const{id:_,clipPathId:C}=r.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:d.color,"fill-opacity":d._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:N.toSVGPath()}},!0,!0);je(g=d,Kn,PB).call(g,{highlightOutlines:N.getOutlines(),highlightId:_,clipPathId:C}),je(x=d,Kn,gv).call(x)}return d}serialize(n=!1){if(this.isEmpty()||n)return null;if(this.deleted)return this.serializeDeleted();const r=this.getRect(0,0),s=ls._colorManager.convert(this.color),a={annotationType:Xn.HIGHLIGHT,color:s,opacity:B(this,ip),thickness:B(this,ku),quadPoints:je(this,Kn,Efe).call(this),outlines:je(this,Kn,Bfe).call(this,r),pageIndex:this.pageIndex,rect:r,rotation:je(this,Kn,EN).call(this),structTreeParentId:this._structTreeParentId};return this.annotationElementId&&!je(this,Kn,kfe).call(this,a)?null:(a.id=this.annotationElementId,a)}renderAnnotationElement(n){return n.updateEdited({rect:this.getRect(0,0)}),null}static canCreateNewEmptyEditor(){return!1}};Sw=new WeakMap,sS=new WeakMap,rp=new WeakMap,F0=new WeakMap,Ew=new WeakMap,ec=new WeakMap,aS=new WeakMap,oS=new WeakMap,P0=new WeakMap,Tu=new WeakMap,Uc=new WeakMap,ao=new WeakMap,Bw=new WeakMap,ip=new WeakMap,Io=new WeakMap,Dw=new WeakMap,ku=new WeakMap,lS=new WeakMap,Kn=new WeakSet,w7=function(){const n=new m7(B(this,rp),.001);le(this,Tu,n.getOutlines()),[this.x,this.y,this.width,this.height]=B(this,Tu).box;const r=new m7(B(this,rp),.0025,.001,this._uiManager.direction==="ltr");le(this,ec,r.getOutlines());const{lastPoint:s}=B(this,ec);le(this,Bw,[(s[0]-this.x)/this.width,(s[1]-this.y)/this.height])},PB=function({highlightOutlines:n,highlightId:r,clipPathId:s}){var h,f;if(le(this,Tu,n),le(this,ec,n.getNewOutline(B(this,ku)/2+1.5,.0025)),r>=0)le(this,Uc,r),le(this,F0,s),this.parent.drawLayer.finalizeDraw(r,{bbox:n.box,path:{d:n.toSVGPath()}}),le(this,Io,this.parent.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:!0},bbox:B(this,ec).box,path:{d:B(this,ec).toSVGPath()}},!0));else if(this.parent){const A=this.parent.viewport.rotation;this.parent.drawLayer.updateProperties(B(this,Uc),{bbox:je(h=Lr,Mu,Wb).call(h,B(this,Tu).box,(A-this.rotation+360)%360),path:{d:n.toSVGPath()}}),this.parent.drawLayer.updateProperties(B(this,Io),{bbox:je(f=Lr,Mu,Wb).call(f,B(this,ec).box,A),path:{d:B(this,ec).toSVGPath()}})}const[o,l,c,u]=n.box;switch(this.rotation){case 0:this.x=o,this.y=l,this.width=c,this.height=u;break;case 90:{const[A,v]=this.parentDimensions;this.x=l,this.y=1-o,this.width=c*v/A,this.height=u*A/v;break}case 180:this.x=1-o,this.y=1-l,this.width=c,this.height=u;break;case 270:{const[A,v]=this.parentDimensions;this.x=1-l,this.y=o,this.width=c*v/A,this.height=u*A/v;break}}const{lastPoint:d}=B(this,ec);le(this,Bw,[(d[0]-o)/c,(d[1]-l)/u])},Nfe=function(n){const r=(o,l)=>{var c,u;this.color=o,le(this,ip,l),(c=this.parent)==null||c.drawLayer.updateProperties(B(this,Uc),{root:{fill:o,"fill-opacity":l}}),(u=B(this,Ew))==null||u.updateColor(o)},s=this.color,a=B(this,ip);this.addCommands({cmd:r.bind(this,n,Lr._defaultOpacity),undo:r.bind(this,s,a),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:mr.HIGHLIGHT_COLOR,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"color_changed",color:this._uiManager.highlightColorNames.get(n)},!0)},_fe=function(n){const r=B(this,ku),s=a=>{le(this,ku,a),je(this,Kn,Cfe).call(this,a)};this.addCommands({cmd:s.bind(this,n),undo:s.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:mr.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"thickness_changed",thickness:n},!0)},Cfe=function(n){if(!B(this,ao))return;je(this,Kn,PB).call(this,{highlightOutlines:B(this,Tu).getNewOutline(n/2)}),this.fixAndSetPosition();const[r,s]=this.parentDimensions;this.setDims(this.width*r,this.height*s)},j7=function(){B(this,Uc)===null||!this.parent||(this.parent.drawLayer.remove(B(this,Uc)),le(this,Uc,null),this.parent.drawLayer.remove(B(this,Io)),le(this,Io,null))},gv=function(n=this.parent){B(this,Uc)===null&&({id:hl(this,Uc)._,clipPathId:hl(this,F0)._}=n.drawLayer.draw({bbox:B(this,Tu).box,root:{viewBox:"0 0 1 1",fill:this.color,"fill-opacity":B(this,ip)},rootClass:{highlight:!0,free:B(this,ao)},path:{d:B(this,Tu).toSVGPath()}},!1,!0),le(this,Io,n.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:B(this,ao)},bbox:B(this,ec).box,path:{d:B(this,ec).toSVGPath()}},B(this,ao))),B(this,P0)&&(B(this,P0).style.clipPath=B(this,F0)))},Mu=new WeakSet,Wb=function([n,r,s,a],o){switch(o){case 90:return[1-r-a,n,a,s];case 180:return[1-n-s,1-r-a,s,a];case 270:return[r,1-n-s,a,s]}return[n,r,s,a]},Sfe=function(n){Lr._keyboardManager.exec(this,n)},UB=function(n){if(!B(this,Sw))return;const r=window.getSelection();n?r.setPosition(B(this,Sw),B(this,sS)):r.setPosition(B(this,aS),B(this,oS))},EN=function(){return B(this,ao)?this.rotation:0},Efe=function(){if(B(this,ao))return null;const[n,r]=this.pageDimensions,[s,a]=this.pageTranslation,o=B(this,rp),l=new Float32Array(o.length*8);let c=0;for(const{x:u,y:d,width:h,height:f}of o){const A=u*n+s,v=(1-d)*r+a;l[c]=l[c+4]=A,l[c+1]=l[c+3]=v,l[c+2]=l[c+6]=A+h*n,l[c+5]=l[c+7]=v-f*r,c+=8}return l},Bfe=function(n){return B(this,Tu).serialize(n,je(this,Kn,EN).call(this))},Dfe=function(n,r){this._freeHighlight.add(r)&&n.drawLayer.updateProperties(this._freeHighlightId,{path:{d:this._freeHighlight.toSVGPath()}})},Tfe=function(n,r){this._freeHighlight.isEmpty()?n.drawLayer.remove(this._freeHighlightId):n.createAndAddNewEditor(r,!1,{highlightId:this._freeHighlightId,highlightOutlines:this._freeHighlight.getOutlines(),clipPathId:this._freeHighlightClipId,methodOfCreation:"main_toolbar"}),this._freeHighlightId=-1,this._freeHighlight=null,this._freeHighlightClipId=""},kfe=function(n){const{color:r}=this._initialData;return n.color.some((s,a)=>s!==r[a])},be(Lr,Mu),Nn(Lr,"_defaultColor",null),Nn(Lr,"_defaultOpacity",1),Nn(Lr,"_defaultThickness",12),Nn(Lr,"_type","highlight"),Nn(Lr,"_editorType",Xn.HIGHLIGHT),Nn(Lr,"_freeHighlightId",-1),Nn(Lr,"_freeHighlight",null),Nn(Lr,"_freeHighlightClipId","");let WD=Lr;var U0;class kTe{constructor(){be(this,U0,Object.create(null))}updateProperty(e,n){this[e]=n,this.updateSVGProperty(e,n)}updateProperties(e){if(e)for(const[n,r]of Object.entries(e))this.updateProperty(n,r)}updateSVGProperty(e,n){B(this,U0)[e]=n}toSVGProperties(){const e=B(this,U0);return le(this,U0,Object.create(null)),{root:e}}reset(){le(this,U0,Object.create(null))}updateAll(e=this){this.updateProperties(e)}clone(){xi("Not implemented")}}U0=new WeakMap;var Ic,Tw,Ia,I0,O0,Cg,Sg,Eg,M0,Sr,_7,C7,S7,BN,Ffe,IB,DN,qb;const nn=class nn extends ls{constructor(n){super(n);be(this,Sr);be(this,Ic,null);be(this,Tw);Nn(this,"_drawId",null);le(this,Tw,n.mustBeCommitted||!1),n.drawOutlines&&(je(this,Sr,_7).call(this,n),je(this,Sr,BN).call(this))}static _mergeSVGProperties(n,r){const s=new Set(Object.keys(n));for(const[a,o]of Object.entries(r))s.has(a)?Object.assign(n[a],o):n[a]=o;return n}static getDefaultDrawingOptions(n){xi("Not implemented")}static get typesMap(){xi("Not implemented")}static get isDrawer(){return!0}static get supportMultipleDrawings(){return!1}static updateDefaultParams(n,r){const s=this.typesMap.get(n);s&&this._defaultDrawingOptions.updateProperty(s,r),this._currentParent&&(B(nn,Ia).updateProperty(s,r),this._currentParent.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}updateParams(n,r){const s=this.constructor.typesMap.get(n);s&&this._updateProperty(n,s,r)}static get defaultPropertiesToUpdate(){const n=[],r=this._defaultDrawingOptions;for(const[s,a]of this.typesMap)n.push([s,r[a]]);return n}get propertiesToUpdate(){const n=[],{_drawingOptions:r}=this;for(const[s,a]of this.constructor.typesMap)n.push([s,r[a]]);return n}_updateProperty(n,r,s){const a=this._drawingOptions,o=a[r],l=c=>{var d;a.updateProperty(r,c);const u=B(this,Ic).updateProperty(r,c);u&&je(this,Sr,DN).call(this,u),(d=this.parent)==null||d.drawLayer.updateProperties(this._drawId,a.toSVGProperties())};this.addCommands({cmd:l.bind(this,s),undo:l.bind(this,o),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:n,overwriteIfSameType:!0,keepUndo:!0})}_onResizing(){var n;(n=this.parent)==null||n.drawLayer.updateProperties(this._drawId,nn._mergeSVGProperties(B(this,Ic).getPathResizingSVGProperties(je(this,Sr,IB).call(this)),{bbox:je(this,Sr,qb).call(this)}))}_onResized(){var n;(n=this.parent)==null||n.drawLayer.updateProperties(this._drawId,nn._mergeSVGProperties(B(this,Ic).getPathResizedSVGProperties(je(this,Sr,IB).call(this)),{bbox:je(this,Sr,qb).call(this)}))}_onTranslating(n,r){var s;(s=this.parent)==null||s.drawLayer.updateProperties(this._drawId,{bbox:je(this,Sr,qb).call(this,n,r)})}_onTranslated(){var n;(n=this.parent)==null||n.drawLayer.updateProperties(this._drawId,nn._mergeSVGProperties(B(this,Ic).getPathTranslatedSVGProperties(je(this,Sr,IB).call(this),this.parentDimensions),{bbox:je(this,Sr,qb).call(this)}))}_onStartDragging(){var n;(n=this.parent)==null||n.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!0}})}_onStopDragging(){var n;(n=this.parent)==null||n.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!1}})}commit(){super.commit(),this.disableEditMode(),this.disableEditing()}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}getBaseTranslation(){return[0,0]}get isResizable(){return!0}onceAdded(n){this.annotationElementId||this.parent.addUndoableEditor(this),this._isDraggable=!0,B(this,Tw)&&(le(this,Tw,!1),this.commit(),this.parent.setSelected(this),n&&this.isOnScreen&&this.div.focus())}remove(){je(this,Sr,S7).call(this),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(je(this,Sr,BN).call(this),je(this,Sr,DN).call(this,B(this,Ic).box),this.isAttachedToDOM||this.parent.add(this)))}setParent(n){var s;let r=!1;this.parent&&!n?(this._uiManager.removeShouldRescale(this),je(this,Sr,S7).call(this)):n&&(this._uiManager.addShouldRescale(this),je(this,Sr,BN).call(this,n),r=!this.parent&&((s=this.div)==null?void 0:s.classList.contains("selectedEditor"))),super.setParent(n),r&&this.select()}rotate(){this.parent&&this.parent.drawLayer.updateProperties(this._drawId,nn._mergeSVGProperties({bbox:je(this,Sr,qb).call(this)},B(this,Ic).updateRotation((this.parentRotation-this.rotation+360)%360)))}onScaleChanging(){this.parent&&je(this,Sr,DN).call(this,B(this,Ic).updateParentDimensions(this.parentDimensions,this.parent.scale))}static onScaleChangingWhenDrawing(){}render(){if(this.div)return this.div;const n=super.render();n.classList.add("draw");const r=document.createElement("div");n.append(r),r.setAttribute("aria-hidden","true"),r.className="internal";const[s,a]=this.parentDimensions;return this.setDims(this.width*s,this.height*a),this._uiManager.addShouldRescale(this),this.disableEditing(),n}static createDrawerInstance(n,r,s,a,o){xi("Not implemented")}static startDrawing(n,r,s,a){var m;const{target:o,offsetX:l,offsetY:c,pointerId:u,pointerType:d}=a;if(B(nn,Sg)&&B(nn,Sg)!==d)return;const{viewport:{rotation:h}}=n,{width:f,height:A}=o.getBoundingClientRect(),v=le(nn,I0,new AbortController),p=n.combinedSignal(v);if(B(nn,Cg)||le(nn,Cg,u),B(nn,Sg)??le(nn,Sg,d),window.addEventListener("pointerup",g=>{var x;B(nn,Cg)===g.pointerId?this._endDraw(g):(x=B(nn,Eg))==null||x.delete(g.pointerId)},{signal:p}),window.addEventListener("pointercancel",g=>{var x;B(nn,Cg)===g.pointerId?this._currentParent.endDrawingSession():(x=B(nn,Eg))==null||x.delete(g.pointerId)},{signal:p}),window.addEventListener("pointerdown",g=>{B(nn,Sg)===g.pointerType&&((B(nn,Eg)||le(nn,Eg,new Set)).add(g.pointerId),B(nn,Ia).isCancellable()&&(B(nn,Ia).removeLastElement(),B(nn,Ia).isEmpty()?this._currentParent.endDrawingSession(!0):this._endDraw(null)))},{capture:!0,passive:!1,signal:p}),window.addEventListener("contextmenu",ch,{signal:p}),o.addEventListener("pointermove",this._drawMove.bind(this),{signal:p}),o.addEventListener("touchmove",g=>{g.timeStamp===B(nn,M0)&&$c(g)},{signal:p}),n.toggleDrawing(),(m=r._editorUndoBar)==null||m.hide(),B(nn,Ia)){n.drawLayer.updateProperties(this._currentDrawId,B(nn,Ia).startNew(l,c,f,A,h));return}r.updateUIForDefaultProperties(this),le(nn,Ia,this.createDrawerInstance(l,c,f,A,h)),le(nn,O0,this.getDefaultDrawingOptions()),this._currentParent=n,{id:this._currentDrawId}=n.drawLayer.draw(this._mergeSVGProperties(B(nn,O0).toSVGProperties(),B(nn,Ia).defaultSVGProperties),!0,!1)}static _drawMove(n){var o;if(le(nn,M0,-1),!B(nn,Ia))return;const{offsetX:r,offsetY:s,pointerId:a}=n;if(B(nn,Cg)===a){if(((o=B(nn,Eg))==null?void 0:o.size)>=1){this._endDraw(n);return}this._currentParent.drawLayer.updateProperties(this._currentDrawId,B(nn,Ia).add(r,s)),le(nn,M0,n.timeStamp),$c(n)}}static _cleanup(n){n&&(this._currentDrawId=-1,this._currentParent=null,le(nn,Ia,null),le(nn,O0,null),le(nn,Sg,null),le(nn,M0,NaN)),B(nn,I0)&&(B(nn,I0).abort(),le(nn,I0,null),le(nn,Cg,NaN),le(nn,Eg,null))}static _endDraw(n){const r=this._currentParent;if(r){if(r.toggleDrawing(!0),this._cleanup(!1),n&&r.drawLayer.updateProperties(this._currentDrawId,B(nn,Ia).end(n.offsetX,n.offsetY)),this.supportMultipleDrawings){const s=B(nn,Ia),a=this._currentDrawId,o=s.getLastElement();r.addCommands({cmd:()=>{r.drawLayer.updateProperties(a,s.setLastElement(o))},undo:()=>{r.drawLayer.updateProperties(a,s.removeLastElement())},mustExec:!1,type:mr.DRAW_STEP});return}this.endDrawing(!1)}}static endDrawing(n){const r=this._currentParent;if(!r)return null;if(r.toggleDrawing(!0),r.cleanUndoStack(mr.DRAW_STEP),!B(nn,Ia).isEmpty()){const{pageDimensions:[s,a],scale:o}=r,l=r.createAndAddNewEditor({offsetX:0,offsetY:0},!1,{drawId:this._currentDrawId,drawOutlines:B(nn,Ia).getOutlines(s*o,a*o,o,this._INNER_MARGIN),drawingOptions:B(nn,O0),mustBeCommitted:!n});return this._cleanup(!0),l}return r.drawLayer.remove(this._currentDrawId),this._cleanup(!0),null}createDrawingOptions(n){}static deserializeDraw(n,r,s,a,o,l){xi("Not implemented")}static async deserialize(n,r,s){var h,f;const{rawDims:{pageWidth:a,pageHeight:o,pageX:l,pageY:c}}=r.viewport,u=this.deserializeDraw(l,c,a,o,this._INNER_MARGIN,n),d=await super.deserialize(n,r,s);return d.createDrawingOptions(n),je(h=d,Sr,_7).call(h,{drawOutlines:u}),je(f=d,Sr,BN).call(f),d.onScaleChanging(),d.rotate(),d}serializeDraw(n){const[r,s]=this.pageTranslation,[a,o]=this.pageDimensions;return B(this,Ic).serialize([r,s,a,o],n)}renderAnnotationElement(n){return n.updateEdited({rect:this.getRect(0,0)}),null}static canCreateNewEmptyEditor(){return!1}};Ic=new WeakMap,Tw=new WeakMap,Ia=new WeakMap,I0=new WeakMap,O0=new WeakMap,Cg=new WeakMap,Sg=new WeakMap,Eg=new WeakMap,M0=new WeakMap,Sr=new WeakSet,_7=function({drawOutlines:n,drawId:r,drawingOptions:s}){le(this,Ic,n),this._drawingOptions||(this._drawingOptions=s),r>=0?(this._drawId=r,this.parent.drawLayer.finalizeDraw(r,n.defaultProperties)):this._drawId=je(this,Sr,C7).call(this,n,this.parent),je(this,Sr,DN).call(this,n.box)},C7=function(n,r){const{id:s}=r.drawLayer.draw(nn._mergeSVGProperties(this._drawingOptions.toSVGProperties(),n.defaultSVGProperties),!1,!1);return s},S7=function(){this._drawId===null||!this.parent||(this.parent.drawLayer.remove(this._drawId),this._drawId=null,this._drawingOptions.reset())},BN=function(n=this.parent){if(!(this._drawId!==null&&this.parent===n)){if(this._drawId!==null){this.parent.drawLayer.updateParent(this._drawId,n.drawLayer);return}this._drawingOptions.updateAll(),this._drawId=je(this,Sr,C7).call(this,B(this,Ic),n)}},Ffe=function([n,r,s,a]){const{parentDimensions:[o,l],rotation:c}=this;switch(c){case 90:return[r,1-n,s*(l/o),a*(o/l)];case 180:return[1-n,1-r,s,a];case 270:return[1-r,n,s*(l/o),a*(o/l)];default:return[n,r,s,a]}},IB=function(){const{x:n,y:r,width:s,height:a,parentDimensions:[o,l],rotation:c}=this;switch(c){case 90:return[1-r,n,s*(o/l),a*(l/o)];case 180:return[1-n,1-r,s,a];case 270:return[r,1-n,s*(o/l),a*(l/o)];default:return[n,r,s,a]}},DN=function(n){if([this.x,this.y,this.width,this.height]=je(this,Sr,Ffe).call(this,n),this.div){this.fixAndSetPosition();const[r,s]=this.parentDimensions;this.setDims(this.width*r,this.height*s)}this._onResized()},qb=function(){const{x:n,y:r,width:s,height:a,rotation:o,parentRotation:l,parentDimensions:[c,u]}=this;switch((o*4+l)/90){case 1:return[1-r-a,n,a,s];case 2:return[1-n-s,1-r-a,s,a];case 3:return[r,1-n-s,a,s];case 4:return[n,r-s*(c/u),a*(u/c),s*(c/u)];case 5:return[1-r,n,s*(c/u),a*(u/c)];case 6:return[1-n-a*(u/c),1-r,a*(u/c),s*(c/u)];case 7:return[r-s*(c/u),1-n-a*(u/c),s*(c/u),a*(u/c)];case 8:return[n-s,r-a,s,a];case 9:return[1-r,n-s,a,s];case 10:return[1-n,1-r,s,a];case 11:return[r-a,1-n,a,s];case 12:return[n-a*(u/c),r,a*(u/c),s*(c/u)];case 13:return[1-r-s*(c/u),n-a*(u/c),s*(c/u),a*(u/c)];case 14:return[1-n,1-r-s*(c/u),a*(u/c),s*(c/u)];case 15:return[r,1-n,s*(c/u),a*(u/c)];default:return[n,r,s,a]}},Nn(nn,"_currentDrawId",-1),Nn(nn,"_currentParent",null),be(nn,Ia,null),be(nn,I0,null),be(nn,O0,null),be(nn,Cg,NaN),be(nn,Sg,null),be(nn,Eg,null),be(nn,M0,NaN),Nn(nn,"_INNER_MARGIN",3);let N7=nn;var hf,Oa,Ma,L0,kw,ml,oo,Fu,R0,Q0,H0,Fw,OB;class FTe{constructor(e,n,r,s,a,o){be(this,Fw);be(this,hf,new Float64Array(6));be(this,Oa);be(this,Ma);be(this,L0);be(this,kw);be(this,ml);be(this,oo,"");be(this,Fu,0);be(this,R0,new qD);be(this,Q0);be(this,H0);le(this,Q0,r),le(this,H0,s),le(this,L0,a),le(this,kw,o),[e,n]=je(this,Fw,OB).call(this,e,n);const l=le(this,Oa,[NaN,NaN,NaN,NaN,e,n]);le(this,ml,[e,n]),le(this,Ma,[{line:l,points:B(this,ml)}]),B(this,hf).set(l,0)}updateProperty(e,n){e==="stroke-width"&&le(this,kw,n)}isEmpty(){return!B(this,Ma)||B(this,Ma).length===0}isCancellable(){return B(this,ml).length<=10}add(e,n){[e,n]=je(this,Fw,OB).call(this,e,n);const[r,s,a,o]=B(this,hf).subarray(2,6),l=e-a,c=n-o;return Math.hypot(B(this,Q0)*l,B(this,H0)*c)<=2?null:(B(this,ml).push(e,n),isNaN(r)?(B(this,hf).set([a,o,e,n],2),B(this,Oa).push(NaN,NaN,NaN,NaN,e,n),{path:{d:this.toSVGPath()}}):(isNaN(B(this,hf)[0])&&B(this,Oa).splice(6,6),B(this,hf).set([r,s,a,o,e,n],0),B(this,Oa).push(...en.createBezierPoints(r,s,a,o,e,n)),{path:{d:this.toSVGPath()}}))}end(e,n){const r=this.add(e,n);return r||(B(this,ml).length===2?{path:{d:this.toSVGPath()}}:null)}startNew(e,n,r,s,a){le(this,Q0,r),le(this,H0,s),le(this,L0,a),[e,n]=je(this,Fw,OB).call(this,e,n);const o=le(this,Oa,[NaN,NaN,NaN,NaN,e,n]);le(this,ml,[e,n]);const l=B(this,Ma).at(-1);return l&&(l.line=new Float32Array(l.line),l.points=new Float32Array(l.points)),B(this,Ma).push({line:o,points:B(this,ml)}),B(this,hf).set(o,0),le(this,Fu,0),this.toSVGPath(),null}getLastElement(){return B(this,Ma).at(-1)}setLastElement(e){return B(this,Ma)?(B(this,Ma).push(e),le(this,Oa,e.line),le(this,ml,e.points),le(this,Fu,0),{path:{d:this.toSVGPath()}}):B(this,R0).setLastElement(e)}removeLastElement(){if(!B(this,Ma))return B(this,R0).removeLastElement();B(this,Ma).pop(),le(this,oo,"");for(let e=0,n=B(this,Ma).length;e<n;e++){const{line:r,points:s}=B(this,Ma)[e];le(this,Oa,r),le(this,ml,s),le(this,Fu,0),this.toSVGPath()}return{path:{d:B(this,oo)}}}toSVGPath(){const e=en.svgRound(B(this,Oa)[4]),n=en.svgRound(B(this,Oa)[5]);if(B(this,ml).length===2)return le(this,oo,`${B(this,oo)} M ${e} ${n} Z`),B(this,oo);if(B(this,ml).length<=6){const s=B(this,oo).lastIndexOf("M");le(this,oo,`${B(this,oo).slice(0,s)} M ${e} ${n}`),le(this,Fu,6)}if(B(this,ml).length===4){const s=en.svgRound(B(this,Oa)[10]),a=en.svgRound(B(this,Oa)[11]);return le(this,oo,`${B(this,oo)} L ${s} ${a}`),le(this,Fu,12),B(this,oo)}const r=[];B(this,Fu)===0&&(r.push(`M ${e} ${n}`),le(this,Fu,6));for(let s=B(this,Fu),a=B(this,Oa).length;s<a;s+=6){const[o,l,c,u,d,h]=B(this,Oa).slice(s,s+6).map(en.svgRound);r.push(`C${o} ${l} ${c} ${u} ${d} ${h}`)}return le(this,oo,B(this,oo)+r.join(" ")),le(this,Fu,B(this,Oa).length),B(this,oo)}getOutlines(e,n,r,s){const a=B(this,Ma).at(-1);return a.line=new Float32Array(a.line),a.points=new Float32Array(a.points),B(this,R0).build(B(this,Ma),e,n,r,B(this,L0),B(this,kw),s),le(this,hf,null),le(this,Oa,null),le(this,Ma,null),le(this,oo,null),B(this,R0)}get defaultSVGProperties(){return{root:{viewBox:"0 0 10000 10000"},rootClass:{draw:!0},bbox:[0,0,1,1]}}}hf=new WeakMap,Oa=new WeakMap,Ma=new WeakMap,L0=new WeakMap,kw=new WeakMap,ml=new WeakMap,oo=new WeakMap,Fu=new WeakMap,R0=new WeakMap,Q0=new WeakMap,H0=new WeakMap,Fw=new WeakSet,OB=function(e,n){return en._normalizePoint(e,n,B(this,Q0),B(this,H0),B(this,L0))};var gl,cS,uS,Oc,ff,Af,Pw,Uw,Iw,fo,FA,Pfe,Ufe,Ife;const uV=class uV extends en{constructor(){super(...arguments);be(this,fo);be(this,gl);be(this,cS,0);be(this,uS);be(this,Oc);be(this,ff);be(this,Af);be(this,Pw);be(this,Uw);be(this,Iw)}build(n,r,s,a,o,l,c){le(this,ff,r),le(this,Af,s),le(this,Pw,a),le(this,Uw,o),le(this,Iw,l),le(this,uS,c??0),le(this,Oc,n),je(this,fo,Ufe).call(this)}setLastElement(n){return B(this,Oc).push(n),{path:{d:this.toSVGPath()}}}removeLastElement(){return B(this,Oc).pop(),{path:{d:this.toSVGPath()}}}toSVGPath(){const n=[];for(const{line:r}of B(this,Oc)){if(n.push(`M${en.svgRound(r[4])} ${en.svgRound(r[5])}`),r.length===6){n.push("Z");continue}if(r.length===12){n.push(`L${en.svgRound(r[10])} ${en.svgRound(r[11])}`);continue}for(let s=6,a=r.length;s<a;s+=6){const[o,l,c,u,d,h]=r.subarray(s,s+6).map(en.svgRound);n.push(`C${o} ${l} ${c} ${u} ${d} ${h}`)}}return n.join("")}serialize([n,r,s,a],o){const l=[],c=[],[u,d,h,f]=je(this,fo,Pfe).call(this);let A,v,p,m,g,x,b,j,N;switch(B(this,Uw)){case 0:N=en._rescale,A=n,v=r+a,p=s,m=-a,g=n+u*s,x=r+(1-d-f)*a,b=n+(u+h)*s,j=r+(1-d)*a;break;case 90:N=en._rescaleAndSwap,A=n,v=r,p=s,m=a,g=n+d*s,x=r+u*a,b=n+(d+f)*s,j=r+(u+h)*a;break;case 180:N=en._rescale,A=n+s,v=r,p=-s,m=a,g=n+(1-u-h)*s,x=r+d*a,b=n+(1-u)*s,j=r+(d+f)*a;break;case 270:N=en._rescaleAndSwap,A=n+s,v=r+a,p=-s,m=-a,g=n+(1-d-f)*s,x=r+(1-u-h)*a,b=n+(1-d)*s,j=r+(1-u)*a;break}for(const{line:_,points:C}of B(this,Oc))l.push(N(_,A,v,p,m,o?new Array(_.length):null)),c.push(N(C,A,v,p,m,o?new Array(C.length):null));return{lines:l,points:c,rect:[g,x,b,j]}}static deserialize(n,r,s,a,o,{paths:{lines:l,points:c},rotation:u,thickness:d}){const h=[];let f,A,v,p,m;switch(u){case 0:m=en._rescale,f=-n/s,A=r/a+1,v=1/s,p=-1/a;break;case 90:m=en._rescaleAndSwap,f=-r/a,A=-n/s,v=1/a,p=1/s;break;case 180:m=en._rescale,f=n/s+1,A=-r/a,v=-1/s,p=1/a;break;case 270:m=en._rescaleAndSwap,f=r/a+1,A=n/s+1,v=-1/a,p=-1/s;break}if(!l){l=[];for(const x of c){const b=x.length;if(b===2){l.push(new Float32Array([NaN,NaN,NaN,NaN,x[0],x[1]]));continue}if(b===4){l.push(new Float32Array([NaN,NaN,NaN,NaN,x[0],x[1],NaN,NaN,NaN,NaN,x[2],x[3]]));continue}const j=new Float32Array(3*(b-2));l.push(j);let[N,_,C,k]=x.subarray(0,4);j.set([NaN,NaN,NaN,NaN,N,_],0);for(let T=4;T<b;T+=2){const O=x[T],I=x[T+1];j.set(en.createBezierPoints(N,_,C,k,O,I),(T-2)*3),[N,_,C,k]=[C,k,O,I]}}}for(let x=0,b=l.length;x<b;x++)h.push({line:m(l[x].map(j=>j??NaN),f,A,v,p),points:m(c[x].map(j=>j??NaN),f,A,v,p)});const g=new uV;return g.build(h,s,a,1,u,d,o),g}get box(){return B(this,gl)}updateProperty(n,r){return n==="stroke-width"?je(this,fo,Ife).call(this,r):null}updateParentDimensions([n,r],s){const[a,o]=je(this,fo,FA).call(this);le(this,ff,n),le(this,Af,r),le(this,Pw,s);const[l,c]=je(this,fo,FA).call(this),u=l-a,d=c-o,h=B(this,gl);return h[0]-=u,h[1]-=d,h[2]+=2*u,h[3]+=2*d,h}updateRotation(n){return le(this,cS,n),{path:{transform:this.rotationTransform}}}get viewBox(){return B(this,gl).map(en.svgRound).join(" ")}get defaultProperties(){const[n,r]=B(this,gl);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${en.svgRound(n)} ${en.svgRound(r)}`}}}get rotationTransform(){const[,,n,r]=B(this,gl);let s=0,a=0,o=0,l=0,c=0,u=0;switch(B(this,cS)){case 90:a=r/n,o=-n/r,c=n;break;case 180:s=-1,l=-1,c=n,u=r;break;case 270:a=-r/n,o=n/r,u=r;break;default:return""}return`matrix(${s} ${a} ${o} ${l} ${en.svgRound(c)} ${en.svgRound(u)})`}getPathResizingSVGProperties([n,r,s,a]){const[o,l]=je(this,fo,FA).call(this),[c,u,d,h]=B(this,gl);if(Math.abs(d-o)<=en.PRECISION||Math.abs(h-l)<=en.PRECISION){const m=n+s/2-(c+d/2),g=r+a/2-(u+h/2);return{path:{"transform-origin":`${en.svgRound(n)} ${en.svgRound(r)}`,transform:`${this.rotationTransform} translate(${m} ${g})`}}}const f=(s-2*o)/(d-2*o),A=(a-2*l)/(h-2*l),v=d/s,p=h/a;return{path:{"transform-origin":`${en.svgRound(c)} ${en.svgRound(u)}`,transform:`${this.rotationTransform} scale(${v} ${p}) translate(${en.svgRound(o)} ${en.svgRound(l)}) scale(${f} ${A}) translate(${en.svgRound(-o)} ${en.svgRound(-l)})`}}}getPathResizedSVGProperties([n,r,s,a]){const[o,l]=je(this,fo,FA).call(this),c=B(this,gl),[u,d,h,f]=c;if(c[0]=n,c[1]=r,c[2]=s,c[3]=a,Math.abs(h-o)<=en.PRECISION||Math.abs(f-l)<=en.PRECISION){const g=n+s/2-(u+h/2),x=r+a/2-(d+f/2);for(const{line:b,points:j}of B(this,Oc))en._translate(b,g,x,b),en._translate(j,g,x,j);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${en.svgRound(n)} ${en.svgRound(r)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}const A=(s-2*o)/(h-2*o),v=(a-2*l)/(f-2*l),p=-A*(u+o)+n+o,m=-v*(d+l)+r+l;if(A!==1||v!==1||p!==0||m!==0)for(const{line:g,points:x}of B(this,Oc))en._rescale(g,p,m,A,v,g),en._rescale(x,p,m,A,v,x);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${en.svgRound(n)} ${en.svgRound(r)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}getPathTranslatedSVGProperties([n,r],s){const[a,o]=s,l=B(this,gl),c=n-l[0],u=r-l[1];if(B(this,ff)===a&&B(this,Af)===o)for(const{line:d,points:h}of B(this,Oc))en._translate(d,c,u,d),en._translate(h,c,u,h);else{const d=B(this,ff)/a,h=B(this,Af)/o;le(this,ff,a),le(this,Af,o);for(const{line:f,points:A}of B(this,Oc))en._rescale(f,c,u,d,h,f),en._rescale(A,c,u,d,h,A);l[2]*=d,l[3]*=h}return l[0]=n,l[1]=r,{root:{viewBox:this.viewBox},path:{d:this.toSVGPath(),"transform-origin":`${en.svgRound(n)} ${en.svgRound(r)}`}}}get defaultSVGProperties(){const n=B(this,gl);return{root:{viewBox:this.viewBox},rootClass:{draw:!0},path:{d:this.toSVGPath(),"transform-origin":`${en.svgRound(n[0])} ${en.svgRound(n[1])}`,transform:this.rotationTransform||null},bbox:n}}};gl=new WeakMap,cS=new WeakMap,uS=new WeakMap,Oc=new WeakMap,ff=new WeakMap,Af=new WeakMap,Pw=new WeakMap,Uw=new WeakMap,Iw=new WeakMap,fo=new WeakSet,FA=function(n=B(this,Iw)){const r=B(this,uS)+n/2*B(this,Pw);return B(this,Uw)%180===0?[r/B(this,ff),r/B(this,Af)]:[r/B(this,Af),r/B(this,ff)]},Pfe=function(){const[n,r,s,a]=B(this,gl),[o,l]=je(this,fo,FA).call(this,0);return[n+o,r+l,s-2*o,a-2*l]},Ufe=function(){const n=le(this,gl,new Float32Array([1/0,1/0,-1/0,-1/0]));for(const{line:a}of B(this,Oc)){if(a.length<=12){for(let c=4,u=a.length;c<u;c+=6){const[d,h]=a.subarray(c,c+2);n[0]=Math.min(n[0],d),n[1]=Math.min(n[1],h),n[2]=Math.max(n[2],d),n[3]=Math.max(n[3],h)}continue}let o=a[4],l=a[5];for(let c=6,u=a.length;c<u;c+=6){const[d,h,f,A,v,p]=a.subarray(c,c+6);un.bezierBoundingBox(o,l,d,h,f,A,v,p,n),o=v,l=p}}const[r,s]=je(this,fo,FA).call(this);n[0]=Math.min(1,Math.max(0,n[0]-r)),n[1]=Math.min(1,Math.max(0,n[1]-s)),n[2]=Math.min(1,Math.max(0,n[2]+r)),n[3]=Math.min(1,Math.max(0,n[3]+s)),n[2]-=n[0],n[3]-=n[1]},Ife=function(n){const[r,s]=je(this,fo,FA).call(this);le(this,Iw,n);const[a,o]=je(this,fo,FA).call(this),[l,c]=[a-r,o-s],u=B(this,gl);return u[0]-=l,u[1]-=c,u[2]+=2*l,u[3]+=2*c,u};let qD=uV;var Ow;const dV=class dV extends kTe{constructor(n){super();be(this,Ow);le(this,Ow,n),super.updateProperties({fill:"none",stroke:ls._defaultLineColor,"stroke-opacity":1,"stroke-width":1,"stroke-linecap":"round","stroke-linejoin":"round","stroke-miterlimit":10})}updateSVGProperty(n,r){n==="stroke-width"&&(r??(r=this["stroke-width"]),r*=B(this,Ow).realScale),super.updateSVGProperty(n,r)}clone(){const n=new dV(B(this,Ow));return n.updateAll(this),n}};Ow=new WeakMap;let E7=dV;var ek,Ofe;const A1=class A1 extends N7{constructor(n){super({...n,name:"inkEditor"});be(this,ek);this._willKeepAspectRatio=!0}static initialize(n,r){ls.initialize(n,r),this._defaultDrawingOptions=new E7(r.viewParameters)}static getDefaultDrawingOptions(n){const r=this._defaultDrawingOptions.clone();return r.updateProperties(n),r}static get supportMultipleDrawings(){return!0}static get typesMap(){return or(this,"typesMap",new Map([[mr.INK_THICKNESS,"stroke-width"],[mr.INK_COLOR,"stroke"],[mr.INK_OPACITY,"stroke-opacity"]]))}static createDrawerInstance(n,r,s,a,o){return new FTe(n,r,s,a,o,this._defaultDrawingOptions["stroke-width"])}static deserializeDraw(n,r,s,a,o,l){return qD.deserialize(n,r,s,a,o,l)}static async deserialize(n,r,s){let a=null;if(n instanceof Tz){const{data:{inkLists:l,rect:c,rotation:u,id:d,color:h,opacity:f,borderStyle:{rawWidth:A},popupRef:v},parent:{page:{pageNumber:p}}}=n;a=n={annotationType:Xn.INK,color:Array.from(h),thickness:A,opacity:f,paths:{points:l},boxes:null,pageIndex:p-1,rect:c.slice(0),rotation:u,id:d,deleted:!1,popupRef:v}}const o=await super.deserialize(n,r,s);return o.annotationElementId=n.id||null,o._initialData=a,o}onScaleChanging(){if(!this.parent)return;super.onScaleChanging();const{_drawId:n,_drawingOptions:r,parent:s}=this;r.updateSVGProperty("stroke-width"),s.drawLayer.updateProperties(n,r.toSVGProperties())}static onScaleChangingWhenDrawing(){const n=this._currentParent;n&&(super.onScaleChangingWhenDrawing(),this._defaultDrawingOptions.updateSVGProperty("stroke-width"),n.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}createDrawingOptions({color:n,thickness:r,opacity:s}){this._drawingOptions=A1.getDefaultDrawingOptions({stroke:un.makeHexColor(...n),"stroke-width":r,"stroke-opacity":s})}serialize(n=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const{lines:r,points:s,rect:a}=this.serializeDraw(n),{_drawingOptions:{stroke:o,"stroke-opacity":l,"stroke-width":c}}=this,u={annotationType:Xn.INK,color:ls._colorManager.convert(o),opacity:l,thickness:c,paths:{lines:r,points:s},pageIndex:this.pageIndex,rect:a,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return n?u:this.annotationElementId&&!je(this,ek,Ofe).call(this,u)?null:(u.id=this.annotationElementId,u)}renderAnnotationElement(n){const{points:r,rect:s}=this.serializeDraw(!1);return n.updateEdited({rect:s,thickness:this._drawingOptions["stroke-width"],points:r}),null}};ek=new WeakSet,Ofe=function(n){const{color:r,thickness:s,opacity:a,pageIndex:o}=this._initialData;return this._hasBeenMoved||this._hasBeenResized||n.color.some((l,c)=>l!==r[c])||n.thickness!==s||n.opacity!==a||n.pageIndex!==o},Nn(A1,"_type","ink"),Nn(A1,"_editorType",Xn.INK),Nn(A1,"_defaultDrawingOptions",null);let B7=A1;var as,lo,Bg,sp,Dg,Mw,pf,mf,Mc,Lw,kr,TN,kN,MB,T7,LB,k7,RB,Mfe;const v_=class v_ extends ls{constructor(n){super({...n,name:"stampEditor"});be(this,kr);be(this,as,null);be(this,lo,null);be(this,Bg,null);be(this,sp,null);be(this,Dg,null);be(this,Mw,"");be(this,pf,null);be(this,mf,null);be(this,Mc,!1);be(this,Lw,!1);le(this,sp,n.bitmapUrl),le(this,Dg,n.bitmapFile)}static initialize(n,r){ls.initialize(n,r)}static get supportedTypes(){return or(this,"supportedTypes",["apng","avif","bmp","gif","jpeg","png","svg+xml","webp","x-icon"].map(r=>`image/${r}`))}static get supportedTypesStr(){return or(this,"supportedTypesStr",this.supportedTypes.join(","))}static isHandlingMimeForPasting(n){return this.supportedTypes.includes(n)}static paste(n,r){r.pasteEditor(Xn.STAMP,{bitmapFile:n.getAsFile()})}altTextFinish(){this._uiManager.useNewAltTextFlow&&(this.div.hidden=!1),super.altTextFinish()}get telemetryFinalData(){var n;return{type:"stamp",hasAltText:!!((n=this.altTextData)!=null&&n.altText)}}static computeTelemetryFinalData(n){const r=n.get("hasAltText");return{hasAltText:r.get(!0)??0,hasNoAltText:r.get(!1)??0}}async mlGuessAltText(n=null,r=!0){if(this.hasAltTextData())return null;const{mlManager:s}=this._uiManager;if(!s)throw new Error("No ML.");if(!await s.isEnabledFor("altText"))throw new Error("ML isn't enabled for alt text.");const{data:a,width:o,height:l}=n||this.copyCanvas(null,null,!0).imageData,c=await s.guess({name:"altText",request:{data:a,width:o,height:l,channels:a.length/(o*l)}});if(!c)throw new Error("No response from the AI service.");if(c.error)throw new Error("Error from the AI service.");if(c.cancel)return null;if(!c.output)throw new Error("No valid response from the AI service.");const u=c.output;return await this.setGuessedAltText(u),r&&!this.hasAltTextData()&&(this.altTextData={alt:u,decorative:!1}),u}remove(){var n;B(this,lo)&&(le(this,as,null),this._uiManager.imageManager.deleteId(B(this,lo)),(n=B(this,pf))==null||n.remove(),le(this,pf,null),B(this,mf)&&(clearTimeout(B(this,mf)),le(this,mf,null))),super.remove()}rebuild(){if(!this.parent){B(this,lo)&&je(this,kr,MB).call(this);return}super.rebuild(),this.div!==null&&(B(this,lo)&&B(this,pf)===null&&je(this,kr,MB).call(this),this.isAttachedToDOM||this.parent.add(this))}onceAdded(n){this._isDraggable=!0,n&&this.div.focus()}isEmpty(){return!(B(this,Bg)||B(this,as)||B(this,sp)||B(this,Dg)||B(this,lo))}get isResizable(){return!0}render(){if(this.div)return this.div;let n,r;if(this.width&&(n=this.x,r=this.y),super.render(),this.div.hidden=!0,this.div.setAttribute("role","figure"),this.addAltTextButton(),B(this,as)?je(this,kr,T7).call(this):je(this,kr,MB).call(this),this.width&&!this.annotationElementId){const[s,a]=this.parentDimensions;this.setAt(n*s,r*a,this.width*s,this.height*a)}return this._uiManager.addShouldRescale(this),this.div}_onResized(){this.onScaleChanging()}onScaleChanging(){if(!this.parent)return;B(this,mf)!==null&&clearTimeout(B(this,mf)),le(this,mf,setTimeout(()=>{le(this,mf,null),je(this,kr,k7).call(this)},200))}copyCanvas(n,r,s=!1){var A;n||(n=224);const{width:a,height:o}=B(this,as),l=new ER;let c=B(this,as),u=a,d=o,h=null;if(r){if(a>r||o>r){const k=Math.min(r/a,r/o);u=Math.floor(a*k),d=Math.floor(o*k)}h=document.createElement("canvas");const v=h.width=Math.ceil(u*l.sx),p=h.height=Math.ceil(d*l.sy);B(this,Mc)||(c=je(this,kr,LB).call(this,v,p));const m=h.getContext("2d");m.filter=this._uiManager.hcmFilter;let g="white",x="#cfcfd8";this._uiManager.hcmFilter!=="none"?x="black":(A=window.matchMedia)!=null&&A.call(window,"(prefers-color-scheme: dark)").matches&&(g="#8f8f9d",x="#42414d");const b=15,j=b*l.sx,N=b*l.sy,_=new OffscreenCanvas(j*2,N*2),C=_.getContext("2d");C.fillStyle=g,C.fillRect(0,0,j*2,N*2),C.fillStyle=x,C.fillRect(0,0,j,N),C.fillRect(j,N,j,N),m.fillStyle=m.createPattern(_,"repeat"),m.fillRect(0,0,v,p),m.drawImage(c,0,0,c.width,c.height,0,0,v,p)}let f=null;if(s){let v,p;if(l.symmetric&&c.width<n&&c.height<n)v=c.width,p=c.height;else if(c=B(this,as),a>n||o>n){const x=Math.min(n/a,n/o);v=Math.floor(a*x),p=Math.floor(o*x),B(this,Mc)||(c=je(this,kr,LB).call(this,v,p))}const g=new OffscreenCanvas(v,p).getContext("2d",{willReadFrequently:!0});g.drawImage(c,0,0,c.width,c.height,0,0,v,p),f={width:v,height:p,data:g.getImageData(0,0,v,p).data}}return{canvas:h,width:u,height:d,imageData:f}}getImageForAltText(){return B(this,pf)}static async deserialize(n,r,s){var p;let a=null;if(n instanceof sfe){const{data:{rect:m,rotation:g,id:x,structParent:b,popupRef:j},container:N,parent:{page:{pageNumber:_}}}=n,C=N.querySelector("canvas"),k=s.imageManager.getFromCanvas(N.id,C);C.remove();const T=((p=await r._structTree.getAriaAttributes(`${jz}${x}`))==null?void 0:p.get("aria-label"))||"";a=n={annotationType:Xn.STAMP,bitmapId:k.id,bitmap:k.bitmap,pageIndex:_-1,rect:m.slice(0),rotation:g,id:x,deleted:!1,accessibilityData:{decorative:!1,altText:T},isSvg:!1,structParent:b,popupRef:j}}const o=await super.deserialize(n,r,s),{rect:l,bitmap:c,bitmapUrl:u,bitmapId:d,isSvg:h,accessibilityData:f}=n;d&&s.imageManager.isValidId(d)?(le(o,lo,d),c&&le(o,as,c)):le(o,sp,u),le(o,Mc,h);const[A,v]=o.pageDimensions;return o.width=(l[2]-l[0])/A,o.height=(l[3]-l[1])/v,o.annotationElementId=n.id||null,f&&(o.altTextData=f),o._initialData=a,le(o,Lw,!!a),o}serialize(n=!1,r=null){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const s={annotationType:Xn.STAMP,bitmapId:B(this,lo),pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:B(this,Mc),structTreeParentId:this._structTreeParentId};if(n)return s.bitmapUrl=je(this,kr,RB).call(this,!0),s.accessibilityData=this.serializeAltText(!0),s;const{decorative:a,altText:o}=this.serializeAltText(!1);if(!a&&o&&(s.accessibilityData={type:"Figure",alt:o}),this.annotationElementId){const c=je(this,kr,Mfe).call(this,s);if(c.isSame)return null;c.isSameAltText?delete s.accessibilityData:s.accessibilityData.structParent=this._initialData.structParent??-1}if(s.id=this.annotationElementId,r===null)return s;r.stamps||(r.stamps=new Map);const l=B(this,Mc)?(s.rect[2]-s.rect[0])*(s.rect[3]-s.rect[1]):null;if(!r.stamps.has(B(this,lo)))r.stamps.set(B(this,lo),{area:l,serialized:s}),s.bitmap=je(this,kr,RB).call(this,!1);else if(B(this,Mc)){const c=r.stamps.get(B(this,lo));l>c.area&&(c.area=l,c.serialized.bitmap.close(),c.serialized.bitmap=je(this,kr,RB).call(this,!1))}return s}renderAnnotationElement(n){return n.updateEdited({rect:this.getRect(0,0)}),null}};as=new WeakMap,lo=new WeakMap,Bg=new WeakMap,sp=new WeakMap,Dg=new WeakMap,Mw=new WeakMap,pf=new WeakMap,mf=new WeakMap,Mc=new WeakMap,Lw=new WeakMap,kr=new WeakSet,TN=function(n,r=!1){if(!n){this.remove();return}le(this,as,n.bitmap),r||(le(this,lo,n.id),le(this,Mc,n.isSvg)),n.file&&le(this,Mw,n.file.name),je(this,kr,T7).call(this)},kN=function(){if(le(this,Bg,null),this._uiManager.enableWaiting(!1),!!B(this,pf)){if(this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&B(this,as)){this._editToolbar.hide(),this._uiManager.editAltText(this,!0);return}if(!this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&B(this,as)){this._reportTelemetry({action:"pdfjs.image.image_added",data:{alt_text_modal:!1,alt_text_type:"empty"}});try{this.mlGuessAltText()}catch{}}this.div.focus()}},MB=function(){if(B(this,lo)){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(B(this,lo)).then(s=>je(this,kr,TN).call(this,s,!0)).finally(()=>je(this,kr,kN).call(this));return}if(B(this,sp)){const s=B(this,sp);le(this,sp,null),this._uiManager.enableWaiting(!0),le(this,Bg,this._uiManager.imageManager.getFromUrl(s).then(a=>je(this,kr,TN).call(this,a)).finally(()=>je(this,kr,kN).call(this)));return}if(B(this,Dg)){const s=B(this,Dg);le(this,Dg,null),this._uiManager.enableWaiting(!0),le(this,Bg,this._uiManager.imageManager.getFromFile(s).then(a=>je(this,kr,TN).call(this,a)).finally(()=>je(this,kr,kN).call(this)));return}const n=document.createElement("input");n.type="file",n.accept=v_.supportedTypesStr;const r=this._uiManager._signal;le(this,Bg,new Promise(s=>{n.addEventListener("change",async()=>{if(!n.files||n.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const a=await this._uiManager.imageManager.getFromFile(n.files[0]);this._reportTelemetry({action:"pdfjs.image.image_selected",data:{alt_text_modal:this._uiManager.useNewAltTextFlow}}),je(this,kr,TN).call(this,a)}s()},{signal:r}),n.addEventListener("cancel",()=>{this.remove(),s()},{signal:r})}).finally(()=>je(this,kr,kN).call(this))),n.click()},T7=function(){var h;const{div:n}=this;let{width:r,height:s}=B(this,as);const[a,o]=this.pageDimensions,l=.75;if(this.width)r=this.width*a,s=this.height*o;else if(r>l*a||s>l*o){const f=Math.min(l*a/r,l*o/s);r*=f,s*=f}const[c,u]=this.parentDimensions;this.setDims(r*c/a,s*u/o),this._uiManager.enableWaiting(!1);const d=le(this,pf,document.createElement("canvas"));d.setAttribute("role","img"),this.addContainer(d),this.width=r/a,this.height=s/o,(h=this._initialOptions)!=null&&h.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,(!this._uiManager.useNewAltTextWhenAddingImage||!this._uiManager.useNewAltTextFlow||this.annotationElementId)&&(n.hidden=!1),je(this,kr,k7).call(this),B(this,Lw)||(this.parent.addUndoableEditor(this),le(this,Lw,!0)),this._reportTelemetry({action:"inserted_image"}),B(this,Mw)&&d.setAttribute("aria-label",B(this,Mw))},LB=function(n,r){const{width:s,height:a}=B(this,as);let o=s,l=a,c=B(this,as);for(;o>2*n||l>2*r;){const u=o,d=l;o>2*n&&(o=o>=16384?Math.floor(o/2)-1:Math.ceil(o/2)),l>2*r&&(l=l>=16384?Math.floor(l/2)-1:Math.ceil(l/2));const h=new OffscreenCanvas(o,l);h.getContext("2d").drawImage(c,0,0,u,d,0,0,o,l),c=h.transferToImageBitmap()}return c},k7=function(){const[n,r]=this.parentDimensions,{width:s,height:a}=this,o=new ER,l=Math.ceil(s*n*o.sx),c=Math.ceil(a*r*o.sy),u=B(this,pf);if(!u||u.width===l&&u.height===c)return;u.width=l,u.height=c;const d=B(this,Mc)?B(this,as):je(this,kr,LB).call(this,l,c),h=u.getContext("2d");h.filter=this._uiManager.hcmFilter,h.drawImage(d,0,0,d.width,d.height,0,0,l,c)},RB=function(n){if(n){if(B(this,Mc)){const a=this._uiManager.imageManager.getSvgUrl(B(this,lo));if(a)return a}const r=document.createElement("canvas");return{width:r.width,height:r.height}=B(this,as),r.getContext("2d").drawImage(B(this,as),0,0),r.toDataURL()}if(B(this,Mc)){const[r,s]=this.pageDimensions,a=Math.round(this.width*r*Zg.PDF_TO_CSS_UNITS),o=Math.round(this.height*s*Zg.PDF_TO_CSS_UNITS),l=new OffscreenCanvas(a,o);return l.getContext("2d").drawImage(B(this,as),0,0,B(this,as).width,B(this,as).height,0,0,a,o),l.transferToImageBitmap()}return structuredClone(B(this,as))},Mfe=function(n){var l;const{pageIndex:r,accessibilityData:{altText:s}}=this._initialData,a=n.pageIndex===r,o=(((l=n.accessibilityData)==null?void 0:l.alt)||"")===s;return{isSame:!this._hasBeenMoved&&!this._hasBeenResized&&a&&o,isSameAltText:o}},Nn(v_,"_type","stamp"),Nn(v_,"_editorType",Xn.STAMP);let D7=v_;var z0,Rw,gf,Tg,ap,Pu,kg,Qw,$0,Xd,op,Oo,lp,cn,Fg,Yi,Lfe,Yh,P7,U7,QB;const Od=class Od{constructor({uiManager:e,pageIndex:n,div:r,structTreeLayer:s,accessibilityManager:a,annotationLayer:o,drawLayer:l,textLayer:c,viewport:u,l10n:d}){be(this,Yi);be(this,z0);be(this,Rw,!1);be(this,gf,null);be(this,Tg,null);be(this,ap,null);be(this,Pu,new Map);be(this,kg,!1);be(this,Qw,!1);be(this,$0,!1);be(this,Xd,null);be(this,op,null);be(this,Oo,null);be(this,lp,null);be(this,cn);const h=[...B(Od,Fg).values()];if(!Od._initialized){Od._initialized=!0;for(const f of h)f.initialize(d,e)}e.registerEditorTypes(h),le(this,cn,e),this.pageIndex=n,this.div=r,le(this,z0,a),le(this,gf,o),this.viewport=u,le(this,Oo,c),this.drawLayer=l,this._structTree=s,B(this,cn).addLayer(this)}get isEmpty(){return B(this,Pu).size===0}get isInvisible(){return this.isEmpty&&B(this,cn).getMode()===Xn.NONE}updateToolbar(e){B(this,cn).updateToolbar(e)}updateMode(e=B(this,cn).getMode()){switch(je(this,Yi,QB).call(this),e){case Xn.NONE:this.disableTextSelection(),this.togglePointerEvents(!1),this.toggleAnnotationLayerPointerEvents(!0),this.disableClick();return;case Xn.INK:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick();break;case Xn.HIGHLIGHT:this.enableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;default:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick()}this.toggleAnnotationLayerPointerEvents(!1);const{classList:n}=this.div;for(const r of B(Od,Fg).values())n.toggle(`${r._type}Editing`,e===r._editorType);this.div.hidden=!1}hasTextLayer(e){var n;return e===((n=B(this,Oo))==null?void 0:n.div)}setEditingState(e){B(this,cn).setEditingState(e)}addCommands(e){B(this,cn).addCommands(e)}cleanUndoStack(e){B(this,cn).cleanUndoStack(e)}toggleDrawing(e=!1){this.div.classList.toggle("drawing",!e)}togglePointerEvents(e=!1){this.div.classList.toggle("disabled",!e)}toggleAnnotationLayerPointerEvents(e=!1){var n;(n=B(this,gf))==null||n.div.classList.toggle("disabled",!e)}async enable(){le(this,$0,!0),this.div.tabIndex=0,this.togglePointerEvents(!0);const e=new Set;for(const r of B(this,Pu).values())r.enableEditing(),r.show(!0),r.annotationElementId&&(B(this,cn).removeChangedExistingAnnotation(r),e.add(r.annotationElementId));if(!B(this,gf)){le(this,$0,!1);return}const n=B(this,gf).getEditableAnnotations();for(const r of n){if(r.hide(),B(this,cn).isDeletedAnnotationElement(r.data.id)||e.has(r.data.id))continue;const s=await this.deserialize(r);s&&(this.addOrRebuild(s),s.enableEditing())}le(this,$0,!1)}disable(){var s;le(this,Qw,!0),this.div.tabIndex=-1,this.togglePointerEvents(!1);const e=new Map,n=new Map;for(const a of B(this,Pu).values())if(a.disableEditing(),!!a.annotationElementId){if(a.serialize()!==null){e.set(a.annotationElementId,a);continue}else n.set(a.annotationElementId,a);(s=this.getEditableAnnotation(a.annotationElementId))==null||s.show(),a.remove()}if(B(this,gf)){const a=B(this,gf).getEditableAnnotations();for(const o of a){const{id:l}=o.data;if(B(this,cn).isDeletedAnnotationElement(l))continue;let c=n.get(l);if(c){c.resetAnnotationElement(o),c.show(!1),o.show();continue}c=e.get(l),c&&(B(this,cn).addChangedExistingAnnotation(c),c.renderAnnotationElement(o)&&c.show(!1)),o.show()}}je(this,Yi,QB).call(this),this.isEmpty&&(this.div.hidden=!0);const{classList:r}=this.div;for(const a of B(Od,Fg).values())r.remove(`${a._type}Editing`);this.disableTextSelection(),this.toggleAnnotationLayerPointerEvents(!0),le(this,Qw,!1)}getEditableAnnotation(e){var n;return((n=B(this,gf))==null?void 0:n.getEditableAnnotation(e))||null}setActiveEditor(e){B(this,cn).getActive()!==e&&B(this,cn).setActiveEditor(e)}enableTextSelection(){var e;if(this.div.tabIndex=-1,(e=B(this,Oo))!=null&&e.div&&!B(this,lp)){le(this,lp,new AbortController);const n=B(this,cn).combinedSignal(B(this,lp));B(this,Oo).div.addEventListener("pointerdown",je(this,Yi,Lfe).bind(this),{signal:n}),B(this,Oo).div.classList.add("highlighting")}}disableTextSelection(){var e;this.div.tabIndex=0,(e=B(this,Oo))!=null&&e.div&&B(this,lp)&&(B(this,lp).abort(),le(this,lp,null),B(this,Oo).div.classList.remove("highlighting"))}enableClick(){if(B(this,Tg))return;le(this,Tg,new AbortController);const e=B(this,cn).combinedSignal(B(this,Tg));this.div.addEventListener("pointerdown",this.pointerdown.bind(this),{signal:e});const n=this.pointerup.bind(this);this.div.addEventListener("pointerup",n,{signal:e}),this.div.addEventListener("pointercancel",n,{signal:e})}disableClick(){var e;(e=B(this,Tg))==null||e.abort(),le(this,Tg,null)}attach(e){B(this,Pu).set(e.id,e);const{annotationElementId:n}=e;n&&B(this,cn).isDeletedAnnotationElement(n)&&B(this,cn).removeDeletedAnnotationElement(e)}detach(e){var n;B(this,Pu).delete(e.id),(n=B(this,z0))==null||n.removePointerInTextLayer(e.contentDiv),!B(this,Qw)&&e.annotationElementId&&B(this,cn).addDeletedAnnotationElement(e)}remove(e){this.detach(e),B(this,cn).removeEditor(e),e.div.remove(),e.isAttachedToDOM=!1}changeParent(e){var n;e.parent!==this&&(e.parent&&e.annotationElementId&&(B(this,cn).addDeletedAnnotationElement(e.annotationElementId),ls.deleteAnnotationElement(e),e.annotationElementId=null),this.attach(e),(n=e.parent)==null||n.detach(e),e.setParent(this),e.div&&e.isAttachedToDOM&&(e.div.remove(),this.div.append(e.div)))}add(e){if(!(e.parent===this&&e.isAttachedToDOM)){if(this.changeParent(e),B(this,cn).addEditor(e),this.attach(e),!e.isAttachedToDOM){const n=e.render();this.div.append(n),e.isAttachedToDOM=!0}e.fixAndSetPosition(),e.onceAdded(!B(this,$0)),B(this,cn).addToAnnotationStorage(e),e._reportTelemetry(e.telemetryInitialData)}}moveEditorInDOM(e){var r;if(!e.isAttachedToDOM)return;const{activeElement:n}=document;e.div.contains(n)&&!B(this,ap)&&(e._focusEventsAllowed=!1,le(this,ap,setTimeout(()=>{le(this,ap,null),e.div.contains(document.activeElement)?e._focusEventsAllowed=!0:(e.div.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:B(this,cn)._signal}),n.focus())},0))),e._structTreeParentId=(r=B(this,z0))==null?void 0:r.moveElementInDOM(this.div,e.div,e.contentDiv,!0)}addOrRebuild(e){e.needsToBeRebuilt()?(e.parent||(e.parent=this),e.rebuild(),e.show()):this.add(e)}addUndoableEditor(e){const n=()=>e._uiManager.rebuild(e),r=()=>{e.remove()};this.addCommands({cmd:n,undo:r,mustExec:!1})}getNextId(){return B(this,cn).getId()}combinedSignal(e){return B(this,cn).combinedSignal(e)}canCreateNewEmptyEditor(){var e;return(e=B(this,Yi,Yh))==null?void 0:e.canCreateNewEmptyEditor()}pasteEditor(e,n){B(this,cn).updateToolbar(e),B(this,cn).updateMode(e);const{offsetX:r,offsetY:s}=je(this,Yi,U7).call(this),a=this.getNextId(),o=je(this,Yi,P7).call(this,{parent:this,id:a,x:r,y:s,uiManager:B(this,cn),isCentered:!0,...n});o&&this.add(o)}async deserialize(e){var n;return await((n=B(Od,Fg).get(e.annotationType??e.annotationEditorType))==null?void 0:n.deserialize(e,this,B(this,cn)))||null}createAndAddNewEditor(e,n,r={}){const s=this.getNextId(),a=je(this,Yi,P7).call(this,{parent:this,id:s,x:e.offsetX,y:e.offsetY,uiManager:B(this,cn),isCentered:n,...r});return a&&this.add(a),a}addNewEditor(){this.createAndAddNewEditor(je(this,Yi,U7).call(this),!0)}setSelected(e){B(this,cn).setSelected(e)}toggleSelected(e){B(this,cn).toggleSelected(e)}unselect(e){B(this,cn).unselect(e)}pointerup(e){var r;const{isMac:n}=El.platform;if(!(e.button!==0||e.ctrlKey&&n)&&e.target===this.div&&B(this,kg)&&(le(this,kg,!1),!((r=B(this,Yi,Yh))!=null&&r.isDrawer&&B(this,Yi,Yh).supportMultipleDrawings))){if(!B(this,Rw)){le(this,Rw,!0);return}if(B(this,cn).getMode()===Xn.STAMP){B(this,cn).unselectAll();return}this.createAndAddNewEditor(e,!1)}}pointerdown(e){var s;if(B(this,cn).getMode()===Xn.HIGHLIGHT&&this.enableTextSelection(),B(this,kg)){le(this,kg,!1);return}const{isMac:n}=El.platform;if(e.button!==0||e.ctrlKey&&n||e.target!==this.div)return;if(le(this,kg,!0),(s=B(this,Yi,Yh))!=null&&s.isDrawer){this.startDrawingSession(e);return}const r=B(this,cn).getActive();le(this,Rw,!r||r.isEmpty())}startDrawingSession(e){if(this.div.focus(),B(this,Xd)){B(this,Yi,Yh).startDrawing(this,B(this,cn),!1,e);return}B(this,cn).setCurrentDrawingSession(this),le(this,Xd,new AbortController);const n=B(this,cn).combinedSignal(B(this,Xd));this.div.addEventListener("blur",({relatedTarget:r})=>{r&&!this.div.contains(r)&&(le(this,op,null),this.commitOrRemove())},{signal:n}),B(this,Yi,Yh).startDrawing(this,B(this,cn),!1,e)}pause(e){if(e){const{activeElement:n}=document;this.div.contains(n)&&le(this,op,n);return}B(this,op)&&setTimeout(()=>{var n;(n=B(this,op))==null||n.focus(),le(this,op,null)},0)}endDrawingSession(e=!1){return B(this,Xd)?(B(this,cn).setCurrentDrawingSession(null),B(this,Xd).abort(),le(this,Xd,null),le(this,op,null),B(this,Yi,Yh).endDrawing(e)):null}findNewParent(e,n,r){const s=B(this,cn).findParent(n,r);return s===null||s===this?!1:(s.changeParent(e),!0)}commitOrRemove(){return B(this,Xd)?(this.endDrawingSession(),!0):!1}onScaleChanging(){B(this,Xd)&&B(this,Yi,Yh).onScaleChangingWhenDrawing(this)}destroy(){var e,n;this.commitOrRemove(),((e=B(this,cn).getActive())==null?void 0:e.parent)===this&&(B(this,cn).commitOrRemove(),B(this,cn).setActiveEditor(null)),B(this,ap)&&(clearTimeout(B(this,ap)),le(this,ap,null));for(const r of B(this,Pu).values())(n=B(this,z0))==null||n.removePointerInTextLayer(r.contentDiv),r.setParent(null),r.isAttachedToDOM=!1,r.div.remove();this.div=null,B(this,Pu).clear(),B(this,cn).removeLayer(this)}render({viewport:e}){this.viewport=e,oy(this.div,e);for(const n of B(this,cn).getEditors(this.pageIndex))this.add(n),n.rebuild();this.updateMode()}update({viewport:e}){B(this,cn).commitOrRemove(),je(this,Yi,QB).call(this);const n=this.viewport.rotation,r=e.rotation;if(this.viewport=e,oy(this.div,{rotation:r}),n!==r)for(const s of B(this,Pu).values())s.rotate(r)}get pageDimensions(){const{pageWidth:e,pageHeight:n}=this.viewport.rawDims;return[e,n]}get scale(){return B(this,cn).viewParameters.realScale}};z0=new WeakMap,Rw=new WeakMap,gf=new WeakMap,Tg=new WeakMap,ap=new WeakMap,Pu=new WeakMap,kg=new WeakMap,Qw=new WeakMap,$0=new WeakMap,Xd=new WeakMap,op=new WeakMap,Oo=new WeakMap,lp=new WeakMap,cn=new WeakMap,Fg=new WeakMap,Yi=new WeakSet,Lfe=function(e){B(this,cn).unselectAll();const{target:n}=e;if(n===B(this,Oo).div||(n.getAttribute("role")==="img"||n.classList.contains("endOfContent"))&&B(this,Oo).div.contains(n)){const{isMac:r}=El.platform;if(e.button!==0||e.ctrlKey&&r)return;B(this,cn).showAllEditors("highlight",!0,!0),B(this,Oo).div.classList.add("free"),this.toggleDrawing(),WD.startHighlighting(this,B(this,cn).direction==="ltr",{target:B(this,Oo).div,x:e.x,y:e.y}),B(this,Oo).div.addEventListener("pointerup",()=>{B(this,Oo).div.classList.remove("free"),this.toggleDrawing(!0)},{once:!0,signal:B(this,cn)._signal}),e.preventDefault()}},Yh=function(){return B(Od,Fg).get(B(this,cn).getMode())},P7=function(e){const n=B(this,Yi,Yh);return n?new n.prototype.constructor(e):null},U7=function(){const{x:e,y:n,width:r,height:s}=this.div.getBoundingClientRect(),a=Math.max(0,e),o=Math.max(0,n),l=Math.min(window.innerWidth,e+r),c=Math.min(window.innerHeight,n+s),u=(a+l)/2-e,d=(o+c)/2-n,[h,f]=this.viewport.rotation%180===0?[u,d]:[d,u];return{offsetX:h,offsetY:f}},QB=function(){for(const e of B(this,Pu).values())e.isEmpty()&&e.remove()},Nn(Od,"_initialized",!1),be(Od,Fg,new Map([A7,B7,D7,WD].map(e=>[e._editorType,e])));let F7=Od;var Yd,dS,xl,W0,tk,Rfe,Of,O7,Qfe,M7;const Fo=class Fo{constructor({pageIndex:e}){be(this,Of);be(this,Yd,null);be(this,dS,0);be(this,xl,new Map);be(this,W0,new Map);this.pageIndex=e}setParent(e){if(!B(this,Yd)){le(this,Yd,e);return}if(B(this,Yd)!==e){if(B(this,xl).size>0)for(const n of B(this,xl).values())n.remove(),e.append(n);le(this,Yd,e)}}static get _svgFactory(){return or(this,"_svgFactory",new Dz)}draw(e,n=!1,r=!1){const s=hl(this,dS)._++,a=je(this,Of,O7).call(this),o=Fo._svgFactory.createElement("defs");a.append(o);const l=Fo._svgFactory.createElement("path");o.append(l);const c=`path_p${this.pageIndex}_${s}`;l.setAttribute("id",c),l.setAttribute("vector-effect","non-scaling-stroke"),n&&B(this,W0).set(s,l);const u=r?je(this,Of,Qfe).call(this,o,c):null,d=Fo._svgFactory.createElement("use");return a.append(d),d.setAttribute("href",`#${c}`),this.updateProperties(a,e),B(this,xl).set(s,a),{id:s,clipPathId:`url(#${u})`}}drawOutline(e,n){const r=hl(this,dS)._++,s=je(this,Of,O7).call(this),a=Fo._svgFactory.createElement("defs");s.append(a);const o=Fo._svgFactory.createElement("path");a.append(o);const l=`path_p${this.pageIndex}_${r}`;o.setAttribute("id",l),o.setAttribute("vector-effect","non-scaling-stroke");let c;if(n){const h=Fo._svgFactory.createElement("mask");a.append(h),c=`mask_p${this.pageIndex}_${r}`,h.setAttribute("id",c),h.setAttribute("maskUnits","objectBoundingBox");const f=Fo._svgFactory.createElement("rect");h.append(f),f.setAttribute("width","1"),f.setAttribute("height","1"),f.setAttribute("fill","white");const A=Fo._svgFactory.createElement("use");h.append(A),A.setAttribute("href",`#${l}`),A.setAttribute("stroke","none"),A.setAttribute("fill","black"),A.setAttribute("fill-rule","nonzero"),A.classList.add("mask")}const u=Fo._svgFactory.createElement("use");s.append(u),u.setAttribute("href",`#${l}`),c&&u.setAttribute("mask",`url(#${c})`);const d=u.cloneNode();return s.append(d),u.classList.add("mainOutline"),d.classList.add("secondaryOutline"),this.updateProperties(s,e),B(this,xl).set(r,s),r}finalizeDraw(e,n){B(this,W0).delete(e),this.updateProperties(e,n)}updateProperties(e,n){var c;if(!n)return;const{root:r,bbox:s,rootClass:a,path:o}=n,l=typeof e=="number"?B(this,xl).get(e):e;if(l){if(r&&je(this,Of,M7).call(this,l,r),s&&je(c=Fo,tk,Rfe).call(c,l,s),a){const{classList:u}=l;for(const[d,h]of Object.entries(a))u.toggle(d,h)}if(o){const d=l.firstChild.firstChild;je(this,Of,M7).call(this,d,o)}}}updateParent(e,n){if(n===this)return;const r=B(this,xl).get(e);r&&(B(n,Yd).append(r),B(this,xl).delete(e),B(n,xl).set(e,r))}remove(e){B(this,W0).delete(e),B(this,Yd)!==null&&(B(this,xl).get(e).remove(),B(this,xl).delete(e))}destroy(){le(this,Yd,null);for(const e of B(this,xl).values())e.remove();B(this,xl).clear(),B(this,W0).clear()}};Yd=new WeakMap,dS=new WeakMap,xl=new WeakMap,W0=new WeakMap,tk=new WeakSet,Rfe=function(e,[n,r,s,a]){const{style:o}=e;o.top=`${100*r}%`,o.left=`${100*n}%`,o.width=`${100*s}%`,o.height=`${100*a}%`},Of=new WeakSet,O7=function(){const e=Fo._svgFactory.create(1,1,!0);return B(this,Yd).append(e),e.setAttribute("aria-hidden",!0),e},Qfe=function(e,n){const r=Fo._svgFactory.createElement("clipPath");e.append(r);const s=`clip_${n}`;r.setAttribute("id",s),r.setAttribute("clipPathUnits","objectBoundingBox");const a=Fo._svgFactory.createElement("use");return r.append(a),a.setAttribute("href",`#${n}`),a.classList.add("clip"),s},M7=function(e,n){for(const[r,s]of Object.entries(n))s===null?e.removeAttribute(r):e.setAttribute(r,s)},be(Fo,tk);let I7=Fo;globalThis.pdfjsTestingUtils={HighlightOutliner:m7};Mn.AbortException;Mn.AnnotationEditorLayer;Mn.AnnotationEditorParamsType;Mn.AnnotationEditorType;Mn.AnnotationEditorUIManager;Mn.AnnotationLayer;Mn.AnnotationMode;Mn.ColorPicker;Mn.DOMSVGFactory;Mn.DrawLayer;Mn.FeatureTest;var PTe=Mn.GlobalWorkerOptions;Mn.ImageKind;Mn.InvalidPDFException;Mn.MissingPDFException;Mn.OPS;Mn.OutputScale;Mn.PDFDataRangeTransport;Mn.PDFDateString;Mn.PDFWorker;Mn.PasswordResponses;Mn.PermissionFlag;Mn.PixelsPerInch;Mn.RenderingCancelledException;Mn.TextLayer;Mn.TouchManager;Mn.UnexpectedResponseException;Mn.Util;Mn.VerbosityLevel;Mn.XfaLayer;Mn.build;Mn.createValidAbsoluteUrl;Mn.fetchData;var UTe=Mn.getDocument;Mn.getFilenameFromUrl;Mn.getPdfFilenameFromUrl;Mn.getXfaPageViewport;Mn.isDataScheme;Mn.isPdfFile;Mn.noContextMenu;Mn.normalizeUnicode;Mn.setLayerDimensions;Mn.shadow;Mn.stopEvent;Mn.version;var yu={},kz="1.13.7",HG=typeof self=="object"&&self.self===self&&self||typeof global=="object"&&global.global===global&&global||Function("return this")()||{},Ck=Array.prototype,Fz=Object.prototype,zG=typeof Symbol<"u"?Symbol.prototype:null,ITe=Ck.push,BS=Ck.slice,T_=Fz.toString,OTe=Fz.hasOwnProperty,Hfe=typeof ArrayBuffer<"u",MTe=typeof DataView<"u",LTe=Array.isArray,$G=Object.keys,WG=Object.create,qG=Hfe&&ArrayBuffer.isView,RTe=isNaN,QTe=isFinite,zfe=!{toString:null}.propertyIsEnumerable("toString"),VG=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],HTe=Math.pow(2,53)-1;function Fl(t,e){return e=e==null?t.length-1:+e,function(){for(var n=Math.max(arguments.length-e,0),r=Array(n),s=0;s<n;s++)r[s]=arguments[s+e];switch(e){case 0:return t.call(this,r);case 1:return t.call(this,arguments[0],r);case 2:return t.call(this,arguments[0],arguments[1],r)}var a=Array(e+1);for(s=0;s<e;s++)a[s]=arguments[s];return a[e]=r,t.apply(this,a)}}function fx(t){var e=typeof t;return e==="function"||e==="object"&&!!t}function $fe(t){return t===null}function Pz(t){return t===void 0}function Uz(t){return t===!0||t===!1||T_.call(t)==="[object Boolean]"}function Wfe(t){return!!(t&&t.nodeType===1)}function Zo(t){var e="[object "+t+"]";return function(n){return T_.call(n)===e}}const Sk=Zo("String"),Iz=Zo("Number"),qfe=Zo("Date"),Vfe=Zo("RegExp"),Kfe=Zo("Error"),Oz=Zo("Symbol"),Mz=Zo("ArrayBuffer");var Gfe=Zo("Function"),zTe=HG.document&&HG.document.childNodes;typeof/./!="function"&&typeof Int8Array!="object"&&typeof zTe!="function"&&(Gfe=function(t){return typeof t=="function"||!1});const Xo=Gfe,Xfe=Zo("Object");var Yfe=MTe&&(!/\[native code\]/.test(String(DataView))||Xfe(new DataView(new ArrayBuffer(8)))),Lz=typeof Map<"u"&&Xfe(new Map),$Te=Zo("DataView");function WTe(t){return t!=null&&Xo(t.getInt8)&&Mz(t.buffer)}const k_=Yfe?WTe:$Te,Ax=LTe||Zo("Array");function px(t,e){return t!=null&&OTe.call(t,e)}var L7=Zo("Arguments");(function(){L7(arguments)||(L7=function(t){return px(t,"callee")})})();const Ek=L7;function Jfe(t){return!Oz(t)&&QTe(t)&&!isNaN(parseFloat(t))}function Rz(t){return Iz(t)&&RTe(t)}function Qz(t){return function(){return t}}function Zfe(t){return function(e){var n=t(e);return typeof n=="number"&&n>=0&&n<=HTe}}function eAe(t){return function(e){return e==null?void 0:e[t]}}const VD=eAe("byteLength"),qTe=Zfe(VD);var VTe=/\[object ((I|Ui)nt(8|16|32)|Float(32|64)|Uint8Clamped|Big(I|Ui)nt64)Array\]/;function KTe(t){return qG?qG(t)&&!k_(t):qTe(t)&&VTe.test(T_.call(t))}const Hz=Hfe?KTe:Qz(!1),ac=eAe("length");function GTe(t){for(var e={},n=t.length,r=0;r<n;++r)e[t[r]]=!0;return{contains:function(s){return e[s]===!0},push:function(s){return e[s]=!0,t.push(s)}}}function tAe(t,e){e=GTe(e);var n=VG.length,r=t.constructor,s=Xo(r)&&r.prototype||Fz,a="constructor";for(px(t,a)&&!e.contains(a)&&e.push(a);n--;)a=VG[n],a in t&&t[a]!==s[a]&&!e.contains(a)&&e.push(a)}function va(t){if(!fx(t))return[];if($G)return $G(t);var e=[];for(var n in t)px(t,n)&&e.push(n);return zfe&&tAe(t,e),e}function nAe(t){if(t==null)return!0;var e=ac(t);return typeof e=="number"&&(Ax(t)||Sk(t)||Ek(t))?e===0:ac(va(t))===0}function zz(t,e){var n=va(e),r=n.length;if(t==null)return!r;for(var s=Object(t),a=0;a<r;a++){var o=n[a];if(e[o]!==s[o]||!(o in s))return!1}return!0}function Gr(t){if(t instanceof Gr)return t;if(!(this instanceof Gr))return new Gr(t);this._wrapped=t}Gr.VERSION=kz;Gr.prototype.value=function(){return this._wrapped};Gr.prototype.valueOf=Gr.prototype.toJSON=Gr.prototype.value;Gr.prototype.toString=function(){return String(this._wrapped)};function KG(t){return new Uint8Array(t.buffer||t,t.byteOffset||0,VD(t))}var GG="[object DataView]";function R7(t,e,n,r){if(t===e)return t!==0||1/t===1/e;if(t==null||e==null)return!1;if(t!==t)return e!==e;var s=typeof t;return s!=="function"&&s!=="object"&&typeof e!="object"?!1:rAe(t,e,n,r)}function rAe(t,e,n,r){t instanceof Gr&&(t=t._wrapped),e instanceof Gr&&(e=e._wrapped);var s=T_.call(t);if(s!==T_.call(e))return!1;if(Yfe&&s=="[object Object]"&&k_(t)){if(!k_(e))return!1;s=GG}switch(s){case"[object RegExp]":case"[object String]":return""+t==""+e;case"[object Number]":return+t!=+t?+e!=+e:+t==0?1/+t===1/e:+t==+e;case"[object Date]":case"[object Boolean]":return+t==+e;case"[object Symbol]":return zG.valueOf.call(t)===zG.valueOf.call(e);case"[object ArrayBuffer]":case GG:return rAe(KG(t),KG(e),n,r)}var a=s==="[object Array]";if(!a&&Hz(t)){var o=VD(t);if(o!==VD(e))return!1;if(t.buffer===e.buffer&&t.byteOffset===e.byteOffset)return!0;a=!0}if(!a){if(typeof t!="object"||typeof e!="object")return!1;var l=t.constructor,c=e.constructor;if(l!==c&&!(Xo(l)&&l instanceof l&&Xo(c)&&c instanceof c)&&"constructor"in t&&"constructor"in e)return!1}n=n||[],r=r||[];for(var u=n.length;u--;)if(n[u]===t)return r[u]===e;if(n.push(t),r.push(e),a){if(u=t.length,u!==e.length)return!1;for(;u--;)if(!R7(t[u],e[u],n,r))return!1}else{var d=va(t),h;if(u=d.length,va(e).length!==u)return!1;for(;u--;)if(h=d[u],!(px(e,h)&&R7(t[h],e[h],n,r)))return!1}return n.pop(),r.pop(),!0}function iAe(t,e){return R7(t,e)}function z2(t){if(!fx(t))return[];var e=[];for(var n in t)e.push(n);return zfe&&tAe(t,e),e}function $z(t){var e=ac(t);return function(n){if(n==null)return!1;var r=z2(n);if(ac(r))return!1;for(var s=0;s<e;s++)if(!Xo(n[t[s]]))return!1;return t!==oAe||!Xo(n[Wz])}}var Wz="forEach",sAe="has",qz=["clear","delete"],aAe=["get",sAe,"set"],XTe=qz.concat(Wz,aAe),oAe=qz.concat(aAe),YTe=["add"].concat(qz,Wz,sAe);const lAe=Lz?$z(XTe):Zo("Map"),cAe=Lz?$z(oAe):Zo("WeakMap"),uAe=Lz?$z(YTe):Zo("Set"),dAe=Zo("WeakSet");function Ty(t){for(var e=va(t),n=e.length,r=Array(n),s=0;s<n;s++)r[s]=t[e[s]];return r}function hAe(t){for(var e=va(t),n=e.length,r=Array(n),s=0;s<n;s++)r[s]=[e[s],t[e[s]]];return r}function Vz(t){for(var e={},n=va(t),r=0,s=n.length;r<s;r++)e[t[n[r]]]=n[r];return e}function F_(t){var e=[];for(var n in t)Xo(t[n])&&e.push(n);return e.sort()}function Kz(t,e){return function(n){var r=arguments.length;if(e&&(n=Object(n)),r<2||n==null)return n;for(var s=1;s<r;s++)for(var a=arguments[s],o=t(a),l=o.length,c=0;c<l;c++){var u=o[c];(!e||n[u]===void 0)&&(n[u]=a[u])}return n}}const Gz=Kz(z2),zw=Kz(va),Xz=Kz(z2,!0);function JTe(){return function(){}}function fAe(t){if(!fx(t))return{};if(WG)return WG(t);var e=JTe();e.prototype=t;var n=new e;return e.prototype=null,n}function AAe(t,e){var n=fAe(t);return e&&zw(n,e),n}function pAe(t){return fx(t)?Ax(t)?t.slice():Gz({},t):t}function mAe(t,e){return e(t),t}function Yz(t){return Ax(t)?t:[t]}Gr.toPath=Yz;function DS(t){return Gr.toPath(t)}function Jz(t,e){for(var n=e.length,r=0;r<n;r++){if(t==null)return;t=t[e[r]]}return n?t:void 0}function Zz(t,e,n){var r=Jz(t,DS(e));return Pz(r)?n:r}function gAe(t,e){e=DS(e);for(var n=e.length,r=0;r<n;r++){var s=e[r];if(!px(t,s))return!1;t=t[s]}return!!n}function Bk(t){return t}function uy(t){return t=zw({},t),function(e){return zz(e,t)}}function Dk(t){return t=DS(t),function(e){return Jz(e,t)}}function TS(t,e,n){if(e===void 0)return t;switch(n??3){case 1:return function(r){return t.call(e,r)};case 3:return function(r,s,a){return t.call(e,r,s,a)};case 4:return function(r,s,a,o){return t.call(e,r,s,a,o)}}return function(){return t.apply(e,arguments)}}function xAe(t,e,n){return t==null?Bk:Xo(t)?TS(t,e,n):fx(t)&&!Ax(t)?uy(t):Dk(t)}function Tk(t,e){return xAe(t,e,1/0)}Gr.iteratee=Tk;function uc(t,e,n){return Gr.iteratee!==Tk?Gr.iteratee(t,e):xAe(t,e,n)}function vAe(t,e,n){e=uc(e,n);for(var r=va(t),s=r.length,a={},o=0;o<s;o++){var l=r[o];a[l]=e(t[l],l,t)}return a}function e$(){}function yAe(t){return t==null?e$:function(e){return Zz(t,e)}}function bAe(t,e,n){var r=Array(Math.max(0,t));e=TS(e,n,1);for(var s=0;s<t;s++)r[s]=e(s);return r}function KD(t,e){return e==null&&(e=t,t=0),t+Math.floor(Math.random()*(e-t+1))}const $w=Date.now||function(){return new Date().getTime()};function wAe(t){var e=function(a){return t[a]},n="(?:"+va(t).join("|")+")",r=RegExp(n),s=RegExp(n,"g");return function(a){return a=a==null?"":""+a,r.test(a)?a.replace(s,e):a}}const jAe={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},NAe=wAe(jAe),ZTe=Vz(jAe),_Ae=wAe(ZTe),CAe=Gr.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var WP=/(.)^/,eke={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},tke=/\\|'|\r|\n|\u2028|\u2029/g;function nke(t){return"\\"+eke[t]}var rke=/^\s*(\w|\$)+\s*$/;function SAe(t,e,n){!e&&n&&(e=n),e=Xz({},e,Gr.templateSettings);var r=RegExp([(e.escape||WP).source,(e.interpolate||WP).source,(e.evaluate||WP).source].join("|")+"|$","g"),s=0,a="__p+='";t.replace(r,function(u,d,h,f,A){return a+=t.slice(s,A).replace(tke,nke),s=A+u.length,d?a+=`'+
((__t=(`+d+`))==null?'':_.escape(__t))+
'`:h?a+=`'+
((__t=(`+h+`))==null?'':__t)+
'`:f&&(a+=`';
`+f+`
__p+='`),u}),a+=`';
`;var o=e.variable;if(o){if(!rke.test(o))throw new Error("variable is not a bare identifier: "+o)}else a=`with(obj||{}){
`+a+`}
`,o="obj";a=`var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};
`+a+`return __p;
`;var l;try{l=new Function(o,"_",a)}catch(u){throw u.source=a,u}var c=function(u){return l.call(this,u,Gr)};return c.source="function("+o+`){
`+a+"}",c}function EAe(t,e,n){e=DS(e);var r=e.length;if(!r)return Xo(n)?n.call(t):n;for(var s=0;s<r;s++){var a=t==null?void 0:t[e[s]];a===void 0&&(a=n,s=r),t=Xo(a)?a.call(t):a}return t}var ike=0;function BAe(t){var e=++ike+"";return t?t+e:e}function DAe(t){var e=Gr(t);return e._chain=!0,e}function TAe(t,e,n,r,s){if(!(r instanceof e))return t.apply(n,s);var a=fAe(t.prototype),o=t.apply(a,s);return fx(o)?o:a}var ky=Fl(function(t,e){var n=ky.placeholder,r=function(){for(var s=0,a=e.length,o=Array(a),l=0;l<a;l++)o[l]=e[l]===n?arguments[s++]:e[l];for(;s<arguments.length;)o.push(arguments[s++]);return TAe(t,r,this,this,o)};return r});ky.placeholder=Gr;const t$=Fl(function(t,e,n){if(!Xo(t))throw new TypeError("Bind must be called on a function");var r=Fl(function(s){return TAe(t,r,e,this,n.concat(s))});return r}),Zc=Zfe(ac);function Fy(t,e,n,r){if(r=r||[],!e&&e!==0)e=1/0;else if(e<=0)return r.concat(t);for(var s=r.length,a=0,o=ac(t);a<o;a++){var l=t[a];if(Zc(l)&&(Ax(l)||Ek(l)))if(e>1)Fy(l,e-1,n,r),s=r.length;else for(var c=0,u=l.length;c<u;)r[s++]=l[c++];else n||(r[s++]=l)}return r}const kAe=Fl(function(t,e){e=Fy(e,!1,!1);var n=e.length;if(n<1)throw new Error("bindAll must be passed function names");for(;n--;){var r=e[n];t[r]=t$(t[r],t)}return t});function FAe(t,e){var n=function(r){var s=n.cache,a=""+(e?e.apply(this,arguments):r);return px(s,a)||(s[a]=t.apply(this,arguments)),s[a]};return n.cache={},n}const n$=Fl(function(t,e,n){return setTimeout(function(){return t.apply(null,n)},e)}),PAe=ky(n$,Gr,1);function UAe(t,e,n){var r,s,a,o,l=0;n||(n={});var c=function(){l=n.leading===!1?0:$w(),r=null,o=t.apply(s,a),r||(s=a=null)},u=function(){var d=$w();!l&&n.leading===!1&&(l=d);var h=e-(d-l);return s=this,a=arguments,h<=0||h>e?(r&&(clearTimeout(r),r=null),l=d,o=t.apply(s,a),r||(s=a=null)):!r&&n.trailing!==!1&&(r=setTimeout(c,h)),o};return u.cancel=function(){clearTimeout(r),l=0,r=s=a=null},u}function IAe(t,e,n){var r,s,a,o,l,c=function(){var d=$w()-s;e>d?r=setTimeout(c,e-d):(r=null,n||(o=t.apply(l,a)),r||(a=l=null))},u=Fl(function(d){return l=this,a=d,s=$w(),r||(r=setTimeout(c,e),n&&(o=t.apply(l,a))),o});return u.cancel=function(){clearTimeout(r),r=a=l=null},u}function OAe(t,e){return ky(e,t)}function kk(t){return function(){return!t.apply(this,arguments)}}function MAe(){var t=arguments,e=t.length-1;return function(){for(var n=e,r=t[e].apply(this,arguments);n--;)r=t[n].call(this,r);return r}}function LAe(t,e){return function(){if(--t<1)return e.apply(this,arguments)}}function r$(t,e){var n;return function(){return--t>0&&(n=e.apply(this,arguments)),t<=1&&(e=null),n}}const RAe=ky(r$,2);function i$(t,e,n){e=uc(e,n);for(var r=va(t),s,a=0,o=r.length;a<o;a++)if(s=r[a],e(t[s],s,t))return s}function QAe(t){return function(e,n,r){n=uc(n,r);for(var s=ac(e),a=t>0?0:s-1;a>=0&&a<s;a+=t)if(n(e[a],a,e))return a;return-1}}const Fk=QAe(1),s$=QAe(-1);function a$(t,e,n,r){n=uc(n,r,1);for(var s=n(e),a=0,o=ac(t);a<o;){var l=Math.floor((a+o)/2);n(t[l])<s?a=l+1:o=l}return a}function HAe(t,e,n){return function(r,s,a){var o=0,l=ac(r);if(typeof a=="number")t>0?o=a>=0?a:Math.max(a+l,o):l=a>=0?Math.min(a+1,l):a+l+1;else if(n&&a&&l)return a=n(r,s),r[a]===s?a:-1;if(s!==s)return a=e(BS.call(r,o,l),Rz),a>=0?a+o:-1;for(a=t>0?o:l-1;a>=0&&a<l;a+=t)if(r[a]===s)return a;return-1}}const o$=HAe(1,Fk,a$),zAe=HAe(-1,s$);function P_(t,e,n){var r=Zc(t)?Fk:i$,s=r(t,e,n);if(s!==void 0&&s!==-1)return t[s]}function $Ae(t,e){return P_(t,uy(e))}function uh(t,e,n){e=TS(e,n);var r,s;if(Zc(t))for(r=0,s=t.length;r<s;r++)e(t[r],r,t);else{var a=va(t);for(r=0,s=a.length;r<s;r++)e(t[a[r]],a[r],t)}return t}function _p(t,e,n){e=uc(e,n);for(var r=!Zc(t)&&va(t),s=(r||t).length,a=Array(s),o=0;o<s;o++){var l=r?r[o]:o;a[o]=e(t[l],l,t)}return a}function WAe(t){var e=function(n,r,s,a){var o=!Zc(n)&&va(n),l=(o||n).length,c=t>0?0:l-1;for(a||(s=n[o?o[c]:c],c+=t);c>=0&&c<l;c+=t){var u=o?o[c]:c;s=r(s,n[u],u,n)}return s};return function(n,r,s,a){var o=arguments.length>=3;return e(n,TS(r,a,4),s,o)}}const w1=WAe(1),GD=WAe(-1);function ex(t,e,n){var r=[];return e=uc(e,n),uh(t,function(s,a,o){e(s,a,o)&&r.push(s)}),r}function qAe(t,e,n){return ex(t,kk(uc(e)),n)}function XD(t,e,n){e=uc(e,n);for(var r=!Zc(t)&&va(t),s=(r||t).length,a=0;a<s;a++){var o=r?r[a]:a;if(!e(t[o],o,t))return!1}return!0}function YD(t,e,n){e=uc(e,n);for(var r=!Zc(t)&&va(t),s=(r||t).length,a=0;a<s;a++){var o=r?r[a]:a;if(e(t[o],o,t))return!0}return!1}function Wu(t,e,n,r){return Zc(t)||(t=Ty(t)),(typeof n!="number"||r)&&(n=0),o$(t,e,n)>=0}const VAe=Fl(function(t,e,n){var r,s;return Xo(e)?s=e:(e=DS(e),r=e.slice(0,-1),e=e[e.length-1]),_p(t,function(a){var o=s;if(!o){if(r&&r.length&&(a=Jz(a,r)),a==null)return;o=a[e]}return o==null?o:o.apply(a,n)})});function Pk(t,e){return _p(t,Dk(e))}function KAe(t,e){return ex(t,uy(e))}function l$(t,e,n){var r=-1/0,s=-1/0,a,o;if(e==null||typeof e=="number"&&typeof t[0]!="object"&&t!=null){t=Zc(t)?t:Ty(t);for(var l=0,c=t.length;l<c;l++)a=t[l],a!=null&&a>r&&(r=a)}else e=uc(e,n),uh(t,function(u,d,h){o=e(u,d,h),(o>s||o===-1/0&&r===-1/0)&&(r=u,s=o)});return r}function GAe(t,e,n){var r=1/0,s=1/0,a,o;if(e==null||typeof e=="number"&&typeof t[0]!="object"&&t!=null){t=Zc(t)?t:Ty(t);for(var l=0,c=t.length;l<c;l++)a=t[l],a!=null&&a<r&&(r=a)}else e=uc(e,n),uh(t,function(u,d,h){o=e(u,d,h),(o<s||o===1/0&&r===1/0)&&(r=u,s=o)});return r}var ske=/[^\ud800-\udfff]|[\ud800-\udbff][\udc00-\udfff]|[\ud800-\udfff]/g;function c$(t){return t?Ax(t)?BS.call(t):Sk(t)?t.match(ske):Zc(t)?_p(t,Bk):Ty(t):[]}function u$(t,e,n){if(e==null||n)return Zc(t)||(t=Ty(t)),t[KD(t.length-1)];var r=c$(t),s=ac(r);e=Math.max(Math.min(e,s),0);for(var a=s-1,o=0;o<e;o++){var l=KD(o,a),c=r[o];r[o]=r[l],r[l]=c}return r.slice(0,e)}function XAe(t){return u$(t,1/0)}function YAe(t,e,n){var r=0;return e=uc(e,n),Pk(_p(t,function(s,a,o){return{value:s,index:r++,criteria:e(s,a,o)}}).sort(function(s,a){var o=s.criteria,l=a.criteria;if(o!==l){if(o>l||o===void 0)return 1;if(o<l||l===void 0)return-1}return s.index-a.index}),"value")}function Uk(t,e){return function(n,r,s){var a=e?[[],[]]:{};return r=uc(r,s),uh(n,function(o,l){var c=r(o,l,n);t(a,o,c)}),a}}const JAe=Uk(function(t,e,n){px(t,n)?t[n].push(e):t[n]=[e]}),ZAe=Uk(function(t,e,n){t[n]=e}),epe=Uk(function(t,e,n){px(t,n)?t[n]++:t[n]=1}),tpe=Uk(function(t,e,n){t[n?0:1].push(e)},!0);function npe(t){return t==null?0:Zc(t)?t.length:va(t).length}function ake(t,e,n){return e in n}const d$=Fl(function(t,e){var n={},r=e[0];if(t==null)return n;Xo(r)?(e.length>1&&(r=TS(r,e[1])),e=z2(t)):(r=ake,e=Fy(e,!1,!1),t=Object(t));for(var s=0,a=e.length;s<a;s++){var o=e[s],l=t[o];r(l,o,t)&&(n[o]=l)}return n}),rpe=Fl(function(t,e){var n=e[0],r;return Xo(n)?(n=kk(n),e.length>1&&(r=e[1])):(e=_p(Fy(e,!1,!1),String),n=function(s,a){return!Wu(e,a)}),d$(t,n,r)});function h$(t,e,n){return BS.call(t,0,Math.max(0,t.length-(e==null||n?1:e)))}function j1(t,e,n){return t==null||t.length<1?e==null||n?void 0:[]:e==null||n?t[0]:h$(t,t.length-e)}function V0(t,e,n){return BS.call(t,e==null||n?1:e)}function ipe(t,e,n){return t==null||t.length<1?e==null||n?void 0:[]:e==null||n?t[t.length-1]:V0(t,Math.max(0,t.length-e))}function spe(t){return ex(t,Boolean)}function ape(t,e){return Fy(t,e,!1)}const f$=Fl(function(t,e){return e=Fy(e,!0,!0),ex(t,function(n){return!Wu(e,n)})}),ope=Fl(function(t,e){return f$(t,e)});function U_(t,e,n,r){Uz(e)||(r=n,n=e,e=!1),n!=null&&(n=uc(n,r));for(var s=[],a=[],o=0,l=ac(t);o<l;o++){var c=t[o],u=n?n(c,o,t):c;e&&!n?((!o||a!==u)&&s.push(c),a=u):n?Wu(a,u)||(a.push(u),s.push(c)):Wu(s,c)||s.push(c)}return s}const lpe=Fl(function(t){return U_(Fy(t,!0,!0))});function cpe(t){for(var e=[],n=arguments.length,r=0,s=ac(t);r<s;r++){var a=t[r];if(!Wu(e,a)){var o;for(o=1;o<n&&Wu(arguments[o],a);o++);o===n&&e.push(a)}}return e}function I_(t){for(var e=t&&l$(t,ac).length||0,n=Array(e),r=0;r<e;r++)n[r]=Pk(t,r);return n}const upe=Fl(I_);function dpe(t,e){for(var n={},r=0,s=ac(t);r<s;r++)e?n[t[r]]=e[r]:n[t[r][0]]=t[r][1];return n}function hpe(t,e,n){e==null&&(e=t||0,t=0),n||(n=e<t?-1:1);for(var r=Math.max(Math.ceil((e-t)/n),0),s=Array(r),a=0;a<r;a++,t+=n)s[a]=t;return s}function fpe(t,e){if(e==null||e<1)return[];for(var n=[],r=0,s=t.length;r<s;)n.push(BS.call(t,r,r+=e));return n}function A$(t,e){return t._chain?Gr(e).chain():e}function p$(t){return uh(F_(t),function(e){var n=Gr[e]=t[e];Gr.prototype[e]=function(){var r=[this._wrapped];return ITe.apply(r,arguments),A$(this,n.apply(Gr,r))}}),Gr}uh(["pop","push","reverse","shift","sort","splice","unshift"],function(t){var e=Ck[t];Gr.prototype[t]=function(){var n=this._wrapped;return n!=null&&(e.apply(n,arguments),(t==="shift"||t==="splice")&&n.length===0&&delete n[0]),A$(this,n)}});uh(["concat","join","slice"],function(t){var e=Ck[t];Gr.prototype[t]=function(){var n=this._wrapped;return n!=null&&(n=e.apply(n,arguments)),A$(this,n)}});const oke=Object.freeze(Object.defineProperty({__proto__:null,VERSION:kz,after:LAe,all:XD,allKeys:z2,any:YD,assign:zw,before:r$,bind:t$,bindAll:kAe,chain:DAe,chunk:fpe,clone:pAe,collect:_p,compact:spe,compose:MAe,constant:Qz,contains:Wu,countBy:epe,create:AAe,debounce:IAe,default:Gr,defaults:Xz,defer:PAe,delay:n$,detect:P_,difference:f$,drop:V0,each:uh,escape:NAe,every:XD,extend:Gz,extendOwn:zw,filter:ex,find:P_,findIndex:Fk,findKey:i$,findLastIndex:s$,findWhere:$Ae,first:j1,flatten:ape,foldl:w1,foldr:GD,forEach:uh,functions:F_,get:Zz,groupBy:JAe,has:gAe,head:j1,identity:Bk,include:Wu,includes:Wu,indexBy:ZAe,indexOf:o$,initial:h$,inject:w1,intersection:cpe,invert:Vz,invoke:VAe,isArguments:Ek,isArray:Ax,isArrayBuffer:Mz,isBoolean:Uz,isDataView:k_,isDate:qfe,isElement:Wfe,isEmpty:nAe,isEqual:iAe,isError:Kfe,isFinite:Jfe,isFunction:Xo,isMap:lAe,isMatch:zz,isNaN:Rz,isNull:$fe,isNumber:Iz,isObject:fx,isRegExp:Vfe,isSet:uAe,isString:Sk,isSymbol:Oz,isTypedArray:Hz,isUndefined:Pz,isWeakMap:cAe,isWeakSet:dAe,iteratee:Tk,keys:va,last:ipe,lastIndexOf:zAe,map:_p,mapObject:vAe,matcher:uy,matches:uy,max:l$,memoize:FAe,methods:F_,min:GAe,mixin:p$,negate:kk,noop:e$,now:$w,object:dpe,omit:rpe,once:RAe,pairs:hAe,partial:ky,partition:tpe,pick:d$,pluck:Pk,property:Dk,propertyOf:yAe,random:KD,range:hpe,reduce:w1,reduceRight:GD,reject:qAe,rest:V0,restArguments:Fl,result:EAe,sample:u$,select:ex,shuffle:XAe,size:npe,some:YD,sortBy:YAe,sortedIndex:a$,tail:V0,take:j1,tap:mAe,template:SAe,templateSettings:CAe,throttle:UAe,times:bAe,toArray:c$,toPath:Yz,transpose:I_,unescape:_Ae,union:lpe,uniq:U_,unique:U_,uniqueId:BAe,unzip:I_,values:Ty,where:KAe,without:ope,wrap:OAe,zip:upe},Symbol.toStringTag,{value:"Module"}));var Q7=p$(oke);Q7._=Q7;const lke=Object.freeze(Object.defineProperty({__proto__:null,VERSION:kz,after:LAe,all:XD,allKeys:z2,any:YD,assign:zw,before:r$,bind:t$,bindAll:kAe,chain:DAe,chunk:fpe,clone:pAe,collect:_p,compact:spe,compose:MAe,constant:Qz,contains:Wu,countBy:epe,create:AAe,debounce:IAe,default:Q7,defaults:Xz,defer:PAe,delay:n$,detect:P_,difference:f$,drop:V0,each:uh,escape:NAe,every:XD,extend:Gz,extendOwn:zw,filter:ex,find:P_,findIndex:Fk,findKey:i$,findLastIndex:s$,findWhere:$Ae,first:j1,flatten:ape,foldl:w1,foldr:GD,forEach:uh,functions:F_,get:Zz,groupBy:JAe,has:gAe,head:j1,identity:Bk,include:Wu,includes:Wu,indexBy:ZAe,indexOf:o$,initial:h$,inject:w1,intersection:cpe,invert:Vz,invoke:VAe,isArguments:Ek,isArray:Ax,isArrayBuffer:Mz,isBoolean:Uz,isDataView:k_,isDate:qfe,isElement:Wfe,isEmpty:nAe,isEqual:iAe,isError:Kfe,isFinite:Jfe,isFunction:Xo,isMap:lAe,isMatch:zz,isNaN:Rz,isNull:$fe,isNumber:Iz,isObject:fx,isRegExp:Vfe,isSet:uAe,isString:Sk,isSymbol:Oz,isTypedArray:Hz,isUndefined:Pz,isWeakMap:cAe,isWeakSet:dAe,iteratee:Tk,keys:va,last:ipe,lastIndexOf:zAe,map:_p,mapObject:vAe,matcher:uy,matches:uy,max:l$,memoize:FAe,methods:F_,min:GAe,mixin:p$,negate:kk,noop:e$,now:$w,object:dpe,omit:rpe,once:RAe,pairs:hAe,partial:ky,partition:tpe,pick:d$,pluck:Pk,property:Dk,propertyOf:yAe,random:KD,range:hpe,reduce:w1,reduceRight:GD,reject:qAe,rest:V0,restArguments:Fl,result:EAe,sample:u$,select:ex,shuffle:XAe,size:npe,some:YD,sortBy:YAe,sortedIndex:a$,tail:V0,take:j1,tap:mAe,template:SAe,templateSettings:CAe,throttle:UAe,times:bAe,toArray:c$,toPath:Yz,transpose:I_,unescape:_Ae,union:lpe,uniq:U_,unique:U_,uniqueId:BAe,unzip:I_,values:Ty,where:KAe,without:ope,wrap:OAe,zip:upe},Symbol.toStringTag,{value:"Module"})),zs=INe(lke);var VE={},bu={},qP={exports:{}},KE={exports:{}},XG;function $2(){if(XG)return KE.exports;XG=1;var t=function(){return this===void 0}();if(t)KE.exports={freeze:Object.freeze,defineProperty:Object.defineProperty,getDescriptor:Object.getOwnPropertyDescriptor,keys:Object.keys,names:Object.getOwnPropertyNames,getPrototypeOf:Object.getPrototypeOf,isArray:Array.isArray,isES5:t,propertyIsWritable:function(d,h){var f=Object.getOwnPropertyDescriptor(d,h);return!!(!f||f.writable||f.set)}};else{var e={}.hasOwnProperty,n={}.toString,r={}.constructor.prototype,s=function(d){var h=[];for(var f in d)e.call(d,f)&&h.push(f);return h},a=function(d,h){return{value:d[h]}},o=function(d,h,f){return d[h]=f.value,d},l=function(d){return d},c=function(d){try{return Object(d).constructor.prototype}catch{return r}},u=function(d){try{return n.call(d)==="[object Array]"}catch{return!1}};KE.exports={isArray:u,keys:s,names:s,defineProperty:o,getDescriptor:a,freeze:l,getPrototypeOf:c,isES5:t,propertyIsWritable:function(){return!0}}}return KE.exports}var Lj,YG;function Ti(){if(YG)return Lj;YG=1;var t={},e=$2(),n=typeof navigator>"u",r={e:{}},s,a=typeof self<"u"?self:typeof window<"u"?window:typeof Lu<"u"?Lu:Lj!==void 0?Lj:null;function o(){try{var W=s;return s=null,W.apply(this,arguments)}catch(Y){return r.e=Y,r}}function l(W){return s=W,o}var c=function(W,Y){var ee={}.hasOwnProperty;function ie(){this.constructor=W,this.constructor$=Y;for(var se in Y.prototype)ee.call(Y.prototype,se)&&se.charAt(se.length-1)!=="$"&&(this[se+"$"]=Y.prototype[se])}return ie.prototype=Y.prototype,W.prototype=new ie,W.prototype};function u(W){return W==null||W===!0||W===!1||typeof W=="string"||typeof W=="number"}function d(W){return typeof W=="function"||typeof W=="object"&&W!==null}function h(W){return u(W)?new Error(C(W)):W}function f(W,Y){var ee=W.length,ie=new Array(ee+1),se;for(se=0;se<ee;++se)ie[se]=W[se];return ie[se]=Y,ie}function A(W,Y,ee){if(e.isES5){var ie=Object.getOwnPropertyDescriptor(W,Y);if(ie!=null)return ie.get==null&&ie.set==null?ie.value:ee}else return{}.hasOwnProperty.call(W,Y)?W[Y]:void 0}function v(W,Y,ee){if(u(W))return W;var ie={value:ee,configurable:!0,enumerable:!1,writable:!0};return e.defineProperty(W,Y,ie),W}function p(W){throw W}var m=function(){var W=[Array.prototype,Object.prototype,Function.prototype],Y=function(se){for(var Ae=0;Ae<W.length;++Ae)if(W[Ae]===se)return!0;return!1};if(e.isES5){var ee=Object.getOwnPropertyNames;return function(se){for(var Ae=[],he=Object.create(null);se!=null&&!Y(se);){var Be;try{Be=ee(se)}catch{return Ae}for(var Me=0;Me<Be.length;++Me){var Ie=Be[Me];if(!he[Ie]){he[Ie]=!0;var Ye=Object.getOwnPropertyDescriptor(se,Ie);Ye!=null&&Ye.get==null&&Ye.set==null&&Ae.push(Ie)}}se=e.getPrototypeOf(se)}return Ae}}else{var ie={}.hasOwnProperty;return function(se){if(Y(se))return[];var Ae=[];e:for(var he in se)if(ie.call(se,he))Ae.push(he);else{for(var Be=0;Be<W.length;++Be)if(ie.call(W[Be],he))continue e;Ae.push(he)}return Ae}}}(),g=/this\s*\.\s*\S+\s*=/;function x(W){try{if(typeof W=="function"){var Y=e.names(W.prototype),ee=e.isES5&&Y.length>1,ie=Y.length>0&&!(Y.length===1&&Y[0]==="constructor"),se=g.test(W+"")&&e.names(W).length>0;if(ee||ie||se)return!0}return!1}catch{return!1}}function b(W){return W}var j=/^[a-z$_][a-z$_0-9]*$/i;function N(W){return j.test(W)}function _(W,Y,ee){for(var ie=new Array(W),se=0;se<W;++se)ie[se]=Y+se+ee;return ie}function C(W){try{return W+""}catch{return"[no string representation]"}}function k(W){return W!==null&&typeof W=="object"&&typeof W.message=="string"&&typeof W.name=="string"}function T(W){try{v(W,"isOperational",!0)}catch{}}function O(W){return W==null?!1:W instanceof Error.__BluebirdErrorTypes__.OperationalError||W.isOperational===!0}function I(W){return k(W)&&e.propertyIsWritable(W,"stack")}var F=function(){return"stack"in new Error?function(W){return I(W)?W:new Error(C(W))}:function(W){if(I(W))return W;try{throw new Error(C(W))}catch(Y){return Y}}}();function M(W){return{}.toString.call(W)}function S(W,Y,ee){for(var ie=e.names(W),se=0;se<ie.length;++se){var Ae=ie[se];if(ee(Ae))try{e.defineProperty(Y,Ae,e.getDescriptor(W,Ae))}catch{}}}var q=function(W){return e.isArray(W)?W:null};if(typeof Symbol<"u"&&Symbol.iterator){var U=typeof Array.from=="function"?function(W){return Array.from(W)}:function(W){for(var Y=[],ee=W[Symbol.iterator](),ie;!(ie=ee.next()).done;)Y.push(ie.value);return Y};q=function(W){return e.isArray(W)?W:W!=null&&typeof W[Symbol.iterator]=="function"?U(W):null}}var L=typeof process<"u"&&M(process).toLowerCase()==="[object process]",z=typeof process<"u"&&typeof t<"u";function $(W){return z?t[W]:void 0}function K(){if(typeof Promise=="function")try{var W=new Promise(function(){});if({}.toString.call(W)==="[object Promise]")return Promise}catch{}}function V(W,Y){return W.bind(Y)}var H={isClass:x,isIdentifier:N,inheritedDataKeys:m,getDataPropertyOrDefault:A,thrower:p,isArray:e.isArray,asArray:q,notEnumerableProp:v,isPrimitive:u,isObject:d,isError:k,canEvaluate:n,errorObj:r,tryCatch:l,inherits:c,withAppended:f,maybeWrapAsError:h,toFastProperties:b,filledRange:_,toString:C,canAttachTrace:I,ensureErrorObject:F,originatesFromRejection:O,markAsOriginatingFromRejection:T,classString:M,copyDescriptors:S,hasDevTools:typeof chrome<"u"&&chrome&&typeof chrome.loadTimes=="function",isNode:L,hasEnvVariables:z,env:$,global:a,getNativePromise:K,domainBind:V};H.isRecentNode=H.isNode&&function(){var W=process.versions.node.split(".").map(Number);return W[0]===0&&W[1]>10||W[0]>0}(),H.isNode&&H.toFastProperties(process);try{throw new Error}catch(W){H.lastLineError=W}return Lj=H,Lj}var GE={exports:{}},VP,JG;function cke(){if(JG)return VP;JG=1;var t=Ti(),e,n=function(){throw new Error(`No async scheduler available

    See http://goo.gl/MqrFmX
`)},r=t.getNativePromise();if(t.isNode&&typeof MutationObserver>"u"){var s=Lu.setImmediate,a=process.nextTick;e=t.isRecentNode?function(l){s.call(Lu,l)}:function(l){a.call(process,l)}}else if(typeof r=="function"&&typeof r.resolve=="function"){var o=r.resolve();e=function(l){o.then(l)}}else typeof MutationObserver<"u"&&!(typeof window<"u"&&window.navigator&&(window.navigator.standalone||window.cordova))?e=function(){var l=document.createElement("div"),c={attributes:!0},u=!1,d=document.createElement("div"),h=new MutationObserver(function(){l.classList.toggle("foo"),u=!1});h.observe(d,c);var f=function(){u||(u=!0,d.classList.toggle("foo"))};return function(v){var p=new MutationObserver(function(){p.disconnect(),v()});p.observe(l,c),f()}}():typeof setImmediate<"u"?e=function(l){setImmediate(l)}:typeof setTimeout<"u"?e=function(l){setTimeout(l,0)}:e=n;return VP=e,VP}var KP,ZG;function uke(){if(ZG)return KP;ZG=1;function t(n,r,s,a,o){for(var l=0;l<o;++l)s[l+a]=n[l+r],n[l+r]=void 0}function e(n){this._capacity=n,this._length=0,this._front=0}return e.prototype._willBeOverCapacity=function(n){return this._capacity<n},e.prototype._pushOne=function(n){var r=this.length();this._checkCapacity(r+1);var s=this._front+r&this._capacity-1;this[s]=n,this._length=r+1},e.prototype.push=function(n,r,s){var a=this.length()+3;if(this._willBeOverCapacity(a)){this._pushOne(n),this._pushOne(r),this._pushOne(s);return}var o=this._front+a-3;this._checkCapacity(a);var l=this._capacity-1;this[o+0&l]=n,this[o+1&l]=r,this[o+2&l]=s,this._length=a},e.prototype.shift=function(){var n=this._front,r=this[n];return this[n]=void 0,this._front=n+1&this._capacity-1,this._length--,r},e.prototype.length=function(){return this._length},e.prototype._checkCapacity=function(n){this._capacity<n&&this._resizeTo(this._capacity<<1)},e.prototype._resizeTo=function(n){var r=this._capacity;this._capacity=n;var s=this._front,a=this._length,o=s+a&r-1;t(this,0,this,r,o)},KP=e,KP}var eX;function dke(){if(eX)return GE.exports;eX=1;var t;try{throw new Error}catch(c){t=c}var e=cke(),n=uke(),r=Ti();function s(){this._customScheduler=!1,this._isTickUsed=!1,this._lateQueue=new n(16),this._normalQueue=new n(16),this._haveDrainedQueues=!1,this._trampolineEnabled=!0;var c=this;this.drainQueues=function(){c._drainQueues()},this._schedule=e}s.prototype.setScheduler=function(c){var u=this._schedule;return this._schedule=c,this._customScheduler=!0,u},s.prototype.hasCustomScheduler=function(){return this._customScheduler},s.prototype.enableTrampoline=function(){this._trampolineEnabled=!0},s.prototype.disableTrampolineIfNecessary=function(){r.hasDevTools&&(this._trampolineEnabled=!1)},s.prototype.haveItemsQueued=function(){return this._isTickUsed||this._haveDrainedQueues},s.prototype.fatalError=function(c,u){u?(process.stderr.write("Fatal "+(c instanceof Error?c.stack:c)+`
`),process.exit(2)):this.throwLater(c)},s.prototype.throwLater=function(c,u){if(arguments.length===1&&(u=c,c=function(){throw u}),typeof setTimeout<"u")setTimeout(function(){c(u)},0);else try{this._schedule(function(){c(u)})}catch{throw new Error(`No async scheduler available

    See http://goo.gl/MqrFmX
`)}};function a(c,u,d){this._lateQueue.push(c,u,d),this._queueTick()}function o(c,u,d){this._normalQueue.push(c,u,d),this._queueTick()}function l(c){this._normalQueue._pushOne(c),this._queueTick()}return r.hasDevTools?(s.prototype.invokeLater=function(c,u,d){this._trampolineEnabled?a.call(this,c,u,d):this._schedule(function(){setTimeout(function(){c.call(u,d)},100)})},s.prototype.invoke=function(c,u,d){this._trampolineEnabled?o.call(this,c,u,d):this._schedule(function(){c.call(u,d)})},s.prototype.settlePromises=function(c){this._trampolineEnabled?l.call(this,c):this._schedule(function(){c._settlePromises()})}):(s.prototype.invokeLater=a,s.prototype.invoke=o,s.prototype.settlePromises=l),s.prototype._drainQueue=function(c){for(;c.length()>0;){var u=c.shift();if(typeof u!="function"){u._settlePromises();continue}var d=c.shift(),h=c.shift();u.call(d,h)}},s.prototype._drainQueues=function(){this._drainQueue(this._normalQueue),this._reset(),this._haveDrainedQueues=!0,this._drainQueue(this._lateQueue)},s.prototype._queueTick=function(){this._isTickUsed||(this._isTickUsed=!0,this._schedule(this.drainQueues))},s.prototype._reset=function(){this._isTickUsed=!1},GE.exports=s,GE.exports.firstLineError=t,GE.exports}var GP,tX;function tx(){if(tX)return GP;tX=1;var t=$2(),e=t.freeze,n=Ti(),r=n.inherits,s=n.notEnumerableProp;function a(g,x){function b(j){if(!(this instanceof b))return new b(j);s(this,"message",typeof j=="string"?j:x),s(this,"name",g),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):Error.call(this)}return r(b,Error),b}var o,l,c=a("Warning","warning"),u=a("CancellationError","cancellation error"),d=a("TimeoutError","timeout error"),h=a("AggregateError","aggregate error");try{o=TypeError,l=RangeError}catch{o=a("TypeError","type error"),l=a("RangeError","range error")}for(var f="join pop push shift unshift slice filter forEach some every map indexOf lastIndexOf reduce reduceRight sort reverse".split(" "),A=0;A<f.length;++A)typeof Array.prototype[f[A]]=="function"&&(h.prototype[f[A]]=Array.prototype[f[A]]);t.defineProperty(h.prototype,"length",{value:0,configurable:!1,writable:!0,enumerable:!0}),h.prototype.isOperational=!0;var v=0;h.prototype.toString=function(){var g=Array(v*4+1).join(" "),x=`
`+g+`AggregateError of:
`;v++,g=Array(v*4+1).join(" ");for(var b=0;b<this.length;++b){for(var j=this[b]===this?"[Circular AggregateError]":this[b]+"",N=j.split(`
`),_=0;_<N.length;++_)N[_]=g+N[_];j=N.join(`
`),x+=j+`
`}return v--,x};function p(g){if(!(this instanceof p))return new p(g);s(this,"name","OperationalError"),s(this,"message",g),this.cause=g,this.isOperational=!0,g instanceof Error?(s(this,"message",g.message),s(this,"stack",g.stack)):Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}r(p,Error);var m=Error.__BluebirdErrorTypes__;return m||(m=e({CancellationError:u,TimeoutError:d,OperationalError:p,RejectionError:p,AggregateError:h}),t.defineProperty(Error,"__BluebirdErrorTypes__",{value:m,writable:!1,enumerable:!1,configurable:!1})),GP={Error,TypeError:o,RangeError:l,CancellationError:m.CancellationError,OperationalError:m.OperationalError,TimeoutError:m.TimeoutError,AggregateError:m.AggregateError,Warning:c},GP}var XP,nX;function hke(){return nX||(nX=1,XP=function(t,e){var n=Ti(),r=n.errorObj,s=n.isObject;function a(h,f){if(s(h)){if(h instanceof t)return h;var A=l(h);if(A===r){f&&f._pushContext();var v=t.reject(A.e);return f&&f._popContext(),v}else if(typeof A=="function"){if(u(h)){var v=new t(e);return h._then(v._fulfill,v._reject,void 0,v,null),v}return d(h,A,f)}}return h}function o(h){return h.then}function l(h){try{return o(h)}catch(f){return r.e=f,r}}var c={}.hasOwnProperty;function u(h){try{return c.call(h,"_promise0")}catch{return!1}}function d(h,f,A){var v=new t(e),p=v;A&&A._pushContext(),v._captureStackTrace(),A&&A._popContext();var m=!0,g=n.tryCatch(f).call(h,x,b);m=!1,v&&g===r&&(v._rejectCallback(g.e,!0,!0),v=null);function x(j){v&&(v._resolveCallback(j),v=null)}function b(j){v&&(v._rejectCallback(j,m,!0),v=null)}return p}return a}),XP}var YP,rX;function fke(){return rX||(rX=1,YP=function(t,e,n,r,s){var a=Ti();a.isArray;function o(c){switch(c){case-2:return[];case-3:return{}}}function l(c){var u=this._promise=new t(e);c instanceof t&&u._propagateFrom(c,3),u._setOnCancel(this),this._values=c,this._length=0,this._totalResolved=0,this._init(void 0,-2)}return a.inherits(l,s),l.prototype.length=function(){return this._length},l.prototype.promise=function(){return this._promise},l.prototype._init=function c(u,d){var h=n(this._values,this._promise);if(h instanceof t){h=h._target();var f=h._bitField;if(this._values=h,(f&50397184)===0)return this._promise._setAsyncGuaranteed(),h._then(c,this._reject,void 0,this,d);if((f&33554432)!==0)h=h._value();else return(f&16777216)!==0?this._reject(h._reason()):this._cancel()}if(h=a.asArray(h),h===null){var A=r("expecting an array or an iterable object but got "+a.classString(h)).reason();this._promise._rejectCallback(A,!1);return}if(h.length===0){d===-5?this._resolveEmptyArray():this._resolve(o(d));return}this._iterate(h)},l.prototype._iterate=function(c){var u=this.getActualLength(c.length);this._length=u,this._values=this.shouldCopyValues()?new Array(u):this._values;for(var d=this._promise,h=!1,f=null,A=0;A<u;++A){var v=n(c[A],d);v instanceof t?(v=v._target(),f=v._bitField):f=null,h?f!==null&&v.suppressUnhandledRejections():f!==null?(f&50397184)===0?(v._proxy(this,A),this._values[A]=v):(f&33554432)!==0?h=this._promiseFulfilled(v._value(),A):(f&16777216)!==0?h=this._promiseRejected(v._reason(),A):h=this._promiseCancelled(A):h=this._promiseFulfilled(v,A)}h||d._setAsyncGuaranteed()},l.prototype._isResolved=function(){return this._values===null},l.prototype._resolve=function(c){this._values=null,this._promise._fulfill(c)},l.prototype._cancel=function(){this._isResolved()||!this._promise._isCancellable()||(this._values=null,this._promise._cancel())},l.prototype._reject=function(c){this._values=null,this._promise._rejectCallback(c,!1)},l.prototype._promiseFulfilled=function(c,u){this._values[u]=c;var d=++this._totalResolved;return d>=this._length?(this._resolve(this._values),!0):!1},l.prototype._promiseCancelled=function(){return this._cancel(),!0},l.prototype._promiseRejected=function(c){return this._totalResolved++,this._reject(c),!0},l.prototype._resultCancelled=function(){if(!this._isResolved()){var c=this._values;if(this._cancel(),c instanceof t)c.cancel();else for(var u=0;u<c.length;++u)c[u]instanceof t&&c[u].cancel()}},l.prototype.shouldCopyValues=function(){return!0},l.prototype.getActualLength=function(c){return c},l}),YP}var JP,iX;function Ake(){return iX||(iX=1,JP=function(t){var e=!1,n=[];t.prototype._promiseCreated=function(){},t.prototype._pushContext=function(){},t.prototype._popContext=function(){return null},t._peekContext=t.prototype._peekContext=function(){};function r(){this._trace=new r.CapturedTrace(a())}r.prototype._pushContext=function(){this._trace!==void 0&&(this._trace._promiseCreated=null,n.push(this._trace))},r.prototype._popContext=function(){if(this._trace!==void 0){var o=n.pop(),l=o._promiseCreated;return o._promiseCreated=null,l}return null};function s(){if(e)return new r}function a(){var o=n.length-1;if(o>=0)return n[o]}return r.CapturedTrace=null,r.create=s,r.deactivateLongStackTraces=function(){},r.activateLongStackTraces=function(){var o=t.prototype._pushContext,l=t.prototype._popContext,c=t._peekContext,u=t.prototype._peekContext,d=t.prototype._promiseCreated;r.deactivateLongStackTraces=function(){t.prototype._pushContext=o,t.prototype._popContext=l,t._peekContext=c,t.prototype._peekContext=u,t.prototype._promiseCreated=d,e=!1},e=!0,t.prototype._pushContext=r.prototype._pushContext,t.prototype._popContext=r.prototype._popContext,t._peekContext=t.prototype._peekContext=a,t.prototype._promiseCreated=function(){var h=this._peekContext();h&&h._promiseCreated==null&&(h._promiseCreated=this)}},r}),JP}var ZP,sX;function pke(){return sX||(sX=1,ZP=function(t,e){var n=t._getDomain,r=t._async,s=tx().Warning,a=Ti(),o=a.canAttachTrace,l,c,u=/[\\\/]bluebird[\\\/]js[\\\/](release|debug|instrumented)/,d=/\((?:timers\.js):\d+:\d+\)/,h=/[\/<\(](.+?):(\d+):(\d+)\)?\s*$/,f=null,A=null,v=!1,p,m=!!(a.env("BLUEBIRD_DEBUG")!=0&&(a.env("BLUEBIRD_DEBUG")||a.env("NODE_ENV")==="development")),g=!!(a.env("BLUEBIRD_WARNINGS")!=0&&(m||a.env("BLUEBIRD_WARNINGS"))),x=!!(a.env("BLUEBIRD_LONG_STACK_TRACES")!=0&&(m||a.env("BLUEBIRD_LONG_STACK_TRACES"))),b=a.env("BLUEBIRD_W_FORGOTTEN_RETURN")!=0&&(g||!!a.env("BLUEBIRD_W_FORGOTTEN_RETURN"));t.prototype.suppressUnhandledRejections=function(){var De=this._target();De._bitField=De._bitField&-1048577|524288},t.prototype._ensurePossibleRejectionHandled=function(){(this._bitField&524288)===0&&(this._setRejectionIsUnhandled(),r.invokeLater(this._notifyUnhandledRejection,this,void 0))},t.prototype._notifyUnhandledRejectionIsHandled=function(){Ie("rejectionHandled",l,void 0,this)},t.prototype._setReturnedNonUndefined=function(){this._bitField=this._bitField|268435456},t.prototype._returnedNonUndefined=function(){return(this._bitField&268435456)!==0},t.prototype._notifyUnhandledRejection=function(){if(this._isRejectionUnhandled()){var De=this._settledValue();this._setUnhandledRejectionIsNotified(),Ie("unhandledRejection",c,De,this)}},t.prototype._setUnhandledRejectionIsNotified=function(){this._bitField=this._bitField|262144},t.prototype._unsetUnhandledRejectionIsNotified=function(){this._bitField=this._bitField&-262145},t.prototype._isUnhandledRejectionNotified=function(){return(this._bitField&262144)>0},t.prototype._setRejectionIsUnhandled=function(){this._bitField=this._bitField|1048576},t.prototype._unsetRejectionIsUnhandled=function(){this._bitField=this._bitField&-1048577,this._isUnhandledRejectionNotified()&&(this._unsetUnhandledRejectionIsNotified(),this._notifyUnhandledRejectionIsHandled())},t.prototype._isRejectionUnhandled=function(){return(this._bitField&1048576)>0},t.prototype._warn=function(De,Ce,Oe){return Y(De,Ce,Oe||this)},t.onPossiblyUnhandledRejection=function(De){var Ce=n();c=typeof De=="function"?Ce===null?De:a.domainBind(Ce,De):void 0},t.onUnhandledRejectionHandled=function(De){var Ce=n();l=typeof De=="function"?Ce===null?De:a.domainBind(Ce,De):void 0};var j=function(){};t.longStackTraces=function(){if(r.haveItemsQueued()&&!Fe.longStackTraces)throw new Error(`cannot enable long stack traces after promises have been created

    See http://goo.gl/MqrFmX
`);if(!Fe.longStackTraces&&ue()){var De=t.prototype._captureStackTrace,Ce=t.prototype._attachExtraTrace;Fe.longStackTraces=!0,j=function(){if(r.haveItemsQueued()&&!Fe.longStackTraces)throw new Error(`cannot enable long stack traces after promises have been created

    See http://goo.gl/MqrFmX
`);t.prototype._captureStackTrace=De,t.prototype._attachExtraTrace=Ce,e.deactivateLongStackTraces(),r.enableTrampoline(),Fe.longStackTraces=!1},t.prototype._captureStackTrace=K,t.prototype._attachExtraTrace=V,e.activateLongStackTraces(),r.disableTrampolineIfNecessary()}},t.hasLongStackTraces=function(){return Fe.longStackTraces&&ue()};var N=function(){try{if(typeof CustomEvent=="function"){var De=new CustomEvent("CustomEvent");return a.global.dispatchEvent(De),function(Ce,Oe){var We=new CustomEvent(Ce.toLowerCase(),{detail:Oe,cancelable:!0});return!a.global.dispatchEvent(We)}}else if(typeof Event=="function"){var De=new Event("CustomEvent");return a.global.dispatchEvent(De),function(Oe,We){var ut=new Event(Oe.toLowerCase(),{cancelable:!0});return ut.detail=We,!a.global.dispatchEvent(ut)}}else{var De=document.createEvent("CustomEvent");return De.initCustomEvent("testingtheevent",!1,!0,{}),a.global.dispatchEvent(De),function(Oe,We){var ut=document.createEvent("CustomEvent");return ut.initCustomEvent(Oe.toLowerCase(),!1,!0,We),!a.global.dispatchEvent(ut)}}}catch{}return function(){return!1}}(),_=function(){return a.isNode?function(){return process.emit.apply(process,arguments)}:a.global?function(De){var Ce="on"+De.toLowerCase(),Oe=a.global[Ce];return Oe?(Oe.apply(a.global,[].slice.call(arguments,1)),!0):!1}:function(){return!1}}();function C(De,Ce){return{promise:Ce}}var k={promiseCreated:C,promiseFulfilled:C,promiseRejected:C,promiseResolved:C,promiseCancelled:C,promiseChained:function(De,Ce,Oe){return{promise:Ce,child:Oe}},warning:function(De,Ce){return{warning:Ce}},unhandledRejection:function(De,Ce,Oe){return{reason:Ce,promise:Oe}},rejectionHandled:C},T=function(De){var Ce=!1;try{Ce=_.apply(null,arguments)}catch(We){r.throwLater(We),Ce=!0}var Oe=!1;try{Oe=N(De,k[De].apply(null,arguments))}catch(We){r.throwLater(We),Oe=!0}return Oe||Ce};t.config=function(De){if(De=Object(De),"longStackTraces"in De&&(De.longStackTraces?t.longStackTraces():!De.longStackTraces&&t.hasLongStackTraces()&&j()),"warnings"in De){var Ce=De.warnings;Fe.warnings=!!Ce,b=Fe.warnings,a.isObject(Ce)&&"wForgottenReturn"in Ce&&(b=!!Ce.wForgottenReturn)}if("cancellation"in De&&De.cancellation&&!Fe.cancellation){if(r.haveItemsQueued())throw new Error("cannot enable cancellation after promises are in use");t.prototype._clearCancellationData=q,t.prototype._propagateFrom=U,t.prototype._onCancel=M,t.prototype._setOnCancel=S,t.prototype._attachCancellationCallback=F,t.prototype._execute=I,z=U,Fe.cancellation=!0}return"monitoring"in De&&(De.monitoring&&!Fe.monitoring?(Fe.monitoring=!0,t.prototype._fireEvent=T):!De.monitoring&&Fe.monitoring&&(Fe.monitoring=!1,t.prototype._fireEvent=O)),t};function O(){return!1}t.prototype._fireEvent=O,t.prototype._execute=function(De,Ce,Oe){try{De(Ce,Oe)}catch(We){return We}},t.prototype._onCancel=function(){},t.prototype._setOnCancel=function(De){},t.prototype._attachCancellationCallback=function(De){},t.prototype._captureStackTrace=function(){},t.prototype._attachExtraTrace=function(){},t.prototype._clearCancellationData=function(){},t.prototype._propagateFrom=function(De,Ce){};function I(De,Ce,Oe){var We=this;try{De(Ce,Oe,function(ut){if(typeof ut!="function")throw new TypeError("onCancel must be a function, got: "+a.toString(ut));We._attachCancellationCallback(ut)})}catch(ut){return ut}}function F(De){if(!this._isCancellable())return this;var Ce=this._onCancel();Ce!==void 0?a.isArray(Ce)?Ce.push(De):this._setOnCancel([Ce,De]):this._setOnCancel(De)}function M(){return this._onCancelField}function S(De){this._onCancelField=De}function q(){this._cancellationParent=void 0,this._onCancelField=void 0}function U(De,Ce){if((Ce&1)!==0){this._cancellationParent=De;var Oe=De._branchesRemainingToCancel;Oe===void 0&&(Oe=0),De._branchesRemainingToCancel=Oe+1}(Ce&2)!==0&&De._isBound()&&this._setBoundTo(De._boundTo)}function L(De,Ce){(Ce&2)!==0&&De._isBound()&&this._setBoundTo(De._boundTo)}var z=L;function $(){var De=this._boundTo;return De!==void 0&&De instanceof t?De.isFulfilled()?De.value():void 0:De}function K(){this._trace=new $e(this._peekContext())}function V(De,Ce){if(o(De)){var Oe=this._trace;if(Oe!==void 0&&Ce&&(Oe=Oe._parent),Oe!==void 0)Oe.attachExtraTrace(De);else if(!De.__stackCleaned__){var We=Be(De);a.notEnumerableProp(De,"stack",We.message+`
`+We.stack.join(`
`)),a.notEnumerableProp(De,"__stackCleaned__",!0)}}}function H(De,Ce,Oe,We,ut){if(De===void 0&&Ce!==null&&b){if(ut!==void 0&&ut._returnedNonUndefined()||(We._bitField&65535)===0)return;Oe&&(Oe=Oe+" ");var yt="",Nt="";if(Ce._trace){for(var jt=Ce._trace.stack.split(`
`),Ue=Ae(jt),ct=Ue.length-1;ct>=0;--ct){var ht=Ue[ct];if(!d.test(ht)){var kt=ht.match(h);kt&&(yt="at "+kt[1]+":"+kt[2]+":"+kt[3]+" ");break}}if(Ue.length>0){for(var Ot=Ue[0],ct=0;ct<jt.length;++ct)if(jt[ct]===Ot){ct>0&&(Nt=`
`+jt[ct-1]);break}}}var Ut="a promise was created in a "+Oe+"handler "+yt+"but was not returned from it, see http://goo.gl/rRqMUw"+Nt;We._warn(Ut,!0,Ce)}}function W(De,Ce){var Oe=De+" is deprecated and will be removed in a future version.";return Ce&&(Oe+=" Use "+Ce+" instead."),Y(Oe)}function Y(De,Ce,Oe){if(Fe.warnings){var We=new s(De),ut;if(Ce)Oe._attachExtraTrace(We);else if(Fe.longStackTraces&&(ut=t._peekContext()))ut.attachExtraTrace(We);else{var yt=Be(We);We.stack=yt.message+`
`+yt.stack.join(`
`)}T("warning",We)||Me(We,"",!0)}}function ee(De,Ce){for(var Oe=0;Oe<Ce.length-1;++Oe)Ce[Oe].push("From previous event:"),Ce[Oe]=Ce[Oe].join(`
`);return Oe<Ce.length&&(Ce[Oe]=Ce[Oe].join(`
`)),De+`
`+Ce.join(`
`)}function ie(De){for(var Ce=0;Ce<De.length;++Ce)(De[Ce].length===0||Ce+1<De.length&&De[Ce][0]===De[Ce+1][0])&&(De.splice(Ce,1),Ce--)}function se(De){for(var Ce=De[0],Oe=1;Oe<De.length;++Oe){for(var We=De[Oe],ut=Ce.length-1,yt=Ce[ut],Nt=-1,jt=We.length-1;jt>=0;--jt)if(We[jt]===yt){Nt=jt;break}for(var jt=Nt;jt>=0;--jt){var Ue=We[jt];if(Ce[ut]===Ue)Ce.pop(),ut--;else break}Ce=We}}function Ae(De){for(var Ce=[],Oe=0;Oe<De.length;++Oe){var We=De[Oe],ut=We==="    (No stack trace)"||f.test(We),yt=ut&&re(We);ut&&!yt&&(v&&We.charAt(0)!==" "&&(We="    "+We),Ce.push(We))}return Ce}function he(De){for(var Ce=De.stack.replace(/\s+$/g,"").split(`
`),Oe=0;Oe<Ce.length;++Oe){var We=Ce[Oe];if(We==="    (No stack trace)"||f.test(We))break}return Oe>0&&De.name!="SyntaxError"&&(Ce=Ce.slice(Oe)),Ce}function Be(De){var Ce=De.stack,Oe=De.toString();return Ce=typeof Ce=="string"&&Ce.length>0?he(De):["    (No stack trace)"],{message:Oe,stack:De.name=="SyntaxError"?Ce:Ae(Ce)}}function Me(De,Ce,Oe){if(typeof console<"u"){var We;if(a.isObject(De)){var ut=De.stack;We=Ce+A(ut,De)}else We=Ce+String(De);typeof p=="function"?p(We,Oe):(typeof console.log=="function"||typeof console.log=="object")&&console.log(We)}}function Ie(De,Ce,Oe,We){var ut=!1;try{typeof Ce=="function"&&(ut=!0,De==="rejectionHandled"?Ce(We):Ce(Oe,We))}catch(yt){r.throwLater(yt)}De==="unhandledRejection"?!T(De,Oe,We)&&!ut&&Me(Oe,"Unhandled rejection "):T(De,We)}function Ye(De){var Ce;if(typeof De=="function")Ce="[function "+(De.name||"anonymous")+"]";else{Ce=De&&typeof De.toString=="function"?De.toString():a.toString(De);var Oe=/\[object [a-zA-Z0-9$_]+\]/;if(Oe.test(Ce))try{var We=JSON.stringify(De);Ce=We}catch{}Ce.length===0&&(Ce="(empty array)")}return"(<"+X(Ce)+">, no stack trace)"}function X(De){var Ce=41;return De.length<Ce?De:De.substr(0,Ce-3)+"..."}function ue(){return typeof ze=="function"}var re=function(){return!1},de=/[\/<\(]([^:\/]+):(\d+):(?:\d+)\)?\s*$/;function ce(De){var Ce=De.match(de);if(Ce)return{fileName:Ce[1],line:parseInt(Ce[2],10)}}function Ne(De,Ce){if(ue()){for(var Oe=De.stack.split(`
`),We=Ce.stack.split(`
`),ut=-1,yt=-1,Nt,jt,Ue=0;Ue<Oe.length;++Ue){var ct=ce(Oe[Ue]);if(ct){Nt=ct.fileName,ut=ct.line;break}}for(var Ue=0;Ue<We.length;++Ue){var ct=ce(We[Ue]);if(ct){jt=ct.fileName,yt=ct.line;break}}ut<0||yt<0||!Nt||!jt||Nt!==jt||ut>=yt||(re=function(ht){if(u.test(ht))return!0;var kt=ce(ht);return!!(kt&&kt.fileName===Nt&&ut<=kt.line&&kt.line<=yt)})}}function $e(De){this._parent=De,this._promisesCreated=0;var Ce=this._length=1+(De===void 0?0:De._length);ze(this,$e),Ce>32&&this.uncycle()}a.inherits($e,Error),e.CapturedTrace=$e,$e.prototype.uncycle=function(){var De=this._length;if(!(De<2)){for(var Ce=[],Oe={},We=0,ut=this;ut!==void 0;++We)Ce.push(ut),ut=ut._parent;De=this._length=We;for(var We=De-1;We>=0;--We){var yt=Ce[We].stack;Oe[yt]===void 0&&(Oe[yt]=We)}for(var We=0;We<De;++We){var Nt=Ce[We].stack,jt=Oe[Nt];if(jt!==void 0&&jt!==We){jt>0&&(Ce[jt-1]._parent=void 0,Ce[jt-1]._length=1),Ce[We]._parent=void 0,Ce[We]._length=1;var Ue=We>0?Ce[We-1]:this;jt<De-1?(Ue._parent=Ce[jt+1],Ue._parent.uncycle(),Ue._length=Ue._parent._length+1):(Ue._parent=void 0,Ue._length=1);for(var ct=Ue._length+1,ht=We-2;ht>=0;--ht)Ce[ht]._length=ct,ct++;return}}}},$e.prototype.attachExtraTrace=function(De){if(!De.__stackCleaned__){this.uncycle();for(var Ce=Be(De),Oe=Ce.message,We=[Ce.stack],ut=this;ut!==void 0;)We.push(Ae(ut.stack.split(`
`))),ut=ut._parent;se(We),ie(We),a.notEnumerableProp(De,"stack",ee(Oe,We)),a.notEnumerableProp(De,"__stackCleaned__",!0)}};var ze=function(){var Ce=/^\s*at\s*/,Oe=function(Nt,jt){return typeof Nt=="string"?Nt:jt.name!==void 0&&jt.message!==void 0?jt.toString():Ye(jt)};if(typeof Error.stackTraceLimit=="number"&&typeof Error.captureStackTrace=="function"){Error.stackTraceLimit+=6,f=Ce,A=Oe;var We=Error.captureStackTrace;return re=function(Nt){return u.test(Nt)},function(Nt,jt){Error.stackTraceLimit+=6,We(Nt,jt),Error.stackTraceLimit-=6}}var ut=new Error;if(typeof ut.stack=="string"&&ut.stack.split(`
`)[0].indexOf("stackDetection@")>=0)return f=/@/,A=Oe,v=!0,function(jt){jt.stack=new Error().stack};var yt;try{throw new Error}catch(Nt){yt="stack"in Nt}return!("stack"in ut)&&yt&&typeof Error.stackTraceLimit=="number"?(f=Ce,A=Oe,function(jt){Error.stackTraceLimit+=6;try{throw new Error}catch(Ue){jt.stack=Ue.stack}Error.stackTraceLimit-=6}):(A=function(Nt,jt){return typeof Nt=="string"?Nt:(typeof jt=="object"||typeof jt=="function")&&jt.name!==void 0&&jt.message!==void 0?jt.toString():Ye(jt)},null)}();typeof console<"u"&&typeof console.warn<"u"&&(p=function(De){console.warn(De)},a.isNode&&process.stderr.isTTY?p=function(De,Ce){var Oe=Ce?"\x1B[33m":"\x1B[31m";console.warn(Oe+De+`\x1B[0m
`)}:!a.isNode&&typeof new Error().stack=="string"&&(p=function(De,Ce){console.warn("%c"+De,Ce?"color: darkorange":"color: red")}));var Fe={warnings:g,longStackTraces:!1,cancellation:!1,monitoring:!1};return x&&t.longStackTraces(),{longStackTraces:function(){return Fe.longStackTraces},warnings:function(){return Fe.warnings},cancellation:function(){return Fe.cancellation},monitoring:function(){return Fe.monitoring},propagateFromFunction:function(){return z},boundValueFunction:function(){return $},checkForgottenReturns:H,setBounds:Ne,warn:Y,deprecated:W,CapturedTrace:$e,fireDomEvent:N,fireGlobalEvent:_}}),ZP}var eU,aX;function mke(){return aX||(aX=1,eU=function(t,e){var n=Ti(),r=t.CancellationError,s=n.errorObj;function a(h,f,A){this.promise=h,this.type=f,this.handler=A,this.called=!1,this.cancelPromise=null}a.prototype.isFinallyHandler=function(){return this.type===0};function o(h){this.finallyHandler=h}o.prototype._resultCancelled=function(){l(this.finallyHandler)};function l(h,f){return h.cancelPromise!=null?(arguments.length>1?h.cancelPromise._reject(f):h.cancelPromise._cancel(),h.cancelPromise=null,!0):!1}function c(){return d.call(this,this.promise._target()._settledValue())}function u(h){if(!l(this,h))return s.e=h,s}function d(h){var f=this.promise,A=this.handler;if(!this.called){this.called=!0;var v=this.isFinallyHandler()?A.call(f._boundValue()):A.call(f._boundValue(),h);if(v!==void 0){f._setReturnedNonUndefined();var p=e(v,f);if(p instanceof t){if(this.cancelPromise!=null)if(p._isCancelled()){var m=new r("late cancellation observer");return f._attachExtraTrace(m),s.e=m,s}else p.isPending()&&p._attachCancellationCallback(new o(this));return p._then(c,u,void 0,this,void 0)}}}return f.isRejected()?(l(this),s.e=h,s):(l(this),h)}return t.prototype._passThrough=function(h,f,A,v){return typeof h!="function"?this.then():this._then(A,v,void 0,new a(this,f,h),void 0)},t.prototype.lastly=t.prototype.finally=function(h){return this._passThrough(h,0,d,d)},t.prototype.tap=function(h){return this._passThrough(h,1,d)},a}),eU}var tU,oX;function gke(){return oX||(oX=1,tU=function(t){var e=Ti(),n=$2().keys,r=e.tryCatch,s=e.errorObj;function a(o,l,c){return function(u){var d=c._boundValue();e:for(var h=0;h<o.length;++h){var f=o[h];if(f===Error||f!=null&&f.prototype instanceof Error){if(u instanceof f)return r(l).call(d,u)}else if(typeof f=="function"){var A=r(f).call(d,u);if(A===s)return A;if(A)return r(l).call(d,u)}else if(e.isObject(u)){for(var v=n(f),p=0;p<v.length;++p){var m=v[p];if(f[m]!=u[m])continue e}return r(l).call(d,u)}}return t}}return a}),tU}var nU,lX;function Ape(){if(lX)return nU;lX=1;var t=Ti(),e=t.maybeWrapAsError,n=tx(),r=n.OperationalError,s=$2();function a(u){return u instanceof Error&&s.getPrototypeOf(u)===Error.prototype}var o=/^(?:name|message|stack|cause)$/;function l(u){var d;if(a(u)){d=new r(u),d.name=u.name,d.message=u.message,d.stack=u.stack;for(var h=s.keys(u),f=0;f<h.length;++f){var A=h[f];o.test(A)||(d[A]=u[A])}return d}return t.markAsOriginatingFromRejection(u),u}function c(u,d){return function(h,f){if(u!==null){if(h){var A=l(e(h));u._attachExtraTrace(A),u._reject(A)}else if(!d)u._fulfill(f);else{for(var v=arguments.length,p=new Array(Math.max(v-1,0)),m=1;m<v;++m)p[m-1]=arguments[m];u._fulfill(p)}u=null}}}return nU=c,nU}var rU,cX;function xke(){return cX||(cX=1,rU=function(t,e,n,r,s){var a=Ti(),o=a.tryCatch;t.method=function(l){if(typeof l!="function")throw new t.TypeError("expecting a function but got "+a.classString(l));return function(){var c=new t(e);c._captureStackTrace(),c._pushContext();var u=o(l).apply(this,arguments),d=c._popContext();return s.checkForgottenReturns(u,d,"Promise.method",c),c._resolveFromSyncValue(u),c}},t.attempt=t.try=function(l){if(typeof l!="function")return r("expecting a function but got "+a.classString(l));var c=new t(e);c._captureStackTrace(),c._pushContext();var u;if(arguments.length>1){s.deprecated("calling Promise.try with more than 1 argument");var d=arguments[1],h=arguments[2];u=a.isArray(d)?o(l).apply(h,d):o(l).call(h,d)}else u=o(l)();var f=c._popContext();return s.checkForgottenReturns(u,f,"Promise.try",c),c._resolveFromSyncValue(u),c},t.prototype._resolveFromSyncValue=function(l){l===a.errorObj?this._rejectCallback(l.e,!1):this._resolveCallback(l,!0)}}),rU}var iU,uX;function vke(){return uX||(uX=1,iU=function(t,e,n,r){var s=!1,a=function(u,d){this._reject(d)},o=function(u,d){d.promiseRejectionQueued=!0,d.bindingPromise._then(a,a,null,this,u)},l=function(u,d){(this._bitField&50397184)===0&&this._resolveCallback(d.target)},c=function(u,d){d.promiseRejectionQueued||this._reject(u)};t.prototype.bind=function(u){s||(s=!0,t.prototype._propagateFrom=r.propagateFromFunction(),t.prototype._boundValue=r.boundValueFunction());var d=n(u),h=new t(e);h._propagateFrom(this,1);var f=this._target();if(h._setBoundTo(d),d instanceof t){var A={promiseRejectionQueued:!1,promise:h,target:f,bindingPromise:d};f._then(e,o,void 0,h,A),d._then(l,c,void 0,h,A),h._setOnCancel(d)}else h._resolveCallback(f);return h},t.prototype._setBoundTo=function(u){u!==void 0?(this._bitField=this._bitField|2097152,this._boundTo=u):this._bitField=this._bitField&-2097153},t.prototype._isBound=function(){return(this._bitField&2097152)===2097152},t.bind=function(u,d){return t.resolve(d).bind(u)}}),iU}var sU,dX;function yke(){return dX||(dX=1,sU=function(t,e,n,r){var s=Ti(),a=s.tryCatch,o=s.errorObj,l=t._async;t.prototype.break=t.prototype.cancel=function(){if(!r.cancellation())return this._warn("cancellation is disabled");for(var c=this,u=c;c._isCancellable();){if(!c._cancelBy(u)){u._isFollowing()?u._followee().cancel():u._cancelBranched();break}var d=c._cancellationParent;if(d==null||!d._isCancellable()){c._isFollowing()?c._followee().cancel():c._cancelBranched();break}else c._isFollowing()&&c._followee().cancel(),c._setWillBeCancelled(),u=c,c=d}},t.prototype._branchHasCancelled=function(){this._branchesRemainingToCancel--},t.prototype._enoughBranchesHaveCancelled=function(){return this._branchesRemainingToCancel===void 0||this._branchesRemainingToCancel<=0},t.prototype._cancelBy=function(c){return c===this?(this._branchesRemainingToCancel=0,this._invokeOnCancel(),!0):(this._branchHasCancelled(),this._enoughBranchesHaveCancelled()?(this._invokeOnCancel(),!0):!1)},t.prototype._cancelBranched=function(){this._enoughBranchesHaveCancelled()&&this._cancel()},t.prototype._cancel=function(){this._isCancellable()&&(this._setCancelled(),l.invoke(this._cancelPromises,this,void 0))},t.prototype._cancelPromises=function(){this._length()>0&&this._settlePromises()},t.prototype._unsetOnCancel=function(){this._onCancelField=void 0},t.prototype._isCancellable=function(){return this.isPending()&&!this._isCancelled()},t.prototype.isCancellable=function(){return this.isPending()&&!this.isCancelled()},t.prototype._doInvokeOnCancel=function(c,u){if(s.isArray(c))for(var d=0;d<c.length;++d)this._doInvokeOnCancel(c[d],u);else if(c!==void 0)if(typeof c=="function"){if(!u){var h=a(c).call(this._boundValue());h===o&&(this._attachExtraTrace(h.e),l.throwLater(h.e))}}else c._resultCancelled(this)},t.prototype._invokeOnCancel=function(){var c=this._onCancel();this._unsetOnCancel(),l.invoke(this._doInvokeOnCancel,this,c)},t.prototype._invokeInternalOnCancel=function(){this._isCancellable()&&(this._doInvokeOnCancel(this._onCancel(),!0),this._unsetOnCancel())},t.prototype._resultCancelled=function(){this.cancel()}}),sU}var aU,hX;function bke(){return hX||(hX=1,aU=function(t){function e(){return this.value}function n(){throw this.reason}t.prototype.return=t.prototype.thenReturn=function(r){return r instanceof t&&r.suppressUnhandledRejections(),this._then(e,void 0,void 0,{value:r},void 0)},t.prototype.throw=t.prototype.thenThrow=function(r){return this._then(n,void 0,void 0,{reason:r},void 0)},t.prototype.catchThrow=function(r){if(arguments.length<=1)return this._then(void 0,n,void 0,{reason:r},void 0);var s=arguments[1],a=function(){throw s};return this.caught(r,a)},t.prototype.catchReturn=function(r){if(arguments.length<=1)return r instanceof t&&r.suppressUnhandledRejections(),this._then(void 0,e,void 0,{value:r},void 0);var s=arguments[1];s instanceof t&&s.suppressUnhandledRejections();var a=function(){return s};return this.caught(r,a)}}),aU}var oU,fX;function wke(){return fX||(fX=1,oU=function(t){function e(c){c!==void 0?(c=c._target(),this._bitField=c._bitField,this._settledValueField=c._isFateSealed()?c._settledValue():void 0):(this._bitField=0,this._settledValueField=void 0)}e.prototype._settledValue=function(){return this._settledValueField};var n=e.prototype.value=function(){if(!this.isFulfilled())throw new TypeError(`cannot get fulfillment value of a non-fulfilled promise

    See http://goo.gl/MqrFmX
`);return this._settledValue()},r=e.prototype.error=e.prototype.reason=function(){if(!this.isRejected())throw new TypeError(`cannot get rejection reason of a non-rejected promise

    See http://goo.gl/MqrFmX
`);return this._settledValue()},s=e.prototype.isFulfilled=function(){return(this._bitField&33554432)!==0},a=e.prototype.isRejected=function(){return(this._bitField&16777216)!==0},o=e.prototype.isPending=function(){return(this._bitField&50397184)===0},l=e.prototype.isResolved=function(){return(this._bitField&50331648)!==0};e.prototype.isCancelled=function(){return(this._bitField&8454144)!==0},t.prototype.__isCancelled=function(){return(this._bitField&65536)===65536},t.prototype._isCancelled=function(){return this._target().__isCancelled()},t.prototype.isCancelled=function(){return(this._target()._bitField&8454144)!==0},t.prototype.isPending=function(){return o.call(this._target())},t.prototype.isRejected=function(){return a.call(this._target())},t.prototype.isFulfilled=function(){return s.call(this._target())},t.prototype.isResolved=function(){return l.call(this._target())},t.prototype.value=function(){return n.call(this._target())},t.prototype.reason=function(){var c=this._target();return c._unsetRejectionIsUnhandled(),r.call(c)},t.prototype._value=function(){return this._settledValue()},t.prototype._reason=function(){return this._unsetRejectionIsUnhandled(),this._settledValue()},t.PromiseInspection=e}),oU}var lU,AX;function jke(){return AX||(AX=1,lU=function(t,e,n,r,s,a){var o=Ti(),l=o.canEvaluate,c=o.tryCatch,u=o.errorObj,d;if(l){for(var h=function(x){return new Function("value","holder",`                             
	            'use strict';                                                    
	            holder.pIndex = value;                                           
	            holder.checkFulfillment(this);                                   
	            `.replace(/Index/g,x))},f=function(x){return new Function("promise","holder",`                           
	            'use strict';                                                    
	            holder.pIndex = promise;                                         
	            `.replace(/Index/g,x))},A=function(x){for(var b=new Array(x),j=0;j<b.length;++j)b[j]="this.p"+(j+1);var N=b.join(" = ")+" = null;",_=`var promise;
`+b.map(function(O){return`                                                         
	                promise = `+O+`;                                      
	                if (promise instanceof Promise) {                            
	                    promise.cancel();                                        
	                }                                                            
	            `}).join(`
`),C=b.join(", "),k="Holder$"+x,T=`return function(tryCatch, errorObj, Promise, async) {    
	            'use strict';                                                    
	            function [TheName](fn) {                                         
	                [TheProperties]                                              
	                this.fn = fn;                                                
	                this.asyncNeeded = true;                                     
	                this.now = 0;                                                
	            }                                                                
	                                                                             
	            [TheName].prototype._callFunction = function(promise) {          
	                promise._pushContext();                                      
	                var ret = tryCatch(this.fn)([ThePassedArguments]);           
	                promise._popContext();                                       
	                if (ret === errorObj) {                                      
	                    promise._rejectCallback(ret.e, false);                   
	                } else {                                                     
	                    promise._resolveCallback(ret);                           
	                }                                                            
	            };                                                               
	                                                                             
	            [TheName].prototype.checkFulfillment = function(promise) {       
	                var now = ++this.now;                                        
	                if (now === [TheTotal]) {                                    
	                    if (this.asyncNeeded) {                                  
	                        async.invoke(this._callFunction, this, promise);     
	                    } else {                                                 
	                        this._callFunction(promise);                         
	                    }                                                        
	                                                                             
	                }                                                            
	            };                                                               
	                                                                             
	            [TheName].prototype._resultCancelled = function() {              
	                [CancellationCode]                                           
	            };                                                               
	                                                                             
	            return [TheName];                                                
	        }(tryCatch, errorObj, Promise, async);                               
	        `;return T=T.replace(/\[TheName\]/g,k).replace(/\[TheTotal\]/g,x).replace(/\[ThePassedArguments\]/g,C).replace(/\[TheProperties\]/g,N).replace(/\[CancellationCode\]/g,_),new Function("tryCatch","errorObj","Promise","async",T)(c,u,t,s)},v=[],p=[],m=[],g=0;g<8;++g)v.push(A(g+1)),p.push(h(g+1)),m.push(f(g+1));d=function(x){this._reject(x)}}t.join=function(){var x=arguments.length-1,b;if(x>0&&typeof arguments[x]=="function"&&(b=arguments[x],x<=8&&l)){var S=new t(r);S._captureStackTrace();for(var j=v[x-1],N=new j(b),_=p,C=0;C<x;++C){var k=n(arguments[C],S);if(k instanceof t){k=k._target();var T=k._bitField;(T&50397184)===0?(k._then(_[C],d,void 0,S,N),m[C](k,N),N.asyncNeeded=!1):(T&33554432)!==0?_[C].call(S,k._value(),N):(T&16777216)!==0?S._reject(k._reason()):S._cancel()}else _[C].call(S,k,N)}if(!S._isFateSealed()){if(N.asyncNeeded){var O=a();O!==null&&(N.fn=o.domainBind(O,N.fn))}S._setAsyncGuaranteed(),S._setOnCancel(N)}return S}for(var I=arguments.length,F=new Array(I),M=0;M<I;++M)F[M]=arguments[M];b&&F.pop();var S=new e(F).promise();return b!==void 0?S.spread(b):S}}),lU}var cU,pX;function Nke(){return pX||(pX=1,cU=function(t,e,n,r,s,a){var o=t._getDomain,l=Ti(),c=l.tryCatch,u=l.errorObj,d=t._async;function h(A,v,p,m){this.constructor$(A),this._promise._captureStackTrace();var g=o();this._callback=g===null?v:l.domainBind(g,v),this._preservedValues=m===s?new Array(this.length()):null,this._limit=p,this._inFlight=0,this._queue=[],d.invoke(this._asyncInit,this,void 0)}l.inherits(h,e),h.prototype._asyncInit=function(){this._init$(void 0,-2)},h.prototype._init=function(){},h.prototype._promiseFulfilled=function(A,v){var p=this._values,m=this.length(),g=this._preservedValues,x=this._limit;if(v<0){if(v=v*-1-1,p[v]=A,x>=1&&(this._inFlight--,this._drainQueue(),this._isResolved()))return!0}else{if(x>=1&&this._inFlight>=x)return p[v]=A,this._queue.push(v),!1;g!==null&&(g[v]=A);var b=this._promise,j=this._callback,N=b._boundValue();b._pushContext();var _=c(j).call(N,A,v,m),C=b._popContext();if(a.checkForgottenReturns(_,C,g!==null?"Promise.filter":"Promise.map",b),_===u)return this._reject(_.e),!0;var k=r(_,this._promise);if(k instanceof t){k=k._target();var T=k._bitField;if((T&50397184)===0)return x>=1&&this._inFlight++,p[v]=k,k._proxy(this,(v+1)*-1),!1;if((T&33554432)!==0)_=k._value();else return(T&16777216)!==0?(this._reject(k._reason()),!0):(this._cancel(),!0)}p[v]=_}var O=++this._totalResolved;return O>=m?(g!==null?this._filter(p,g):this._resolve(p),!0):!1},h.prototype._drainQueue=function(){for(var A=this._queue,v=this._limit,p=this._values;A.length>0&&this._inFlight<v;){if(this._isResolved())return;var m=A.pop();this._promiseFulfilled(p[m],m)}},h.prototype._filter=function(A,v){for(var p=v.length,m=new Array(p),g=0,x=0;x<p;++x)A[x]&&(m[g++]=v[x]);m.length=g,this._resolve(m)},h.prototype.preservedValues=function(){return this._preservedValues};function f(A,v,p,m){if(typeof v!="function")return n("expecting a function but got "+l.classString(v));var g=0;if(p!==void 0)if(typeof p=="object"&&p!==null){if(typeof p.concurrency!="number")return t.reject(new TypeError("'concurrency' must be a number but it is "+l.classString(p.concurrency)));g=p.concurrency}else return t.reject(new TypeError("options argument must be an object but it is "+l.classString(p)));return g=typeof g=="number"&&isFinite(g)&&g>=1?g:0,new h(A,v,g,m).promise()}t.prototype.map=function(A,v){return f(this,A,v,null)},t.map=function(A,v,p,m){return f(A,v,p,m)}}),cU}var uU,mX;function _ke(){if(mX)return uU;mX=1;var t=Object.create;if(t){var e=t(null),n=t(null);e[" size"]=n[" size"]=0}return uU=function(r){var s=Ti(),a=s.canEvaluate,o=s.isIdentifier,l,c;{var u=function(m){return new Function("ensureMethod",`                                    
	        return function(obj) {                                               
	            'use strict'                                                     
	            var len = this.length;                                           
	            ensureMethod(obj, 'methodName');                                 
	            switch(len) {                                                    
	                case 1: return obj.methodName(this[0]);                      
	                case 2: return obj.methodName(this[0], this[1]);             
	                case 3: return obj.methodName(this[0], this[1], this[2]);    
	                case 0: return obj.methodName();                             
	                default:                                                     
	                    return obj.methodName.apply(obj, this);                  
	            }                                                                
	        };                                                                   
	        `.replace(/methodName/g,m))(f)},d=function(m){return new Function("obj",`                                             
	        'use strict';                                                        
	        return obj.propertyName;                                             
	        `.replace("propertyName",m))},h=function(m,g,x){var b=x[m];if(typeof b!="function"){if(!o(m))return null;if(b=g(m),x[m]=b,x[" size"]++,x[" size"]>512){for(var j=Object.keys(x),N=0;N<256;++N)delete x[j[N]];x[" size"]=j.length-256}}return b};l=function(m){return h(m,u,e)},c=function(m){return h(m,d,n)}}function f(m,g){var x;if(m!=null&&(x=m[g]),typeof x!="function"){var b="Object "+s.classString(m)+" has no method '"+s.toString(g)+"'";throw new r.TypeError(b)}return x}function A(m){var g=this.pop(),x=f(m,g);return x.apply(m,this)}r.prototype.call=function(m){for(var g=arguments.length,x=new Array(Math.max(g-1,0)),b=1;b<g;++b)x[b-1]=arguments[b];if(a){var j=l(m);if(j!==null)return this._then(j,void 0,void 0,x,void 0)}return x.push(m),this._then(A,void 0,void 0,x,void 0)};function v(m){return m[this]}function p(m){var g=+this;return g<0&&(g=Math.max(0,g+m.length)),m[g]}r.prototype.get=function(m){var g=typeof m=="number",x;if(g)x=p;else if(a){var b=c(m);x=b!==null?b:v}else x=v;return this._then(x,void 0,void 0,m,void 0)}},uU}var dU,gX;function Cke(){return gX||(gX=1,dU=function(t,e,n,r,s,a){var o=Ti(),l=tx().TypeError,c=Ti().inherits,u=o.errorObj,d=o.tryCatch,h={};function f(b){setTimeout(function(){throw b},0)}function A(b){var j=n(b);return j!==b&&typeof b._isDisposable=="function"&&typeof b._getDisposer=="function"&&b._isDisposable()&&j._setDisposable(b._getDisposer()),j}function v(b,j){var N=0,_=b.length,C=new t(s);function k(){if(N>=_)return C._fulfill();var T=A(b[N++]);if(T instanceof t&&T._isDisposable()){try{T=n(T._getDisposer().tryDispose(j),b.promise)}catch(O){return f(O)}if(T instanceof t)return T._then(k,f,null,null,null)}k()}return k(),C}function p(b,j,N){this._data=b,this._promise=j,this._context=N}p.prototype.data=function(){return this._data},p.prototype.promise=function(){return this._promise},p.prototype.resource=function(){return this.promise().isFulfilled()?this.promise().value():h},p.prototype.tryDispose=function(b){var j=this.resource(),N=this._context;N!==void 0&&N._pushContext();var _=j!==h?this.doDispose(j,b):null;return N!==void 0&&N._popContext(),this._promise._unsetDisposable(),this._data=null,_},p.isDisposer=function(b){return b!=null&&typeof b.resource=="function"&&typeof b.tryDispose=="function"};function m(b,j,N){this.constructor$(b,j,N)}c(m,p),m.prototype.doDispose=function(b,j){var N=this.data();return N.call(b,b,j)};function g(b){return p.isDisposer(b)?(this.resources[this.index]._setDisposable(b),b.promise()):b}function x(b){this.length=b,this.promise=null,this[b-1]=null}x.prototype._resultCancelled=function(){for(var b=this.length,j=0;j<b;++j){var N=this[j];N instanceof t&&N.cancel()}},t.using=function(){var b=arguments.length;if(b<2)return e("you must pass at least 2 arguments to Promise.using");var j=arguments[b-1];if(typeof j!="function")return e("expecting a function but got "+o.classString(j));var N,_=!0;b===2&&Array.isArray(arguments[0])?(N=arguments[0],b=N.length,_=!1):(N=arguments,b--);for(var C=new x(b),k=0;k<b;++k){var T=N[k];if(p.isDisposer(T)){var O=T;T=T.promise(),T._setDisposable(O)}else{var I=n(T);I instanceof t&&(T=I._then(g,null,null,{resources:C,index:k},void 0))}C[k]=T}for(var F=new Array(C.length),k=0;k<F.length;++k)F[k]=t.resolve(C[k]).reflect();var M=t.all(F).then(function(q){for(var U=0;U<q.length;++U){var L=q[U];if(L.isRejected())return u.e=L.error(),u;if(!L.isFulfilled()){M.cancel();return}q[U]=L.value()}S._pushContext(),j=d(j);var z=_?j.apply(void 0,q):j(q),$=S._popContext();return a.checkForgottenReturns(z,$,"Promise.using",S),z}),S=M.lastly(function(){var q=new t.PromiseInspection(M);return v(C,q)});return C.promise=S,S._setOnCancel(C),S},t.prototype._setDisposable=function(b){this._bitField=this._bitField|131072,this._disposer=b},t.prototype._isDisposable=function(){return(this._bitField&131072)>0},t.prototype._getDisposer=function(){return this._disposer},t.prototype._unsetDisposable=function(){this._bitField=this._bitField&-131073,this._disposer=void 0},t.prototype.disposer=function(b){if(typeof b=="function")return new m(b,this,r());throw new l}}),dU}var hU,xX;function Ske(){return xX||(xX=1,hU=function(t,e,n){var r=Ti(),s=t.TimeoutError;function a(h){this.handle=h}a.prototype._resultCancelled=function(){clearTimeout(this.handle)};var o=function(h){return l(+this).thenReturn(h)},l=t.delay=function(h,f){var A,v;return f!==void 0?(A=t.resolve(f)._then(o,null,null,h,void 0),n.cancellation()&&f instanceof t&&A._setOnCancel(f)):(A=new t(e),v=setTimeout(function(){A._fulfill()},+h),n.cancellation()&&A._setOnCancel(new a(v)),A._captureStackTrace()),A._setAsyncGuaranteed(),A};t.prototype.delay=function(h){return l(h,this)};var c=function(h,f,A){var v;typeof f!="string"?f instanceof Error?v=f:v=new s("operation timed out"):v=new s(f),r.markAsOriginatingFromRejection(v),h._attachExtraTrace(v),h._reject(v),A!=null&&A.cancel()};function u(h){return clearTimeout(this.handle),h}function d(h){throw clearTimeout(this.handle),h}t.prototype.timeout=function(h,f){h=+h;var A,v,p=new a(setTimeout(function(){A.isPending()&&c(A,f,v)},h));return n.cancellation()?(v=this.then(),A=v._then(u,d,void 0,p,void 0),A._setOnCancel(p)):A=this._then(u,d,void 0,p,void 0),A}}),hU}var fU,vX;function Eke(){return vX||(vX=1,fU=function(t,e,n,r,s,a){var o=tx(),l=o.TypeError,c=Ti(),u=c.errorObj,d=c.tryCatch,h=[];function f(v,p,m){for(var g=0;g<p.length;++g){m._pushContext();var x=d(p[g])(v);if(m._popContext(),x===u){m._pushContext();var b=t.reject(u.e);return m._popContext(),b}var j=r(x,m);if(j instanceof t)return j}return null}function A(v,p,m,g){if(a.cancellation()){var x=new t(n),b=this._finallyPromise=new t(n);this._promise=x.lastly(function(){return b}),x._captureStackTrace(),x._setOnCancel(this)}else{var j=this._promise=new t(n);j._captureStackTrace()}this._stack=g,this._generatorFunction=v,this._receiver=p,this._generator=void 0,this._yieldHandlers=typeof m=="function"?[m].concat(h):h,this._yieldedPromise=null,this._cancellationPhase=!1}c.inherits(A,s),A.prototype._isResolved=function(){return this._promise===null},A.prototype._cleanup=function(){this._promise=this._generator=null,a.cancellation()&&this._finallyPromise!==null&&(this._finallyPromise._fulfill(),this._finallyPromise=null)},A.prototype._promiseCancelled=function(){if(!this._isResolved()){var v=typeof this._generator.return<"u",p;if(v)this._promise._pushContext(),p=d(this._generator.return).call(this._generator,void 0),this._promise._popContext();else{var m=new t.CancellationError("generator .return() sentinel");t.coroutine.returnSentinel=m,this._promise._attachExtraTrace(m),this._promise._pushContext(),p=d(this._generator.throw).call(this._generator,m),this._promise._popContext()}this._cancellationPhase=!0,this._yieldedPromise=null,this._continue(p)}},A.prototype._promiseFulfilled=function(v){this._yieldedPromise=null,this._promise._pushContext();var p=d(this._generator.next).call(this._generator,v);this._promise._popContext(),this._continue(p)},A.prototype._promiseRejected=function(v){this._yieldedPromise=null,this._promise._attachExtraTrace(v),this._promise._pushContext();var p=d(this._generator.throw).call(this._generator,v);this._promise._popContext(),this._continue(p)},A.prototype._resultCancelled=function(){if(this._yieldedPromise instanceof t){var v=this._yieldedPromise;this._yieldedPromise=null,v.cancel()}},A.prototype.promise=function(){return this._promise},A.prototype._run=function(){this._generator=this._generatorFunction.call(this._receiver),this._receiver=this._generatorFunction=void 0,this._promiseFulfilled(void 0)},A.prototype._continue=function(v){var p=this._promise;if(v===u)return this._cleanup(),this._cancellationPhase?p.cancel():p._rejectCallback(v.e,!1);var m=v.value;if(v.done===!0)return this._cleanup(),this._cancellationPhase?p.cancel():p._resolveCallback(m);var g=r(m,this._promise);if(!(g instanceof t)&&(g=f(g,this._yieldHandlers,this._promise),g===null)){this._promiseRejected(new l(`A value %s was yielded that could not be treated as a promise

    See http://goo.gl/MqrFmX

`.replace("%s",m)+`From coroutine:
`+this._stack.split(`
`).slice(1,-7).join(`
`)));return}g=g._target();var x=g._bitField;(x&50397184)===0?(this._yieldedPromise=g,g._proxy(this,null)):(x&33554432)!==0?t._async.invoke(this._promiseFulfilled,this,g._value()):(x&16777216)!==0?t._async.invoke(this._promiseRejected,this,g._reason()):this._promiseCancelled()},t.coroutine=function(v,p){if(typeof v!="function")throw new l(`generatorFunction must be a function

    See http://goo.gl/MqrFmX
`);var m=Object(p).yieldHandler,g=A,x=new Error().stack;return function(){var b=v.apply(this,arguments),j=new g(void 0,void 0,m,x),N=j.promise();return j._generator=b,j._promiseFulfilled(void 0),N}},t.coroutine.addYieldHandler=function(v){if(typeof v!="function")throw new l("expecting a function but got "+c.classString(v));h.push(v)},t.spawn=function(v){if(a.deprecated("Promise.spawn()","Promise.coroutine()"),typeof v!="function")return e(`generatorFunction must be a function

    See http://goo.gl/MqrFmX
`);var p=new A(v,this),m=p.promise();return p._run(t.spawn),m}}),fU}var AU,yX;function Bke(){return yX||(yX=1,AU=function(t){var e=Ti(),n=t._async,r=e.tryCatch,s=e.errorObj;function a(c,u){var d=this;if(!e.isArray(c))return o.call(d,c,u);var h=r(u).apply(d._boundValue(),[null].concat(c));h===s&&n.throwLater(h.e)}function o(c,u){var d=this,h=d._boundValue(),f=c===void 0?r(u).call(h,null):r(u).call(h,null,c);f===s&&n.throwLater(f.e)}function l(c,u){var d=this;if(!c){var h=new Error(c+"");h.cause=c,c=h}var f=r(u).call(d._boundValue(),c);f===s&&n.throwLater(f.e)}t.prototype.asCallback=t.prototype.nodeify=function(c,u){if(typeof c=="function"){var d=o;u!==void 0&&Object(u).spread&&(d=a),this._then(d,l,void 0,this,c)}return this}}),AU}var pU,bX;function Dke(){return bX||(bX=1,pU=function(t,e){var n={},r=Ti(),s=Ape(),a=r.withAppended,o=r.maybeWrapAsError,l=r.canEvaluate,c=tx().TypeError,u="Async",d={__isPromisified__:!0},h=["arity","length","name","arguments","caller","callee","prototype","__isPromisified__"],f=new RegExp("^(?:"+h.join("|")+")$"),A=function(M){return r.isIdentifier(M)&&M.charAt(0)!=="_"&&M!=="constructor"};function v(M){return!f.test(M)}function p(M){try{return M.__isPromisified__===!0}catch{return!1}}function m(M,S,q){var U=r.getDataPropertyOrDefault(M,S+q,d);return U?p(U):!1}function g(M,S,q){for(var U=0;U<M.length;U+=2){var L=M[U];if(q.test(L)){for(var z=L.replace(q,""),$=0;$<M.length;$+=2)if(M[$]===z)throw new c(`Cannot promisify an API that has normal methods with '%s'-suffix

    See http://goo.gl/MqrFmX
`.replace("%s",S))}}}function x(M,S,q,U){for(var L=r.inheritedDataKeys(M),z=[],$=0;$<L.length;++$){var K=L[$],V=M[K],H=U===A?!0:A(K);typeof V=="function"&&!p(V)&&!m(M,K,S)&&U(K,V,M,H)&&z.push(K,V)}return g(z,S,q),z}var b=function(M){return M.replace(/([$])/,"\\$")},j;{var N=function(M){for(var S=[M],q=Math.max(0,M-1-3),U=M-1;U>=q;--U)S.push(U);for(var U=M+1;U<=3;++U)S.push(U);return S},_=function(M){return r.filledRange(M,"_arg","")},C=function(M){return r.filledRange(Math.max(M,3),"_arg","")},k=function(M){return typeof M.length=="number"?Math.max(Math.min(M.length,1024),0):0};j=function(M,S,q,U,L,z){var $=Math.max(0,k(U)-1),K=N($),V=typeof M=="string"||S===n;function H(ie){var se=_(ie).join(", "),Ae=ie>0?", ":"",he;return V?he=`ret = callback.call(this, {{args}}, nodeback); break;
`:he=S===void 0?`ret = callback({{args}}, nodeback); break;
`:`ret = callback.call(receiver, {{args}}, nodeback); break;
`,he.replace("{{args}}",se).replace(", ",Ae)}function W(){for(var ie="",se=0;se<K.length;++se)ie+="case "+K[se]+":"+H(K[se]);return ie+=`                                                             
	        default:                                                             
	            var args = new Array(len + 1);                                   
	            var i = 0;                                                       
	            for (var i = 0; i < len; ++i) {                                  
	               args[i] = arguments[i];                                       
	            }                                                                
	            args[i] = nodeback;                                              
	            [CodeForCall]                                                    
	            break;                                                           
	        `.replace("[CodeForCall]",V?`ret = callback.apply(this, args);
`:`ret = callback.apply(receiver, args);
`),ie}var Y=typeof M=="string"?"this != null ? this['"+M+"'] : fn":"fn",ee=`'use strict';                                                
	        var ret = function (Parameters) {                                    
	            'use strict';                                                    
	            var len = arguments.length;                                      
	            var promise = new Promise(INTERNAL);                             
	            promise._captureStackTrace();                                    
	            var nodeback = nodebackForPromise(promise, `+z+`);   
	            var ret;                                                         
	            var callback = tryCatch([GetFunctionCode]);                      
	            switch(len) {                                                    
	                [CodeForSwitchCase]                                          
	            }                                                                
	            if (ret === errorObj) {                                          
	                promise._rejectCallback(maybeWrapAsError(ret.e), true, true);
	            }                                                                
	            if (!promise._isFateSealed()) promise._setAsyncGuaranteed();     
	            return promise;                                                  
	        };                                                                   
	        notEnumerableProp(ret, '__isPromisified__', true);                   
	        return ret;                                                          
	    `.replace("[CodeForSwitchCase]",W()).replace("[GetFunctionCode]",Y);return ee=ee.replace("Parameters",C($)),new Function("Promise","fn","receiver","withAppended","maybeWrapAsError","nodebackForPromise","tryCatch","errorObj","notEnumerableProp","INTERNAL",ee)(t,U,S,a,o,s,r.tryCatch,r.errorObj,r.notEnumerableProp,e)}}function T(M,S,q,U,L,z){var $=function(){return this}(),K=M;typeof K=="string"&&(M=U);function V(){var H=S;S===n&&(H=this);var W=new t(e);W._captureStackTrace();var Y=typeof K=="string"&&this!==$?this[K]:M,ee=s(W,z);try{Y.apply(H,a(arguments,ee))}catch(ie){W._rejectCallback(o(ie),!0,!0)}return W._isFateSealed()||W._setAsyncGuaranteed(),W}return r.notEnumerableProp(V,"__isPromisified__",!0),V}var O=l?j:T;function I(M,S,q,U,L){for(var z=new RegExp(b(S)+"$"),$=x(M,S,z,q),K=0,V=$.length;K<V;K+=2){var H=$[K],W=$[K+1],Y=H+S;if(U===O)M[Y]=O(H,n,H,W,S,L);else{var ee=U(W,function(){return O(H,n,H,W,S,L)});r.notEnumerableProp(ee,"__isPromisified__",!0),M[Y]=ee}}return r.toFastProperties(M),M}function F(M,S,q){return O(M,S,void 0,M,null,q)}t.promisify=function(M,S){if(typeof M!="function")throw new c("expecting a function but got "+r.classString(M));if(p(M))return M;S=Object(S);var q=S.context===void 0?n:S.context,U=!!S.multiArgs,L=F(M,q,U);return r.copyDescriptors(M,L,v),L},t.promisifyAll=function(M,S){if(typeof M!="function"&&typeof M!="object")throw new c(`the target of promisifyAll must be an object or a function

    See http://goo.gl/MqrFmX
`);S=Object(S);var q=!!S.multiArgs,U=S.suffix;typeof U!="string"&&(U=u);var L=S.filter;typeof L!="function"&&(L=A);var z=S.promisifier;if(typeof z!="function"&&(z=O),!r.isIdentifier(U))throw new RangeError(`suffix must be a valid identifier

    See http://goo.gl/MqrFmX
`);for(var $=r.inheritedDataKeys(M),K=0;K<$.length;++K){var V=M[$[K]];$[K]!=="constructor"&&r.isClass(V)&&(I(V.prototype,U,L,z,q),I(V,U,L,z,q))}return I(M,U,L,z,q)}}),pU}var mU,wX;function Tke(){return wX||(wX=1,mU=function(t,e,n,r){var s=Ti(),a=s.isObject,o=$2(),l;typeof Map=="function"&&(l=Map);var c=function(){var f=0,A=0;function v(p,m){this[f]=p,this[f+A]=m,f++}return function(m){A=m.size,f=0;var g=new Array(m.size*2);return m.forEach(v,g),g}}(),u=function(f){for(var A=new l,v=f.length/2|0,p=0;p<v;++p){var m=f[v+p],g=f[p];A.set(m,g)}return A};function d(f){var A=!1,v;if(l!==void 0&&f instanceof l)v=c(f),A=!0;else{var p=o.keys(f),m=p.length;v=new Array(m*2);for(var g=0;g<m;++g){var x=p[g];v[g]=f[x],v[g+m]=x}}this.constructor$(v),this._isMap=A,this._init$(void 0,-3)}s.inherits(d,e),d.prototype._init=function(){},d.prototype._promiseFulfilled=function(f,A){this._values[A]=f;var v=++this._totalResolved;if(v>=this._length){var p;if(this._isMap)p=u(this._values);else{p={};for(var m=this.length(),g=0,x=this.length();g<x;++g)p[this._values[g+m]]=this._values[g]}return this._resolve(p),!0}return!1},d.prototype.shouldCopyValues=function(){return!1},d.prototype.getActualLength=function(f){return f>>1};function h(f){var A,v=n(f);if(a(v))v instanceof t?A=v._then(t.props,void 0,void 0,void 0,void 0):A=new d(v).promise();else return r(`cannot await properties of a non-object

    See http://goo.gl/MqrFmX
`);return v instanceof t&&A._propagateFrom(v,2),A}t.prototype.props=function(){return h(this)},t.props=function(f){return h(f)}}),mU}var gU,jX;function kke(){return jX||(jX=1,gU=function(t,e,n,r){var s=Ti(),a=function(l){return l.then(function(c){return o(c,l)})};function o(l,c){var u=n(l);if(u instanceof t)return a(u);if(l=s.asArray(l),l===null)return r("expecting an array or an iterable object but got "+s.classString(l));var d=new t(e);c!==void 0&&d._propagateFrom(c,3);for(var h=d._fulfill,f=d._reject,A=0,v=l.length;A<v;++A){var p=l[A];p===void 0&&!(A in l)||t.cast(p)._then(h,f,void 0,d,null)}return d}t.race=function(l){return o(l,void 0)},t.prototype.race=function(){return o(this,void 0)}}),gU}var xU,NX;function Fke(){return NX||(NX=1,xU=function(t,e,n,r,s,a){var o=t._getDomain,l=Ti(),c=l.tryCatch;function u(v,p,m,g){this.constructor$(v);var x=o();this._fn=x===null?p:l.domainBind(x,p),m!==void 0&&(m=t.resolve(m),m._attachCancellationCallback(this)),this._initialValue=m,this._currentCancellable=null,g===s?this._eachValues=Array(this._length):g===0?this._eachValues=null:this._eachValues=void 0,this._promise._captureStackTrace(),this._init$(void 0,-5)}l.inherits(u,e),u.prototype._gotAccum=function(v){this._eachValues!==void 0&&this._eachValues!==null&&v!==s&&this._eachValues.push(v)},u.prototype._eachComplete=function(v){return this._eachValues!==null&&this._eachValues.push(v),this._eachValues},u.prototype._init=function(){},u.prototype._resolveEmptyArray=function(){this._resolve(this._eachValues!==void 0?this._eachValues:this._initialValue)},u.prototype.shouldCopyValues=function(){return!1},u.prototype._resolve=function(v){this._promise._resolveCallback(v),this._values=null},u.prototype._resultCancelled=function(v){if(v===this._initialValue)return this._cancel();this._isResolved()||(this._resultCancelled$(),this._currentCancellable instanceof t&&this._currentCancellable.cancel(),this._initialValue instanceof t&&this._initialValue.cancel())},u.prototype._iterate=function(v){this._values=v;var p,m,g=v.length;if(this._initialValue!==void 0?(p=this._initialValue,m=0):(p=t.resolve(v[0]),m=1),this._currentCancellable=p,!p.isRejected())for(;m<g;++m){var x={accum:null,value:v[m],index:m,length:g,array:this};p=p._then(f,void 0,void 0,x,void 0)}this._eachValues!==void 0&&(p=p._then(this._eachComplete,void 0,void 0,this,void 0)),p._then(d,d,void 0,p,this)},t.prototype.reduce=function(v,p){return h(this,v,p,null)},t.reduce=function(v,p,m,g){return h(v,p,m,g)};function d(v,p){this.isFulfilled()?p._resolve(v):p._reject(v)}function h(v,p,m,g){if(typeof p!="function")return n("expecting a function but got "+l.classString(p));var x=new u(v,p,m,g);return x.promise()}function f(v){this.accum=v,this.array._gotAccum(v);var p=r(this.value,this.array._promise);return p instanceof t?(this.array._currentCancellable=p,p._then(A,void 0,void 0,this,void 0)):A.call(this,p)}function A(v){var p=this.array,m=p._promise,g=c(p._fn);m._pushContext();var x;p._eachValues!==void 0?x=g.call(m._boundValue(),v,this.index,this.length):x=g.call(m._boundValue(),this.accum,v,this.index,this.length),x instanceof t&&(p._currentCancellable=x);var b=m._popContext();return a.checkForgottenReturns(x,b,p._eachValues!==void 0?"Promise.each":"Promise.reduce",m),x}}),xU}var vU,_X;function Pke(){return _X||(_X=1,vU=function(t,e,n){var r=t.PromiseInspection,s=Ti();function a(o){this.constructor$(o)}s.inherits(a,e),a.prototype._promiseResolved=function(o,l){this._values[o]=l;var c=++this._totalResolved;return c>=this._length?(this._resolve(this._values),!0):!1},a.prototype._promiseFulfilled=function(o,l){var c=new r;return c._bitField=33554432,c._settledValueField=o,this._promiseResolved(l,c)},a.prototype._promiseRejected=function(o,l){var c=new r;return c._bitField=16777216,c._settledValueField=o,this._promiseResolved(l,c)},t.settle=function(o){return n.deprecated(".settle()",".reflect()"),new a(o).promise()},t.prototype.settle=function(){return t.settle(this)}}),vU}var yU,CX;function Uke(){return CX||(CX=1,yU=function(t,e,n){var r=Ti(),s=tx().RangeError,a=tx().AggregateError,o=r.isArray,l={};function c(d){this.constructor$(d),this._howMany=0,this._unwrap=!1,this._initialized=!1}r.inherits(c,e),c.prototype._init=function(){if(this._initialized){if(this._howMany===0){this._resolve([]);return}this._init$(void 0,-5);var d=o(this._values);!this._isResolved()&&d&&this._howMany>this._canPossiblyFulfill()&&this._reject(this._getRangeError(this.length()))}},c.prototype.init=function(){this._initialized=!0,this._init()},c.prototype.setUnwrap=function(){this._unwrap=!0},c.prototype.howMany=function(){return this._howMany},c.prototype.setHowMany=function(d){this._howMany=d},c.prototype._promiseFulfilled=function(d){return this._addFulfilled(d),this._fulfilled()===this.howMany()?(this._values.length=this.howMany(),this.howMany()===1&&this._unwrap?this._resolve(this._values[0]):this._resolve(this._values),!0):!1},c.prototype._promiseRejected=function(d){return this._addRejected(d),this._checkOutcome()},c.prototype._promiseCancelled=function(){return this._values instanceof t||this._values==null?this._cancel():(this._addRejected(l),this._checkOutcome())},c.prototype._checkOutcome=function(){if(this.howMany()>this._canPossiblyFulfill()){for(var d=new a,h=this.length();h<this._values.length;++h)this._values[h]!==l&&d.push(this._values[h]);return d.length>0?this._reject(d):this._cancel(),!0}return!1},c.prototype._fulfilled=function(){return this._totalResolved},c.prototype._rejected=function(){return this._values.length-this.length()},c.prototype._addRejected=function(d){this._values.push(d)},c.prototype._addFulfilled=function(d){this._values[this._totalResolved++]=d},c.prototype._canPossiblyFulfill=function(){return this.length()-this._rejected()},c.prototype._getRangeError=function(d){var h="Input array must contain at least "+this._howMany+" items but contains only "+d+" items";return new s(h)},c.prototype._resolveEmptyArray=function(){this._reject(this._getRangeError(0))};function u(d,h){if((h|0)!==h||h<0)return n(`expecting a positive integer

    See http://goo.gl/MqrFmX
`);var f=new c(d),A=f.promise();return f.setHowMany(h),f.init(),A}t.some=function(d,h){return u(d,h)},t.prototype.some=function(d){return u(this,d)},t._SomePromiseArray=c}),yU}var bU,SX;function Ike(){return SX||(SX=1,bU=function(t,e){var n=t.map;t.prototype.filter=function(r,s){return n(this,r,s,e)},t.filter=function(r,s,a){return n(r,s,a,e)}}),bU}var wU,EX;function Oke(){return EX||(EX=1,wU=function(t,e){var n=t.reduce,r=t.all;function s(){return r(this)}function a(o,l){return n(o,l,e,e)}t.prototype.each=function(o){return n(this,o,e,0)._then(s,void 0,void 0,this,void 0)},t.prototype.mapSeries=function(o){return n(this,o,e,e)},t.each=function(o,l){return n(o,l,e,0)._then(s,void 0,void 0,o,void 0)},t.mapSeries=a}),wU}var jU,BX;function Mke(){return BX||(BX=1,jU=function(t){var e=t._SomePromiseArray;function n(r){var s=new e(r),a=s.promise();return s.setHowMany(1),s.setUnwrap(),s.init(),a}t.any=function(r){return n(r)},t.prototype.any=function(){return n(this)}}),jU}var DX;function Lke(){return DX||(DX=1,function(t){t.exports=function(){var e=function(){return new f(`circular promise resolution chain

    See http://goo.gl/MqrFmX
`)},n=function(){return new F.PromiseInspection(this._target())},r=function(U){return F.reject(new f(U))};function s(){}var a={},o=Ti(),l;o.isNode?l=function(){var U=process.domain;return U===void 0&&(U=null),U}:l=function(){return null},o.notEnumerableProp(F,"_getDomain",l);var c=$2(),u=dke(),d=new u;c.defineProperty(F,"_async",{value:d});var h=tx(),f=F.TypeError=h.TypeError;F.RangeError=h.RangeError;var A=F.CancellationError=h.CancellationError;F.TimeoutError=h.TimeoutError,F.OperationalError=h.OperationalError,F.RejectionError=h.OperationalError,F.AggregateError=h.AggregateError;var v=function(){},p={},m={},g=hke()(F,v),x=fke()(F,v,g,r,s),b=Ake()(F),j=b.create,N=pke()(F,b);N.CapturedTrace;var _=mke()(F,g),C=gke()(m),k=Ape(),T=o.errorObj,O=o.tryCatch;function I(U,L){if(typeof L!="function")throw new f("expecting a function but got "+o.classString(L));if(U.constructor!==F)throw new f(`the promise constructor cannot be invoked directly

    See http://goo.gl/MqrFmX
`)}function F(U){this._bitField=0,this._fulfillmentHandler0=void 0,this._rejectionHandler0=void 0,this._promise0=void 0,this._receiver0=void 0,U!==v&&(I(this,U),this._resolveFromExecutor(U)),this._promiseCreated(),this._fireEvent("promiseCreated",this)}F.prototype.toString=function(){return"[object Promise]"},F.prototype.caught=F.prototype.catch=function(U){var L=arguments.length;if(L>1){var z=new Array(L-1),$=0,K;for(K=0;K<L-1;++K){var V=arguments[K];if(o.isObject(V))z[$++]=V;else return r("expecting an object but got A catch statement predicate "+o.classString(V))}return z.length=$,U=arguments[K],this.then(void 0,C(z,U,this))}return this.then(void 0,U)},F.prototype.reflect=function(){return this._then(n,n,void 0,this,void 0)},F.prototype.then=function(U,L){if(N.warnings()&&arguments.length>0&&typeof U!="function"&&typeof L!="function"){var z=".then() only accepts functions but was passed: "+o.classString(U);arguments.length>1&&(z+=", "+o.classString(L)),this._warn(z)}return this._then(U,L,void 0,void 0,void 0)},F.prototype.done=function(U,L){var z=this._then(U,L,void 0,void 0,void 0);z._setIsFinal()},F.prototype.spread=function(U){return typeof U!="function"?r("expecting a function but got "+o.classString(U)):this.all()._then(U,void 0,void 0,p,void 0)},F.prototype.toJSON=function(){var U={isFulfilled:!1,isRejected:!1,fulfillmentValue:void 0,rejectionReason:void 0};return this.isFulfilled()?(U.fulfillmentValue=this.value(),U.isFulfilled=!0):this.isRejected()&&(U.rejectionReason=this.reason(),U.isRejected=!0),U},F.prototype.all=function(){return arguments.length>0&&this._warn(".all() was passed arguments but it does not take any"),new x(this).promise()},F.prototype.error=function(U){return this.caught(o.originatesFromRejection,U)},F.getNewLibraryCopy=t.exports,F.is=function(U){return U instanceof F},F.fromNode=F.fromCallback=function(U){var L=new F(v);L._captureStackTrace();var z=arguments.length>1?!!Object(arguments[1]).multiArgs:!1,$=O(U)(k(L,z));return $===T&&L._rejectCallback($.e,!0),L._isFateSealed()||L._setAsyncGuaranteed(),L},F.all=function(U){return new x(U).promise()},F.cast=function(U){var L=g(U);return L instanceof F||(L=new F(v),L._captureStackTrace(),L._setFulfilled(),L._rejectionHandler0=U),L},F.resolve=F.fulfilled=F.cast,F.reject=F.rejected=function(U){var L=new F(v);return L._captureStackTrace(),L._rejectCallback(U,!0),L},F.setScheduler=function(U){if(typeof U!="function")throw new f("expecting a function but got "+o.classString(U));return d.setScheduler(U)},F.prototype._then=function(U,L,z,$,K){var V=K!==void 0,H=V?K:new F(v),W=this._target(),Y=W._bitField;V||(H._propagateFrom(this,3),H._captureStackTrace(),$===void 0&&(this._bitField&2097152)!==0&&((Y&50397184)!==0?$=this._boundValue():$=W===this?void 0:this._boundTo),this._fireEvent("promiseChained",this,H));var ee=l();if((Y&50397184)!==0){var ie,se,Ae=W._settlePromiseCtx;(Y&33554432)!==0?(se=W._rejectionHandler0,ie=U):(Y&16777216)!==0?(se=W._fulfillmentHandler0,ie=L,W._unsetRejectionIsUnhandled()):(Ae=W._settlePromiseLateCancellationObserver,se=new A("late cancellation observer"),W._attachExtraTrace(se),ie=L),d.invoke(Ae,W,{handler:ee===null?ie:typeof ie=="function"&&o.domainBind(ee,ie),promise:H,receiver:$,value:se})}else W._addCallbacks(U,L,H,$,ee);return H},F.prototype._length=function(){return this._bitField&65535},F.prototype._isFateSealed=function(){return(this._bitField&117506048)!==0},F.prototype._isFollowing=function(){return(this._bitField&67108864)===67108864},F.prototype._setLength=function(U){this._bitField=this._bitField&-65536|U&65535},F.prototype._setFulfilled=function(){this._bitField=this._bitField|33554432,this._fireEvent("promiseFulfilled",this)},F.prototype._setRejected=function(){this._bitField=this._bitField|16777216,this._fireEvent("promiseRejected",this)},F.prototype._setFollowing=function(){this._bitField=this._bitField|67108864,this._fireEvent("promiseResolved",this)},F.prototype._setIsFinal=function(){this._bitField=this._bitField|4194304},F.prototype._isFinal=function(){return(this._bitField&4194304)>0},F.prototype._unsetCancelled=function(){this._bitField=this._bitField&-65537},F.prototype._setCancelled=function(){this._bitField=this._bitField|65536,this._fireEvent("promiseCancelled",this)},F.prototype._setWillBeCancelled=function(){this._bitField=this._bitField|8388608},F.prototype._setAsyncGuaranteed=function(){d.hasCustomScheduler()||(this._bitField=this._bitField|134217728)},F.prototype._receiverAt=function(U){var L=U===0?this._receiver0:this[U*4-4+3];if(L!==a)return L===void 0&&this._isBound()?this._boundValue():L},F.prototype._promiseAt=function(U){return this[U*4-4+2]},F.prototype._fulfillmentHandlerAt=function(U){return this[U*4-4+0]},F.prototype._rejectionHandlerAt=function(U){return this[U*4-4+1]},F.prototype._boundValue=function(){},F.prototype._migrateCallback0=function(U){U._bitField;var L=U._fulfillmentHandler0,z=U._rejectionHandler0,$=U._promise0,K=U._receiverAt(0);K===void 0&&(K=a),this._addCallbacks(L,z,$,K,null)},F.prototype._migrateCallbackAt=function(U,L){var z=U._fulfillmentHandlerAt(L),$=U._rejectionHandlerAt(L),K=U._promiseAt(L),V=U._receiverAt(L);V===void 0&&(V=a),this._addCallbacks(z,$,K,V,null)},F.prototype._addCallbacks=function(U,L,z,$,K){var V=this._length();if(V>=65531&&(V=0,this._setLength(0)),V===0)this._promise0=z,this._receiver0=$,typeof U=="function"&&(this._fulfillmentHandler0=K===null?U:o.domainBind(K,U)),typeof L=="function"&&(this._rejectionHandler0=K===null?L:o.domainBind(K,L));else{var H=V*4-4;this[H+2]=z,this[H+3]=$,typeof U=="function"&&(this[H+0]=K===null?U:o.domainBind(K,U)),typeof L=="function"&&(this[H+1]=K===null?L:o.domainBind(K,L))}return this._setLength(V+1),V},F.prototype._proxy=function(U,L){this._addCallbacks(void 0,void 0,L,U,null)},F.prototype._resolveCallback=function(U,L){if((this._bitField&117506048)===0){if(U===this)return this._rejectCallback(e(),!1);var z=g(U,this);if(!(z instanceof F))return this._fulfill(U);L&&this._propagateFrom(z,2);var $=z._target();if($===this){this._reject(e());return}var K=$._bitField;if((K&50397184)===0){var V=this._length();V>0&&$._migrateCallback0(this);for(var H=1;H<V;++H)$._migrateCallbackAt(this,H);this._setFollowing(),this._setLength(0),this._setFollowee($)}else if((K&33554432)!==0)this._fulfill($._value());else if((K&16777216)!==0)this._reject($._reason());else{var W=new A("late cancellation observer");$._attachExtraTrace(W),this._reject(W)}}},F.prototype._rejectCallback=function(U,L,z){var $=o.ensureErrorObject(U),K=$===U;if(!K&&!z&&N.warnings()){var V="a promise was rejected with a non-error: "+o.classString(U);this._warn(V,!0)}this._attachExtraTrace($,L?K:!1),this._reject(U)},F.prototype._resolveFromExecutor=function(U){var L=this;this._captureStackTrace(),this._pushContext();var z=!0,$=this._execute(U,function(K){L._resolveCallback(K)},function(K){L._rejectCallback(K,z)});z=!1,this._popContext(),$!==void 0&&L._rejectCallback($,!0)},F.prototype._settlePromiseFromHandler=function(U,L,z,$){var K=$._bitField;if((K&65536)===0){$._pushContext();var V;L===p?!z||typeof z.length!="number"?(V=T,V.e=new f("cannot .spread() a non-array: "+o.classString(z))):V=O(U).apply(this._boundValue(),z):V=O(U).call(L,z);var H=$._popContext();K=$._bitField,(K&65536)===0&&(V===m?$._reject(z):V===T?$._rejectCallback(V.e,!1):(N.checkForgottenReturns(V,H,"",$,this),$._resolveCallback(V)))}},F.prototype._target=function(){for(var U=this;U._isFollowing();)U=U._followee();return U},F.prototype._followee=function(){return this._rejectionHandler0},F.prototype._setFollowee=function(U){this._rejectionHandler0=U},F.prototype._settlePromise=function(U,L,z,$){var K=U instanceof F,V=this._bitField,H=(V&134217728)!==0;(V&65536)!==0?(K&&U._invokeInternalOnCancel(),z instanceof _&&z.isFinallyHandler()?(z.cancelPromise=U,O(L).call(z,$)===T&&U._reject(T.e)):L===n?U._fulfill(n.call(z)):z instanceof s?z._promiseCancelled(U):K||U instanceof x?U._cancel():z.cancel()):typeof L=="function"?K?(H&&U._setAsyncGuaranteed(),this._settlePromiseFromHandler(L,z,$,U)):L.call(z,$,U):z instanceof s?z._isResolved()||((V&33554432)!==0?z._promiseFulfilled($,U):z._promiseRejected($,U)):K&&(H&&U._setAsyncGuaranteed(),(V&33554432)!==0?U._fulfill($):U._reject($))},F.prototype._settlePromiseLateCancellationObserver=function(U){var L=U.handler,z=U.promise,$=U.receiver,K=U.value;typeof L=="function"?z instanceof F?this._settlePromiseFromHandler(L,$,K,z):L.call($,K,z):z instanceof F&&z._reject(K)},F.prototype._settlePromiseCtx=function(U){this._settlePromise(U.promise,U.handler,U.receiver,U.value)},F.prototype._settlePromise0=function(U,L,z){var $=this._promise0,K=this._receiverAt(0);this._promise0=void 0,this._receiver0=void 0,this._settlePromise($,U,K,L)},F.prototype._clearCallbackDataAtIndex=function(U){var L=U*4-4;this[L+2]=this[L+3]=this[L+0]=this[L+1]=void 0},F.prototype._fulfill=function(U){var L=this._bitField;if(!((L&117506048)>>>16)){if(U===this){var z=e();return this._attachExtraTrace(z),this._reject(z)}this._setFulfilled(),this._rejectionHandler0=U,(L&65535)>0&&((L&134217728)!==0?this._settlePromises():d.settlePromises(this))}},F.prototype._reject=function(U){var L=this._bitField;if(!((L&117506048)>>>16)){if(this._setRejected(),this._fulfillmentHandler0=U,this._isFinal())return d.fatalError(U,o.isNode);(L&65535)>0?d.settlePromises(this):this._ensurePossibleRejectionHandled()}},F.prototype._fulfillPromises=function(U,L){for(var z=1;z<U;z++){var $=this._fulfillmentHandlerAt(z),K=this._promiseAt(z),V=this._receiverAt(z);this._clearCallbackDataAtIndex(z),this._settlePromise(K,$,V,L)}},F.prototype._rejectPromises=function(U,L){for(var z=1;z<U;z++){var $=this._rejectionHandlerAt(z),K=this._promiseAt(z),V=this._receiverAt(z);this._clearCallbackDataAtIndex(z),this._settlePromise(K,$,V,L)}},F.prototype._settlePromises=function(){var U=this._bitField,L=U&65535;if(L>0){if((U&16842752)!==0){var z=this._fulfillmentHandler0;this._settlePromise0(this._rejectionHandler0,z,U),this._rejectPromises(L,z)}else{var $=this._rejectionHandler0;this._settlePromise0(this._fulfillmentHandler0,$,U),this._fulfillPromises(L,$)}this._setLength(0)}this._clearCancellationData()},F.prototype._settledValue=function(){var U=this._bitField;if((U&33554432)!==0)return this._rejectionHandler0;if((U&16777216)!==0)return this._fulfillmentHandler0};function M(U){this.promise._resolveCallback(U)}function S(U){this.promise._rejectCallback(U,!1)}F.defer=F.pending=function(){N.deprecated("Promise.defer","new Promise");var U=new F(v);return{promise:U,resolve:M,reject:S}},o.notEnumerableProp(F,"_makeSelfResolutionError",e),xke()(F,v,g,r,N),vke()(F,v,g,N),yke()(F,x,r,N),bke()(F),wke()(F),jke()(F,x,g,v,d,l),F.Promise=F,F.version="3.4.7",Nke()(F,x,r,g,v,N),_ke()(F),Cke()(F,r,g,j,v,N),Ske()(F,v,N),Eke()(F,r,v,g,s,N),Bke()(F),Dke()(F,v),Tke()(F,x,g,r),kke()(F,v,g,r),Fke()(F,x,r,g,v,N),Pke()(F,x,N),Uke()(F,x,r),Ike()(F,v),Oke()(F,v),Mke()(F),o.toFastProperties(F),o.toFastProperties(F.prototype);function q(U){var L=new F(v);L._fulfillmentHandler0=U,L._rejectionHandler0=U,L._promise0=U,L._receiver0=U}return q({a:1}),q({b:2}),q({c:3}),q(1),q(function(){}),q(void 0),q(!1),q(new F(v)),N.setBounds(u.firstLineError,o.lastLineError),F}}(qP)),qP.exports}var TX;function mx(){if(TX)return bu;TX=1;var t=zs,e=Lke()();bu.defer=n,bu.when=e.resolve,bu.resolve=e.resolve,bu.all=e.all,bu.props=e.props,bu.reject=e.reject,bu.promisify=e.promisify,bu.mapSeries=e.mapSeries,bu.attempt=e.attempt,bu.nfcall=function(r){var s=Array.prototype.slice.call(arguments,1),a=e.promisify(r);return a.apply(null,s)},e.prototype.fail=e.prototype.caught,e.prototype.also=function(r){return this.then(function(s){var a=t.extend({},s,r(s));return e.props(a)})};function n(){var r,s,a=new e.Promise(function(o,l){r=o,s=l});return{resolve:r,reject:s,promise:a}}return bu}var Mr={},kX;function Py(){if(kX)return Mr;kX=1;var t=zs,e=Mr.types={document:"document",paragraph:"paragraph",run:"run",text:"text",tab:"tab",checkbox:"checkbox",hyperlink:"hyperlink",noteReference:"noteReference",image:"image",note:"note",commentReference:"commentReference",comment:"comment",table:"table",tableRow:"tableRow",tableCell:"tableCell",break:"break",bookmarkStart:"bookmarkStart"};function n(_,C){return C=C||{},{type:e.document,children:_,notes:C.notes||new h({}),comments:C.comments||[]}}function r(_,C){C=C||{};var k=C.indent||{};return{type:e.paragraph,children:_,styleId:C.styleId||null,styleName:C.styleName||null,numbering:C.numbering||null,alignment:C.alignment||null,indent:{start:k.start||null,end:k.end||null,firstLine:k.firstLine||null,hanging:k.hanging||null}}}function s(_,C){return C=C||{},{type:e.run,children:_,styleId:C.styleId||null,styleName:C.styleName||null,isBold:!!C.isBold,isUnderline:!!C.isUnderline,isItalic:!!C.isItalic,isStrikethrough:!!C.isStrikethrough,isAllCaps:!!C.isAllCaps,isSmallCaps:!!C.isSmallCaps,verticalAlignment:C.verticalAlignment||a.baseline,font:C.font||null,fontSize:C.fontSize||null,highlight:C.highlight||null}}var a={baseline:"baseline",superscript:"superscript",subscript:"subscript"};function o(_){return{type:e.text,value:_}}function l(){return{type:e.tab}}function c(_){return{type:e.checkbox,checked:_.checked}}function u(_,C){return{type:e.hyperlink,children:_,href:C.href,anchor:C.anchor,targetFrame:C.targetFrame}}function d(_){return{type:e.noteReference,noteType:_.noteType,noteId:_.noteId}}function h(_){this._notes=t.indexBy(_,function(C){return p(C.noteType,C.noteId)})}h.prototype.resolve=function(_){return this.findNoteByKey(p(_.noteType,_.noteId))},h.prototype.findNoteByKey=function(_){return this._notes[_]||null};function f(_){return{type:e.note,noteType:_.noteType,noteId:_.noteId,body:_.body}}function A(_){return{type:e.commentReference,commentId:_.commentId}}function v(_){return{type:e.comment,commentId:_.commentId,body:_.body,authorName:_.authorName,authorInitials:_.authorInitials}}function p(_,C){return _+"-"+C}function m(_){return{type:e.image,read:function(C){return C?_.readImage(C):_.readImage().then(function(k){return Buffer.from(k)})},readAsArrayBuffer:function(){return _.readImage()},readAsBase64String:function(){return _.readImage("base64")},readAsBuffer:function(){return _.readImage().then(function(C){return Buffer.from(C)})},altText:_.altText,contentType:_.contentType}}function g(_,C){return C=C||{},{type:e.table,children:_,styleId:C.styleId||null,styleName:C.styleName||null}}function x(_,C){return C=C||{},{type:e.tableRow,children:_,isHeader:C.isHeader||!1}}function b(_,C){return C=C||{},{type:e.tableCell,children:_,colSpan:C.colSpan==null?1:C.colSpan,rowSpan:C.rowSpan==null?1:C.rowSpan}}function j(_){return{type:e.break,breakType:_}}function N(_){return{type:e.bookmarkStart,name:_.name}}return Mr.document=Mr.Document=n,Mr.paragraph=Mr.Paragraph=r,Mr.run=Mr.Run=s,Mr.text=Mr.Text=o,Mr.tab=Mr.Tab=l,Mr.checkbox=Mr.Checkbox=c,Mr.Hyperlink=u,Mr.noteReference=Mr.NoteReference=d,Mr.Notes=h,Mr.Note=f,Mr.commentReference=A,Mr.comment=v,Mr.Image=m,Mr.Table=g,Mr.TableRow=x,Mr.TableCell=b,Mr.lineBreak=j("line"),Mr.pageBreak=j("page"),Mr.columnBreak=j("column"),Mr.BookmarkStart=N,Mr.verticalAlignment=a,Mr}var yb={},FX;function Cp(){if(FX)return yb;FX=1;var t=zs;yb.Result=e,yb.success=n,yb.warning=r,yb.error=s;function e(c,u){this.value=c,this.messages=u||[]}e.prototype.map=function(c){return new e(c(this.value),this.messages)},e.prototype.flatMap=function(c){var u=c(this.value);return new e(u.value,a([this,u]))},e.prototype.flatMapThen=function(c){var u=this;return c(this.value).then(function(d){return new e(d.value,a([u,d]))})},e.combine=function(c){var u=t.flatten(t.pluck(c,"value")),d=a(c);return new e(u,d)};function n(c){return new e(c,[])}function r(c){return{type:"warning",message:c}}function s(c){return{type:"error",message:c.message,error:c}}function a(c){var u=[];return t.flatten(t.pluck(c,"messages"),!0).forEach(function(d){o(u,d)||u.push(d)}),u}function o(c,u){return t.find(c,l.bind(null,u))!==void 0}function l(c,u){return c.type===u.type&&c.message===u.message}return yb}var Rj={},Qj={},PX;function Rke(){if(PX)return Qj;PX=1,Qj.byteLength=l,Qj.toByteArray=u,Qj.fromByteArray=f;for(var t=[],e=[],n=typeof Uint8Array<"u"?Uint8Array:Array,r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,a=r.length;s<a;++s)t[s]=r[s],e[r.charCodeAt(s)]=s;e[45]=62,e[95]=63;function o(A){var v=A.length;if(v%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var p=A.indexOf("=");p===-1&&(p=v);var m=p===v?0:4-p%4;return[p,m]}function l(A){var v=o(A),p=v[0],m=v[1];return(p+m)*3/4-m}function c(A,v,p){return(v+p)*3/4-p}function u(A){var v,p=o(A),m=p[0],g=p[1],x=new n(c(A,m,g)),b=0,j=g>0?m-4:m,N;for(N=0;N<j;N+=4)v=e[A.charCodeAt(N)]<<18|e[A.charCodeAt(N+1)]<<12|e[A.charCodeAt(N+2)]<<6|e[A.charCodeAt(N+3)],x[b++]=v>>16&255,x[b++]=v>>8&255,x[b++]=v&255;return g===2&&(v=e[A.charCodeAt(N)]<<2|e[A.charCodeAt(N+1)]>>4,x[b++]=v&255),g===1&&(v=e[A.charCodeAt(N)]<<10|e[A.charCodeAt(N+1)]<<4|e[A.charCodeAt(N+2)]>>2,x[b++]=v>>8&255,x[b++]=v&255),x}function d(A){return t[A>>18&63]+t[A>>12&63]+t[A>>6&63]+t[A&63]}function h(A,v,p){for(var m,g=[],x=v;x<p;x+=3)m=(A[x]<<16&16711680)+(A[x+1]<<8&65280)+(A[x+2]&255),g.push(d(m));return g.join("")}function f(A){for(var v,p=A.length,m=p%3,g=[],x=16383,b=0,j=p-m;b<j;b+=x)g.push(h(A,b,b+x>j?j:b+x));return m===1?(v=A[p-1],g.push(t[v>>2]+t[v<<4&63]+"==")):m===2&&(v=(A[p-2]<<8)+A[p-1],g.push(t[v>>10]+t[v>>4&63]+t[v<<2&63]+"=")),g.join("")}return Qj}function XE(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var NU={exports:{}};/*!

JSZip v3.10.1 - A JavaScript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/main/LICENSE
*/var UX;function Qke(){return UX||(UX=1,function(t,e){(function(n){t.exports=n()})(function(){return function n(r,s,a){function o(u,d){if(!s[u]){if(!r[u]){var h=typeof XE=="function"&&XE;if(!d&&h)return h(u,!0);if(l)return l(u,!0);var f=new Error("Cannot find module '"+u+"'");throw f.code="MODULE_NOT_FOUND",f}var A=s[u]={exports:{}};r[u][0].call(A.exports,function(v){var p=r[u][1][v];return o(p||v)},A,A.exports,n,r,s,a)}return s[u].exports}for(var l=typeof XE=="function"&&XE,c=0;c<a.length;c++)o(a[c]);return o}({1:[function(n,r,s){var a=n("./utils"),o=n("./support"),l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";s.encode=function(c){for(var u,d,h,f,A,v,p,m=[],g=0,x=c.length,b=x,j=a.getTypeOf(c)!=="string";g<c.length;)b=x-g,h=j?(u=c[g++],d=g<x?c[g++]:0,g<x?c[g++]:0):(u=c.charCodeAt(g++),d=g<x?c.charCodeAt(g++):0,g<x?c.charCodeAt(g++):0),f=u>>2,A=(3&u)<<4|d>>4,v=1<b?(15&d)<<2|h>>6:64,p=2<b?63&h:64,m.push(l.charAt(f)+l.charAt(A)+l.charAt(v)+l.charAt(p));return m.join("")},s.decode=function(c){var u,d,h,f,A,v,p=0,m=0,g="data:";if(c.substr(0,g.length)===g)throw new Error("Invalid base64 input, it looks like a data url.");var x,b=3*(c=c.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(c.charAt(c.length-1)===l.charAt(64)&&b--,c.charAt(c.length-2)===l.charAt(64)&&b--,b%1!=0)throw new Error("Invalid base64 input, bad content length.");for(x=o.uint8array?new Uint8Array(0|b):new Array(0|b);p<c.length;)u=l.indexOf(c.charAt(p++))<<2|(f=l.indexOf(c.charAt(p++)))>>4,d=(15&f)<<4|(A=l.indexOf(c.charAt(p++)))>>2,h=(3&A)<<6|(v=l.indexOf(c.charAt(p++))),x[m++]=u,A!==64&&(x[m++]=d),v!==64&&(x[m++]=h);return x}},{"./support":30,"./utils":32}],2:[function(n,r,s){var a=n("./external"),o=n("./stream/DataWorker"),l=n("./stream/Crc32Probe"),c=n("./stream/DataLengthProbe");function u(d,h,f,A,v){this.compressedSize=d,this.uncompressedSize=h,this.crc32=f,this.compression=A,this.compressedContent=v}u.prototype={getContentWorker:function(){var d=new o(a.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new c("data_length")),h=this;return d.on("end",function(){if(this.streamInfo.data_length!==h.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),d},getCompressedWorker:function(){return new o(a.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},u.createWorkerFrom=function(d,h,f){return d.pipe(new l).pipe(new c("uncompressedSize")).pipe(h.compressWorker(f)).pipe(new c("compressedSize")).withStreamInfo("compression",h)},r.exports=u},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(n,r,s){var a=n("./stream/GenericWorker");s.STORE={magic:"\0\0",compressWorker:function(){return new a("STORE compression")},uncompressWorker:function(){return new a("STORE decompression")}},s.DEFLATE=n("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(n,r,s){var a=n("./utils"),o=function(){for(var l,c=[],u=0;u<256;u++){l=u;for(var d=0;d<8;d++)l=1&l?3988292384^l>>>1:l>>>1;c[u]=l}return c}();r.exports=function(l,c){return l!==void 0&&l.length?a.getTypeOf(l)!=="string"?function(u,d,h,f){var A=o,v=f+h;u^=-1;for(var p=f;p<v;p++)u=u>>>8^A[255&(u^d[p])];return-1^u}(0|c,l,l.length,0):function(u,d,h,f){var A=o,v=f+h;u^=-1;for(var p=f;p<v;p++)u=u>>>8^A[255&(u^d.charCodeAt(p))];return-1^u}(0|c,l,l.length,0):0}},{"./utils":32}],5:[function(n,r,s){s.base64=!1,s.binary=!1,s.dir=!1,s.createFolders=!0,s.date=null,s.compression=null,s.compressionOptions=null,s.comment=null,s.unixPermissions=null,s.dosPermissions=null},{}],6:[function(n,r,s){var a=null;a=typeof Promise<"u"?Promise:n("lie"),r.exports={Promise:a}},{lie:37}],7:[function(n,r,s){var a=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",o=n("pako"),l=n("./utils"),c=n("./stream/GenericWorker"),u=a?"uint8array":"array";function d(h,f){c.call(this,"FlateWorker/"+h),this._pako=null,this._pakoAction=h,this._pakoOptions=f,this.meta={}}s.magic="\b\0",l.inherits(d,c),d.prototype.processChunk=function(h){this.meta=h.meta,this._pako===null&&this._createPako(),this._pako.push(l.transformTo(u,h.data),!1)},d.prototype.flush=function(){c.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},d.prototype.cleanUp=function(){c.prototype.cleanUp.call(this),this._pako=null},d.prototype._createPako=function(){this._pako=new o[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var h=this;this._pako.onData=function(f){h.push({data:f,meta:h.meta})}},s.compressWorker=function(h){return new d("Deflate",h)},s.uncompressWorker=function(){return new d("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(n,r,s){function a(A,v){var p,m="";for(p=0;p<v;p++)m+=String.fromCharCode(255&A),A>>>=8;return m}function o(A,v,p,m,g,x){var b,j,N=A.file,_=A.compression,C=x!==u.utf8encode,k=l.transformTo("string",x(N.name)),T=l.transformTo("string",u.utf8encode(N.name)),O=N.comment,I=l.transformTo("string",x(O)),F=l.transformTo("string",u.utf8encode(O)),M=T.length!==N.name.length,S=F.length!==O.length,q="",U="",L="",z=N.dir,$=N.date,K={crc32:0,compressedSize:0,uncompressedSize:0};v&&!p||(K.crc32=A.crc32,K.compressedSize=A.compressedSize,K.uncompressedSize=A.uncompressedSize);var V=0;v&&(V|=8),C||!M&&!S||(V|=2048);var H=0,W=0;z&&(H|=16),g==="UNIX"?(W=798,H|=function(ee,ie){var se=ee;return ee||(se=ie?16893:33204),(65535&se)<<16}(N.unixPermissions,z)):(W=20,H|=function(ee){return 63&(ee||0)}(N.dosPermissions)),b=$.getUTCHours(),b<<=6,b|=$.getUTCMinutes(),b<<=5,b|=$.getUTCSeconds()/2,j=$.getUTCFullYear()-1980,j<<=4,j|=$.getUTCMonth()+1,j<<=5,j|=$.getUTCDate(),M&&(U=a(1,1)+a(d(k),4)+T,q+="up"+a(U.length,2)+U),S&&(L=a(1,1)+a(d(I),4)+F,q+="uc"+a(L.length,2)+L);var Y="";return Y+=`
\0`,Y+=a(V,2),Y+=_.magic,Y+=a(b,2),Y+=a(j,2),Y+=a(K.crc32,4),Y+=a(K.compressedSize,4),Y+=a(K.uncompressedSize,4),Y+=a(k.length,2),Y+=a(q.length,2),{fileRecord:h.LOCAL_FILE_HEADER+Y+k+q,dirRecord:h.CENTRAL_FILE_HEADER+a(W,2)+Y+a(I.length,2)+"\0\0\0\0"+a(H,4)+a(m,4)+k+q+I}}var l=n("../utils"),c=n("../stream/GenericWorker"),u=n("../utf8"),d=n("../crc32"),h=n("../signature");function f(A,v,p,m){c.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=v,this.zipPlatform=p,this.encodeFileName=m,this.streamFiles=A,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}l.inherits(f,c),f.prototype.push=function(A){var v=A.meta.percent||0,p=this.entriesCount,m=this._sources.length;this.accumulate?this.contentBuffer.push(A):(this.bytesWritten+=A.data.length,c.prototype.push.call(this,{data:A.data,meta:{currentFile:this.currentFile,percent:p?(v+100*(p-m-1))/p:100}}))},f.prototype.openedSource=function(A){this.currentSourceOffset=this.bytesWritten,this.currentFile=A.file.name;var v=this.streamFiles&&!A.file.dir;if(v){var p=o(A,v,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:p.fileRecord,meta:{percent:0}})}else this.accumulate=!0},f.prototype.closedSource=function(A){this.accumulate=!1;var v=this.streamFiles&&!A.file.dir,p=o(A,v,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(p.dirRecord),v)this.push({data:function(m){return h.DATA_DESCRIPTOR+a(m.crc32,4)+a(m.compressedSize,4)+a(m.uncompressedSize,4)}(A),meta:{percent:100}});else for(this.push({data:p.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},f.prototype.flush=function(){for(var A=this.bytesWritten,v=0;v<this.dirRecords.length;v++)this.push({data:this.dirRecords[v],meta:{percent:100}});var p=this.bytesWritten-A,m=function(g,x,b,j,N){var _=l.transformTo("string",N(j));return h.CENTRAL_DIRECTORY_END+"\0\0\0\0"+a(g,2)+a(g,2)+a(x,4)+a(b,4)+a(_.length,2)+_}(this.dirRecords.length,p,A,this.zipComment,this.encodeFileName);this.push({data:m,meta:{percent:100}})},f.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},f.prototype.registerPrevious=function(A){this._sources.push(A);var v=this;return A.on("data",function(p){v.processChunk(p)}),A.on("end",function(){v.closedSource(v.previous.streamInfo),v._sources.length?v.prepareNextSource():v.end()}),A.on("error",function(p){v.error(p)}),this},f.prototype.resume=function(){return!!c.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},f.prototype.error=function(A){var v=this._sources;if(!c.prototype.error.call(this,A))return!1;for(var p=0;p<v.length;p++)try{v[p].error(A)}catch{}return!0},f.prototype.lock=function(){c.prototype.lock.call(this);for(var A=this._sources,v=0;v<A.length;v++)A[v].lock()},r.exports=f},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(n,r,s){var a=n("../compressions"),o=n("./ZipFileWorker");s.generateWorker=function(l,c,u){var d=new o(c.streamFiles,u,c.platform,c.encodeFileName),h=0;try{l.forEach(function(f,A){h++;var v=function(x,b){var j=x||b,N=a[j];if(!N)throw new Error(j+" is not a valid compression method !");return N}(A.options.compression,c.compression),p=A.options.compressionOptions||c.compressionOptions||{},m=A.dir,g=A.date;A._compressWorker(v,p).withStreamInfo("file",{name:f,dir:m,date:g,comment:A.comment||"",unixPermissions:A.unixPermissions,dosPermissions:A.dosPermissions}).pipe(d)}),d.entriesCount=h}catch(f){d.error(f)}return d}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(n,r,s){function a(){if(!(this instanceof a))return new a;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var o=new a;for(var l in this)typeof this[l]!="function"&&(o[l]=this[l]);return o}}(a.prototype=n("./object")).loadAsync=n("./load"),a.support=n("./support"),a.defaults=n("./defaults"),a.version="3.10.1",a.loadAsync=function(o,l){return new a().loadAsync(o,l)},a.external=n("./external"),r.exports=a},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(n,r,s){var a=n("./utils"),o=n("./external"),l=n("./utf8"),c=n("./zipEntries"),u=n("./stream/Crc32Probe"),d=n("./nodejsUtils");function h(f){return new o.Promise(function(A,v){var p=f.decompressed.getContentWorker().pipe(new u);p.on("error",function(m){v(m)}).on("end",function(){p.streamInfo.crc32!==f.decompressed.crc32?v(new Error("Corrupted zip : CRC32 mismatch")):A()}).resume()})}r.exports=function(f,A){var v=this;return A=a.extend(A||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:l.utf8decode}),d.isNode&&d.isStream(f)?o.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):a.prepareContent("the loaded zip file",f,!0,A.optimizedBinaryString,A.base64).then(function(p){var m=new c(A);return m.load(p),m}).then(function(p){var m=[o.Promise.resolve(p)],g=p.files;if(A.checkCRC32)for(var x=0;x<g.length;x++)m.push(h(g[x]));return o.Promise.all(m)}).then(function(p){for(var m=p.shift(),g=m.files,x=0;x<g.length;x++){var b=g[x],j=b.fileNameStr,N=a.resolve(b.fileNameStr);v.file(N,b.decompressed,{binary:!0,optimizedBinaryString:!0,date:b.date,dir:b.dir,comment:b.fileCommentStr.length?b.fileCommentStr:null,unixPermissions:b.unixPermissions,dosPermissions:b.dosPermissions,createFolders:A.createFolders}),b.dir||(v.file(N).unsafeOriginalName=j)}return m.zipComment.length&&(v.comment=m.zipComment),v})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(n,r,s){var a=n("../utils"),o=n("../stream/GenericWorker");function l(c,u){o.call(this,"Nodejs stream input adapter for "+c),this._upstreamEnded=!1,this._bindStream(u)}a.inherits(l,o),l.prototype._bindStream=function(c){var u=this;(this._stream=c).pause(),c.on("data",function(d){u.push({data:d,meta:{percent:0}})}).on("error",function(d){u.isPaused?this.generatedError=d:u.error(d)}).on("end",function(){u.isPaused?u._upstreamEnded=!0:u.end()})},l.prototype.pause=function(){return!!o.prototype.pause.call(this)&&(this._stream.pause(),!0)},l.prototype.resume=function(){return!!o.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},r.exports=l},{"../stream/GenericWorker":28,"../utils":32}],13:[function(n,r,s){var a=n("readable-stream").Readable;function o(l,c,u){a.call(this,c),this._helper=l;var d=this;l.on("data",function(h,f){d.push(h)||d._helper.pause(),u&&u(f)}).on("error",function(h){d.emit("error",h)}).on("end",function(){d.push(null)})}n("../utils").inherits(o,a),o.prototype._read=function(){this._helper.resume()},r.exports=o},{"../utils":32,"readable-stream":16}],14:[function(n,r,s){r.exports={isNode:typeof Buffer<"u",newBufferFrom:function(a,o){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(a,o);if(typeof a=="number")throw new Error('The "data" argument must not be a number');return new Buffer(a,o)},allocBuffer:function(a){if(Buffer.alloc)return Buffer.alloc(a);var o=new Buffer(a);return o.fill(0),o},isBuffer:function(a){return Buffer.isBuffer(a)},isStream:function(a){return a&&typeof a.on=="function"&&typeof a.pause=="function"&&typeof a.resume=="function"}}},{}],15:[function(n,r,s){function a(N,_,C){var k,T=l.getTypeOf(_),O=l.extend(C||{},d);O.date=O.date||new Date,O.compression!==null&&(O.compression=O.compression.toUpperCase()),typeof O.unixPermissions=="string"&&(O.unixPermissions=parseInt(O.unixPermissions,8)),O.unixPermissions&&16384&O.unixPermissions&&(O.dir=!0),O.dosPermissions&&16&O.dosPermissions&&(O.dir=!0),O.dir&&(N=g(N)),O.createFolders&&(k=m(N))&&x.call(this,k,!0);var I=T==="string"&&O.binary===!1&&O.base64===!1;C&&C.binary!==void 0||(O.binary=!I),(_ instanceof h&&_.uncompressedSize===0||O.dir||!_||_.length===0)&&(O.base64=!1,O.binary=!0,_="",O.compression="STORE",T="string");var F=null;F=_ instanceof h||_ instanceof c?_:v.isNode&&v.isStream(_)?new p(N,_):l.prepareContent(N,_,O.binary,O.optimizedBinaryString,O.base64);var M=new f(N,F,O);this.files[N]=M}var o=n("./utf8"),l=n("./utils"),c=n("./stream/GenericWorker"),u=n("./stream/StreamHelper"),d=n("./defaults"),h=n("./compressedObject"),f=n("./zipObject"),A=n("./generate"),v=n("./nodejsUtils"),p=n("./nodejs/NodejsStreamInputAdapter"),m=function(N){N.slice(-1)==="/"&&(N=N.substring(0,N.length-1));var _=N.lastIndexOf("/");return 0<_?N.substring(0,_):""},g=function(N){return N.slice(-1)!=="/"&&(N+="/"),N},x=function(N,_){return _=_!==void 0?_:d.createFolders,N=g(N),this.files[N]||a.call(this,N,null,{dir:!0,createFolders:_}),this.files[N]};function b(N){return Object.prototype.toString.call(N)==="[object RegExp]"}var j={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(N){var _,C,k;for(_ in this.files)k=this.files[_],(C=_.slice(this.root.length,_.length))&&_.slice(0,this.root.length)===this.root&&N(C,k)},filter:function(N){var _=[];return this.forEach(function(C,k){N(C,k)&&_.push(k)}),_},file:function(N,_,C){if(arguments.length!==1)return N=this.root+N,a.call(this,N,_,C),this;if(b(N)){var k=N;return this.filter(function(O,I){return!I.dir&&k.test(O)})}var T=this.files[this.root+N];return T&&!T.dir?T:null},folder:function(N){if(!N)return this;if(b(N))return this.filter(function(T,O){return O.dir&&N.test(T)});var _=this.root+N,C=x.call(this,_),k=this.clone();return k.root=C.name,k},remove:function(N){N=this.root+N;var _=this.files[N];if(_||(N.slice(-1)!=="/"&&(N+="/"),_=this.files[N]),_&&!_.dir)delete this.files[N];else for(var C=this.filter(function(T,O){return O.name.slice(0,N.length)===N}),k=0;k<C.length;k++)delete this.files[C[k].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(N){var _,C={};try{if((C=l.extend(N||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:o.utf8encode})).type=C.type.toLowerCase(),C.compression=C.compression.toUpperCase(),C.type==="binarystring"&&(C.type="string"),!C.type)throw new Error("No output type specified.");l.checkSupport(C.type),C.platform!=="darwin"&&C.platform!=="freebsd"&&C.platform!=="linux"&&C.platform!=="sunos"||(C.platform="UNIX"),C.platform==="win32"&&(C.platform="DOS");var k=C.comment||this.comment||"";_=A.generateWorker(this,C,k)}catch(T){(_=new c("error")).error(T)}return new u(_,C.type||"string",C.mimeType)},generateAsync:function(N,_){return this.generateInternalStream(N).accumulate(_)},generateNodeStream:function(N,_){return(N=N||{}).type||(N.type="nodebuffer"),this.generateInternalStream(N).toNodejsStream(_)}};r.exports=j},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(n,r,s){r.exports=n("stream")},{stream:void 0}],17:[function(n,r,s){var a=n("./DataReader");function o(l){a.call(this,l);for(var c=0;c<this.data.length;c++)l[c]=255&l[c]}n("../utils").inherits(o,a),o.prototype.byteAt=function(l){return this.data[this.zero+l]},o.prototype.lastIndexOfSignature=function(l){for(var c=l.charCodeAt(0),u=l.charCodeAt(1),d=l.charCodeAt(2),h=l.charCodeAt(3),f=this.length-4;0<=f;--f)if(this.data[f]===c&&this.data[f+1]===u&&this.data[f+2]===d&&this.data[f+3]===h)return f-this.zero;return-1},o.prototype.readAndCheckSignature=function(l){var c=l.charCodeAt(0),u=l.charCodeAt(1),d=l.charCodeAt(2),h=l.charCodeAt(3),f=this.readData(4);return c===f[0]&&u===f[1]&&d===f[2]&&h===f[3]},o.prototype.readData=function(l){if(this.checkOffset(l),l===0)return[];var c=this.data.slice(this.zero+this.index,this.zero+this.index+l);return this.index+=l,c},r.exports=o},{"../utils":32,"./DataReader":18}],18:[function(n,r,s){var a=n("../utils");function o(l){this.data=l,this.length=l.length,this.index=0,this.zero=0}o.prototype={checkOffset:function(l){this.checkIndex(this.index+l)},checkIndex:function(l){if(this.length<this.zero+l||l<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+l+"). Corrupted zip ?")},setIndex:function(l){this.checkIndex(l),this.index=l},skip:function(l){this.setIndex(this.index+l)},byteAt:function(){},readInt:function(l){var c,u=0;for(this.checkOffset(l),c=this.index+l-1;c>=this.index;c--)u=(u<<8)+this.byteAt(c);return this.index+=l,u},readString:function(l){return a.transformTo("string",this.readData(l))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var l=this.readInt(4);return new Date(Date.UTC(1980+(l>>25&127),(l>>21&15)-1,l>>16&31,l>>11&31,l>>5&63,(31&l)<<1))}},r.exports=o},{"../utils":32}],19:[function(n,r,s){var a=n("./Uint8ArrayReader");function o(l){a.call(this,l)}n("../utils").inherits(o,a),o.prototype.readData=function(l){this.checkOffset(l);var c=this.data.slice(this.zero+this.index,this.zero+this.index+l);return this.index+=l,c},r.exports=o},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(n,r,s){var a=n("./DataReader");function o(l){a.call(this,l)}n("../utils").inherits(o,a),o.prototype.byteAt=function(l){return this.data.charCodeAt(this.zero+l)},o.prototype.lastIndexOfSignature=function(l){return this.data.lastIndexOf(l)-this.zero},o.prototype.readAndCheckSignature=function(l){return l===this.readData(4)},o.prototype.readData=function(l){this.checkOffset(l);var c=this.data.slice(this.zero+this.index,this.zero+this.index+l);return this.index+=l,c},r.exports=o},{"../utils":32,"./DataReader":18}],21:[function(n,r,s){var a=n("./ArrayReader");function o(l){a.call(this,l)}n("../utils").inherits(o,a),o.prototype.readData=function(l){if(this.checkOffset(l),l===0)return new Uint8Array(0);var c=this.data.subarray(this.zero+this.index,this.zero+this.index+l);return this.index+=l,c},r.exports=o},{"../utils":32,"./ArrayReader":17}],22:[function(n,r,s){var a=n("../utils"),o=n("../support"),l=n("./ArrayReader"),c=n("./StringReader"),u=n("./NodeBufferReader"),d=n("./Uint8ArrayReader");r.exports=function(h){var f=a.getTypeOf(h);return a.checkSupport(f),f!=="string"||o.uint8array?f==="nodebuffer"?new u(h):o.uint8array?new d(a.transformTo("uint8array",h)):new l(a.transformTo("array",h)):new c(h)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(n,r,s){s.LOCAL_FILE_HEADER="PK",s.CENTRAL_FILE_HEADER="PK",s.CENTRAL_DIRECTORY_END="PK",s.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",s.ZIP64_CENTRAL_DIRECTORY_END="PK",s.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(n,r,s){var a=n("./GenericWorker"),o=n("../utils");function l(c){a.call(this,"ConvertWorker to "+c),this.destType=c}o.inherits(l,a),l.prototype.processChunk=function(c){this.push({data:o.transformTo(this.destType,c.data),meta:c.meta})},r.exports=l},{"../utils":32,"./GenericWorker":28}],25:[function(n,r,s){var a=n("./GenericWorker"),o=n("../crc32");function l(){a.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}n("../utils").inherits(l,a),l.prototype.processChunk=function(c){this.streamInfo.crc32=o(c.data,this.streamInfo.crc32||0),this.push(c)},r.exports=l},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(n,r,s){var a=n("../utils"),o=n("./GenericWorker");function l(c){o.call(this,"DataLengthProbe for "+c),this.propName=c,this.withStreamInfo(c,0)}a.inherits(l,o),l.prototype.processChunk=function(c){if(c){var u=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=u+c.data.length}o.prototype.processChunk.call(this,c)},r.exports=l},{"../utils":32,"./GenericWorker":28}],27:[function(n,r,s){var a=n("../utils"),o=n("./GenericWorker");function l(c){o.call(this,"DataWorker");var u=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,c.then(function(d){u.dataIsReady=!0,u.data=d,u.max=d&&d.length||0,u.type=a.getTypeOf(d),u.isPaused||u._tickAndRepeat()},function(d){u.error(d)})}a.inherits(l,o),l.prototype.cleanUp=function(){o.prototype.cleanUp.call(this),this.data=null},l.prototype.resume=function(){return!!o.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,a.delay(this._tickAndRepeat,[],this)),!0)},l.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(a.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},l.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var c=null,u=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":c=this.data.substring(this.index,u);break;case"uint8array":c=this.data.subarray(this.index,u);break;case"array":case"nodebuffer":c=this.data.slice(this.index,u)}return this.index=u,this.push({data:c,meta:{percent:this.max?this.index/this.max*100:0}})},r.exports=l},{"../utils":32,"./GenericWorker":28}],28:[function(n,r,s){function a(o){this.name=o||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}a.prototype={push:function(o){this.emit("data",o)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(o){this.emit("error",o)}return!0},error:function(o){return!this.isFinished&&(this.isPaused?this.generatedError=o:(this.isFinished=!0,this.emit("error",o),this.previous&&this.previous.error(o),this.cleanUp()),!0)},on:function(o,l){return this._listeners[o].push(l),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(o,l){if(this._listeners[o])for(var c=0;c<this._listeners[o].length;c++)this._listeners[o][c].call(this,l)},pipe:function(o){return o.registerPrevious(this)},registerPrevious:function(o){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=o.streamInfo,this.mergeStreamInfo(),this.previous=o;var l=this;return o.on("data",function(c){l.processChunk(c)}),o.on("end",function(){l.end()}),o.on("error",function(c){l.error(c)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var o=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),o=!0),this.previous&&this.previous.resume(),!o},flush:function(){},processChunk:function(o){this.push(o)},withStreamInfo:function(o,l){return this.extraStreamInfo[o]=l,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var o in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,o)&&(this.streamInfo[o]=this.extraStreamInfo[o])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var o="Worker "+this.name;return this.previous?this.previous+" -> "+o:o}},r.exports=a},{}],29:[function(n,r,s){var a=n("../utils"),o=n("./ConvertWorker"),l=n("./GenericWorker"),c=n("../base64"),u=n("../support"),d=n("../external"),h=null;if(u.nodestream)try{h=n("../nodejs/NodejsStreamOutputAdapter")}catch{}function f(v,p){return new d.Promise(function(m,g){var x=[],b=v._internalType,j=v._outputType,N=v._mimeType;v.on("data",function(_,C){x.push(_),p&&p(C)}).on("error",function(_){x=[],g(_)}).on("end",function(){try{var _=function(C,k,T){switch(C){case"blob":return a.newBlob(a.transformTo("arraybuffer",k),T);case"base64":return c.encode(k);default:return a.transformTo(C,k)}}(j,function(C,k){var T,O=0,I=null,F=0;for(T=0;T<k.length;T++)F+=k[T].length;switch(C){case"string":return k.join("");case"array":return Array.prototype.concat.apply([],k);case"uint8array":for(I=new Uint8Array(F),T=0;T<k.length;T++)I.set(k[T],O),O+=k[T].length;return I;case"nodebuffer":return Buffer.concat(k);default:throw new Error("concat : unsupported type '"+C+"'")}}(b,x),N);m(_)}catch(C){g(C)}x=[]}).resume()})}function A(v,p,m){var g=p;switch(p){case"blob":case"arraybuffer":g="uint8array";break;case"base64":g="string"}try{this._internalType=g,this._outputType=p,this._mimeType=m,a.checkSupport(g),this._worker=v.pipe(new o(g)),v.lock()}catch(x){this._worker=new l("error"),this._worker.error(x)}}A.prototype={accumulate:function(v){return f(this,v)},on:function(v,p){var m=this;return v==="data"?this._worker.on(v,function(g){p.call(m,g.data,g.meta)}):this._worker.on(v,function(){a.delay(p,arguments,m)}),this},resume:function(){return a.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(v){if(a.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new h(this,{objectMode:this._outputType!=="nodebuffer"},v)}},r.exports=A},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(n,r,s){if(s.base64=!0,s.array=!0,s.string=!0,s.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",s.nodebuffer=typeof Buffer<"u",s.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")s.blob=!1;else{var a=new ArrayBuffer(0);try{s.blob=new Blob([a],{type:"application/zip"}).size===0}catch{try{var o=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);o.append(a),s.blob=o.getBlob("application/zip").size===0}catch{s.blob=!1}}}try{s.nodestream=!!n("readable-stream").Readable}catch{s.nodestream=!1}},{"readable-stream":16}],31:[function(n,r,s){for(var a=n("./utils"),o=n("./support"),l=n("./nodejsUtils"),c=n("./stream/GenericWorker"),u=new Array(256),d=0;d<256;d++)u[d]=252<=d?6:248<=d?5:240<=d?4:224<=d?3:192<=d?2:1;u[254]=u[254]=1;function h(){c.call(this,"utf-8 decode"),this.leftOver=null}function f(){c.call(this,"utf-8 encode")}s.utf8encode=function(A){return o.nodebuffer?l.newBufferFrom(A,"utf-8"):function(v){var p,m,g,x,b,j=v.length,N=0;for(x=0;x<j;x++)(64512&(m=v.charCodeAt(x)))==55296&&x+1<j&&(64512&(g=v.charCodeAt(x+1)))==56320&&(m=65536+(m-55296<<10)+(g-56320),x++),N+=m<128?1:m<2048?2:m<65536?3:4;for(p=o.uint8array?new Uint8Array(N):new Array(N),x=b=0;b<N;x++)(64512&(m=v.charCodeAt(x)))==55296&&x+1<j&&(64512&(g=v.charCodeAt(x+1)))==56320&&(m=65536+(m-55296<<10)+(g-56320),x++),m<128?p[b++]=m:(m<2048?p[b++]=192|m>>>6:(m<65536?p[b++]=224|m>>>12:(p[b++]=240|m>>>18,p[b++]=128|m>>>12&63),p[b++]=128|m>>>6&63),p[b++]=128|63&m);return p}(A)},s.utf8decode=function(A){return o.nodebuffer?a.transformTo("nodebuffer",A).toString("utf-8"):function(v){var p,m,g,x,b=v.length,j=new Array(2*b);for(p=m=0;p<b;)if((g=v[p++])<128)j[m++]=g;else if(4<(x=u[g]))j[m++]=65533,p+=x-1;else{for(g&=x===2?31:x===3?15:7;1<x&&p<b;)g=g<<6|63&v[p++],x--;1<x?j[m++]=65533:g<65536?j[m++]=g:(g-=65536,j[m++]=55296|g>>10&1023,j[m++]=56320|1023&g)}return j.length!==m&&(j.subarray?j=j.subarray(0,m):j.length=m),a.applyFromCharCode(j)}(A=a.transformTo(o.uint8array?"uint8array":"array",A))},a.inherits(h,c),h.prototype.processChunk=function(A){var v=a.transformTo(o.uint8array?"uint8array":"array",A.data);if(this.leftOver&&this.leftOver.length){if(o.uint8array){var p=v;(v=new Uint8Array(p.length+this.leftOver.length)).set(this.leftOver,0),v.set(p,this.leftOver.length)}else v=this.leftOver.concat(v);this.leftOver=null}var m=function(x,b){var j;for((b=b||x.length)>x.length&&(b=x.length),j=b-1;0<=j&&(192&x[j])==128;)j--;return j<0||j===0?b:j+u[x[j]]>b?j:b}(v),g=v;m!==v.length&&(o.uint8array?(g=v.subarray(0,m),this.leftOver=v.subarray(m,v.length)):(g=v.slice(0,m),this.leftOver=v.slice(m,v.length))),this.push({data:s.utf8decode(g),meta:A.meta})},h.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:s.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},s.Utf8DecodeWorker=h,a.inherits(f,c),f.prototype.processChunk=function(A){this.push({data:s.utf8encode(A.data),meta:A.meta})},s.Utf8EncodeWorker=f},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(n,r,s){var a=n("./support"),o=n("./base64"),l=n("./nodejsUtils"),c=n("./external");function u(p){return p}function d(p,m){for(var g=0;g<p.length;++g)m[g]=255&p.charCodeAt(g);return m}n("setimmediate"),s.newBlob=function(p,m){s.checkSupport("blob");try{return new Blob([p],{type:m})}catch{try{var g=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return g.append(p),g.getBlob(m)}catch{throw new Error("Bug : can't construct the Blob.")}}};var h={stringifyByChunk:function(p,m,g){var x=[],b=0,j=p.length;if(j<=g)return String.fromCharCode.apply(null,p);for(;b<j;)m==="array"||m==="nodebuffer"?x.push(String.fromCharCode.apply(null,p.slice(b,Math.min(b+g,j)))):x.push(String.fromCharCode.apply(null,p.subarray(b,Math.min(b+g,j)))),b+=g;return x.join("")},stringifyByChar:function(p){for(var m="",g=0;g<p.length;g++)m+=String.fromCharCode(p[g]);return m},applyCanBeUsed:{uint8array:function(){try{return a.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return a.nodebuffer&&String.fromCharCode.apply(null,l.allocBuffer(1)).length===1}catch{return!1}}()}};function f(p){var m=65536,g=s.getTypeOf(p),x=!0;if(g==="uint8array"?x=h.applyCanBeUsed.uint8array:g==="nodebuffer"&&(x=h.applyCanBeUsed.nodebuffer),x)for(;1<m;)try{return h.stringifyByChunk(p,g,m)}catch{m=Math.floor(m/2)}return h.stringifyByChar(p)}function A(p,m){for(var g=0;g<p.length;g++)m[g]=p[g];return m}s.applyFromCharCode=f;var v={};v.string={string:u,array:function(p){return d(p,new Array(p.length))},arraybuffer:function(p){return v.string.uint8array(p).buffer},uint8array:function(p){return d(p,new Uint8Array(p.length))},nodebuffer:function(p){return d(p,l.allocBuffer(p.length))}},v.array={string:f,array:u,arraybuffer:function(p){return new Uint8Array(p).buffer},uint8array:function(p){return new Uint8Array(p)},nodebuffer:function(p){return l.newBufferFrom(p)}},v.arraybuffer={string:function(p){return f(new Uint8Array(p))},array:function(p){return A(new Uint8Array(p),new Array(p.byteLength))},arraybuffer:u,uint8array:function(p){return new Uint8Array(p)},nodebuffer:function(p){return l.newBufferFrom(new Uint8Array(p))}},v.uint8array={string:f,array:function(p){return A(p,new Array(p.length))},arraybuffer:function(p){return p.buffer},uint8array:u,nodebuffer:function(p){return l.newBufferFrom(p)}},v.nodebuffer={string:f,array:function(p){return A(p,new Array(p.length))},arraybuffer:function(p){return v.nodebuffer.uint8array(p).buffer},uint8array:function(p){return A(p,new Uint8Array(p.length))},nodebuffer:u},s.transformTo=function(p,m){if(m=m||"",!p)return m;s.checkSupport(p);var g=s.getTypeOf(m);return v[g][p](m)},s.resolve=function(p){for(var m=p.split("/"),g=[],x=0;x<m.length;x++){var b=m[x];b==="."||b===""&&x!==0&&x!==m.length-1||(b===".."?g.pop():g.push(b))}return g.join("/")},s.getTypeOf=function(p){return typeof p=="string"?"string":Object.prototype.toString.call(p)==="[object Array]"?"array":a.nodebuffer&&l.isBuffer(p)?"nodebuffer":a.uint8array&&p instanceof Uint8Array?"uint8array":a.arraybuffer&&p instanceof ArrayBuffer?"arraybuffer":void 0},s.checkSupport=function(p){if(!a[p.toLowerCase()])throw new Error(p+" is not supported by this platform")},s.MAX_VALUE_16BITS=65535,s.MAX_VALUE_32BITS=-1,s.pretty=function(p){var m,g,x="";for(g=0;g<(p||"").length;g++)x+="\\x"+((m=p.charCodeAt(g))<16?"0":"")+m.toString(16).toUpperCase();return x},s.delay=function(p,m,g){setImmediate(function(){p.apply(g||null,m||[])})},s.inherits=function(p,m){function g(){}g.prototype=m.prototype,p.prototype=new g},s.extend=function(){var p,m,g={};for(p=0;p<arguments.length;p++)for(m in arguments[p])Object.prototype.hasOwnProperty.call(arguments[p],m)&&g[m]===void 0&&(g[m]=arguments[p][m]);return g},s.prepareContent=function(p,m,g,x,b){return c.Promise.resolve(m).then(function(j){return a.blob&&(j instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(j))!==-1)&&typeof FileReader<"u"?new c.Promise(function(N,_){var C=new FileReader;C.onload=function(k){N(k.target.result)},C.onerror=function(k){_(k.target.error)},C.readAsArrayBuffer(j)}):j}).then(function(j){var N=s.getTypeOf(j);return N?(N==="arraybuffer"?j=s.transformTo("uint8array",j):N==="string"&&(b?j=o.decode(j):g&&x!==!0&&(j=function(_){return d(_,a.uint8array?new Uint8Array(_.length):new Array(_.length))}(j))),j):c.Promise.reject(new Error("Can't read the data of '"+p+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(n,r,s){var a=n("./reader/readerFor"),o=n("./utils"),l=n("./signature"),c=n("./zipEntry"),u=n("./support");function d(h){this.files=[],this.loadOptions=h}d.prototype={checkSignature:function(h){if(!this.reader.readAndCheckSignature(h)){this.reader.index-=4;var f=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+o.pretty(f)+", expected "+o.pretty(h)+")")}},isSignature:function(h,f){var A=this.reader.index;this.reader.setIndex(h);var v=this.reader.readString(4)===f;return this.reader.setIndex(A),v},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var h=this.reader.readData(this.zipCommentLength),f=u.uint8array?"uint8array":"array",A=o.transformTo(f,h);this.zipComment=this.loadOptions.decodeFileName(A)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var h,f,A,v=this.zip64EndOfCentralSize-44;0<v;)h=this.reader.readInt(2),f=this.reader.readInt(4),A=this.reader.readData(f),this.zip64ExtensibleData[h]={id:h,length:f,value:A}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var h,f;for(h=0;h<this.files.length;h++)f=this.files[h],this.reader.setIndex(f.localHeaderOffset),this.checkSignature(l.LOCAL_FILE_HEADER),f.readLocalPart(this.reader),f.handleUTF8(),f.processAttributes()},readCentralDir:function(){var h;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(l.CENTRAL_FILE_HEADER);)(h=new c({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(h);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var h=this.reader.lastIndexOfSignature(l.CENTRAL_DIRECTORY_END);if(h<0)throw this.isSignature(0,l.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(h);var f=h;if(this.checkSignature(l.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===o.MAX_VALUE_16BITS||this.diskWithCentralDirStart===o.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===o.MAX_VALUE_16BITS||this.centralDirRecords===o.MAX_VALUE_16BITS||this.centralDirSize===o.MAX_VALUE_32BITS||this.centralDirOffset===o.MAX_VALUE_32BITS){if(this.zip64=!0,(h=this.reader.lastIndexOfSignature(l.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(h),this.checkSignature(l.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,l.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(l.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(l.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var A=this.centralDirOffset+this.centralDirSize;this.zip64&&(A+=20,A+=12+this.zip64EndOfCentralSize);var v=f-A;if(0<v)this.isSignature(f,l.CENTRAL_FILE_HEADER)||(this.reader.zero=v);else if(v<0)throw new Error("Corrupted zip: missing "+Math.abs(v)+" bytes.")},prepareReader:function(h){this.reader=a(h)},load:function(h){this.prepareReader(h),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},r.exports=d},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(n,r,s){var a=n("./reader/readerFor"),o=n("./utils"),l=n("./compressedObject"),c=n("./crc32"),u=n("./utf8"),d=n("./compressions"),h=n("./support");function f(A,v){this.options=A,this.loadOptions=v}f.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(A){var v,p;if(A.skip(22),this.fileNameLength=A.readInt(2),p=A.readInt(2),this.fileName=A.readData(this.fileNameLength),A.skip(p),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((v=function(m){for(var g in d)if(Object.prototype.hasOwnProperty.call(d,g)&&d[g].magic===m)return d[g];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+o.pretty(this.compressionMethod)+" unknown (inner file : "+o.transformTo("string",this.fileName)+")");this.decompressed=new l(this.compressedSize,this.uncompressedSize,this.crc32,v,A.readData(this.compressedSize))},readCentralPart:function(A){this.versionMadeBy=A.readInt(2),A.skip(2),this.bitFlag=A.readInt(2),this.compressionMethod=A.readString(2),this.date=A.readDate(),this.crc32=A.readInt(4),this.compressedSize=A.readInt(4),this.uncompressedSize=A.readInt(4);var v=A.readInt(2);if(this.extraFieldsLength=A.readInt(2),this.fileCommentLength=A.readInt(2),this.diskNumberStart=A.readInt(2),this.internalFileAttributes=A.readInt(2),this.externalFileAttributes=A.readInt(4),this.localHeaderOffset=A.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");A.skip(v),this.readExtraFields(A),this.parseZIP64ExtraField(A),this.fileComment=A.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var A=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),A==0&&(this.dosPermissions=63&this.externalFileAttributes),A==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var A=a(this.extraFields[1].value);this.uncompressedSize===o.MAX_VALUE_32BITS&&(this.uncompressedSize=A.readInt(8)),this.compressedSize===o.MAX_VALUE_32BITS&&(this.compressedSize=A.readInt(8)),this.localHeaderOffset===o.MAX_VALUE_32BITS&&(this.localHeaderOffset=A.readInt(8)),this.diskNumberStart===o.MAX_VALUE_32BITS&&(this.diskNumberStart=A.readInt(4))}},readExtraFields:function(A){var v,p,m,g=A.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});A.index+4<g;)v=A.readInt(2),p=A.readInt(2),m=A.readData(p),this.extraFields[v]={id:v,length:p,value:m};A.setIndex(g)},handleUTF8:function(){var A=h.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=u.utf8decode(this.fileName),this.fileCommentStr=u.utf8decode(this.fileComment);else{var v=this.findExtraFieldUnicodePath();if(v!==null)this.fileNameStr=v;else{var p=o.transformTo(A,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(p)}var m=this.findExtraFieldUnicodeComment();if(m!==null)this.fileCommentStr=m;else{var g=o.transformTo(A,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(g)}}},findExtraFieldUnicodePath:function(){var A=this.extraFields[28789];if(A){var v=a(A.value);return v.readInt(1)!==1||c(this.fileName)!==v.readInt(4)?null:u.utf8decode(v.readData(A.length-5))}return null},findExtraFieldUnicodeComment:function(){var A=this.extraFields[25461];if(A){var v=a(A.value);return v.readInt(1)!==1||c(this.fileComment)!==v.readInt(4)?null:u.utf8decode(v.readData(A.length-5))}return null}},r.exports=f},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(n,r,s){function a(v,p,m){this.name=v,this.dir=m.dir,this.date=m.date,this.comment=m.comment,this.unixPermissions=m.unixPermissions,this.dosPermissions=m.dosPermissions,this._data=p,this._dataBinary=m.binary,this.options={compression:m.compression,compressionOptions:m.compressionOptions}}var o=n("./stream/StreamHelper"),l=n("./stream/DataWorker"),c=n("./utf8"),u=n("./compressedObject"),d=n("./stream/GenericWorker");a.prototype={internalStream:function(v){var p=null,m="string";try{if(!v)throw new Error("No output type specified.");var g=(m=v.toLowerCase())==="string"||m==="text";m!=="binarystring"&&m!=="text"||(m="string"),p=this._decompressWorker();var x=!this._dataBinary;x&&!g&&(p=p.pipe(new c.Utf8EncodeWorker)),!x&&g&&(p=p.pipe(new c.Utf8DecodeWorker))}catch(b){(p=new d("error")).error(b)}return new o(p,m,"")},async:function(v,p){return this.internalStream(v).accumulate(p)},nodeStream:function(v,p){return this.internalStream(v||"nodebuffer").toNodejsStream(p)},_compressWorker:function(v,p){if(this._data instanceof u&&this._data.compression.magic===v.magic)return this._data.getCompressedWorker();var m=this._decompressWorker();return this._dataBinary||(m=m.pipe(new c.Utf8EncodeWorker)),u.createWorkerFrom(m,v,p)},_decompressWorker:function(){return this._data instanceof u?this._data.getContentWorker():this._data instanceof d?this._data:new l(this._data)}};for(var h=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],f=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},A=0;A<h.length;A++)a.prototype[h[A]]=f;r.exports=a},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(n,r,s){(function(a){var o,l,c=a.MutationObserver||a.WebKitMutationObserver;if(c){var u=0,d=new c(v),h=a.document.createTextNode("");d.observe(h,{characterData:!0}),o=function(){h.data=u=++u%2}}else if(a.setImmediate||a.MessageChannel===void 0)o="document"in a&&"onreadystatechange"in a.document.createElement("script")?function(){var p=a.document.createElement("script");p.onreadystatechange=function(){v(),p.onreadystatechange=null,p.parentNode.removeChild(p),p=null},a.document.documentElement.appendChild(p)}:function(){setTimeout(v,0)};else{var f=new a.MessageChannel;f.port1.onmessage=v,o=function(){f.port2.postMessage(0)}}var A=[];function v(){var p,m;l=!0;for(var g=A.length;g;){for(m=A,A=[],p=-1;++p<g;)m[p]();g=A.length}l=!1}r.exports=function(p){A.push(p)!==1||l||o()}}).call(this,typeof Lu<"u"?Lu:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(n,r,s){var a=n("immediate");function o(){}var l={},c=["REJECTED"],u=["FULFILLED"],d=["PENDING"];function h(g){if(typeof g!="function")throw new TypeError("resolver must be a function");this.state=d,this.queue=[],this.outcome=void 0,g!==o&&p(this,g)}function f(g,x,b){this.promise=g,typeof x=="function"&&(this.onFulfilled=x,this.callFulfilled=this.otherCallFulfilled),typeof b=="function"&&(this.onRejected=b,this.callRejected=this.otherCallRejected)}function A(g,x,b){a(function(){var j;try{j=x(b)}catch(N){return l.reject(g,N)}j===g?l.reject(g,new TypeError("Cannot resolve promise with itself")):l.resolve(g,j)})}function v(g){var x=g&&g.then;if(g&&(typeof g=="object"||typeof g=="function")&&typeof x=="function")return function(){x.apply(g,arguments)}}function p(g,x){var b=!1;function j(C){b||(b=!0,l.reject(g,C))}function N(C){b||(b=!0,l.resolve(g,C))}var _=m(function(){x(N,j)});_.status==="error"&&j(_.value)}function m(g,x){var b={};try{b.value=g(x),b.status="success"}catch(j){b.status="error",b.value=j}return b}(r.exports=h).prototype.finally=function(g){if(typeof g!="function")return this;var x=this.constructor;return this.then(function(b){return x.resolve(g()).then(function(){return b})},function(b){return x.resolve(g()).then(function(){throw b})})},h.prototype.catch=function(g){return this.then(null,g)},h.prototype.then=function(g,x){if(typeof g!="function"&&this.state===u||typeof x!="function"&&this.state===c)return this;var b=new this.constructor(o);return this.state!==d?A(b,this.state===u?g:x,this.outcome):this.queue.push(new f(b,g,x)),b},f.prototype.callFulfilled=function(g){l.resolve(this.promise,g)},f.prototype.otherCallFulfilled=function(g){A(this.promise,this.onFulfilled,g)},f.prototype.callRejected=function(g){l.reject(this.promise,g)},f.prototype.otherCallRejected=function(g){A(this.promise,this.onRejected,g)},l.resolve=function(g,x){var b=m(v,x);if(b.status==="error")return l.reject(g,b.value);var j=b.value;if(j)p(g,j);else{g.state=u,g.outcome=x;for(var N=-1,_=g.queue.length;++N<_;)g.queue[N].callFulfilled(x)}return g},l.reject=function(g,x){g.state=c,g.outcome=x;for(var b=-1,j=g.queue.length;++b<j;)g.queue[b].callRejected(x);return g},h.resolve=function(g){return g instanceof this?g:l.resolve(new this(o),g)},h.reject=function(g){var x=new this(o);return l.reject(x,g)},h.all=function(g){var x=this;if(Object.prototype.toString.call(g)!=="[object Array]")return this.reject(new TypeError("must be an array"));var b=g.length,j=!1;if(!b)return this.resolve([]);for(var N=new Array(b),_=0,C=-1,k=new this(o);++C<b;)T(g[C],C);return k;function T(O,I){x.resolve(O).then(function(F){N[I]=F,++_!==b||j||(j=!0,l.resolve(k,N))},function(F){j||(j=!0,l.reject(k,F))})}},h.race=function(g){var x=this;if(Object.prototype.toString.call(g)!=="[object Array]")return this.reject(new TypeError("must be an array"));var b=g.length,j=!1;if(!b)return this.resolve([]);for(var N=-1,_=new this(o);++N<b;)C=g[N],x.resolve(C).then(function(k){j||(j=!0,l.resolve(_,k))},function(k){j||(j=!0,l.reject(_,k))});var C;return _}},{immediate:36}],38:[function(n,r,s){var a={};(0,n("./lib/utils/common").assign)(a,n("./lib/deflate"),n("./lib/inflate"),n("./lib/zlib/constants")),r.exports=a},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(n,r,s){var a=n("./zlib/deflate"),o=n("./utils/common"),l=n("./utils/strings"),c=n("./zlib/messages"),u=n("./zlib/zstream"),d=Object.prototype.toString,h=0,f=-1,A=0,v=8;function p(g){if(!(this instanceof p))return new p(g);this.options=o.assign({level:f,method:v,chunkSize:16384,windowBits:15,memLevel:8,strategy:A,to:""},g||{});var x=this.options;x.raw&&0<x.windowBits?x.windowBits=-x.windowBits:x.gzip&&0<x.windowBits&&x.windowBits<16&&(x.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new u,this.strm.avail_out=0;var b=a.deflateInit2(this.strm,x.level,x.method,x.windowBits,x.memLevel,x.strategy);if(b!==h)throw new Error(c[b]);if(x.header&&a.deflateSetHeader(this.strm,x.header),x.dictionary){var j;if(j=typeof x.dictionary=="string"?l.string2buf(x.dictionary):d.call(x.dictionary)==="[object ArrayBuffer]"?new Uint8Array(x.dictionary):x.dictionary,(b=a.deflateSetDictionary(this.strm,j))!==h)throw new Error(c[b]);this._dict_set=!0}}function m(g,x){var b=new p(x);if(b.push(g,!0),b.err)throw b.msg||c[b.err];return b.result}p.prototype.push=function(g,x){var b,j,N=this.strm,_=this.options.chunkSize;if(this.ended)return!1;j=x===~~x?x:x===!0?4:0,typeof g=="string"?N.input=l.string2buf(g):d.call(g)==="[object ArrayBuffer]"?N.input=new Uint8Array(g):N.input=g,N.next_in=0,N.avail_in=N.input.length;do{if(N.avail_out===0&&(N.output=new o.Buf8(_),N.next_out=0,N.avail_out=_),(b=a.deflate(N,j))!==1&&b!==h)return this.onEnd(b),!(this.ended=!0);N.avail_out!==0&&(N.avail_in!==0||j!==4&&j!==2)||(this.options.to==="string"?this.onData(l.buf2binstring(o.shrinkBuf(N.output,N.next_out))):this.onData(o.shrinkBuf(N.output,N.next_out)))}while((0<N.avail_in||N.avail_out===0)&&b!==1);return j===4?(b=a.deflateEnd(this.strm),this.onEnd(b),this.ended=!0,b===h):j!==2||(this.onEnd(h),!(N.avail_out=0))},p.prototype.onData=function(g){this.chunks.push(g)},p.prototype.onEnd=function(g){g===h&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=o.flattenChunks(this.chunks)),this.chunks=[],this.err=g,this.msg=this.strm.msg},s.Deflate=p,s.deflate=m,s.deflateRaw=function(g,x){return(x=x||{}).raw=!0,m(g,x)},s.gzip=function(g,x){return(x=x||{}).gzip=!0,m(g,x)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(n,r,s){var a=n("./zlib/inflate"),o=n("./utils/common"),l=n("./utils/strings"),c=n("./zlib/constants"),u=n("./zlib/messages"),d=n("./zlib/zstream"),h=n("./zlib/gzheader"),f=Object.prototype.toString;function A(p){if(!(this instanceof A))return new A(p);this.options=o.assign({chunkSize:16384,windowBits:0,to:""},p||{});var m=this.options;m.raw&&0<=m.windowBits&&m.windowBits<16&&(m.windowBits=-m.windowBits,m.windowBits===0&&(m.windowBits=-15)),!(0<=m.windowBits&&m.windowBits<16)||p&&p.windowBits||(m.windowBits+=32),15<m.windowBits&&m.windowBits<48&&(15&m.windowBits)==0&&(m.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new d,this.strm.avail_out=0;var g=a.inflateInit2(this.strm,m.windowBits);if(g!==c.Z_OK)throw new Error(u[g]);this.header=new h,a.inflateGetHeader(this.strm,this.header)}function v(p,m){var g=new A(m);if(g.push(p,!0),g.err)throw g.msg||u[g.err];return g.result}A.prototype.push=function(p,m){var g,x,b,j,N,_,C=this.strm,k=this.options.chunkSize,T=this.options.dictionary,O=!1;if(this.ended)return!1;x=m===~~m?m:m===!0?c.Z_FINISH:c.Z_NO_FLUSH,typeof p=="string"?C.input=l.binstring2buf(p):f.call(p)==="[object ArrayBuffer]"?C.input=new Uint8Array(p):C.input=p,C.next_in=0,C.avail_in=C.input.length;do{if(C.avail_out===0&&(C.output=new o.Buf8(k),C.next_out=0,C.avail_out=k),(g=a.inflate(C,c.Z_NO_FLUSH))===c.Z_NEED_DICT&&T&&(_=typeof T=="string"?l.string2buf(T):f.call(T)==="[object ArrayBuffer]"?new Uint8Array(T):T,g=a.inflateSetDictionary(this.strm,_)),g===c.Z_BUF_ERROR&&O===!0&&(g=c.Z_OK,O=!1),g!==c.Z_STREAM_END&&g!==c.Z_OK)return this.onEnd(g),!(this.ended=!0);C.next_out&&(C.avail_out!==0&&g!==c.Z_STREAM_END&&(C.avail_in!==0||x!==c.Z_FINISH&&x!==c.Z_SYNC_FLUSH)||(this.options.to==="string"?(b=l.utf8border(C.output,C.next_out),j=C.next_out-b,N=l.buf2string(C.output,b),C.next_out=j,C.avail_out=k-j,j&&o.arraySet(C.output,C.output,b,j,0),this.onData(N)):this.onData(o.shrinkBuf(C.output,C.next_out)))),C.avail_in===0&&C.avail_out===0&&(O=!0)}while((0<C.avail_in||C.avail_out===0)&&g!==c.Z_STREAM_END);return g===c.Z_STREAM_END&&(x=c.Z_FINISH),x===c.Z_FINISH?(g=a.inflateEnd(this.strm),this.onEnd(g),this.ended=!0,g===c.Z_OK):x!==c.Z_SYNC_FLUSH||(this.onEnd(c.Z_OK),!(C.avail_out=0))},A.prototype.onData=function(p){this.chunks.push(p)},A.prototype.onEnd=function(p){p===c.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=o.flattenChunks(this.chunks)),this.chunks=[],this.err=p,this.msg=this.strm.msg},s.Inflate=A,s.inflate=v,s.inflateRaw=function(p,m){return(m=m||{}).raw=!0,v(p,m)},s.ungzip=v},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(n,r,s){var a=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";s.assign=function(c){for(var u=Array.prototype.slice.call(arguments,1);u.length;){var d=u.shift();if(d){if(typeof d!="object")throw new TypeError(d+"must be non-object");for(var h in d)d.hasOwnProperty(h)&&(c[h]=d[h])}}return c},s.shrinkBuf=function(c,u){return c.length===u?c:c.subarray?c.subarray(0,u):(c.length=u,c)};var o={arraySet:function(c,u,d,h,f){if(u.subarray&&c.subarray)c.set(u.subarray(d,d+h),f);else for(var A=0;A<h;A++)c[f+A]=u[d+A]},flattenChunks:function(c){var u,d,h,f,A,v;for(u=h=0,d=c.length;u<d;u++)h+=c[u].length;for(v=new Uint8Array(h),u=f=0,d=c.length;u<d;u++)A=c[u],v.set(A,f),f+=A.length;return v}},l={arraySet:function(c,u,d,h,f){for(var A=0;A<h;A++)c[f+A]=u[d+A]},flattenChunks:function(c){return[].concat.apply([],c)}};s.setTyped=function(c){c?(s.Buf8=Uint8Array,s.Buf16=Uint16Array,s.Buf32=Int32Array,s.assign(s,o)):(s.Buf8=Array,s.Buf16=Array,s.Buf32=Array,s.assign(s,l))},s.setTyped(a)},{}],42:[function(n,r,s){var a=n("./common"),o=!0,l=!0;try{String.fromCharCode.apply(null,[0])}catch{o=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{l=!1}for(var c=new a.Buf8(256),u=0;u<256;u++)c[u]=252<=u?6:248<=u?5:240<=u?4:224<=u?3:192<=u?2:1;function d(h,f){if(f<65537&&(h.subarray&&l||!h.subarray&&o))return String.fromCharCode.apply(null,a.shrinkBuf(h,f));for(var A="",v=0;v<f;v++)A+=String.fromCharCode(h[v]);return A}c[254]=c[254]=1,s.string2buf=function(h){var f,A,v,p,m,g=h.length,x=0;for(p=0;p<g;p++)(64512&(A=h.charCodeAt(p)))==55296&&p+1<g&&(64512&(v=h.charCodeAt(p+1)))==56320&&(A=65536+(A-55296<<10)+(v-56320),p++),x+=A<128?1:A<2048?2:A<65536?3:4;for(f=new a.Buf8(x),p=m=0;m<x;p++)(64512&(A=h.charCodeAt(p)))==55296&&p+1<g&&(64512&(v=h.charCodeAt(p+1)))==56320&&(A=65536+(A-55296<<10)+(v-56320),p++),A<128?f[m++]=A:(A<2048?f[m++]=192|A>>>6:(A<65536?f[m++]=224|A>>>12:(f[m++]=240|A>>>18,f[m++]=128|A>>>12&63),f[m++]=128|A>>>6&63),f[m++]=128|63&A);return f},s.buf2binstring=function(h){return d(h,h.length)},s.binstring2buf=function(h){for(var f=new a.Buf8(h.length),A=0,v=f.length;A<v;A++)f[A]=h.charCodeAt(A);return f},s.buf2string=function(h,f){var A,v,p,m,g=f||h.length,x=new Array(2*g);for(A=v=0;A<g;)if((p=h[A++])<128)x[v++]=p;else if(4<(m=c[p]))x[v++]=65533,A+=m-1;else{for(p&=m===2?31:m===3?15:7;1<m&&A<g;)p=p<<6|63&h[A++],m--;1<m?x[v++]=65533:p<65536?x[v++]=p:(p-=65536,x[v++]=55296|p>>10&1023,x[v++]=56320|1023&p)}return d(x,v)},s.utf8border=function(h,f){var A;for((f=f||h.length)>h.length&&(f=h.length),A=f-1;0<=A&&(192&h[A])==128;)A--;return A<0||A===0?f:A+c[h[A]]>f?A:f}},{"./common":41}],43:[function(n,r,s){r.exports=function(a,o,l,c){for(var u=65535&a|0,d=a>>>16&65535|0,h=0;l!==0;){for(l-=h=2e3<l?2e3:l;d=d+(u=u+o[c++]|0)|0,--h;);u%=65521,d%=65521}return u|d<<16|0}},{}],44:[function(n,r,s){r.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(n,r,s){var a=function(){for(var o,l=[],c=0;c<256;c++){o=c;for(var u=0;u<8;u++)o=1&o?3988292384^o>>>1:o>>>1;l[c]=o}return l}();r.exports=function(o,l,c,u){var d=a,h=u+c;o^=-1;for(var f=u;f<h;f++)o=o>>>8^d[255&(o^l[f])];return-1^o}},{}],46:[function(n,r,s){var a,o=n("../utils/common"),l=n("./trees"),c=n("./adler32"),u=n("./crc32"),d=n("./messages"),h=0,f=4,A=0,v=-2,p=-1,m=4,g=2,x=8,b=9,j=286,N=30,_=19,C=2*j+1,k=15,T=3,O=258,I=O+T+1,F=42,M=113,S=1,q=2,U=3,L=4;function z(X,ue){return X.msg=d[ue],ue}function $(X){return(X<<1)-(4<X?9:0)}function K(X){for(var ue=X.length;0<=--ue;)X[ue]=0}function V(X){var ue=X.state,re=ue.pending;re>X.avail_out&&(re=X.avail_out),re!==0&&(o.arraySet(X.output,ue.pending_buf,ue.pending_out,re,X.next_out),X.next_out+=re,ue.pending_out+=re,X.total_out+=re,X.avail_out-=re,ue.pending-=re,ue.pending===0&&(ue.pending_out=0))}function H(X,ue){l._tr_flush_block(X,0<=X.block_start?X.block_start:-1,X.strstart-X.block_start,ue),X.block_start=X.strstart,V(X.strm)}function W(X,ue){X.pending_buf[X.pending++]=ue}function Y(X,ue){X.pending_buf[X.pending++]=ue>>>8&255,X.pending_buf[X.pending++]=255&ue}function ee(X,ue){var re,de,ce=X.max_chain_length,Ne=X.strstart,$e=X.prev_length,ze=X.nice_match,Fe=X.strstart>X.w_size-I?X.strstart-(X.w_size-I):0,De=X.window,Ce=X.w_mask,Oe=X.prev,We=X.strstart+O,ut=De[Ne+$e-1],yt=De[Ne+$e];X.prev_length>=X.good_match&&(ce>>=2),ze>X.lookahead&&(ze=X.lookahead);do if(De[(re=ue)+$e]===yt&&De[re+$e-1]===ut&&De[re]===De[Ne]&&De[++re]===De[Ne+1]){Ne+=2,re++;do;while(De[++Ne]===De[++re]&&De[++Ne]===De[++re]&&De[++Ne]===De[++re]&&De[++Ne]===De[++re]&&De[++Ne]===De[++re]&&De[++Ne]===De[++re]&&De[++Ne]===De[++re]&&De[++Ne]===De[++re]&&Ne<We);if(de=O-(We-Ne),Ne=We-O,$e<de){if(X.match_start=ue,ze<=($e=de))break;ut=De[Ne+$e-1],yt=De[Ne+$e]}}while((ue=Oe[ue&Ce])>Fe&&--ce!=0);return $e<=X.lookahead?$e:X.lookahead}function ie(X){var ue,re,de,ce,Ne,$e,ze,Fe,De,Ce,Oe=X.w_size;do{if(ce=X.window_size-X.lookahead-X.strstart,X.strstart>=Oe+(Oe-I)){for(o.arraySet(X.window,X.window,Oe,Oe,0),X.match_start-=Oe,X.strstart-=Oe,X.block_start-=Oe,ue=re=X.hash_size;de=X.head[--ue],X.head[ue]=Oe<=de?de-Oe:0,--re;);for(ue=re=Oe;de=X.prev[--ue],X.prev[ue]=Oe<=de?de-Oe:0,--re;);ce+=Oe}if(X.strm.avail_in===0)break;if($e=X.strm,ze=X.window,Fe=X.strstart+X.lookahead,De=ce,Ce=void 0,Ce=$e.avail_in,De<Ce&&(Ce=De),re=Ce===0?0:($e.avail_in-=Ce,o.arraySet(ze,$e.input,$e.next_in,Ce,Fe),$e.state.wrap===1?$e.adler=c($e.adler,ze,Ce,Fe):$e.state.wrap===2&&($e.adler=u($e.adler,ze,Ce,Fe)),$e.next_in+=Ce,$e.total_in+=Ce,Ce),X.lookahead+=re,X.lookahead+X.insert>=T)for(Ne=X.strstart-X.insert,X.ins_h=X.window[Ne],X.ins_h=(X.ins_h<<X.hash_shift^X.window[Ne+1])&X.hash_mask;X.insert&&(X.ins_h=(X.ins_h<<X.hash_shift^X.window[Ne+T-1])&X.hash_mask,X.prev[Ne&X.w_mask]=X.head[X.ins_h],X.head[X.ins_h]=Ne,Ne++,X.insert--,!(X.lookahead+X.insert<T)););}while(X.lookahead<I&&X.strm.avail_in!==0)}function se(X,ue){for(var re,de;;){if(X.lookahead<I){if(ie(X),X.lookahead<I&&ue===h)return S;if(X.lookahead===0)break}if(re=0,X.lookahead>=T&&(X.ins_h=(X.ins_h<<X.hash_shift^X.window[X.strstart+T-1])&X.hash_mask,re=X.prev[X.strstart&X.w_mask]=X.head[X.ins_h],X.head[X.ins_h]=X.strstart),re!==0&&X.strstart-re<=X.w_size-I&&(X.match_length=ee(X,re)),X.match_length>=T)if(de=l._tr_tally(X,X.strstart-X.match_start,X.match_length-T),X.lookahead-=X.match_length,X.match_length<=X.max_lazy_match&&X.lookahead>=T){for(X.match_length--;X.strstart++,X.ins_h=(X.ins_h<<X.hash_shift^X.window[X.strstart+T-1])&X.hash_mask,re=X.prev[X.strstart&X.w_mask]=X.head[X.ins_h],X.head[X.ins_h]=X.strstart,--X.match_length!=0;);X.strstart++}else X.strstart+=X.match_length,X.match_length=0,X.ins_h=X.window[X.strstart],X.ins_h=(X.ins_h<<X.hash_shift^X.window[X.strstart+1])&X.hash_mask;else de=l._tr_tally(X,0,X.window[X.strstart]),X.lookahead--,X.strstart++;if(de&&(H(X,!1),X.strm.avail_out===0))return S}return X.insert=X.strstart<T-1?X.strstart:T-1,ue===f?(H(X,!0),X.strm.avail_out===0?U:L):X.last_lit&&(H(X,!1),X.strm.avail_out===0)?S:q}function Ae(X,ue){for(var re,de,ce;;){if(X.lookahead<I){if(ie(X),X.lookahead<I&&ue===h)return S;if(X.lookahead===0)break}if(re=0,X.lookahead>=T&&(X.ins_h=(X.ins_h<<X.hash_shift^X.window[X.strstart+T-1])&X.hash_mask,re=X.prev[X.strstart&X.w_mask]=X.head[X.ins_h],X.head[X.ins_h]=X.strstart),X.prev_length=X.match_length,X.prev_match=X.match_start,X.match_length=T-1,re!==0&&X.prev_length<X.max_lazy_match&&X.strstart-re<=X.w_size-I&&(X.match_length=ee(X,re),X.match_length<=5&&(X.strategy===1||X.match_length===T&&4096<X.strstart-X.match_start)&&(X.match_length=T-1)),X.prev_length>=T&&X.match_length<=X.prev_length){for(ce=X.strstart+X.lookahead-T,de=l._tr_tally(X,X.strstart-1-X.prev_match,X.prev_length-T),X.lookahead-=X.prev_length-1,X.prev_length-=2;++X.strstart<=ce&&(X.ins_h=(X.ins_h<<X.hash_shift^X.window[X.strstart+T-1])&X.hash_mask,re=X.prev[X.strstart&X.w_mask]=X.head[X.ins_h],X.head[X.ins_h]=X.strstart),--X.prev_length!=0;);if(X.match_available=0,X.match_length=T-1,X.strstart++,de&&(H(X,!1),X.strm.avail_out===0))return S}else if(X.match_available){if((de=l._tr_tally(X,0,X.window[X.strstart-1]))&&H(X,!1),X.strstart++,X.lookahead--,X.strm.avail_out===0)return S}else X.match_available=1,X.strstart++,X.lookahead--}return X.match_available&&(de=l._tr_tally(X,0,X.window[X.strstart-1]),X.match_available=0),X.insert=X.strstart<T-1?X.strstart:T-1,ue===f?(H(X,!0),X.strm.avail_out===0?U:L):X.last_lit&&(H(X,!1),X.strm.avail_out===0)?S:q}function he(X,ue,re,de,ce){this.good_length=X,this.max_lazy=ue,this.nice_length=re,this.max_chain=de,this.func=ce}function Be(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=x,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new o.Buf16(2*C),this.dyn_dtree=new o.Buf16(2*(2*N+1)),this.bl_tree=new o.Buf16(2*(2*_+1)),K(this.dyn_ltree),K(this.dyn_dtree),K(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new o.Buf16(k+1),this.heap=new o.Buf16(2*j+1),K(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new o.Buf16(2*j+1),K(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function Me(X){var ue;return X&&X.state?(X.total_in=X.total_out=0,X.data_type=g,(ue=X.state).pending=0,ue.pending_out=0,ue.wrap<0&&(ue.wrap=-ue.wrap),ue.status=ue.wrap?F:M,X.adler=ue.wrap===2?0:1,ue.last_flush=h,l._tr_init(ue),A):z(X,v)}function Ie(X){var ue=Me(X);return ue===A&&function(re){re.window_size=2*re.w_size,K(re.head),re.max_lazy_match=a[re.level].max_lazy,re.good_match=a[re.level].good_length,re.nice_match=a[re.level].nice_length,re.max_chain_length=a[re.level].max_chain,re.strstart=0,re.block_start=0,re.lookahead=0,re.insert=0,re.match_length=re.prev_length=T-1,re.match_available=0,re.ins_h=0}(X.state),ue}function Ye(X,ue,re,de,ce,Ne){if(!X)return v;var $e=1;if(ue===p&&(ue=6),de<0?($e=0,de=-de):15<de&&($e=2,de-=16),ce<1||b<ce||re!==x||de<8||15<de||ue<0||9<ue||Ne<0||m<Ne)return z(X,v);de===8&&(de=9);var ze=new Be;return(X.state=ze).strm=X,ze.wrap=$e,ze.gzhead=null,ze.w_bits=de,ze.w_size=1<<ze.w_bits,ze.w_mask=ze.w_size-1,ze.hash_bits=ce+7,ze.hash_size=1<<ze.hash_bits,ze.hash_mask=ze.hash_size-1,ze.hash_shift=~~((ze.hash_bits+T-1)/T),ze.window=new o.Buf8(2*ze.w_size),ze.head=new o.Buf16(ze.hash_size),ze.prev=new o.Buf16(ze.w_size),ze.lit_bufsize=1<<ce+6,ze.pending_buf_size=4*ze.lit_bufsize,ze.pending_buf=new o.Buf8(ze.pending_buf_size),ze.d_buf=1*ze.lit_bufsize,ze.l_buf=3*ze.lit_bufsize,ze.level=ue,ze.strategy=Ne,ze.method=re,Ie(X)}a=[new he(0,0,0,0,function(X,ue){var re=65535;for(re>X.pending_buf_size-5&&(re=X.pending_buf_size-5);;){if(X.lookahead<=1){if(ie(X),X.lookahead===0&&ue===h)return S;if(X.lookahead===0)break}X.strstart+=X.lookahead,X.lookahead=0;var de=X.block_start+re;if((X.strstart===0||X.strstart>=de)&&(X.lookahead=X.strstart-de,X.strstart=de,H(X,!1),X.strm.avail_out===0)||X.strstart-X.block_start>=X.w_size-I&&(H(X,!1),X.strm.avail_out===0))return S}return X.insert=0,ue===f?(H(X,!0),X.strm.avail_out===0?U:L):(X.strstart>X.block_start&&(H(X,!1),X.strm.avail_out),S)}),new he(4,4,8,4,se),new he(4,5,16,8,se),new he(4,6,32,32,se),new he(4,4,16,16,Ae),new he(8,16,32,32,Ae),new he(8,16,128,128,Ae),new he(8,32,128,256,Ae),new he(32,128,258,1024,Ae),new he(32,258,258,4096,Ae)],s.deflateInit=function(X,ue){return Ye(X,ue,x,15,8,0)},s.deflateInit2=Ye,s.deflateReset=Ie,s.deflateResetKeep=Me,s.deflateSetHeader=function(X,ue){return X&&X.state?X.state.wrap!==2?v:(X.state.gzhead=ue,A):v},s.deflate=function(X,ue){var re,de,ce,Ne;if(!X||!X.state||5<ue||ue<0)return X?z(X,v):v;if(de=X.state,!X.output||!X.input&&X.avail_in!==0||de.status===666&&ue!==f)return z(X,X.avail_out===0?-5:v);if(de.strm=X,re=de.last_flush,de.last_flush=ue,de.status===F)if(de.wrap===2)X.adler=0,W(de,31),W(de,139),W(de,8),de.gzhead?(W(de,(de.gzhead.text?1:0)+(de.gzhead.hcrc?2:0)+(de.gzhead.extra?4:0)+(de.gzhead.name?8:0)+(de.gzhead.comment?16:0)),W(de,255&de.gzhead.time),W(de,de.gzhead.time>>8&255),W(de,de.gzhead.time>>16&255),W(de,de.gzhead.time>>24&255),W(de,de.level===9?2:2<=de.strategy||de.level<2?4:0),W(de,255&de.gzhead.os),de.gzhead.extra&&de.gzhead.extra.length&&(W(de,255&de.gzhead.extra.length),W(de,de.gzhead.extra.length>>8&255)),de.gzhead.hcrc&&(X.adler=u(X.adler,de.pending_buf,de.pending,0)),de.gzindex=0,de.status=69):(W(de,0),W(de,0),W(de,0),W(de,0),W(de,0),W(de,de.level===9?2:2<=de.strategy||de.level<2?4:0),W(de,3),de.status=M);else{var $e=x+(de.w_bits-8<<4)<<8;$e|=(2<=de.strategy||de.level<2?0:de.level<6?1:de.level===6?2:3)<<6,de.strstart!==0&&($e|=32),$e+=31-$e%31,de.status=M,Y(de,$e),de.strstart!==0&&(Y(de,X.adler>>>16),Y(de,65535&X.adler)),X.adler=1}if(de.status===69)if(de.gzhead.extra){for(ce=de.pending;de.gzindex<(65535&de.gzhead.extra.length)&&(de.pending!==de.pending_buf_size||(de.gzhead.hcrc&&de.pending>ce&&(X.adler=u(X.adler,de.pending_buf,de.pending-ce,ce)),V(X),ce=de.pending,de.pending!==de.pending_buf_size));)W(de,255&de.gzhead.extra[de.gzindex]),de.gzindex++;de.gzhead.hcrc&&de.pending>ce&&(X.adler=u(X.adler,de.pending_buf,de.pending-ce,ce)),de.gzindex===de.gzhead.extra.length&&(de.gzindex=0,de.status=73)}else de.status=73;if(de.status===73)if(de.gzhead.name){ce=de.pending;do{if(de.pending===de.pending_buf_size&&(de.gzhead.hcrc&&de.pending>ce&&(X.adler=u(X.adler,de.pending_buf,de.pending-ce,ce)),V(X),ce=de.pending,de.pending===de.pending_buf_size)){Ne=1;break}Ne=de.gzindex<de.gzhead.name.length?255&de.gzhead.name.charCodeAt(de.gzindex++):0,W(de,Ne)}while(Ne!==0);de.gzhead.hcrc&&de.pending>ce&&(X.adler=u(X.adler,de.pending_buf,de.pending-ce,ce)),Ne===0&&(de.gzindex=0,de.status=91)}else de.status=91;if(de.status===91)if(de.gzhead.comment){ce=de.pending;do{if(de.pending===de.pending_buf_size&&(de.gzhead.hcrc&&de.pending>ce&&(X.adler=u(X.adler,de.pending_buf,de.pending-ce,ce)),V(X),ce=de.pending,de.pending===de.pending_buf_size)){Ne=1;break}Ne=de.gzindex<de.gzhead.comment.length?255&de.gzhead.comment.charCodeAt(de.gzindex++):0,W(de,Ne)}while(Ne!==0);de.gzhead.hcrc&&de.pending>ce&&(X.adler=u(X.adler,de.pending_buf,de.pending-ce,ce)),Ne===0&&(de.status=103)}else de.status=103;if(de.status===103&&(de.gzhead.hcrc?(de.pending+2>de.pending_buf_size&&V(X),de.pending+2<=de.pending_buf_size&&(W(de,255&X.adler),W(de,X.adler>>8&255),X.adler=0,de.status=M)):de.status=M),de.pending!==0){if(V(X),X.avail_out===0)return de.last_flush=-1,A}else if(X.avail_in===0&&$(ue)<=$(re)&&ue!==f)return z(X,-5);if(de.status===666&&X.avail_in!==0)return z(X,-5);if(X.avail_in!==0||de.lookahead!==0||ue!==h&&de.status!==666){var ze=de.strategy===2?function(Fe,De){for(var Ce;;){if(Fe.lookahead===0&&(ie(Fe),Fe.lookahead===0)){if(De===h)return S;break}if(Fe.match_length=0,Ce=l._tr_tally(Fe,0,Fe.window[Fe.strstart]),Fe.lookahead--,Fe.strstart++,Ce&&(H(Fe,!1),Fe.strm.avail_out===0))return S}return Fe.insert=0,De===f?(H(Fe,!0),Fe.strm.avail_out===0?U:L):Fe.last_lit&&(H(Fe,!1),Fe.strm.avail_out===0)?S:q}(de,ue):de.strategy===3?function(Fe,De){for(var Ce,Oe,We,ut,yt=Fe.window;;){if(Fe.lookahead<=O){if(ie(Fe),Fe.lookahead<=O&&De===h)return S;if(Fe.lookahead===0)break}if(Fe.match_length=0,Fe.lookahead>=T&&0<Fe.strstart&&(Oe=yt[We=Fe.strstart-1])===yt[++We]&&Oe===yt[++We]&&Oe===yt[++We]){ut=Fe.strstart+O;do;while(Oe===yt[++We]&&Oe===yt[++We]&&Oe===yt[++We]&&Oe===yt[++We]&&Oe===yt[++We]&&Oe===yt[++We]&&Oe===yt[++We]&&Oe===yt[++We]&&We<ut);Fe.match_length=O-(ut-We),Fe.match_length>Fe.lookahead&&(Fe.match_length=Fe.lookahead)}if(Fe.match_length>=T?(Ce=l._tr_tally(Fe,1,Fe.match_length-T),Fe.lookahead-=Fe.match_length,Fe.strstart+=Fe.match_length,Fe.match_length=0):(Ce=l._tr_tally(Fe,0,Fe.window[Fe.strstart]),Fe.lookahead--,Fe.strstart++),Ce&&(H(Fe,!1),Fe.strm.avail_out===0))return S}return Fe.insert=0,De===f?(H(Fe,!0),Fe.strm.avail_out===0?U:L):Fe.last_lit&&(H(Fe,!1),Fe.strm.avail_out===0)?S:q}(de,ue):a[de.level].func(de,ue);if(ze!==U&&ze!==L||(de.status=666),ze===S||ze===U)return X.avail_out===0&&(de.last_flush=-1),A;if(ze===q&&(ue===1?l._tr_align(de):ue!==5&&(l._tr_stored_block(de,0,0,!1),ue===3&&(K(de.head),de.lookahead===0&&(de.strstart=0,de.block_start=0,de.insert=0))),V(X),X.avail_out===0))return de.last_flush=-1,A}return ue!==f?A:de.wrap<=0?1:(de.wrap===2?(W(de,255&X.adler),W(de,X.adler>>8&255),W(de,X.adler>>16&255),W(de,X.adler>>24&255),W(de,255&X.total_in),W(de,X.total_in>>8&255),W(de,X.total_in>>16&255),W(de,X.total_in>>24&255)):(Y(de,X.adler>>>16),Y(de,65535&X.adler)),V(X),0<de.wrap&&(de.wrap=-de.wrap),de.pending!==0?A:1)},s.deflateEnd=function(X){var ue;return X&&X.state?(ue=X.state.status)!==F&&ue!==69&&ue!==73&&ue!==91&&ue!==103&&ue!==M&&ue!==666?z(X,v):(X.state=null,ue===M?z(X,-3):A):v},s.deflateSetDictionary=function(X,ue){var re,de,ce,Ne,$e,ze,Fe,De,Ce=ue.length;if(!X||!X.state||(Ne=(re=X.state).wrap)===2||Ne===1&&re.status!==F||re.lookahead)return v;for(Ne===1&&(X.adler=c(X.adler,ue,Ce,0)),re.wrap=0,Ce>=re.w_size&&(Ne===0&&(K(re.head),re.strstart=0,re.block_start=0,re.insert=0),De=new o.Buf8(re.w_size),o.arraySet(De,ue,Ce-re.w_size,re.w_size,0),ue=De,Ce=re.w_size),$e=X.avail_in,ze=X.next_in,Fe=X.input,X.avail_in=Ce,X.next_in=0,X.input=ue,ie(re);re.lookahead>=T;){for(de=re.strstart,ce=re.lookahead-(T-1);re.ins_h=(re.ins_h<<re.hash_shift^re.window[de+T-1])&re.hash_mask,re.prev[de&re.w_mask]=re.head[re.ins_h],re.head[re.ins_h]=de,de++,--ce;);re.strstart=de,re.lookahead=T-1,ie(re)}return re.strstart+=re.lookahead,re.block_start=re.strstart,re.insert=re.lookahead,re.lookahead=0,re.match_length=re.prev_length=T-1,re.match_available=0,X.next_in=ze,X.input=Fe,X.avail_in=$e,re.wrap=Ne,A},s.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(n,r,s){r.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(n,r,s){r.exports=function(a,o){var l,c,u,d,h,f,A,v,p,m,g,x,b,j,N,_,C,k,T,O,I,F,M,S,q;l=a.state,c=a.next_in,S=a.input,u=c+(a.avail_in-5),d=a.next_out,q=a.output,h=d-(o-a.avail_out),f=d+(a.avail_out-257),A=l.dmax,v=l.wsize,p=l.whave,m=l.wnext,g=l.window,x=l.hold,b=l.bits,j=l.lencode,N=l.distcode,_=(1<<l.lenbits)-1,C=(1<<l.distbits)-1;e:do{b<15&&(x+=S[c++]<<b,b+=8,x+=S[c++]<<b,b+=8),k=j[x&_];t:for(;;){if(x>>>=T=k>>>24,b-=T,(T=k>>>16&255)===0)q[d++]=65535&k;else{if(!(16&T)){if((64&T)==0){k=j[(65535&k)+(x&(1<<T)-1)];continue t}if(32&T){l.mode=12;break e}a.msg="invalid literal/length code",l.mode=30;break e}O=65535&k,(T&=15)&&(b<T&&(x+=S[c++]<<b,b+=8),O+=x&(1<<T)-1,x>>>=T,b-=T),b<15&&(x+=S[c++]<<b,b+=8,x+=S[c++]<<b,b+=8),k=N[x&C];n:for(;;){if(x>>>=T=k>>>24,b-=T,!(16&(T=k>>>16&255))){if((64&T)==0){k=N[(65535&k)+(x&(1<<T)-1)];continue n}a.msg="invalid distance code",l.mode=30;break e}if(I=65535&k,b<(T&=15)&&(x+=S[c++]<<b,(b+=8)<T&&(x+=S[c++]<<b,b+=8)),A<(I+=x&(1<<T)-1)){a.msg="invalid distance too far back",l.mode=30;break e}if(x>>>=T,b-=T,(T=d-h)<I){if(p<(T=I-T)&&l.sane){a.msg="invalid distance too far back",l.mode=30;break e}if(M=g,(F=0)===m){if(F+=v-T,T<O){for(O-=T;q[d++]=g[F++],--T;);F=d-I,M=q}}else if(m<T){if(F+=v+m-T,(T-=m)<O){for(O-=T;q[d++]=g[F++],--T;);if(F=0,m<O){for(O-=T=m;q[d++]=g[F++],--T;);F=d-I,M=q}}}else if(F+=m-T,T<O){for(O-=T;q[d++]=g[F++],--T;);F=d-I,M=q}for(;2<O;)q[d++]=M[F++],q[d++]=M[F++],q[d++]=M[F++],O-=3;O&&(q[d++]=M[F++],1<O&&(q[d++]=M[F++]))}else{for(F=d-I;q[d++]=q[F++],q[d++]=q[F++],q[d++]=q[F++],2<(O-=3););O&&(q[d++]=q[F++],1<O&&(q[d++]=q[F++]))}break}}break}}while(c<u&&d<f);c-=O=b>>3,x&=(1<<(b-=O<<3))-1,a.next_in=c,a.next_out=d,a.avail_in=c<u?u-c+5:5-(c-u),a.avail_out=d<f?f-d+257:257-(d-f),l.hold=x,l.bits=b}},{}],49:[function(n,r,s){var a=n("../utils/common"),o=n("./adler32"),l=n("./crc32"),c=n("./inffast"),u=n("./inftrees"),d=1,h=2,f=0,A=-2,v=1,p=852,m=592;function g(F){return(F>>>24&255)+(F>>>8&65280)+((65280&F)<<8)+((255&F)<<24)}function x(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new a.Buf16(320),this.work=new a.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function b(F){var M;return F&&F.state?(M=F.state,F.total_in=F.total_out=M.total=0,F.msg="",M.wrap&&(F.adler=1&M.wrap),M.mode=v,M.last=0,M.havedict=0,M.dmax=32768,M.head=null,M.hold=0,M.bits=0,M.lencode=M.lendyn=new a.Buf32(p),M.distcode=M.distdyn=new a.Buf32(m),M.sane=1,M.back=-1,f):A}function j(F){var M;return F&&F.state?((M=F.state).wsize=0,M.whave=0,M.wnext=0,b(F)):A}function N(F,M){var S,q;return F&&F.state?(q=F.state,M<0?(S=0,M=-M):(S=1+(M>>4),M<48&&(M&=15)),M&&(M<8||15<M)?A:(q.window!==null&&q.wbits!==M&&(q.window=null),q.wrap=S,q.wbits=M,j(F))):A}function _(F,M){var S,q;return F?(q=new x,(F.state=q).window=null,(S=N(F,M))!==f&&(F.state=null),S):A}var C,k,T=!0;function O(F){if(T){var M;for(C=new a.Buf32(512),k=new a.Buf32(32),M=0;M<144;)F.lens[M++]=8;for(;M<256;)F.lens[M++]=9;for(;M<280;)F.lens[M++]=7;for(;M<288;)F.lens[M++]=8;for(u(d,F.lens,0,288,C,0,F.work,{bits:9}),M=0;M<32;)F.lens[M++]=5;u(h,F.lens,0,32,k,0,F.work,{bits:5}),T=!1}F.lencode=C,F.lenbits=9,F.distcode=k,F.distbits=5}function I(F,M,S,q){var U,L=F.state;return L.window===null&&(L.wsize=1<<L.wbits,L.wnext=0,L.whave=0,L.window=new a.Buf8(L.wsize)),q>=L.wsize?(a.arraySet(L.window,M,S-L.wsize,L.wsize,0),L.wnext=0,L.whave=L.wsize):(q<(U=L.wsize-L.wnext)&&(U=q),a.arraySet(L.window,M,S-q,U,L.wnext),(q-=U)?(a.arraySet(L.window,M,S-q,q,0),L.wnext=q,L.whave=L.wsize):(L.wnext+=U,L.wnext===L.wsize&&(L.wnext=0),L.whave<L.wsize&&(L.whave+=U))),0}s.inflateReset=j,s.inflateReset2=N,s.inflateResetKeep=b,s.inflateInit=function(F){return _(F,15)},s.inflateInit2=_,s.inflate=function(F,M){var S,q,U,L,z,$,K,V,H,W,Y,ee,ie,se,Ae,he,Be,Me,Ie,Ye,X,ue,re,de,ce=0,Ne=new a.Buf8(4),$e=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!F||!F.state||!F.output||!F.input&&F.avail_in!==0)return A;(S=F.state).mode===12&&(S.mode=13),z=F.next_out,U=F.output,K=F.avail_out,L=F.next_in,q=F.input,$=F.avail_in,V=S.hold,H=S.bits,W=$,Y=K,ue=f;e:for(;;)switch(S.mode){case v:if(S.wrap===0){S.mode=13;break}for(;H<16;){if($===0)break e;$--,V+=q[L++]<<H,H+=8}if(2&S.wrap&&V===35615){Ne[S.check=0]=255&V,Ne[1]=V>>>8&255,S.check=l(S.check,Ne,2,0),H=V=0,S.mode=2;break}if(S.flags=0,S.head&&(S.head.done=!1),!(1&S.wrap)||(((255&V)<<8)+(V>>8))%31){F.msg="incorrect header check",S.mode=30;break}if((15&V)!=8){F.msg="unknown compression method",S.mode=30;break}if(H-=4,X=8+(15&(V>>>=4)),S.wbits===0)S.wbits=X;else if(X>S.wbits){F.msg="invalid window size",S.mode=30;break}S.dmax=1<<X,F.adler=S.check=1,S.mode=512&V?10:12,H=V=0;break;case 2:for(;H<16;){if($===0)break e;$--,V+=q[L++]<<H,H+=8}if(S.flags=V,(255&S.flags)!=8){F.msg="unknown compression method",S.mode=30;break}if(57344&S.flags){F.msg="unknown header flags set",S.mode=30;break}S.head&&(S.head.text=V>>8&1),512&S.flags&&(Ne[0]=255&V,Ne[1]=V>>>8&255,S.check=l(S.check,Ne,2,0)),H=V=0,S.mode=3;case 3:for(;H<32;){if($===0)break e;$--,V+=q[L++]<<H,H+=8}S.head&&(S.head.time=V),512&S.flags&&(Ne[0]=255&V,Ne[1]=V>>>8&255,Ne[2]=V>>>16&255,Ne[3]=V>>>24&255,S.check=l(S.check,Ne,4,0)),H=V=0,S.mode=4;case 4:for(;H<16;){if($===0)break e;$--,V+=q[L++]<<H,H+=8}S.head&&(S.head.xflags=255&V,S.head.os=V>>8),512&S.flags&&(Ne[0]=255&V,Ne[1]=V>>>8&255,S.check=l(S.check,Ne,2,0)),H=V=0,S.mode=5;case 5:if(1024&S.flags){for(;H<16;){if($===0)break e;$--,V+=q[L++]<<H,H+=8}S.length=V,S.head&&(S.head.extra_len=V),512&S.flags&&(Ne[0]=255&V,Ne[1]=V>>>8&255,S.check=l(S.check,Ne,2,0)),H=V=0}else S.head&&(S.head.extra=null);S.mode=6;case 6:if(1024&S.flags&&($<(ee=S.length)&&(ee=$),ee&&(S.head&&(X=S.head.extra_len-S.length,S.head.extra||(S.head.extra=new Array(S.head.extra_len)),a.arraySet(S.head.extra,q,L,ee,X)),512&S.flags&&(S.check=l(S.check,q,ee,L)),$-=ee,L+=ee,S.length-=ee),S.length))break e;S.length=0,S.mode=7;case 7:if(2048&S.flags){if($===0)break e;for(ee=0;X=q[L+ee++],S.head&&X&&S.length<65536&&(S.head.name+=String.fromCharCode(X)),X&&ee<$;);if(512&S.flags&&(S.check=l(S.check,q,ee,L)),$-=ee,L+=ee,X)break e}else S.head&&(S.head.name=null);S.length=0,S.mode=8;case 8:if(4096&S.flags){if($===0)break e;for(ee=0;X=q[L+ee++],S.head&&X&&S.length<65536&&(S.head.comment+=String.fromCharCode(X)),X&&ee<$;);if(512&S.flags&&(S.check=l(S.check,q,ee,L)),$-=ee,L+=ee,X)break e}else S.head&&(S.head.comment=null);S.mode=9;case 9:if(512&S.flags){for(;H<16;){if($===0)break e;$--,V+=q[L++]<<H,H+=8}if(V!==(65535&S.check)){F.msg="header crc mismatch",S.mode=30;break}H=V=0}S.head&&(S.head.hcrc=S.flags>>9&1,S.head.done=!0),F.adler=S.check=0,S.mode=12;break;case 10:for(;H<32;){if($===0)break e;$--,V+=q[L++]<<H,H+=8}F.adler=S.check=g(V),H=V=0,S.mode=11;case 11:if(S.havedict===0)return F.next_out=z,F.avail_out=K,F.next_in=L,F.avail_in=$,S.hold=V,S.bits=H,2;F.adler=S.check=1,S.mode=12;case 12:if(M===5||M===6)break e;case 13:if(S.last){V>>>=7&H,H-=7&H,S.mode=27;break}for(;H<3;){if($===0)break e;$--,V+=q[L++]<<H,H+=8}switch(S.last=1&V,H-=1,3&(V>>>=1)){case 0:S.mode=14;break;case 1:if(O(S),S.mode=20,M!==6)break;V>>>=2,H-=2;break e;case 2:S.mode=17;break;case 3:F.msg="invalid block type",S.mode=30}V>>>=2,H-=2;break;case 14:for(V>>>=7&H,H-=7&H;H<32;){if($===0)break e;$--,V+=q[L++]<<H,H+=8}if((65535&V)!=(V>>>16^65535)){F.msg="invalid stored block lengths",S.mode=30;break}if(S.length=65535&V,H=V=0,S.mode=15,M===6)break e;case 15:S.mode=16;case 16:if(ee=S.length){if($<ee&&(ee=$),K<ee&&(ee=K),ee===0)break e;a.arraySet(U,q,L,ee,z),$-=ee,L+=ee,K-=ee,z+=ee,S.length-=ee;break}S.mode=12;break;case 17:for(;H<14;){if($===0)break e;$--,V+=q[L++]<<H,H+=8}if(S.nlen=257+(31&V),V>>>=5,H-=5,S.ndist=1+(31&V),V>>>=5,H-=5,S.ncode=4+(15&V),V>>>=4,H-=4,286<S.nlen||30<S.ndist){F.msg="too many length or distance symbols",S.mode=30;break}S.have=0,S.mode=18;case 18:for(;S.have<S.ncode;){for(;H<3;){if($===0)break e;$--,V+=q[L++]<<H,H+=8}S.lens[$e[S.have++]]=7&V,V>>>=3,H-=3}for(;S.have<19;)S.lens[$e[S.have++]]=0;if(S.lencode=S.lendyn,S.lenbits=7,re={bits:S.lenbits},ue=u(0,S.lens,0,19,S.lencode,0,S.work,re),S.lenbits=re.bits,ue){F.msg="invalid code lengths set",S.mode=30;break}S.have=0,S.mode=19;case 19:for(;S.have<S.nlen+S.ndist;){for(;he=(ce=S.lencode[V&(1<<S.lenbits)-1])>>>16&255,Be=65535&ce,!((Ae=ce>>>24)<=H);){if($===0)break e;$--,V+=q[L++]<<H,H+=8}if(Be<16)V>>>=Ae,H-=Ae,S.lens[S.have++]=Be;else{if(Be===16){for(de=Ae+2;H<de;){if($===0)break e;$--,V+=q[L++]<<H,H+=8}if(V>>>=Ae,H-=Ae,S.have===0){F.msg="invalid bit length repeat",S.mode=30;break}X=S.lens[S.have-1],ee=3+(3&V),V>>>=2,H-=2}else if(Be===17){for(de=Ae+3;H<de;){if($===0)break e;$--,V+=q[L++]<<H,H+=8}H-=Ae,X=0,ee=3+(7&(V>>>=Ae)),V>>>=3,H-=3}else{for(de=Ae+7;H<de;){if($===0)break e;$--,V+=q[L++]<<H,H+=8}H-=Ae,X=0,ee=11+(127&(V>>>=Ae)),V>>>=7,H-=7}if(S.have+ee>S.nlen+S.ndist){F.msg="invalid bit length repeat",S.mode=30;break}for(;ee--;)S.lens[S.have++]=X}}if(S.mode===30)break;if(S.lens[256]===0){F.msg="invalid code -- missing end-of-block",S.mode=30;break}if(S.lenbits=9,re={bits:S.lenbits},ue=u(d,S.lens,0,S.nlen,S.lencode,0,S.work,re),S.lenbits=re.bits,ue){F.msg="invalid literal/lengths set",S.mode=30;break}if(S.distbits=6,S.distcode=S.distdyn,re={bits:S.distbits},ue=u(h,S.lens,S.nlen,S.ndist,S.distcode,0,S.work,re),S.distbits=re.bits,ue){F.msg="invalid distances set",S.mode=30;break}if(S.mode=20,M===6)break e;case 20:S.mode=21;case 21:if(6<=$&&258<=K){F.next_out=z,F.avail_out=K,F.next_in=L,F.avail_in=$,S.hold=V,S.bits=H,c(F,Y),z=F.next_out,U=F.output,K=F.avail_out,L=F.next_in,q=F.input,$=F.avail_in,V=S.hold,H=S.bits,S.mode===12&&(S.back=-1);break}for(S.back=0;he=(ce=S.lencode[V&(1<<S.lenbits)-1])>>>16&255,Be=65535&ce,!((Ae=ce>>>24)<=H);){if($===0)break e;$--,V+=q[L++]<<H,H+=8}if(he&&(240&he)==0){for(Me=Ae,Ie=he,Ye=Be;he=(ce=S.lencode[Ye+((V&(1<<Me+Ie)-1)>>Me)])>>>16&255,Be=65535&ce,!(Me+(Ae=ce>>>24)<=H);){if($===0)break e;$--,V+=q[L++]<<H,H+=8}V>>>=Me,H-=Me,S.back+=Me}if(V>>>=Ae,H-=Ae,S.back+=Ae,S.length=Be,he===0){S.mode=26;break}if(32&he){S.back=-1,S.mode=12;break}if(64&he){F.msg="invalid literal/length code",S.mode=30;break}S.extra=15&he,S.mode=22;case 22:if(S.extra){for(de=S.extra;H<de;){if($===0)break e;$--,V+=q[L++]<<H,H+=8}S.length+=V&(1<<S.extra)-1,V>>>=S.extra,H-=S.extra,S.back+=S.extra}S.was=S.length,S.mode=23;case 23:for(;he=(ce=S.distcode[V&(1<<S.distbits)-1])>>>16&255,Be=65535&ce,!((Ae=ce>>>24)<=H);){if($===0)break e;$--,V+=q[L++]<<H,H+=8}if((240&he)==0){for(Me=Ae,Ie=he,Ye=Be;he=(ce=S.distcode[Ye+((V&(1<<Me+Ie)-1)>>Me)])>>>16&255,Be=65535&ce,!(Me+(Ae=ce>>>24)<=H);){if($===0)break e;$--,V+=q[L++]<<H,H+=8}V>>>=Me,H-=Me,S.back+=Me}if(V>>>=Ae,H-=Ae,S.back+=Ae,64&he){F.msg="invalid distance code",S.mode=30;break}S.offset=Be,S.extra=15&he,S.mode=24;case 24:if(S.extra){for(de=S.extra;H<de;){if($===0)break e;$--,V+=q[L++]<<H,H+=8}S.offset+=V&(1<<S.extra)-1,V>>>=S.extra,H-=S.extra,S.back+=S.extra}if(S.offset>S.dmax){F.msg="invalid distance too far back",S.mode=30;break}S.mode=25;case 25:if(K===0)break e;if(ee=Y-K,S.offset>ee){if((ee=S.offset-ee)>S.whave&&S.sane){F.msg="invalid distance too far back",S.mode=30;break}ie=ee>S.wnext?(ee-=S.wnext,S.wsize-ee):S.wnext-ee,ee>S.length&&(ee=S.length),se=S.window}else se=U,ie=z-S.offset,ee=S.length;for(K<ee&&(ee=K),K-=ee,S.length-=ee;U[z++]=se[ie++],--ee;);S.length===0&&(S.mode=21);break;case 26:if(K===0)break e;U[z++]=S.length,K--,S.mode=21;break;case 27:if(S.wrap){for(;H<32;){if($===0)break e;$--,V|=q[L++]<<H,H+=8}if(Y-=K,F.total_out+=Y,S.total+=Y,Y&&(F.adler=S.check=S.flags?l(S.check,U,Y,z-Y):o(S.check,U,Y,z-Y)),Y=K,(S.flags?V:g(V))!==S.check){F.msg="incorrect data check",S.mode=30;break}H=V=0}S.mode=28;case 28:if(S.wrap&&S.flags){for(;H<32;){if($===0)break e;$--,V+=q[L++]<<H,H+=8}if(V!==(4294967295&S.total)){F.msg="incorrect length check",S.mode=30;break}H=V=0}S.mode=29;case 29:ue=1;break e;case 30:ue=-3;break e;case 31:return-4;case 32:default:return A}return F.next_out=z,F.avail_out=K,F.next_in=L,F.avail_in=$,S.hold=V,S.bits=H,(S.wsize||Y!==F.avail_out&&S.mode<30&&(S.mode<27||M!==4))&&I(F,F.output,F.next_out,Y-F.avail_out)?(S.mode=31,-4):(W-=F.avail_in,Y-=F.avail_out,F.total_in+=W,F.total_out+=Y,S.total+=Y,S.wrap&&Y&&(F.adler=S.check=S.flags?l(S.check,U,Y,F.next_out-Y):o(S.check,U,Y,F.next_out-Y)),F.data_type=S.bits+(S.last?64:0)+(S.mode===12?128:0)+(S.mode===20||S.mode===15?256:0),(W==0&&Y===0||M===4)&&ue===f&&(ue=-5),ue)},s.inflateEnd=function(F){if(!F||!F.state)return A;var M=F.state;return M.window&&(M.window=null),F.state=null,f},s.inflateGetHeader=function(F,M){var S;return F&&F.state?(2&(S=F.state).wrap)==0?A:((S.head=M).done=!1,f):A},s.inflateSetDictionary=function(F,M){var S,q=M.length;return F&&F.state?(S=F.state).wrap!==0&&S.mode!==11?A:S.mode===11&&o(1,M,q,0)!==S.check?-3:I(F,M,q,q)?(S.mode=31,-4):(S.havedict=1,f):A},s.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(n,r,s){var a=n("../utils/common"),o=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],l=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],c=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],u=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];r.exports=function(d,h,f,A,v,p,m,g){var x,b,j,N,_,C,k,T,O,I=g.bits,F=0,M=0,S=0,q=0,U=0,L=0,z=0,$=0,K=0,V=0,H=null,W=0,Y=new a.Buf16(16),ee=new a.Buf16(16),ie=null,se=0;for(F=0;F<=15;F++)Y[F]=0;for(M=0;M<A;M++)Y[h[f+M]]++;for(U=I,q=15;1<=q&&Y[q]===0;q--);if(q<U&&(U=q),q===0)return v[p++]=20971520,v[p++]=20971520,g.bits=1,0;for(S=1;S<q&&Y[S]===0;S++);for(U<S&&(U=S),F=$=1;F<=15;F++)if($<<=1,($-=Y[F])<0)return-1;if(0<$&&(d===0||q!==1))return-1;for(ee[1]=0,F=1;F<15;F++)ee[F+1]=ee[F]+Y[F];for(M=0;M<A;M++)h[f+M]!==0&&(m[ee[h[f+M]]++]=M);if(C=d===0?(H=ie=m,19):d===1?(H=o,W-=257,ie=l,se-=257,256):(H=c,ie=u,-1),F=S,_=p,z=M=V=0,j=-1,N=(K=1<<(L=U))-1,d===1&&852<K||d===2&&592<K)return 1;for(;;){for(k=F-z,O=m[M]<C?(T=0,m[M]):m[M]>C?(T=ie[se+m[M]],H[W+m[M]]):(T=96,0),x=1<<F-z,S=b=1<<L;v[_+(V>>z)+(b-=x)]=k<<24|T<<16|O|0,b!==0;);for(x=1<<F-1;V&x;)x>>=1;if(x!==0?(V&=x-1,V+=x):V=0,M++,--Y[F]==0){if(F===q)break;F=h[f+m[M]]}if(U<F&&(V&N)!==j){for(z===0&&(z=U),_+=S,$=1<<(L=F-z);L+z<q&&!(($-=Y[L+z])<=0);)L++,$<<=1;if(K+=1<<L,d===1&&852<K||d===2&&592<K)return 1;v[j=V&N]=U<<24|L<<16|_-p|0}}return V!==0&&(v[_+V]=F-z<<24|64<<16|0),g.bits=U,0}},{"../utils/common":41}],51:[function(n,r,s){r.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(n,r,s){var a=n("../utils/common"),o=0,l=1;function c(ce){for(var Ne=ce.length;0<=--Ne;)ce[Ne]=0}var u=0,d=29,h=256,f=h+1+d,A=30,v=19,p=2*f+1,m=15,g=16,x=7,b=256,j=16,N=17,_=18,C=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],k=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],T=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],O=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],I=new Array(2*(f+2));c(I);var F=new Array(2*A);c(F);var M=new Array(512);c(M);var S=new Array(256);c(S);var q=new Array(d);c(q);var U,L,z,$=new Array(A);function K(ce,Ne,$e,ze,Fe){this.static_tree=ce,this.extra_bits=Ne,this.extra_base=$e,this.elems=ze,this.max_length=Fe,this.has_stree=ce&&ce.length}function V(ce,Ne){this.dyn_tree=ce,this.max_code=0,this.stat_desc=Ne}function H(ce){return ce<256?M[ce]:M[256+(ce>>>7)]}function W(ce,Ne){ce.pending_buf[ce.pending++]=255&Ne,ce.pending_buf[ce.pending++]=Ne>>>8&255}function Y(ce,Ne,$e){ce.bi_valid>g-$e?(ce.bi_buf|=Ne<<ce.bi_valid&65535,W(ce,ce.bi_buf),ce.bi_buf=Ne>>g-ce.bi_valid,ce.bi_valid+=$e-g):(ce.bi_buf|=Ne<<ce.bi_valid&65535,ce.bi_valid+=$e)}function ee(ce,Ne,$e){Y(ce,$e[2*Ne],$e[2*Ne+1])}function ie(ce,Ne){for(var $e=0;$e|=1&ce,ce>>>=1,$e<<=1,0<--Ne;);return $e>>>1}function se(ce,Ne,$e){var ze,Fe,De=new Array(m+1),Ce=0;for(ze=1;ze<=m;ze++)De[ze]=Ce=Ce+$e[ze-1]<<1;for(Fe=0;Fe<=Ne;Fe++){var Oe=ce[2*Fe+1];Oe!==0&&(ce[2*Fe]=ie(De[Oe]++,Oe))}}function Ae(ce){var Ne;for(Ne=0;Ne<f;Ne++)ce.dyn_ltree[2*Ne]=0;for(Ne=0;Ne<A;Ne++)ce.dyn_dtree[2*Ne]=0;for(Ne=0;Ne<v;Ne++)ce.bl_tree[2*Ne]=0;ce.dyn_ltree[2*b]=1,ce.opt_len=ce.static_len=0,ce.last_lit=ce.matches=0}function he(ce){8<ce.bi_valid?W(ce,ce.bi_buf):0<ce.bi_valid&&(ce.pending_buf[ce.pending++]=ce.bi_buf),ce.bi_buf=0,ce.bi_valid=0}function Be(ce,Ne,$e,ze){var Fe=2*Ne,De=2*$e;return ce[Fe]<ce[De]||ce[Fe]===ce[De]&&ze[Ne]<=ze[$e]}function Me(ce,Ne,$e){for(var ze=ce.heap[$e],Fe=$e<<1;Fe<=ce.heap_len&&(Fe<ce.heap_len&&Be(Ne,ce.heap[Fe+1],ce.heap[Fe],ce.depth)&&Fe++,!Be(Ne,ze,ce.heap[Fe],ce.depth));)ce.heap[$e]=ce.heap[Fe],$e=Fe,Fe<<=1;ce.heap[$e]=ze}function Ie(ce,Ne,$e){var ze,Fe,De,Ce,Oe=0;if(ce.last_lit!==0)for(;ze=ce.pending_buf[ce.d_buf+2*Oe]<<8|ce.pending_buf[ce.d_buf+2*Oe+1],Fe=ce.pending_buf[ce.l_buf+Oe],Oe++,ze===0?ee(ce,Fe,Ne):(ee(ce,(De=S[Fe])+h+1,Ne),(Ce=C[De])!==0&&Y(ce,Fe-=q[De],Ce),ee(ce,De=H(--ze),$e),(Ce=k[De])!==0&&Y(ce,ze-=$[De],Ce)),Oe<ce.last_lit;);ee(ce,b,Ne)}function Ye(ce,Ne){var $e,ze,Fe,De=Ne.dyn_tree,Ce=Ne.stat_desc.static_tree,Oe=Ne.stat_desc.has_stree,We=Ne.stat_desc.elems,ut=-1;for(ce.heap_len=0,ce.heap_max=p,$e=0;$e<We;$e++)De[2*$e]!==0?(ce.heap[++ce.heap_len]=ut=$e,ce.depth[$e]=0):De[2*$e+1]=0;for(;ce.heap_len<2;)De[2*(Fe=ce.heap[++ce.heap_len]=ut<2?++ut:0)]=1,ce.depth[Fe]=0,ce.opt_len--,Oe&&(ce.static_len-=Ce[2*Fe+1]);for(Ne.max_code=ut,$e=ce.heap_len>>1;1<=$e;$e--)Me(ce,De,$e);for(Fe=We;$e=ce.heap[1],ce.heap[1]=ce.heap[ce.heap_len--],Me(ce,De,1),ze=ce.heap[1],ce.heap[--ce.heap_max]=$e,ce.heap[--ce.heap_max]=ze,De[2*Fe]=De[2*$e]+De[2*ze],ce.depth[Fe]=(ce.depth[$e]>=ce.depth[ze]?ce.depth[$e]:ce.depth[ze])+1,De[2*$e+1]=De[2*ze+1]=Fe,ce.heap[1]=Fe++,Me(ce,De,1),2<=ce.heap_len;);ce.heap[--ce.heap_max]=ce.heap[1],function(yt,Nt){var jt,Ue,ct,ht,kt,Ot,Ut=Nt.dyn_tree,mn=Nt.max_code,fn=Nt.stat_desc.static_tree,wi=Nt.stat_desc.has_stree,lr=Nt.stat_desc.extra_bits,ge=Nt.stat_desc.extra_base,Se=Nt.stat_desc.max_length,Re=0;for(ht=0;ht<=m;ht++)yt.bl_count[ht]=0;for(Ut[2*yt.heap[yt.heap_max]+1]=0,jt=yt.heap_max+1;jt<p;jt++)Se<(ht=Ut[2*Ut[2*(Ue=yt.heap[jt])+1]+1]+1)&&(ht=Se,Re++),Ut[2*Ue+1]=ht,mn<Ue||(yt.bl_count[ht]++,kt=0,ge<=Ue&&(kt=lr[Ue-ge]),Ot=Ut[2*Ue],yt.opt_len+=Ot*(ht+kt),wi&&(yt.static_len+=Ot*(fn[2*Ue+1]+kt)));if(Re!==0){do{for(ht=Se-1;yt.bl_count[ht]===0;)ht--;yt.bl_count[ht]--,yt.bl_count[ht+1]+=2,yt.bl_count[Se]--,Re-=2}while(0<Re);for(ht=Se;ht!==0;ht--)for(Ue=yt.bl_count[ht];Ue!==0;)mn<(ct=yt.heap[--jt])||(Ut[2*ct+1]!==ht&&(yt.opt_len+=(ht-Ut[2*ct+1])*Ut[2*ct],Ut[2*ct+1]=ht),Ue--)}}(ce,Ne),se(De,ut,ce.bl_count)}function X(ce,Ne,$e){var ze,Fe,De=-1,Ce=Ne[1],Oe=0,We=7,ut=4;for(Ce===0&&(We=138,ut=3),Ne[2*($e+1)+1]=65535,ze=0;ze<=$e;ze++)Fe=Ce,Ce=Ne[2*(ze+1)+1],++Oe<We&&Fe===Ce||(Oe<ut?ce.bl_tree[2*Fe]+=Oe:Fe!==0?(Fe!==De&&ce.bl_tree[2*Fe]++,ce.bl_tree[2*j]++):Oe<=10?ce.bl_tree[2*N]++:ce.bl_tree[2*_]++,De=Fe,ut=(Oe=0)===Ce?(We=138,3):Fe===Ce?(We=6,3):(We=7,4))}function ue(ce,Ne,$e){var ze,Fe,De=-1,Ce=Ne[1],Oe=0,We=7,ut=4;for(Ce===0&&(We=138,ut=3),ze=0;ze<=$e;ze++)if(Fe=Ce,Ce=Ne[2*(ze+1)+1],!(++Oe<We&&Fe===Ce)){if(Oe<ut)for(;ee(ce,Fe,ce.bl_tree),--Oe!=0;);else Fe!==0?(Fe!==De&&(ee(ce,Fe,ce.bl_tree),Oe--),ee(ce,j,ce.bl_tree),Y(ce,Oe-3,2)):Oe<=10?(ee(ce,N,ce.bl_tree),Y(ce,Oe-3,3)):(ee(ce,_,ce.bl_tree),Y(ce,Oe-11,7));De=Fe,ut=(Oe=0)===Ce?(We=138,3):Fe===Ce?(We=6,3):(We=7,4)}}c($);var re=!1;function de(ce,Ne,$e,ze){Y(ce,(u<<1)+(ze?1:0),3),function(Fe,De,Ce,Oe){he(Fe),W(Fe,Ce),W(Fe,~Ce),a.arraySet(Fe.pending_buf,Fe.window,De,Ce,Fe.pending),Fe.pending+=Ce}(ce,Ne,$e)}s._tr_init=function(ce){re||(function(){var Ne,$e,ze,Fe,De,Ce=new Array(m+1);for(Fe=ze=0;Fe<d-1;Fe++)for(q[Fe]=ze,Ne=0;Ne<1<<C[Fe];Ne++)S[ze++]=Fe;for(S[ze-1]=Fe,Fe=De=0;Fe<16;Fe++)for($[Fe]=De,Ne=0;Ne<1<<k[Fe];Ne++)M[De++]=Fe;for(De>>=7;Fe<A;Fe++)for($[Fe]=De<<7,Ne=0;Ne<1<<k[Fe]-7;Ne++)M[256+De++]=Fe;for($e=0;$e<=m;$e++)Ce[$e]=0;for(Ne=0;Ne<=143;)I[2*Ne+1]=8,Ne++,Ce[8]++;for(;Ne<=255;)I[2*Ne+1]=9,Ne++,Ce[9]++;for(;Ne<=279;)I[2*Ne+1]=7,Ne++,Ce[7]++;for(;Ne<=287;)I[2*Ne+1]=8,Ne++,Ce[8]++;for(se(I,f+1,Ce),Ne=0;Ne<A;Ne++)F[2*Ne+1]=5,F[2*Ne]=ie(Ne,5);U=new K(I,C,h+1,f,m),L=new K(F,k,0,A,m),z=new K(new Array(0),T,0,v,x)}(),re=!0),ce.l_desc=new V(ce.dyn_ltree,U),ce.d_desc=new V(ce.dyn_dtree,L),ce.bl_desc=new V(ce.bl_tree,z),ce.bi_buf=0,ce.bi_valid=0,Ae(ce)},s._tr_stored_block=de,s._tr_flush_block=function(ce,Ne,$e,ze){var Fe,De,Ce=0;0<ce.level?(ce.strm.data_type===2&&(ce.strm.data_type=function(Oe){var We,ut=4093624447;for(We=0;We<=31;We++,ut>>>=1)if(1&ut&&Oe.dyn_ltree[2*We]!==0)return o;if(Oe.dyn_ltree[18]!==0||Oe.dyn_ltree[20]!==0||Oe.dyn_ltree[26]!==0)return l;for(We=32;We<h;We++)if(Oe.dyn_ltree[2*We]!==0)return l;return o}(ce)),Ye(ce,ce.l_desc),Ye(ce,ce.d_desc),Ce=function(Oe){var We;for(X(Oe,Oe.dyn_ltree,Oe.l_desc.max_code),X(Oe,Oe.dyn_dtree,Oe.d_desc.max_code),Ye(Oe,Oe.bl_desc),We=v-1;3<=We&&Oe.bl_tree[2*O[We]+1]===0;We--);return Oe.opt_len+=3*(We+1)+5+5+4,We}(ce),Fe=ce.opt_len+3+7>>>3,(De=ce.static_len+3+7>>>3)<=Fe&&(Fe=De)):Fe=De=$e+5,$e+4<=Fe&&Ne!==-1?de(ce,Ne,$e,ze):ce.strategy===4||De===Fe?(Y(ce,2+(ze?1:0),3),Ie(ce,I,F)):(Y(ce,4+(ze?1:0),3),function(Oe,We,ut,yt){var Nt;for(Y(Oe,We-257,5),Y(Oe,ut-1,5),Y(Oe,yt-4,4),Nt=0;Nt<yt;Nt++)Y(Oe,Oe.bl_tree[2*O[Nt]+1],3);ue(Oe,Oe.dyn_ltree,We-1),ue(Oe,Oe.dyn_dtree,ut-1)}(ce,ce.l_desc.max_code+1,ce.d_desc.max_code+1,Ce+1),Ie(ce,ce.dyn_ltree,ce.dyn_dtree)),Ae(ce),ze&&he(ce)},s._tr_tally=function(ce,Ne,$e){return ce.pending_buf[ce.d_buf+2*ce.last_lit]=Ne>>>8&255,ce.pending_buf[ce.d_buf+2*ce.last_lit+1]=255&Ne,ce.pending_buf[ce.l_buf+ce.last_lit]=255&$e,ce.last_lit++,Ne===0?ce.dyn_ltree[2*$e]++:(ce.matches++,Ne--,ce.dyn_ltree[2*(S[$e]+h+1)]++,ce.dyn_dtree[2*H(Ne)]++),ce.last_lit===ce.lit_bufsize-1},s._tr_align=function(ce){Y(ce,2,3),ee(ce,b,I),function(Ne){Ne.bi_valid===16?(W(Ne,Ne.bi_buf),Ne.bi_buf=0,Ne.bi_valid=0):8<=Ne.bi_valid&&(Ne.pending_buf[Ne.pending++]=255&Ne.bi_buf,Ne.bi_buf>>=8,Ne.bi_valid-=8)}(ce)}},{"../utils/common":41}],53:[function(n,r,s){r.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(n,r,s){(function(a){(function(o,l){if(!o.setImmediate){var c,u,d,h,f=1,A={},v=!1,p=o.document,m=Object.getPrototypeOf&&Object.getPrototypeOf(o);m=m&&m.setTimeout?m:o,c={}.toString.call(o.process)==="[object process]"?function(j){process.nextTick(function(){x(j)})}:function(){if(o.postMessage&&!o.importScripts){var j=!0,N=o.onmessage;return o.onmessage=function(){j=!1},o.postMessage("","*"),o.onmessage=N,j}}()?(h="setImmediate$"+Math.random()+"$",o.addEventListener?o.addEventListener("message",b,!1):o.attachEvent("onmessage",b),function(j){o.postMessage(h+j,"*")}):o.MessageChannel?((d=new MessageChannel).port1.onmessage=function(j){x(j.data)},function(j){d.port2.postMessage(j)}):p&&"onreadystatechange"in p.createElement("script")?(u=p.documentElement,function(j){var N=p.createElement("script");N.onreadystatechange=function(){x(j),N.onreadystatechange=null,u.removeChild(N),N=null},u.appendChild(N)}):function(j){setTimeout(x,0,j)},m.setImmediate=function(j){typeof j!="function"&&(j=new Function(""+j));for(var N=new Array(arguments.length-1),_=0;_<N.length;_++)N[_]=arguments[_+1];var C={callback:j,args:N};return A[f]=C,c(f),f++},m.clearImmediate=g}function g(j){delete A[j]}function x(j){if(v)setTimeout(x,0,j);else{var N=A[j];if(N){v=!0;try{(function(_){var C=_.callback,k=_.args;switch(k.length){case 0:C();break;case 1:C(k[0]);break;case 2:C(k[0],k[1]);break;case 3:C(k[0],k[1],k[2]);break;default:C.apply(l,k)}})(N)}finally{g(j),v=!1}}}}function b(j){j.source===o&&typeof j.data=="string"&&j.data.indexOf(h)===0&&x(+j.data.slice(h.length))}})(typeof self>"u"?a===void 0?this:a:self)}).call(this,typeof Lu<"u"?Lu:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})}(NU)),NU.exports}var IX;function ppe(){if(IX)return Rj;IX=1;var t=Rke(),e=Qke();Rj.openArrayBuffer=n,Rj.splitPath=r,Rj.joinPath=s;function n(a){return e.loadAsync(a).then(function(o){function l(h){return o.file(h)!==null}function c(h,f){return o.file(h).async("uint8array").then(function(A){if(f==="base64")return t.fromByteArray(A);if(f){var v=new TextDecoder(f);return v.decode(A)}else return A})}function u(h,f){o.file(h,f)}function d(){return o.generateAsync({type:"arraybuffer"})}return{exists:l,read:c,write:u,toArrayBuffer:d}})}function r(a){var o=a.lastIndexOf("/");return o===-1?{dirname:"",basename:a}:{dirname:a.substring(0,o),basename:a.substring(o+1)}}function s(){var a=Array.prototype.filter.call(arguments,function(l){return l}),o=[];return a.forEach(function(l){/^\//.test(l)?o=[l]:o.push(l)}),o.join("/")}return Rj}var YE={},Rm={},bb={},OX;function mpe(){if(OX)return bb;OX=1;var t=zs;bb.Element=n,bb.element=function(a,o,l){return new n(a,o,l)},bb.text=function(a){return{type:"text",value:a}};var e=bb.emptyElement={first:function(){return null},firstOrEmpty:function(){return e},attributes:{},children:[]};function n(a,o,l){this.type="element",this.name=a,this.attributes=o||{},this.children=l||[]}n.prototype.first=function(a){return t.find(this.children,function(o){return o.name===a})},n.prototype.firstOrEmpty=function(a){return this.first(a)||e},n.prototype.getElementsByTagName=function(a){var o=t.filter(this.children,function(l){return l.name===a});return s(o)},n.prototype.text=function(){if(this.children.length===0)return"";if(this.children.length!==1||this.children[0].type!=="text")throw new Error("Not implemented");return this.children[0].value};var r={getElementsByTagName:function(a){return s(t.flatten(this.map(function(o){return o.getElementsByTagName(a)},!0)))}};function s(a){return t.extend(a,r)}return bb}var _U={},JE={},Hj={},NA={},iv={},MX;function Ik(){if(MX)return iv;MX=1;function t(a,o,l){if(l===void 0&&(l=Array.prototype),a&&typeof l.find=="function")return l.find.call(a,o);for(var c=0;c<a.length;c++)if(Object.prototype.hasOwnProperty.call(a,c)){var u=a[c];if(o.call(void 0,u,c,a))return u}}function e(a,o){return o===void 0&&(o=Object),o&&typeof o.freeze=="function"?o.freeze(a):a}function n(a,o){if(a===null||typeof a!="object")throw new TypeError("target is not an object");for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&(a[l]=o[l]);return a}var r=e({HTML:"text/html",isHTML:function(a){return a===r.HTML},XML_APPLICATION:"application/xml",XML_TEXT:"text/xml",XML_XHTML_APPLICATION:"application/xhtml+xml",XML_SVG_IMAGE:"image/svg+xml"}),s=e({HTML:"http://www.w3.org/1999/xhtml",isHTML:function(a){return a===s.HTML},SVG:"http://www.w3.org/2000/svg",XML:"http://www.w3.org/XML/1998/namespace",XMLNS:"http://www.w3.org/2000/xmlns/"});return iv.assign=n,iv.find=t,iv.freeze=e,iv.MIME_TYPE=r,iv.NAMESPACE=s,iv}var LX;function m$(){if(LX)return NA;LX=1;var t=Ik(),e=t.find,n=t.NAMESPACE;function r(ge){return ge!==""}function s(ge){return ge?ge.split(/[\t\n\f\r ]+/).filter(r):[]}function a(ge,Se){return ge.hasOwnProperty(Se)||(ge[Se]=!0),ge}function o(ge){if(!ge)return[];var Se=s(ge);return Object.keys(Se.reduce(a,{}))}function l(ge){return function(Se){return ge&&ge.indexOf(Se)!==-1}}function c(ge,Se){for(var Re in ge)Object.prototype.hasOwnProperty.call(ge,Re)&&(Se[Re]=ge[Re])}function u(ge,Se){var Re=ge.prototype;if(!(Re instanceof Se)){let Je=function(){};Je.prototype=Se.prototype,Je=new Je,c(Re,Je),ge.prototype=Re=Je}Re.constructor!=ge&&(typeof ge!="function"&&console.error("unknown Class:"+ge),Re.constructor=ge)}var d={},h=d.ELEMENT_NODE=1,f=d.ATTRIBUTE_NODE=2,A=d.TEXT_NODE=3,v=d.CDATA_SECTION_NODE=4,p=d.ENTITY_REFERENCE_NODE=5,m=d.ENTITY_NODE=6,g=d.PROCESSING_INSTRUCTION_NODE=7,x=d.COMMENT_NODE=8,b=d.DOCUMENT_NODE=9,j=d.DOCUMENT_TYPE_NODE=10,N=d.DOCUMENT_FRAGMENT_NODE=11,_=d.NOTATION_NODE=12,C={},k={};C.INDEX_SIZE_ERR=(k[1]="Index size error",1),C.DOMSTRING_SIZE_ERR=(k[2]="DOMString size error",2);var T=C.HIERARCHY_REQUEST_ERR=(k[3]="Hierarchy request error",3);C.WRONG_DOCUMENT_ERR=(k[4]="Wrong document",4),C.INVALID_CHARACTER_ERR=(k[5]="Invalid character",5),C.NO_DATA_ALLOWED_ERR=(k[6]="No data allowed",6),C.NO_MODIFICATION_ALLOWED_ERR=(k[7]="No modification allowed",7);var O=C.NOT_FOUND_ERR=(k[8]="Not found",8);C.NOT_SUPPORTED_ERR=(k[9]="Not supported",9);var I=C.INUSE_ATTRIBUTE_ERR=(k[10]="Attribute in use",10);C.INVALID_STATE_ERR=(k[11]="Invalid state",11),C.SYNTAX_ERR=(k[12]="Syntax error",12),C.INVALID_MODIFICATION_ERR=(k[13]="Invalid modification",13),C.NAMESPACE_ERR=(k[14]="Invalid namespace",14),C.INVALID_ACCESS_ERR=(k[15]="Invalid access",15);function F(ge,Se){if(Se instanceof Error)var Re=Se;else Re=this,Error.call(this,k[ge]),this.message=k[ge],Error.captureStackTrace&&Error.captureStackTrace(this,F);return Re.code=ge,Se&&(this.message=this.message+": "+Se),Re}F.prototype=Error.prototype,c(C,F);function M(){}M.prototype={length:0,item:function(ge){return ge>=0&&ge<this.length?this[ge]:null},toString:function(ge,Se){for(var Re=[],Je=0;Je<this.length;Je++)mn(this[Je],Re,ge,Se);return Re.join("")},filter:function(ge){return Array.prototype.filter.call(this,ge)},indexOf:function(ge){return Array.prototype.indexOf.call(this,ge)}};function S(ge,Se){this._node=ge,this._refresh=Se,q(this)}function q(ge){var Se=ge._node._inc||ge._node.ownerDocument._inc;if(ge._inc!==Se){var Re=ge._refresh(ge._node);if(lr(ge,"length",Re.length),!ge.$$length||Re.length<ge.$$length)for(var Je=Re.length;Je in ge;Je++)Object.prototype.hasOwnProperty.call(ge,Je)&&delete ge[Je];c(Re,ge),ge._inc=Se}}S.prototype.item=function(ge){return q(this),this[ge]||null},u(S,M);function U(){}function L(ge,Se){for(var Re=ge.length;Re--;)if(ge[Re]===Se)return Re}function z(ge,Se,Re,Je){if(Je?Se[L(Se,Je)]=Re:Se[Se.length++]=Re,ge){Re.ownerElement=ge;var wt=ge.ownerDocument;wt&&(Je&&ie(wt,ge,Je),ee(wt,ge,Re))}}function $(ge,Se,Re){var Je=L(Se,Re);if(Je>=0){for(var wt=Se.length-1;Je<wt;)Se[Je]=Se[++Je];if(Se.length=wt,ge){var ln=ge.ownerDocument;ln&&(ie(ln,ge,Re),Re.ownerElement=null)}}else throw new F(O,new Error(ge.tagName+"@"+Re))}U.prototype={length:0,item:M.prototype.item,getNamedItem:function(ge){for(var Se=this.length;Se--;){var Re=this[Se];if(Re.nodeName==ge)return Re}},setNamedItem:function(ge){var Se=ge.ownerElement;if(Se&&Se!=this._ownerElement)throw new F(I);var Re=this.getNamedItem(ge.nodeName);return z(this._ownerElement,this,ge,Re),Re},setNamedItemNS:function(ge){var Se=ge.ownerElement,Re;if(Se&&Se!=this._ownerElement)throw new F(I);return Re=this.getNamedItemNS(ge.namespaceURI,ge.localName),z(this._ownerElement,this,ge,Re),Re},removeNamedItem:function(ge){var Se=this.getNamedItem(ge);return $(this._ownerElement,this,Se),Se},removeNamedItemNS:function(ge,Se){var Re=this.getNamedItemNS(ge,Se);return $(this._ownerElement,this,Re),Re},getNamedItemNS:function(ge,Se){for(var Re=this.length;Re--;){var Je=this[Re];if(Je.localName==Se&&Je.namespaceURI==ge)return Je}return null}};function K(){}K.prototype={hasFeature:function(ge,Se){return!0},createDocument:function(ge,Se,Re){var Je=new Y;if(Je.implementation=this,Je.childNodes=new M,Je.doctype=Re||null,Re&&Je.appendChild(Re),Se){var wt=Je.createElementNS(ge,Se);Je.appendChild(wt)}return Je},createDocumentType:function(ge,Se,Re){var Je=new ut;return Je.name=ge,Je.nodeName=ge,Je.publicId=Se||"",Je.systemId=Re||"",Je}};function V(){}V.prototype={firstChild:null,lastChild:null,previousSibling:null,nextSibling:null,attributes:null,parentNode:null,childNodes:null,ownerDocument:null,nodeValue:null,namespaceURI:null,prefix:null,localName:null,insertBefore:function(ge,Se){return Ne(this,ge,Se)},replaceChild:function(ge,Se){Ne(this,ge,Se,ce),Se&&this.removeChild(Se)},removeChild:function(ge){return Ae(this,ge)},appendChild:function(ge){return this.insertBefore(ge,null)},hasChildNodes:function(){return this.firstChild!=null},cloneNode:function(ge){return wi(this.ownerDocument||this,this,ge)},normalize:function(){for(var ge=this.firstChild;ge;){var Se=ge.nextSibling;Se&&Se.nodeType==A&&ge.nodeType==A?(this.removeChild(Se),ge.appendData(Se.data)):(ge.normalize(),ge=Se)}},isSupported:function(ge,Se){return this.ownerDocument.implementation.hasFeature(ge,Se)},hasAttributes:function(){return this.attributes.length>0},lookupPrefix:function(ge){for(var Se=this;Se;){var Re=Se._nsMap;if(Re){for(var Je in Re)if(Object.prototype.hasOwnProperty.call(Re,Je)&&Re[Je]===ge)return Je}Se=Se.nodeType==f?Se.ownerDocument:Se.parentNode}return null},lookupNamespaceURI:function(ge){for(var Se=this;Se;){var Re=Se._nsMap;if(Re&&Object.prototype.hasOwnProperty.call(Re,ge))return Re[ge];Se=Se.nodeType==f?Se.ownerDocument:Se.parentNode}return null},isDefaultNamespace:function(ge){var Se=this.lookupPrefix(ge);return Se==null}};function H(ge){return ge=="<"&&"&lt;"||ge==">"&&"&gt;"||ge=="&"&&"&amp;"||ge=='"'&&"&quot;"||"&#"+ge.charCodeAt()+";"}c(d,V),c(d,V.prototype);function W(ge,Se){if(Se(ge))return!0;if(ge=ge.firstChild)do if(W(ge,Se))return!0;while(ge=ge.nextSibling)}function Y(){this.ownerDocument=this}function ee(ge,Se,Re){ge&&ge._inc++;var Je=Re.namespaceURI;Je===n.XMLNS&&(Se._nsMap[Re.prefix?Re.localName:""]=Re.value)}function ie(ge,Se,Re,Je){ge&&ge._inc++;var wt=Re.namespaceURI;wt===n.XMLNS&&delete Se._nsMap[Re.prefix?Re.localName:""]}function se(ge,Se,Re){if(ge&&ge._inc){ge._inc++;var Je=Se.childNodes;if(Re)Je[Je.length++]=Re;else{for(var wt=Se.firstChild,ln=0;wt;)Je[ln++]=wt,wt=wt.nextSibling;Je.length=ln,delete Je[Je.length]}}}function Ae(ge,Se){var Re=Se.previousSibling,Je=Se.nextSibling;return Re?Re.nextSibling=Je:ge.firstChild=Je,Je?Je.previousSibling=Re:ge.lastChild=Re,Se.parentNode=null,Se.previousSibling=null,Se.nextSibling=null,se(ge.ownerDocument,ge),Se}function he(ge){return ge&&(ge.nodeType===V.DOCUMENT_NODE||ge.nodeType===V.DOCUMENT_FRAGMENT_NODE||ge.nodeType===V.ELEMENT_NODE)}function Be(ge){return ge&&(Ie(ge)||Ye(ge)||Me(ge)||ge.nodeType===V.DOCUMENT_FRAGMENT_NODE||ge.nodeType===V.COMMENT_NODE||ge.nodeType===V.PROCESSING_INSTRUCTION_NODE)}function Me(ge){return ge&&ge.nodeType===V.DOCUMENT_TYPE_NODE}function Ie(ge){return ge&&ge.nodeType===V.ELEMENT_NODE}function Ye(ge){return ge&&ge.nodeType===V.TEXT_NODE}function X(ge,Se){var Re=ge.childNodes||[];if(e(Re,Ie)||Me(Se))return!1;var Je=e(Re,Me);return!(Se&&Je&&Re.indexOf(Je)>Re.indexOf(Se))}function ue(ge,Se){var Re=ge.childNodes||[];function Je(ln){return Ie(ln)&&ln!==Se}if(e(Re,Je))return!1;var wt=e(Re,Me);return!(Se&&wt&&Re.indexOf(wt)>Re.indexOf(Se))}function re(ge,Se,Re){if(!he(ge))throw new F(T,"Unexpected parent node type "+ge.nodeType);if(Re&&Re.parentNode!==ge)throw new F(O,"child not in parent");if(!Be(Se)||Me(Se)&&ge.nodeType!==V.DOCUMENT_NODE)throw new F(T,"Unexpected node type "+Se.nodeType+" for parent node type "+ge.nodeType)}function de(ge,Se,Re){var Je=ge.childNodes||[],wt=Se.childNodes||[];if(Se.nodeType===V.DOCUMENT_FRAGMENT_NODE){var ln=wt.filter(Ie);if(ln.length>1||e(wt,Ye))throw new F(T,"More than one element or text in fragment");if(ln.length===1&&!X(ge,Re))throw new F(T,"Element in fragment can not be inserted before doctype")}if(Ie(Se)&&!X(ge,Re))throw new F(T,"Only one element can be added and only after doctype");if(Me(Se)){if(e(Je,Me))throw new F(T,"Only one doctype is allowed");var kn=e(Je,Ie);if(Re&&Je.indexOf(kn)<Je.indexOf(Re))throw new F(T,"Doctype can only be inserted before an element");if(!Re&&kn)throw new F(T,"Doctype can not be appended since element is present")}}function ce(ge,Se,Re){var Je=ge.childNodes||[],wt=Se.childNodes||[];if(Se.nodeType===V.DOCUMENT_FRAGMENT_NODE){var ln=wt.filter(Ie);if(ln.length>1||e(wt,Ye))throw new F(T,"More than one element or text in fragment");if(ln.length===1&&!ue(ge,Re))throw new F(T,"Element in fragment can not be inserted before doctype")}if(Ie(Se)&&!ue(ge,Re))throw new F(T,"Only one element can be added and only after doctype");if(Me(Se)){if(e(Je,function(Fi){return Me(Fi)&&Fi!==Re}))throw new F(T,"Only one doctype is allowed");var kn=e(Je,Ie);if(Re&&Je.indexOf(kn)<Je.indexOf(Re))throw new F(T,"Doctype can only be inserted before an element")}}function Ne(ge,Se,Re,Je){re(ge,Se,Re),ge.nodeType===V.DOCUMENT_NODE&&(Je||de)(ge,Se,Re);var wt=Se.parentNode;if(wt&&wt.removeChild(Se),Se.nodeType===N){var ln=Se.firstChild;if(ln==null)return Se;var kn=Se.lastChild}else ln=kn=Se;var Pr=Re?Re.previousSibling:ge.lastChild;ln.previousSibling=Pr,kn.nextSibling=Re,Pr?Pr.nextSibling=ln:ge.firstChild=ln,Re==null?ge.lastChild=kn:Re.previousSibling=kn;do ln.parentNode=ge;while(ln!==kn&&(ln=ln.nextSibling));return se(ge.ownerDocument||ge,ge),Se.nodeType==N&&(Se.firstChild=Se.lastChild=null),Se}function $e(ge,Se){return Se.parentNode&&Se.parentNode.removeChild(Se),Se.parentNode=ge,Se.previousSibling=ge.lastChild,Se.nextSibling=null,Se.previousSibling?Se.previousSibling.nextSibling=Se:ge.firstChild=Se,ge.lastChild=Se,se(ge.ownerDocument,ge,Se),Se}Y.prototype={nodeName:"#document",nodeType:b,doctype:null,documentElement:null,_inc:1,insertBefore:function(ge,Se){if(ge.nodeType==N){for(var Re=ge.firstChild;Re;){var Je=Re.nextSibling;this.insertBefore(Re,Se),Re=Je}return ge}return Ne(this,ge,Se),ge.ownerDocument=this,this.documentElement===null&&ge.nodeType===h&&(this.documentElement=ge),ge},removeChild:function(ge){return this.documentElement==ge&&(this.documentElement=null),Ae(this,ge)},replaceChild:function(ge,Se){Ne(this,ge,Se,ce),ge.ownerDocument=this,Se&&this.removeChild(Se),Ie(ge)&&(this.documentElement=ge)},importNode:function(ge,Se){return fn(this,ge,Se)},getElementById:function(ge){var Se=null;return W(this.documentElement,function(Re){if(Re.nodeType==h&&Re.getAttribute("id")==ge)return Se=Re,!0}),Se},getElementsByClassName:function(ge){var Se=o(ge);return new S(this,function(Re){var Je=[];return Se.length>0&&W(Re.documentElement,function(wt){if(wt!==Re&&wt.nodeType===h){var ln=wt.getAttribute("class");if(ln){var kn=ge===ln;if(!kn){var Pr=o(ln);kn=Se.every(l(Pr))}kn&&Je.push(wt)}}}),Je})},createElement:function(ge){var Se=new ze;Se.ownerDocument=this,Se.nodeName=ge,Se.tagName=ge,Se.localName=ge,Se.childNodes=new M;var Re=Se.attributes=new U;return Re._ownerElement=Se,Se},createDocumentFragment:function(){var ge=new Ue;return ge.ownerDocument=this,ge.childNodes=new M,ge},createTextNode:function(ge){var Se=new Ce;return Se.ownerDocument=this,Se.appendData(ge),Se},createComment:function(ge){var Se=new Oe;return Se.ownerDocument=this,Se.appendData(ge),Se},createCDATASection:function(ge){var Se=new We;return Se.ownerDocument=this,Se.appendData(ge),Se},createProcessingInstruction:function(ge,Se){var Re=new ct;return Re.ownerDocument=this,Re.tagName=Re.nodeName=Re.target=ge,Re.nodeValue=Re.data=Se,Re},createAttribute:function(ge){var Se=new Fe;return Se.ownerDocument=this,Se.name=ge,Se.nodeName=ge,Se.localName=ge,Se.specified=!0,Se},createEntityReference:function(ge){var Se=new jt;return Se.ownerDocument=this,Se.nodeName=ge,Se},createElementNS:function(ge,Se){var Re=new ze,Je=Se.split(":"),wt=Re.attributes=new U;return Re.childNodes=new M,Re.ownerDocument=this,Re.nodeName=Se,Re.tagName=Se,Re.namespaceURI=ge,Je.length==2?(Re.prefix=Je[0],Re.localName=Je[1]):Re.localName=Se,wt._ownerElement=Re,Re},createAttributeNS:function(ge,Se){var Re=new Fe,Je=Se.split(":");return Re.ownerDocument=this,Re.nodeName=Se,Re.name=Se,Re.namespaceURI=ge,Re.specified=!0,Je.length==2?(Re.prefix=Je[0],Re.localName=Je[1]):Re.localName=Se,Re}},u(Y,V);function ze(){this._nsMap={}}ze.prototype={nodeType:h,hasAttribute:function(ge){return this.getAttributeNode(ge)!=null},getAttribute:function(ge){var Se=this.getAttributeNode(ge);return Se&&Se.value||""},getAttributeNode:function(ge){return this.attributes.getNamedItem(ge)},setAttribute:function(ge,Se){var Re=this.ownerDocument.createAttribute(ge);Re.value=Re.nodeValue=""+Se,this.setAttributeNode(Re)},removeAttribute:function(ge){var Se=this.getAttributeNode(ge);Se&&this.removeAttributeNode(Se)},appendChild:function(ge){return ge.nodeType===N?this.insertBefore(ge,null):$e(this,ge)},setAttributeNode:function(ge){return this.attributes.setNamedItem(ge)},setAttributeNodeNS:function(ge){return this.attributes.setNamedItemNS(ge)},removeAttributeNode:function(ge){return this.attributes.removeNamedItem(ge.nodeName)},removeAttributeNS:function(ge,Se){var Re=this.getAttributeNodeNS(ge,Se);Re&&this.removeAttributeNode(Re)},hasAttributeNS:function(ge,Se){return this.getAttributeNodeNS(ge,Se)!=null},getAttributeNS:function(ge,Se){var Re=this.getAttributeNodeNS(ge,Se);return Re&&Re.value||""},setAttributeNS:function(ge,Se,Re){var Je=this.ownerDocument.createAttributeNS(ge,Se);Je.value=Je.nodeValue=""+Re,this.setAttributeNode(Je)},getAttributeNodeNS:function(ge,Se){return this.attributes.getNamedItemNS(ge,Se)},getElementsByTagName:function(ge){return new S(this,function(Se){var Re=[];return W(Se,function(Je){Je!==Se&&Je.nodeType==h&&(ge==="*"||Je.tagName==ge)&&Re.push(Je)}),Re})},getElementsByTagNameNS:function(ge,Se){return new S(this,function(Re){var Je=[];return W(Re,function(wt){wt!==Re&&wt.nodeType===h&&(ge==="*"||wt.namespaceURI===ge)&&(Se==="*"||wt.localName==Se)&&Je.push(wt)}),Je})}},Y.prototype.getElementsByTagName=ze.prototype.getElementsByTagName,Y.prototype.getElementsByTagNameNS=ze.prototype.getElementsByTagNameNS,u(ze,V);function Fe(){}Fe.prototype.nodeType=f,u(Fe,V);function De(){}De.prototype={data:"",substringData:function(ge,Se){return this.data.substring(ge,ge+Se)},appendData:function(ge){ge=this.data+ge,this.nodeValue=this.data=ge,this.length=ge.length},insertData:function(ge,Se){this.replaceData(ge,0,Se)},appendChild:function(ge){throw new Error(k[T])},deleteData:function(ge,Se){this.replaceData(ge,Se,"")},replaceData:function(ge,Se,Re){var Je=this.data.substring(0,ge),wt=this.data.substring(ge+Se);Re=Je+Re+wt,this.nodeValue=this.data=Re,this.length=Re.length}},u(De,V);function Ce(){}Ce.prototype={nodeName:"#text",nodeType:A,splitText:function(ge){var Se=this.data,Re=Se.substring(ge);Se=Se.substring(0,ge),this.data=this.nodeValue=Se,this.length=Se.length;var Je=this.ownerDocument.createTextNode(Re);return this.parentNode&&this.parentNode.insertBefore(Je,this.nextSibling),Je}},u(Ce,De);function Oe(){}Oe.prototype={nodeName:"#comment",nodeType:x},u(Oe,De);function We(){}We.prototype={nodeName:"#cdata-section",nodeType:v},u(We,De);function ut(){}ut.prototype.nodeType=j,u(ut,V);function yt(){}yt.prototype.nodeType=_,u(yt,V);function Nt(){}Nt.prototype.nodeType=m,u(Nt,V);function jt(){}jt.prototype.nodeType=p,u(jt,V);function Ue(){}Ue.prototype.nodeName="#document-fragment",Ue.prototype.nodeType=N,u(Ue,V);function ct(){}ct.prototype.nodeType=g,u(ct,V);function ht(){}ht.prototype.serializeToString=function(ge,Se,Re){return kt.call(ge,Se,Re)},V.prototype.toString=kt;function kt(ge,Se){var Re=[],Je=this.nodeType==9&&this.documentElement||this,wt=Je.prefix,ln=Je.namespaceURI;if(ln&&wt==null){var wt=Je.lookupPrefix(ln);if(wt==null)var kn=[{namespace:ln,prefix:null}]}return mn(this,Re,ge,Se,kn),Re.join("")}function Ot(ge,Se,Re){var Je=ge.prefix||"",wt=ge.namespaceURI;if(!wt||Je==="xml"&&wt===n.XML||wt===n.XMLNS)return!1;for(var ln=Re.length;ln--;){var kn=Re[ln];if(kn.prefix===Je)return kn.namespace!==wt}return!0}function Ut(ge,Se,Re){ge.push(" ",Se,'="',Re.replace(/[<>&"\t\n\r]/g,H),'"')}function mn(ge,Se,Re,Je,wt){if(wt||(wt=[]),Je)if(ge=Je(ge),ge){if(typeof ge=="string"){Se.push(ge);return}}else return;switch(ge.nodeType){case h:var ln=ge.attributes,kn=ln.length,Hr=ge.firstChild,Pr=ge.tagName;Re=n.isHTML(ge.namespaceURI)||Re;var Fi=Pr;if(!Re&&!ge.prefix&&ge.namespaceURI){for(var Xt,di=0;di<ln.length;di++)if(ln.item(di).name==="xmlns"){Xt=ln.item(di).value;break}if(!Xt)for(var ji=wt.length-1;ji>=0;ji--){var Ni=wt[ji];if(Ni.prefix===""&&Ni.namespace===ge.namespaceURI){Xt=Ni.namespace;break}}if(Xt!==ge.namespaceURI)for(var ji=wt.length-1;ji>=0;ji--){var Ni=wt[ji];if(Ni.namespace===ge.namespaceURI){Ni.prefix&&(Fi=Ni.prefix+":"+Pr);break}}}Se.push("<",Fi);for(var pr=0;pr<kn;pr++){var rr=ln.item(pr);rr.prefix=="xmlns"?wt.push({prefix:rr.localName,namespace:rr.value}):rr.nodeName=="xmlns"&&wt.push({prefix:"",namespace:rr.value})}for(var pr=0;pr<kn;pr++){var rr=ln.item(pr);if(Ot(rr,Re,wt)){var ii=rr.prefix||"",ba=rr.namespaceURI;Ut(Se,ii?"xmlns:"+ii:"xmlns",ba),wt.push({prefix:ii,namespace:ba})}mn(rr,Se,Re,Je,wt)}if(Pr===Fi&&Ot(ge,Re,wt)){var ii=ge.prefix||"",ba=ge.namespaceURI;Ut(Se,ii?"xmlns:"+ii:"xmlns",ba),wt.push({prefix:ii,namespace:ba})}if(Hr||Re&&!/^(?:meta|link|img|br|hr|input)$/i.test(Pr)){if(Se.push(">"),Re&&/^script$/i.test(Pr))for(;Hr;)Hr.data?Se.push(Hr.data):mn(Hr,Se,Re,Je,wt.slice()),Hr=Hr.nextSibling;else for(;Hr;)mn(Hr,Se,Re,Je,wt.slice()),Hr=Hr.nextSibling;Se.push("</",Fi,">")}else Se.push("/>");return;case b:case N:for(var Hr=ge.firstChild;Hr;)mn(Hr,Se,Re,Je,wt.slice()),Hr=Hr.nextSibling;return;case f:return Ut(Se,ge.name,ge.value);case A:return Se.push(ge.data.replace(/[<&>]/g,H));case v:return Se.push("<![CDATA[",ge.data,"]]>");case x:return Se.push("<!--",ge.data,"-->");case j:var wa=ge.publicId,ts=ge.systemId;if(Se.push("<!DOCTYPE ",ge.name),wa)Se.push(" PUBLIC ",wa),ts&&ts!="."&&Se.push(" ",ts),Se.push(">");else if(ts&&ts!=".")Se.push(" SYSTEM ",ts,">");else{var $i=ge.internalSubset;$i&&Se.push(" [",$i,"]"),Se.push(">")}return;case g:return Se.push("<?",ge.target," ",ge.data,"?>");case p:return Se.push("&",ge.nodeName,";");default:Se.push("??",ge.nodeName)}}function fn(ge,Se,Re){var Je;switch(Se.nodeType){case h:Je=Se.cloneNode(!1),Je.ownerDocument=ge;case N:break;case f:Re=!0;break}if(Je||(Je=Se.cloneNode(!1)),Je.ownerDocument=ge,Je.parentNode=null,Re)for(var wt=Se.firstChild;wt;)Je.appendChild(fn(ge,wt,Re)),wt=wt.nextSibling;return Je}function wi(ge,Se,Re){var Je=new Se.constructor;for(var wt in Se)if(Object.prototype.hasOwnProperty.call(Se,wt)){var ln=Se[wt];typeof ln!="object"&&ln!=Je[wt]&&(Je[wt]=ln)}switch(Se.childNodes&&(Je.childNodes=new M),Je.ownerDocument=ge,Je.nodeType){case h:var kn=Se.attributes,Pr=Je.attributes=new U,Fi=kn.length;Pr._ownerElement=Je;for(var Xt=0;Xt<Fi;Xt++)Je.setAttributeNode(wi(ge,kn.item(Xt),!0));break;case f:Re=!0}if(Re)for(var di=Se.firstChild;di;)Je.appendChild(wi(ge,di,Re)),di=di.nextSibling;return Je}function lr(ge,Se,Re){ge[Se]=Re}try{if(Object.defineProperty){let ge=function(Se){switch(Se.nodeType){case h:case N:var Re=[];for(Se=Se.firstChild;Se;)Se.nodeType!==7&&Se.nodeType!==8&&Re.push(ge(Se)),Se=Se.nextSibling;return Re.join("");default:return Se.nodeValue}};Object.defineProperty(S.prototype,"length",{get:function(){return q(this),this.$$length}}),Object.defineProperty(V.prototype,"textContent",{get:function(){return ge(this)},set:function(Se){switch(this.nodeType){case h:case N:for(;this.firstChild;)this.removeChild(this.firstChild);(Se||String(Se))&&this.appendChild(this.ownerDocument.createTextNode(Se));break;default:this.data=Se,this.value=Se,this.nodeValue=Se}}}),lr=function(Se,Re,Je){Se["$$"+Re]=Je}}}catch{}return NA.DocumentType=ut,NA.DOMException=F,NA.DOMImplementation=K,NA.Element=ze,NA.Node=V,NA.NodeList=M,NA.XMLSerializer=ht,NA}var zj={},CU={},RX;function Hke(){return RX||(RX=1,function(t){var e=Ik().freeze;t.XML_ENTITIES=e({amp:"&",apos:"'",gt:">",lt:"<",quot:'"'}),t.HTML_ENTITIES=e({Aacute:"Á",aacute:"á",Abreve:"Ă",abreve:"ă",ac:"∾",acd:"∿",acE:"∾̳",Acirc:"Â",acirc:"â",acute:"´",Acy:"А",acy:"а",AElig:"Æ",aelig:"æ",af:"⁡",Afr:"𝔄",afr:"𝔞",Agrave:"À",agrave:"à",alefsym:"ℵ",aleph:"ℵ",Alpha:"Α",alpha:"α",Amacr:"Ā",amacr:"ā",amalg:"⨿",AMP:"&",amp:"&",And:"⩓",and:"∧",andand:"⩕",andd:"⩜",andslope:"⩘",andv:"⩚",ang:"∠",ange:"⦤",angle:"∠",angmsd:"∡",angmsdaa:"⦨",angmsdab:"⦩",angmsdac:"⦪",angmsdad:"⦫",angmsdae:"⦬",angmsdaf:"⦭",angmsdag:"⦮",angmsdah:"⦯",angrt:"∟",angrtvb:"⊾",angrtvbd:"⦝",angsph:"∢",angst:"Å",angzarr:"⍼",Aogon:"Ą",aogon:"ą",Aopf:"𝔸",aopf:"𝕒",ap:"≈",apacir:"⩯",apE:"⩰",ape:"≊",apid:"≋",apos:"'",ApplyFunction:"⁡",approx:"≈",approxeq:"≊",Aring:"Å",aring:"å",Ascr:"𝒜",ascr:"𝒶",Assign:"≔",ast:"*",asymp:"≈",asympeq:"≍",Atilde:"Ã",atilde:"ã",Auml:"Ä",auml:"ä",awconint:"∳",awint:"⨑",backcong:"≌",backepsilon:"϶",backprime:"‵",backsim:"∽",backsimeq:"⋍",Backslash:"∖",Barv:"⫧",barvee:"⊽",Barwed:"⌆",barwed:"⌅",barwedge:"⌅",bbrk:"⎵",bbrktbrk:"⎶",bcong:"≌",Bcy:"Б",bcy:"б",bdquo:"„",becaus:"∵",Because:"∵",because:"∵",bemptyv:"⦰",bepsi:"϶",bernou:"ℬ",Bernoullis:"ℬ",Beta:"Β",beta:"β",beth:"ℶ",between:"≬",Bfr:"𝔅",bfr:"𝔟",bigcap:"⋂",bigcirc:"◯",bigcup:"⋃",bigodot:"⨀",bigoplus:"⨁",bigotimes:"⨂",bigsqcup:"⨆",bigstar:"★",bigtriangledown:"▽",bigtriangleup:"△",biguplus:"⨄",bigvee:"⋁",bigwedge:"⋀",bkarow:"⤍",blacklozenge:"⧫",blacksquare:"▪",blacktriangle:"▴",blacktriangledown:"▾",blacktriangleleft:"◂",blacktriangleright:"▸",blank:"␣",blk12:"▒",blk14:"░",blk34:"▓",block:"█",bne:"=⃥",bnequiv:"≡⃥",bNot:"⫭",bnot:"⌐",Bopf:"𝔹",bopf:"𝕓",bot:"⊥",bottom:"⊥",bowtie:"⋈",boxbox:"⧉",boxDL:"╗",boxDl:"╖",boxdL:"╕",boxdl:"┐",boxDR:"╔",boxDr:"╓",boxdR:"╒",boxdr:"┌",boxH:"═",boxh:"─",boxHD:"╦",boxHd:"╤",boxhD:"╥",boxhd:"┬",boxHU:"╩",boxHu:"╧",boxhU:"╨",boxhu:"┴",boxminus:"⊟",boxplus:"⊞",boxtimes:"⊠",boxUL:"╝",boxUl:"╜",boxuL:"╛",boxul:"┘",boxUR:"╚",boxUr:"╙",boxuR:"╘",boxur:"└",boxV:"║",boxv:"│",boxVH:"╬",boxVh:"╫",boxvH:"╪",boxvh:"┼",boxVL:"╣",boxVl:"╢",boxvL:"╡",boxvl:"┤",boxVR:"╠",boxVr:"╟",boxvR:"╞",boxvr:"├",bprime:"‵",Breve:"˘",breve:"˘",brvbar:"¦",Bscr:"ℬ",bscr:"𝒷",bsemi:"⁏",bsim:"∽",bsime:"⋍",bsol:"\\",bsolb:"⧅",bsolhsub:"⟈",bull:"•",bullet:"•",bump:"≎",bumpE:"⪮",bumpe:"≏",Bumpeq:"≎",bumpeq:"≏",Cacute:"Ć",cacute:"ć",Cap:"⋒",cap:"∩",capand:"⩄",capbrcup:"⩉",capcap:"⩋",capcup:"⩇",capdot:"⩀",CapitalDifferentialD:"ⅅ",caps:"∩︀",caret:"⁁",caron:"ˇ",Cayleys:"ℭ",ccaps:"⩍",Ccaron:"Č",ccaron:"č",Ccedil:"Ç",ccedil:"ç",Ccirc:"Ĉ",ccirc:"ĉ",Cconint:"∰",ccups:"⩌",ccupssm:"⩐",Cdot:"Ċ",cdot:"ċ",cedil:"¸",Cedilla:"¸",cemptyv:"⦲",cent:"¢",CenterDot:"·",centerdot:"·",Cfr:"ℭ",cfr:"𝔠",CHcy:"Ч",chcy:"ч",check:"✓",checkmark:"✓",Chi:"Χ",chi:"χ",cir:"○",circ:"ˆ",circeq:"≗",circlearrowleft:"↺",circlearrowright:"↻",circledast:"⊛",circledcirc:"⊚",circleddash:"⊝",CircleDot:"⊙",circledR:"®",circledS:"Ⓢ",CircleMinus:"⊖",CirclePlus:"⊕",CircleTimes:"⊗",cirE:"⧃",cire:"≗",cirfnint:"⨐",cirmid:"⫯",cirscir:"⧂",ClockwiseContourIntegral:"∲",CloseCurlyDoubleQuote:"”",CloseCurlyQuote:"’",clubs:"♣",clubsuit:"♣",Colon:"∷",colon:":",Colone:"⩴",colone:"≔",coloneq:"≔",comma:",",commat:"@",comp:"∁",compfn:"∘",complement:"∁",complexes:"ℂ",cong:"≅",congdot:"⩭",Congruent:"≡",Conint:"∯",conint:"∮",ContourIntegral:"∮",Copf:"ℂ",copf:"𝕔",coprod:"∐",Coproduct:"∐",COPY:"©",copy:"©",copysr:"℗",CounterClockwiseContourIntegral:"∳",crarr:"↵",Cross:"⨯",cross:"✗",Cscr:"𝒞",cscr:"𝒸",csub:"⫏",csube:"⫑",csup:"⫐",csupe:"⫒",ctdot:"⋯",cudarrl:"⤸",cudarrr:"⤵",cuepr:"⋞",cuesc:"⋟",cularr:"↶",cularrp:"⤽",Cup:"⋓",cup:"∪",cupbrcap:"⩈",CupCap:"≍",cupcap:"⩆",cupcup:"⩊",cupdot:"⊍",cupor:"⩅",cups:"∪︀",curarr:"↷",curarrm:"⤼",curlyeqprec:"⋞",curlyeqsucc:"⋟",curlyvee:"⋎",curlywedge:"⋏",curren:"¤",curvearrowleft:"↶",curvearrowright:"↷",cuvee:"⋎",cuwed:"⋏",cwconint:"∲",cwint:"∱",cylcty:"⌭",Dagger:"‡",dagger:"†",daleth:"ℸ",Darr:"↡",dArr:"⇓",darr:"↓",dash:"‐",Dashv:"⫤",dashv:"⊣",dbkarow:"⤏",dblac:"˝",Dcaron:"Ď",dcaron:"ď",Dcy:"Д",dcy:"д",DD:"ⅅ",dd:"ⅆ",ddagger:"‡",ddarr:"⇊",DDotrahd:"⤑",ddotseq:"⩷",deg:"°",Del:"∇",Delta:"Δ",delta:"δ",demptyv:"⦱",dfisht:"⥿",Dfr:"𝔇",dfr:"𝔡",dHar:"⥥",dharl:"⇃",dharr:"⇂",DiacriticalAcute:"´",DiacriticalDot:"˙",DiacriticalDoubleAcute:"˝",DiacriticalGrave:"`",DiacriticalTilde:"˜",diam:"⋄",Diamond:"⋄",diamond:"⋄",diamondsuit:"♦",diams:"♦",die:"¨",DifferentialD:"ⅆ",digamma:"ϝ",disin:"⋲",div:"÷",divide:"÷",divideontimes:"⋇",divonx:"⋇",DJcy:"Ђ",djcy:"ђ",dlcorn:"⌞",dlcrop:"⌍",dollar:"$",Dopf:"𝔻",dopf:"𝕕",Dot:"¨",dot:"˙",DotDot:"⃜",doteq:"≐",doteqdot:"≑",DotEqual:"≐",dotminus:"∸",dotplus:"∔",dotsquare:"⊡",doublebarwedge:"⌆",DoubleContourIntegral:"∯",DoubleDot:"¨",DoubleDownArrow:"⇓",DoubleLeftArrow:"⇐",DoubleLeftRightArrow:"⇔",DoubleLeftTee:"⫤",DoubleLongLeftArrow:"⟸",DoubleLongLeftRightArrow:"⟺",DoubleLongRightArrow:"⟹",DoubleRightArrow:"⇒",DoubleRightTee:"⊨",DoubleUpArrow:"⇑",DoubleUpDownArrow:"⇕",DoubleVerticalBar:"∥",DownArrow:"↓",Downarrow:"⇓",downarrow:"↓",DownArrowBar:"⤓",DownArrowUpArrow:"⇵",DownBreve:"̑",downdownarrows:"⇊",downharpoonleft:"⇃",downharpoonright:"⇂",DownLeftRightVector:"⥐",DownLeftTeeVector:"⥞",DownLeftVector:"↽",DownLeftVectorBar:"⥖",DownRightTeeVector:"⥟",DownRightVector:"⇁",DownRightVectorBar:"⥗",DownTee:"⊤",DownTeeArrow:"↧",drbkarow:"⤐",drcorn:"⌟",drcrop:"⌌",Dscr:"𝒟",dscr:"𝒹",DScy:"Ѕ",dscy:"ѕ",dsol:"⧶",Dstrok:"Đ",dstrok:"đ",dtdot:"⋱",dtri:"▿",dtrif:"▾",duarr:"⇵",duhar:"⥯",dwangle:"⦦",DZcy:"Џ",dzcy:"џ",dzigrarr:"⟿",Eacute:"É",eacute:"é",easter:"⩮",Ecaron:"Ě",ecaron:"ě",ecir:"≖",Ecirc:"Ê",ecirc:"ê",ecolon:"≕",Ecy:"Э",ecy:"э",eDDot:"⩷",Edot:"Ė",eDot:"≑",edot:"ė",ee:"ⅇ",efDot:"≒",Efr:"𝔈",efr:"𝔢",eg:"⪚",Egrave:"È",egrave:"è",egs:"⪖",egsdot:"⪘",el:"⪙",Element:"∈",elinters:"⏧",ell:"ℓ",els:"⪕",elsdot:"⪗",Emacr:"Ē",emacr:"ē",empty:"∅",emptyset:"∅",EmptySmallSquare:"◻",emptyv:"∅",EmptyVerySmallSquare:"▫",emsp:" ",emsp13:" ",emsp14:" ",ENG:"Ŋ",eng:"ŋ",ensp:" ",Eogon:"Ę",eogon:"ę",Eopf:"𝔼",eopf:"𝕖",epar:"⋕",eparsl:"⧣",eplus:"⩱",epsi:"ε",Epsilon:"Ε",epsilon:"ε",epsiv:"ϵ",eqcirc:"≖",eqcolon:"≕",eqsim:"≂",eqslantgtr:"⪖",eqslantless:"⪕",Equal:"⩵",equals:"=",EqualTilde:"≂",equest:"≟",Equilibrium:"⇌",equiv:"≡",equivDD:"⩸",eqvparsl:"⧥",erarr:"⥱",erDot:"≓",Escr:"ℰ",escr:"ℯ",esdot:"≐",Esim:"⩳",esim:"≂",Eta:"Η",eta:"η",ETH:"Ð",eth:"ð",Euml:"Ë",euml:"ë",euro:"€",excl:"!",exist:"∃",Exists:"∃",expectation:"ℰ",ExponentialE:"ⅇ",exponentiale:"ⅇ",fallingdotseq:"≒",Fcy:"Ф",fcy:"ф",female:"♀",ffilig:"ﬃ",fflig:"ﬀ",ffllig:"ﬄ",Ffr:"𝔉",ffr:"𝔣",filig:"ﬁ",FilledSmallSquare:"◼",FilledVerySmallSquare:"▪",fjlig:"fj",flat:"♭",fllig:"ﬂ",fltns:"▱",fnof:"ƒ",Fopf:"𝔽",fopf:"𝕗",ForAll:"∀",forall:"∀",fork:"⋔",forkv:"⫙",Fouriertrf:"ℱ",fpartint:"⨍",frac12:"½",frac13:"⅓",frac14:"¼",frac15:"⅕",frac16:"⅙",frac18:"⅛",frac23:"⅔",frac25:"⅖",frac34:"¾",frac35:"⅗",frac38:"⅜",frac45:"⅘",frac56:"⅚",frac58:"⅝",frac78:"⅞",frasl:"⁄",frown:"⌢",Fscr:"ℱ",fscr:"𝒻",gacute:"ǵ",Gamma:"Γ",gamma:"γ",Gammad:"Ϝ",gammad:"ϝ",gap:"⪆",Gbreve:"Ğ",gbreve:"ğ",Gcedil:"Ģ",Gcirc:"Ĝ",gcirc:"ĝ",Gcy:"Г",gcy:"г",Gdot:"Ġ",gdot:"ġ",gE:"≧",ge:"≥",gEl:"⪌",gel:"⋛",geq:"≥",geqq:"≧",geqslant:"⩾",ges:"⩾",gescc:"⪩",gesdot:"⪀",gesdoto:"⪂",gesdotol:"⪄",gesl:"⋛︀",gesles:"⪔",Gfr:"𝔊",gfr:"𝔤",Gg:"⋙",gg:"≫",ggg:"⋙",gimel:"ℷ",GJcy:"Ѓ",gjcy:"ѓ",gl:"≷",gla:"⪥",glE:"⪒",glj:"⪤",gnap:"⪊",gnapprox:"⪊",gnE:"≩",gne:"⪈",gneq:"⪈",gneqq:"≩",gnsim:"⋧",Gopf:"𝔾",gopf:"𝕘",grave:"`",GreaterEqual:"≥",GreaterEqualLess:"⋛",GreaterFullEqual:"≧",GreaterGreater:"⪢",GreaterLess:"≷",GreaterSlantEqual:"⩾",GreaterTilde:"≳",Gscr:"𝒢",gscr:"ℊ",gsim:"≳",gsime:"⪎",gsiml:"⪐",Gt:"≫",GT:">",gt:">",gtcc:"⪧",gtcir:"⩺",gtdot:"⋗",gtlPar:"⦕",gtquest:"⩼",gtrapprox:"⪆",gtrarr:"⥸",gtrdot:"⋗",gtreqless:"⋛",gtreqqless:"⪌",gtrless:"≷",gtrsim:"≳",gvertneqq:"≩︀",gvnE:"≩︀",Hacek:"ˇ",hairsp:" ",half:"½",hamilt:"ℋ",HARDcy:"Ъ",hardcy:"ъ",hArr:"⇔",harr:"↔",harrcir:"⥈",harrw:"↭",Hat:"^",hbar:"ℏ",Hcirc:"Ĥ",hcirc:"ĥ",hearts:"♥",heartsuit:"♥",hellip:"…",hercon:"⊹",Hfr:"ℌ",hfr:"𝔥",HilbertSpace:"ℋ",hksearow:"⤥",hkswarow:"⤦",hoarr:"⇿",homtht:"∻",hookleftarrow:"↩",hookrightarrow:"↪",Hopf:"ℍ",hopf:"𝕙",horbar:"―",HorizontalLine:"─",Hscr:"ℋ",hscr:"𝒽",hslash:"ℏ",Hstrok:"Ħ",hstrok:"ħ",HumpDownHump:"≎",HumpEqual:"≏",hybull:"⁃",hyphen:"‐",Iacute:"Í",iacute:"í",ic:"⁣",Icirc:"Î",icirc:"î",Icy:"И",icy:"и",Idot:"İ",IEcy:"Е",iecy:"е",iexcl:"¡",iff:"⇔",Ifr:"ℑ",ifr:"𝔦",Igrave:"Ì",igrave:"ì",ii:"ⅈ",iiiint:"⨌",iiint:"∭",iinfin:"⧜",iiota:"℩",IJlig:"Ĳ",ijlig:"ĳ",Im:"ℑ",Imacr:"Ī",imacr:"ī",image:"ℑ",ImaginaryI:"ⅈ",imagline:"ℐ",imagpart:"ℑ",imath:"ı",imof:"⊷",imped:"Ƶ",Implies:"⇒",in:"∈",incare:"℅",infin:"∞",infintie:"⧝",inodot:"ı",Int:"∬",int:"∫",intcal:"⊺",integers:"ℤ",Integral:"∫",intercal:"⊺",Intersection:"⋂",intlarhk:"⨗",intprod:"⨼",InvisibleComma:"⁣",InvisibleTimes:"⁢",IOcy:"Ё",iocy:"ё",Iogon:"Į",iogon:"į",Iopf:"𝕀",iopf:"𝕚",Iota:"Ι",iota:"ι",iprod:"⨼",iquest:"¿",Iscr:"ℐ",iscr:"𝒾",isin:"∈",isindot:"⋵",isinE:"⋹",isins:"⋴",isinsv:"⋳",isinv:"∈",it:"⁢",Itilde:"Ĩ",itilde:"ĩ",Iukcy:"І",iukcy:"і",Iuml:"Ï",iuml:"ï",Jcirc:"Ĵ",jcirc:"ĵ",Jcy:"Й",jcy:"й",Jfr:"𝔍",jfr:"𝔧",jmath:"ȷ",Jopf:"𝕁",jopf:"𝕛",Jscr:"𝒥",jscr:"𝒿",Jsercy:"Ј",jsercy:"ј",Jukcy:"Є",jukcy:"є",Kappa:"Κ",kappa:"κ",kappav:"ϰ",Kcedil:"Ķ",kcedil:"ķ",Kcy:"К",kcy:"к",Kfr:"𝔎",kfr:"𝔨",kgreen:"ĸ",KHcy:"Х",khcy:"х",KJcy:"Ќ",kjcy:"ќ",Kopf:"𝕂",kopf:"𝕜",Kscr:"𝒦",kscr:"𝓀",lAarr:"⇚",Lacute:"Ĺ",lacute:"ĺ",laemptyv:"⦴",lagran:"ℒ",Lambda:"Λ",lambda:"λ",Lang:"⟪",lang:"⟨",langd:"⦑",langle:"⟨",lap:"⪅",Laplacetrf:"ℒ",laquo:"«",Larr:"↞",lArr:"⇐",larr:"←",larrb:"⇤",larrbfs:"⤟",larrfs:"⤝",larrhk:"↩",larrlp:"↫",larrpl:"⤹",larrsim:"⥳",larrtl:"↢",lat:"⪫",lAtail:"⤛",latail:"⤙",late:"⪭",lates:"⪭︀",lBarr:"⤎",lbarr:"⤌",lbbrk:"❲",lbrace:"{",lbrack:"[",lbrke:"⦋",lbrksld:"⦏",lbrkslu:"⦍",Lcaron:"Ľ",lcaron:"ľ",Lcedil:"Ļ",lcedil:"ļ",lceil:"⌈",lcub:"{",Lcy:"Л",lcy:"л",ldca:"⤶",ldquo:"“",ldquor:"„",ldrdhar:"⥧",ldrushar:"⥋",ldsh:"↲",lE:"≦",le:"≤",LeftAngleBracket:"⟨",LeftArrow:"←",Leftarrow:"⇐",leftarrow:"←",LeftArrowBar:"⇤",LeftArrowRightArrow:"⇆",leftarrowtail:"↢",LeftCeiling:"⌈",LeftDoubleBracket:"⟦",LeftDownTeeVector:"⥡",LeftDownVector:"⇃",LeftDownVectorBar:"⥙",LeftFloor:"⌊",leftharpoondown:"↽",leftharpoonup:"↼",leftleftarrows:"⇇",LeftRightArrow:"↔",Leftrightarrow:"⇔",leftrightarrow:"↔",leftrightarrows:"⇆",leftrightharpoons:"⇋",leftrightsquigarrow:"↭",LeftRightVector:"⥎",LeftTee:"⊣",LeftTeeArrow:"↤",LeftTeeVector:"⥚",leftthreetimes:"⋋",LeftTriangle:"⊲",LeftTriangleBar:"⧏",LeftTriangleEqual:"⊴",LeftUpDownVector:"⥑",LeftUpTeeVector:"⥠",LeftUpVector:"↿",LeftUpVectorBar:"⥘",LeftVector:"↼",LeftVectorBar:"⥒",lEg:"⪋",leg:"⋚",leq:"≤",leqq:"≦",leqslant:"⩽",les:"⩽",lescc:"⪨",lesdot:"⩿",lesdoto:"⪁",lesdotor:"⪃",lesg:"⋚︀",lesges:"⪓",lessapprox:"⪅",lessdot:"⋖",lesseqgtr:"⋚",lesseqqgtr:"⪋",LessEqualGreater:"⋚",LessFullEqual:"≦",LessGreater:"≶",lessgtr:"≶",LessLess:"⪡",lesssim:"≲",LessSlantEqual:"⩽",LessTilde:"≲",lfisht:"⥼",lfloor:"⌊",Lfr:"𝔏",lfr:"𝔩",lg:"≶",lgE:"⪑",lHar:"⥢",lhard:"↽",lharu:"↼",lharul:"⥪",lhblk:"▄",LJcy:"Љ",ljcy:"љ",Ll:"⋘",ll:"≪",llarr:"⇇",llcorner:"⌞",Lleftarrow:"⇚",llhard:"⥫",lltri:"◺",Lmidot:"Ŀ",lmidot:"ŀ",lmoust:"⎰",lmoustache:"⎰",lnap:"⪉",lnapprox:"⪉",lnE:"≨",lne:"⪇",lneq:"⪇",lneqq:"≨",lnsim:"⋦",loang:"⟬",loarr:"⇽",lobrk:"⟦",LongLeftArrow:"⟵",Longleftarrow:"⟸",longleftarrow:"⟵",LongLeftRightArrow:"⟷",Longleftrightarrow:"⟺",longleftrightarrow:"⟷",longmapsto:"⟼",LongRightArrow:"⟶",Longrightarrow:"⟹",longrightarrow:"⟶",looparrowleft:"↫",looparrowright:"↬",lopar:"⦅",Lopf:"𝕃",lopf:"𝕝",loplus:"⨭",lotimes:"⨴",lowast:"∗",lowbar:"_",LowerLeftArrow:"↙",LowerRightArrow:"↘",loz:"◊",lozenge:"◊",lozf:"⧫",lpar:"(",lparlt:"⦓",lrarr:"⇆",lrcorner:"⌟",lrhar:"⇋",lrhard:"⥭",lrm:"‎",lrtri:"⊿",lsaquo:"‹",Lscr:"ℒ",lscr:"𝓁",Lsh:"↰",lsh:"↰",lsim:"≲",lsime:"⪍",lsimg:"⪏",lsqb:"[",lsquo:"‘",lsquor:"‚",Lstrok:"Ł",lstrok:"ł",Lt:"≪",LT:"<",lt:"<",ltcc:"⪦",ltcir:"⩹",ltdot:"⋖",lthree:"⋋",ltimes:"⋉",ltlarr:"⥶",ltquest:"⩻",ltri:"◃",ltrie:"⊴",ltrif:"◂",ltrPar:"⦖",lurdshar:"⥊",luruhar:"⥦",lvertneqq:"≨︀",lvnE:"≨︀",macr:"¯",male:"♂",malt:"✠",maltese:"✠",Map:"⤅",map:"↦",mapsto:"↦",mapstodown:"↧",mapstoleft:"↤",mapstoup:"↥",marker:"▮",mcomma:"⨩",Mcy:"М",mcy:"м",mdash:"—",mDDot:"∺",measuredangle:"∡",MediumSpace:" ",Mellintrf:"ℳ",Mfr:"𝔐",mfr:"𝔪",mho:"℧",micro:"µ",mid:"∣",midast:"*",midcir:"⫰",middot:"·",minus:"−",minusb:"⊟",minusd:"∸",minusdu:"⨪",MinusPlus:"∓",mlcp:"⫛",mldr:"…",mnplus:"∓",models:"⊧",Mopf:"𝕄",mopf:"𝕞",mp:"∓",Mscr:"ℳ",mscr:"𝓂",mstpos:"∾",Mu:"Μ",mu:"μ",multimap:"⊸",mumap:"⊸",nabla:"∇",Nacute:"Ń",nacute:"ń",nang:"∠⃒",nap:"≉",napE:"⩰̸",napid:"≋̸",napos:"ŉ",napprox:"≉",natur:"♮",natural:"♮",naturals:"ℕ",nbsp:" ",nbump:"≎̸",nbumpe:"≏̸",ncap:"⩃",Ncaron:"Ň",ncaron:"ň",Ncedil:"Ņ",ncedil:"ņ",ncong:"≇",ncongdot:"⩭̸",ncup:"⩂",Ncy:"Н",ncy:"н",ndash:"–",ne:"≠",nearhk:"⤤",neArr:"⇗",nearr:"↗",nearrow:"↗",nedot:"≐̸",NegativeMediumSpace:"​",NegativeThickSpace:"​",NegativeThinSpace:"​",NegativeVeryThinSpace:"​",nequiv:"≢",nesear:"⤨",nesim:"≂̸",NestedGreaterGreater:"≫",NestedLessLess:"≪",NewLine:`
`,nexist:"∄",nexists:"∄",Nfr:"𝔑",nfr:"𝔫",ngE:"≧̸",nge:"≱",ngeq:"≱",ngeqq:"≧̸",ngeqslant:"⩾̸",nges:"⩾̸",nGg:"⋙̸",ngsim:"≵",nGt:"≫⃒",ngt:"≯",ngtr:"≯",nGtv:"≫̸",nhArr:"⇎",nharr:"↮",nhpar:"⫲",ni:"∋",nis:"⋼",nisd:"⋺",niv:"∋",NJcy:"Њ",njcy:"њ",nlArr:"⇍",nlarr:"↚",nldr:"‥",nlE:"≦̸",nle:"≰",nLeftarrow:"⇍",nleftarrow:"↚",nLeftrightarrow:"⇎",nleftrightarrow:"↮",nleq:"≰",nleqq:"≦̸",nleqslant:"⩽̸",nles:"⩽̸",nless:"≮",nLl:"⋘̸",nlsim:"≴",nLt:"≪⃒",nlt:"≮",nltri:"⋪",nltrie:"⋬",nLtv:"≪̸",nmid:"∤",NoBreak:"⁠",NonBreakingSpace:" ",Nopf:"ℕ",nopf:"𝕟",Not:"⫬",not:"¬",NotCongruent:"≢",NotCupCap:"≭",NotDoubleVerticalBar:"∦",NotElement:"∉",NotEqual:"≠",NotEqualTilde:"≂̸",NotExists:"∄",NotGreater:"≯",NotGreaterEqual:"≱",NotGreaterFullEqual:"≧̸",NotGreaterGreater:"≫̸",NotGreaterLess:"≹",NotGreaterSlantEqual:"⩾̸",NotGreaterTilde:"≵",NotHumpDownHump:"≎̸",NotHumpEqual:"≏̸",notin:"∉",notindot:"⋵̸",notinE:"⋹̸",notinva:"∉",notinvb:"⋷",notinvc:"⋶",NotLeftTriangle:"⋪",NotLeftTriangleBar:"⧏̸",NotLeftTriangleEqual:"⋬",NotLess:"≮",NotLessEqual:"≰",NotLessGreater:"≸",NotLessLess:"≪̸",NotLessSlantEqual:"⩽̸",NotLessTilde:"≴",NotNestedGreaterGreater:"⪢̸",NotNestedLessLess:"⪡̸",notni:"∌",notniva:"∌",notnivb:"⋾",notnivc:"⋽",NotPrecedes:"⊀",NotPrecedesEqual:"⪯̸",NotPrecedesSlantEqual:"⋠",NotReverseElement:"∌",NotRightTriangle:"⋫",NotRightTriangleBar:"⧐̸",NotRightTriangleEqual:"⋭",NotSquareSubset:"⊏̸",NotSquareSubsetEqual:"⋢",NotSquareSuperset:"⊐̸",NotSquareSupersetEqual:"⋣",NotSubset:"⊂⃒",NotSubsetEqual:"⊈",NotSucceeds:"⊁",NotSucceedsEqual:"⪰̸",NotSucceedsSlantEqual:"⋡",NotSucceedsTilde:"≿̸",NotSuperset:"⊃⃒",NotSupersetEqual:"⊉",NotTilde:"≁",NotTildeEqual:"≄",NotTildeFullEqual:"≇",NotTildeTilde:"≉",NotVerticalBar:"∤",npar:"∦",nparallel:"∦",nparsl:"⫽⃥",npart:"∂̸",npolint:"⨔",npr:"⊀",nprcue:"⋠",npre:"⪯̸",nprec:"⊀",npreceq:"⪯̸",nrArr:"⇏",nrarr:"↛",nrarrc:"⤳̸",nrarrw:"↝̸",nRightarrow:"⇏",nrightarrow:"↛",nrtri:"⋫",nrtrie:"⋭",nsc:"⊁",nsccue:"⋡",nsce:"⪰̸",Nscr:"𝒩",nscr:"𝓃",nshortmid:"∤",nshortparallel:"∦",nsim:"≁",nsime:"≄",nsimeq:"≄",nsmid:"∤",nspar:"∦",nsqsube:"⋢",nsqsupe:"⋣",nsub:"⊄",nsubE:"⫅̸",nsube:"⊈",nsubset:"⊂⃒",nsubseteq:"⊈",nsubseteqq:"⫅̸",nsucc:"⊁",nsucceq:"⪰̸",nsup:"⊅",nsupE:"⫆̸",nsupe:"⊉",nsupset:"⊃⃒",nsupseteq:"⊉",nsupseteqq:"⫆̸",ntgl:"≹",Ntilde:"Ñ",ntilde:"ñ",ntlg:"≸",ntriangleleft:"⋪",ntrianglelefteq:"⋬",ntriangleright:"⋫",ntrianglerighteq:"⋭",Nu:"Ν",nu:"ν",num:"#",numero:"№",numsp:" ",nvap:"≍⃒",nVDash:"⊯",nVdash:"⊮",nvDash:"⊭",nvdash:"⊬",nvge:"≥⃒",nvgt:">⃒",nvHarr:"⤄",nvinfin:"⧞",nvlArr:"⤂",nvle:"≤⃒",nvlt:"<⃒",nvltrie:"⊴⃒",nvrArr:"⤃",nvrtrie:"⊵⃒",nvsim:"∼⃒",nwarhk:"⤣",nwArr:"⇖",nwarr:"↖",nwarrow:"↖",nwnear:"⤧",Oacute:"Ó",oacute:"ó",oast:"⊛",ocir:"⊚",Ocirc:"Ô",ocirc:"ô",Ocy:"О",ocy:"о",odash:"⊝",Odblac:"Ő",odblac:"ő",odiv:"⨸",odot:"⊙",odsold:"⦼",OElig:"Œ",oelig:"œ",ofcir:"⦿",Ofr:"𝔒",ofr:"𝔬",ogon:"˛",Ograve:"Ò",ograve:"ò",ogt:"⧁",ohbar:"⦵",ohm:"Ω",oint:"∮",olarr:"↺",olcir:"⦾",olcross:"⦻",oline:"‾",olt:"⧀",Omacr:"Ō",omacr:"ō",Omega:"Ω",omega:"ω",Omicron:"Ο",omicron:"ο",omid:"⦶",ominus:"⊖",Oopf:"𝕆",oopf:"𝕠",opar:"⦷",OpenCurlyDoubleQuote:"“",OpenCurlyQuote:"‘",operp:"⦹",oplus:"⊕",Or:"⩔",or:"∨",orarr:"↻",ord:"⩝",order:"ℴ",orderof:"ℴ",ordf:"ª",ordm:"º",origof:"⊶",oror:"⩖",orslope:"⩗",orv:"⩛",oS:"Ⓢ",Oscr:"𝒪",oscr:"ℴ",Oslash:"Ø",oslash:"ø",osol:"⊘",Otilde:"Õ",otilde:"õ",Otimes:"⨷",otimes:"⊗",otimesas:"⨶",Ouml:"Ö",ouml:"ö",ovbar:"⌽",OverBar:"‾",OverBrace:"⏞",OverBracket:"⎴",OverParenthesis:"⏜",par:"∥",para:"¶",parallel:"∥",parsim:"⫳",parsl:"⫽",part:"∂",PartialD:"∂",Pcy:"П",pcy:"п",percnt:"%",period:".",permil:"‰",perp:"⊥",pertenk:"‱",Pfr:"𝔓",pfr:"𝔭",Phi:"Φ",phi:"φ",phiv:"ϕ",phmmat:"ℳ",phone:"☎",Pi:"Π",pi:"π",pitchfork:"⋔",piv:"ϖ",planck:"ℏ",planckh:"ℎ",plankv:"ℏ",plus:"+",plusacir:"⨣",plusb:"⊞",pluscir:"⨢",plusdo:"∔",plusdu:"⨥",pluse:"⩲",PlusMinus:"±",plusmn:"±",plussim:"⨦",plustwo:"⨧",pm:"±",Poincareplane:"ℌ",pointint:"⨕",Popf:"ℙ",popf:"𝕡",pound:"£",Pr:"⪻",pr:"≺",prap:"⪷",prcue:"≼",prE:"⪳",pre:"⪯",prec:"≺",precapprox:"⪷",preccurlyeq:"≼",Precedes:"≺",PrecedesEqual:"⪯",PrecedesSlantEqual:"≼",PrecedesTilde:"≾",preceq:"⪯",precnapprox:"⪹",precneqq:"⪵",precnsim:"⋨",precsim:"≾",Prime:"″",prime:"′",primes:"ℙ",prnap:"⪹",prnE:"⪵",prnsim:"⋨",prod:"∏",Product:"∏",profalar:"⌮",profline:"⌒",profsurf:"⌓",prop:"∝",Proportion:"∷",Proportional:"∝",propto:"∝",prsim:"≾",prurel:"⊰",Pscr:"𝒫",pscr:"𝓅",Psi:"Ψ",psi:"ψ",puncsp:" ",Qfr:"𝔔",qfr:"𝔮",qint:"⨌",Qopf:"ℚ",qopf:"𝕢",qprime:"⁗",Qscr:"𝒬",qscr:"𝓆",quaternions:"ℍ",quatint:"⨖",quest:"?",questeq:"≟",QUOT:'"',quot:'"',rAarr:"⇛",race:"∽̱",Racute:"Ŕ",racute:"ŕ",radic:"√",raemptyv:"⦳",Rang:"⟫",rang:"⟩",rangd:"⦒",range:"⦥",rangle:"⟩",raquo:"»",Rarr:"↠",rArr:"⇒",rarr:"→",rarrap:"⥵",rarrb:"⇥",rarrbfs:"⤠",rarrc:"⤳",rarrfs:"⤞",rarrhk:"↪",rarrlp:"↬",rarrpl:"⥅",rarrsim:"⥴",Rarrtl:"⤖",rarrtl:"↣",rarrw:"↝",rAtail:"⤜",ratail:"⤚",ratio:"∶",rationals:"ℚ",RBarr:"⤐",rBarr:"⤏",rbarr:"⤍",rbbrk:"❳",rbrace:"}",rbrack:"]",rbrke:"⦌",rbrksld:"⦎",rbrkslu:"⦐",Rcaron:"Ř",rcaron:"ř",Rcedil:"Ŗ",rcedil:"ŗ",rceil:"⌉",rcub:"}",Rcy:"Р",rcy:"р",rdca:"⤷",rdldhar:"⥩",rdquo:"”",rdquor:"”",rdsh:"↳",Re:"ℜ",real:"ℜ",realine:"ℛ",realpart:"ℜ",reals:"ℝ",rect:"▭",REG:"®",reg:"®",ReverseElement:"∋",ReverseEquilibrium:"⇋",ReverseUpEquilibrium:"⥯",rfisht:"⥽",rfloor:"⌋",Rfr:"ℜ",rfr:"𝔯",rHar:"⥤",rhard:"⇁",rharu:"⇀",rharul:"⥬",Rho:"Ρ",rho:"ρ",rhov:"ϱ",RightAngleBracket:"⟩",RightArrow:"→",Rightarrow:"⇒",rightarrow:"→",RightArrowBar:"⇥",RightArrowLeftArrow:"⇄",rightarrowtail:"↣",RightCeiling:"⌉",RightDoubleBracket:"⟧",RightDownTeeVector:"⥝",RightDownVector:"⇂",RightDownVectorBar:"⥕",RightFloor:"⌋",rightharpoondown:"⇁",rightharpoonup:"⇀",rightleftarrows:"⇄",rightleftharpoons:"⇌",rightrightarrows:"⇉",rightsquigarrow:"↝",RightTee:"⊢",RightTeeArrow:"↦",RightTeeVector:"⥛",rightthreetimes:"⋌",RightTriangle:"⊳",RightTriangleBar:"⧐",RightTriangleEqual:"⊵",RightUpDownVector:"⥏",RightUpTeeVector:"⥜",RightUpVector:"↾",RightUpVectorBar:"⥔",RightVector:"⇀",RightVectorBar:"⥓",ring:"˚",risingdotseq:"≓",rlarr:"⇄",rlhar:"⇌",rlm:"‏",rmoust:"⎱",rmoustache:"⎱",rnmid:"⫮",roang:"⟭",roarr:"⇾",robrk:"⟧",ropar:"⦆",Ropf:"ℝ",ropf:"𝕣",roplus:"⨮",rotimes:"⨵",RoundImplies:"⥰",rpar:")",rpargt:"⦔",rppolint:"⨒",rrarr:"⇉",Rrightarrow:"⇛",rsaquo:"›",Rscr:"ℛ",rscr:"𝓇",Rsh:"↱",rsh:"↱",rsqb:"]",rsquo:"’",rsquor:"’",rthree:"⋌",rtimes:"⋊",rtri:"▹",rtrie:"⊵",rtrif:"▸",rtriltri:"⧎",RuleDelayed:"⧴",ruluhar:"⥨",rx:"℞",Sacute:"Ś",sacute:"ś",sbquo:"‚",Sc:"⪼",sc:"≻",scap:"⪸",Scaron:"Š",scaron:"š",sccue:"≽",scE:"⪴",sce:"⪰",Scedil:"Ş",scedil:"ş",Scirc:"Ŝ",scirc:"ŝ",scnap:"⪺",scnE:"⪶",scnsim:"⋩",scpolint:"⨓",scsim:"≿",Scy:"С",scy:"с",sdot:"⋅",sdotb:"⊡",sdote:"⩦",searhk:"⤥",seArr:"⇘",searr:"↘",searrow:"↘",sect:"§",semi:";",seswar:"⤩",setminus:"∖",setmn:"∖",sext:"✶",Sfr:"𝔖",sfr:"𝔰",sfrown:"⌢",sharp:"♯",SHCHcy:"Щ",shchcy:"щ",SHcy:"Ш",shcy:"ш",ShortDownArrow:"↓",ShortLeftArrow:"←",shortmid:"∣",shortparallel:"∥",ShortRightArrow:"→",ShortUpArrow:"↑",shy:"­",Sigma:"Σ",sigma:"σ",sigmaf:"ς",sigmav:"ς",sim:"∼",simdot:"⩪",sime:"≃",simeq:"≃",simg:"⪞",simgE:"⪠",siml:"⪝",simlE:"⪟",simne:"≆",simplus:"⨤",simrarr:"⥲",slarr:"←",SmallCircle:"∘",smallsetminus:"∖",smashp:"⨳",smeparsl:"⧤",smid:"∣",smile:"⌣",smt:"⪪",smte:"⪬",smtes:"⪬︀",SOFTcy:"Ь",softcy:"ь",sol:"/",solb:"⧄",solbar:"⌿",Sopf:"𝕊",sopf:"𝕤",spades:"♠",spadesuit:"♠",spar:"∥",sqcap:"⊓",sqcaps:"⊓︀",sqcup:"⊔",sqcups:"⊔︀",Sqrt:"√",sqsub:"⊏",sqsube:"⊑",sqsubset:"⊏",sqsubseteq:"⊑",sqsup:"⊐",sqsupe:"⊒",sqsupset:"⊐",sqsupseteq:"⊒",squ:"□",Square:"□",square:"□",SquareIntersection:"⊓",SquareSubset:"⊏",SquareSubsetEqual:"⊑",SquareSuperset:"⊐",SquareSupersetEqual:"⊒",SquareUnion:"⊔",squarf:"▪",squf:"▪",srarr:"→",Sscr:"𝒮",sscr:"𝓈",ssetmn:"∖",ssmile:"⌣",sstarf:"⋆",Star:"⋆",star:"☆",starf:"★",straightepsilon:"ϵ",straightphi:"ϕ",strns:"¯",Sub:"⋐",sub:"⊂",subdot:"⪽",subE:"⫅",sube:"⊆",subedot:"⫃",submult:"⫁",subnE:"⫋",subne:"⊊",subplus:"⪿",subrarr:"⥹",Subset:"⋐",subset:"⊂",subseteq:"⊆",subseteqq:"⫅",SubsetEqual:"⊆",subsetneq:"⊊",subsetneqq:"⫋",subsim:"⫇",subsub:"⫕",subsup:"⫓",succ:"≻",succapprox:"⪸",succcurlyeq:"≽",Succeeds:"≻",SucceedsEqual:"⪰",SucceedsSlantEqual:"≽",SucceedsTilde:"≿",succeq:"⪰",succnapprox:"⪺",succneqq:"⪶",succnsim:"⋩",succsim:"≿",SuchThat:"∋",Sum:"∑",sum:"∑",sung:"♪",Sup:"⋑",sup:"⊃",sup1:"¹",sup2:"²",sup3:"³",supdot:"⪾",supdsub:"⫘",supE:"⫆",supe:"⊇",supedot:"⫄",Superset:"⊃",SupersetEqual:"⊇",suphsol:"⟉",suphsub:"⫗",suplarr:"⥻",supmult:"⫂",supnE:"⫌",supne:"⊋",supplus:"⫀",Supset:"⋑",supset:"⊃",supseteq:"⊇",supseteqq:"⫆",supsetneq:"⊋",supsetneqq:"⫌",supsim:"⫈",supsub:"⫔",supsup:"⫖",swarhk:"⤦",swArr:"⇙",swarr:"↙",swarrow:"↙",swnwar:"⤪",szlig:"ß",Tab:"	",target:"⌖",Tau:"Τ",tau:"τ",tbrk:"⎴",Tcaron:"Ť",tcaron:"ť",Tcedil:"Ţ",tcedil:"ţ",Tcy:"Т",tcy:"т",tdot:"⃛",telrec:"⌕",Tfr:"𝔗",tfr:"𝔱",there4:"∴",Therefore:"∴",therefore:"∴",Theta:"Θ",theta:"θ",thetasym:"ϑ",thetav:"ϑ",thickapprox:"≈",thicksim:"∼",ThickSpace:"  ",thinsp:" ",ThinSpace:" ",thkap:"≈",thksim:"∼",THORN:"Þ",thorn:"þ",Tilde:"∼",tilde:"˜",TildeEqual:"≃",TildeFullEqual:"≅",TildeTilde:"≈",times:"×",timesb:"⊠",timesbar:"⨱",timesd:"⨰",tint:"∭",toea:"⤨",top:"⊤",topbot:"⌶",topcir:"⫱",Topf:"𝕋",topf:"𝕥",topfork:"⫚",tosa:"⤩",tprime:"‴",TRADE:"™",trade:"™",triangle:"▵",triangledown:"▿",triangleleft:"◃",trianglelefteq:"⊴",triangleq:"≜",triangleright:"▹",trianglerighteq:"⊵",tridot:"◬",trie:"≜",triminus:"⨺",TripleDot:"⃛",triplus:"⨹",trisb:"⧍",tritime:"⨻",trpezium:"⏢",Tscr:"𝒯",tscr:"𝓉",TScy:"Ц",tscy:"ц",TSHcy:"Ћ",tshcy:"ћ",Tstrok:"Ŧ",tstrok:"ŧ",twixt:"≬",twoheadleftarrow:"↞",twoheadrightarrow:"↠",Uacute:"Ú",uacute:"ú",Uarr:"↟",uArr:"⇑",uarr:"↑",Uarrocir:"⥉",Ubrcy:"Ў",ubrcy:"ў",Ubreve:"Ŭ",ubreve:"ŭ",Ucirc:"Û",ucirc:"û",Ucy:"У",ucy:"у",udarr:"⇅",Udblac:"Ű",udblac:"ű",udhar:"⥮",ufisht:"⥾",Ufr:"𝔘",ufr:"𝔲",Ugrave:"Ù",ugrave:"ù",uHar:"⥣",uharl:"↿",uharr:"↾",uhblk:"▀",ulcorn:"⌜",ulcorner:"⌜",ulcrop:"⌏",ultri:"◸",Umacr:"Ū",umacr:"ū",uml:"¨",UnderBar:"_",UnderBrace:"⏟",UnderBracket:"⎵",UnderParenthesis:"⏝",Union:"⋃",UnionPlus:"⊎",Uogon:"Ų",uogon:"ų",Uopf:"𝕌",uopf:"𝕦",UpArrow:"↑",Uparrow:"⇑",uparrow:"↑",UpArrowBar:"⤒",UpArrowDownArrow:"⇅",UpDownArrow:"↕",Updownarrow:"⇕",updownarrow:"↕",UpEquilibrium:"⥮",upharpoonleft:"↿",upharpoonright:"↾",uplus:"⊎",UpperLeftArrow:"↖",UpperRightArrow:"↗",Upsi:"ϒ",upsi:"υ",upsih:"ϒ",Upsilon:"Υ",upsilon:"υ",UpTee:"⊥",UpTeeArrow:"↥",upuparrows:"⇈",urcorn:"⌝",urcorner:"⌝",urcrop:"⌎",Uring:"Ů",uring:"ů",urtri:"◹",Uscr:"𝒰",uscr:"𝓊",utdot:"⋰",Utilde:"Ũ",utilde:"ũ",utri:"▵",utrif:"▴",uuarr:"⇈",Uuml:"Ü",uuml:"ü",uwangle:"⦧",vangrt:"⦜",varepsilon:"ϵ",varkappa:"ϰ",varnothing:"∅",varphi:"ϕ",varpi:"ϖ",varpropto:"∝",vArr:"⇕",varr:"↕",varrho:"ϱ",varsigma:"ς",varsubsetneq:"⊊︀",varsubsetneqq:"⫋︀",varsupsetneq:"⊋︀",varsupsetneqq:"⫌︀",vartheta:"ϑ",vartriangleleft:"⊲",vartriangleright:"⊳",Vbar:"⫫",vBar:"⫨",vBarv:"⫩",Vcy:"В",vcy:"в",VDash:"⊫",Vdash:"⊩",vDash:"⊨",vdash:"⊢",Vdashl:"⫦",Vee:"⋁",vee:"∨",veebar:"⊻",veeeq:"≚",vellip:"⋮",Verbar:"‖",verbar:"|",Vert:"‖",vert:"|",VerticalBar:"∣",VerticalLine:"|",VerticalSeparator:"❘",VerticalTilde:"≀",VeryThinSpace:" ",Vfr:"𝔙",vfr:"𝔳",vltri:"⊲",vnsub:"⊂⃒",vnsup:"⊃⃒",Vopf:"𝕍",vopf:"𝕧",vprop:"∝",vrtri:"⊳",Vscr:"𝒱",vscr:"𝓋",vsubnE:"⫋︀",vsubne:"⊊︀",vsupnE:"⫌︀",vsupne:"⊋︀",Vvdash:"⊪",vzigzag:"⦚",Wcirc:"Ŵ",wcirc:"ŵ",wedbar:"⩟",Wedge:"⋀",wedge:"∧",wedgeq:"≙",weierp:"℘",Wfr:"𝔚",wfr:"𝔴",Wopf:"𝕎",wopf:"𝕨",wp:"℘",wr:"≀",wreath:"≀",Wscr:"𝒲",wscr:"𝓌",xcap:"⋂",xcirc:"◯",xcup:"⋃",xdtri:"▽",Xfr:"𝔛",xfr:"𝔵",xhArr:"⟺",xharr:"⟷",Xi:"Ξ",xi:"ξ",xlArr:"⟸",xlarr:"⟵",xmap:"⟼",xnis:"⋻",xodot:"⨀",Xopf:"𝕏",xopf:"𝕩",xoplus:"⨁",xotime:"⨂",xrArr:"⟹",xrarr:"⟶",Xscr:"𝒳",xscr:"𝓍",xsqcup:"⨆",xuplus:"⨄",xutri:"△",xvee:"⋁",xwedge:"⋀",Yacute:"Ý",yacute:"ý",YAcy:"Я",yacy:"я",Ycirc:"Ŷ",ycirc:"ŷ",Ycy:"Ы",ycy:"ы",yen:"¥",Yfr:"𝔜",yfr:"𝔶",YIcy:"Ї",yicy:"ї",Yopf:"𝕐",yopf:"𝕪",Yscr:"𝒴",yscr:"𝓎",YUcy:"Ю",yucy:"ю",Yuml:"Ÿ",yuml:"ÿ",Zacute:"Ź",zacute:"ź",Zcaron:"Ž",zcaron:"ž",Zcy:"З",zcy:"з",Zdot:"Ż",zdot:"ż",zeetrf:"ℨ",ZeroWidthSpace:"​",Zeta:"Ζ",zeta:"ζ",Zfr:"ℨ",zfr:"𝔷",ZHcy:"Ж",zhcy:"ж",zigrarr:"⇝",Zopf:"ℤ",zopf:"𝕫",Zscr:"𝒵",zscr:"𝓏",zwj:"‍",zwnj:"‌"}),t.entityMap=t.HTML_ENTITIES}(CU)),CU}var ZE={},QX;function zke(){if(QX)return ZE;QX=1;var t=Ik().NAMESPACE,e=/[A-Z_a-z\xC0-\xD6\xD8-\xF6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,n=new RegExp("[\\-\\.0-9"+e.source.slice(1,-1)+"\\u00B7\\u0300-\\u036F\\u203F-\\u2040]"),r=new RegExp("^"+e.source+n.source+"*(?::"+e.source+n.source+"*)?$"),s=0,a=1,o=2,l=3,c=4,u=5,d=6,h=7;function f(T,O){this.message=T,this.locator=O,Error.captureStackTrace&&Error.captureStackTrace(this,f)}f.prototype=new Error,f.prototype.name=f.name;function A(){}A.prototype={parse:function(T,O,I){var F=this.domBuilder;F.startDocument(),j(O,O={}),v(T,O,I,F,this.errorHandler),F.endDocument()}};function v(T,O,I,F,M){function S(ze){if(ze>65535){ze-=65536;var Fe=55296+(ze>>10),De=56320+(ze&1023);return String.fromCharCode(Fe,De)}else return String.fromCharCode(ze)}function q(ze){var Fe=ze.slice(1,-1);return Object.hasOwnProperty.call(I,Fe)?I[Fe]:Fe.charAt(0)==="#"?S(parseInt(Fe.substr(1).replace("x","0x"))):(M.error("entity not found:"+ze),ze)}function U(ze){if(ze>Y){var Fe=T.substring(Y,ze).replace(/&#?\w+;/g,q);V&&L(Y),F.characters(Fe,0,ze-Y),Y=ze}}function L(ze,Fe){for(;ze>=$&&(Fe=K.exec(T));)z=Fe.index,$=z+Fe[0].length,V.lineNumber++;V.columnNumber=ze-z+1}for(var z=0,$=0,K=/.*(?:\r\n?|\n)|.*$/g,V=F.locator,H=[{currentNSMap:O}],W={},Y=0;;){try{var ee=T.indexOf("<",Y);if(ee<0){if(!T.substr(Y).match(/^\s*$/)){var ie=F.doc,se=ie.createTextNode(T.substr(Y));ie.appendChild(se),F.currentElement=se}return}switch(ee>Y&&U(ee),T.charAt(ee+1)){case"/":var re=T.indexOf(">",ee+3),Ae=T.substring(ee+2,re).replace(/[ \t\n\r]+$/g,""),he=H.pop();re<0?(Ae=T.substring(ee+2).replace(/[\s<].*/,""),M.error("end tag name: "+Ae+" is not complete:"+he.tagName),re=ee+1+Ae.length):Ae.match(/\s</)&&(Ae=Ae.replace(/[\s<].*/,""),M.error("end tag name: "+Ae+" maybe not complete"),re=ee+1+Ae.length);var Be=he.localNSMap,Me=he.tagName==Ae,Ie=Me||he.tagName&&he.tagName.toLowerCase()==Ae.toLowerCase();if(Ie){if(F.endElement(he.uri,he.localName,Ae),Be)for(var Ye in Be)Object.prototype.hasOwnProperty.call(Be,Ye)&&F.endPrefixMapping(Ye);Me||M.fatalError("end tag name: "+Ae+" is not match the current start tagName:"+he.tagName)}else H.push(he);re++;break;case"?":V&&L(ee),re=_(T,ee,F);break;case"!":V&&L(ee),re=N(T,ee,F,M);break;default:V&&L(ee);var X=new C,ue=H[H.length-1].currentNSMap,re=m(T,ee,X,ue,q,M),de=X.length;if(!X.closed&&b(T,re,X.tagName,W)&&(X.closed=!0,I.nbsp||M.warning("unclosed xml attribute")),V&&de){for(var ce=p(V,{}),Ne=0;Ne<de;Ne++){var $e=X[Ne];L($e.offset),$e.locator=p(V,{})}F.locator=ce,g(X,F,ue)&&H.push(X),F.locator=V}else g(X,F,ue)&&H.push(X);t.isHTML(X.uri)&&!X.closed?re=x(T,re,X.tagName,q,F):re++}}catch(ze){if(ze instanceof f)throw ze;M.error("element parse error: "+ze),re=-1}re>Y?Y=re:U(Math.max(ee,Y)+1)}}function p(T,O){return O.lineNumber=T.lineNumber,O.columnNumber=T.columnNumber,O}function m(T,O,I,F,M,S){function q(V,H,W){I.attributeNames.hasOwnProperty(V)&&S.fatalError("Attribute "+V+" redefined"),I.addValue(V,H.replace(/[\t\n\r]/g," ").replace(/&#?\w+;/g,M),W)}for(var U,L,z=++O,$=s;;){var K=T.charAt(z);switch(K){case"=":if($===a)U=T.slice(O,z),$=l;else if($===o)$=l;else throw new Error("attribute equal must after attrName");break;case"'":case'"':if($===l||$===a)if($===a&&(S.warning('attribute value must after "="'),U=T.slice(O,z)),O=z+1,z=T.indexOf(K,O),z>0)L=T.slice(O,z),q(U,L,O-1),$=u;else throw new Error("attribute value no end '"+K+"' match");else if($==c)L=T.slice(O,z),q(U,L,O),S.warning('attribute "'+U+'" missed start quot('+K+")!!"),O=z+1,$=u;else throw new Error('attribute value must after "="');break;case"/":switch($){case s:I.setTagName(T.slice(O,z));case u:case d:case h:$=h,I.closed=!0;case c:case a:break;case o:I.closed=!0;break;default:throw new Error("attribute invalid close char('/')")}break;case"":return S.error("unexpected end of input"),$==s&&I.setTagName(T.slice(O,z)),z;case">":switch($){case s:I.setTagName(T.slice(O,z));case u:case d:case h:break;case c:case a:L=T.slice(O,z),L.slice(-1)==="/"&&(I.closed=!0,L=L.slice(0,-1));case o:$===o&&(L=U),$==c?(S.warning('attribute "'+L+'" missed quot(")!'),q(U,L,O)):((!t.isHTML(F[""])||!L.match(/^(?:disabled|checked|selected)$/i))&&S.warning('attribute "'+L+'" missed value!! "'+L+'" instead!!'),q(L,L,O));break;case l:throw new Error("attribute value missed!!")}return z;case"":K=" ";default:if(K<=" ")switch($){case s:I.setTagName(T.slice(O,z)),$=d;break;case a:U=T.slice(O,z),$=o;break;case c:var L=T.slice(O,z);S.warning('attribute "'+L+'" missed quot(")!!'),q(U,L,O);case u:$=d;break}else switch($){case o:I.tagName,(!t.isHTML(F[""])||!U.match(/^(?:disabled|checked|selected)$/i))&&S.warning('attribute "'+U+'" missed value!! "'+U+'" instead2!!'),q(U,U,O),O=z,$=a;break;case u:S.warning('attribute space is required"'+U+'"!!');case d:$=a,O=z;break;case l:$=c,O=z;break;case h:throw new Error("elements closed character '/' and '>' must be connected to")}}z++}}function g(T,O,I){for(var F=T.tagName,M=null,K=T.length;K--;){var S=T[K],q=S.qName,U=S.value,V=q.indexOf(":");if(V>0)var L=S.prefix=q.slice(0,V),z=q.slice(V+1),$=L==="xmlns"&&z;else z=q,L=null,$=q==="xmlns"&&"";S.localName=z,$!==!1&&(M==null&&(M={},j(I,I={})),I[$]=M[$]=U,S.uri=t.XMLNS,O.startPrefixMapping($,U))}for(var K=T.length;K--;){S=T[K];var L=S.prefix;L&&(L==="xml"&&(S.uri=t.XML),L!=="xmlns"&&(S.uri=I[L||""]))}var V=F.indexOf(":");V>0?(L=T.prefix=F.slice(0,V),z=T.localName=F.slice(V+1)):(L=null,z=T.localName=F);var H=T.uri=I[L||""];if(O.startElement(H,z,F,T),T.closed){if(O.endElement(H,z,F),M)for(L in M)Object.prototype.hasOwnProperty.call(M,L)&&O.endPrefixMapping(L)}else return T.currentNSMap=I,T.localNSMap=M,!0}function x(T,O,I,F,M){if(/^(?:script|textarea)$/i.test(I)){var S=T.indexOf("</"+I+">",O),q=T.substring(O+1,S);if(/[&<]/.test(q))return/^script$/i.test(I)?(M.characters(q,0,q.length),S):(q=q.replace(/&#?\w+;/g,F),M.characters(q,0,q.length),S)}return O+1}function b(T,O,I,F){var M=F[I];return M==null&&(M=T.lastIndexOf("</"+I+">"),M<O&&(M=T.lastIndexOf("</"+I)),F[I]=M),M<O}function j(T,O){for(var I in T)Object.prototype.hasOwnProperty.call(T,I)&&(O[I]=T[I])}function N(T,O,I,F){var M=T.charAt(O+2);switch(M){case"-":if(T.charAt(O+3)==="-"){var S=T.indexOf("-->",O+4);return S>O?(I.comment(T,O+4,S-O-4),S+3):(F.error("Unclosed comment"),-1)}else return-1;default:if(T.substr(O+3,6)=="CDATA["){var S=T.indexOf("]]>",O+9);return I.startCDATA(),I.characters(T,O+9,S-O-9),I.endCDATA(),S+3}var q=k(T,O),U=q.length;if(U>1&&/!doctype/i.test(q[0][0])){var L=q[1][0],z=!1,$=!1;U>3&&(/^public$/i.test(q[2][0])?(z=q[3][0],$=U>4&&q[4][0]):/^system$/i.test(q[2][0])&&($=q[3][0]));var K=q[U-1];return I.startDTD(L,z,$),I.endDTD(),K.index+K[0].length}}return-1}function _(T,O,I){var F=T.indexOf("?>",O);if(F){var M=T.substring(O,F).match(/^<\?(\S*)\s*([\s\S]*?)\s*$/);return M?(M[0].length,I.processingInstruction(M[1],M[2]),F+2):-1}return-1}function C(){this.attributeNames={}}C.prototype={setTagName:function(T){if(!r.test(T))throw new Error("invalid tagName:"+T);this.tagName=T},addValue:function(T,O,I){if(!r.test(T))throw new Error("invalid attribute:"+T);this.attributeNames[T]=this.length,this[this.length++]={qName:T,value:O,offset:I}},length:0,getLocalName:function(T){return this[T].localName},getLocator:function(T){return this[T].locator},getQName:function(T){return this[T].qName},getURI:function(T){return this[T].uri},getValue:function(T){return this[T].value}};function k(T,O){var I,F=[],M=/'[^']+'|"[^"]+"|[^\s<>\/=]+=?|(\/?\s*>|<)/g;for(M.lastIndex=O,M.exec(T);I=M.exec(T);)if(F.push(I),I[1])return F}return ZE.XMLReader=A,ZE.ParseError=f,ZE}var HX;function $ke(){if(HX)return zj;HX=1;var t=Ik(),e=m$(),n=Hke(),r=zke(),s=e.DOMImplementation,a=t.NAMESPACE,o=r.ParseError,l=r.XMLReader;function c(m){return m.replace(/\r[\n\u0085]/g,`
`).replace(/[\r\u0085\u2028]/g,`
`)}function u(m){this.options=m||{locator:{}}}u.prototype.parseFromString=function(m,g){var x=this.options,b=new l,j=x.domBuilder||new h,N=x.errorHandler,_=x.locator,C=x.xmlns||{},k=/\/x?html?$/.test(g),T=k?n.HTML_ENTITIES:n.XML_ENTITIES;_&&j.setDocumentLocator(_),b.errorHandler=d(N,j,_),b.domBuilder=x.domBuilder||j,k&&(C[""]=a.HTML),C.xml=C.xml||a.XML;var O=x.normalizeLineEndings||c;return m&&typeof m=="string"?b.parse(O(m),C,T):b.errorHandler.error("invalid doc source"),j.doc};function d(m,g,x){if(!m){if(g instanceof h)return g;m=g}var b={},j=m instanceof Function;x=x||{};function N(_){var C=m[_];!C&&j&&(C=m.length==2?function(k){m(_,k)}:m),b[_]=C&&function(k){C("[xmldom "+_+"]	"+k+A(x))}||function(){}}return N("warning"),N("error"),N("fatalError"),b}function h(){this.cdata=!1}function f(m,g){g.lineNumber=m.lineNumber,g.columnNumber=m.columnNumber}h.prototype={startDocument:function(){this.doc=new s().createDocument(null,null,null),this.locator&&(this.doc.documentURI=this.locator.systemId)},startElement:function(m,g,x,b){var j=this.doc,N=j.createElementNS(m,x||g),_=b.length;p(this,N),this.currentElement=N,this.locator&&f(this.locator,N);for(var C=0;C<_;C++){var m=b.getURI(C),k=b.getValue(C),x=b.getQName(C),T=j.createAttributeNS(m,x);this.locator&&f(b.getLocator(C),T),T.value=T.nodeValue=k,N.setAttributeNode(T)}},endElement:function(m,g,x){var b=this.currentElement;b.tagName,this.currentElement=b.parentNode},startPrefixMapping:function(m,g){},endPrefixMapping:function(m){},processingInstruction:function(m,g){var x=this.doc.createProcessingInstruction(m,g);this.locator&&f(this.locator,x),p(this,x)},ignorableWhitespace:function(m,g,x){},characters:function(m,g,x){if(m=v.apply(this,arguments),m){if(this.cdata)var b=this.doc.createCDATASection(m);else var b=this.doc.createTextNode(m);this.currentElement?this.currentElement.appendChild(b):/^\s*$/.test(m)&&this.doc.appendChild(b),this.locator&&f(this.locator,b)}},skippedEntity:function(m){},endDocument:function(){this.doc.normalize()},setDocumentLocator:function(m){(this.locator=m)&&(m.lineNumber=0)},comment:function(m,g,x){m=v.apply(this,arguments);var b=this.doc.createComment(m);this.locator&&f(this.locator,b),p(this,b)},startCDATA:function(){this.cdata=!0},endCDATA:function(){this.cdata=!1},startDTD:function(m,g,x){var b=this.doc.implementation;if(b&&b.createDocumentType){var j=b.createDocumentType(m,g,x);this.locator&&f(this.locator,j),p(this,j),this.doc.doctype=j}},warning:function(m){console.warn("[xmldom warning]	"+m,A(this.locator))},error:function(m){console.error("[xmldom error]	"+m,A(this.locator))},fatalError:function(m){throw new o(m,this.locator)}};function A(m){if(m)return`
@`+(m.systemId||"")+"#[line:"+m.lineNumber+",col:"+m.columnNumber+"]"}function v(m,g,x){return typeof m=="string"?m.substr(g,x):m.length>=g+x||g?new java.lang.String(m,g,x)+"":m}"endDTD,startEntity,endEntity,attributeDecl,elementDecl,externalEntityDecl,internalEntityDecl,resolveEntity,getExternalSubset,notationDecl,unparsedEntityDecl".replace(/\w+/g,function(m){h.prototype[m]=function(){return null}});function p(m,g){m.currentElement?m.currentElement.appendChild(g):m.doc.appendChild(g)}return zj.__DOMHandler=h,zj.normalizeLineEndings=c,zj.DOMParser=u,zj}var zX;function Wke(){if(zX)return Hj;zX=1;var t=m$();return Hj.DOMImplementation=t.DOMImplementation,Hj.XMLSerializer=t.XMLSerializer,Hj.DOMParser=$ke().DOMParser,Hj}var $X;function qke(){if($X)return JE;$X=1;var t=Wke(),e=m$();function n(r){var s=null,a=new t.DOMParser({errorHandler:function(l,c){s={level:l,message:c}}}),o=a.parseFromString(r);if(s===null)return o;throw new Error(s.level+": "+s.message)}return JE.parseFromString=n,JE.Node=e.Node,JE}var WX;function Vke(){if(WX)return _U;WX=1;var t=mx(),e=zs,n=qke(),r=mpe(),s=r.Element;_U.readString=o;var a=n.Node;function o(l,c){c=c||{};try{var u=n.parseFromString(l,"text/xml")}catch(A){return t.reject(A)}if(u.documentElement.tagName==="parsererror")return t.resolve(new Error(u.documentElement.textContent));function d(A){switch(A.nodeType){case a.ELEMENT_NODE:return h(A);case a.TEXT_NODE:return r.text(A.nodeValue)}}function h(A){var v=f(A),p=[];e.forEach(A.childNodes,function(g){var x=d(g);x&&p.push(x)});var m={};return e.forEach(A.attributes,function(g){m[f(g)]=g.value}),new s(v,m,p)}function f(A){if(A.namespaceURI){var v=c[A.namespaceURI],p;return v?p=v+":":p="{"+A.namespaceURI+"}",p+A.localName}else return A.localName}return t.resolve(d(u.documentElement))}return _U}var SU={},sv={},Gh={},qX;function gx(){return qX||(qX=1,(function(){var t,e,n,r,s,a,o,l=[].slice,c={}.hasOwnProperty;t=function(){var u,d,h,f,A,v;if(v=arguments[0],A=2<=arguments.length?l.call(arguments,1):[],s(Object.assign))Object.assign.apply(null,arguments);else for(u=0,h=A.length;u<h;u++)if(f=A[u],f!=null)for(d in f)c.call(f,d)&&(v[d]=f[d]);return v},s=function(u){return!!u&&Object.prototype.toString.call(u)==="[object Function]"},a=function(u){var d;return!!u&&((d=typeof u)=="function"||d==="object")},n=function(u){return s(Array.isArray)?Array.isArray(u):Object.prototype.toString.call(u)==="[object Array]"},r=function(u){var d;if(n(u))return!u.length;for(d in u)if(c.call(u,d))return!1;return!0},o=function(u){var d,h;return a(u)&&(h=Object.getPrototypeOf(u))&&(d=h.constructor)&&typeof d=="function"&&d instanceof d&&Function.prototype.toString.call(d)===Function.prototype.toString.call(Object)},e=function(u){return s(u.valueOf)?u.valueOf():u},Gh.assign=t,Gh.isFunction=s,Gh.isObject=a,Gh.isArray=n,Gh.isEmpty=r,Gh.isPlainObject=o,Gh.getValue=e}).call(Gh)),Gh}var HB={exports:{}},zB={exports:{}},$B={exports:{}},WB={exports:{}},Kke=WB.exports,VX;function gpe(){return VX||(VX=1,(function(){WB.exports=function(){function t(e,n,r){if(this.options=e.options,this.stringify=e.stringify,this.parent=e,n==null)throw new Error("Missing attribute name. "+this.debugInfo(n));if(r==null)throw new Error("Missing attribute value. "+this.debugInfo(n));this.name=this.stringify.attName(n),this.value=this.stringify.attValue(r)}return t.prototype.clone=function(){return Object.create(this)},t.prototype.toString=function(e){return this.options.writer.set(e).attribute(this)},t.prototype.debugInfo=function(e){return e=e||this.name,e==null?"parent: <"+this.parent.name+">":"attribute: {"+e+"}, parent: <"+this.parent.name+">"},t}()}).call(Kke)),WB.exports}var Gke=$B.exports,KX;function Ok(){return KX||(KX=1,(function(){var t,e,n,r,s,a,o=function(c,u){for(var d in u)l.call(u,d)&&(c[d]=u[d]);function h(){this.constructor=c}return h.prototype=u.prototype,c.prototype=new h,c.__super__=u.prototype,c},l={}.hasOwnProperty;a=gx(),s=a.isObject,r=a.isFunction,n=a.getValue,e=dc(),t=gpe(),$B.exports=function(c){o(u,c);function u(d,h,f){if(u.__super__.constructor.call(this,d),h==null)throw new Error("Missing element name. "+this.debugInfo());this.name=this.stringify.eleName(h),this.attributes={},f!=null&&this.attribute(f),d.isDocument&&(this.isRoot=!0,this.documentObject=d,d.rootObject=this)}return u.prototype.clone=function(){var d,h,f,A;f=Object.create(this),f.isRoot&&(f.documentObject=null),f.attributes={},A=this.attributes;for(h in A)l.call(A,h)&&(d=A[h],f.attributes[h]=d.clone());return f.children=[],this.children.forEach(function(v){var p;return p=v.clone(),p.parent=f,f.children.push(p)}),f},u.prototype.attribute=function(d,h){var f,A;if(d!=null&&(d=n(d)),s(d))for(f in d)l.call(d,f)&&(A=d[f],this.attribute(f,A));else r(h)&&(h=h.apply()),(!this.options.skipNullAttributes||h!=null)&&(this.attributes[d]=new t(this,d,h));return this},u.prototype.removeAttribute=function(d){var h,f,A;if(d==null)throw new Error("Missing attribute name. "+this.debugInfo());if(d=n(d),Array.isArray(d))for(f=0,A=d.length;f<A;f++)h=d[f],delete this.attributes[h];else delete this.attributes[d];return this},u.prototype.toString=function(d){return this.options.writer.set(d).element(this)},u.prototype.att=function(d,h){return this.attribute(d,h)},u.prototype.a=function(d,h){return this.attribute(d,h)},u}(e)}).call(Gke)),$B.exports}var qB={exports:{}},Xke=qB.exports,GX;function Mk(){return GX||(GX=1,(function(){var t,e=function(r,s){for(var a in s)n.call(s,a)&&(r[a]=s[a]);function o(){this.constructor=r}return o.prototype=s.prototype,r.prototype=new o,r.__super__=s.prototype,r},n={}.hasOwnProperty;t=dc(),qB.exports=function(r){e(s,r);function s(a,o){if(s.__super__.constructor.call(this,a),o==null)throw new Error("Missing CDATA text. "+this.debugInfo());this.text=this.stringify.cdata(o)}return s.prototype.clone=function(){return Object.create(this)},s.prototype.toString=function(a){return this.options.writer.set(a).cdata(this)},s}(t)}).call(Xke)),qB.exports}var VB={exports:{}},Yke=VB.exports,XX;function Lk(){return XX||(XX=1,(function(){var t,e=function(r,s){for(var a in s)n.call(s,a)&&(r[a]=s[a]);function o(){this.constructor=r}return o.prototype=s.prototype,r.prototype=new o,r.__super__=s.prototype,r},n={}.hasOwnProperty;t=dc(),VB.exports=function(r){e(s,r);function s(a,o){if(s.__super__.constructor.call(this,a),o==null)throw new Error("Missing comment text. "+this.debugInfo());this.text=this.stringify.comment(o)}return s.prototype.clone=function(){return Object.create(this)},s.prototype.toString=function(a){return this.options.writer.set(a).comment(this)},s}(t)}).call(Yke)),VB.exports}var KB={exports:{}},Jke=KB.exports,YX;function Rk(){return YX||(YX=1,(function(){var t,e,n=function(s,a){for(var o in a)r.call(a,o)&&(s[o]=a[o]);function l(){this.constructor=s}return l.prototype=a.prototype,s.prototype=new l,s.__super__=a.prototype,s},r={}.hasOwnProperty;e=gx().isObject,t=dc(),KB.exports=function(s){n(a,s);function a(o,l,c,u){var d;a.__super__.constructor.call(this,o),e(l)&&(d=l,l=d.version,c=d.encoding,u=d.standalone),l||(l="1.0"),this.version=this.stringify.xmlVersion(l),c!=null&&(this.encoding=this.stringify.xmlEncoding(c)),u!=null&&(this.standalone=this.stringify.xmlStandalone(u))}return a.prototype.toString=function(o){return this.options.writer.set(o).declaration(this)},a}(t)}).call(Jke)),KB.exports}var GB={exports:{}},XB={exports:{}},Zke=XB.exports,JX;function Qk(){return JX||(JX=1,(function(){var t,e=function(r,s){for(var a in s)n.call(s,a)&&(r[a]=s[a]);function o(){this.constructor=r}return o.prototype=s.prototype,r.prototype=new o,r.__super__=s.prototype,r},n={}.hasOwnProperty;t=dc(),XB.exports=function(r){e(s,r);function s(a,o,l,c,u,d){if(s.__super__.constructor.call(this,a),o==null)throw new Error("Missing DTD element name. "+this.debugInfo());if(l==null)throw new Error("Missing DTD attribute name. "+this.debugInfo(o));if(!c)throw new Error("Missing DTD attribute type. "+this.debugInfo(o));if(!u)throw new Error("Missing DTD attribute default. "+this.debugInfo(o));if(u.indexOf("#")!==0&&(u="#"+u),!u.match(/^(#REQUIRED|#IMPLIED|#FIXED|#DEFAULT)$/))throw new Error("Invalid default value type; expected: #REQUIRED, #IMPLIED, #FIXED or #DEFAULT. "+this.debugInfo(o));if(d&&!u.match(/^(#FIXED|#DEFAULT)$/))throw new Error("Default value only applies to #FIXED or #DEFAULT. "+this.debugInfo(o));this.elementName=this.stringify.eleName(o),this.attributeName=this.stringify.attName(l),this.attributeType=this.stringify.dtdAttType(c),this.defaultValue=this.stringify.dtdAttDefault(d),this.defaultValueType=u}return s.prototype.toString=function(a){return this.options.writer.set(a).dtdAttList(this)},s}(t)}).call(Zke)),XB.exports}var YB={exports:{}},eFe=YB.exports,ZX;function Hk(){return ZX||(ZX=1,(function(){var t,e,n=function(s,a){for(var o in a)r.call(a,o)&&(s[o]=a[o]);function l(){this.constructor=s}return l.prototype=a.prototype,s.prototype=new l,s.__super__=a.prototype,s},r={}.hasOwnProperty;e=gx().isObject,t=dc(),YB.exports=function(s){n(a,s);function a(o,l,c,u){if(a.__super__.constructor.call(this,o),c==null)throw new Error("Missing DTD entity name. "+this.debugInfo(c));if(u==null)throw new Error("Missing DTD entity value. "+this.debugInfo(c));if(this.pe=!!l,this.name=this.stringify.eleName(c),!e(u))this.value=this.stringify.dtdEntityValue(u);else{if(!u.pubID&&!u.sysID)throw new Error("Public and/or system identifiers are required for an external entity. "+this.debugInfo(c));if(u.pubID&&!u.sysID)throw new Error("System identifier is required for a public external entity. "+this.debugInfo(c));if(u.pubID!=null&&(this.pubID=this.stringify.dtdPubID(u.pubID)),u.sysID!=null&&(this.sysID=this.stringify.dtdSysID(u.sysID)),u.nData!=null&&(this.nData=this.stringify.dtdNData(u.nData)),this.pe&&this.nData)throw new Error("Notation declaration is not allowed in a parameter entity. "+this.debugInfo(c))}}return a.prototype.toString=function(o){return this.options.writer.set(o).dtdEntity(this)},a}(t)}).call(eFe)),YB.exports}var JB={exports:{}},tFe=JB.exports,eY;function zk(){return eY||(eY=1,(function(){var t,e=function(r,s){for(var a in s)n.call(s,a)&&(r[a]=s[a]);function o(){this.constructor=r}return o.prototype=s.prototype,r.prototype=new o,r.__super__=s.prototype,r},n={}.hasOwnProperty;t=dc(),JB.exports=function(r){e(s,r);function s(a,o,l){if(s.__super__.constructor.call(this,a),o==null)throw new Error("Missing DTD element name. "+this.debugInfo());l||(l="(#PCDATA)"),Array.isArray(l)&&(l="("+l.join(",")+")"),this.name=this.stringify.eleName(o),this.value=this.stringify.dtdElementValue(l)}return s.prototype.toString=function(a){return this.options.writer.set(a).dtdElement(this)},s}(t)}).call(tFe)),JB.exports}var ZB={exports:{}},nFe=ZB.exports,tY;function $k(){return tY||(tY=1,(function(){var t,e=function(r,s){for(var a in s)n.call(s,a)&&(r[a]=s[a]);function o(){this.constructor=r}return o.prototype=s.prototype,r.prototype=new o,r.__super__=s.prototype,r},n={}.hasOwnProperty;t=dc(),ZB.exports=function(r){e(s,r);function s(a,o,l){if(s.__super__.constructor.call(this,a),o==null)throw new Error("Missing DTD notation name. "+this.debugInfo(o));if(!l.pubID&&!l.sysID)throw new Error("Public or system identifiers are required for an external entity. "+this.debugInfo(o));this.name=this.stringify.eleName(o),l.pubID!=null&&(this.pubID=this.stringify.dtdPubID(l.pubID)),l.sysID!=null&&(this.sysID=this.stringify.dtdSysID(l.sysID))}return s.prototype.toString=function(a){return this.options.writer.set(a).dtdNotation(this)},s}(t)}).call(nFe)),ZB.exports}var rFe=GB.exports,nY;function Wk(){return nY||(nY=1,(function(){var t,e,n,r,s,a,o=function(c,u){for(var d in u)l.call(u,d)&&(c[d]=u[d]);function h(){this.constructor=c}return h.prototype=u.prototype,c.prototype=new h,c.__super__=u.prototype,c},l={}.hasOwnProperty;a=gx().isObject,s=dc(),t=Qk(),n=Hk(),e=zk(),r=$k(),GB.exports=function(c){o(u,c);function u(d,h,f){var A,v;u.__super__.constructor.call(this,d),this.name="!DOCTYPE",this.documentObject=d,a(h)&&(A=h,h=A.pubID,f=A.sysID),f==null&&(v=[h,f],f=v[0],h=v[1]),h!=null&&(this.pubID=this.stringify.dtdPubID(h)),f!=null&&(this.sysID=this.stringify.dtdSysID(f))}return u.prototype.element=function(d,h){var f;return f=new e(this,d,h),this.children.push(f),this},u.prototype.attList=function(d,h,f,A,v){var p;return p=new t(this,d,h,f,A,v),this.children.push(p),this},u.prototype.entity=function(d,h){var f;return f=new n(this,!1,d,h),this.children.push(f),this},u.prototype.pEntity=function(d,h){var f;return f=new n(this,!0,d,h),this.children.push(f),this},u.prototype.notation=function(d,h){var f;return f=new r(this,d,h),this.children.push(f),this},u.prototype.toString=function(d){return this.options.writer.set(d).docType(this)},u.prototype.ele=function(d,h){return this.element(d,h)},u.prototype.att=function(d,h,f,A,v){return this.attList(d,h,f,A,v)},u.prototype.ent=function(d,h){return this.entity(d,h)},u.prototype.pent=function(d,h){return this.pEntity(d,h)},u.prototype.not=function(d,h){return this.notation(d,h)},u.prototype.up=function(){return this.root()||this.documentObject},u}(s)}).call(rFe)),GB.exports}var eD={exports:{}},iFe=eD.exports,rY;function qk(){return rY||(rY=1,(function(){var t,e=function(r,s){for(var a in s)n.call(s,a)&&(r[a]=s[a]);function o(){this.constructor=r}return o.prototype=s.prototype,r.prototype=new o,r.__super__=s.prototype,r},n={}.hasOwnProperty;t=dc(),eD.exports=function(r){e(s,r);function s(a,o){if(s.__super__.constructor.call(this,a),o==null)throw new Error("Missing raw text. "+this.debugInfo());this.value=this.stringify.raw(o)}return s.prototype.clone=function(){return Object.create(this)},s.prototype.toString=function(a){return this.options.writer.set(a).raw(this)},s}(t)}).call(iFe)),eD.exports}var tD={exports:{}},sFe=tD.exports,iY;function Vk(){return iY||(iY=1,(function(){var t,e=function(r,s){for(var a in s)n.call(s,a)&&(r[a]=s[a]);function o(){this.constructor=r}return o.prototype=s.prototype,r.prototype=new o,r.__super__=s.prototype,r},n={}.hasOwnProperty;t=dc(),tD.exports=function(r){e(s,r);function s(a,o){if(s.__super__.constructor.call(this,a),o==null)throw new Error("Missing element text. "+this.debugInfo());this.value=this.stringify.eleText(o)}return s.prototype.clone=function(){return Object.create(this)},s.prototype.toString=function(a){return this.options.writer.set(a).text(this)},s}(t)}).call(sFe)),tD.exports}var nD={exports:{}},aFe=nD.exports,sY;function Kk(){return sY||(sY=1,(function(){var t,e=function(r,s){for(var a in s)n.call(s,a)&&(r[a]=s[a]);function o(){this.constructor=r}return o.prototype=s.prototype,r.prototype=new o,r.__super__=s.prototype,r},n={}.hasOwnProperty;t=dc(),nD.exports=function(r){e(s,r);function s(a,o,l){if(s.__super__.constructor.call(this,a),o==null)throw new Error("Missing instruction target. "+this.debugInfo());this.target=this.stringify.insTarget(o),l&&(this.value=this.stringify.insValue(l))}return s.prototype.clone=function(){return Object.create(this)},s.prototype.toString=function(a){return this.options.writer.set(a).processingInstruction(this)},s}(t)}).call(aFe)),nD.exports}var rD={exports:{}},oFe=rD.exports,aY;function g$(){return aY||(aY=1,(function(){var t,e=function(r,s){for(var a in s)n.call(s,a)&&(r[a]=s[a]);function o(){this.constructor=r}return o.prototype=s.prototype,r.prototype=new o,r.__super__=s.prototype,r},n={}.hasOwnProperty;t=dc(),rD.exports=function(r){e(s,r);function s(a){s.__super__.constructor.call(this,a),this.isDummy=!0}return s.prototype.clone=function(){return Object.create(this)},s.prototype.toString=function(a){return""},s}(t)}).call(oFe)),rD.exports}var lFe=zB.exports,oY;function dc(){return oY||(oY=1,(function(){var t,e,n,r,s,a,o,l,c,u,d,h,f,A,v={}.hasOwnProperty;A=gx(),f=A.isObject,h=A.isFunction,d=A.isEmpty,u=A.getValue,a=null,t=null,e=null,n=null,r=null,l=null,c=null,o=null,s=null,zB.exports=function(){function p(m){this.parent=m,this.parent&&(this.options=this.parent.options,this.stringify=this.parent.stringify),this.children=[],a||(a=Ok(),t=Mk(),e=Lk(),n=Rk(),r=Wk(),l=qk(),c=Vk(),o=Kk(),s=g$())}return p.prototype.element=function(m,g,x){var b,j,N,_,C,k,T,O,I,F,M;if(k=null,g===null&&x==null&&(I=[{},null],g=I[0],x=I[1]),g==null&&(g={}),g=u(g),f(g)||(F=[g,x],x=F[0],g=F[1]),m!=null&&(m=u(m)),Array.isArray(m))for(N=0,T=m.length;N<T;N++)j=m[N],k=this.element(j);else if(h(m))k=this.element(m.apply());else if(f(m)){for(C in m)if(v.call(m,C))if(M=m[C],h(M)&&(M=M.apply()),f(M)&&d(M)&&(M=null),!this.options.ignoreDecorators&&this.stringify.convertAttKey&&C.indexOf(this.stringify.convertAttKey)===0)k=this.attribute(C.substr(this.stringify.convertAttKey.length),M);else if(!this.options.separateArrayItems&&Array.isArray(M))for(_=0,O=M.length;_<O;_++)j=M[_],b={},b[C]=j,k=this.element(b);else f(M)?(k=this.element(C),k.element(M)):k=this.element(C,M)}else this.options.skipNullNodes&&x===null?k=this.dummy():!this.options.ignoreDecorators&&this.stringify.convertTextKey&&m.indexOf(this.stringify.convertTextKey)===0?k=this.text(x):!this.options.ignoreDecorators&&this.stringify.convertCDataKey&&m.indexOf(this.stringify.convertCDataKey)===0?k=this.cdata(x):!this.options.ignoreDecorators&&this.stringify.convertCommentKey&&m.indexOf(this.stringify.convertCommentKey)===0?k=this.comment(x):!this.options.ignoreDecorators&&this.stringify.convertRawKey&&m.indexOf(this.stringify.convertRawKey)===0?k=this.raw(x):!this.options.ignoreDecorators&&this.stringify.convertPIKey&&m.indexOf(this.stringify.convertPIKey)===0?k=this.instruction(m.substr(this.stringify.convertPIKey.length),x):k=this.node(m,g,x);if(k==null)throw new Error("Could not create any elements with: "+m+". "+this.debugInfo());return k},p.prototype.insertBefore=function(m,g,x){var b,j,N;if(this.isRoot)throw new Error("Cannot insert elements at root level. "+this.debugInfo(m));return j=this.parent.children.indexOf(this),N=this.parent.children.splice(j),b=this.parent.element(m,g,x),Array.prototype.push.apply(this.parent.children,N),b},p.prototype.insertAfter=function(m,g,x){var b,j,N;if(this.isRoot)throw new Error("Cannot insert elements at root level. "+this.debugInfo(m));return j=this.parent.children.indexOf(this),N=this.parent.children.splice(j+1),b=this.parent.element(m,g,x),Array.prototype.push.apply(this.parent.children,N),b},p.prototype.remove=function(){var m;if(this.isRoot)throw new Error("Cannot remove the root element. "+this.debugInfo());return m=this.parent.children.indexOf(this),[].splice.apply(this.parent.children,[m,m-m+1].concat([])),this.parent},p.prototype.node=function(m,g,x){var b,j;return m!=null&&(m=u(m)),g||(g={}),g=u(g),f(g)||(j=[g,x],x=j[0],g=j[1]),b=new a(this,m,g),x!=null&&b.text(x),this.children.push(b),b},p.prototype.text=function(m){var g;return g=new c(this,m),this.children.push(g),this},p.prototype.cdata=function(m){var g;return g=new t(this,m),this.children.push(g),this},p.prototype.comment=function(m){var g;return g=new e(this,m),this.children.push(g),this},p.prototype.commentBefore=function(m){var g,x;return g=this.parent.children.indexOf(this),x=this.parent.children.splice(g),this.parent.comment(m),Array.prototype.push.apply(this.parent.children,x),this},p.prototype.commentAfter=function(m){var g,x;return g=this.parent.children.indexOf(this),x=this.parent.children.splice(g+1),this.parent.comment(m),Array.prototype.push.apply(this.parent.children,x),this},p.prototype.raw=function(m){var g;return g=new l(this,m),this.children.push(g),this},p.prototype.dummy=function(){var m;return m=new s(this),this.children.push(m),m},p.prototype.instruction=function(m,g){var x,b,j,N,_;if(m!=null&&(m=u(m)),g!=null&&(g=u(g)),Array.isArray(m))for(N=0,_=m.length;N<_;N++)x=m[N],this.instruction(x);else if(f(m))for(x in m)v.call(m,x)&&(b=m[x],this.instruction(x,b));else h(g)&&(g=g.apply()),j=new o(this,m,g),this.children.push(j);return this},p.prototype.instructionBefore=function(m,g){var x,b;return x=this.parent.children.indexOf(this),b=this.parent.children.splice(x),this.parent.instruction(m,g),Array.prototype.push.apply(this.parent.children,b),this},p.prototype.instructionAfter=function(m,g){var x,b;return x=this.parent.children.indexOf(this),b=this.parent.children.splice(x+1),this.parent.instruction(m,g),Array.prototype.push.apply(this.parent.children,b),this},p.prototype.declaration=function(m,g,x){var b,j;return b=this.document(),j=new n(b,m,g,x),b.children[0]instanceof n?b.children[0]=j:b.children.unshift(j),b.root()||b},p.prototype.doctype=function(m,g){var x,b,j,N,_,C,k,T,O,I;for(b=this.document(),j=new r(b,m,g),O=b.children,N=_=0,k=O.length;_<k;N=++_)if(x=O[N],x instanceof r)return b.children[N]=j,j;for(I=b.children,N=C=0,T=I.length;C<T;N=++C)if(x=I[N],x.isRoot)return b.children.splice(N,0,j),j;return b.children.push(j),j},p.prototype.up=function(){if(this.isRoot)throw new Error("The root node has no parent. Use doc() if you need to get the document object.");return this.parent},p.prototype.root=function(){var m;for(m=this;m;){if(m.isDocument)return m.rootObject;if(m.isRoot)return m;m=m.parent}},p.prototype.document=function(){var m;for(m=this;m;){if(m.isDocument)return m;m=m.parent}},p.prototype.end=function(m){return this.document().end(m)},p.prototype.prev=function(){var m;for(m=this.parent.children.indexOf(this);m>0&&this.parent.children[m-1].isDummy;)m=m-1;if(m<1)throw new Error("Already at the first node. "+this.debugInfo());return this.parent.children[m-1]},p.prototype.next=function(){var m;for(m=this.parent.children.indexOf(this);m<this.parent.children.length-1&&this.parent.children[m+1].isDummy;)m=m+1;if(m===-1||m===this.parent.children.length-1)throw new Error("Already at the last node. "+this.debugInfo());return this.parent.children[m+1]},p.prototype.importDocument=function(m){var g;return g=m.root().clone(),g.parent=this,g.isRoot=!1,this.children.push(g),this},p.prototype.debugInfo=function(m){var g,x;return m=m||this.name,m==null&&!((g=this.parent)!=null&&g.name)?"":m==null?"parent: <"+this.parent.name+">":(x=this.parent)!=null&&x.name?"node: <"+m+">, parent: <"+this.parent.name+">":"node: <"+m+">"},p.prototype.ele=function(m,g,x){return this.element(m,g,x)},p.prototype.nod=function(m,g,x){return this.node(m,g,x)},p.prototype.txt=function(m){return this.text(m)},p.prototype.dat=function(m){return this.cdata(m)},p.prototype.com=function(m){return this.comment(m)},p.prototype.ins=function(m,g){return this.instruction(m,g)},p.prototype.doc=function(){return this.document()},p.prototype.dec=function(m,g,x){return this.declaration(m,g,x)},p.prototype.dtd=function(m,g){return this.doctype(m,g)},p.prototype.e=function(m,g,x){return this.element(m,g,x)},p.prototype.n=function(m,g,x){return this.node(m,g,x)},p.prototype.t=function(m){return this.text(m)},p.prototype.d=function(m){return this.cdata(m)},p.prototype.c=function(m){return this.comment(m)},p.prototype.r=function(m){return this.raw(m)},p.prototype.i=function(m,g){return this.instruction(m,g)},p.prototype.u=function(){return this.up()},p.prototype.importXMLBuilder=function(m){return this.importDocument(m)},p}()}).call(lFe)),zB.exports}var iD={exports:{}},cFe=iD.exports,lY;function xpe(){return lY||(lY=1,(function(){var t=function(n,r){return function(){return n.apply(r,arguments)}},e={}.hasOwnProperty;iD.exports=function(){function n(r){this.assertLegalChar=t(this.assertLegalChar,this);var s,a,o;r||(r={}),this.noDoubleEncoding=r.noDoubleEncoding,a=r.stringify||{};for(s in a)e.call(a,s)&&(o=a[s],this[s]=o)}return n.prototype.eleName=function(r){return r=""+r||"",this.assertLegalChar(r)},n.prototype.eleText=function(r){return r=""+r||"",this.assertLegalChar(this.elEscape(r))},n.prototype.cdata=function(r){return r=""+r||"",r=r.replace("]]>","]]]]><![CDATA[>"),this.assertLegalChar(r)},n.prototype.comment=function(r){if(r=""+r||"",r.match(/--/))throw new Error("Comment text cannot contain double-hypen: "+r);return this.assertLegalChar(r)},n.prototype.raw=function(r){return""+r||""},n.prototype.attName=function(r){return r=""+r||""},n.prototype.attValue=function(r){return r=""+r||"",this.attEscape(r)},n.prototype.insTarget=function(r){return""+r||""},n.prototype.insValue=function(r){if(r=""+r||"",r.match(/\?>/))throw new Error("Invalid processing instruction value: "+r);return r},n.prototype.xmlVersion=function(r){if(r=""+r||"",!r.match(/1\.[0-9]+/))throw new Error("Invalid version number: "+r);return r},n.prototype.xmlEncoding=function(r){if(r=""+r||"",!r.match(/^[A-Za-z](?:[A-Za-z0-9._-])*$/))throw new Error("Invalid encoding: "+r);return r},n.prototype.xmlStandalone=function(r){return r?"yes":"no"},n.prototype.dtdPubID=function(r){return""+r||""},n.prototype.dtdSysID=function(r){return""+r||""},n.prototype.dtdElementValue=function(r){return""+r||""},n.prototype.dtdAttType=function(r){return""+r||""},n.prototype.dtdAttDefault=function(r){return r!=null?""+r||"":r},n.prototype.dtdEntityValue=function(r){return""+r||""},n.prototype.dtdNData=function(r){return""+r||""},n.prototype.convertAttKey="@",n.prototype.convertPIKey="?",n.prototype.convertTextKey="#text",n.prototype.convertCDataKey="#cdata",n.prototype.convertCommentKey="#comment",n.prototype.convertRawKey="#raw",n.prototype.assertLegalChar=function(r){var s;if(s=r.match(/[\0\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/),s)throw new Error("Invalid character in string: "+r+" at index "+s.index);return r},n.prototype.elEscape=function(r){var s;return s=this.noDoubleEncoding?/(?!&\S+;)&/g:/&/g,r.replace(s,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\r/g,"&#xD;")},n.prototype.attEscape=function(r){var s;return s=this.noDoubleEncoding?/(?!&\S+;)&/g:/&/g,r.replace(s,"&amp;").replace(/</g,"&lt;").replace(/"/g,"&quot;").replace(/\t/g,"&#x9;").replace(/\n/g,"&#xA;").replace(/\r/g,"&#xD;")},n}()}).call(cFe)),iD.exports}var sD={exports:{}},aD={exports:{}},uFe=aD.exports,cY;function vpe(){return cY||(cY=1,(function(){var t={}.hasOwnProperty;aD.exports=function(){function e(n){var r,s,a,o,l,c,u,d,h;n||(n={}),this.pretty=n.pretty||!1,this.allowEmpty=(s=n.allowEmpty)!=null?s:!1,this.pretty?(this.indent=(a=n.indent)!=null?a:"  ",this.newline=(o=n.newline)!=null?o:`
`,this.offset=(l=n.offset)!=null?l:0,this.dontprettytextnodes=(c=n.dontprettytextnodes)!=null?c:0):(this.indent="",this.newline="",this.offset=0,this.dontprettytextnodes=0),this.spacebeforeslash=(u=n.spacebeforeslash)!=null?u:"",this.spacebeforeslash===!0&&(this.spacebeforeslash=" "),this.newlinedefault=this.newline,this.prettydefault=this.pretty,d=n.writer||{};for(r in d)t.call(d,r)&&(h=d[r],this[r]=h)}return e.prototype.set=function(n){var r,s,a;n||(n={}),"pretty"in n&&(this.pretty=n.pretty),"allowEmpty"in n&&(this.allowEmpty=n.allowEmpty),this.pretty?(this.indent="indent"in n?n.indent:"  ",this.newline="newline"in n?n.newline:`
`,this.offset="offset"in n?n.offset:0,this.dontprettytextnodes="dontprettytextnodes"in n?n.dontprettytextnodes:0):(this.indent="",this.newline="",this.offset=0,this.dontprettytextnodes=0),this.spacebeforeslash="spacebeforeslash"in n?n.spacebeforeslash:"",this.spacebeforeslash===!0&&(this.spacebeforeslash=" "),this.newlinedefault=this.newline,this.prettydefault=this.pretty,s=n.writer||{};for(r in s)t.call(s,r)&&(a=s[r],this[r]=a);return this},e.prototype.space=function(n){var r;return this.pretty?(r=(n||0)+this.offset+1,r>0?new Array(r).join(this.indent):""):""},e}()}).call(uFe)),aD.exports}var dFe=sD.exports,uY;function x$(){return uY||(uY=1,(function(){var t,e,n,r,s,a,o,l,c,u,d,h,f,A,v=function(m,g){for(var x in g)p.call(g,x)&&(m[x]=g[x]);function b(){this.constructor=m}return b.prototype=g.prototype,m.prototype=new b,m.__super__=g.prototype,m},p={}.hasOwnProperty;o=Rk(),l=Wk(),t=Mk(),e=Lk(),u=Ok(),h=qk(),f=Vk(),d=Kk(),c=g$(),n=Qk(),r=zk(),s=Hk(),a=$k(),A=vpe(),sD.exports=function(m){v(g,m);function g(x){g.__super__.constructor.call(this,x)}return g.prototype.document=function(x){var b,j,N,_,C;for(this.textispresent=!1,_="",C=x.children,j=0,N=C.length;j<N;j++)b=C[j],!(b instanceof c)&&(_+=(function(){switch(!1){case!(b instanceof o):return this.declaration(b);case!(b instanceof l):return this.docType(b);case!(b instanceof e):return this.comment(b);case!(b instanceof d):return this.processingInstruction(b);default:return this.element(b,0)}}).call(this));return this.pretty&&_.slice(-this.newline.length)===this.newline&&(_=_.slice(0,-this.newline.length)),_},g.prototype.attribute=function(x){return" "+x.name+'="'+x.value+'"'},g.prototype.cdata=function(x,b){return this.space(b)+"<![CDATA["+x.text+"]]>"+this.newline},g.prototype.comment=function(x,b){return this.space(b)+"<!-- "+x.text+" -->"+this.newline},g.prototype.declaration=function(x,b){var j;return j=this.space(b),j+='<?xml version="'+x.version+'"',x.encoding!=null&&(j+=' encoding="'+x.encoding+'"'),x.standalone!=null&&(j+=' standalone="'+x.standalone+'"'),j+=this.spacebeforeslash+"?>",j+=this.newline,j},g.prototype.docType=function(x,b){var j,N,_,C,k;if(b||(b=0),C=this.space(b),C+="<!DOCTYPE "+x.root().name,x.pubID&&x.sysID?C+=' PUBLIC "'+x.pubID+'" "'+x.sysID+'"':x.sysID&&(C+=' SYSTEM "'+x.sysID+'"'),x.children.length>0){for(C+=" [",C+=this.newline,k=x.children,N=0,_=k.length;N<_;N++)j=k[N],C+=(function(){switch(!1){case!(j instanceof n):return this.dtdAttList(j,b+1);case!(j instanceof r):return this.dtdElement(j,b+1);case!(j instanceof s):return this.dtdEntity(j,b+1);case!(j instanceof a):return this.dtdNotation(j,b+1);case!(j instanceof t):return this.cdata(j,b+1);case!(j instanceof e):return this.comment(j,b+1);case!(j instanceof d):return this.processingInstruction(j,b+1);default:throw new Error("Unknown DTD node type: "+j.constructor.name)}}).call(this);C+="]"}return C+=this.spacebeforeslash+">",C+=this.newline,C},g.prototype.element=function(x,b){var j,N,_,C,k,T,O,I,F,M,S,q,U;b||(b=0),U=!1,this.textispresent?(this.newline="",this.pretty=!1):(this.newline=this.newlinedefault,this.pretty=this.prettydefault),q=this.space(b),I="",I+=q+"<"+x.name,F=x.attributes;for(O in F)p.call(F,O)&&(j=F[O],I+=this.attribute(j));if(x.children.length===0||x.children.every(function(L){return L.value===""}))this.allowEmpty?I+="></"+x.name+">"+this.newline:I+=this.spacebeforeslash+"/>"+this.newline;else if(this.pretty&&x.children.length===1&&x.children[0].value!=null)I+=">",I+=x.children[0].value,I+="</"+x.name+">"+this.newline;else{if(this.dontprettytextnodes){for(M=x.children,_=0,k=M.length;_<k;_++)if(N=M[_],N.value!=null){this.textispresent++,U=!0;break}}for(this.textispresent&&(this.newline="",this.pretty=!1,q=this.space(b)),I+=">"+this.newline,S=x.children,C=0,T=S.length;C<T;C++)N=S[C],I+=(function(){switch(!1){case!(N instanceof t):return this.cdata(N,b+1);case!(N instanceof e):return this.comment(N,b+1);case!(N instanceof u):return this.element(N,b+1);case!(N instanceof h):return this.raw(N,b+1);case!(N instanceof f):return this.text(N,b+1);case!(N instanceof d):return this.processingInstruction(N,b+1);case!(N instanceof c):return"";default:throw new Error("Unknown XML node type: "+N.constructor.name)}}).call(this);U&&this.textispresent--,this.textispresent||(this.newline=this.newlinedefault,this.pretty=this.prettydefault),I+=q+"</"+x.name+">"+this.newline}return I},g.prototype.processingInstruction=function(x,b){var j;return j=this.space(b)+"<?"+x.target,x.value&&(j+=" "+x.value),j+=this.spacebeforeslash+"?>"+this.newline,j},g.prototype.raw=function(x,b){return this.space(b)+x.value+this.newline},g.prototype.text=function(x,b){return this.space(b)+x.value+this.newline},g.prototype.dtdAttList=function(x,b){var j;return j=this.space(b)+"<!ATTLIST "+x.elementName+" "+x.attributeName+" "+x.attributeType,x.defaultValueType!=="#DEFAULT"&&(j+=" "+x.defaultValueType),x.defaultValue&&(j+=' "'+x.defaultValue+'"'),j+=this.spacebeforeslash+">"+this.newline,j},g.prototype.dtdElement=function(x,b){return this.space(b)+"<!ELEMENT "+x.name+" "+x.value+this.spacebeforeslash+">"+this.newline},g.prototype.dtdEntity=function(x,b){var j;return j=this.space(b)+"<!ENTITY",x.pe&&(j+=" %"),j+=" "+x.name,x.value?j+=' "'+x.value+'"':(x.pubID&&x.sysID?j+=' PUBLIC "'+x.pubID+'" "'+x.sysID+'"':x.sysID&&(j+=' SYSTEM "'+x.sysID+'"'),x.nData&&(j+=" NDATA "+x.nData)),j+=this.spacebeforeslash+">"+this.newline,j},g.prototype.dtdNotation=function(x,b){var j;return j=this.space(b)+"<!NOTATION "+x.name,x.pubID&&x.sysID?j+=' PUBLIC "'+x.pubID+'" "'+x.sysID+'"':x.pubID?j+=' PUBLIC "'+x.pubID+'"':x.sysID&&(j+=' SYSTEM "'+x.sysID+'"'),j+=this.spacebeforeslash+">"+this.newline,j},g.prototype.openNode=function(x,b){var j,N,_,C;if(b||(b=0),x instanceof u){_=this.space(b)+"<"+x.name,C=x.attributes;for(N in C)p.call(C,N)&&(j=C[N],_+=this.attribute(j));return _+=(x.children?">":"/>")+this.newline,_}else return _=this.space(b)+"<!DOCTYPE "+x.rootNodeName,x.pubID&&x.sysID?_+=' PUBLIC "'+x.pubID+'" "'+x.sysID+'"':x.sysID&&(_+=' SYSTEM "'+x.sysID+'"'),_+=(x.children?" [":">")+this.newline,_},g.prototype.closeNode=function(x,b){switch(b||(b=0),!1){case!(x instanceof u):return this.space(b)+"</"+x.name+">"+this.newline;case!(x instanceof l):return this.space(b)+"]>"+this.newline}},g}(A)}).call(dFe)),sD.exports}var hFe=HB.exports,dY;function fFe(){return dY||(dY=1,(function(){var t,e,n,r,s=function(o,l){for(var c in l)a.call(l,c)&&(o[c]=l[c]);function u(){this.constructor=o}return u.prototype=l.prototype,o.prototype=new u,o.__super__=l.prototype,o},a={}.hasOwnProperty;r=gx().isPlainObject,t=dc(),n=xpe(),e=x$(),HB.exports=function(o){s(l,o);function l(c){l.__super__.constructor.call(this,null),this.name="?xml",c||(c={}),c.writer||(c.writer=new e),this.options=c,this.stringify=new n(c),this.isDocument=!0}return l.prototype.end=function(c){var u;return c?r(c)&&(u=c,c=this.options.writer.set(u)):c=this.options.writer,c.document(this)},l.prototype.toString=function(c){return this.options.writer.set(c).document(this)},l}(t)}).call(hFe)),HB.exports}var oD={exports:{}},AFe=oD.exports,hY;function pFe(){return hY||(hY=1,(function(){var t,e,n,r,s,a,o,l,c,u,d,h,f,A,v,p,m,g,x,b,j={}.hasOwnProperty;b=gx(),g=b.isObject,m=b.isFunction,x=b.isPlainObject,p=b.getValue,u=Ok(),e=Mk(),n=Lk(),h=qk(),v=Vk(),d=Kk(),l=Rk(),c=Wk(),r=Qk(),a=Hk(),s=zk(),o=$k(),t=gpe(),A=xpe(),f=x$(),oD.exports=function(){function N(_,C,k){var T;this.name="?xml",_||(_={}),_.writer?x(_.writer)&&(T=_.writer,_.writer=new f(T)):_.writer=new f(_),this.options=_,this.writer=_.writer,this.stringify=new A(_),this.onDataCallback=C||function(){},this.onEndCallback=k||function(){},this.currentNode=null,this.currentLevel=-1,this.openTags={},this.documentStarted=!1,this.documentCompleted=!1,this.root=null}return N.prototype.node=function(_,C,k){var T,O;if(_==null)throw new Error("Missing node name.");if(this.root&&this.currentLevel===-1)throw new Error("Document can only have one root node. "+this.debugInfo(_));return this.openCurrent(),_=p(_),C===null&&k==null&&(T=[{},null],C=T[0],k=T[1]),C==null&&(C={}),C=p(C),g(C)||(O=[C,k],k=O[0],C=O[1]),this.currentNode=new u(this,_,C),this.currentNode.children=!1,this.currentLevel++,this.openTags[this.currentLevel]=this.currentNode,k!=null&&this.text(k),this},N.prototype.element=function(_,C,k){return this.currentNode&&this.currentNode instanceof c?this.dtdElement.apply(this,arguments):this.node(_,C,k)},N.prototype.attribute=function(_,C){var k,T;if(!this.currentNode||this.currentNode.children)throw new Error("att() can only be used immediately after an ele() call in callback mode. "+this.debugInfo(_));if(_!=null&&(_=p(_)),g(_))for(k in _)j.call(_,k)&&(T=_[k],this.attribute(k,T));else m(C)&&(C=C.apply()),(!this.options.skipNullAttributes||C!=null)&&(this.currentNode.attributes[_]=new t(this,_,C));return this},N.prototype.text=function(_){var C;return this.openCurrent(),C=new v(this,_),this.onData(this.writer.text(C,this.currentLevel+1),this.currentLevel+1),this},N.prototype.cdata=function(_){var C;return this.openCurrent(),C=new e(this,_),this.onData(this.writer.cdata(C,this.currentLevel+1),this.currentLevel+1),this},N.prototype.comment=function(_){var C;return this.openCurrent(),C=new n(this,_),this.onData(this.writer.comment(C,this.currentLevel+1),this.currentLevel+1),this},N.prototype.raw=function(_){var C;return this.openCurrent(),C=new h(this,_),this.onData(this.writer.raw(C,this.currentLevel+1),this.currentLevel+1),this},N.prototype.instruction=function(_,C){var k,T,O,I,F;if(this.openCurrent(),_!=null&&(_=p(_)),C!=null&&(C=p(C)),Array.isArray(_))for(k=0,I=_.length;k<I;k++)T=_[k],this.instruction(T);else if(g(_))for(T in _)j.call(_,T)&&(O=_[T],this.instruction(T,O));else m(C)&&(C=C.apply()),F=new d(this,_,C),this.onData(this.writer.processingInstruction(F,this.currentLevel+1),this.currentLevel+1);return this},N.prototype.declaration=function(_,C,k){var T;if(this.openCurrent(),this.documentStarted)throw new Error("declaration() must be the first node.");return T=new l(this,_,C,k),this.onData(this.writer.declaration(T,this.currentLevel+1),this.currentLevel+1),this},N.prototype.doctype=function(_,C,k){if(this.openCurrent(),_==null)throw new Error("Missing root node name.");if(this.root)throw new Error("dtd() must come before the root node.");return this.currentNode=new c(this,C,k),this.currentNode.rootNodeName=_,this.currentNode.children=!1,this.currentLevel++,this.openTags[this.currentLevel]=this.currentNode,this},N.prototype.dtdElement=function(_,C){var k;return this.openCurrent(),k=new s(this,_,C),this.onData(this.writer.dtdElement(k,this.currentLevel+1),this.currentLevel+1),this},N.prototype.attList=function(_,C,k,T,O){var I;return this.openCurrent(),I=new r(this,_,C,k,T,O),this.onData(this.writer.dtdAttList(I,this.currentLevel+1),this.currentLevel+1),this},N.prototype.entity=function(_,C){var k;return this.openCurrent(),k=new a(this,!1,_,C),this.onData(this.writer.dtdEntity(k,this.currentLevel+1),this.currentLevel+1),this},N.prototype.pEntity=function(_,C){var k;return this.openCurrent(),k=new a(this,!0,_,C),this.onData(this.writer.dtdEntity(k,this.currentLevel+1),this.currentLevel+1),this},N.prototype.notation=function(_,C){var k;return this.openCurrent(),k=new o(this,_,C),this.onData(this.writer.dtdNotation(k,this.currentLevel+1),this.currentLevel+1),this},N.prototype.up=function(){if(this.currentLevel<0)throw new Error("The document node has no parent.");return this.currentNode?(this.currentNode.children?this.closeNode(this.currentNode):this.openNode(this.currentNode),this.currentNode=null):this.closeNode(this.openTags[this.currentLevel]),delete this.openTags[this.currentLevel],this.currentLevel--,this},N.prototype.end=function(){for(;this.currentLevel>=0;)this.up();return this.onEnd()},N.prototype.openCurrent=function(){if(this.currentNode)return this.currentNode.children=!0,this.openNode(this.currentNode)},N.prototype.openNode=function(_){if(!_.isOpen)return!this.root&&this.currentLevel===0&&_ instanceof u&&(this.root=_),this.onData(this.writer.openNode(_,this.currentLevel),this.currentLevel),_.isOpen=!0},N.prototype.closeNode=function(_){if(!_.isClosed)return this.onData(this.writer.closeNode(_,this.currentLevel),this.currentLevel),_.isClosed=!0},N.prototype.onData=function(_,C){return this.documentStarted=!0,this.onDataCallback(_,C+1)},N.prototype.onEnd=function(){return this.documentCompleted=!0,this.onEndCallback()},N.prototype.debugInfo=function(_){return _==null?"":"node: <"+_+">"},N.prototype.ele=function(){return this.element.apply(this,arguments)},N.prototype.nod=function(_,C,k){return this.node(_,C,k)},N.prototype.txt=function(_){return this.text(_)},N.prototype.dat=function(_){return this.cdata(_)},N.prototype.com=function(_){return this.comment(_)},N.prototype.ins=function(_,C){return this.instruction(_,C)},N.prototype.dec=function(_,C,k){return this.declaration(_,C,k)},N.prototype.dtd=function(_,C,k){return this.doctype(_,C,k)},N.prototype.e=function(_,C,k){return this.element(_,C,k)},N.prototype.n=function(_,C,k){return this.node(_,C,k)},N.prototype.t=function(_){return this.text(_)},N.prototype.d=function(_){return this.cdata(_)},N.prototype.c=function(_){return this.comment(_)},N.prototype.r=function(_){return this.raw(_)},N.prototype.i=function(_,C){return this.instruction(_,C)},N.prototype.att=function(){return this.currentNode&&this.currentNode instanceof c?this.attList.apply(this,arguments):this.attribute.apply(this,arguments)},N.prototype.a=function(){return this.currentNode&&this.currentNode instanceof c?this.attList.apply(this,arguments):this.attribute.apply(this,arguments)},N.prototype.ent=function(_,C){return this.entity(_,C)},N.prototype.pent=function(_,C){return this.pEntity(_,C)},N.prototype.not=function(_,C){return this.notation(_,C)},N}()}).call(AFe)),oD.exports}var lD={exports:{}},mFe=lD.exports,fY;function gFe(){return fY||(fY=1,(function(){var t,e,n,r,s,a,o,l,c,u,d,h,f,A,v=function(m,g){for(var x in g)p.call(g,x)&&(m[x]=g[x]);function b(){this.constructor=m}return b.prototype=g.prototype,m.prototype=new b,m.__super__=g.prototype,m},p={}.hasOwnProperty;o=Rk(),l=Wk(),t=Mk(),e=Lk(),u=Ok(),h=qk(),f=Vk(),d=Kk(),c=g$(),n=Qk(),r=zk(),s=Hk(),a=$k(),A=vpe(),lD.exports=function(m){v(g,m);function g(x,b){g.__super__.constructor.call(this,b),this.stream=x}return g.prototype.document=function(x){var b,j,N,_,C,k,T,O;for(k=x.children,j=0,_=k.length;j<_;j++)b=k[j],b.isLastRootNode=!1;for(x.children[x.children.length-1].isLastRootNode=!0,T=x.children,O=[],N=0,C=T.length;N<C;N++)if(b=T[N],!(b instanceof c))switch(!1){case!(b instanceof o):O.push(this.declaration(b));break;case!(b instanceof l):O.push(this.docType(b));break;case!(b instanceof e):O.push(this.comment(b));break;case!(b instanceof d):O.push(this.processingInstruction(b));break;default:O.push(this.element(b))}return O},g.prototype.attribute=function(x){return this.stream.write(" "+x.name+'="'+x.value+'"')},g.prototype.cdata=function(x,b){return this.stream.write(this.space(b)+"<![CDATA["+x.text+"]]>"+this.endline(x))},g.prototype.comment=function(x,b){return this.stream.write(this.space(b)+"<!-- "+x.text+" -->"+this.endline(x))},g.prototype.declaration=function(x,b){return this.stream.write(this.space(b)),this.stream.write('<?xml version="'+x.version+'"'),x.encoding!=null&&this.stream.write(' encoding="'+x.encoding+'"'),x.standalone!=null&&this.stream.write(' standalone="'+x.standalone+'"'),this.stream.write(this.spacebeforeslash+"?>"),this.stream.write(this.endline(x))},g.prototype.docType=function(x,b){var j,N,_,C;if(b||(b=0),this.stream.write(this.space(b)),this.stream.write("<!DOCTYPE "+x.root().name),x.pubID&&x.sysID?this.stream.write(' PUBLIC "'+x.pubID+'" "'+x.sysID+'"'):x.sysID&&this.stream.write(' SYSTEM "'+x.sysID+'"'),x.children.length>0){for(this.stream.write(" ["),this.stream.write(this.endline(x)),C=x.children,N=0,_=C.length;N<_;N++)switch(j=C[N],!1){case!(j instanceof n):this.dtdAttList(j,b+1);break;case!(j instanceof r):this.dtdElement(j,b+1);break;case!(j instanceof s):this.dtdEntity(j,b+1);break;case!(j instanceof a):this.dtdNotation(j,b+1);break;case!(j instanceof t):this.cdata(j,b+1);break;case!(j instanceof e):this.comment(j,b+1);break;case!(j instanceof d):this.processingInstruction(j,b+1);break;default:throw new Error("Unknown DTD node type: "+j.constructor.name)}this.stream.write("]")}return this.stream.write(this.spacebeforeslash+">"),this.stream.write(this.endline(x))},g.prototype.element=function(x,b){var j,N,_,C,k,T,O,I;b||(b=0),I=this.space(b),this.stream.write(I+"<"+x.name),T=x.attributes;for(k in T)p.call(T,k)&&(j=T[k],this.attribute(j));if(x.children.length===0||x.children.every(function(F){return F.value===""}))this.allowEmpty?this.stream.write("></"+x.name+">"):this.stream.write(this.spacebeforeslash+"/>");else if(this.pretty&&x.children.length===1&&x.children[0].value!=null)this.stream.write(">"),this.stream.write(x.children[0].value),this.stream.write("</"+x.name+">");else{for(this.stream.write(">"+this.newline),O=x.children,_=0,C=O.length;_<C;_++)switch(N=O[_],!1){case!(N instanceof t):this.cdata(N,b+1);break;case!(N instanceof e):this.comment(N,b+1);break;case!(N instanceof u):this.element(N,b+1);break;case!(N instanceof h):this.raw(N,b+1);break;case!(N instanceof f):this.text(N,b+1);break;case!(N instanceof d):this.processingInstruction(N,b+1);break;case!(N instanceof c):break;default:throw new Error("Unknown XML node type: "+N.constructor.name)}this.stream.write(I+"</"+x.name+">")}return this.stream.write(this.endline(x))},g.prototype.processingInstruction=function(x,b){return this.stream.write(this.space(b)+"<?"+x.target),x.value&&this.stream.write(" "+x.value),this.stream.write(this.spacebeforeslash+"?>"+this.endline(x))},g.prototype.raw=function(x,b){return this.stream.write(this.space(b)+x.value+this.endline(x))},g.prototype.text=function(x,b){return this.stream.write(this.space(b)+x.value+this.endline(x))},g.prototype.dtdAttList=function(x,b){return this.stream.write(this.space(b)+"<!ATTLIST "+x.elementName+" "+x.attributeName+" "+x.attributeType),x.defaultValueType!=="#DEFAULT"&&this.stream.write(" "+x.defaultValueType),x.defaultValue&&this.stream.write(' "'+x.defaultValue+'"'),this.stream.write(this.spacebeforeslash+">"+this.endline(x))},g.prototype.dtdElement=function(x,b){return this.stream.write(this.space(b)+"<!ELEMENT "+x.name+" "+x.value),this.stream.write(this.spacebeforeslash+">"+this.endline(x))},g.prototype.dtdEntity=function(x,b){return this.stream.write(this.space(b)+"<!ENTITY"),x.pe&&this.stream.write(" %"),this.stream.write(" "+x.name),x.value?this.stream.write(' "'+x.value+'"'):(x.pubID&&x.sysID?this.stream.write(' PUBLIC "'+x.pubID+'" "'+x.sysID+'"'):x.sysID&&this.stream.write(' SYSTEM "'+x.sysID+'"'),x.nData&&this.stream.write(" NDATA "+x.nData)),this.stream.write(this.spacebeforeslash+">"+this.endline(x))},g.prototype.dtdNotation=function(x,b){return this.stream.write(this.space(b)+"<!NOTATION "+x.name),x.pubID&&x.sysID?this.stream.write(' PUBLIC "'+x.pubID+'" "'+x.sysID+'"'):x.pubID?this.stream.write(' PUBLIC "'+x.pubID+'"'):x.sysID&&this.stream.write(' SYSTEM "'+x.sysID+'"'),this.stream.write(this.spacebeforeslash+">"+this.endline(x))},g.prototype.endline=function(x){return x.isLastRootNode?"":this.newline},g}(A)}).call(mFe)),lD.exports}var AY;function xFe(){return AY||(AY=1,(function(){var t,e,n,r,s,a,o;o=gx(),s=o.assign,a=o.isFunction,t=fFe(),e=pFe(),r=x$(),n=gFe(),sv.create=function(l,c,u,d){var h,f;if(l==null)throw new Error("Root element needs a name.");return d=s({},c,u,d),h=new t(d),f=h.element(l),d.headless||(h.declaration(d),(d.pubID!=null||d.sysID!=null)&&h.doctype(d)),f},sv.begin=function(l,c,u){var d;return a(l)&&(d=[l,c],c=d[0],u=d[1],l={}),c?new e(l,c,u):new t(l)},sv.stringWriter=function(l){return new r(l)},sv.streamWriter=function(l,c){return new n(l,c)}}).call(sv)),sv}var pY;function vFe(){if(pY)return SU;pY=1;var t=zs,e=xFe();SU.writeString=n;function n(s,a){var o=t.invert(a),l={element:u,text:r};function c(f,A){return l[A.type](f,A)}function u(f,A){var v=f.element(d(A.name),A.attributes);A.children.forEach(function(p){c(v,p)})}function d(f){var A=/^\{(.*)\}(.*)$/.exec(f);if(A){var v=o[A[1]];return v+(v===""?"":":")+A[2]}else return f}function h(f){var A=e.create(d(f.name),{version:"1.0",encoding:"UTF-8",standalone:!0});return t.forEach(a,function(v,p){var m="xmlns"+(p===""?"":":"+p);A.attribute(m,v)}),f.children.forEach(function(v){c(A,v)}),A.end()}return h(s)}function r(s,a){s.text(a.value)}return SU}var mY;function v$(){if(mY)return Rm;mY=1;var t=mpe();return Rm.Element=t.Element,Rm.element=t.element,Rm.emptyElement=t.emptyElement,Rm.text=t.text,Rm.readString=Vke().readString,Rm.writeString=vFe().writeString,Rm}var gY;function yFe(){if(gY)return YE;gY=1;var t=zs,e=mx(),n=v$();YE.read=s,YE.readXmlFromZipFile=a;var r={"http://schemas.openxmlformats.org/wordprocessingml/2006/main":"w","http://schemas.openxmlformats.org/officeDocument/2006/relationships":"r","http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing":"wp","http://schemas.openxmlformats.org/drawingml/2006/main":"a","http://schemas.openxmlformats.org/drawingml/2006/picture":"pic","http://purl.oclc.org/ooxml/wordprocessingml/main":"w","http://purl.oclc.org/ooxml/officeDocument/relationships":"r","http://purl.oclc.org/ooxml/drawingml/wordprocessingDrawing":"wp","http://purl.oclc.org/ooxml/drawingml/main":"a","http://purl.oclc.org/ooxml/drawingml/picture":"pic","http://schemas.openxmlformats.org/package/2006/content-types":"content-types","http://schemas.openxmlformats.org/package/2006/relationships":"relationships","http://schemas.openxmlformats.org/markup-compatibility/2006":"mc","urn:schemas-microsoft-com:vml":"v","urn:schemas-microsoft-com:office:word":"office-word","http://schemas.microsoft.com/office/word/2010/wordml":"wordml"};function s(c){return n.readString(c,r).then(function(u){return l(u)[0]})}function a(c,u){return c.exists(u)?c.read(u,"utf-8").then(o).then(s):e.resolve(null)}function o(c){return c.replace(/^\uFEFF/g,"")}function l(c){return c.type==="element"?c.name==="mc:AlternateContent"?c.firstOrEmpty("mc:Fallback").children:(c.children=t.flatten(c.children.map(l,!0)),[c]):[c]}return YE}var e4={},Ed={},t4={},xY;function bFe(){if(xY)return t4;xY=1,Object.defineProperty(t4,"__esModule",{value:!0});var t=[{"Typeface name":"Symbol","Dingbat dec":"32","Dingbat hex":"20","Unicode dec":"32","Unicode hex":"20"},{"Typeface name":"Symbol","Dingbat dec":"33","Dingbat hex":"21","Unicode dec":"33","Unicode hex":"21"},{"Typeface name":"Symbol","Dingbat dec":"34","Dingbat hex":"22","Unicode dec":"8704","Unicode hex":"2200"},{"Typeface name":"Symbol","Dingbat dec":"35","Dingbat hex":"23","Unicode dec":"35","Unicode hex":"23"},{"Typeface name":"Symbol","Dingbat dec":"36","Dingbat hex":"24","Unicode dec":"8707","Unicode hex":"2203"},{"Typeface name":"Symbol","Dingbat dec":"37","Dingbat hex":"25","Unicode dec":"37","Unicode hex":"25"},{"Typeface name":"Symbol","Dingbat dec":"38","Dingbat hex":"26","Unicode dec":"38","Unicode hex":"26"},{"Typeface name":"Symbol","Dingbat dec":"39","Dingbat hex":"27","Unicode dec":"8717","Unicode hex":"220D"},{"Typeface name":"Symbol","Dingbat dec":"40","Dingbat hex":"28","Unicode dec":"40","Unicode hex":"28"},{"Typeface name":"Symbol","Dingbat dec":"41","Dingbat hex":"29","Unicode dec":"41","Unicode hex":"29"},{"Typeface name":"Symbol","Dingbat dec":"42","Dingbat hex":"2A","Unicode dec":"42","Unicode hex":"2A"},{"Typeface name":"Symbol","Dingbat dec":"43","Dingbat hex":"2B","Unicode dec":"43","Unicode hex":"2B"},{"Typeface name":"Symbol","Dingbat dec":"44","Dingbat hex":"2C","Unicode dec":"44","Unicode hex":"2C"},{"Typeface name":"Symbol","Dingbat dec":"45","Dingbat hex":"2D","Unicode dec":"8722","Unicode hex":"2212"},{"Typeface name":"Symbol","Dingbat dec":"46","Dingbat hex":"2E","Unicode dec":"46","Unicode hex":"2E"},{"Typeface name":"Symbol","Dingbat dec":"47","Dingbat hex":"2F","Unicode dec":"47","Unicode hex":"2F"},{"Typeface name":"Symbol","Dingbat dec":"48","Dingbat hex":"30","Unicode dec":"48","Unicode hex":"30"},{"Typeface name":"Symbol","Dingbat dec":"49","Dingbat hex":"31","Unicode dec":"49","Unicode hex":"31"},{"Typeface name":"Symbol","Dingbat dec":"50","Dingbat hex":"32","Unicode dec":"50","Unicode hex":"32"},{"Typeface name":"Symbol","Dingbat dec":"51","Dingbat hex":"33","Unicode dec":"51","Unicode hex":"33"},{"Typeface name":"Symbol","Dingbat dec":"52","Dingbat hex":"34","Unicode dec":"52","Unicode hex":"34"},{"Typeface name":"Symbol","Dingbat dec":"53","Dingbat hex":"35","Unicode dec":"53","Unicode hex":"35"},{"Typeface name":"Symbol","Dingbat dec":"54","Dingbat hex":"36","Unicode dec":"54","Unicode hex":"36"},{"Typeface name":"Symbol","Dingbat dec":"55","Dingbat hex":"37","Unicode dec":"55","Unicode hex":"37"},{"Typeface name":"Symbol","Dingbat dec":"56","Dingbat hex":"38","Unicode dec":"56","Unicode hex":"38"},{"Typeface name":"Symbol","Dingbat dec":"57","Dingbat hex":"39","Unicode dec":"57","Unicode hex":"39"},{"Typeface name":"Symbol","Dingbat dec":"58","Dingbat hex":"3A","Unicode dec":"58","Unicode hex":"3A"},{"Typeface name":"Symbol","Dingbat dec":"59","Dingbat hex":"3B","Unicode dec":"59","Unicode hex":"3B"},{"Typeface name":"Symbol","Dingbat dec":"60","Dingbat hex":"3C","Unicode dec":"60","Unicode hex":"3C"},{"Typeface name":"Symbol","Dingbat dec":"61","Dingbat hex":"3D","Unicode dec":"61","Unicode hex":"3D"},{"Typeface name":"Symbol","Dingbat dec":"62","Dingbat hex":"3E","Unicode dec":"62","Unicode hex":"3E"},{"Typeface name":"Symbol","Dingbat dec":"63","Dingbat hex":"3F","Unicode dec":"63","Unicode hex":"3F"},{"Typeface name":"Symbol","Dingbat dec":"64","Dingbat hex":"40","Unicode dec":"8773","Unicode hex":"2245"},{"Typeface name":"Symbol","Dingbat dec":"65","Dingbat hex":"41","Unicode dec":"913","Unicode hex":"391"},{"Typeface name":"Symbol","Dingbat dec":"66","Dingbat hex":"42","Unicode dec":"914","Unicode hex":"392"},{"Typeface name":"Symbol","Dingbat dec":"67","Dingbat hex":"43","Unicode dec":"935","Unicode hex":"3A7"},{"Typeface name":"Symbol","Dingbat dec":"68","Dingbat hex":"44","Unicode dec":"916","Unicode hex":"394"},{"Typeface name":"Symbol","Dingbat dec":"69","Dingbat hex":"45","Unicode dec":"917","Unicode hex":"395"},{"Typeface name":"Symbol","Dingbat dec":"70","Dingbat hex":"46","Unicode dec":"934","Unicode hex":"3A6"},{"Typeface name":"Symbol","Dingbat dec":"71","Dingbat hex":"47","Unicode dec":"915","Unicode hex":"393"},{"Typeface name":"Symbol","Dingbat dec":"72","Dingbat hex":"48","Unicode dec":"919","Unicode hex":"397"},{"Typeface name":"Symbol","Dingbat dec":"73","Dingbat hex":"49","Unicode dec":"921","Unicode hex":"399"},{"Typeface name":"Symbol","Dingbat dec":"74","Dingbat hex":"4A","Unicode dec":"977","Unicode hex":"3D1"},{"Typeface name":"Symbol","Dingbat dec":"75","Dingbat hex":"4B","Unicode dec":"922","Unicode hex":"39A"},{"Typeface name":"Symbol","Dingbat dec":"76","Dingbat hex":"4C","Unicode dec":"923","Unicode hex":"39B"},{"Typeface name":"Symbol","Dingbat dec":"77","Dingbat hex":"4D","Unicode dec":"924","Unicode hex":"39C"},{"Typeface name":"Symbol","Dingbat dec":"78","Dingbat hex":"4E","Unicode dec":"925","Unicode hex":"39D"},{"Typeface name":"Symbol","Dingbat dec":"79","Dingbat hex":"4F","Unicode dec":"927","Unicode hex":"39F"},{"Typeface name":"Symbol","Dingbat dec":"80","Dingbat hex":"50","Unicode dec":"928","Unicode hex":"3A0"},{"Typeface name":"Symbol","Dingbat dec":"81","Dingbat hex":"51","Unicode dec":"920","Unicode hex":"398"},{"Typeface name":"Symbol","Dingbat dec":"82","Dingbat hex":"52","Unicode dec":"929","Unicode hex":"3A1"},{"Typeface name":"Symbol","Dingbat dec":"83","Dingbat hex":"53","Unicode dec":"931","Unicode hex":"3A3"},{"Typeface name":"Symbol","Dingbat dec":"84","Dingbat hex":"54","Unicode dec":"932","Unicode hex":"3A4"},{"Typeface name":"Symbol","Dingbat dec":"85","Dingbat hex":"55","Unicode dec":"933","Unicode hex":"3A5"},{"Typeface name":"Symbol","Dingbat dec":"86","Dingbat hex":"56","Unicode dec":"962","Unicode hex":"3C2"},{"Typeface name":"Symbol","Dingbat dec":"87","Dingbat hex":"57","Unicode dec":"937","Unicode hex":"3A9"},{"Typeface name":"Symbol","Dingbat dec":"88","Dingbat hex":"58","Unicode dec":"926","Unicode hex":"39E"},{"Typeface name":"Symbol","Dingbat dec":"89","Dingbat hex":"59","Unicode dec":"936","Unicode hex":"3A8"},{"Typeface name":"Symbol","Dingbat dec":"90","Dingbat hex":"5A","Unicode dec":"918","Unicode hex":"396"},{"Typeface name":"Symbol","Dingbat dec":"91","Dingbat hex":"5B","Unicode dec":"91","Unicode hex":"5B"},{"Typeface name":"Symbol","Dingbat dec":"92","Dingbat hex":"5C","Unicode dec":"8756","Unicode hex":"2234"},{"Typeface name":"Symbol","Dingbat dec":"93","Dingbat hex":"5D","Unicode dec":"93","Unicode hex":"5D"},{"Typeface name":"Symbol","Dingbat dec":"94","Dingbat hex":"5E","Unicode dec":"8869","Unicode hex":"22A5"},{"Typeface name":"Symbol","Dingbat dec":"95","Dingbat hex":"5F","Unicode dec":"95","Unicode hex":"5F"},{"Typeface name":"Symbol","Dingbat dec":"96","Dingbat hex":"60","Unicode dec":"8254","Unicode hex":"203E"},{"Typeface name":"Symbol","Dingbat dec":"97","Dingbat hex":"61","Unicode dec":"945","Unicode hex":"3B1"},{"Typeface name":"Symbol","Dingbat dec":"98","Dingbat hex":"62","Unicode dec":"946","Unicode hex":"3B2"},{"Typeface name":"Symbol","Dingbat dec":"99","Dingbat hex":"63","Unicode dec":"967","Unicode hex":"3C7"},{"Typeface name":"Symbol","Dingbat dec":"100","Dingbat hex":"64","Unicode dec":"948","Unicode hex":"3B4"},{"Typeface name":"Symbol","Dingbat dec":"101","Dingbat hex":"65","Unicode dec":"949","Unicode hex":"3B5"},{"Typeface name":"Symbol","Dingbat dec":"102","Dingbat hex":"66","Unicode dec":"966","Unicode hex":"3C6"},{"Typeface name":"Symbol","Dingbat dec":"103","Dingbat hex":"67","Unicode dec":"947","Unicode hex":"3B3"},{"Typeface name":"Symbol","Dingbat dec":"104","Dingbat hex":"68","Unicode dec":"951","Unicode hex":"3B7"},{"Typeface name":"Symbol","Dingbat dec":"105","Dingbat hex":"69","Unicode dec":"953","Unicode hex":"3B9"},{"Typeface name":"Symbol","Dingbat dec":"106","Dingbat hex":"6A","Unicode dec":"981","Unicode hex":"3D5"},{"Typeface name":"Symbol","Dingbat dec":"107","Dingbat hex":"6B","Unicode dec":"954","Unicode hex":"3BA"},{"Typeface name":"Symbol","Dingbat dec":"108","Dingbat hex":"6C","Unicode dec":"955","Unicode hex":"3BB"},{"Typeface name":"Symbol","Dingbat dec":"109","Dingbat hex":"6D","Unicode dec":"956","Unicode hex":"3BC"},{"Typeface name":"Symbol","Dingbat dec":"110","Dingbat hex":"6E","Unicode dec":"957","Unicode hex":"3BD"},{"Typeface name":"Symbol","Dingbat dec":"111","Dingbat hex":"6F","Unicode dec":"959","Unicode hex":"3BF"},{"Typeface name":"Symbol","Dingbat dec":"112","Dingbat hex":"70","Unicode dec":"960","Unicode hex":"3C0"},{"Typeface name":"Symbol","Dingbat dec":"113","Dingbat hex":"71","Unicode dec":"952","Unicode hex":"3B8"},{"Typeface name":"Symbol","Dingbat dec":"114","Dingbat hex":"72","Unicode dec":"961","Unicode hex":"3C1"},{"Typeface name":"Symbol","Dingbat dec":"115","Dingbat hex":"73","Unicode dec":"963","Unicode hex":"3C3"},{"Typeface name":"Symbol","Dingbat dec":"116","Dingbat hex":"74","Unicode dec":"964","Unicode hex":"3C4"},{"Typeface name":"Symbol","Dingbat dec":"117","Dingbat hex":"75","Unicode dec":"965","Unicode hex":"3C5"},{"Typeface name":"Symbol","Dingbat dec":"118","Dingbat hex":"76","Unicode dec":"982","Unicode hex":"3D6"},{"Typeface name":"Symbol","Dingbat dec":"119","Dingbat hex":"77","Unicode dec":"969","Unicode hex":"3C9"},{"Typeface name":"Symbol","Dingbat dec":"120","Dingbat hex":"78","Unicode dec":"958","Unicode hex":"3BE"},{"Typeface name":"Symbol","Dingbat dec":"121","Dingbat hex":"79","Unicode dec":"968","Unicode hex":"3C8"},{"Typeface name":"Symbol","Dingbat dec":"122","Dingbat hex":"7A","Unicode dec":"950","Unicode hex":"3B6"},{"Typeface name":"Symbol","Dingbat dec":"123","Dingbat hex":"7B","Unicode dec":"123","Unicode hex":"7B"},{"Typeface name":"Symbol","Dingbat dec":"124","Dingbat hex":"7C","Unicode dec":"124","Unicode hex":"7C"},{"Typeface name":"Symbol","Dingbat dec":"125","Dingbat hex":"7D","Unicode dec":"125","Unicode hex":"7D"},{"Typeface name":"Symbol","Dingbat dec":"126","Dingbat hex":"7E","Unicode dec":"126","Unicode hex":"7E"},{"Typeface name":"Symbol","Dingbat dec":"160","Dingbat hex":"A0","Unicode dec":"8364","Unicode hex":"20AC"},{"Typeface name":"Symbol","Dingbat dec":"161","Dingbat hex":"A1","Unicode dec":"978","Unicode hex":"3D2"},{"Typeface name":"Symbol","Dingbat dec":"162","Dingbat hex":"A2","Unicode dec":"8242","Unicode hex":"2032"},{"Typeface name":"Symbol","Dingbat dec":"163","Dingbat hex":"A3","Unicode dec":"8804","Unicode hex":"2264"},{"Typeface name":"Symbol","Dingbat dec":"164","Dingbat hex":"A4","Unicode dec":"8260","Unicode hex":"2044"},{"Typeface name":"Symbol","Dingbat dec":"165","Dingbat hex":"A5","Unicode dec":"8734","Unicode hex":"221E"},{"Typeface name":"Symbol","Dingbat dec":"166","Dingbat hex":"A6","Unicode dec":"402","Unicode hex":"192"},{"Typeface name":"Symbol","Dingbat dec":"167","Dingbat hex":"A7","Unicode dec":"9827","Unicode hex":"2663"},{"Typeface name":"Symbol","Dingbat dec":"168","Dingbat hex":"A8","Unicode dec":"9830","Unicode hex":"2666"},{"Typeface name":"Symbol","Dingbat dec":"169","Dingbat hex":"A9","Unicode dec":"9829","Unicode hex":"2665"},{"Typeface name":"Symbol","Dingbat dec":"170","Dingbat hex":"AA","Unicode dec":"9824","Unicode hex":"2660"},{"Typeface name":"Symbol","Dingbat dec":"171","Dingbat hex":"AB","Unicode dec":"8596","Unicode hex":"2194"},{"Typeface name":"Symbol","Dingbat dec":"172","Dingbat hex":"AC","Unicode dec":"8592","Unicode hex":"2190"},{"Typeface name":"Symbol","Dingbat dec":"173","Dingbat hex":"AD","Unicode dec":"8593","Unicode hex":"2191"},{"Typeface name":"Symbol","Dingbat dec":"174","Dingbat hex":"AE","Unicode dec":"8594","Unicode hex":"2192"},{"Typeface name":"Symbol","Dingbat dec":"175","Dingbat hex":"AF","Unicode dec":"8595","Unicode hex":"2193"},{"Typeface name":"Symbol","Dingbat dec":"176","Dingbat hex":"B0","Unicode dec":"176","Unicode hex":"B0"},{"Typeface name":"Symbol","Dingbat dec":"177","Dingbat hex":"B1","Unicode dec":"177","Unicode hex":"B1"},{"Typeface name":"Symbol","Dingbat dec":"178","Dingbat hex":"B2","Unicode dec":"8243","Unicode hex":"2033"},{"Typeface name":"Symbol","Dingbat dec":"179","Dingbat hex":"B3","Unicode dec":"8805","Unicode hex":"2265"},{"Typeface name":"Symbol","Dingbat dec":"180","Dingbat hex":"B4","Unicode dec":"215","Unicode hex":"D7"},{"Typeface name":"Symbol","Dingbat dec":"181","Dingbat hex":"B5","Unicode dec":"8733","Unicode hex":"221D"},{"Typeface name":"Symbol","Dingbat dec":"182","Dingbat hex":"B6","Unicode dec":"8706","Unicode hex":"2202"},{"Typeface name":"Symbol","Dingbat dec":"183","Dingbat hex":"B7","Unicode dec":"8226","Unicode hex":"2022"},{"Typeface name":"Symbol","Dingbat dec":"184","Dingbat hex":"B8","Unicode dec":"247","Unicode hex":"F7"},{"Typeface name":"Symbol","Dingbat dec":"185","Dingbat hex":"B9","Unicode dec":"8800","Unicode hex":"2260"},{"Typeface name":"Symbol","Dingbat dec":"186","Dingbat hex":"BA","Unicode dec":"8801","Unicode hex":"2261"},{"Typeface name":"Symbol","Dingbat dec":"187","Dingbat hex":"BB","Unicode dec":"8776","Unicode hex":"2248"},{"Typeface name":"Symbol","Dingbat dec":"188","Dingbat hex":"BC","Unicode dec":"8230","Unicode hex":"2026"},{"Typeface name":"Symbol","Dingbat dec":"189","Dingbat hex":"BD","Unicode dec":"9168","Unicode hex":"23D0"},{"Typeface name":"Symbol","Dingbat dec":"190","Dingbat hex":"BE","Unicode dec":"9135","Unicode hex":"23AF"},{"Typeface name":"Symbol","Dingbat dec":"191","Dingbat hex":"BF","Unicode dec":"8629","Unicode hex":"21B5"},{"Typeface name":"Symbol","Dingbat dec":"192","Dingbat hex":"C0","Unicode dec":"8501","Unicode hex":"2135"},{"Typeface name":"Symbol","Dingbat dec":"193","Dingbat hex":"C1","Unicode dec":"8465","Unicode hex":"2111"},{"Typeface name":"Symbol","Dingbat dec":"194","Dingbat hex":"C2","Unicode dec":"8476","Unicode hex":"211C"},{"Typeface name":"Symbol","Dingbat dec":"195","Dingbat hex":"C3","Unicode dec":"8472","Unicode hex":"2118"},{"Typeface name":"Symbol","Dingbat dec":"196","Dingbat hex":"C4","Unicode dec":"8855","Unicode hex":"2297"},{"Typeface name":"Symbol","Dingbat dec":"197","Dingbat hex":"C5","Unicode dec":"8853","Unicode hex":"2295"},{"Typeface name":"Symbol","Dingbat dec":"198","Dingbat hex":"C6","Unicode dec":"8709","Unicode hex":"2205"},{"Typeface name":"Symbol","Dingbat dec":"199","Dingbat hex":"C7","Unicode dec":"8745","Unicode hex":"2229"},{"Typeface name":"Symbol","Dingbat dec":"200","Dingbat hex":"C8","Unicode dec":"8746","Unicode hex":"222A"},{"Typeface name":"Symbol","Dingbat dec":"201","Dingbat hex":"C9","Unicode dec":"8835","Unicode hex":"2283"},{"Typeface name":"Symbol","Dingbat dec":"202","Dingbat hex":"CA","Unicode dec":"8839","Unicode hex":"2287"},{"Typeface name":"Symbol","Dingbat dec":"203","Dingbat hex":"CB","Unicode dec":"8836","Unicode hex":"2284"},{"Typeface name":"Symbol","Dingbat dec":"204","Dingbat hex":"CC","Unicode dec":"8834","Unicode hex":"2282"},{"Typeface name":"Symbol","Dingbat dec":"205","Dingbat hex":"CD","Unicode dec":"8838","Unicode hex":"2286"},{"Typeface name":"Symbol","Dingbat dec":"206","Dingbat hex":"CE","Unicode dec":"8712","Unicode hex":"2208"},{"Typeface name":"Symbol","Dingbat dec":"207","Dingbat hex":"CF","Unicode dec":"8713","Unicode hex":"2209"},{"Typeface name":"Symbol","Dingbat dec":"208","Dingbat hex":"D0","Unicode dec":"8736","Unicode hex":"2220"},{"Typeface name":"Symbol","Dingbat dec":"209","Dingbat hex":"D1","Unicode dec":"8711","Unicode hex":"2207"},{"Typeface name":"Symbol","Dingbat dec":"210","Dingbat hex":"D2","Unicode dec":"174","Unicode hex":"AE"},{"Typeface name":"Symbol","Dingbat dec":"211","Dingbat hex":"D3","Unicode dec":"169","Unicode hex":"A9"},{"Typeface name":"Symbol","Dingbat dec":"212","Dingbat hex":"D4","Unicode dec":"8482","Unicode hex":"2122"},{"Typeface name":"Symbol","Dingbat dec":"213","Dingbat hex":"D5","Unicode dec":"8719","Unicode hex":"220F"},{"Typeface name":"Symbol","Dingbat dec":"214","Dingbat hex":"D6","Unicode dec":"8730","Unicode hex":"221A"},{"Typeface name":"Symbol","Dingbat dec":"215","Dingbat hex":"D7","Unicode dec":"8901","Unicode hex":"22C5"},{"Typeface name":"Symbol","Dingbat dec":"216","Dingbat hex":"D8","Unicode dec":"172","Unicode hex":"AC"},{"Typeface name":"Symbol","Dingbat dec":"217","Dingbat hex":"D9","Unicode dec":"8743","Unicode hex":"2227"},{"Typeface name":"Symbol","Dingbat dec":"218","Dingbat hex":"DA","Unicode dec":"8744","Unicode hex":"2228"},{"Typeface name":"Symbol","Dingbat dec":"219","Dingbat hex":"DB","Unicode dec":"8660","Unicode hex":"21D4"},{"Typeface name":"Symbol","Dingbat dec":"220","Dingbat hex":"DC","Unicode dec":"8656","Unicode hex":"21D0"},{"Typeface name":"Symbol","Dingbat dec":"221","Dingbat hex":"DD","Unicode dec":"8657","Unicode hex":"21D1"},{"Typeface name":"Symbol","Dingbat dec":"222","Dingbat hex":"DE","Unicode dec":"8658","Unicode hex":"21D2"},{"Typeface name":"Symbol","Dingbat dec":"223","Dingbat hex":"DF","Unicode dec":"8659","Unicode hex":"21D3"},{"Typeface name":"Symbol","Dingbat dec":"224","Dingbat hex":"E0","Unicode dec":"9674","Unicode hex":"25CA"},{"Typeface name":"Symbol","Dingbat dec":"225","Dingbat hex":"E1","Unicode dec":"12296","Unicode hex":"3008"},{"Typeface name":"Symbol","Dingbat dec":"226","Dingbat hex":"E2","Unicode dec":"174","Unicode hex":"AE"},{"Typeface name":"Symbol","Dingbat dec":"227","Dingbat hex":"E3","Unicode dec":"169","Unicode hex":"A9"},{"Typeface name":"Symbol","Dingbat dec":"228","Dingbat hex":"E4","Unicode dec":"8482","Unicode hex":"2122"},{"Typeface name":"Symbol","Dingbat dec":"229","Dingbat hex":"E5","Unicode dec":"8721","Unicode hex":"2211"},{"Typeface name":"Symbol","Dingbat dec":"230","Dingbat hex":"E6","Unicode dec":"9115","Unicode hex":"239B"},{"Typeface name":"Symbol","Dingbat dec":"231","Dingbat hex":"E7","Unicode dec":"9116","Unicode hex":"239C"},{"Typeface name":"Symbol","Dingbat dec":"232","Dingbat hex":"E8","Unicode dec":"9117","Unicode hex":"239D"},{"Typeface name":"Symbol","Dingbat dec":"233","Dingbat hex":"E9","Unicode dec":"9121","Unicode hex":"23A1"},{"Typeface name":"Symbol","Dingbat dec":"234","Dingbat hex":"EA","Unicode dec":"9122","Unicode hex":"23A2"},{"Typeface name":"Symbol","Dingbat dec":"235","Dingbat hex":"EB","Unicode dec":"9123","Unicode hex":"23A3"},{"Typeface name":"Symbol","Dingbat dec":"236","Dingbat hex":"EC","Unicode dec":"9127","Unicode hex":"23A7"},{"Typeface name":"Symbol","Dingbat dec":"237","Dingbat hex":"ED","Unicode dec":"9128","Unicode hex":"23A8"},{"Typeface name":"Symbol","Dingbat dec":"238","Dingbat hex":"EE","Unicode dec":"9129","Unicode hex":"23A9"},{"Typeface name":"Symbol","Dingbat dec":"239","Dingbat hex":"EF","Unicode dec":"9130","Unicode hex":"23AA"},{"Typeface name":"Symbol","Dingbat dec":"240","Dingbat hex":"F0","Unicode dec":"63743","Unicode hex":"F8FF"},{"Typeface name":"Symbol","Dingbat dec":"241","Dingbat hex":"F1","Unicode dec":"12297","Unicode hex":"3009"},{"Typeface name":"Symbol","Dingbat dec":"242","Dingbat hex":"F2","Unicode dec":"8747","Unicode hex":"222B"},{"Typeface name":"Symbol","Dingbat dec":"243","Dingbat hex":"F3","Unicode dec":"8992","Unicode hex":"2320"},{"Typeface name":"Symbol","Dingbat dec":"244","Dingbat hex":"F4","Unicode dec":"9134","Unicode hex":"23AE"},{"Typeface name":"Symbol","Dingbat dec":"245","Dingbat hex":"F5","Unicode dec":"8993","Unicode hex":"2321"},{"Typeface name":"Symbol","Dingbat dec":"246","Dingbat hex":"F6","Unicode dec":"9118","Unicode hex":"239E"},{"Typeface name":"Symbol","Dingbat dec":"247","Dingbat hex":"F7","Unicode dec":"9119","Unicode hex":"239F"},{"Typeface name":"Symbol","Dingbat dec":"248","Dingbat hex":"F8","Unicode dec":"9120","Unicode hex":"23A0"},{"Typeface name":"Symbol","Dingbat dec":"249","Dingbat hex":"F9","Unicode dec":"9124","Unicode hex":"23A4"},{"Typeface name":"Symbol","Dingbat dec":"250","Dingbat hex":"FA","Unicode dec":"9125","Unicode hex":"23A5"},{"Typeface name":"Symbol","Dingbat dec":"251","Dingbat hex":"FB","Unicode dec":"9126","Unicode hex":"23A6"},{"Typeface name":"Symbol","Dingbat dec":"252","Dingbat hex":"FC","Unicode dec":"9131","Unicode hex":"23AB"},{"Typeface name":"Symbol","Dingbat dec":"253","Dingbat hex":"FD","Unicode dec":"9132","Unicode hex":"23AC"},{"Typeface name":"Symbol","Dingbat dec":"254","Dingbat hex":"FE","Unicode dec":"9133","Unicode hex":"23AD"},{"Typeface name":"Webdings","Dingbat dec":"32","Dingbat hex":"20","Unicode dec":"32","Unicode hex":"20"},{"Typeface name":"Webdings","Dingbat dec":"33","Dingbat hex":"21","Unicode dec":"128375","Unicode hex":"1F577"},{"Typeface name":"Webdings","Dingbat dec":"34","Dingbat hex":"22","Unicode dec":"128376","Unicode hex":"1F578"},{"Typeface name":"Webdings","Dingbat dec":"35","Dingbat hex":"23","Unicode dec":"128370","Unicode hex":"1F572"},{"Typeface name":"Webdings","Dingbat dec":"36","Dingbat hex":"24","Unicode dec":"128374","Unicode hex":"1F576"},{"Typeface name":"Webdings","Dingbat dec":"37","Dingbat hex":"25","Unicode dec":"127942","Unicode hex":"1F3C6"},{"Typeface name":"Webdings","Dingbat dec":"38","Dingbat hex":"26","Unicode dec":"127894","Unicode hex":"1F396"},{"Typeface name":"Webdings","Dingbat dec":"39","Dingbat hex":"27","Unicode dec":"128391","Unicode hex":"1F587"},{"Typeface name":"Webdings","Dingbat dec":"40","Dingbat hex":"28","Unicode dec":"128488","Unicode hex":"1F5E8"},{"Typeface name":"Webdings","Dingbat dec":"41","Dingbat hex":"29","Unicode dec":"128489","Unicode hex":"1F5E9"},{"Typeface name":"Webdings","Dingbat dec":"42","Dingbat hex":"2A","Unicode dec":"128496","Unicode hex":"1F5F0"},{"Typeface name":"Webdings","Dingbat dec":"43","Dingbat hex":"2B","Unicode dec":"128497","Unicode hex":"1F5F1"},{"Typeface name":"Webdings","Dingbat dec":"44","Dingbat hex":"2C","Unicode dec":"127798","Unicode hex":"1F336"},{"Typeface name":"Webdings","Dingbat dec":"45","Dingbat hex":"2D","Unicode dec":"127895","Unicode hex":"1F397"},{"Typeface name":"Webdings","Dingbat dec":"46","Dingbat hex":"2E","Unicode dec":"128638","Unicode hex":"1F67E"},{"Typeface name":"Webdings","Dingbat dec":"47","Dingbat hex":"2F","Unicode dec":"128636","Unicode hex":"1F67C"},{"Typeface name":"Webdings","Dingbat dec":"48","Dingbat hex":"30","Unicode dec":"128469","Unicode hex":"1F5D5"},{"Typeface name":"Webdings","Dingbat dec":"49","Dingbat hex":"31","Unicode dec":"128470","Unicode hex":"1F5D6"},{"Typeface name":"Webdings","Dingbat dec":"50","Dingbat hex":"32","Unicode dec":"128471","Unicode hex":"1F5D7"},{"Typeface name":"Webdings","Dingbat dec":"51","Dingbat hex":"33","Unicode dec":"9204","Unicode hex":"23F4"},{"Typeface name":"Webdings","Dingbat dec":"52","Dingbat hex":"34","Unicode dec":"9205","Unicode hex":"23F5"},{"Typeface name":"Webdings","Dingbat dec":"53","Dingbat hex":"35","Unicode dec":"9206","Unicode hex":"23F6"},{"Typeface name":"Webdings","Dingbat dec":"54","Dingbat hex":"36","Unicode dec":"9207","Unicode hex":"23F7"},{"Typeface name":"Webdings","Dingbat dec":"55","Dingbat hex":"37","Unicode dec":"9194","Unicode hex":"23EA"},{"Typeface name":"Webdings","Dingbat dec":"56","Dingbat hex":"38","Unicode dec":"9193","Unicode hex":"23E9"},{"Typeface name":"Webdings","Dingbat dec":"57","Dingbat hex":"39","Unicode dec":"9198","Unicode hex":"23EE"},{"Typeface name":"Webdings","Dingbat dec":"58","Dingbat hex":"3A","Unicode dec":"9197","Unicode hex":"23ED"},{"Typeface name":"Webdings","Dingbat dec":"59","Dingbat hex":"3B","Unicode dec":"9208","Unicode hex":"23F8"},{"Typeface name":"Webdings","Dingbat dec":"60","Dingbat hex":"3C","Unicode dec":"9209","Unicode hex":"23F9"},{"Typeface name":"Webdings","Dingbat dec":"61","Dingbat hex":"3D","Unicode dec":"9210","Unicode hex":"23FA"},{"Typeface name":"Webdings","Dingbat dec":"62","Dingbat hex":"3E","Unicode dec":"128474","Unicode hex":"1F5DA"},{"Typeface name":"Webdings","Dingbat dec":"63","Dingbat hex":"3F","Unicode dec":"128499","Unicode hex":"1F5F3"},{"Typeface name":"Webdings","Dingbat dec":"64","Dingbat hex":"40","Unicode dec":"128736","Unicode hex":"1F6E0"},{"Typeface name":"Webdings","Dingbat dec":"65","Dingbat hex":"41","Unicode dec":"127959","Unicode hex":"1F3D7"},{"Typeface name":"Webdings","Dingbat dec":"66","Dingbat hex":"42","Unicode dec":"127960","Unicode hex":"1F3D8"},{"Typeface name":"Webdings","Dingbat dec":"67","Dingbat hex":"43","Unicode dec":"127961","Unicode hex":"1F3D9"},{"Typeface name":"Webdings","Dingbat dec":"68","Dingbat hex":"44","Unicode dec":"127962","Unicode hex":"1F3DA"},{"Typeface name":"Webdings","Dingbat dec":"69","Dingbat hex":"45","Unicode dec":"127964","Unicode hex":"1F3DC"},{"Typeface name":"Webdings","Dingbat dec":"70","Dingbat hex":"46","Unicode dec":"127981","Unicode hex":"1F3ED"},{"Typeface name":"Webdings","Dingbat dec":"71","Dingbat hex":"47","Unicode dec":"127963","Unicode hex":"1F3DB"},{"Typeface name":"Webdings","Dingbat dec":"72","Dingbat hex":"48","Unicode dec":"127968","Unicode hex":"1F3E0"},{"Typeface name":"Webdings","Dingbat dec":"73","Dingbat hex":"49","Unicode dec":"127958","Unicode hex":"1F3D6"},{"Typeface name":"Webdings","Dingbat dec":"74","Dingbat hex":"4A","Unicode dec":"127965","Unicode hex":"1F3DD"},{"Typeface name":"Webdings","Dingbat dec":"75","Dingbat hex":"4B","Unicode dec":"128739","Unicode hex":"1F6E3"},{"Typeface name":"Webdings","Dingbat dec":"76","Dingbat hex":"4C","Unicode dec":"128269","Unicode hex":"1F50D"},{"Typeface name":"Webdings","Dingbat dec":"77","Dingbat hex":"4D","Unicode dec":"127956","Unicode hex":"1F3D4"},{"Typeface name":"Webdings","Dingbat dec":"78","Dingbat hex":"4E","Unicode dec":"128065","Unicode hex":"1F441"},{"Typeface name":"Webdings","Dingbat dec":"79","Dingbat hex":"4F","Unicode dec":"128066","Unicode hex":"1F442"},{"Typeface name":"Webdings","Dingbat dec":"80","Dingbat hex":"50","Unicode dec":"127966","Unicode hex":"1F3DE"},{"Typeface name":"Webdings","Dingbat dec":"81","Dingbat hex":"51","Unicode dec":"127957","Unicode hex":"1F3D5"},{"Typeface name":"Webdings","Dingbat dec":"82","Dingbat hex":"52","Unicode dec":"128740","Unicode hex":"1F6E4"},{"Typeface name":"Webdings","Dingbat dec":"83","Dingbat hex":"53","Unicode dec":"127967","Unicode hex":"1F3DF"},{"Typeface name":"Webdings","Dingbat dec":"84","Dingbat hex":"54","Unicode dec":"128755","Unicode hex":"1F6F3"},{"Typeface name":"Webdings","Dingbat dec":"85","Dingbat hex":"55","Unicode dec":"128364","Unicode hex":"1F56C"},{"Typeface name":"Webdings","Dingbat dec":"86","Dingbat hex":"56","Unicode dec":"128363","Unicode hex":"1F56B"},{"Typeface name":"Webdings","Dingbat dec":"87","Dingbat hex":"57","Unicode dec":"128360","Unicode hex":"1F568"},{"Typeface name":"Webdings","Dingbat dec":"88","Dingbat hex":"58","Unicode dec":"128264","Unicode hex":"1F508"},{"Typeface name":"Webdings","Dingbat dec":"89","Dingbat hex":"59","Unicode dec":"127892","Unicode hex":"1F394"},{"Typeface name":"Webdings","Dingbat dec":"90","Dingbat hex":"5A","Unicode dec":"127893","Unicode hex":"1F395"},{"Typeface name":"Webdings","Dingbat dec":"91","Dingbat hex":"5B","Unicode dec":"128492","Unicode hex":"1F5EC"},{"Typeface name":"Webdings","Dingbat dec":"92","Dingbat hex":"5C","Unicode dec":"128637","Unicode hex":"1F67D"},{"Typeface name":"Webdings","Dingbat dec":"93","Dingbat hex":"5D","Unicode dec":"128493","Unicode hex":"1F5ED"},{"Typeface name":"Webdings","Dingbat dec":"94","Dingbat hex":"5E","Unicode dec":"128490","Unicode hex":"1F5EA"},{"Typeface name":"Webdings","Dingbat dec":"95","Dingbat hex":"5F","Unicode dec":"128491","Unicode hex":"1F5EB"},{"Typeface name":"Webdings","Dingbat dec":"96","Dingbat hex":"60","Unicode dec":"11156","Unicode hex":"2B94"},{"Typeface name":"Webdings","Dingbat dec":"97","Dingbat hex":"61","Unicode dec":"10004","Unicode hex":"2714"},{"Typeface name":"Webdings","Dingbat dec":"98","Dingbat hex":"62","Unicode dec":"128690","Unicode hex":"1F6B2"},{"Typeface name":"Webdings","Dingbat dec":"99","Dingbat hex":"63","Unicode dec":"11036","Unicode hex":"2B1C"},{"Typeface name":"Webdings","Dingbat dec":"100","Dingbat hex":"64","Unicode dec":"128737","Unicode hex":"1F6E1"},{"Typeface name":"Webdings","Dingbat dec":"101","Dingbat hex":"65","Unicode dec":"128230","Unicode hex":"1F4E6"},{"Typeface name":"Webdings","Dingbat dec":"102","Dingbat hex":"66","Unicode dec":"128753","Unicode hex":"1F6F1"},{"Typeface name":"Webdings","Dingbat dec":"103","Dingbat hex":"67","Unicode dec":"11035","Unicode hex":"2B1B"},{"Typeface name":"Webdings","Dingbat dec":"104","Dingbat hex":"68","Unicode dec":"128657","Unicode hex":"1F691"},{"Typeface name":"Webdings","Dingbat dec":"105","Dingbat hex":"69","Unicode dec":"128712","Unicode hex":"1F6C8"},{"Typeface name":"Webdings","Dingbat dec":"106","Dingbat hex":"6A","Unicode dec":"128745","Unicode hex":"1F6E9"},{"Typeface name":"Webdings","Dingbat dec":"107","Dingbat hex":"6B","Unicode dec":"128752","Unicode hex":"1F6F0"},{"Typeface name":"Webdings","Dingbat dec":"108","Dingbat hex":"6C","Unicode dec":"128968","Unicode hex":"1F7C8"},{"Typeface name":"Webdings","Dingbat dec":"109","Dingbat hex":"6D","Unicode dec":"128372","Unicode hex":"1F574"},{"Typeface name":"Webdings","Dingbat dec":"110","Dingbat hex":"6E","Unicode dec":"11044","Unicode hex":"2B24"},{"Typeface name":"Webdings","Dingbat dec":"111","Dingbat hex":"6F","Unicode dec":"128741","Unicode hex":"1F6E5"},{"Typeface name":"Webdings","Dingbat dec":"112","Dingbat hex":"70","Unicode dec":"128660","Unicode hex":"1F694"},{"Typeface name":"Webdings","Dingbat dec":"113","Dingbat hex":"71","Unicode dec":"128472","Unicode hex":"1F5D8"},{"Typeface name":"Webdings","Dingbat dec":"114","Dingbat hex":"72","Unicode dec":"128473","Unicode hex":"1F5D9"},{"Typeface name":"Webdings","Dingbat dec":"115","Dingbat hex":"73","Unicode dec":"10067","Unicode hex":"2753"},{"Typeface name":"Webdings","Dingbat dec":"116","Dingbat hex":"74","Unicode dec":"128754","Unicode hex":"1F6F2"},{"Typeface name":"Webdings","Dingbat dec":"117","Dingbat hex":"75","Unicode dec":"128647","Unicode hex":"1F687"},{"Typeface name":"Webdings","Dingbat dec":"118","Dingbat hex":"76","Unicode dec":"128653","Unicode hex":"1F68D"},{"Typeface name":"Webdings","Dingbat dec":"119","Dingbat hex":"77","Unicode dec":"9971","Unicode hex":"26F3"},{"Typeface name":"Webdings","Dingbat dec":"120","Dingbat hex":"78","Unicode dec":"10680","Unicode hex":"29B8"},{"Typeface name":"Webdings","Dingbat dec":"121","Dingbat hex":"79","Unicode dec":"8854","Unicode hex":"2296"},{"Typeface name":"Webdings","Dingbat dec":"122","Dingbat hex":"7A","Unicode dec":"128685","Unicode hex":"1F6AD"},{"Typeface name":"Webdings","Dingbat dec":"123","Dingbat hex":"7B","Unicode dec":"128494","Unicode hex":"1F5EE"},{"Typeface name":"Webdings","Dingbat dec":"124","Dingbat hex":"7C","Unicode dec":"9168","Unicode hex":"23D0"},{"Typeface name":"Webdings","Dingbat dec":"125","Dingbat hex":"7D","Unicode dec":"128495","Unicode hex":"1F5EF"},{"Typeface name":"Webdings","Dingbat dec":"126","Dingbat hex":"7E","Unicode dec":"128498","Unicode hex":"1F5F2"},{"Typeface name":"Webdings","Dingbat dec":"128","Dingbat hex":"80","Unicode dec":"128697","Unicode hex":"1F6B9"},{"Typeface name":"Webdings","Dingbat dec":"129","Dingbat hex":"81","Unicode dec":"128698","Unicode hex":"1F6BA"},{"Typeface name":"Webdings","Dingbat dec":"130","Dingbat hex":"82","Unicode dec":"128713","Unicode hex":"1F6C9"},{"Typeface name":"Webdings","Dingbat dec":"131","Dingbat hex":"83","Unicode dec":"128714","Unicode hex":"1F6CA"},{"Typeface name":"Webdings","Dingbat dec":"132","Dingbat hex":"84","Unicode dec":"128700","Unicode hex":"1F6BC"},{"Typeface name":"Webdings","Dingbat dec":"133","Dingbat hex":"85","Unicode dec":"128125","Unicode hex":"1F47D"},{"Typeface name":"Webdings","Dingbat dec":"134","Dingbat hex":"86","Unicode dec":"127947","Unicode hex":"1F3CB"},{"Typeface name":"Webdings","Dingbat dec":"135","Dingbat hex":"87","Unicode dec":"9975","Unicode hex":"26F7"},{"Typeface name":"Webdings","Dingbat dec":"136","Dingbat hex":"88","Unicode dec":"127938","Unicode hex":"1F3C2"},{"Typeface name":"Webdings","Dingbat dec":"137","Dingbat hex":"89","Unicode dec":"127948","Unicode hex":"1F3CC"},{"Typeface name":"Webdings","Dingbat dec":"138","Dingbat hex":"8A","Unicode dec":"127946","Unicode hex":"1F3CA"},{"Typeface name":"Webdings","Dingbat dec":"139","Dingbat hex":"8B","Unicode dec":"127940","Unicode hex":"1F3C4"},{"Typeface name":"Webdings","Dingbat dec":"140","Dingbat hex":"8C","Unicode dec":"127949","Unicode hex":"1F3CD"},{"Typeface name":"Webdings","Dingbat dec":"141","Dingbat hex":"8D","Unicode dec":"127950","Unicode hex":"1F3CE"},{"Typeface name":"Webdings","Dingbat dec":"142","Dingbat hex":"8E","Unicode dec":"128664","Unicode hex":"1F698"},{"Typeface name":"Webdings","Dingbat dec":"143","Dingbat hex":"8F","Unicode dec":"128480","Unicode hex":"1F5E0"},{"Typeface name":"Webdings","Dingbat dec":"144","Dingbat hex":"90","Unicode dec":"128738","Unicode hex":"1F6E2"},{"Typeface name":"Webdings","Dingbat dec":"145","Dingbat hex":"91","Unicode dec":"128176","Unicode hex":"1F4B0"},{"Typeface name":"Webdings","Dingbat dec":"146","Dingbat hex":"92","Unicode dec":"127991","Unicode hex":"1F3F7"},{"Typeface name":"Webdings","Dingbat dec":"147","Dingbat hex":"93","Unicode dec":"128179","Unicode hex":"1F4B3"},{"Typeface name":"Webdings","Dingbat dec":"148","Dingbat hex":"94","Unicode dec":"128106","Unicode hex":"1F46A"},{"Typeface name":"Webdings","Dingbat dec":"149","Dingbat hex":"95","Unicode dec":"128481","Unicode hex":"1F5E1"},{"Typeface name":"Webdings","Dingbat dec":"150","Dingbat hex":"96","Unicode dec":"128482","Unicode hex":"1F5E2"},{"Typeface name":"Webdings","Dingbat dec":"151","Dingbat hex":"97","Unicode dec":"128483","Unicode hex":"1F5E3"},{"Typeface name":"Webdings","Dingbat dec":"152","Dingbat hex":"98","Unicode dec":"10031","Unicode hex":"272F"},{"Typeface name":"Webdings","Dingbat dec":"153","Dingbat hex":"99","Unicode dec":"128388","Unicode hex":"1F584"},{"Typeface name":"Webdings","Dingbat dec":"154","Dingbat hex":"9A","Unicode dec":"128389","Unicode hex":"1F585"},{"Typeface name":"Webdings","Dingbat dec":"155","Dingbat hex":"9B","Unicode dec":"128387","Unicode hex":"1F583"},{"Typeface name":"Webdings","Dingbat dec":"156","Dingbat hex":"9C","Unicode dec":"128390","Unicode hex":"1F586"},{"Typeface name":"Webdings","Dingbat dec":"157","Dingbat hex":"9D","Unicode dec":"128441","Unicode hex":"1F5B9"},{"Typeface name":"Webdings","Dingbat dec":"158","Dingbat hex":"9E","Unicode dec":"128442","Unicode hex":"1F5BA"},{"Typeface name":"Webdings","Dingbat dec":"159","Dingbat hex":"9F","Unicode dec":"128443","Unicode hex":"1F5BB"},{"Typeface name":"Webdings","Dingbat dec":"160","Dingbat hex":"A0","Unicode dec":"128373","Unicode hex":"1F575"},{"Typeface name":"Webdings","Dingbat dec":"161","Dingbat hex":"A1","Unicode dec":"128368","Unicode hex":"1F570"},{"Typeface name":"Webdings","Dingbat dec":"162","Dingbat hex":"A2","Unicode dec":"128445","Unicode hex":"1F5BD"},{"Typeface name":"Webdings","Dingbat dec":"163","Dingbat hex":"A3","Unicode dec":"128446","Unicode hex":"1F5BE"},{"Typeface name":"Webdings","Dingbat dec":"164","Dingbat hex":"A4","Unicode dec":"128203","Unicode hex":"1F4CB"},{"Typeface name":"Webdings","Dingbat dec":"165","Dingbat hex":"A5","Unicode dec":"128466","Unicode hex":"1F5D2"},{"Typeface name":"Webdings","Dingbat dec":"166","Dingbat hex":"A6","Unicode dec":"128467","Unicode hex":"1F5D3"},{"Typeface name":"Webdings","Dingbat dec":"167","Dingbat hex":"A7","Unicode dec":"128366","Unicode hex":"1F56E"},{"Typeface name":"Webdings","Dingbat dec":"168","Dingbat hex":"A8","Unicode dec":"128218","Unicode hex":"1F4DA"},{"Typeface name":"Webdings","Dingbat dec":"169","Dingbat hex":"A9","Unicode dec":"128478","Unicode hex":"1F5DE"},{"Typeface name":"Webdings","Dingbat dec":"170","Dingbat hex":"AA","Unicode dec":"128479","Unicode hex":"1F5DF"},{"Typeface name":"Webdings","Dingbat dec":"171","Dingbat hex":"AB","Unicode dec":"128451","Unicode hex":"1F5C3"},{"Typeface name":"Webdings","Dingbat dec":"172","Dingbat hex":"AC","Unicode dec":"128450","Unicode hex":"1F5C2"},{"Typeface name":"Webdings","Dingbat dec":"173","Dingbat hex":"AD","Unicode dec":"128444","Unicode hex":"1F5BC"},{"Typeface name":"Webdings","Dingbat dec":"174","Dingbat hex":"AE","Unicode dec":"127917","Unicode hex":"1F3AD"},{"Typeface name":"Webdings","Dingbat dec":"175","Dingbat hex":"AF","Unicode dec":"127900","Unicode hex":"1F39C"},{"Typeface name":"Webdings","Dingbat dec":"176","Dingbat hex":"B0","Unicode dec":"127896","Unicode hex":"1F398"},{"Typeface name":"Webdings","Dingbat dec":"177","Dingbat hex":"B1","Unicode dec":"127897","Unicode hex":"1F399"},{"Typeface name":"Webdings","Dingbat dec":"178","Dingbat hex":"B2","Unicode dec":"127911","Unicode hex":"1F3A7"},{"Typeface name":"Webdings","Dingbat dec":"179","Dingbat hex":"B3","Unicode dec":"128191","Unicode hex":"1F4BF"},{"Typeface name":"Webdings","Dingbat dec":"180","Dingbat hex":"B4","Unicode dec":"127902","Unicode hex":"1F39E"},{"Typeface name":"Webdings","Dingbat dec":"181","Dingbat hex":"B5","Unicode dec":"128247","Unicode hex":"1F4F7"},{"Typeface name":"Webdings","Dingbat dec":"182","Dingbat hex":"B6","Unicode dec":"127903","Unicode hex":"1F39F"},{"Typeface name":"Webdings","Dingbat dec":"183","Dingbat hex":"B7","Unicode dec":"127916","Unicode hex":"1F3AC"},{"Typeface name":"Webdings","Dingbat dec":"184","Dingbat hex":"B8","Unicode dec":"128253","Unicode hex":"1F4FD"},{"Typeface name":"Webdings","Dingbat dec":"185","Dingbat hex":"B9","Unicode dec":"128249","Unicode hex":"1F4F9"},{"Typeface name":"Webdings","Dingbat dec":"186","Dingbat hex":"BA","Unicode dec":"128254","Unicode hex":"1F4FE"},{"Typeface name":"Webdings","Dingbat dec":"187","Dingbat hex":"BB","Unicode dec":"128251","Unicode hex":"1F4FB"},{"Typeface name":"Webdings","Dingbat dec":"188","Dingbat hex":"BC","Unicode dec":"127898","Unicode hex":"1F39A"},{"Typeface name":"Webdings","Dingbat dec":"189","Dingbat hex":"BD","Unicode dec":"127899","Unicode hex":"1F39B"},{"Typeface name":"Webdings","Dingbat dec":"190","Dingbat hex":"BE","Unicode dec":"128250","Unicode hex":"1F4FA"},{"Typeface name":"Webdings","Dingbat dec":"191","Dingbat hex":"BF","Unicode dec":"128187","Unicode hex":"1F4BB"},{"Typeface name":"Webdings","Dingbat dec":"192","Dingbat hex":"C0","Unicode dec":"128421","Unicode hex":"1F5A5"},{"Typeface name":"Webdings","Dingbat dec":"193","Dingbat hex":"C1","Unicode dec":"128422","Unicode hex":"1F5A6"},{"Typeface name":"Webdings","Dingbat dec":"194","Dingbat hex":"C2","Unicode dec":"128423","Unicode hex":"1F5A7"},{"Typeface name":"Webdings","Dingbat dec":"195","Dingbat hex":"C3","Unicode dec":"128377","Unicode hex":"1F579"},{"Typeface name":"Webdings","Dingbat dec":"196","Dingbat hex":"C4","Unicode dec":"127918","Unicode hex":"1F3AE"},{"Typeface name":"Webdings","Dingbat dec":"197","Dingbat hex":"C5","Unicode dec":"128379","Unicode hex":"1F57B"},{"Typeface name":"Webdings","Dingbat dec":"198","Dingbat hex":"C6","Unicode dec":"128380","Unicode hex":"1F57C"},{"Typeface name":"Webdings","Dingbat dec":"199","Dingbat hex":"C7","Unicode dec":"128223","Unicode hex":"1F4DF"},{"Typeface name":"Webdings","Dingbat dec":"200","Dingbat hex":"C8","Unicode dec":"128385","Unicode hex":"1F581"},{"Typeface name":"Webdings","Dingbat dec":"201","Dingbat hex":"C9","Unicode dec":"128384","Unicode hex":"1F580"},{"Typeface name":"Webdings","Dingbat dec":"202","Dingbat hex":"CA","Unicode dec":"128424","Unicode hex":"1F5A8"},{"Typeface name":"Webdings","Dingbat dec":"203","Dingbat hex":"CB","Unicode dec":"128425","Unicode hex":"1F5A9"},{"Typeface name":"Webdings","Dingbat dec":"204","Dingbat hex":"CC","Unicode dec":"128447","Unicode hex":"1F5BF"},{"Typeface name":"Webdings","Dingbat dec":"205","Dingbat hex":"CD","Unicode dec":"128426","Unicode hex":"1F5AA"},{"Typeface name":"Webdings","Dingbat dec":"206","Dingbat hex":"CE","Unicode dec":"128476","Unicode hex":"1F5DC"},{"Typeface name":"Webdings","Dingbat dec":"207","Dingbat hex":"CF","Unicode dec":"128274","Unicode hex":"1F512"},{"Typeface name":"Webdings","Dingbat dec":"208","Dingbat hex":"D0","Unicode dec":"128275","Unicode hex":"1F513"},{"Typeface name":"Webdings","Dingbat dec":"209","Dingbat hex":"D1","Unicode dec":"128477","Unicode hex":"1F5DD"},{"Typeface name":"Webdings","Dingbat dec":"210","Dingbat hex":"D2","Unicode dec":"128229","Unicode hex":"1F4E5"},{"Typeface name":"Webdings","Dingbat dec":"211","Dingbat hex":"D3","Unicode dec":"128228","Unicode hex":"1F4E4"},{"Typeface name":"Webdings","Dingbat dec":"212","Dingbat hex":"D4","Unicode dec":"128371","Unicode hex":"1F573"},{"Typeface name":"Webdings","Dingbat dec":"213","Dingbat hex":"D5","Unicode dec":"127779","Unicode hex":"1F323"},{"Typeface name":"Webdings","Dingbat dec":"214","Dingbat hex":"D6","Unicode dec":"127780","Unicode hex":"1F324"},{"Typeface name":"Webdings","Dingbat dec":"215","Dingbat hex":"D7","Unicode dec":"127781","Unicode hex":"1F325"},{"Typeface name":"Webdings","Dingbat dec":"216","Dingbat hex":"D8","Unicode dec":"127782","Unicode hex":"1F326"},{"Typeface name":"Webdings","Dingbat dec":"217","Dingbat hex":"D9","Unicode dec":"9729","Unicode hex":"2601"},{"Typeface name":"Webdings","Dingbat dec":"218","Dingbat hex":"DA","Unicode dec":"127784","Unicode hex":"1F328"},{"Typeface name":"Webdings","Dingbat dec":"219","Dingbat hex":"DB","Unicode dec":"127783","Unicode hex":"1F327"},{"Typeface name":"Webdings","Dingbat dec":"220","Dingbat hex":"DC","Unicode dec":"127785","Unicode hex":"1F329"},{"Typeface name":"Webdings","Dingbat dec":"221","Dingbat hex":"DD","Unicode dec":"127786","Unicode hex":"1F32A"},{"Typeface name":"Webdings","Dingbat dec":"222","Dingbat hex":"DE","Unicode dec":"127788","Unicode hex":"1F32C"},{"Typeface name":"Webdings","Dingbat dec":"223","Dingbat hex":"DF","Unicode dec":"127787","Unicode hex":"1F32B"},{"Typeface name":"Webdings","Dingbat dec":"224","Dingbat hex":"E0","Unicode dec":"127772","Unicode hex":"1F31C"},{"Typeface name":"Webdings","Dingbat dec":"225","Dingbat hex":"E1","Unicode dec":"127777","Unicode hex":"1F321"},{"Typeface name":"Webdings","Dingbat dec":"226","Dingbat hex":"E2","Unicode dec":"128715","Unicode hex":"1F6CB"},{"Typeface name":"Webdings","Dingbat dec":"227","Dingbat hex":"E3","Unicode dec":"128719","Unicode hex":"1F6CF"},{"Typeface name":"Webdings","Dingbat dec":"228","Dingbat hex":"E4","Unicode dec":"127869","Unicode hex":"1F37D"},{"Typeface name":"Webdings","Dingbat dec":"229","Dingbat hex":"E5","Unicode dec":"127864","Unicode hex":"1F378"},{"Typeface name":"Webdings","Dingbat dec":"230","Dingbat hex":"E6","Unicode dec":"128718","Unicode hex":"1F6CE"},{"Typeface name":"Webdings","Dingbat dec":"231","Dingbat hex":"E7","Unicode dec":"128717","Unicode hex":"1F6CD"},{"Typeface name":"Webdings","Dingbat dec":"232","Dingbat hex":"E8","Unicode dec":"9413","Unicode hex":"24C5"},{"Typeface name":"Webdings","Dingbat dec":"233","Dingbat hex":"E9","Unicode dec":"9855","Unicode hex":"267F"},{"Typeface name":"Webdings","Dingbat dec":"234","Dingbat hex":"EA","Unicode dec":"128710","Unicode hex":"1F6C6"},{"Typeface name":"Webdings","Dingbat dec":"235","Dingbat hex":"EB","Unicode dec":"128392","Unicode hex":"1F588"},{"Typeface name":"Webdings","Dingbat dec":"236","Dingbat hex":"EC","Unicode dec":"127891","Unicode hex":"1F393"},{"Typeface name":"Webdings","Dingbat dec":"237","Dingbat hex":"ED","Unicode dec":"128484","Unicode hex":"1F5E4"},{"Typeface name":"Webdings","Dingbat dec":"238","Dingbat hex":"EE","Unicode dec":"128485","Unicode hex":"1F5E5"},{"Typeface name":"Webdings","Dingbat dec":"239","Dingbat hex":"EF","Unicode dec":"128486","Unicode hex":"1F5E6"},{"Typeface name":"Webdings","Dingbat dec":"240","Dingbat hex":"F0","Unicode dec":"128487","Unicode hex":"1F5E7"},{"Typeface name":"Webdings","Dingbat dec":"241","Dingbat hex":"F1","Unicode dec":"128746","Unicode hex":"1F6EA"},{"Typeface name":"Webdings","Dingbat dec":"242","Dingbat hex":"F2","Unicode dec":"128063","Unicode hex":"1F43F"},{"Typeface name":"Webdings","Dingbat dec":"243","Dingbat hex":"F3","Unicode dec":"128038","Unicode hex":"1F426"},{"Typeface name":"Webdings","Dingbat dec":"244","Dingbat hex":"F4","Unicode dec":"128031","Unicode hex":"1F41F"},{"Typeface name":"Webdings","Dingbat dec":"245","Dingbat hex":"F5","Unicode dec":"128021","Unicode hex":"1F415"},{"Typeface name":"Webdings","Dingbat dec":"246","Dingbat hex":"F6","Unicode dec":"128008","Unicode hex":"1F408"},{"Typeface name":"Webdings","Dingbat dec":"247","Dingbat hex":"F7","Unicode dec":"128620","Unicode hex":"1F66C"},{"Typeface name":"Webdings","Dingbat dec":"248","Dingbat hex":"F8","Unicode dec":"128622","Unicode hex":"1F66E"},{"Typeface name":"Webdings","Dingbat dec":"249","Dingbat hex":"F9","Unicode dec":"128621","Unicode hex":"1F66D"},{"Typeface name":"Webdings","Dingbat dec":"250","Dingbat hex":"FA","Unicode dec":"128623","Unicode hex":"1F66F"},{"Typeface name":"Webdings","Dingbat dec":"251","Dingbat hex":"FB","Unicode dec":"128506","Unicode hex":"1F5FA"},{"Typeface name":"Webdings","Dingbat dec":"252","Dingbat hex":"FC","Unicode dec":"127757","Unicode hex":"1F30D"},{"Typeface name":"Webdings","Dingbat dec":"253","Dingbat hex":"FD","Unicode dec":"127759","Unicode hex":"1F30F"},{"Typeface name":"Webdings","Dingbat dec":"254","Dingbat hex":"FE","Unicode dec":"127758","Unicode hex":"1F30E"},{"Typeface name":"Webdings","Dingbat dec":"255","Dingbat hex":"FF","Unicode dec":"128330","Unicode hex":"1F54A"},{"Typeface name":"Wingdings","Dingbat dec":"32","Dingbat hex":"20","Unicode dec":"32","Unicode hex":"20"},{"Typeface name":"Wingdings","Dingbat dec":"33","Dingbat hex":"21","Unicode dec":"128393","Unicode hex":"1F589"},{"Typeface name":"Wingdings","Dingbat dec":"34","Dingbat hex":"22","Unicode dec":"9986","Unicode hex":"2702"},{"Typeface name":"Wingdings","Dingbat dec":"35","Dingbat hex":"23","Unicode dec":"9985","Unicode hex":"2701"},{"Typeface name":"Wingdings","Dingbat dec":"36","Dingbat hex":"24","Unicode dec":"128083","Unicode hex":"1F453"},{"Typeface name":"Wingdings","Dingbat dec":"37","Dingbat hex":"25","Unicode dec":"128365","Unicode hex":"1F56D"},{"Typeface name":"Wingdings","Dingbat dec":"38","Dingbat hex":"26","Unicode dec":"128366","Unicode hex":"1F56E"},{"Typeface name":"Wingdings","Dingbat dec":"39","Dingbat hex":"27","Unicode dec":"128367","Unicode hex":"1F56F"},{"Typeface name":"Wingdings","Dingbat dec":"40","Dingbat hex":"28","Unicode dec":"128383","Unicode hex":"1F57F"},{"Typeface name":"Wingdings","Dingbat dec":"41","Dingbat hex":"29","Unicode dec":"9990","Unicode hex":"2706"},{"Typeface name":"Wingdings","Dingbat dec":"42","Dingbat hex":"2A","Unicode dec":"128386","Unicode hex":"1F582"},{"Typeface name":"Wingdings","Dingbat dec":"43","Dingbat hex":"2B","Unicode dec":"128387","Unicode hex":"1F583"},{"Typeface name":"Wingdings","Dingbat dec":"44","Dingbat hex":"2C","Unicode dec":"128234","Unicode hex":"1F4EA"},{"Typeface name":"Wingdings","Dingbat dec":"45","Dingbat hex":"2D","Unicode dec":"128235","Unicode hex":"1F4EB"},{"Typeface name":"Wingdings","Dingbat dec":"46","Dingbat hex":"2E","Unicode dec":"128236","Unicode hex":"1F4EC"},{"Typeface name":"Wingdings","Dingbat dec":"47","Dingbat hex":"2F","Unicode dec":"128237","Unicode hex":"1F4ED"},{"Typeface name":"Wingdings","Dingbat dec":"48","Dingbat hex":"30","Unicode dec":"128448","Unicode hex":"1F5C0"},{"Typeface name":"Wingdings","Dingbat dec":"49","Dingbat hex":"31","Unicode dec":"128449","Unicode hex":"1F5C1"},{"Typeface name":"Wingdings","Dingbat dec":"50","Dingbat hex":"32","Unicode dec":"128462","Unicode hex":"1F5CE"},{"Typeface name":"Wingdings","Dingbat dec":"51","Dingbat hex":"33","Unicode dec":"128463","Unicode hex":"1F5CF"},{"Typeface name":"Wingdings","Dingbat dec":"52","Dingbat hex":"34","Unicode dec":"128464","Unicode hex":"1F5D0"},{"Typeface name":"Wingdings","Dingbat dec":"53","Dingbat hex":"35","Unicode dec":"128452","Unicode hex":"1F5C4"},{"Typeface name":"Wingdings","Dingbat dec":"54","Dingbat hex":"36","Unicode dec":"8987","Unicode hex":"231B"},{"Typeface name":"Wingdings","Dingbat dec":"55","Dingbat hex":"37","Unicode dec":"128430","Unicode hex":"1F5AE"},{"Typeface name":"Wingdings","Dingbat dec":"56","Dingbat hex":"38","Unicode dec":"128432","Unicode hex":"1F5B0"},{"Typeface name":"Wingdings","Dingbat dec":"57","Dingbat hex":"39","Unicode dec":"128434","Unicode hex":"1F5B2"},{"Typeface name":"Wingdings","Dingbat dec":"58","Dingbat hex":"3A","Unicode dec":"128435","Unicode hex":"1F5B3"},{"Typeface name":"Wingdings","Dingbat dec":"59","Dingbat hex":"3B","Unicode dec":"128436","Unicode hex":"1F5B4"},{"Typeface name":"Wingdings","Dingbat dec":"60","Dingbat hex":"3C","Unicode dec":"128427","Unicode hex":"1F5AB"},{"Typeface name":"Wingdings","Dingbat dec":"61","Dingbat hex":"3D","Unicode dec":"128428","Unicode hex":"1F5AC"},{"Typeface name":"Wingdings","Dingbat dec":"62","Dingbat hex":"3E","Unicode dec":"9991","Unicode hex":"2707"},{"Typeface name":"Wingdings","Dingbat dec":"63","Dingbat hex":"3F","Unicode dec":"9997","Unicode hex":"270D"},{"Typeface name":"Wingdings","Dingbat dec":"64","Dingbat hex":"40","Unicode dec":"128398","Unicode hex":"1F58E"},{"Typeface name":"Wingdings","Dingbat dec":"65","Dingbat hex":"41","Unicode dec":"9996","Unicode hex":"270C"},{"Typeface name":"Wingdings","Dingbat dec":"66","Dingbat hex":"42","Unicode dec":"128399","Unicode hex":"1F58F"},{"Typeface name":"Wingdings","Dingbat dec":"67","Dingbat hex":"43","Unicode dec":"128077","Unicode hex":"1F44D"},{"Typeface name":"Wingdings","Dingbat dec":"68","Dingbat hex":"44","Unicode dec":"128078","Unicode hex":"1F44E"},{"Typeface name":"Wingdings","Dingbat dec":"69","Dingbat hex":"45","Unicode dec":"9756","Unicode hex":"261C"},{"Typeface name":"Wingdings","Dingbat dec":"70","Dingbat hex":"46","Unicode dec":"9758","Unicode hex":"261E"},{"Typeface name":"Wingdings","Dingbat dec":"71","Dingbat hex":"47","Unicode dec":"9757","Unicode hex":"261D"},{"Typeface name":"Wingdings","Dingbat dec":"72","Dingbat hex":"48","Unicode dec":"9759","Unicode hex":"261F"},{"Typeface name":"Wingdings","Dingbat dec":"73","Dingbat hex":"49","Unicode dec":"128400","Unicode hex":"1F590"},{"Typeface name":"Wingdings","Dingbat dec":"74","Dingbat hex":"4A","Unicode dec":"9786","Unicode hex":"263A"},{"Typeface name":"Wingdings","Dingbat dec":"75","Dingbat hex":"4B","Unicode dec":"128528","Unicode hex":"1F610"},{"Typeface name":"Wingdings","Dingbat dec":"76","Dingbat hex":"4C","Unicode dec":"9785","Unicode hex":"2639"},{"Typeface name":"Wingdings","Dingbat dec":"77","Dingbat hex":"4D","Unicode dec":"128163","Unicode hex":"1F4A3"},{"Typeface name":"Wingdings","Dingbat dec":"78","Dingbat hex":"4E","Unicode dec":"128369","Unicode hex":"1F571"},{"Typeface name":"Wingdings","Dingbat dec":"79","Dingbat hex":"4F","Unicode dec":"127987","Unicode hex":"1F3F3"},{"Typeface name":"Wingdings","Dingbat dec":"80","Dingbat hex":"50","Unicode dec":"127985","Unicode hex":"1F3F1"},{"Typeface name":"Wingdings","Dingbat dec":"81","Dingbat hex":"51","Unicode dec":"9992","Unicode hex":"2708"},{"Typeface name":"Wingdings","Dingbat dec":"82","Dingbat hex":"52","Unicode dec":"9788","Unicode hex":"263C"},{"Typeface name":"Wingdings","Dingbat dec":"83","Dingbat hex":"53","Unicode dec":"127778","Unicode hex":"1F322"},{"Typeface name":"Wingdings","Dingbat dec":"84","Dingbat hex":"54","Unicode dec":"10052","Unicode hex":"2744"},{"Typeface name":"Wingdings","Dingbat dec":"85","Dingbat hex":"55","Unicode dec":"128326","Unicode hex":"1F546"},{"Typeface name":"Wingdings","Dingbat dec":"86","Dingbat hex":"56","Unicode dec":"10014","Unicode hex":"271E"},{"Typeface name":"Wingdings","Dingbat dec":"87","Dingbat hex":"57","Unicode dec":"128328","Unicode hex":"1F548"},{"Typeface name":"Wingdings","Dingbat dec":"88","Dingbat hex":"58","Unicode dec":"10016","Unicode hex":"2720"},{"Typeface name":"Wingdings","Dingbat dec":"89","Dingbat hex":"59","Unicode dec":"10017","Unicode hex":"2721"},{"Typeface name":"Wingdings","Dingbat dec":"90","Dingbat hex":"5A","Unicode dec":"9770","Unicode hex":"262A"},{"Typeface name":"Wingdings","Dingbat dec":"91","Dingbat hex":"5B","Unicode dec":"9775","Unicode hex":"262F"},{"Typeface name":"Wingdings","Dingbat dec":"92","Dingbat hex":"5C","Unicode dec":"128329","Unicode hex":"1F549"},{"Typeface name":"Wingdings","Dingbat dec":"93","Dingbat hex":"5D","Unicode dec":"9784","Unicode hex":"2638"},{"Typeface name":"Wingdings","Dingbat dec":"94","Dingbat hex":"5E","Unicode dec":"9800","Unicode hex":"2648"},{"Typeface name":"Wingdings","Dingbat dec":"95","Dingbat hex":"5F","Unicode dec":"9801","Unicode hex":"2649"},{"Typeface name":"Wingdings","Dingbat dec":"96","Dingbat hex":"60","Unicode dec":"9802","Unicode hex":"264A"},{"Typeface name":"Wingdings","Dingbat dec":"97","Dingbat hex":"61","Unicode dec":"9803","Unicode hex":"264B"},{"Typeface name":"Wingdings","Dingbat dec":"98","Dingbat hex":"62","Unicode dec":"9804","Unicode hex":"264C"},{"Typeface name":"Wingdings","Dingbat dec":"99","Dingbat hex":"63","Unicode dec":"9805","Unicode hex":"264D"},{"Typeface name":"Wingdings","Dingbat dec":"100","Dingbat hex":"64","Unicode dec":"9806","Unicode hex":"264E"},{"Typeface name":"Wingdings","Dingbat dec":"101","Dingbat hex":"65","Unicode dec":"9807","Unicode hex":"264F"},{"Typeface name":"Wingdings","Dingbat dec":"102","Dingbat hex":"66","Unicode dec":"9808","Unicode hex":"2650"},{"Typeface name":"Wingdings","Dingbat dec":"103","Dingbat hex":"67","Unicode dec":"9809","Unicode hex":"2651"},{"Typeface name":"Wingdings","Dingbat dec":"104","Dingbat hex":"68","Unicode dec":"9810","Unicode hex":"2652"},{"Typeface name":"Wingdings","Dingbat dec":"105","Dingbat hex":"69","Unicode dec":"9811","Unicode hex":"2653"},{"Typeface name":"Wingdings","Dingbat dec":"106","Dingbat hex":"6A","Unicode dec":"128624","Unicode hex":"1F670"},{"Typeface name":"Wingdings","Dingbat dec":"107","Dingbat hex":"6B","Unicode dec":"128629","Unicode hex":"1F675"},{"Typeface name":"Wingdings","Dingbat dec":"108","Dingbat hex":"6C","Unicode dec":"9899","Unicode hex":"26AB"},{"Typeface name":"Wingdings","Dingbat dec":"109","Dingbat hex":"6D","Unicode dec":"128318","Unicode hex":"1F53E"},{"Typeface name":"Wingdings","Dingbat dec":"110","Dingbat hex":"6E","Unicode dec":"9724","Unicode hex":"25FC"},{"Typeface name":"Wingdings","Dingbat dec":"111","Dingbat hex":"6F","Unicode dec":"128911","Unicode hex":"1F78F"},{"Typeface name":"Wingdings","Dingbat dec":"112","Dingbat hex":"70","Unicode dec":"128912","Unicode hex":"1F790"},{"Typeface name":"Wingdings","Dingbat dec":"113","Dingbat hex":"71","Unicode dec":"10065","Unicode hex":"2751"},{"Typeface name":"Wingdings","Dingbat dec":"114","Dingbat hex":"72","Unicode dec":"10066","Unicode hex":"2752"},{"Typeface name":"Wingdings","Dingbat dec":"115","Dingbat hex":"73","Unicode dec":"128927","Unicode hex":"1F79F"},{"Typeface name":"Wingdings","Dingbat dec":"116","Dingbat hex":"74","Unicode dec":"10731","Unicode hex":"29EB"},{"Typeface name":"Wingdings","Dingbat dec":"117","Dingbat hex":"75","Unicode dec":"9670","Unicode hex":"25C6"},{"Typeface name":"Wingdings","Dingbat dec":"118","Dingbat hex":"76","Unicode dec":"10070","Unicode hex":"2756"},{"Typeface name":"Wingdings","Dingbat dec":"119","Dingbat hex":"77","Unicode dec":"11049","Unicode hex":"2B29"},{"Typeface name":"Wingdings","Dingbat dec":"120","Dingbat hex":"78","Unicode dec":"8999","Unicode hex":"2327"},{"Typeface name":"Wingdings","Dingbat dec":"121","Dingbat hex":"79","Unicode dec":"11193","Unicode hex":"2BB9"},{"Typeface name":"Wingdings","Dingbat dec":"122","Dingbat hex":"7A","Unicode dec":"8984","Unicode hex":"2318"},{"Typeface name":"Wingdings","Dingbat dec":"123","Dingbat hex":"7B","Unicode dec":"127989","Unicode hex":"1F3F5"},{"Typeface name":"Wingdings","Dingbat dec":"124","Dingbat hex":"7C","Unicode dec":"127990","Unicode hex":"1F3F6"},{"Typeface name":"Wingdings","Dingbat dec":"125","Dingbat hex":"7D","Unicode dec":"128630","Unicode hex":"1F676"},{"Typeface name":"Wingdings","Dingbat dec":"126","Dingbat hex":"7E","Unicode dec":"128631","Unicode hex":"1F677"},{"Typeface name":"Wingdings","Dingbat dec":"127","Dingbat hex":"7F","Unicode dec":"9647","Unicode hex":"25AF"},{"Typeface name":"Wingdings","Dingbat dec":"128","Dingbat hex":"80","Unicode dec":"127243","Unicode hex":"1F10B"},{"Typeface name":"Wingdings","Dingbat dec":"129","Dingbat hex":"81","Unicode dec":"10112","Unicode hex":"2780"},{"Typeface name":"Wingdings","Dingbat dec":"130","Dingbat hex":"82","Unicode dec":"10113","Unicode hex":"2781"},{"Typeface name":"Wingdings","Dingbat dec":"131","Dingbat hex":"83","Unicode dec":"10114","Unicode hex":"2782"},{"Typeface name":"Wingdings","Dingbat dec":"132","Dingbat hex":"84","Unicode dec":"10115","Unicode hex":"2783"},{"Typeface name":"Wingdings","Dingbat dec":"133","Dingbat hex":"85","Unicode dec":"10116","Unicode hex":"2784"},{"Typeface name":"Wingdings","Dingbat dec":"134","Dingbat hex":"86","Unicode dec":"10117","Unicode hex":"2785"},{"Typeface name":"Wingdings","Dingbat dec":"135","Dingbat hex":"87","Unicode dec":"10118","Unicode hex":"2786"},{"Typeface name":"Wingdings","Dingbat dec":"136","Dingbat hex":"88","Unicode dec":"10119","Unicode hex":"2787"},{"Typeface name":"Wingdings","Dingbat dec":"137","Dingbat hex":"89","Unicode dec":"10120","Unicode hex":"2788"},{"Typeface name":"Wingdings","Dingbat dec":"138","Dingbat hex":"8A","Unicode dec":"10121","Unicode hex":"2789"},{"Typeface name":"Wingdings","Dingbat dec":"139","Dingbat hex":"8B","Unicode dec":"127244","Unicode hex":"1F10C"},{"Typeface name":"Wingdings","Dingbat dec":"140","Dingbat hex":"8C","Unicode dec":"10122","Unicode hex":"278A"},{"Typeface name":"Wingdings","Dingbat dec":"141","Dingbat hex":"8D","Unicode dec":"10123","Unicode hex":"278B"},{"Typeface name":"Wingdings","Dingbat dec":"142","Dingbat hex":"8E","Unicode dec":"10124","Unicode hex":"278C"},{"Typeface name":"Wingdings","Dingbat dec":"143","Dingbat hex":"8F","Unicode dec":"10125","Unicode hex":"278D"},{"Typeface name":"Wingdings","Dingbat dec":"144","Dingbat hex":"90","Unicode dec":"10126","Unicode hex":"278E"},{"Typeface name":"Wingdings","Dingbat dec":"145","Dingbat hex":"91","Unicode dec":"10127","Unicode hex":"278F"},{"Typeface name":"Wingdings","Dingbat dec":"146","Dingbat hex":"92","Unicode dec":"10128","Unicode hex":"2790"},{"Typeface name":"Wingdings","Dingbat dec":"147","Dingbat hex":"93","Unicode dec":"10129","Unicode hex":"2791"},{"Typeface name":"Wingdings","Dingbat dec":"148","Dingbat hex":"94","Unicode dec":"10130","Unicode hex":"2792"},{"Typeface name":"Wingdings","Dingbat dec":"149","Dingbat hex":"95","Unicode dec":"10131","Unicode hex":"2793"},{"Typeface name":"Wingdings","Dingbat dec":"150","Dingbat hex":"96","Unicode dec":"128610","Unicode hex":"1F662"},{"Typeface name":"Wingdings","Dingbat dec":"151","Dingbat hex":"97","Unicode dec":"128608","Unicode hex":"1F660"},{"Typeface name":"Wingdings","Dingbat dec":"152","Dingbat hex":"98","Unicode dec":"128609","Unicode hex":"1F661"},{"Typeface name":"Wingdings","Dingbat dec":"153","Dingbat hex":"99","Unicode dec":"128611","Unicode hex":"1F663"},{"Typeface name":"Wingdings","Dingbat dec":"154","Dingbat hex":"9A","Unicode dec":"128606","Unicode hex":"1F65E"},{"Typeface name":"Wingdings","Dingbat dec":"155","Dingbat hex":"9B","Unicode dec":"128604","Unicode hex":"1F65C"},{"Typeface name":"Wingdings","Dingbat dec":"156","Dingbat hex":"9C","Unicode dec":"128605","Unicode hex":"1F65D"},{"Typeface name":"Wingdings","Dingbat dec":"157","Dingbat hex":"9D","Unicode dec":"128607","Unicode hex":"1F65F"},{"Typeface name":"Wingdings","Dingbat dec":"158","Dingbat hex":"9E","Unicode dec":"8729","Unicode hex":"2219"},{"Typeface name":"Wingdings","Dingbat dec":"159","Dingbat hex":"9F","Unicode dec":"8226","Unicode hex":"2022"},{"Typeface name":"Wingdings","Dingbat dec":"160","Dingbat hex":"A0","Unicode dec":"11037","Unicode hex":"2B1D"},{"Typeface name":"Wingdings","Dingbat dec":"161","Dingbat hex":"A1","Unicode dec":"11096","Unicode hex":"2B58"},{"Typeface name":"Wingdings","Dingbat dec":"162","Dingbat hex":"A2","Unicode dec":"128902","Unicode hex":"1F786"},{"Typeface name":"Wingdings","Dingbat dec":"163","Dingbat hex":"A3","Unicode dec":"128904","Unicode hex":"1F788"},{"Typeface name":"Wingdings","Dingbat dec":"164","Dingbat hex":"A4","Unicode dec":"128906","Unicode hex":"1F78A"},{"Typeface name":"Wingdings","Dingbat dec":"165","Dingbat hex":"A5","Unicode dec":"128907","Unicode hex":"1F78B"},{"Typeface name":"Wingdings","Dingbat dec":"166","Dingbat hex":"A6","Unicode dec":"128319","Unicode hex":"1F53F"},{"Typeface name":"Wingdings","Dingbat dec":"167","Dingbat hex":"A7","Unicode dec":"9642","Unicode hex":"25AA"},{"Typeface name":"Wingdings","Dingbat dec":"168","Dingbat hex":"A8","Unicode dec":"128910","Unicode hex":"1F78E"},{"Typeface name":"Wingdings","Dingbat dec":"169","Dingbat hex":"A9","Unicode dec":"128961","Unicode hex":"1F7C1"},{"Typeface name":"Wingdings","Dingbat dec":"170","Dingbat hex":"AA","Unicode dec":"128965","Unicode hex":"1F7C5"},{"Typeface name":"Wingdings","Dingbat dec":"171","Dingbat hex":"AB","Unicode dec":"9733","Unicode hex":"2605"},{"Typeface name":"Wingdings","Dingbat dec":"172","Dingbat hex":"AC","Unicode dec":"128971","Unicode hex":"1F7CB"},{"Typeface name":"Wingdings","Dingbat dec":"173","Dingbat hex":"AD","Unicode dec":"128975","Unicode hex":"1F7CF"},{"Typeface name":"Wingdings","Dingbat dec":"174","Dingbat hex":"AE","Unicode dec":"128979","Unicode hex":"1F7D3"},{"Typeface name":"Wingdings","Dingbat dec":"175","Dingbat hex":"AF","Unicode dec":"128977","Unicode hex":"1F7D1"},{"Typeface name":"Wingdings","Dingbat dec":"176","Dingbat hex":"B0","Unicode dec":"11216","Unicode hex":"2BD0"},{"Typeface name":"Wingdings","Dingbat dec":"177","Dingbat hex":"B1","Unicode dec":"8982","Unicode hex":"2316"},{"Typeface name":"Wingdings","Dingbat dec":"178","Dingbat hex":"B2","Unicode dec":"11214","Unicode hex":"2BCE"},{"Typeface name":"Wingdings","Dingbat dec":"179","Dingbat hex":"B3","Unicode dec":"11215","Unicode hex":"2BCF"},{"Typeface name":"Wingdings","Dingbat dec":"180","Dingbat hex":"B4","Unicode dec":"11217","Unicode hex":"2BD1"},{"Typeface name":"Wingdings","Dingbat dec":"181","Dingbat hex":"B5","Unicode dec":"10026","Unicode hex":"272A"},{"Typeface name":"Wingdings","Dingbat dec":"182","Dingbat hex":"B6","Unicode dec":"10032","Unicode hex":"2730"},{"Typeface name":"Wingdings","Dingbat dec":"183","Dingbat hex":"B7","Unicode dec":"128336","Unicode hex":"1F550"},{"Typeface name":"Wingdings","Dingbat dec":"184","Dingbat hex":"B8","Unicode dec":"128337","Unicode hex":"1F551"},{"Typeface name":"Wingdings","Dingbat dec":"185","Dingbat hex":"B9","Unicode dec":"128338","Unicode hex":"1F552"},{"Typeface name":"Wingdings","Dingbat dec":"186","Dingbat hex":"BA","Unicode dec":"128339","Unicode hex":"1F553"},{"Typeface name":"Wingdings","Dingbat dec":"187","Dingbat hex":"BB","Unicode dec":"128340","Unicode hex":"1F554"},{"Typeface name":"Wingdings","Dingbat dec":"188","Dingbat hex":"BC","Unicode dec":"128341","Unicode hex":"1F555"},{"Typeface name":"Wingdings","Dingbat dec":"189","Dingbat hex":"BD","Unicode dec":"128342","Unicode hex":"1F556"},{"Typeface name":"Wingdings","Dingbat dec":"190","Dingbat hex":"BE","Unicode dec":"128343","Unicode hex":"1F557"},{"Typeface name":"Wingdings","Dingbat dec":"191","Dingbat hex":"BF","Unicode dec":"128344","Unicode hex":"1F558"},{"Typeface name":"Wingdings","Dingbat dec":"192","Dingbat hex":"C0","Unicode dec":"128345","Unicode hex":"1F559"},{"Typeface name":"Wingdings","Dingbat dec":"193","Dingbat hex":"C1","Unicode dec":"128346","Unicode hex":"1F55A"},{"Typeface name":"Wingdings","Dingbat dec":"194","Dingbat hex":"C2","Unicode dec":"128347","Unicode hex":"1F55B"},{"Typeface name":"Wingdings","Dingbat dec":"195","Dingbat hex":"C3","Unicode dec":"11184","Unicode hex":"2BB0"},{"Typeface name":"Wingdings","Dingbat dec":"196","Dingbat hex":"C4","Unicode dec":"11185","Unicode hex":"2BB1"},{"Typeface name":"Wingdings","Dingbat dec":"197","Dingbat hex":"C5","Unicode dec":"11186","Unicode hex":"2BB2"},{"Typeface name":"Wingdings","Dingbat dec":"198","Dingbat hex":"C6","Unicode dec":"11187","Unicode hex":"2BB3"},{"Typeface name":"Wingdings","Dingbat dec":"199","Dingbat hex":"C7","Unicode dec":"11188","Unicode hex":"2BB4"},{"Typeface name":"Wingdings","Dingbat dec":"200","Dingbat hex":"C8","Unicode dec":"11189","Unicode hex":"2BB5"},{"Typeface name":"Wingdings","Dingbat dec":"201","Dingbat hex":"C9","Unicode dec":"11190","Unicode hex":"2BB6"},{"Typeface name":"Wingdings","Dingbat dec":"202","Dingbat hex":"CA","Unicode dec":"11191","Unicode hex":"2BB7"},{"Typeface name":"Wingdings","Dingbat dec":"203","Dingbat hex":"CB","Unicode dec":"128618","Unicode hex":"1F66A"},{"Typeface name":"Wingdings","Dingbat dec":"204","Dingbat hex":"CC","Unicode dec":"128619","Unicode hex":"1F66B"},{"Typeface name":"Wingdings","Dingbat dec":"205","Dingbat hex":"CD","Unicode dec":"128597","Unicode hex":"1F655"},{"Typeface name":"Wingdings","Dingbat dec":"206","Dingbat hex":"CE","Unicode dec":"128596","Unicode hex":"1F654"},{"Typeface name":"Wingdings","Dingbat dec":"207","Dingbat hex":"CF","Unicode dec":"128599","Unicode hex":"1F657"},{"Typeface name":"Wingdings","Dingbat dec":"208","Dingbat hex":"D0","Unicode dec":"128598","Unicode hex":"1F656"},{"Typeface name":"Wingdings","Dingbat dec":"209","Dingbat hex":"D1","Unicode dec":"128592","Unicode hex":"1F650"},{"Typeface name":"Wingdings","Dingbat dec":"210","Dingbat hex":"D2","Unicode dec":"128593","Unicode hex":"1F651"},{"Typeface name":"Wingdings","Dingbat dec":"211","Dingbat hex":"D3","Unicode dec":"128594","Unicode hex":"1F652"},{"Typeface name":"Wingdings","Dingbat dec":"212","Dingbat hex":"D4","Unicode dec":"128595","Unicode hex":"1F653"},{"Typeface name":"Wingdings","Dingbat dec":"213","Dingbat hex":"D5","Unicode dec":"9003","Unicode hex":"232B"},{"Typeface name":"Wingdings","Dingbat dec":"214","Dingbat hex":"D6","Unicode dec":"8998","Unicode hex":"2326"},{"Typeface name":"Wingdings","Dingbat dec":"215","Dingbat hex":"D7","Unicode dec":"11160","Unicode hex":"2B98"},{"Typeface name":"Wingdings","Dingbat dec":"216","Dingbat hex":"D8","Unicode dec":"11162","Unicode hex":"2B9A"},{"Typeface name":"Wingdings","Dingbat dec":"217","Dingbat hex":"D9","Unicode dec":"11161","Unicode hex":"2B99"},{"Typeface name":"Wingdings","Dingbat dec":"218","Dingbat hex":"DA","Unicode dec":"11163","Unicode hex":"2B9B"},{"Typeface name":"Wingdings","Dingbat dec":"219","Dingbat hex":"DB","Unicode dec":"11144","Unicode hex":"2B88"},{"Typeface name":"Wingdings","Dingbat dec":"220","Dingbat hex":"DC","Unicode dec":"11146","Unicode hex":"2B8A"},{"Typeface name":"Wingdings","Dingbat dec":"221","Dingbat hex":"DD","Unicode dec":"11145","Unicode hex":"2B89"},{"Typeface name":"Wingdings","Dingbat dec":"222","Dingbat hex":"DE","Unicode dec":"11147","Unicode hex":"2B8B"},{"Typeface name":"Wingdings","Dingbat dec":"223","Dingbat hex":"DF","Unicode dec":"129128","Unicode hex":"1F868"},{"Typeface name":"Wingdings","Dingbat dec":"224","Dingbat hex":"E0","Unicode dec":"129130","Unicode hex":"1F86A"},{"Typeface name":"Wingdings","Dingbat dec":"225","Dingbat hex":"E1","Unicode dec":"129129","Unicode hex":"1F869"},{"Typeface name":"Wingdings","Dingbat dec":"226","Dingbat hex":"E2","Unicode dec":"129131","Unicode hex":"1F86B"},{"Typeface name":"Wingdings","Dingbat dec":"227","Dingbat hex":"E3","Unicode dec":"129132","Unicode hex":"1F86C"},{"Typeface name":"Wingdings","Dingbat dec":"228","Dingbat hex":"E4","Unicode dec":"129133","Unicode hex":"1F86D"},{"Typeface name":"Wingdings","Dingbat dec":"229","Dingbat hex":"E5","Unicode dec":"129135","Unicode hex":"1F86F"},{"Typeface name":"Wingdings","Dingbat dec":"230","Dingbat hex":"E6","Unicode dec":"129134","Unicode hex":"1F86E"},{"Typeface name":"Wingdings","Dingbat dec":"231","Dingbat hex":"E7","Unicode dec":"129144","Unicode hex":"1F878"},{"Typeface name":"Wingdings","Dingbat dec":"232","Dingbat hex":"E8","Unicode dec":"129146","Unicode hex":"1F87A"},{"Typeface name":"Wingdings","Dingbat dec":"233","Dingbat hex":"E9","Unicode dec":"129145","Unicode hex":"1F879"},{"Typeface name":"Wingdings","Dingbat dec":"234","Dingbat hex":"EA","Unicode dec":"129147","Unicode hex":"1F87B"},{"Typeface name":"Wingdings","Dingbat dec":"235","Dingbat hex":"EB","Unicode dec":"129148","Unicode hex":"1F87C"},{"Typeface name":"Wingdings","Dingbat dec":"236","Dingbat hex":"EC","Unicode dec":"129149","Unicode hex":"1F87D"},{"Typeface name":"Wingdings","Dingbat dec":"237","Dingbat hex":"ED","Unicode dec":"129151","Unicode hex":"1F87F"},{"Typeface name":"Wingdings","Dingbat dec":"238","Dingbat hex":"EE","Unicode dec":"129150","Unicode hex":"1F87E"},{"Typeface name":"Wingdings","Dingbat dec":"239","Dingbat hex":"EF","Unicode dec":"8678","Unicode hex":"21E6"},{"Typeface name":"Wingdings","Dingbat dec":"240","Dingbat hex":"F0","Unicode dec":"8680","Unicode hex":"21E8"},{"Typeface name":"Wingdings","Dingbat dec":"241","Dingbat hex":"F1","Unicode dec":"8679","Unicode hex":"21E7"},{"Typeface name":"Wingdings","Dingbat dec":"242","Dingbat hex":"F2","Unicode dec":"8681","Unicode hex":"21E9"},{"Typeface name":"Wingdings","Dingbat dec":"243","Dingbat hex":"F3","Unicode dec":"11012","Unicode hex":"2B04"},{"Typeface name":"Wingdings","Dingbat dec":"244","Dingbat hex":"F4","Unicode dec":"8691","Unicode hex":"21F3"},{"Typeface name":"Wingdings","Dingbat dec":"245","Dingbat hex":"F5","Unicode dec":"11009","Unicode hex":"2B01"},{"Typeface name":"Wingdings","Dingbat dec":"246","Dingbat hex":"F6","Unicode dec":"11008","Unicode hex":"2B00"},{"Typeface name":"Wingdings","Dingbat dec":"247","Dingbat hex":"F7","Unicode dec":"11011","Unicode hex":"2B03"},{"Typeface name":"Wingdings","Dingbat dec":"248","Dingbat hex":"F8","Unicode dec":"11010","Unicode hex":"2B02"},{"Typeface name":"Wingdings","Dingbat dec":"249","Dingbat hex":"F9","Unicode dec":"129196","Unicode hex":"1F8AC"},{"Typeface name":"Wingdings","Dingbat dec":"250","Dingbat hex":"FA","Unicode dec":"129197","Unicode hex":"1F8AD"},{"Typeface name":"Wingdings","Dingbat dec":"251","Dingbat hex":"FB","Unicode dec":"128502","Unicode hex":"1F5F6"},{"Typeface name":"Wingdings","Dingbat dec":"252","Dingbat hex":"FC","Unicode dec":"10003","Unicode hex":"2713"},{"Typeface name":"Wingdings","Dingbat dec":"253","Dingbat hex":"FD","Unicode dec":"128503","Unicode hex":"1F5F7"},{"Typeface name":"Wingdings","Dingbat dec":"254","Dingbat hex":"FE","Unicode dec":"128505","Unicode hex":"1F5F9"},{"Typeface name":"Wingdings 2","Dingbat dec":"32","Dingbat hex":"20","Unicode dec":"32","Unicode hex":"20"},{"Typeface name":"Wingdings 2","Dingbat dec":"33","Dingbat hex":"21","Unicode dec":"128394","Unicode hex":"1F58A"},{"Typeface name":"Wingdings 2","Dingbat dec":"34","Dingbat hex":"22","Unicode dec":"128395","Unicode hex":"1F58B"},{"Typeface name":"Wingdings 2","Dingbat dec":"35","Dingbat hex":"23","Unicode dec":"128396","Unicode hex":"1F58C"},{"Typeface name":"Wingdings 2","Dingbat dec":"36","Dingbat hex":"24","Unicode dec":"128397","Unicode hex":"1F58D"},{"Typeface name":"Wingdings 2","Dingbat dec":"37","Dingbat hex":"25","Unicode dec":"9988","Unicode hex":"2704"},{"Typeface name":"Wingdings 2","Dingbat dec":"38","Dingbat hex":"26","Unicode dec":"9984","Unicode hex":"2700"},{"Typeface name":"Wingdings 2","Dingbat dec":"39","Dingbat hex":"27","Unicode dec":"128382","Unicode hex":"1F57E"},{"Typeface name":"Wingdings 2","Dingbat dec":"40","Dingbat hex":"28","Unicode dec":"128381","Unicode hex":"1F57D"},{"Typeface name":"Wingdings 2","Dingbat dec":"41","Dingbat hex":"29","Unicode dec":"128453","Unicode hex":"1F5C5"},{"Typeface name":"Wingdings 2","Dingbat dec":"42","Dingbat hex":"2A","Unicode dec":"128454","Unicode hex":"1F5C6"},{"Typeface name":"Wingdings 2","Dingbat dec":"43","Dingbat hex":"2B","Unicode dec":"128455","Unicode hex":"1F5C7"},{"Typeface name":"Wingdings 2","Dingbat dec":"44","Dingbat hex":"2C","Unicode dec":"128456","Unicode hex":"1F5C8"},{"Typeface name":"Wingdings 2","Dingbat dec":"45","Dingbat hex":"2D","Unicode dec":"128457","Unicode hex":"1F5C9"},{"Typeface name":"Wingdings 2","Dingbat dec":"46","Dingbat hex":"2E","Unicode dec":"128458","Unicode hex":"1F5CA"},{"Typeface name":"Wingdings 2","Dingbat dec":"47","Dingbat hex":"2F","Unicode dec":"128459","Unicode hex":"1F5CB"},{"Typeface name":"Wingdings 2","Dingbat dec":"48","Dingbat hex":"30","Unicode dec":"128460","Unicode hex":"1F5CC"},{"Typeface name":"Wingdings 2","Dingbat dec":"49","Dingbat hex":"31","Unicode dec":"128461","Unicode hex":"1F5CD"},{"Typeface name":"Wingdings 2","Dingbat dec":"50","Dingbat hex":"32","Unicode dec":"128203","Unicode hex":"1F4CB"},{"Typeface name":"Wingdings 2","Dingbat dec":"51","Dingbat hex":"33","Unicode dec":"128465","Unicode hex":"1F5D1"},{"Typeface name":"Wingdings 2","Dingbat dec":"52","Dingbat hex":"34","Unicode dec":"128468","Unicode hex":"1F5D4"},{"Typeface name":"Wingdings 2","Dingbat dec":"53","Dingbat hex":"35","Unicode dec":"128437","Unicode hex":"1F5B5"},{"Typeface name":"Wingdings 2","Dingbat dec":"54","Dingbat hex":"36","Unicode dec":"128438","Unicode hex":"1F5B6"},{"Typeface name":"Wingdings 2","Dingbat dec":"55","Dingbat hex":"37","Unicode dec":"128439","Unicode hex":"1F5B7"},{"Typeface name":"Wingdings 2","Dingbat dec":"56","Dingbat hex":"38","Unicode dec":"128440","Unicode hex":"1F5B8"},{"Typeface name":"Wingdings 2","Dingbat dec":"57","Dingbat hex":"39","Unicode dec":"128429","Unicode hex":"1F5AD"},{"Typeface name":"Wingdings 2","Dingbat dec":"58","Dingbat hex":"3A","Unicode dec":"128431","Unicode hex":"1F5AF"},{"Typeface name":"Wingdings 2","Dingbat dec":"59","Dingbat hex":"3B","Unicode dec":"128433","Unicode hex":"1F5B1"},{"Typeface name":"Wingdings 2","Dingbat dec":"60","Dingbat hex":"3C","Unicode dec":"128402","Unicode hex":"1F592"},{"Typeface name":"Wingdings 2","Dingbat dec":"61","Dingbat hex":"3D","Unicode dec":"128403","Unicode hex":"1F593"},{"Typeface name":"Wingdings 2","Dingbat dec":"62","Dingbat hex":"3E","Unicode dec":"128408","Unicode hex":"1F598"},{"Typeface name":"Wingdings 2","Dingbat dec":"63","Dingbat hex":"3F","Unicode dec":"128409","Unicode hex":"1F599"},{"Typeface name":"Wingdings 2","Dingbat dec":"64","Dingbat hex":"40","Unicode dec":"128410","Unicode hex":"1F59A"},{"Typeface name":"Wingdings 2","Dingbat dec":"65","Dingbat hex":"41","Unicode dec":"128411","Unicode hex":"1F59B"},{"Typeface name":"Wingdings 2","Dingbat dec":"66","Dingbat hex":"42","Unicode dec":"128072","Unicode hex":"1F448"},{"Typeface name":"Wingdings 2","Dingbat dec":"67","Dingbat hex":"43","Unicode dec":"128073","Unicode hex":"1F449"},{"Typeface name":"Wingdings 2","Dingbat dec":"68","Dingbat hex":"44","Unicode dec":"128412","Unicode hex":"1F59C"},{"Typeface name":"Wingdings 2","Dingbat dec":"69","Dingbat hex":"45","Unicode dec":"128413","Unicode hex":"1F59D"},{"Typeface name":"Wingdings 2","Dingbat dec":"70","Dingbat hex":"46","Unicode dec":"128414","Unicode hex":"1F59E"},{"Typeface name":"Wingdings 2","Dingbat dec":"71","Dingbat hex":"47","Unicode dec":"128415","Unicode hex":"1F59F"},{"Typeface name":"Wingdings 2","Dingbat dec":"72","Dingbat hex":"48","Unicode dec":"128416","Unicode hex":"1F5A0"},{"Typeface name":"Wingdings 2","Dingbat dec":"73","Dingbat hex":"49","Unicode dec":"128417","Unicode hex":"1F5A1"},{"Typeface name":"Wingdings 2","Dingbat dec":"74","Dingbat hex":"4A","Unicode dec":"128070","Unicode hex":"1F446"},{"Typeface name":"Wingdings 2","Dingbat dec":"75","Dingbat hex":"4B","Unicode dec":"128071","Unicode hex":"1F447"},{"Typeface name":"Wingdings 2","Dingbat dec":"76","Dingbat hex":"4C","Unicode dec":"128418","Unicode hex":"1F5A2"},{"Typeface name":"Wingdings 2","Dingbat dec":"77","Dingbat hex":"4D","Unicode dec":"128419","Unicode hex":"1F5A3"},{"Typeface name":"Wingdings 2","Dingbat dec":"78","Dingbat hex":"4E","Unicode dec":"128401","Unicode hex":"1F591"},{"Typeface name":"Wingdings 2","Dingbat dec":"79","Dingbat hex":"4F","Unicode dec":"128500","Unicode hex":"1F5F4"},{"Typeface name":"Wingdings 2","Dingbat dec":"80","Dingbat hex":"50","Unicode dec":"128504","Unicode hex":"1F5F8"},{"Typeface name":"Wingdings 2","Dingbat dec":"81","Dingbat hex":"51","Unicode dec":"128501","Unicode hex":"1F5F5"},{"Typeface name":"Wingdings 2","Dingbat dec":"82","Dingbat hex":"52","Unicode dec":"9745","Unicode hex":"2611"},{"Typeface name":"Wingdings 2","Dingbat dec":"83","Dingbat hex":"53","Unicode dec":"11197","Unicode hex":"2BBD"},{"Typeface name":"Wingdings 2","Dingbat dec":"84","Dingbat hex":"54","Unicode dec":"9746","Unicode hex":"2612"},{"Typeface name":"Wingdings 2","Dingbat dec":"85","Dingbat hex":"55","Unicode dec":"11198","Unicode hex":"2BBE"},{"Typeface name":"Wingdings 2","Dingbat dec":"86","Dingbat hex":"56","Unicode dec":"11199","Unicode hex":"2BBF"},{"Typeface name":"Wingdings 2","Dingbat dec":"87","Dingbat hex":"57","Unicode dec":"128711","Unicode hex":"1F6C7"},{"Typeface name":"Wingdings 2","Dingbat dec":"88","Dingbat hex":"58","Unicode dec":"10680","Unicode hex":"29B8"},{"Typeface name":"Wingdings 2","Dingbat dec":"89","Dingbat hex":"59","Unicode dec":"128625","Unicode hex":"1F671"},{"Typeface name":"Wingdings 2","Dingbat dec":"90","Dingbat hex":"5A","Unicode dec":"128628","Unicode hex":"1F674"},{"Typeface name":"Wingdings 2","Dingbat dec":"91","Dingbat hex":"5B","Unicode dec":"128626","Unicode hex":"1F672"},{"Typeface name":"Wingdings 2","Dingbat dec":"92","Dingbat hex":"5C","Unicode dec":"128627","Unicode hex":"1F673"},{"Typeface name":"Wingdings 2","Dingbat dec":"93","Dingbat hex":"5D","Unicode dec":"8253","Unicode hex":"203D"},{"Typeface name":"Wingdings 2","Dingbat dec":"94","Dingbat hex":"5E","Unicode dec":"128633","Unicode hex":"1F679"},{"Typeface name":"Wingdings 2","Dingbat dec":"95","Dingbat hex":"5F","Unicode dec":"128634","Unicode hex":"1F67A"},{"Typeface name":"Wingdings 2","Dingbat dec":"96","Dingbat hex":"60","Unicode dec":"128635","Unicode hex":"1F67B"},{"Typeface name":"Wingdings 2","Dingbat dec":"97","Dingbat hex":"61","Unicode dec":"128614","Unicode hex":"1F666"},{"Typeface name":"Wingdings 2","Dingbat dec":"98","Dingbat hex":"62","Unicode dec":"128612","Unicode hex":"1F664"},{"Typeface name":"Wingdings 2","Dingbat dec":"99","Dingbat hex":"63","Unicode dec":"128613","Unicode hex":"1F665"},{"Typeface name":"Wingdings 2","Dingbat dec":"100","Dingbat hex":"64","Unicode dec":"128615","Unicode hex":"1F667"},{"Typeface name":"Wingdings 2","Dingbat dec":"101","Dingbat hex":"65","Unicode dec":"128602","Unicode hex":"1F65A"},{"Typeface name":"Wingdings 2","Dingbat dec":"102","Dingbat hex":"66","Unicode dec":"128600","Unicode hex":"1F658"},{"Typeface name":"Wingdings 2","Dingbat dec":"103","Dingbat hex":"67","Unicode dec":"128601","Unicode hex":"1F659"},{"Typeface name":"Wingdings 2","Dingbat dec":"104","Dingbat hex":"68","Unicode dec":"128603","Unicode hex":"1F65B"},{"Typeface name":"Wingdings 2","Dingbat dec":"105","Dingbat hex":"69","Unicode dec":"9450","Unicode hex":"24EA"},{"Typeface name":"Wingdings 2","Dingbat dec":"106","Dingbat hex":"6A","Unicode dec":"9312","Unicode hex":"2460"},{"Typeface name":"Wingdings 2","Dingbat dec":"107","Dingbat hex":"6B","Unicode dec":"9313","Unicode hex":"2461"},{"Typeface name":"Wingdings 2","Dingbat dec":"108","Dingbat hex":"6C","Unicode dec":"9314","Unicode hex":"2462"},{"Typeface name":"Wingdings 2","Dingbat dec":"109","Dingbat hex":"6D","Unicode dec":"9315","Unicode hex":"2463"},{"Typeface name":"Wingdings 2","Dingbat dec":"110","Dingbat hex":"6E","Unicode dec":"9316","Unicode hex":"2464"},{"Typeface name":"Wingdings 2","Dingbat dec":"111","Dingbat hex":"6F","Unicode dec":"9317","Unicode hex":"2465"},{"Typeface name":"Wingdings 2","Dingbat dec":"112","Dingbat hex":"70","Unicode dec":"9318","Unicode hex":"2466"},{"Typeface name":"Wingdings 2","Dingbat dec":"113","Dingbat hex":"71","Unicode dec":"9319","Unicode hex":"2467"},{"Typeface name":"Wingdings 2","Dingbat dec":"114","Dingbat hex":"72","Unicode dec":"9320","Unicode hex":"2468"},{"Typeface name":"Wingdings 2","Dingbat dec":"115","Dingbat hex":"73","Unicode dec":"9321","Unicode hex":"2469"},{"Typeface name":"Wingdings 2","Dingbat dec":"116","Dingbat hex":"74","Unicode dec":"9471","Unicode hex":"24FF"},{"Typeface name":"Wingdings 2","Dingbat dec":"117","Dingbat hex":"75","Unicode dec":"10102","Unicode hex":"2776"},{"Typeface name":"Wingdings 2","Dingbat dec":"118","Dingbat hex":"76","Unicode dec":"10103","Unicode hex":"2777"},{"Typeface name":"Wingdings 2","Dingbat dec":"119","Dingbat hex":"77","Unicode dec":"10104","Unicode hex":"2778"},{"Typeface name":"Wingdings 2","Dingbat dec":"120","Dingbat hex":"78","Unicode dec":"10105","Unicode hex":"2779"},{"Typeface name":"Wingdings 2","Dingbat dec":"121","Dingbat hex":"79","Unicode dec":"10106","Unicode hex":"277A"},{"Typeface name":"Wingdings 2","Dingbat dec":"122","Dingbat hex":"7A","Unicode dec":"10107","Unicode hex":"277B"},{"Typeface name":"Wingdings 2","Dingbat dec":"123","Dingbat hex":"7B","Unicode dec":"10108","Unicode hex":"277C"},{"Typeface name":"Wingdings 2","Dingbat dec":"124","Dingbat hex":"7C","Unicode dec":"10109","Unicode hex":"277D"},{"Typeface name":"Wingdings 2","Dingbat dec":"125","Dingbat hex":"7D","Unicode dec":"10110","Unicode hex":"277E"},{"Typeface name":"Wingdings 2","Dingbat dec":"126","Dingbat hex":"7E","Unicode dec":"10111","Unicode hex":"277F"},{"Typeface name":"Wingdings 2","Dingbat dec":"128","Dingbat hex":"80","Unicode dec":"9737","Unicode hex":"2609"},{"Typeface name":"Wingdings 2","Dingbat dec":"129","Dingbat hex":"81","Unicode dec":"127765","Unicode hex":"1F315"},{"Typeface name":"Wingdings 2","Dingbat dec":"130","Dingbat hex":"82","Unicode dec":"9789","Unicode hex":"263D"},{"Typeface name":"Wingdings 2","Dingbat dec":"131","Dingbat hex":"83","Unicode dec":"9790","Unicode hex":"263E"},{"Typeface name":"Wingdings 2","Dingbat dec":"132","Dingbat hex":"84","Unicode dec":"11839","Unicode hex":"2E3F"},{"Typeface name":"Wingdings 2","Dingbat dec":"133","Dingbat hex":"85","Unicode dec":"10013","Unicode hex":"271D"},{"Typeface name":"Wingdings 2","Dingbat dec":"134","Dingbat hex":"86","Unicode dec":"128327","Unicode hex":"1F547"},{"Typeface name":"Wingdings 2","Dingbat dec":"135","Dingbat hex":"87","Unicode dec":"128348","Unicode hex":"1F55C"},{"Typeface name":"Wingdings 2","Dingbat dec":"136","Dingbat hex":"88","Unicode dec":"128349","Unicode hex":"1F55D"},{"Typeface name":"Wingdings 2","Dingbat dec":"137","Dingbat hex":"89","Unicode dec":"128350","Unicode hex":"1F55E"},{"Typeface name":"Wingdings 2","Dingbat dec":"138","Dingbat hex":"8A","Unicode dec":"128351","Unicode hex":"1F55F"},{"Typeface name":"Wingdings 2","Dingbat dec":"139","Dingbat hex":"8B","Unicode dec":"128352","Unicode hex":"1F560"},{"Typeface name":"Wingdings 2","Dingbat dec":"140","Dingbat hex":"8C","Unicode dec":"128353","Unicode hex":"1F561"},{"Typeface name":"Wingdings 2","Dingbat dec":"141","Dingbat hex":"8D","Unicode dec":"128354","Unicode hex":"1F562"},{"Typeface name":"Wingdings 2","Dingbat dec":"142","Dingbat hex":"8E","Unicode dec":"128355","Unicode hex":"1F563"},{"Typeface name":"Wingdings 2","Dingbat dec":"143","Dingbat hex":"8F","Unicode dec":"128356","Unicode hex":"1F564"},{"Typeface name":"Wingdings 2","Dingbat dec":"144","Dingbat hex":"90","Unicode dec":"128357","Unicode hex":"1F565"},{"Typeface name":"Wingdings 2","Dingbat dec":"145","Dingbat hex":"91","Unicode dec":"128358","Unicode hex":"1F566"},{"Typeface name":"Wingdings 2","Dingbat dec":"146","Dingbat hex":"92","Unicode dec":"128359","Unicode hex":"1F567"},{"Typeface name":"Wingdings 2","Dingbat dec":"147","Dingbat hex":"93","Unicode dec":"128616","Unicode hex":"1F668"},{"Typeface name":"Wingdings 2","Dingbat dec":"148","Dingbat hex":"94","Unicode dec":"128617","Unicode hex":"1F669"},{"Typeface name":"Wingdings 2","Dingbat dec":"149","Dingbat hex":"95","Unicode dec":"8901","Unicode hex":"22C5"},{"Typeface name":"Wingdings 2","Dingbat dec":"150","Dingbat hex":"96","Unicode dec":"128900","Unicode hex":"1F784"},{"Typeface name":"Wingdings 2","Dingbat dec":"151","Dingbat hex":"97","Unicode dec":"10625","Unicode hex":"2981"},{"Typeface name":"Wingdings 2","Dingbat dec":"152","Dingbat hex":"98","Unicode dec":"9679","Unicode hex":"25CF"},{"Typeface name":"Wingdings 2","Dingbat dec":"153","Dingbat hex":"99","Unicode dec":"9675","Unicode hex":"25CB"},{"Typeface name":"Wingdings 2","Dingbat dec":"154","Dingbat hex":"9A","Unicode dec":"128901","Unicode hex":"1F785"},{"Typeface name":"Wingdings 2","Dingbat dec":"155","Dingbat hex":"9B","Unicode dec":"128903","Unicode hex":"1F787"},{"Typeface name":"Wingdings 2","Dingbat dec":"156","Dingbat hex":"9C","Unicode dec":"128905","Unicode hex":"1F789"},{"Typeface name":"Wingdings 2","Dingbat dec":"157","Dingbat hex":"9D","Unicode dec":"8857","Unicode hex":"2299"},{"Typeface name":"Wingdings 2","Dingbat dec":"158","Dingbat hex":"9E","Unicode dec":"10687","Unicode hex":"29BF"},{"Typeface name":"Wingdings 2","Dingbat dec":"159","Dingbat hex":"9F","Unicode dec":"128908","Unicode hex":"1F78C"},{"Typeface name":"Wingdings 2","Dingbat dec":"160","Dingbat hex":"A0","Unicode dec":"128909","Unicode hex":"1F78D"},{"Typeface name":"Wingdings 2","Dingbat dec":"161","Dingbat hex":"A1","Unicode dec":"9726","Unicode hex":"25FE"},{"Typeface name":"Wingdings 2","Dingbat dec":"162","Dingbat hex":"A2","Unicode dec":"9632","Unicode hex":"25A0"},{"Typeface name":"Wingdings 2","Dingbat dec":"163","Dingbat hex":"A3","Unicode dec":"9633","Unicode hex":"25A1"},{"Typeface name":"Wingdings 2","Dingbat dec":"164","Dingbat hex":"A4","Unicode dec":"128913","Unicode hex":"1F791"},{"Typeface name":"Wingdings 2","Dingbat dec":"165","Dingbat hex":"A5","Unicode dec":"128914","Unicode hex":"1F792"},{"Typeface name":"Wingdings 2","Dingbat dec":"166","Dingbat hex":"A6","Unicode dec":"128915","Unicode hex":"1F793"},{"Typeface name":"Wingdings 2","Dingbat dec":"167","Dingbat hex":"A7","Unicode dec":"128916","Unicode hex":"1F794"},{"Typeface name":"Wingdings 2","Dingbat dec":"168","Dingbat hex":"A8","Unicode dec":"9635","Unicode hex":"25A3"},{"Typeface name":"Wingdings 2","Dingbat dec":"169","Dingbat hex":"A9","Unicode dec":"128917","Unicode hex":"1F795"},{"Typeface name":"Wingdings 2","Dingbat dec":"170","Dingbat hex":"AA","Unicode dec":"128918","Unicode hex":"1F796"},{"Typeface name":"Wingdings 2","Dingbat dec":"171","Dingbat hex":"AB","Unicode dec":"128919","Unicode hex":"1F797"},{"Typeface name":"Wingdings 2","Dingbat dec":"172","Dingbat hex":"AC","Unicode dec":"128920","Unicode hex":"1F798"},{"Typeface name":"Wingdings 2","Dingbat dec":"173","Dingbat hex":"AD","Unicode dec":"11049","Unicode hex":"2B29"},{"Typeface name":"Wingdings 2","Dingbat dec":"174","Dingbat hex":"AE","Unicode dec":"11045","Unicode hex":"2B25"},{"Typeface name":"Wingdings 2","Dingbat dec":"175","Dingbat hex":"AF","Unicode dec":"9671","Unicode hex":"25C7"},{"Typeface name":"Wingdings 2","Dingbat dec":"176","Dingbat hex":"B0","Unicode dec":"128922","Unicode hex":"1F79A"},{"Typeface name":"Wingdings 2","Dingbat dec":"177","Dingbat hex":"B1","Unicode dec":"9672","Unicode hex":"25C8"},{"Typeface name":"Wingdings 2","Dingbat dec":"178","Dingbat hex":"B2","Unicode dec":"128923","Unicode hex":"1F79B"},{"Typeface name":"Wingdings 2","Dingbat dec":"179","Dingbat hex":"B3","Unicode dec":"128924","Unicode hex":"1F79C"},{"Typeface name":"Wingdings 2","Dingbat dec":"180","Dingbat hex":"B4","Unicode dec":"128925","Unicode hex":"1F79D"},{"Typeface name":"Wingdings 2","Dingbat dec":"181","Dingbat hex":"B5","Unicode dec":"128926","Unicode hex":"1F79E"},{"Typeface name":"Wingdings 2","Dingbat dec":"182","Dingbat hex":"B6","Unicode dec":"11050","Unicode hex":"2B2A"},{"Typeface name":"Wingdings 2","Dingbat dec":"183","Dingbat hex":"B7","Unicode dec":"11047","Unicode hex":"2B27"},{"Typeface name":"Wingdings 2","Dingbat dec":"184","Dingbat hex":"B8","Unicode dec":"9674","Unicode hex":"25CA"},{"Typeface name":"Wingdings 2","Dingbat dec":"185","Dingbat hex":"B9","Unicode dec":"128928","Unicode hex":"1F7A0"},{"Typeface name":"Wingdings 2","Dingbat dec":"186","Dingbat hex":"BA","Unicode dec":"9686","Unicode hex":"25D6"},{"Typeface name":"Wingdings 2","Dingbat dec":"187","Dingbat hex":"BB","Unicode dec":"9687","Unicode hex":"25D7"},{"Typeface name":"Wingdings 2","Dingbat dec":"188","Dingbat hex":"BC","Unicode dec":"11210","Unicode hex":"2BCA"},{"Typeface name":"Wingdings 2","Dingbat dec":"189","Dingbat hex":"BD","Unicode dec":"11211","Unicode hex":"2BCB"},{"Typeface name":"Wingdings 2","Dingbat dec":"190","Dingbat hex":"BE","Unicode dec":"11200","Unicode hex":"2BC0"},{"Typeface name":"Wingdings 2","Dingbat dec":"191","Dingbat hex":"BF","Unicode dec":"11201","Unicode hex":"2BC1"},{"Typeface name":"Wingdings 2","Dingbat dec":"192","Dingbat hex":"C0","Unicode dec":"11039","Unicode hex":"2B1F"},{"Typeface name":"Wingdings 2","Dingbat dec":"193","Dingbat hex":"C1","Unicode dec":"11202","Unicode hex":"2BC2"},{"Typeface name":"Wingdings 2","Dingbat dec":"194","Dingbat hex":"C2","Unicode dec":"11043","Unicode hex":"2B23"},{"Typeface name":"Wingdings 2","Dingbat dec":"195","Dingbat hex":"C3","Unicode dec":"11042","Unicode hex":"2B22"},{"Typeface name":"Wingdings 2","Dingbat dec":"196","Dingbat hex":"C4","Unicode dec":"11203","Unicode hex":"2BC3"},{"Typeface name":"Wingdings 2","Dingbat dec":"197","Dingbat hex":"C5","Unicode dec":"11204","Unicode hex":"2BC4"},{"Typeface name":"Wingdings 2","Dingbat dec":"198","Dingbat hex":"C6","Unicode dec":"128929","Unicode hex":"1F7A1"},{"Typeface name":"Wingdings 2","Dingbat dec":"199","Dingbat hex":"C7","Unicode dec":"128930","Unicode hex":"1F7A2"},{"Typeface name":"Wingdings 2","Dingbat dec":"200","Dingbat hex":"C8","Unicode dec":"128931","Unicode hex":"1F7A3"},{"Typeface name":"Wingdings 2","Dingbat dec":"201","Dingbat hex":"C9","Unicode dec":"128932","Unicode hex":"1F7A4"},{"Typeface name":"Wingdings 2","Dingbat dec":"202","Dingbat hex":"CA","Unicode dec":"128933","Unicode hex":"1F7A5"},{"Typeface name":"Wingdings 2","Dingbat dec":"203","Dingbat hex":"CB","Unicode dec":"128934","Unicode hex":"1F7A6"},{"Typeface name":"Wingdings 2","Dingbat dec":"204","Dingbat hex":"CC","Unicode dec":"128935","Unicode hex":"1F7A7"},{"Typeface name":"Wingdings 2","Dingbat dec":"205","Dingbat hex":"CD","Unicode dec":"128936","Unicode hex":"1F7A8"},{"Typeface name":"Wingdings 2","Dingbat dec":"206","Dingbat hex":"CE","Unicode dec":"128937","Unicode hex":"1F7A9"},{"Typeface name":"Wingdings 2","Dingbat dec":"207","Dingbat hex":"CF","Unicode dec":"128938","Unicode hex":"1F7AA"},{"Typeface name":"Wingdings 2","Dingbat dec":"208","Dingbat hex":"D0","Unicode dec":"128939","Unicode hex":"1F7AB"},{"Typeface name":"Wingdings 2","Dingbat dec":"209","Dingbat hex":"D1","Unicode dec":"128940","Unicode hex":"1F7AC"},{"Typeface name":"Wingdings 2","Dingbat dec":"210","Dingbat hex":"D2","Unicode dec":"128941","Unicode hex":"1F7AD"},{"Typeface name":"Wingdings 2","Dingbat dec":"211","Dingbat hex":"D3","Unicode dec":"128942","Unicode hex":"1F7AE"},{"Typeface name":"Wingdings 2","Dingbat dec":"212","Dingbat hex":"D4","Unicode dec":"128943","Unicode hex":"1F7AF"},{"Typeface name":"Wingdings 2","Dingbat dec":"213","Dingbat hex":"D5","Unicode dec":"128944","Unicode hex":"1F7B0"},{"Typeface name":"Wingdings 2","Dingbat dec":"214","Dingbat hex":"D6","Unicode dec":"128945","Unicode hex":"1F7B1"},{"Typeface name":"Wingdings 2","Dingbat dec":"215","Dingbat hex":"D7","Unicode dec":"128946","Unicode hex":"1F7B2"},{"Typeface name":"Wingdings 2","Dingbat dec":"216","Dingbat hex":"D8","Unicode dec":"128947","Unicode hex":"1F7B3"},{"Typeface name":"Wingdings 2","Dingbat dec":"217","Dingbat hex":"D9","Unicode dec":"128948","Unicode hex":"1F7B4"},{"Typeface name":"Wingdings 2","Dingbat dec":"218","Dingbat hex":"DA","Unicode dec":"128949","Unicode hex":"1F7B5"},{"Typeface name":"Wingdings 2","Dingbat dec":"219","Dingbat hex":"DB","Unicode dec":"128950","Unicode hex":"1F7B6"},{"Typeface name":"Wingdings 2","Dingbat dec":"220","Dingbat hex":"DC","Unicode dec":"128951","Unicode hex":"1F7B7"},{"Typeface name":"Wingdings 2","Dingbat dec":"221","Dingbat hex":"DD","Unicode dec":"128952","Unicode hex":"1F7B8"},{"Typeface name":"Wingdings 2","Dingbat dec":"222","Dingbat hex":"DE","Unicode dec":"128953","Unicode hex":"1F7B9"},{"Typeface name":"Wingdings 2","Dingbat dec":"223","Dingbat hex":"DF","Unicode dec":"128954","Unicode hex":"1F7BA"},{"Typeface name":"Wingdings 2","Dingbat dec":"224","Dingbat hex":"E0","Unicode dec":"128955","Unicode hex":"1F7BB"},{"Typeface name":"Wingdings 2","Dingbat dec":"225","Dingbat hex":"E1","Unicode dec":"128956","Unicode hex":"1F7BC"},{"Typeface name":"Wingdings 2","Dingbat dec":"226","Dingbat hex":"E2","Unicode dec":"128957","Unicode hex":"1F7BD"},{"Typeface name":"Wingdings 2","Dingbat dec":"227","Dingbat hex":"E3","Unicode dec":"128958","Unicode hex":"1F7BE"},{"Typeface name":"Wingdings 2","Dingbat dec":"228","Dingbat hex":"E4","Unicode dec":"128959","Unicode hex":"1F7BF"},{"Typeface name":"Wingdings 2","Dingbat dec":"229","Dingbat hex":"E5","Unicode dec":"128960","Unicode hex":"1F7C0"},{"Typeface name":"Wingdings 2","Dingbat dec":"230","Dingbat hex":"E6","Unicode dec":"128962","Unicode hex":"1F7C2"},{"Typeface name":"Wingdings 2","Dingbat dec":"231","Dingbat hex":"E7","Unicode dec":"128964","Unicode hex":"1F7C4"},{"Typeface name":"Wingdings 2","Dingbat dec":"232","Dingbat hex":"E8","Unicode dec":"128966","Unicode hex":"1F7C6"},{"Typeface name":"Wingdings 2","Dingbat dec":"233","Dingbat hex":"E9","Unicode dec":"128969","Unicode hex":"1F7C9"},{"Typeface name":"Wingdings 2","Dingbat dec":"234","Dingbat hex":"EA","Unicode dec":"128970","Unicode hex":"1F7CA"},{"Typeface name":"Wingdings 2","Dingbat dec":"235","Dingbat hex":"EB","Unicode dec":"10038","Unicode hex":"2736"},{"Typeface name":"Wingdings 2","Dingbat dec":"236","Dingbat hex":"EC","Unicode dec":"128972","Unicode hex":"1F7CC"},{"Typeface name":"Wingdings 2","Dingbat dec":"237","Dingbat hex":"ED","Unicode dec":"128974","Unicode hex":"1F7CE"},{"Typeface name":"Wingdings 2","Dingbat dec":"238","Dingbat hex":"EE","Unicode dec":"128976","Unicode hex":"1F7D0"},{"Typeface name":"Wingdings 2","Dingbat dec":"239","Dingbat hex":"EF","Unicode dec":"128978","Unicode hex":"1F7D2"},{"Typeface name":"Wingdings 2","Dingbat dec":"240","Dingbat hex":"F0","Unicode dec":"10041","Unicode hex":"2739"},{"Typeface name":"Wingdings 2","Dingbat dec":"241","Dingbat hex":"F1","Unicode dec":"128963","Unicode hex":"1F7C3"},{"Typeface name":"Wingdings 2","Dingbat dec":"242","Dingbat hex":"F2","Unicode dec":"128967","Unicode hex":"1F7C7"},{"Typeface name":"Wingdings 2","Dingbat dec":"243","Dingbat hex":"F3","Unicode dec":"10031","Unicode hex":"272F"},{"Typeface name":"Wingdings 2","Dingbat dec":"244","Dingbat hex":"F4","Unicode dec":"128973","Unicode hex":"1F7CD"},{"Typeface name":"Wingdings 2","Dingbat dec":"245","Dingbat hex":"F5","Unicode dec":"128980","Unicode hex":"1F7D4"},{"Typeface name":"Wingdings 2","Dingbat dec":"246","Dingbat hex":"F6","Unicode dec":"11212","Unicode hex":"2BCC"},{"Typeface name":"Wingdings 2","Dingbat dec":"247","Dingbat hex":"F7","Unicode dec":"11213","Unicode hex":"2BCD"},{"Typeface name":"Wingdings 2","Dingbat dec":"248","Dingbat hex":"F8","Unicode dec":"8251","Unicode hex":"203B"},{"Typeface name":"Wingdings 2","Dingbat dec":"249","Dingbat hex":"F9","Unicode dec":"8258","Unicode hex":"2042"},{"Typeface name":"Wingdings 3","Dingbat dec":"32","Dingbat hex":"20","Unicode dec":"32","Unicode hex":"20"},{"Typeface name":"Wingdings 3","Dingbat dec":"33","Dingbat hex":"21","Unicode dec":"11104","Unicode hex":"2B60"},{"Typeface name":"Wingdings 3","Dingbat dec":"34","Dingbat hex":"22","Unicode dec":"11106","Unicode hex":"2B62"},{"Typeface name":"Wingdings 3","Dingbat dec":"35","Dingbat hex":"23","Unicode dec":"11105","Unicode hex":"2B61"},{"Typeface name":"Wingdings 3","Dingbat dec":"36","Dingbat hex":"24","Unicode dec":"11107","Unicode hex":"2B63"},{"Typeface name":"Wingdings 3","Dingbat dec":"37","Dingbat hex":"25","Unicode dec":"11110","Unicode hex":"2B66"},{"Typeface name":"Wingdings 3","Dingbat dec":"38","Dingbat hex":"26","Unicode dec":"11111","Unicode hex":"2B67"},{"Typeface name":"Wingdings 3","Dingbat dec":"39","Dingbat hex":"27","Unicode dec":"11113","Unicode hex":"2B69"},{"Typeface name":"Wingdings 3","Dingbat dec":"40","Dingbat hex":"28","Unicode dec":"11112","Unicode hex":"2B68"},{"Typeface name":"Wingdings 3","Dingbat dec":"41","Dingbat hex":"29","Unicode dec":"11120","Unicode hex":"2B70"},{"Typeface name":"Wingdings 3","Dingbat dec":"42","Dingbat hex":"2A","Unicode dec":"11122","Unicode hex":"2B72"},{"Typeface name":"Wingdings 3","Dingbat dec":"43","Dingbat hex":"2B","Unicode dec":"11121","Unicode hex":"2B71"},{"Typeface name":"Wingdings 3","Dingbat dec":"44","Dingbat hex":"2C","Unicode dec":"11123","Unicode hex":"2B73"},{"Typeface name":"Wingdings 3","Dingbat dec":"45","Dingbat hex":"2D","Unicode dec":"11126","Unicode hex":"2B76"},{"Typeface name":"Wingdings 3","Dingbat dec":"46","Dingbat hex":"2E","Unicode dec":"11128","Unicode hex":"2B78"},{"Typeface name":"Wingdings 3","Dingbat dec":"47","Dingbat hex":"2F","Unicode dec":"11131","Unicode hex":"2B7B"},{"Typeface name":"Wingdings 3","Dingbat dec":"48","Dingbat hex":"30","Unicode dec":"11133","Unicode hex":"2B7D"},{"Typeface name":"Wingdings 3","Dingbat dec":"49","Dingbat hex":"31","Unicode dec":"11108","Unicode hex":"2B64"},{"Typeface name":"Wingdings 3","Dingbat dec":"50","Dingbat hex":"32","Unicode dec":"11109","Unicode hex":"2B65"},{"Typeface name":"Wingdings 3","Dingbat dec":"51","Dingbat hex":"33","Unicode dec":"11114","Unicode hex":"2B6A"},{"Typeface name":"Wingdings 3","Dingbat dec":"52","Dingbat hex":"34","Unicode dec":"11116","Unicode hex":"2B6C"},{"Typeface name":"Wingdings 3","Dingbat dec":"53","Dingbat hex":"35","Unicode dec":"11115","Unicode hex":"2B6B"},{"Typeface name":"Wingdings 3","Dingbat dec":"54","Dingbat hex":"36","Unicode dec":"11117","Unicode hex":"2B6D"},{"Typeface name":"Wingdings 3","Dingbat dec":"55","Dingbat hex":"37","Unicode dec":"11085","Unicode hex":"2B4D"},{"Typeface name":"Wingdings 3","Dingbat dec":"56","Dingbat hex":"38","Unicode dec":"11168","Unicode hex":"2BA0"},{"Typeface name":"Wingdings 3","Dingbat dec":"57","Dingbat hex":"39","Unicode dec":"11169","Unicode hex":"2BA1"},{"Typeface name":"Wingdings 3","Dingbat dec":"58","Dingbat hex":"3A","Unicode dec":"11170","Unicode hex":"2BA2"},{"Typeface name":"Wingdings 3","Dingbat dec":"59","Dingbat hex":"3B","Unicode dec":"11171","Unicode hex":"2BA3"},{"Typeface name":"Wingdings 3","Dingbat dec":"60","Dingbat hex":"3C","Unicode dec":"11172","Unicode hex":"2BA4"},{"Typeface name":"Wingdings 3","Dingbat dec":"61","Dingbat hex":"3D","Unicode dec":"11173","Unicode hex":"2BA5"},{"Typeface name":"Wingdings 3","Dingbat dec":"62","Dingbat hex":"3E","Unicode dec":"11174","Unicode hex":"2BA6"},{"Typeface name":"Wingdings 3","Dingbat dec":"63","Dingbat hex":"3F","Unicode dec":"11175","Unicode hex":"2BA7"},{"Typeface name":"Wingdings 3","Dingbat dec":"64","Dingbat hex":"40","Unicode dec":"11152","Unicode hex":"2B90"},{"Typeface name":"Wingdings 3","Dingbat dec":"65","Dingbat hex":"41","Unicode dec":"11153","Unicode hex":"2B91"},{"Typeface name":"Wingdings 3","Dingbat dec":"66","Dingbat hex":"42","Unicode dec":"11154","Unicode hex":"2B92"},{"Typeface name":"Wingdings 3","Dingbat dec":"67","Dingbat hex":"43","Unicode dec":"11155","Unicode hex":"2B93"},{"Typeface name":"Wingdings 3","Dingbat dec":"68","Dingbat hex":"44","Unicode dec":"11136","Unicode hex":"2B80"},{"Typeface name":"Wingdings 3","Dingbat dec":"69","Dingbat hex":"45","Unicode dec":"11139","Unicode hex":"2B83"},{"Typeface name":"Wingdings 3","Dingbat dec":"70","Dingbat hex":"46","Unicode dec":"11134","Unicode hex":"2B7E"},{"Typeface name":"Wingdings 3","Dingbat dec":"71","Dingbat hex":"47","Unicode dec":"11135","Unicode hex":"2B7F"},{"Typeface name":"Wingdings 3","Dingbat dec":"72","Dingbat hex":"48","Unicode dec":"11140","Unicode hex":"2B84"},{"Typeface name":"Wingdings 3","Dingbat dec":"73","Dingbat hex":"49","Unicode dec":"11142","Unicode hex":"2B86"},{"Typeface name":"Wingdings 3","Dingbat dec":"74","Dingbat hex":"4A","Unicode dec":"11141","Unicode hex":"2B85"},{"Typeface name":"Wingdings 3","Dingbat dec":"75","Dingbat hex":"4B","Unicode dec":"11143","Unicode hex":"2B87"},{"Typeface name":"Wingdings 3","Dingbat dec":"76","Dingbat hex":"4C","Unicode dec":"11151","Unicode hex":"2B8F"},{"Typeface name":"Wingdings 3","Dingbat dec":"77","Dingbat hex":"4D","Unicode dec":"11149","Unicode hex":"2B8D"},{"Typeface name":"Wingdings 3","Dingbat dec":"78","Dingbat hex":"4E","Unicode dec":"11150","Unicode hex":"2B8E"},{"Typeface name":"Wingdings 3","Dingbat dec":"79","Dingbat hex":"4F","Unicode dec":"11148","Unicode hex":"2B8C"},{"Typeface name":"Wingdings 3","Dingbat dec":"80","Dingbat hex":"50","Unicode dec":"11118","Unicode hex":"2B6E"},{"Typeface name":"Wingdings 3","Dingbat dec":"81","Dingbat hex":"51","Unicode dec":"11119","Unicode hex":"2B6F"},{"Typeface name":"Wingdings 3","Dingbat dec":"82","Dingbat hex":"52","Unicode dec":"9099","Unicode hex":"238B"},{"Typeface name":"Wingdings 3","Dingbat dec":"83","Dingbat hex":"53","Unicode dec":"8996","Unicode hex":"2324"},{"Typeface name":"Wingdings 3","Dingbat dec":"84","Dingbat hex":"54","Unicode dec":"8963","Unicode hex":"2303"},{"Typeface name":"Wingdings 3","Dingbat dec":"85","Dingbat hex":"55","Unicode dec":"8997","Unicode hex":"2325"},{"Typeface name":"Wingdings 3","Dingbat dec":"86","Dingbat hex":"56","Unicode dec":"9251","Unicode hex":"2423"},{"Typeface name":"Wingdings 3","Dingbat dec":"87","Dingbat hex":"57","Unicode dec":"9085","Unicode hex":"237D"},{"Typeface name":"Wingdings 3","Dingbat dec":"88","Dingbat hex":"58","Unicode dec":"8682","Unicode hex":"21EA"},{"Typeface name":"Wingdings 3","Dingbat dec":"89","Dingbat hex":"59","Unicode dec":"11192","Unicode hex":"2BB8"},{"Typeface name":"Wingdings 3","Dingbat dec":"90","Dingbat hex":"5A","Unicode dec":"129184","Unicode hex":"1F8A0"},{"Typeface name":"Wingdings 3","Dingbat dec":"91","Dingbat hex":"5B","Unicode dec":"129185","Unicode hex":"1F8A1"},{"Typeface name":"Wingdings 3","Dingbat dec":"92","Dingbat hex":"5C","Unicode dec":"129186","Unicode hex":"1F8A2"},{"Typeface name":"Wingdings 3","Dingbat dec":"93","Dingbat hex":"5D","Unicode dec":"129187","Unicode hex":"1F8A3"},{"Typeface name":"Wingdings 3","Dingbat dec":"94","Dingbat hex":"5E","Unicode dec":"129188","Unicode hex":"1F8A4"},{"Typeface name":"Wingdings 3","Dingbat dec":"95","Dingbat hex":"5F","Unicode dec":"129189","Unicode hex":"1F8A5"},{"Typeface name":"Wingdings 3","Dingbat dec":"96","Dingbat hex":"60","Unicode dec":"129190","Unicode hex":"1F8A6"},{"Typeface name":"Wingdings 3","Dingbat dec":"97","Dingbat hex":"61","Unicode dec":"129191","Unicode hex":"1F8A7"},{"Typeface name":"Wingdings 3","Dingbat dec":"98","Dingbat hex":"62","Unicode dec":"129192","Unicode hex":"1F8A8"},{"Typeface name":"Wingdings 3","Dingbat dec":"99","Dingbat hex":"63","Unicode dec":"129193","Unicode hex":"1F8A9"},{"Typeface name":"Wingdings 3","Dingbat dec":"100","Dingbat hex":"64","Unicode dec":"129194","Unicode hex":"1F8AA"},{"Typeface name":"Wingdings 3","Dingbat dec":"101","Dingbat hex":"65","Unicode dec":"129195","Unicode hex":"1F8AB"},{"Typeface name":"Wingdings 3","Dingbat dec":"102","Dingbat hex":"66","Unicode dec":"129104","Unicode hex":"1F850"},{"Typeface name":"Wingdings 3","Dingbat dec":"103","Dingbat hex":"67","Unicode dec":"129106","Unicode hex":"1F852"},{"Typeface name":"Wingdings 3","Dingbat dec":"104","Dingbat hex":"68","Unicode dec":"129105","Unicode hex":"1F851"},{"Typeface name":"Wingdings 3","Dingbat dec":"105","Dingbat hex":"69","Unicode dec":"129107","Unicode hex":"1F853"},{"Typeface name":"Wingdings 3","Dingbat dec":"106","Dingbat hex":"6A","Unicode dec":"129108","Unicode hex":"1F854"},{"Typeface name":"Wingdings 3","Dingbat dec":"107","Dingbat hex":"6B","Unicode dec":"129109","Unicode hex":"1F855"},{"Typeface name":"Wingdings 3","Dingbat dec":"108","Dingbat hex":"6C","Unicode dec":"129111","Unicode hex":"1F857"},{"Typeface name":"Wingdings 3","Dingbat dec":"109","Dingbat hex":"6D","Unicode dec":"129110","Unicode hex":"1F856"},{"Typeface name":"Wingdings 3","Dingbat dec":"110","Dingbat hex":"6E","Unicode dec":"129112","Unicode hex":"1F858"},{"Typeface name":"Wingdings 3","Dingbat dec":"111","Dingbat hex":"6F","Unicode dec":"129113","Unicode hex":"1F859"},{"Typeface name":"Wingdings 3","Dingbat dec":"112","Dingbat hex":"70","Unicode dec":"9650","Unicode hex":"25B2"},{"Typeface name":"Wingdings 3","Dingbat dec":"113","Dingbat hex":"71","Unicode dec":"9660","Unicode hex":"25BC"},{"Typeface name":"Wingdings 3","Dingbat dec":"114","Dingbat hex":"72","Unicode dec":"9651","Unicode hex":"25B3"},{"Typeface name":"Wingdings 3","Dingbat dec":"115","Dingbat hex":"73","Unicode dec":"9661","Unicode hex":"25BD"},{"Typeface name":"Wingdings 3","Dingbat dec":"116","Dingbat hex":"74","Unicode dec":"9664","Unicode hex":"25C0"},{"Typeface name":"Wingdings 3","Dingbat dec":"117","Dingbat hex":"75","Unicode dec":"9654","Unicode hex":"25B6"},{"Typeface name":"Wingdings 3","Dingbat dec":"118","Dingbat hex":"76","Unicode dec":"9665","Unicode hex":"25C1"},{"Typeface name":"Wingdings 3","Dingbat dec":"119","Dingbat hex":"77","Unicode dec":"9655","Unicode hex":"25B7"},{"Typeface name":"Wingdings 3","Dingbat dec":"120","Dingbat hex":"78","Unicode dec":"9699","Unicode hex":"25E3"},{"Typeface name":"Wingdings 3","Dingbat dec":"121","Dingbat hex":"79","Unicode dec":"9698","Unicode hex":"25E2"},{"Typeface name":"Wingdings 3","Dingbat dec":"122","Dingbat hex":"7A","Unicode dec":"9700","Unicode hex":"25E4"},{"Typeface name":"Wingdings 3","Dingbat dec":"123","Dingbat hex":"7B","Unicode dec":"9701","Unicode hex":"25E5"},{"Typeface name":"Wingdings 3","Dingbat dec":"124","Dingbat hex":"7C","Unicode dec":"128896","Unicode hex":"1F780"},{"Typeface name":"Wingdings 3","Dingbat dec":"125","Dingbat hex":"7D","Unicode dec":"128898","Unicode hex":"1F782"},{"Typeface name":"Wingdings 3","Dingbat dec":"126","Dingbat hex":"7E","Unicode dec":"128897","Unicode hex":"1F781"},{"Typeface name":"Wingdings 3","Dingbat dec":"128","Dingbat hex":"80","Unicode dec":"128899","Unicode hex":"1F783"},{"Typeface name":"Wingdings 3","Dingbat dec":"129","Dingbat hex":"81","Unicode dec":"11205","Unicode hex":"2BC5"},{"Typeface name":"Wingdings 3","Dingbat dec":"130","Dingbat hex":"82","Unicode dec":"11206","Unicode hex":"2BC6"},{"Typeface name":"Wingdings 3","Dingbat dec":"131","Dingbat hex":"83","Unicode dec":"11207","Unicode hex":"2BC7"},{"Typeface name":"Wingdings 3","Dingbat dec":"132","Dingbat hex":"84","Unicode dec":"11208","Unicode hex":"2BC8"},{"Typeface name":"Wingdings 3","Dingbat dec":"133","Dingbat hex":"85","Unicode dec":"11164","Unicode hex":"2B9C"},{"Typeface name":"Wingdings 3","Dingbat dec":"134","Dingbat hex":"86","Unicode dec":"11166","Unicode hex":"2B9E"},{"Typeface name":"Wingdings 3","Dingbat dec":"135","Dingbat hex":"87","Unicode dec":"11165","Unicode hex":"2B9D"},{"Typeface name":"Wingdings 3","Dingbat dec":"136","Dingbat hex":"88","Unicode dec":"11167","Unicode hex":"2B9F"},{"Typeface name":"Wingdings 3","Dingbat dec":"137","Dingbat hex":"89","Unicode dec":"129040","Unicode hex":"1F810"},{"Typeface name":"Wingdings 3","Dingbat dec":"138","Dingbat hex":"8A","Unicode dec":"129042","Unicode hex":"1F812"},{"Typeface name":"Wingdings 3","Dingbat dec":"139","Dingbat hex":"8B","Unicode dec":"129041","Unicode hex":"1F811"},{"Typeface name":"Wingdings 3","Dingbat dec":"140","Dingbat hex":"8C","Unicode dec":"129043","Unicode hex":"1F813"},{"Typeface name":"Wingdings 3","Dingbat dec":"141","Dingbat hex":"8D","Unicode dec":"129044","Unicode hex":"1F814"},{"Typeface name":"Wingdings 3","Dingbat dec":"142","Dingbat hex":"8E","Unicode dec":"129046","Unicode hex":"1F816"},{"Typeface name":"Wingdings 3","Dingbat dec":"143","Dingbat hex":"8F","Unicode dec":"129045","Unicode hex":"1F815"},{"Typeface name":"Wingdings 3","Dingbat dec":"144","Dingbat hex":"90","Unicode dec":"129047","Unicode hex":"1F817"},{"Typeface name":"Wingdings 3","Dingbat dec":"145","Dingbat hex":"91","Unicode dec":"129048","Unicode hex":"1F818"},{"Typeface name":"Wingdings 3","Dingbat dec":"146","Dingbat hex":"92","Unicode dec":"129050","Unicode hex":"1F81A"},{"Typeface name":"Wingdings 3","Dingbat dec":"147","Dingbat hex":"93","Unicode dec":"129049","Unicode hex":"1F819"},{"Typeface name":"Wingdings 3","Dingbat dec":"148","Dingbat hex":"94","Unicode dec":"129051","Unicode hex":"1F81B"},{"Typeface name":"Wingdings 3","Dingbat dec":"149","Dingbat hex":"95","Unicode dec":"129052","Unicode hex":"1F81C"},{"Typeface name":"Wingdings 3","Dingbat dec":"150","Dingbat hex":"96","Unicode dec":"129054","Unicode hex":"1F81E"},{"Typeface name":"Wingdings 3","Dingbat dec":"151","Dingbat hex":"97","Unicode dec":"129053","Unicode hex":"1F81D"},{"Typeface name":"Wingdings 3","Dingbat dec":"152","Dingbat hex":"98","Unicode dec":"129055","Unicode hex":"1F81F"},{"Typeface name":"Wingdings 3","Dingbat dec":"153","Dingbat hex":"99","Unicode dec":"129024","Unicode hex":"1F800"},{"Typeface name":"Wingdings 3","Dingbat dec":"154","Dingbat hex":"9A","Unicode dec":"129026","Unicode hex":"1F802"},{"Typeface name":"Wingdings 3","Dingbat dec":"155","Dingbat hex":"9B","Unicode dec":"129025","Unicode hex":"1F801"},{"Typeface name":"Wingdings 3","Dingbat dec":"156","Dingbat hex":"9C","Unicode dec":"129027","Unicode hex":"1F803"},{"Typeface name":"Wingdings 3","Dingbat dec":"157","Dingbat hex":"9D","Unicode dec":"129028","Unicode hex":"1F804"},{"Typeface name":"Wingdings 3","Dingbat dec":"158","Dingbat hex":"9E","Unicode dec":"129030","Unicode hex":"1F806"},{"Typeface name":"Wingdings 3","Dingbat dec":"159","Dingbat hex":"9F","Unicode dec":"129029","Unicode hex":"1F805"},{"Typeface name":"Wingdings 3","Dingbat dec":"160","Dingbat hex":"A0","Unicode dec":"129031","Unicode hex":"1F807"},{"Typeface name":"Wingdings 3","Dingbat dec":"161","Dingbat hex":"A1","Unicode dec":"129032","Unicode hex":"1F808"},{"Typeface name":"Wingdings 3","Dingbat dec":"162","Dingbat hex":"A2","Unicode dec":"129034","Unicode hex":"1F80A"},{"Typeface name":"Wingdings 3","Dingbat dec":"163","Dingbat hex":"A3","Unicode dec":"129033","Unicode hex":"1F809"},{"Typeface name":"Wingdings 3","Dingbat dec":"164","Dingbat hex":"A4","Unicode dec":"129035","Unicode hex":"1F80B"},{"Typeface name":"Wingdings 3","Dingbat dec":"165","Dingbat hex":"A5","Unicode dec":"129056","Unicode hex":"1F820"},{"Typeface name":"Wingdings 3","Dingbat dec":"166","Dingbat hex":"A6","Unicode dec":"129058","Unicode hex":"1F822"},{"Typeface name":"Wingdings 3","Dingbat dec":"167","Dingbat hex":"A7","Unicode dec":"129060","Unicode hex":"1F824"},{"Typeface name":"Wingdings 3","Dingbat dec":"168","Dingbat hex":"A8","Unicode dec":"129062","Unicode hex":"1F826"},{"Typeface name":"Wingdings 3","Dingbat dec":"169","Dingbat hex":"A9","Unicode dec":"129064","Unicode hex":"1F828"},{"Typeface name":"Wingdings 3","Dingbat dec":"170","Dingbat hex":"AA","Unicode dec":"129066","Unicode hex":"1F82A"},{"Typeface name":"Wingdings 3","Dingbat dec":"171","Dingbat hex":"AB","Unicode dec":"129068","Unicode hex":"1F82C"},{"Typeface name":"Wingdings 3","Dingbat dec":"172","Dingbat hex":"AC","Unicode dec":"129180","Unicode hex":"1F89C"},{"Typeface name":"Wingdings 3","Dingbat dec":"173","Dingbat hex":"AD","Unicode dec":"129181","Unicode hex":"1F89D"},{"Typeface name":"Wingdings 3","Dingbat dec":"174","Dingbat hex":"AE","Unicode dec":"129182","Unicode hex":"1F89E"},{"Typeface name":"Wingdings 3","Dingbat dec":"175","Dingbat hex":"AF","Unicode dec":"129183","Unicode hex":"1F89F"},{"Typeface name":"Wingdings 3","Dingbat dec":"176","Dingbat hex":"B0","Unicode dec":"129070","Unicode hex":"1F82E"},{"Typeface name":"Wingdings 3","Dingbat dec":"177","Dingbat hex":"B1","Unicode dec":"129072","Unicode hex":"1F830"},{"Typeface name":"Wingdings 3","Dingbat dec":"178","Dingbat hex":"B2","Unicode dec":"129074","Unicode hex":"1F832"},{"Typeface name":"Wingdings 3","Dingbat dec":"179","Dingbat hex":"B3","Unicode dec":"129076","Unicode hex":"1F834"},{"Typeface name":"Wingdings 3","Dingbat dec":"180","Dingbat hex":"B4","Unicode dec":"129078","Unicode hex":"1F836"},{"Typeface name":"Wingdings 3","Dingbat dec":"181","Dingbat hex":"B5","Unicode dec":"129080","Unicode hex":"1F838"},{"Typeface name":"Wingdings 3","Dingbat dec":"182","Dingbat hex":"B6","Unicode dec":"129082","Unicode hex":"1F83A"},{"Typeface name":"Wingdings 3","Dingbat dec":"183","Dingbat hex":"B7","Unicode dec":"129081","Unicode hex":"1F839"},{"Typeface name":"Wingdings 3","Dingbat dec":"184","Dingbat hex":"B8","Unicode dec":"129083","Unicode hex":"1F83B"},{"Typeface name":"Wingdings 3","Dingbat dec":"185","Dingbat hex":"B9","Unicode dec":"129176","Unicode hex":"1F898"},{"Typeface name":"Wingdings 3","Dingbat dec":"186","Dingbat hex":"BA","Unicode dec":"129178","Unicode hex":"1F89A"},{"Typeface name":"Wingdings 3","Dingbat dec":"187","Dingbat hex":"BB","Unicode dec":"129177","Unicode hex":"1F899"},{"Typeface name":"Wingdings 3","Dingbat dec":"188","Dingbat hex":"BC","Unicode dec":"129179","Unicode hex":"1F89B"},{"Typeface name":"Wingdings 3","Dingbat dec":"189","Dingbat hex":"BD","Unicode dec":"129084","Unicode hex":"1F83C"},{"Typeface name":"Wingdings 3","Dingbat dec":"190","Dingbat hex":"BE","Unicode dec":"129086","Unicode hex":"1F83E"},{"Typeface name":"Wingdings 3","Dingbat dec":"191","Dingbat hex":"BF","Unicode dec":"129085","Unicode hex":"1F83D"},{"Typeface name":"Wingdings 3","Dingbat dec":"192","Dingbat hex":"C0","Unicode dec":"129087","Unicode hex":"1F83F"},{"Typeface name":"Wingdings 3","Dingbat dec":"193","Dingbat hex":"C1","Unicode dec":"129088","Unicode hex":"1F840"},{"Typeface name":"Wingdings 3","Dingbat dec":"194","Dingbat hex":"C2","Unicode dec":"129090","Unicode hex":"1F842"},{"Typeface name":"Wingdings 3","Dingbat dec":"195","Dingbat hex":"C3","Unicode dec":"129089","Unicode hex":"1F841"},{"Typeface name":"Wingdings 3","Dingbat dec":"196","Dingbat hex":"C4","Unicode dec":"129091","Unicode hex":"1F843"},{"Typeface name":"Wingdings 3","Dingbat dec":"197","Dingbat hex":"C5","Unicode dec":"129092","Unicode hex":"1F844"},{"Typeface name":"Wingdings 3","Dingbat dec":"198","Dingbat hex":"C6","Unicode dec":"129094","Unicode hex":"1F846"},{"Typeface name":"Wingdings 3","Dingbat dec":"199","Dingbat hex":"C7","Unicode dec":"129093","Unicode hex":"1F845"},{"Typeface name":"Wingdings 3","Dingbat dec":"200","Dingbat hex":"C8","Unicode dec":"129095","Unicode hex":"1F847"},{"Typeface name":"Wingdings 3","Dingbat dec":"201","Dingbat hex":"C9","Unicode dec":"11176","Unicode hex":"2BA8"},{"Typeface name":"Wingdings 3","Dingbat dec":"202","Dingbat hex":"CA","Unicode dec":"11177","Unicode hex":"2BA9"},{"Typeface name":"Wingdings 3","Dingbat dec":"203","Dingbat hex":"CB","Unicode dec":"11178","Unicode hex":"2BAA"},{"Typeface name":"Wingdings 3","Dingbat dec":"204","Dingbat hex":"CC","Unicode dec":"11179","Unicode hex":"2BAB"},{"Typeface name":"Wingdings 3","Dingbat dec":"205","Dingbat hex":"CD","Unicode dec":"11180","Unicode hex":"2BAC"},{"Typeface name":"Wingdings 3","Dingbat dec":"206","Dingbat hex":"CE","Unicode dec":"11181","Unicode hex":"2BAD"},{"Typeface name":"Wingdings 3","Dingbat dec":"207","Dingbat hex":"CF","Unicode dec":"11182","Unicode hex":"2BAE"},{"Typeface name":"Wingdings 3","Dingbat dec":"208","Dingbat hex":"D0","Unicode dec":"11183","Unicode hex":"2BAF"},{"Typeface name":"Wingdings 3","Dingbat dec":"209","Dingbat hex":"D1","Unicode dec":"129120","Unicode hex":"1F860"},{"Typeface name":"Wingdings 3","Dingbat dec":"210","Dingbat hex":"D2","Unicode dec":"129122","Unicode hex":"1F862"},{"Typeface name":"Wingdings 3","Dingbat dec":"211","Dingbat hex":"D3","Unicode dec":"129121","Unicode hex":"1F861"},{"Typeface name":"Wingdings 3","Dingbat dec":"212","Dingbat hex":"D4","Unicode dec":"129123","Unicode hex":"1F863"},{"Typeface name":"Wingdings 3","Dingbat dec":"213","Dingbat hex":"D5","Unicode dec":"129124","Unicode hex":"1F864"},{"Typeface name":"Wingdings 3","Dingbat dec":"214","Dingbat hex":"D6","Unicode dec":"129125","Unicode hex":"1F865"},{"Typeface name":"Wingdings 3","Dingbat dec":"215","Dingbat hex":"D7","Unicode dec":"129127","Unicode hex":"1F867"},{"Typeface name":"Wingdings 3","Dingbat dec":"216","Dingbat hex":"D8","Unicode dec":"129126","Unicode hex":"1F866"},{"Typeface name":"Wingdings 3","Dingbat dec":"217","Dingbat hex":"D9","Unicode dec":"129136","Unicode hex":"1F870"},{"Typeface name":"Wingdings 3","Dingbat dec":"218","Dingbat hex":"DA","Unicode dec":"129138","Unicode hex":"1F872"},{"Typeface name":"Wingdings 3","Dingbat dec":"219","Dingbat hex":"DB","Unicode dec":"129137","Unicode hex":"1F871"},{"Typeface name":"Wingdings 3","Dingbat dec":"220","Dingbat hex":"DC","Unicode dec":"129139","Unicode hex":"1F873"},{"Typeface name":"Wingdings 3","Dingbat dec":"221","Dingbat hex":"DD","Unicode dec":"129140","Unicode hex":"1F874"},{"Typeface name":"Wingdings 3","Dingbat dec":"222","Dingbat hex":"DE","Unicode dec":"129141","Unicode hex":"1F875"},{"Typeface name":"Wingdings 3","Dingbat dec":"223","Dingbat hex":"DF","Unicode dec":"129143","Unicode hex":"1F877"},{"Typeface name":"Wingdings 3","Dingbat dec":"224","Dingbat hex":"E0","Unicode dec":"129142","Unicode hex":"1F876"},{"Typeface name":"Wingdings 3","Dingbat dec":"225","Dingbat hex":"E1","Unicode dec":"129152","Unicode hex":"1F880"},{"Typeface name":"Wingdings 3","Dingbat dec":"226","Dingbat hex":"E2","Unicode dec":"129154","Unicode hex":"1F882"},{"Typeface name":"Wingdings 3","Dingbat dec":"227","Dingbat hex":"E3","Unicode dec":"129153","Unicode hex":"1F881"},{"Typeface name":"Wingdings 3","Dingbat dec":"228","Dingbat hex":"E4","Unicode dec":"129155","Unicode hex":"1F883"},{"Typeface name":"Wingdings 3","Dingbat dec":"229","Dingbat hex":"E5","Unicode dec":"129156","Unicode hex":"1F884"},{"Typeface name":"Wingdings 3","Dingbat dec":"230","Dingbat hex":"E6","Unicode dec":"129157","Unicode hex":"1F885"},{"Typeface name":"Wingdings 3","Dingbat dec":"231","Dingbat hex":"E7","Unicode dec":"129159","Unicode hex":"1F887"},{"Typeface name":"Wingdings 3","Dingbat dec":"232","Dingbat hex":"E8","Unicode dec":"129158","Unicode hex":"1F886"},{"Typeface name":"Wingdings 3","Dingbat dec":"233","Dingbat hex":"E9","Unicode dec":"129168","Unicode hex":"1F890"},{"Typeface name":"Wingdings 3","Dingbat dec":"234","Dingbat hex":"EA","Unicode dec":"129170","Unicode hex":"1F892"},{"Typeface name":"Wingdings 3","Dingbat dec":"235","Dingbat hex":"EB","Unicode dec":"129169","Unicode hex":"1F891"},{"Typeface name":"Wingdings 3","Dingbat dec":"236","Dingbat hex":"EC","Unicode dec":"129171","Unicode hex":"1F893"},{"Typeface name":"Wingdings 3","Dingbat dec":"237","Dingbat hex":"ED","Unicode dec":"129172","Unicode hex":"1F894"},{"Typeface name":"Wingdings 3","Dingbat dec":"238","Dingbat hex":"EE","Unicode dec":"129174","Unicode hex":"1F896"},{"Typeface name":"Wingdings 3","Dingbat dec":"239","Dingbat hex":"EF","Unicode dec":"129173","Unicode hex":"1F895"},{"Typeface name":"Wingdings 3","Dingbat dec":"240","Dingbat hex":"F0","Unicode dec":"129175","Unicode hex":"1F897"}];return t4.default=t,t4}var vY;function wFe(){if(vY)return Ed;vY=1;var t=Ed&&Ed.__importDefault||function(A){return A&&A.__esModule?A:{default:A}};Object.defineProperty(Ed,"__esModule",{value:!0}),Ed.hex=Ed.dec=Ed.codePoint=void 0;for(var e=t(bFe()),n={},r=String.fromCodePoint?String.fromCodePoint:f,s=0,a=e.default;s<a.length;s++){var o=a[s],l=parseInt(o["Unicode dec"],10),c={codePoint:l,string:r(l)};n[o["Typeface name"].toUpperCase()+"_"+o["Dingbat dec"]]=c}function u(A,v){return n[A.toUpperCase()+"_"+v]}Ed.codePoint=u;function d(A,v){return u(A,parseInt(v,10))}Ed.dec=d;function h(A,v){return u(A,parseInt(v,16))}Ed.hex=h;function f(A){if(A<=65535)return String.fromCharCode(A);var v=Math.floor((A-65536)/1024)+55296,p=(A-65536)%1024+56320;return String.fromCharCode(v,p)}return Ed}var n4={},yY;function jFe(){if(yY)return n4;yY=1,n4.uriToZipEntryName=t,n4.replaceFragment=e;function t(n,r){return r.charAt(0)==="/"?r.substr(1):n+"/"+r}function e(n,r){var s=n.indexOf("#");return s!==-1&&(n=n.substring(0,s)),n+"#"+r}return n4}var bY;function NFe(){if(bY)return e4;bY=1,e4.createBodyReader=l,e4._readNumberingProperties=u;var t=wFe(),e=zs,n=Py(),r=Cp().Result,s=Cp().warning,a=v$(),o=jFe();function l(j){return{readXmlElement:function(N){return new c(j).readXmlElement(N)},readXmlElements:function(N){return new c(j).readXmlElements(N)}}}function c(j){var N=[],_=[],C=[],k=j.relationships,T=j.contentTypes,O=j.docxFile,I=j.files,F=j.numbering,M=j.styles;function S(Ue){var ct=Ue.map(q);return g(ct)}function q(Ue){if(Ue.type==="element"){var ct=re[Ue.name];if(ct)return ct(Ue);if(!Object.prototype.hasOwnProperty.call(h,Ue.name)){var ht=s("An unrecognised element was ignored: "+Ue.name);return f([ht])}}return A()}function U(Ue){return W(Ue).map(function(ct){return{type:"paragraphProperties",styleId:ct.styleId,styleName:ct.name,alignment:Ue.firstOrEmpty("w:jc").attributes["w:val"],numbering:u(ct.styleId,Ue.firstOrEmpty("w:numPr"),F),indent:L(Ue.firstOrEmpty("w:ind"))}})}function L(Ue){return{start:Ue.attributes["w:start"]||Ue.attributes["w:left"],end:Ue.attributes["w:end"]||Ue.attributes["w:right"],firstLine:Ue.attributes["w:firstLine"],hanging:Ue.attributes["w:hanging"]}}function z(Ue){return Y(Ue).map(function(ct){var ht=Ue.firstOrEmpty("w:sz").attributes["w:val"],kt=/^[0-9]+$/.test(ht)?parseInt(ht,10)/2:null;return{type:"runProperties",styleId:ct.styleId,styleName:ct.name,verticalAlignment:Ue.firstOrEmpty("w:vertAlign").attributes["w:val"],font:Ue.firstOrEmpty("w:rFonts").attributes["w:ascii"],fontSize:kt,isBold:K(Ue.first("w:b")),isUnderline:$(Ue.first("w:u")),isItalic:K(Ue.first("w:i")),isStrikethrough:K(Ue.first("w:strike")),isAllCaps:K(Ue.first("w:caps")),isSmallCaps:K(Ue.first("w:smallCaps")),highlight:H(Ue.firstOrEmpty("w:highlight").attributes["w:val"])}})}function $(Ue){if(Ue){var ct=Ue.attributes["w:val"];return ct!==void 0&&ct!=="false"&&ct!=="0"&&ct!=="none"}else return!1}function K(Ue){if(Ue){var ct=Ue.attributes["w:val"];return ct!=="false"&&ct!=="0"}else return!1}function V(Ue){return Ue!=="false"&&Ue!=="0"}function H(Ue){return!Ue||Ue==="none"?null:Ue}function W(Ue){return ie(Ue,"w:pStyle","Paragraph",M.findParagraphStyleById)}function Y(Ue){return ie(Ue,"w:rStyle","Run",M.findCharacterStyleById)}function ee(Ue){return ie(Ue,"w:tblStyle","Table",M.findTableStyleById)}function ie(Ue,ct,ht,kt){var Ot=[],Ut=Ue.first(ct),mn=null,fn=null;if(Ut&&(mn=Ut.attributes["w:val"],mn)){var wi=kt(mn);wi?fn=wi.name:Ot.push(jt(ht,mn))}return p({styleId:mn,name:fn},Ot)}function se(Ue){var ct=Ue.attributes["w:fldCharType"];if(ct==="begin")N.push({type:"begin",fldChar:Ue}),_=[];else if(ct==="end"){var ht=N.pop();if(ht.type==="begin"&&(ht=he(ht)),ht.type==="checkbox")return v(n.checkbox({checked:ht.checked}))}else if(ct==="separate"){var kt=N.pop(),Ot=he(kt);N.push(Ot)}return A()}function Ae(){var Ue=e.last(N.filter(function(ct){return ct.type==="hyperlink"}));return Ue?Ue.options:null}function he(Ue){return Be(_.join(""),Ue.type==="begin"?Ue.fldChar:a.emptyElement)}function Be(Ue,ct){var ht=/\s*HYPERLINK "(.*)"/.exec(Ue);if(ht)return{type:"hyperlink",options:{href:ht[1]}};var kt=/\s*HYPERLINK\s+\\l\s+"(.*)"/.exec(Ue);if(kt)return{type:"hyperlink",options:{anchor:kt[1]}};var Ot=/\s*FORMCHECKBOX\s*/.exec(Ue);if(Ot){var Ut=ct.firstOrEmpty("w:ffData").firstOrEmpty("w:checkBox"),mn=Ut.first("w:checked"),fn=mn==null?K(Ut.first("w:default")):K(mn);return{type:"checkbox",checked:fn}}return{type:"unknown"}}function Me(Ue){return _.push(Ue.text()),A()}function Ie(Ue){var ct=Ue.attributes["w:font"],ht=Ue.attributes["w:char"],kt=t.hex(ct,ht);return kt==null&&/^F0..$/.test(ht)&&(kt=t.hex(ct,ht.substring(2))),kt==null?f([s("A w:sym element with an unsupported character was ignored: char "+ht+" in font "+ct)]):v(new n.Text(kt.string))}function Ye(Ue){return function(ct){var ht=ct.attributes["w:id"];return v(new n.NoteReference({noteType:Ue,noteId:ht}))}}function X(Ue){return v(n.commentReference({commentId:Ue.attributes["w:id"]}))}function ue(Ue){return S(Ue.children)}var re={"w:p":function(Ue){var ct=Ue.firstOrEmpty("w:pPr"),ht=!!ct.firstOrEmpty("w:rPr").first("w:del");if(ht)return Ue.children.forEach(function(Ot){C.push(Ot)}),A();var kt=Ue.children;return C.length>0&&(kt=C.concat(kt),C=[]),m.map(U(ct),S(kt),function(Ot,Ut){return new n.Paragraph(Ut,Ot)}).insertExtra()},"w:r":function(Ue){return m.map(z(Ue.firstOrEmpty("w:rPr")),S(Ue.children),function(ct,ht){var kt=Ae();return kt!==null&&(ht=[new n.Hyperlink(ht,kt)]),new n.Run(ht,ct)})},"w:fldChar":se,"w:instrText":Me,"w:t":function(Ue){return v(new n.Text(Ue.text()))},"w:tab":function(Ue){return v(new n.Tab)},"w:noBreakHyphen":function(){return v(new n.Text("‑"))},"w:softHyphen":function(Ue){return v(new n.Text("­"))},"w:sym":Ie,"w:hyperlink":function(Ue){var ct=Ue.attributes["r:id"],ht=Ue.attributes["w:anchor"];return S(Ue.children).map(function(kt){function Ot(mn){var fn=Ue.attributes["w:tgtFrame"]||null;return new n.Hyperlink(kt,e.extend({targetFrame:fn},mn))}if(ct){var Ut=k.findTargetByRelationshipId(ct);return ht&&(Ut=o.replaceFragment(Ut,ht)),Ot({href:Ut})}else return ht?Ot({anchor:ht}):kt})},"w:tbl":de,"w:tr":Ne,"w:tc":$e,"w:footnoteReference":Ye("footnote"),"w:endnoteReference":Ye("endnote"),"w:commentReference":X,"w:br":function(Ue){var ct=Ue.attributes["w:type"];return ct==null||ct==="textWrapping"?v(n.lineBreak):ct==="page"?v(n.pageBreak):ct==="column"?v(n.columnBreak):f([s("Unsupported break type: "+ct)])},"w:bookmarkStart":function(Ue){var ct=Ue.attributes["w:name"];return ct==="_GoBack"?A():v(new n.BookmarkStart({name:ct}))},"mc:AlternateContent":function(Ue){return ue(Ue.firstOrEmpty("mc:Fallback"))},"w:sdt":function(Ue){var ct=Ue.firstOrEmpty("w:sdtPr").first("wordml:checkbox");if(ct){var ht=ct.first("wordml:checked"),kt=!!ht&&V(ht.attributes["wordml:val"]);return v(n.checkbox({checked:kt}))}else return S(Ue.firstOrEmpty("w:sdtContent").children)},"w:ins":ue,"w:object":ue,"w:smartTag":ue,"w:drawing":ue,"w:pict":function(Ue){return ue(Ue).toExtra()},"v:roundrect":ue,"v:shape":ue,"v:textbox":ue,"w:txbxContent":ue,"wp:inline":De,"wp:anchor":De,"v:imagedata":ut,"v:group":ue,"v:rect":ue};return{readXmlElement:q,readXmlElements:S};function de(Ue){var ct=ce(Ue.firstOrEmpty("w:tblPr"));return S(Ue.children).flatMap(Fe).flatMap(function(ht){return ct.map(function(kt){return n.Table(ht,kt)})})}function ce(Ue){return ee(Ue).map(function(ct){return{styleId:ct.styleId,styleName:ct.name}})}function Ne(Ue){var ct=Ue.firstOrEmpty("w:trPr"),ht=!!ct.first("w:tblHeader");return S(Ue.children).map(function(kt){return n.TableRow(kt,{isHeader:ht})})}function $e(Ue){return S(Ue.children).map(function(ct){var ht=Ue.firstOrEmpty("w:tcPr"),kt=ht.firstOrEmpty("w:gridSpan").attributes["w:val"],Ot=kt?parseInt(kt,10):1,Ut=n.TableCell(ct,{colSpan:Ot});return Ut._vMerge=ze(ht),Ut})}function ze(Ue){var ct=Ue.first("w:vMerge");if(ct){var ht=ct.attributes["w:val"];return ht==="continue"||!ht}else return null}function Fe(Ue){var ct=e.any(Ue,function(Ot){return Ot.type!==n.types.tableRow});if(ct)return p(Ue,[s("unexpected non-row element in table, cell merging may be incorrect")]);var ht=e.any(Ue,function(Ot){return e.any(Ot.children,function(Ut){return Ut.type!==n.types.tableCell})});if(ht)return p(Ue,[s("unexpected non-cell element in table row, cell merging may be incorrect")]);var kt={};return Ue.forEach(function(Ot){var Ut=0;Ot.children.forEach(function(mn){mn._vMerge&&kt[Ut]?kt[Ut].rowSpan++:(kt[Ut]=mn,mn._vMerge=!1),Ut+=mn.colSpan})}),Ue.forEach(function(Ot){Ot.children=Ot.children.filter(function(Ut){return!Ut._vMerge}),Ot.children.forEach(function(Ut){delete Ut._vMerge})}),v(Ue)}function De(Ue){var ct=Ue.getElementsByTagName("a:graphic").getElementsByTagName("a:graphicData").getElementsByTagName("pic:pic").getElementsByTagName("pic:blipFill").getElementsByTagName("a:blip");return g(ct.map(Ce.bind(null,Ue)))}function Ce(Ue,ct){var ht=Ue.first("wp:docPr").attributes,kt=Oe(ht.descr)?ht.title:ht.descr,Ot=We(ct);return Ot===null?f([s("Could not find image file for a:blip element")]):Nt(Ot,kt)}function Oe(Ue){return Ue==null||/^\s*$/.test(Ue)}function We(Ue){var ct=Ue.attributes["r:embed"],ht=Ue.attributes["r:link"];if(ct)return yt(ct);if(ht){var kt=k.findTargetByRelationshipId(ht);return{path:kt,read:I.read.bind(I,kt)}}else return null}function ut(Ue){var ct=Ue.attributes["r:id"];return ct?Nt(yt(ct),Ue.attributes["o:title"]):f([s("A v:imagedata element without a relationship ID was ignored")])}function yt(Ue){var ct=o.uriToZipEntryName("word",k.findTargetByRelationshipId(Ue));return{path:ct,read:O.read.bind(O,ct)}}function Nt(Ue,ct){var ht=T.findContentType(Ue.path),kt=n.Image({readImage:Ue.read,altText:ct,contentType:ht}),Ot=d[ht]?[]:s("Image of type "+ht+" is unlikely to display in web browsers");return p(kt,Ot)}function jt(Ue,ct){return s(Ue+" style with ID "+ct+" was referenced but not defined in the document")}}function u(j,N,_){var C=N.firstOrEmpty("w:ilvl").attributes["w:val"],k=N.firstOrEmpty("w:numId").attributes["w:val"];if(C!==void 0&&k!==void 0)return _.findLevel(k,C);if(j!=null){var T=_.findLevelByParagraphStyleId(j);if(T!=null)return T}return null}var d={"image/png":!0,"image/gif":!0,"image/jpeg":!0,"image/svg+xml":!0,"image/tiff":!0},h={"office-word:wrap":!0,"v:shadow":!0,"v:shapetype":!0,"w:annotationRef":!0,"w:bookmarkEnd":!0,"w:sectPr":!0,"w:proofErr":!0,"w:lastRenderedPageBreak":!0,"w:commentRangeStart":!0,"w:commentRangeEnd":!0,"w:del":!0,"w:footnoteRef":!0,"w:endnoteRef":!0,"w:pPr":!0,"w:rPr":!0,"w:tblPr":!0,"w:tblGrid":!0,"w:trPr":!0,"w:tcPr":!0};function f(j){return new m(null,null,j)}function A(){return new m(null)}function v(j){return new m(j)}function p(j,N){return new m(j,null,N)}function m(j,N,_){this.value=j||[],this.extra=N||[],this._result=new r({element:this.value,extra:N},_),this.messages=this._result.messages}m.prototype.toExtra=function(){return new m(null,x(this.extra,this.value),this.messages)},m.prototype.insertExtra=function(){var j=this.extra;return j&&j.length?new m(x(this.value,j),null,this.messages):this},m.prototype.map=function(j){var N=this._result.map(function(_){return j(_.element)});return new m(N.value,this.extra,N.messages)},m.prototype.flatMap=function(j){var N=this._result.flatMap(function(_){return j(_.element)._result});return new m(N.value.element,x(this.extra,N.value.extra),N.messages)},m.map=function(j,N,_){return new m(_(j.value,N.value),x(j.extra,N.extra),j.messages.concat(N.messages))};function g(j){var N=r.combine(e.pluck(j,"_result"));return new m(e.flatten(e.pluck(N.value,"element")),e.filter(e.flatten(e.pluck(N.value,"extra")),b),N.messages)}function x(j,N){return e.flatten([j,N])}function b(j){return j}return e4}var EU={},wY;function _Fe(){if(wY)return EU;wY=1,EU.DocumentXmlReader=n;var t=Py(),e=Cp().Result;function n(r){var s=r.bodyReader;function a(o){var l=o.first("w:body");if(l==null)throw new Error("Could not find the body element: are you sure this is a docx file?");var c=s.readXmlElements(l.children).map(function(u){return new t.Document(u,{notes:r.notes,comments:r.comments})});return new e(c.value,c.messages)}return{convertXmlToDocument:a}}return EU}var $j={},jY;function CFe(){if(jY)return $j;jY=1,$j.readRelationships=t,$j.defaultValue=new e([]),$j.Relationships=e;function t(n){var r=[];return n.children.forEach(function(s){if(s.name==="relationships:Relationship"){var a={relationshipId:s.attributes.Id,target:s.attributes.Target,type:s.attributes.Type};r.push(a)}}),new e(r)}function e(n){var r={};n.forEach(function(a){r[a.relationshipId]=a.target});var s={};return n.forEach(function(a){s[a.type]||(s[a.type]=[]),s[a.type].push(a.target)}),{findTargetByRelationshipId:function(a){return r[a]},findTargetsByType:function(a){return s[a]||[]}}}return $j}var r4={},NY;function SFe(){if(NY)return r4;NY=1,r4.readContentTypesFromXml=e;var t={png:"png",gif:"gif",jpeg:"jpeg",jpg:"jpeg",tif:"tiff",tiff:"tiff",bmp:"bmp"};r4.defaultContentTypes=n({},{});function e(r){var s={},a={};return r.children.forEach(function(o){if(o.name==="content-types:Default"&&(s[o.attributes.Extension]=o.attributes.ContentType),o.name==="content-types:Override"){var l=o.attributes.PartName;l.charAt(0)==="/"&&(l=l.substring(1)),a[l]=o.attributes.ContentType}}),n(a,s)}function n(r,s){return{findContentType:function(a){var o=r[a];if(o)return o;var l=a.split("."),c=l[l.length-1];if(s.hasOwnProperty(c))return s[c];var u=t[c.toLowerCase()];return u?"image/"+u:null}}}return r4}var Wj={},_Y;function EFe(){if(_Y)return Wj;_Y=1;var t=zs;Wj.readNumberingXml=n,Wj.Numbering=e,Wj.defaultNumbering=new e({},{});function e(o,l,c){var u=t.flatten(t.values(l).map(function(A){return t.values(A.levels)})),d=t.indexBy(u.filter(function(A){return A.paragraphStyleId!=null}),"paragraphStyleId");function h(A,v){var p=o[A];if(p){var m=l[p.abstractNumId];if(m){if(m.numStyleLink==null)return l[p.abstractNumId].levels[v];var g=c.findNumberingStyleById(m.numStyleLink);return h(g.numId,v)}else return null}else return null}function f(A){return d[A]||null}return{findLevel:h,findLevelByParagraphStyleId:f}}function n(o,l){if(!l||!l.styles)throw new Error("styles is missing");var c=r(o),u=a(o);return new e(u,c,l.styles)}function r(o){var l={};return o.getElementsByTagName("w:abstractNum").forEach(function(c){var u=c.attributes["w:abstractNumId"];l[u]=s(c)}),l}function s(o){var l={};o.getElementsByTagName("w:lvl").forEach(function(u){var d=u.attributes["w:ilvl"],h=u.firstOrEmpty("w:numFmt").attributes["w:val"],f=u.firstOrEmpty("w:pStyle").attributes["w:val"];l[d]={isOrdered:h!=="bullet",level:d,paragraphStyleId:f}});var c=o.firstOrEmpty("w:numStyleLink").attributes["w:val"];return{levels:l,numStyleLink:c}}function a(o){var l={};return o.getElementsByTagName("w:num").forEach(function(c){var u=c.attributes["w:numId"],d=c.first("w:abstractNumId").attributes["w:val"];l[u]={abstractNumId:d}}),l}return Wj}var qj={},CY;function BFe(){if(CY)return qj;CY=1,qj.readStylesXml=e,qj.Styles=t,qj.defaultStyles=new t({},{});function t(a,o,l,c){return{findParagraphStyleById:function(u){return a[u]},findCharacterStyleById:function(u){return o[u]},findTableStyleById:function(u){return l[u]},findNumberingStyleById:function(u){return c[u]}}}t.EMPTY=new t({},{},{},{});function e(a){var o={},l={},c={},u={},d={paragraph:o,character:l,table:c};return a.getElementsByTagName("w:style").forEach(function(h){var f=n(h);if(f.type==="numbering")u[f.styleId]=s(h);else{var A=d[f.type];A&&(A[f.styleId]=f)}}),new t(o,l,c,u)}function n(a){var o=a.attributes["w:type"],l=a.attributes["w:styleId"],c=r(a);return{type:o,styleId:l,name:c}}function r(a){var o=a.first("w:name");return o?o.attributes["w:val"]:null}function s(a){var o=a.firstOrEmpty("w:pPr").firstOrEmpty("w:numPr").firstOrEmpty("w:numId").attributes["w:val"];return{numId:o}}return qj}var wb={},SY;function DFe(){if(SY)return wb;SY=1;var t=Py(),e=Cp().Result;wb.createFootnotesReader=n.bind(wb,"footnote"),wb.createEndnotesReader=n.bind(wb,"endnote");function n(r,s){function a(c){return e.combine(c.getElementsByTagName("w:"+r).filter(o).map(l))}function o(c){var u=c.attributes["w:type"];return u!=="continuationSeparator"&&u!=="separator"}function l(c){var u=c.attributes["w:id"];return s.readXmlElements(c.children).map(function(d){return t.Note({noteType:r,noteId:u,body:d})})}return a}return wb}var BU={},EY;function TFe(){if(EY)return BU;EY=1;var t=Py(),e=Cp().Result;function n(r){function s(o){return e.combine(o.getElementsByTagName("w:comment").map(a))}function a(o){var l=o.attributes["w:id"];function c(u){return(o.attributes[u]||"").trim()||null}return r.readXmlElements(o.children).map(function(u){return t.comment({commentId:l,body:u,authorName:c("w:author"),authorInitials:c("w:initials")})})}return s}return BU.createCommentsReader=n,BU}var DU={},BY;function kFe(){if(BY)return DU;BY=1;var t=mx();DU.Files=e;function e(){function n(r){return t.reject(new Error("could not open external image: '"+r+`'
cannot open linked files from a web browser`))}return{read:n}}return DU}var DY;function FFe(){if(DY)return VE;DY=1,VE.read=v,VE._findPartPaths=p;var t=mx(),e=Py(),n=Cp().Result,r=ppe(),s=yFe().readXmlFromZipFile,a=NFe().createBodyReader,o=_Fe().DocumentXmlReader,l=CFe(),c=SFe(),u=EFe(),d=BFe(),h=DFe(),f=TFe(),A=kFe().Files;function v(T,O){return O=O||{},t.props({contentTypes:N(T),partPaths:p(T),docxFile:T,files:O.path?A.relativeToFile(O.path):new A(null)}).also(function(I){return{styles:C(T,I.partPaths.styles)}}).also(function(I){return{numbering:_(T,I.partPaths.numbering,I.styles)}}).also(function(I){return{footnotes:b(I.partPaths.footnotes,I,function(F,M){return M?h.createFootnotesReader(F)(M):new n([])}),endnotes:b(I.partPaths.endnotes,I,function(F,M){return M?h.createEndnotesReader(F)(M):new n([])}),comments:b(I.partPaths.comments,I,function(F,M){return M?f.createCommentsReader(F)(M):new n([])})}}).also(function(I){return{notes:I.footnotes.flatMap(function(F){return I.endnotes.map(function(M){return new e.Notes(F.concat(M))})})}}).then(function(I){return b(I.partPaths.mainDocument,I,function(F,M){return I.notes.flatMap(function(S){return I.comments.flatMap(function(q){var U=new o({bodyReader:F,notes:S,comments:q});return U.convertXmlToDocument(M)})})})})}function p(T){return k(T).then(function(O){var I=m({docxFile:T,relationships:O,relationshipType:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",basePath:"",fallbackPath:"word/document.xml"});if(!T.exists(I))throw new Error("Could not find main document part. Are you sure this is a valid .docx file?");return x({filename:j(I),readElement:l.readRelationships,defaultValue:l.defaultValue})(T).then(function(F){function M(S){return m({docxFile:T,relationships:F,relationshipType:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/"+S,basePath:r.splitPath(I).dirname,fallbackPath:"word/"+S+".xml"})}return{mainDocument:I,comments:M("comments"),endnotes:M("endnotes"),footnotes:M("footnotes"),numbering:M("numbering"),styles:M("styles")}})})}function m(T){var O=T.docxFile,I=T.relationships,F=T.relationshipType,M=T.basePath,S=T.fallbackPath,q=I.findTargetsByType(F),U=q.map(function(z){return g(r.joinPath(M,z),"/")}),L=U.filter(function(z){return O.exists(z)});return L.length===0?S:L[0]}function g(T,O){return T.substring(0,O.length)===O?T.substring(O.length):T}function x(T){return function(O){return s(O,T.filename).then(function(I){return I?T.readElement(I):T.defaultValue})}}function b(T,O,I){var F=x({filename:j(T),readElement:l.readRelationships,defaultValue:l.defaultValue});return F(O.docxFile).then(function(M){var S=new a({relationships:M,contentTypes:O.contentTypes,docxFile:O.docxFile,numbering:O.numbering,styles:O.styles,files:O.files});return s(O.docxFile,T).then(function(q){return I(S,q)})})}function j(T){var O=r.splitPath(T);return r.joinPath(O.dirname,"_rels",O.basename+".rels")}var N=x({filename:"[Content_Types].xml",readElement:c.readContentTypesFromXml,defaultValue:c.defaultContentTypes});function _(T,O,I){return x({filename:O,readElement:function(F){return u.readNumberingXml(F,{styles:I})},defaultValue:u.defaultNumbering})(T)}function C(T,O){return x({filename:O,readElement:d.readStylesXml,defaultValue:d.defaultStyles})(T)}var k=x({filename:"_rels/.rels",readElement:l.readRelationships,defaultValue:l.defaultValue});return VE}var i4={},TY;function PFe(){if(TY)return i4;TY=1;var t=zs,e=mx(),n=v$();i4.writeStyleMap=o,i4.readStyleMap=d;var r="http://schemas.zwobble.org/mammoth/style-map",s="mammoth/style-map",a="/"+s;function o(h,f){return h.write(s,f),l(h).then(function(){return c(h)})}function l(h){var f="word/_rels/document.xml.rels",A="http://schemas.openxmlformats.org/package/2006/relationships",v="{"+A+"}Relationship";return h.read(f,"utf8").then(n.readString).then(function(p){var m=p.children;u(m,v,"Id",{Id:"rMammothStyleMap",Type:r,Target:a});var g={"":A};return h.write(f,n.writeString(p,g))})}function c(h){var f="[Content_Types].xml",A="http://schemas.openxmlformats.org/package/2006/content-types",v="{"+A+"}Override";return h.read(f,"utf8").then(n.readString).then(function(p){var m=p.children;u(m,v,"PartName",{PartName:a,ContentType:"text/prs.mammoth.style-map"});var g={"":A};return h.write(f,n.writeString(p,g))})}function u(h,f,A,v){var p=t.find(h,function(m){return m.name===f&&m.attributes[A]===v[A]});p?p.attributes=v:h.push(n.element(f,v))}function d(h){return h.exists(s)?h.read(s,"utf8"):e.resolve(null)}return i4}var s4={},av={},_A={},Qm={},kY;function ype(){if(kY)return Qm;kY=1;var t=Xk();function e(c,u,d){return r(t.element(c,u,{fresh:!1}),d)}function n(c,u,d){var h=t.element(c,u,{fresh:!0});return r(h,d)}function r(c,u){return{type:"element",tag:c,children:u||[]}}function s(c){return{type:"text",value:c}}var a={type:"forceWrite"};Qm.freshElement=n,Qm.nonFreshElement=e,Qm.elementWithTag=r,Qm.text=s,Qm.forceWrite=a;var o={br:!0,hr:!0,img:!0,input:!0};function l(c){return c.children.length===0&&o[c.tag.tagName]}return Qm.isVoidElement=l,Qm}var TU,FY;function UFe(){if(FY)return TU;FY=1;var t=zs,e=ype();function n(p){return r(u(p))}function r(p){var m=[];return p.map(s).forEach(function(g){c(m,g)}),m}function s(p){return a[p.type](p)}var a={element:o,text:l,forceWrite:l};function o(p){return e.elementWithTag(p.tag,r(p.children))}function l(p){return p}function c(p,m){var g=p[p.length-1];m.type==="element"&&!m.tag.fresh&&g&&g.type==="element"&&m.tag.matchesElement(g.tag)?(m.tag.separator&&c(g.children,e.text(m.tag.separator)),m.children.forEach(function(x){c(g.children,x)})):p.push(m)}function u(p){return d(p,function(m){return h[m.type](m)})}function d(p,m){return t.flatten(t.map(p,m),!0)}var h={element:A,text:v,forceWrite:f};function f(p){return[p]}function A(p){var m=u(p.children);return m.length===0&&!e.isVoidElement(p)?[]:[e.elementWithTag(p.tag,m)]}function v(p){return p.value.length===0?[]:[p]}return TU=n,TU}var PY;function Gk(){if(PY)return _A;PY=1;var t=ype();_A.freshElement=t.freshElement,_A.nonFreshElement=t.nonFreshElement,_A.elementWithTag=t.elementWithTag,_A.text=t.text,_A.forceWrite=t.forceWrite,_A.simplify=UFe();function e(o,l){l.forEach(function(c){n(o,c)})}function n(o,l){r[l.type](o,l)}var r={element:s,text:a,forceWrite:function(){}};function s(o,l){t.isVoidElement(l)?o.selfClosing(l.tag.tagName,l.tag.attributes):(o.open(l.tag.tagName,l.tag.attributes),e(o,l.children),o.close(l.tag.tagName))}function a(o,l){o.text(l.value)}return _A.write=e,_A}var UY;function Xk(){if(UY)return av;UY=1;var t=zs,e=Gk();av.topLevelElement=n,av.elements=r,av.element=a;function n(l,c){return r([a(l,c,{fresh:!0})])}function r(l){return new s(l.map(function(c){return t.isString(c)?a(c):c}))}function s(l){this._elements=l}s.prototype.wrap=function(c){for(var u=c(),d=this._elements.length-1;d>=0;d--)u=this._elements[d].wrapNodes(u);return u};function a(l,c,u){return u=u||{},new o(l,c,u)}function o(l,c,u){var d={};t.isArray(l)?(l.forEach(function(h){d[h]=!0}),l=l[0]):d[l]=!0,this.tagName=l,this.tagNames=d,this.attributes=c||{},this.fresh=u.fresh,this.separator=u.separator}return o.prototype.matchesElement=function(l){return this.tagNames[l.tagName]&&t.isEqual(this.attributes||{},l.attributes||{})},o.prototype.wrap=function(c){return this.wrapNodes(c())},o.prototype.wrapNodes=function(c){return[e.elementWithTag(this,c)]},av.empty=r([]),av.ignore={wrap:function(){return[]}},av}var kU={},IY;function bpe(){return IY||(IY=1,function(t){var e=zs,n=mx(),r=Gk();t.imgElement=s;function s(a){return function(o,l){return n.when(a(o)).then(function(c){var u={};return o.altText&&(u.alt=o.altText),e.extend(u,c),[r.freshElement("img",u)]})}}t.inline=t.imgElement,t.dataUri=s(function(a){return a.readAsBase64String().then(function(o){return{src:"data:"+a.contentType+";base64,"+o}})})}(kU)),kU}var FU={},PU={},OY;function IFe(){if(OY)return PU;OY=1;var t=zs;PU.writer=e;function e(l){return l=l||{},l.prettyPrint?r():s()}var n={div:!0,p:!0,ul:!0,li:!0};function r(){var l=0,c="  ",u=[],d=!0,h=!1,f=s();function A(N,_){n[N]&&b(),u.push(N),f.open(N,_),n[N]&&l++,d=!1}function v(N){n[N]&&(l--,b()),u.pop(),f.close(N)}function p(N){x();var _=j()?N:N.replace(`
`,`
`+c);f.text(_)}function m(N,_){b(),f.selfClosing(N,_)}function g(){return u.length===0||n[u[u.length-1]]}function x(){h||(b(),h=!0)}function b(){if(h=!1,!d&&g()&&!j()){f._append(`
`);for(var N=0;N<l;N++)f._append(c)}}function j(){return t.some(u,function(N){return N==="pre"})}return{asString:f.asString,open:A,close:v,text:p,selfClosing:m}}function s(){var l=[];function c(p,m){var g=h(m);l.push("<"+p+g+">")}function u(p){l.push("</"+p+">")}function d(p,m){var g=h(m);l.push("<"+p+g+" />")}function h(p){return t.map(p,function(m,g){return" "+g+'="'+o(m)+'"'}).join("")}function f(p){l.push(a(p))}function A(p){l.push(p)}function v(){return l.join("")}return{asString:v,open:c,close:u,text:f,selfClosing:d,_append:A}}function a(l){return l.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function o(l){return l.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}return PU}var UU={},MY;function OFe(){if(MY)return UU;MY=1;var t=zs;function e(h){return n(h,h)}function n(h,f){return function(){return{start:h,end:f}}}function r(h){var f=h.href||"";return f?{start:"[",end:"]("+f+")",anchorPosition:"before"}:{}}function s(h){var f=h.src||"",A=h.alt||"";return f||A?{start:"!["+A+"]("+f+")"}:{}}function a(h){return function(f,A){return{start:A?`
`:"",end:A?"":`
`,list:{isOrdered:h.isOrdered,indent:A?A.indent+1:0,count:0}}}}function o(h,f,A){f=f||{indent:0,isOrdered:!1,count:0},f.count++,A.hasClosed=!1;var v=f.isOrdered?f.count+".":"-",p=c("	",f.indent)+v+" ";return{start:p,end:function(){if(!A.hasClosed)return A.hasClosed=!0,`
`}}}var l={p:n("",`

`),br:n("",`  
`),ul:a({isOrdered:!1}),ol:a({isOrdered:!0}),li:o,strong:e("__"),em:e("*"),a:r,img:s};(function(){for(var h=1;h<=6;h++)l["h"+h]=n(c("#",h)+" ",`

`)})();function c(h,f){return new Array(f+1).join(h)}function u(){var h=[],f=[],A=null,v={};function p(N,_){_=_||{};var C=l[N]||function(){return{}},k=C(_,A,v);f.push({end:k.end,list:A}),k.list&&(A=k.list);var T=k.anchorPosition==="before";T&&m(_),h.push(k.start||""),T||m(_)}function m(N){N.id&&h.push('<a id="'+N.id+'"></a>')}function g(N){var _=f.pop();A=_.list;var C=t.isFunction(_.end)?_.end():_.end;h.push(C||"")}function x(N,_){p(N,_),g()}function b(N){h.push(d(N))}function j(){return h.join("")}return{asString:j,open:p,close:g,text:b,selfClosing:x}}UU.writer=u;function d(h){return h.replace(/\\/g,"\\\\").replace(/([\`\*_\{\}\[\]\(\)\#\+\-\.\!])/g,"\\$1")}return UU}var LY;function MFe(){if(LY)return FU;LY=1;var t=IFe(),e=OFe();FU.writer=n;function n(r){return r=r||{},r.outputFormat==="markdown"?e.writer():t.writer(r)}return FU}var RY;function LFe(){if(RY)return s4;RY=1;var t=zs,e=mx(),n=Py(),r=Xk(),s=Cp(),a=bpe(),o=Gk(),l=MFe();s4.DocumentConverter=c;function c(m){return{convertToHtml:function(g){var x=t.indexBy(g.type===n.types.document?g.comments:[],"commentId"),b=new u(m,x);return b.convertToHtml(g)}}}function u(m,g){var x=1,b=[],j=[];m=t.extend({ignoreEmptyParagraphs:!0},m);var N=m.idPrefix===void 0?"":m.idPrefix,_=m.ignoreEmptyParagraphs,C=r.topLevelElement("p"),k=m.styleMap||[];function T(X){var ue=[],re=I(X,ue,{}),de=[];v(re,function(Ne){Ne.type==="deferred"&&de.push(Ne)});var ce={};return e.mapSeries(de,function(Ne){return Ne.value().then(function($e){ce[Ne.id]=$e})}).then(function(){function Ne(ze){return A(ze,function(Fe){return Fe.type==="deferred"?ce[Fe.id]:Fe.children?[t.extend({},Fe,{children:Ne(Fe.children)})]:[Fe]})}var $e=l.writer({prettyPrint:m.prettyPrint,outputFormat:m.outputFormat});return o.write($e,o.simplify(Ne(re))),new s.Result($e.asString(),ue)})}function O(X,ue,re){return A(X,function(de){return I(de,ue,re)})}function I(X,ue,re){if(!re)throw new Error("options not set");var de=Ye[X.type];return de?de(X,ue,re):[]}function F(X,ue,re){return M(X,ue).wrap(function(){var de=O(X.children,ue,re);return _?de:[o.forceWrite].concat(de)})}function M(X,ue){var re=L(X);return re?re.to:(X.styleId&&ue.push(f("paragraph",X)),C)}function S(X,ue,re){var de=function(){return O(X.children,ue,re)},ce=[];if(X.highlight!==null){var Ne=U({type:"highlight",color:X.highlight});Ne&&ce.push(Ne)}X.isSmallCaps&&ce.push(q("smallCaps")),X.isAllCaps&&ce.push(q("allCaps")),X.isStrikethrough&&ce.push(q("strikethrough","s")),X.isUnderline&&ce.push(q("underline")),X.verticalAlignment===n.verticalAlignment.subscript&&ce.push(r.element("sub",{},{fresh:!1})),X.verticalAlignment===n.verticalAlignment.superscript&&ce.push(r.element("sup",{},{fresh:!1})),X.isItalic&&ce.push(q("italic","em")),X.isBold&&ce.push(q("bold","strong"));var $e=r.empty,ze=L(X);return ze?$e=ze.to:X.styleId&&ue.push(f("run",X)),ce.push($e),ce.forEach(function(Fe){de=Fe.wrap.bind(Fe,de)}),de()}function q(X,ue){var re=U({type:X});return re||(ue?r.element(ue,{},{fresh:!1}):r.empty)}function U(X,ue){var re=L(X);return re?re.to:ue}function L(X){for(var ue=0;ue<k.length;ue++)if(k[ue].from.matches(X))return k[ue]}function z(X){return function(ue,re){return e.attempt(function(){return X(ue,re)}).caught(function(de){return re.push(s.error(de)),[]})}}function $(X){return V(X.noteType,X.noteId)}function K(X){return H(X.noteType,X.noteId)}function V(X,ue){return W(X+"-"+ue)}function H(X,ue){return W(X+"-ref-"+ue)}function W(X){return N+X}var Y=r.elements([r.element("table",{},{fresh:!0})]);function ee(X,ue,re){return U(X,Y).wrap(function(){return ie(X,ue,re)})}function ie(X,ue,re){var de=t.findIndex(X.children,function(ze){return!ze.type===n.types.tableRow||!ze.isHeader});de===-1&&(de=X.children.length);var ce;if(de===0)ce=O(X.children,ue,t.extend({},re,{isTableHeader:!1}));else{var Ne=O(X.children.slice(0,de),ue,t.extend({},re,{isTableHeader:!0})),$e=O(X.children.slice(de),ue,t.extend({},re,{isTableHeader:!1}));ce=[o.freshElement("thead",{},Ne),o.freshElement("tbody",{},$e)]}return[o.forceWrite].concat(ce)}function se(X,ue,re){var de=O(X.children,ue,re);return[o.freshElement("tr",{},[o.forceWrite].concat(de))]}function Ae(X,ue,re){var de=re.isTableHeader?"th":"td",ce=O(X.children,ue,re),Ne={};return X.colSpan!==1&&(Ne.colspan=X.colSpan.toString()),X.rowSpan!==1&&(Ne.rowspan=X.rowSpan.toString()),[o.freshElement(de,Ne,[o.forceWrite].concat(ce))]}function he(X,ue,re){return U(X,r.ignore).wrap(function(){var de=g[X.commentId],ce=j.length+1,Ne="["+p(de)+ce+"]";return j.push({label:Ne,comment:de}),[o.freshElement("a",{href:"#"+V("comment",X.commentId),id:H("comment",X.commentId)},[o.text(Ne)])]})}function Be(X,ue,re){var de=X.label,ce=X.comment,Ne=O(ce.body,ue,re).concat([o.nonFreshElement("p",{},[o.text(" "),o.freshElement("a",{href:"#"+H("comment",ce.commentId)},[o.text("↑")])])]);return[o.freshElement("dt",{id:V("comment",ce.commentId)},[o.text("Comment "+de)]),o.freshElement("dd",{},Ne)]}function Me(X,ue,re){return Ie(X).wrap(function(){return[]})}function Ie(X){var ue=L(X);return ue?ue.to:X.breakType==="line"?r.topLevelElement("br"):r.empty}var Ye={document:function(X,ue,re){var de=O(X.children,ue,re),ce=b.map(function($e){return X.notes.resolve($e)}),Ne=O(ce,ue,re);return de.concat([o.freshElement("ol",{},Ne),o.freshElement("dl",{},A(j,function($e){return Be($e,ue,re)}))])},paragraph:F,run:S,text:function(X,ue,re){return[o.text(X.value)]},tab:function(X,ue,re){return[o.text("	")]},hyperlink:function(X,ue,re){var de=X.anchor?"#"+W(X.anchor):X.href,ce={href:de};X.targetFrame!=null&&(ce.target=X.targetFrame);var Ne=O(X.children,ue,re);return[o.nonFreshElement("a",ce,Ne)]},checkbox:function(X){var ue={type:"checkbox"};return X.checked&&(ue.checked="checked"),[o.freshElement("input",ue)]},bookmarkStart:function(X,ue,re){var de=o.freshElement("a",{id:W(X.name)},[o.forceWrite]);return[de]},noteReference:function(X,ue,re){b.push(X);var de=o.freshElement("a",{href:"#"+$(X),id:K(X)},[o.text("["+x+++"]")]);return[o.freshElement("sup",{},[de])]},note:function(X,ue,re){var de=O(X.body,ue,re),ce=o.elementWithTag(r.element("p",{},{fresh:!1}),[o.text(" "),o.freshElement("a",{href:"#"+K(X)},[o.text("↑")])]),Ne=de.concat([ce]);return o.freshElement("li",{id:$(X)},Ne)},commentReference:he,comment:Be,image:h(z(m.convertImage||a.dataUri)),table:ee,tableRow:se,tableCell:Ae,break:Me};return{convertToHtml:T}}var d=1;function h(m){return function(g,x,b){return[{type:"deferred",id:d++,value:function(){return m(g,x,b)}}]}}function f(m,g){return s.warning("Unrecognised "+m+" style: '"+g.styleName+"' (Style ID: "+g.styleId+")")}function A(m,g){return t.flatten(m.map(g),!0)}function v(m,g){m.forEach(function(x){g(x),x.children&&v(x.children,g)})}var p=s4.commentAuthorLabel=function(g){return g.authorInitials||""};return s4}var IU={},QY;function RFe(){if(QY)return IU;QY=1;var t=Py();function e(n){if(n.type==="text")return n.value;if(n.type===t.types.tab)return"	";var r=n.type==="paragraph"?`

`:"";return(n.children||[]).map(e).join("")+r}return IU.convertElementToRawText=e,IU}var Vj={},Bd={},OU={},MU={exports:{}},HY;function QFe(){if(HY)return MU.exports;HY=1;var t=MU.exports=function(e,n){this._tokens=e,this._startIndex=n||0};return t.prototype.head=function(){return this._tokens[this._startIndex]},t.prototype.tail=function(e){return new t(this._tokens,this._startIndex+1)},t.prototype.toArray=function(){return this._tokens.slice(this._startIndex)},t.prototype.end=function(){return this._tokens[this._tokens.length-1]},t.prototype.to=function(e){var n=this.head().source,r=e.head()||e.end();return n.to(r.source)},MU.exports}var zY;function HFe(){if(zY)return OU;zY=1;var t=QFe();return OU.Parser=function(e){var n=function(r,s){return r(new t(s))};return{parseTokens:n}},OU}var LU={},RU={},$Y;function zFe(){return $Y||($Y=1,function(t){t.none=Object.create({value:function(){throw new Error("Called value on none")},isNone:function(){return!0},isSome:function(){return!1},map:function(){return t.none},flatMap:function(){return t.none},filter:function(){return t.none},toArray:function(){return[]},orElse:e,valueOrElse:e});function e(r){return typeof r=="function"?r():r}t.some=function(r){return new n(r)};var n=function(r){this._value=r};n.prototype.value=function(){return this._value},n.prototype.isNone=function(){return!1},n.prototype.isSome=function(){return!0},n.prototype.map=function(r){return new n(r(this._value))},n.prototype.flatMap=function(r){return r(this._value)},n.prototype.filter=function(r){return r(this._value)?this:t.none},n.prototype.toArray=function(){return[this._value]},n.prototype.orElse=function(r){return this},n.prototype.valueOrElse=function(r){return this._value},t.isOption=function(r){return r===t.none||r instanceof n},t.fromNullable=function(r){return r==null?t.none:new n(r)}}(RU)),RU}var QU,WY;function y$(){if(WY)return QU;WY=1,QU={failure:function(e,n){if(e.length<1)throw new Error("Failure must have errors");return new t({status:"failure",remaining:n,errors:e})},error:function(e,n){if(e.length<1)throw new Error("Failure must have errors");return new t({status:"error",remaining:n,errors:e})},success:function(e,n,r){return new t({status:"success",value:e,source:r,remaining:n,errors:[]})},cut:function(e){return new t({status:"cut",remaining:e,errors:[]})}};var t=function(e){this._value=e.value,this._status=e.status,this._hasValue=e.value!==void 0,this._remaining=e.remaining,this._source=e.source,this._errors=e.errors};return t.prototype.map=function(e){return this._hasValue?new t({value:e(this._value,this._source),status:this._status,remaining:this._remaining,source:this._source,errors:this._errors}):this},t.prototype.changeRemaining=function(e){return new t({value:this._value,status:this._status,remaining:e,source:this._source,errors:this._errors})},t.prototype.isSuccess=function(){return this._status==="success"||this._status==="cut"},t.prototype.isFailure=function(){return this._status==="failure"},t.prototype.isError=function(){return this._status==="error"},t.prototype.isCut=function(){return this._status==="cut"},t.prototype.value=function(){return this._value},t.prototype.remaining=function(){return this._remaining},t.prototype.source=function(){return this._source},t.prototype.errors=function(){return this._errors},QU}var HU={},qY;function wpe(){if(qY)return HU;qY=1,HU.error=function(e){return new t(e)};var t=function(e){this.expected=e.expected,this.actual=e.actual,this._location=e.location};return t.prototype.describe=function(){var e=this._location?this._location.describe()+`:
`:"";return e+"Expected "+this.expected+`
but got `+this.actual},t.prototype.lineNumber=function(){return this._location.lineNumber()},t.prototype.characterNumber=function(){return this._location.characterNumber()},HU}var zU={},VY;function $Fe(){if(VY)return zU;VY=1,zU.fromArray=function(e){var n=0,r=function(){return n<e.length};return new t({hasNext:r,next:function(){if(r())return e[n++];throw new Error("No more elements")}})};var t=function(e){this._iterator=e};return t.prototype.map=function(e){var n=this._iterator;return new t({hasNext:function(){return n.hasNext()},next:function(){return e(n.next())}})},t.prototype.filter=function(e){var n=this._iterator,r=!1,s=!1,a,o=function(){if(!r)for(r=!0,s=!1;n.hasNext()&&!s;)a=n.next(),s=e(a)};return new t({hasNext:function(){return o(),s},next:function(){o();var l=a;return r=!1,l}})},t.prototype.first=function(){var e=this._iterator;return this._iterator.hasNext()?e.next():null},t.prototype.toArray=function(){for(var e=[];this._iterator.hasNext();)e.push(this._iterator.next());return e},zU}var KY;function jpe(){return KY||(KY=1,function(t){var e=zs,n=zFe(),r=y$(),s=wpe(),a=$Fe();t.token=function(f,A){var v=A!==void 0;return function(p){var m=p.head();if(m&&m.name===f&&(!v||m.value===A))return r.success(m.value,p.tail(),m.source);var g=d({name:f,value:A});return h(p,g)}},t.tokenOfType=function(f){return t.token(f)},t.firstOf=function(f,A){return e.isArray(A)||(A=Array.prototype.slice.call(arguments,1)),function(v){return a.fromArray(A).map(function(p){return p(v)}).filter(function(p){return p.isSuccess()||p.isError()}).first()||h(v,f)}},t.then=function(f,A){return function(v){var p=f(v);return p.map||console.log(p),p.map(A)}},t.sequence=function(){var f=Array.prototype.slice.call(arguments,0),A=function(p){var m=e.foldl(f,function(x,b){var j=x.result,N=x.hasCut;if(!j.isSuccess())return{result:j,hasCut:N};var _=b(j.remaining());if(_.isCut())return{result:j,hasCut:!0};if(_.isSuccess()){var C;b.isCaptured?C=j.value().withValue(b,_.value()):C=j.value();var k=_.remaining(),T=p.to(k);return{result:r.success(C,k,T),hasCut:N}}else return N?{result:r.error(_.errors(),_.remaining()),hasCut:N}:{result:_,hasCut:N}},{result:r.success(new o,p),hasCut:!1}).result,g=p.to(m.remaining());return m.map(function(x){return x.withValue(t.sequence.source,g)})};A.head=function(){var p=e.find(f,v);return t.then(A,t.sequence.extract(p))},A.map=function(p){return t.then(A,function(m){return p.apply(this,m.toArray())})};function v(p){return p.isCaptured}return A};var o=function(f,A){this._values=f||{},this._valuesArray=A||[]};o.prototype.withValue=function(f,A){if(f.captureName&&f.captureName in this._values)throw new Error('Cannot add second value for capture "'+f.captureName+'"');var v=e.clone(this._values);v[f.captureName]=A;var p=this._valuesArray.concat([A]);return new o(v,p)},o.prototype.get=function(f){if(f.captureName in this._values)return this._values[f.captureName];throw new Error('No value for capture "'+f.captureName+'"')},o.prototype.toArray=function(){return this._valuesArray},t.sequence.capture=function(f,A){var v=function(){return f.apply(this,arguments)};return v.captureName=A,v.isCaptured=!0,v},t.sequence.extract=function(f){return function(A){return A.get(f)}},t.sequence.applyValues=function(f){var A=Array.prototype.slice.call(arguments,1);return function(v){var p=A.map(function(m){return v.get(m)});return f.apply(this,p)}},t.sequence.source={captureName:"☃source☃"},t.sequence.cut=function(){return function(f){return r.cut(f)}},t.optional=function(f){return function(A){var v=f(A);return v.isSuccess()?v.map(n.some):v.isFailure()?r.success(n.none,A):v}},t.zeroOrMoreWithSeparator=function(f,A){return u(f,A,!1)},t.oneOrMoreWithSeparator=function(f,A){return u(f,A,!0)};var l=t.zeroOrMore=function(f){return function(A){for(var v=[],p;(p=f(A))&&p.isSuccess();)A=p.remaining(),v.push(p.value());return p.isError()?p:r.success(v,A)}};t.oneOrMore=function(f){return t.oneOrMoreWithSeparator(f,c)};function c(f){return r.success(null,f)}var u=function(f,A,v){return function(p){var m=f(p);if(m.isSuccess()){var g=t.sequence.capture(f,"main"),x=l(t.then(t.sequence(A,g),t.sequence.extract(g))),b=x(m.remaining());return r.success([m.value()].concat(b.value()),b.remaining())}else return v||m.isError()?m:r.success([],p)}};t.leftAssociative=function(f,A,v){var p;v?p=[{func:v,rule:A}]:p=A,p=p.map(function(g){return t.then(g.rule,function(x){return function(b,j){return g.func(b,x,j)}})});var m=t.firstOf.apply(null,["rules"].concat(p));return function(g){var x=g,b=f(g);if(!b.isSuccess())return b;for(var j=m(b.remaining());j.isSuccess();){var N=j.remaining(),_=x.to(j.remaining()),C=j.value();b=r.success(C(b.value(),_),N,_),j=m(b.remaining())}return j.isError()?j:b}},t.leftAssociative.firstOf=function(){return Array.prototype.slice.call(arguments,0)},t.nonConsuming=function(f){return function(A){return f(A).changeRemaining(A)}};var d=function(f){return f.value?f.name+' "'+f.value+'"':f.name};function h(f,A){var v,p=f.head();return p?v=s.error({expected:A,actual:d(p),location:p.source}):v=s.error({expected:A,actual:"end of tokens"}),r.failure([v],f)}}(LU)),LU}var $U={exports:{}},GY;function Npe(){if(GY)return $U.exports;GY=1,$U.exports=function(e,n){var r={asString:function(){return e},range:function(s,a){return new t(e,n,s,a)}};return r};var t=function(e,n,r,s){this._string=e,this._description=n,this._startIndex=r,this._endIndex=s};return t.prototype.to=function(e){return new t(this._string,this._description,this._startIndex,e._endIndex)},t.prototype.describe=function(){var e=this._position(),n=this._description?this._description+`
`:"";return n+"Line number: "+e.lineNumber+`
Character number: `+e.characterNumber},t.prototype.lineNumber=function(){return this._position().lineNumber},t.prototype.characterNumber=function(){return this._position().characterNumber},t.prototype._position=function(){for(var e=this,n=0,r=function(){return e._string.indexOf(`
`,n)},s=1;r()!==-1&&r()<this._startIndex;)n=r()+1,s+=1;var a=this._startIndex-n+1;return{lineNumber:s,characterNumber:a}},$U.exports}var WU,XY;function _pe(){return XY||(XY=1,WU=function(t,e,n){this.name=t,this.value=e,n&&(this.source=n)}),WU}var qU={},YY;function WFe(){return YY||(YY=1,function(t){var e=jpe(),n=y$();t.parser=function(a,o,l){var c={rule:f,leftAssociative:A,rightAssociative:v},u=new r(l.map(h)),d=e.firstOf(a,o);function h(g){return{name:g.name,rule:s(g.ruleBuilder.bind(null,c))}}function f(){return p(u)}function A(g){return p(u.untilExclusive(g))}function v(g){return p(u.untilInclusive(g))}function p(g){return m.bind(null,g)}function m(g,x){var b=d(x);return b.isSuccess()?g.apply(b):b}return c};function r(a){function o(h){return new r(a.slice(0,c().indexOf(h)))}function l(h){return new r(a.slice(0,c().indexOf(h)+1))}function c(){return a.map(function(h){return h.name})}function u(h){for(var f,A;;)if(f=d(h.remaining()),f.isSuccess())A=h.source().to(f.source()),h=n.success(f.value()(h.value(),A),f.remaining(),A);else return f.isFailure()?h:f}function d(h){return e.firstOf("infix",a.map(function(f){return f.rule}))(h)}return{apply:u,untilExclusive:o,untilInclusive:l}}t.infix=function(a,o){function l(c){return t.infix(a,function(u){var d=o(u);return function(h){var f=d(h);return f.map(function(A){return function(v,p){return c(v,A,p)}})}})}return{name:a,ruleBuilder:o,map:l}};var s=function(a){var o;return function(l){return o||(o=a()),o(l)}}}(qU)),qU}var VU={},JY;function qFe(){if(JY)return VU;JY=1;var t=_pe(),e=Npe();VU.RegexTokeniser=n;function n(r){r=r.map(function(l){return{name:l.name,regex:new RegExp(l.regex.source,"g")}});function s(l,c){for(var u=new e(l,c),d=0,h=[];d<l.length;){var f=a(l,d,u);d=f.endIndex,h.push(f.token)}return h.push(o(l,u)),h}function a(l,c,u){for(var d=0;d<r.length;d++){var h=r[d].regex;h.lastIndex=c;var f=h.exec(l);if(f){var v=c+f[0].length;if(f.index===c&&v>c){var A=f[1],p=new t(r[d].name,A,u.range(c,v));return{token:p,endIndex:v}}}}var v=c+1,p=new t("unrecognisedCharacter",l.substring(c,v),u.range(c,v));return{token:p,endIndex:v}}function o(l,c){return new t("end",null,c.range(l.length,l.length))}return{tokenise:s}}return VU}var ZY;function Cpe(){return ZY||(ZY=1,Bd.Parser=HFe().Parser,Bd.rules=jpe(),Bd.errors=wpe(),Bd.results=y$(),Bd.StringSource=Npe(),Bd.Token=_pe(),Bd.bottomUp=WFe(),Bd.RegexTokeniser=qFe().RegexTokeniser,Bd.rule=function(t){var e;return function(n){return e||(e=t()),e(n)}}),Bd}var Ta={},eJ;function VFe(){if(eJ)return Ta;eJ=1,Ta.paragraph=t,Ta.run=e,Ta.table=n,Ta.bold=new s("bold"),Ta.italic=new s("italic"),Ta.underline=new s("underline"),Ta.strikethrough=new s("strikethrough"),Ta.allCaps=new s("allCaps"),Ta.smallCaps=new s("smallCaps"),Ta.highlight=r,Ta.commentReference=new s("commentReference"),Ta.lineBreak=new o({breakType:"line"}),Ta.pageBreak=new o({breakType:"page"}),Ta.columnBreak=new o({breakType:"column"}),Ta.equalTo=c,Ta.startsWith=u;function t(f){return new s("paragraph",f)}function e(f){return new s("run",f)}function n(f){return new s("table",f)}function r(f){return new a(f)}function s(f,A){A=A||{},this._elementType=f,this._styleId=A.styleId,this._styleName=A.styleName,A.list&&(this._listIndex=A.list.levelIndex,this._listIsOrdered=A.list.isOrdered)}s.prototype.matches=function(f){return f.type===this._elementType&&(this._styleId===void 0||f.styleId===this._styleId)&&(this._styleName===void 0||f.styleName&&this._styleName.operator(this._styleName.operand,f.styleName))&&(this._listIndex===void 0||l(f,this._listIndex,this._listIsOrdered))&&(this._breakType===void 0||this._breakType===f.breakType)};function a(f){f=f||{},this._color=f.color}a.prototype.matches=function(f){return f.type==="highlight"&&(this._color===void 0||f.color===this._color)};function o(f){f=f||{},this._breakType=f.breakType}o.prototype.matches=function(f){return f.type==="break"&&(this._breakType===void 0||f.breakType===this._breakType)};function l(f,A,v){return f.numbering&&f.numbering.level==A&&f.numbering.isOrdered==v}function c(f){return{operator:d,operand:f}}function u(f){return{operator:h,operand:f}}function d(f,A){return f.toUpperCase()===A.toUpperCase()}function h(f,A){return A.toUpperCase().indexOf(f.toUpperCase())===0}return Ta}var KU={},tJ;function KFe(){if(tJ)return KU;tJ=1;var t=Cpe(),e=t.RegexTokeniser;KU.tokenise=r;var n="'((?:\\\\.|[^'])*)";function r(s){var a="(?:[a-zA-Z\\-_]|\\\\.)",o=new e([{name:"identifier",regex:new RegExp("("+a+"(?:"+a+"|[0-9])*)")},{name:"dot",regex:/\./},{name:"colon",regex:/:/},{name:"gt",regex:/>/},{name:"whitespace",regex:/\s+/},{name:"arrow",regex:/=>/},{name:"equals",regex:/=/},{name:"startsWith",regex:/\^=/},{name:"open-paren",regex:/\(/},{name:"close-paren",regex:/\)/},{name:"open-square-bracket",regex:/\[/},{name:"close-square-bracket",regex:/\]/},{name:"string",regex:new RegExp(n+"'")},{name:"unterminated-string",regex:new RegExp(n)},{name:"integer",regex:/([0-9]+)/},{name:"choice",regex:/\|/},{name:"bang",regex:/(!)/}]);return o.tokenise(s)}return KU}var nJ;function GFe(){if(nJ)return Vj;nJ=1;var t=zs,e=Cpe(),n=VFe(),r=Xk(),s=KFe().tokenise,a=Cp();Vj.readHtmlPath=d,Vj.readDocumentMatcher=c,Vj.readStyle=o;function o(k){return j(C,k)}function l(){return e.rules.sequence(e.rules.sequence.capture(u()),e.rules.tokenOfType("whitespace"),e.rules.tokenOfType("arrow"),e.rules.sequence.capture(e.rules.optional(e.rules.sequence(e.rules.tokenOfType("whitespace"),e.rules.sequence.capture(h())).head())),e.rules.tokenOfType("end")).map(function(k,T){return{from:k,to:T.valueOrElse(r.empty)}})}function c(k){return j(u(),k)}function u(){var k=e.rules.sequence,T=function(Be,Me){return e.rules.then(e.rules.token("identifier",Be),function(){return Me})},O=T("p",n.paragraph),I=T("r",n.run),F=e.rules.firstOf("p or r or table",O,I),M=e.rules.sequence(e.rules.tokenOfType("dot"),e.rules.sequence.cut(),e.rules.sequence.capture(f)).map(function(Be){return{styleId:Be}}),S=e.rules.firstOf("style name matcher",e.rules.then(e.rules.sequence(e.rules.tokenOfType("equals"),e.rules.sequence.cut(),e.rules.sequence.capture(v)).head(),function(Be){return{styleName:n.equalTo(Be)}}),e.rules.then(e.rules.sequence(e.rules.tokenOfType("startsWith"),e.rules.sequence.cut(),e.rules.sequence.capture(v)).head(),function(Be){return{styleName:n.startsWith(Be)}})),q=e.rules.sequence(e.rules.tokenOfType("open-square-bracket"),e.rules.sequence.cut(),e.rules.token("identifier","style-name"),e.rules.sequence.capture(S),e.rules.tokenOfType("close-square-bracket")).head(),U=e.rules.firstOf("list type",T("ordered-list",{isOrdered:!0}),T("unordered-list",{isOrdered:!1})),L=k(e.rules.tokenOfType("colon"),k.capture(U),k.cut(),e.rules.tokenOfType("open-paren"),k.capture(A),e.rules.tokenOfType("close-paren")).map(function(Be,Me){return{list:{isOrdered:Be.isOrdered,levelIndex:Me-1}}});function z(Be){var Me=e.rules.firstOf.apply(e.rules.firstOf,["matcher suffix"].concat(Be)),Ie=e.rules.zeroOrMore(Me);return e.rules.then(Ie,function(Ye){var X={};return Ye.forEach(function(ue){t.extend(X,ue)}),X})}var $=k(k.capture(F),k.capture(z([M,q,L]))).map(function(Be,Me){return Be(Me)}),K=k(e.rules.token("identifier","table"),k.capture(z([M,q]))).map(function(Be){return n.table(Be)}),V=T("b",n.bold),H=T("i",n.italic),W=T("u",n.underline),Y=T("strike",n.strikethrough),ee=T("all-caps",n.allCaps),ie=T("small-caps",n.smallCaps),se=k(e.rules.token("identifier","highlight"),e.rules.sequence.capture(e.rules.optional(e.rules.sequence(e.rules.tokenOfType("open-square-bracket"),e.rules.sequence.cut(),e.rules.token("identifier","color"),e.rules.tokenOfType("equals"),e.rules.sequence.capture(v),e.rules.tokenOfType("close-square-bracket")).head()))).map(function(Be){return n.highlight({color:Be.valueOrElse(void 0)})}),Ae=T("comment-reference",n.commentReference),he=k(e.rules.token("identifier","br"),k.cut(),e.rules.tokenOfType("open-square-bracket"),e.rules.token("identifier","type"),e.rules.tokenOfType("equals"),k.capture(v),e.rules.tokenOfType("close-square-bracket")).map(function(Be){switch(Be){case"line":return n.lineBreak;case"page":return n.pageBreak;case"column":return n.columnBreak}});return e.rules.firstOf("element type",$,K,V,H,W,Y,ee,ie,se,Ae,he)}function d(k){return j(h(),k)}function h(){var k=e.rules.sequence.capture,T=e.rules.tokenOfType("whitespace"),O=e.rules.then(e.rules.optional(e.rules.sequence(e.rules.tokenOfType("colon"),e.rules.token("identifier","fresh"))),function(S){return S.map(function(){return!0}).valueOrElse(!1)}),I=e.rules.then(e.rules.optional(e.rules.sequence(e.rules.tokenOfType("colon"),e.rules.token("identifier","separator"),e.rules.tokenOfType("open-paren"),k(v),e.rules.tokenOfType("close-paren")).head()),function(S){return S.valueOrElse("")}),F=e.rules.oneOrMoreWithSeparator(f,e.rules.tokenOfType("choice")),M=e.rules.sequence(k(F),k(e.rules.zeroOrMore(b)),k(O),k(I)).map(function(S,q,U,L){var z={},$={};return q.forEach(function(K){K.append&&z[K.name]?z[K.name]+=" "+K.value:z[K.name]=K.value}),U&&($.fresh=!0),L&&($.separator=L),r.element(S,z,$)});return e.rules.firstOf("html path",e.rules.then(e.rules.tokenOfType("bang"),function(){return r.ignore}),e.rules.then(e.rules.zeroOrMoreWithSeparator(M,e.rules.sequence(T,e.rules.tokenOfType("gt"),T)),r.elements))}var f=e.rules.then(e.rules.tokenOfType("identifier"),m),A=e.rules.tokenOfType("integer"),v=e.rules.then(e.rules.tokenOfType("string"),m),p={n:`
`,r:"\r",t:"	"};function m(k){return k.replace(/\\(.)/g,function(T,O){return p[O]||O})}var g=e.rules.sequence(e.rules.tokenOfType("open-square-bracket"),e.rules.sequence.cut(),e.rules.sequence.capture(f),e.rules.tokenOfType("equals"),e.rules.sequence.capture(v),e.rules.tokenOfType("close-square-bracket")).map(function(k,T){return{name:k,value:T,append:!1}}),x=e.rules.sequence(e.rules.tokenOfType("dot"),e.rules.sequence.cut(),e.rules.sequence.capture(f)).map(function(k){return{name:"class",value:k,append:!0}}),b=e.rules.firstOf("attribute or class",g,x);function j(k,T){var O=s(T),I=e.Parser(),F=I.parseTokens(k,O);return F.isSuccess()?a.success(F.value()):new a.Result(null,[a.warning(N(T,F))])}function N(k,T){return"Did not understand this style mapping, so ignored it: "+k+`
`+T.errors().map(_).join(`
`)}function _(k){return"Error was at character number "+k.characterNumber()+": Expected "+k.expected+" but got "+k.actual}var C=l();return Vj}var Kj={},rJ;function XFe(){if(rJ)return Kj;rJ=1,Kj.readOptions=r;var t=zs,e=Kj._defaultStyleMap=["p.Heading1 => h1:fresh","p.Heading2 => h2:fresh","p.Heading3 => h3:fresh","p.Heading4 => h4:fresh","p.Heading5 => h5:fresh","p.Heading6 => h6:fresh","p[style-name='Heading 1'] => h1:fresh","p[style-name='Heading 2'] => h2:fresh","p[style-name='Heading 3'] => h3:fresh","p[style-name='Heading 4'] => h4:fresh","p[style-name='Heading 5'] => h5:fresh","p[style-name='Heading 6'] => h6:fresh","p[style-name='heading 1'] => h1:fresh","p[style-name='heading 2'] => h2:fresh","p[style-name='heading 3'] => h3:fresh","p[style-name='heading 4'] => h4:fresh","p[style-name='heading 5'] => h5:fresh","p[style-name='heading 6'] => h6:fresh","r[style-name='Strong'] => strong","p[style-name='footnote text'] => p:fresh","r[style-name='footnote reference'] =>","p[style-name='endnote text'] => p:fresh","r[style-name='endnote reference'] =>","p[style-name='annotation text'] => p:fresh","r[style-name='annotation reference'] =>","p[style-name='Footnote'] => p:fresh","r[style-name='Footnote anchor'] =>","p[style-name='Endnote'] => p:fresh","r[style-name='Endnote anchor'] =>","p:unordered-list(1) => ul > li:fresh","p:unordered-list(2) => ul|ol > li > ul > li:fresh","p:unordered-list(3) => ul|ol > li > ul|ol > li > ul > li:fresh","p:unordered-list(4) => ul|ol > li > ul|ol > li > ul|ol > li > ul > li:fresh","p:unordered-list(5) => ul|ol > li > ul|ol > li > ul|ol > li > ul|ol > li > ul > li:fresh","p:ordered-list(1) => ol > li:fresh","p:ordered-list(2) => ul|ol > li > ol > li:fresh","p:ordered-list(3) => ul|ol > li > ul|ol > li > ol > li:fresh","p:ordered-list(4) => ul|ol > li > ul|ol > li > ul|ol > li > ol > li:fresh","p:ordered-list(5) => ul|ol > li > ul|ol > li > ul|ol > li > ul|ol > li > ol > li:fresh","r[style-name='Hyperlink'] =>","p[style-name='Normal'] => p:fresh"],n=Kj._standardOptions={transformDocument:a,includeDefaultStyleMap:!0,includeEmbeddedStyleMap:!0};function r(o){return o=o||{},t.extend({},n,o,{customStyleMap:s(o.styleMap),readStyleMap:function(){var l=this.customStyleMap;return this.includeEmbeddedStyleMap&&(l=l.concat(s(this.embeddedStyleMap))),this.includeDefaultStyleMap&&(l=l.concat(e)),l}})}function s(o){return o?t.isString(o)?o.split(`
`).map(function(l){return l.trim()}).filter(function(l){return l!==""&&l.charAt(0)!=="#"}):o:[]}function a(o){return o}return Kj}var GU={},iJ;function YFe(){if(iJ)return GU;iJ=1;var t=mx(),e=ppe();GU.openZip=n;function n(r){return r.arrayBuffer?t.resolve(e.openArrayBuffer(r.arrayBuffer)):t.reject(new Error("Could not find file in options"))}return GU}var ov={},sJ;function JFe(){if(sJ)return ov;sJ=1;var t=zs;ov.paragraph=e,ov.run=n,ov._elements=s,ov.getDescendantsOfType=a,ov.getDescendants=o;function e(c){return r("paragraph",c)}function n(c){return r("run",c)}function r(c,u){return s(function(d){return d.type===c?u(d):d})}function s(c){return function u(d){if(d.children){var h=t.map(d.children,u);d=t.extend(d,{children:h})}return c(d)}}function a(c,u){return o(c).filter(function(d){return d.type===u})}function o(c){var u=[];return l(c,function(d){u.push(d)}),u}function l(c,u){c.children&&c.children.forEach(function(d){l(d,u),u(d)})}return ov}var XU={},aJ;function ZFe(){if(aJ)return XU;aJ=1;var t=Xk(),e=Gk();XU.element=n;function n(r){return function(s){return e.elementWithTag(t.element(r),[s])}}return XU}var oJ;function e6e(){if(oJ)return yu;oJ=1;var t=zs,e=FFe(),n=PFe(),r=LFe().DocumentConverter,s=RFe().convertElementToRawText,a=GFe().readStyle,o=XFe().readOptions,l=YFe(),c=Cp().Result;yu.convertToHtml=u,yu.convertToMarkdown=d,yu.convert=h,yu.extractRawText=p,yu.images=bpe(),yu.transforms=JFe(),yu.underline=ZFe(),yu.embedStyleMap=m,yu.readEmbeddedStyleMap=f;function u(g,x){return h(g,x)}function d(g,x){var b=Object.create(x||{});return b.outputFormat="markdown",h(g,b)}function h(g,x){return x=o(x),l.openZip(g).tap(function(b){return n.readStyleMap(b).then(function(j){x.embeddedStyleMap=j})}).then(function(b){return e.read(b,g).then(function(j){return j.map(x.transformDocument)}).then(function(j){return A(j,x)})})}function f(g){return l.openZip(g).then(n.readStyleMap)}function A(g,x){var b=v(x.readStyleMap()),j=t.extend({},x,{styleMap:b.value}),N=new r(j);return g.flatMapThen(function(_){return b.flatMapThen(function(C){return N.convertToHtml(_)})})}function v(g){return c.combine((g||[]).map(a)).map(function(x){return x.filter(function(b){return!!b})})}function p(g){return l.openZip(g).then(e.read).then(function(x){return x.map(s)})}function m(g,x){return l.openZip(g).tap(function(b){return n.writeStyleMap(b,x)}).then(function(b){return b.toArrayBuffer()}).then(function(b){return{toArrayBuffer:function(){return b},toBuffer:function(){return Buffer.from(b)}}})}return yu.styleMapping=function(){throw new Error(`Use a raw string instead of mammoth.styleMapping e.g. "p[style-name='Title'] => h1" instead of mammoth.styleMapping("p[style-name='Title'] => h1")`)},yu}var t6e=e6e();const n6e=wr(t6e);PTe.workerSrc=new URL("pdfjs-dist/build/pdf.worker.min.js",import.meta.url).toString();const lJ=50*1024*1024,r6e={"application/pdf":"PDF","application/vnd.openxmlformats-officedocument.wordprocessingml.document":"DOCX","text/plain":"TXT"};function Spe(t){return t.size>lJ?{type:"TOO_LARGE",message:`حجم الملف كبير جداً. الحد الأقصى ${Math.round(lJ/(1024*1024))} ميجابايت`}:t.size===0?{type:"EMPTY",message:"الملف فارغ. يرجى اختيار ملف يحتوي على نص"}:Object.keys(r6e).includes(t.type)||t.name.toLowerCase().endsWith(".txt")||t.name.toLowerCase().endsWith(".pdf")||t.name.toLowerCase().endsWith(".docx")?null:{type:"INVALID_TYPE",message:"صيغة الملف غير مدعومة. الصيغ المدعومة: PDF، DOCX، TXT"}}async function i6e(t){return new Promise((e,n)=>{const r=new FileReader;r.onload=s=>{var o;const a=(o=s.target)==null?void 0:o.result;if(!a||a.trim().length===0){n(new Error("الملف النصي فارغ أو لا يحتوي على نص قابل للقراءة"));return}e(a)},r.onerror=()=>{n(new Error("فشل في قراءة الملف النصي. تأكد من أن الملف غير تالف"))},r.readAsText(t,"utf-8")})}async function s6e(t){try{const e=await t.arrayBuffer(),n=await UTe({data:e}).promise;if(n.numPages===0)throw new Error("ملف PDF فارغ أو لا يحتوي على صفحات");let r="";for(let s=1;s<=n.numPages;s++)try{const l=(await(await n.getPage(s)).getTextContent()).items.map(c=>c.str).join(" ");r+=l+`

`}catch(a){console.warn(`تحذير: فشل في قراءة الصفحة ${s}:`,a)}if(!r||r.trim().length===0)throw new Error("لم يتم العثور على نص قابل للقراءة في ملف PDF");return r.trim()}catch(e){throw e instanceof Error?new Error(`فشل في قراءة ملف PDF: ${e.message}`):new Error("فشل في قراءة ملف PDF. تأكد من أن الملف غير تالف ويحتوي على نص")}}async function a6e(t){try{const e=await t.arrayBuffer(),n=await n6e.extractRawText({arrayBuffer:e});if(!n.value||n.value.trim().length===0)throw new Error("لم يتم العثور على نص قابل للقراءة في ملف DOCX");return n.messages&&n.messages.length>0&&console.warn("تحذيرات أثناء قراءة ملف DOCX:",n.messages),n.value.trim()}catch(e){throw e instanceof Error?new Error(`فشل في قراءة ملف DOCX: ${e.message}`):new Error("فشل في قراءة ملف DOCX. تأكد من أن الملف غير تالف")}}async function o6e(t){const e=Spe(t);if(e)throw new Error(e.message);try{let n,r;t.type==="application/pdf"||t.name.toLowerCase().endsWith(".pdf")?(n=await s6e(t),r="PDF"):t.type==="application/vnd.openxmlformats-officedocument.wordprocessingml.document"||t.name.toLowerCase().endsWith(".docx")?(n=await a6e(t),r="DOCX"):(n=await i6e(t),r="TXT");const s=n.split(/\s+/).filter(a=>a.length>0).length;if(s<100)throw new Error("الملف قصير جداً. يجب أن يحتوي على 100 كلمة على الأقل للحصول على تحليل مفيد");return{content:n,wordCount:s,fileType:r,fileName:t.name,fileSize:t.size}}catch(n){throw console.error("خطأ في قراءة الملف:",n),n instanceof Error?n:new Error("حدث خطأ غير متوقع أثناء قراءة الملف. يرجى المحاولة مرة أخرى")}}function l6e(){return"الصيغ المدعومة: PDF، DOCX، TXT • الحد الأقصى: 50 ميجابايت"}function cJ(t){if(t===0)return"0 بايت";const e=["بايت","كيلوبايت","ميجابايت","جيجابايت"],n=Math.floor(Math.log(t)/Math.log(1024));return Math.round(t/Math.pow(1024,n)*100)/100+" "+e[n]}const Epe=()=>{const{state:t,dispatch:e}=Ju(),[n,r]=E.useState(0),[s,a]=E.useState(!1),[o,l]=E.useState(""),[c,u]=E.useState(null),[d,h]=E.useState(null),f=E.useCallback(async g=>{const x=g[0];if(!x)return;const b=Spe(x);if(b){Bi({title:"خطأ في الملف",description:b.message,variant:"destructive"});return}u(x),h(null);try{const j=await o6e(x);h(j),Bi({title:"تم رفع الملف بنجاح",description:`${x.name} (${j.fileType}) - ${cJ(x.size)} - ${j.wordCount.toLocaleString()} كلمة`})}catch(j){console.error("خطأ في قراءة الملف:",j),Bi({title:"خطأ في قراءة الملف",description:j instanceof Error?j.message:"فشل في قراءة الملف",variant:"destructive"}),u(null),h(null)}},[]),{getRootProps:A,getInputProps:v,isDragActive:p}=jde({onDrop:f,accept:{"application/pdf":[".pdf"],"application/vnd.openxmlformats-officedocument.wordprocessingml.document":[".docx"],"text/plain":[".txt"]},multiple:!1,maxSize:50*1024*1024}),m=async()=>{if(!(!c||!d)){a(!0),r(0),l("جارٍ بدء التحليل..."),e({type:"SET_LOADING",payload:!0});try{const g=d.content,x=[{step:"جارٍ قراءة النص وتجهيز البيانات...",progress:10},{step:"جارٍ تحليل المفردات والأسلوب اللغوي...",progress:25},{step:"جارٍ استخلاص البنية السردية وتحديد الحبكة...",progress:40},{step:"جارٍ تحليل الشخصيات وتحديد سماتها ودوافعها...",progress:60},{step:"جارٍ تحديد المواضيع الرئيسية والعناصر الثقافية...",progress:75},{step:"جارٍ إنشاء التقرير النهائي وتلخيص النتائج...",progress:90},{step:"اكتمل التحليل بنجاح!",progress:100}];for(const j of x)l(j.step),await new Promise(N=>setTimeout(N,1e3)),r(j.progress);const b={title:d.fileName.replace(/\.(pdf|docx|txt)$/i,""),author:"المؤلف: (التحليل العميق للأسلوب قيد التطوير)",content:g.substring(0,1e3)+"...",uploadDate:new Date,wordCount:d.wordCount,chapterCount:Math.ceil(d.wordCount/3e3),styleProfile:{vocabulary:"متقدمة ومتنوعة مع استخدام مصطلحات كلاسيكية",sentenceStructure:"جمل متوسطة إلى طويلة مع تنوع في البنية",toneProfile:"جدي ومتأمل مع لمسات شاعرية",narrativePerspective:"المتكلم الغائب مع تداخلات ضمير المتكلم",dialogueStyle:"حوارات طبيعية تعكس الشخصيات وخلفياتها",descriptiveLevel:"وصف تفصيلي للأماكن والمشاعر",culturalContext:["التراث العربي","القيم الاجتماعية","البيئة الحضرية"],rhetoricalDevices:["التشبيه","الاستعارة","الطباق","الجناس"],pacing:"متوسط مع تبطيء في المشاهد العاطفية",characterization:"شخصيات متعددة الأبعاد مع تطور واضح"},plotBlueprint:{type:"رواية نفسية اجتماعية",chapters:Math.ceil(d.wordCount/3e3),acts:["المقدمة والتعريف","تطوير الصراع","الذروة والتحول","الحل والخاتمة"],themes:["الهوية والانتماء","الصراع الداخلي","التغيير الاجتماعي","القيم والتقاليد"],pacing:"متدرج مع تسارع في النهاية",conflictTypes:["صراع داخلي","صراع اجتماعي","صراع مع الزمن"],plotPoints:[{chapter:1,title:"الانطلاقة",description:"تقديم الشخصية الرئيسية والسياق",importance:"high"},{chapter:3,title:"أول صراع",description:"ظهور المشكلة الأساسية",importance:"high"},{chapter:5,title:"تعقيد الأحداث",description:"تداخل الأحداث وزيادة التعقيد",importance:"medium"},{chapter:7,title:"الذروة",description:"النقطة الحاسمة في الصراع",importance:"high"},{chapter:9,title:"الحل",description:"بداية حل المشكلة",importance:"medium"}],climaxPosition:7,resolution:"حل متدرج يربط الخيوط ويحقق النمو للشخصيات"},characters:[{id:"1",name:"الشخصية الرئيسية",role:"البطل/البطلة",description:"شخصية معقدة تواجه صراعات داخلية وخارجية",background:"خلفية ثقافية واجتماعية محددة",personality:["متأمل","عاطفي","مثابر","معقد"],motivations:["البحث عن الهوية","تحقيق الذات","التوفيق بين التقليد والحداثة"],relationships:[{character:"شخصية مساعدة",relationship:"صديق",description:"علاقة دعم ومساندة"}],development:[{chapter:1,event:"التعريف الأولي",growth:"ظهور الشخصية وخصائصها"},{chapter:5,event:"مواجهة الصراع",growth:"بداية التغيير والنمو"},{chapter:9,event:"الحل والنضج",growth:"اكتمال القوس التطويري"}],voice:"متأمل وشاعري",dialogue_style:"طبيعي مع عمق فلسفي"}],lorebook:[{id:"1",title:"السياق الثقافي",type:"culture",description:"الإطار الثقافي والاجتماعي للرواية",significance:"يشكل خلفية الأحداث والشخصيات",relationships:["الشخصيات","الأحداث"],chapters:[1,2,3,4,5]}],themes:["الهوية","الانتماء","الصراع الحضاري","القيم الإنسانية"],culturalElements:["التراث العربي","اللغة والأدب","العادات والتقاليد"],analysis:{complexity:85,innovation:78,authenticity:92,readability:88}};e({type:"SET_SOURCE_ANALYSIS",payload:b}),Bi({title:"تم التحليل بنجاح",description:"تم تحليل الرواية المصدر بنجاح. يمكنك الآن الانتقال للمرحلة التالية."})}catch{e({type:"SET_ERROR",payload:"فشل في تحليل الملف. يرجى المحاولة مرة أخرى."}),Bi({title:"خطأ في التحليل",description:"حدث خطأ أثناء تحليل الملف. يرجى المحاولة مرة أخرى.",variant:"destructive"})}finally{a(!1),l(""),r(0),e({type:"SET_LOADING",payload:!1})}}};return t.sourceAnalysis?i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[i.jsx(ae,{children:i.jsx(oe,{className:"pt-6",children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(xn,{className:"h-5 w-5 text-blue-600"}),i.jsxs("div",{children:[i.jsx("div",{className:"text-2xl font-bold",children:t.sourceAnalysis.wordCount.toLocaleString()}),i.jsx("div",{className:"text-sm text-gray-500",children:"كلمة"})]})]})})}),i.jsx(ae,{children:i.jsx(oe,{className:"pt-6",children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(dr,{className:"h-5 w-5 text-green-600"}),i.jsxs("div",{children:[i.jsx("div",{className:"text-2xl font-bold",children:t.sourceAnalysis.chapterCount}),i.jsx("div",{className:"text-sm text-gray-500",children:"فصل"})]})]})})}),i.jsx(ae,{children:i.jsx(oe,{className:"pt-6",children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Wn,{className:"h-5 w-5 text-purple-600"}),i.jsxs("div",{children:[i.jsx("div",{className:"text-2xl font-bold",children:t.sourceAnalysis.characters.length}),i.jsx("div",{className:"text-sm text-gray-500",children:"شخصية"})]})]})})}),i.jsx(ae,{children:i.jsx(oe,{className:"pt-6",children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(hs,{className:"h-5 w-5 text-orange-600"}),i.jsxs("div",{children:[i.jsxs("div",{className:"text-2xl font-bold",children:[t.sourceAnalysis.analysis.complexity,"%"]}),i.jsx("div",{className:"text-sm text-gray-500",children:"تعقيد"})]})]})})})]}),i.jsxs(ae,{children:[i.jsxs(Te,{children:[i.jsx(ke,{children:"نتائج التحليل التفصيلية"}),i.jsxs(Pt,{children:["تحليل شامل للرواية المصدر: ",t.sourceAnalysis.title]})]}),i.jsx(oe,{children:i.jsxs(zn,{defaultValue:"style",className:"w-full",children:[i.jsxs(On,{className:"grid w-full grid-cols-5",children:[i.jsx(nt,{value:"style",children:"الأسلوب"}),i.jsx(nt,{value:"plot",children:"الحبكة"}),i.jsx(nt,{value:"characters",children:"الشخصيات"}),i.jsx(nt,{value:"themes",children:"المواضيع"}),i.jsx(nt,{value:"quality",children:"الجودة"})]}),i.jsx(rt,{value:"style",className:"space-y-4",children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("h4",{className:"font-semibold mb-2",children:"المفردات والأسلوب"}),i.jsx("p",{className:"text-sm text-gray-600 mb-4",children:t.sourceAnalysis.styleProfile.vocabulary}),i.jsx("h4",{className:"font-semibold mb-2",children:"بنية الجمل"}),i.jsx("p",{className:"text-sm text-gray-600 mb-4",children:t.sourceAnalysis.styleProfile.sentenceStructure}),i.jsx("h4",{className:"font-semibold mb-2",children:"النبرة العامة"}),i.jsx("p",{className:"text-sm text-gray-600",children:t.sourceAnalysis.styleProfile.toneProfile})]}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-semibold mb-2",children:"أسلوب السرد"}),i.jsx("p",{className:"text-sm text-gray-600 mb-4",children:t.sourceAnalysis.styleProfile.narrativePerspective}),i.jsx("h4",{className:"font-semibold mb-2",children:"السياق الثقافي"}),i.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:t.sourceAnalysis.styleProfile.culturalContext.map((g,x)=>i.jsx(He,{variant:"secondary",children:g}))}),i.jsx("h4",{className:"font-semibold mb-2",children:"الأساليب البلاغية"}),i.jsx("div",{className:"flex flex-wrap gap-2",children:t.sourceAnalysis.styleProfile.rhetoricalDevices.map((g,x)=>i.jsx(He,{variant:"outline",children:g}))})]})]})}),i.jsx(rt,{value:"plot",className:"space-y-4",children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("div",{children:[i.jsx("h4",{className:"font-semibold mb-3",children:"بنية الحبكة"}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("span",{className:"text-sm",children:"نوع الرواية:"}),i.jsx(He,{children:t.sourceAnalysis.plotBlueprint.type})]}),i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("span",{className:"text-sm",children:"عدد الفصول:"}),i.jsx("span",{className:"font-medium",children:t.sourceAnalysis.plotBlueprint.chapters})]}),i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("span",{className:"text-sm",children:"موقع الذروة:"}),i.jsxs("span",{className:"font-medium",children:["الفصل ",t.sourceAnalysis.plotBlueprint.climaxPosition]})]})]}),i.jsx("h4",{className:"font-semibold mb-3 mt-6",children:"المواضيع الرئيسية"}),i.jsx("div",{className:"flex flex-wrap gap-2",children:t.sourceAnalysis.plotBlueprint.themes.map((g,x)=>i.jsx(He,{variant:"secondary",children:g}))})]}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-semibold mb-3",children:"النقاط المحورية"}),i.jsx("div",{className:"space-y-3",children:t.sourceAnalysis.plotBlueprint.plotPoints.map((g,x)=>i.jsxs("div",{className:"border rounded-lg p-3",children:[i.jsxs("div",{className:"flex justify-between items-start mb-2",children:[i.jsx("h5",{className:"font-medium",children:g.title}),i.jsx(He,{variant:g.importance==="high"?"destructive":"secondary",className:"text-xs",children:g.importance==="high"?"عالي":"متوسط"},x)]}),i.jsx("p",{className:"text-sm text-gray-600",children:g.description}),i.jsxs("span",{className:"text-xs text-gray-500",children:["الفصل ",g.chapter]})]},x))})]})]})}),i.jsx(rt,{value:"characters",className:"space-y-4",children:i.jsx("div",{className:"space-y-6",children:t.sourceAnalysis.characters.map(g=>i.jsxs(ae,{children:[i.jsxs(Te,{children:[i.jsx(ke,{className:"text-lg",children:g.name}),i.jsx(Pt,{children:g.role})]}),i.jsxs(oe,{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("h5",{className:"font-semibold mb-2",children:"الوصف"}),i.jsx("p",{className:"text-sm text-gray-600",children:g.description})]}),i.jsxs("div",{children:[i.jsx("h5",{className:"font-semibold mb-2",children:"الخلفية"}),i.jsx("p",{className:"text-sm text-gray-600",children:g.background})]}),i.jsxs("div",{children:[i.jsx("h5",{className:"font-semibold mb-2",children:"السمات الشخصية"}),i.jsx("div",{className:"flex flex-wrap gap-2",children:g.personality.map((x,b)=>i.jsx(He,{variant:"outline",children:x}))})]}),i.jsxs("div",{children:[i.jsx("h5",{className:"font-semibold mb-2",children:"الدوافع"}),i.jsx("ul",{className:"text-sm text-gray-600 space-y-1",children:g.motivations.map((x,b)=>i.jsxs("li",{children:["• ",x]},b))})]})]})]},g.id))})}),i.jsx(rt,{value:"themes",className:"space-y-4",children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("div",{children:[i.jsx("h4",{className:"font-semibold mb-3",children:"المواضيع الرئيسية"}),i.jsx("div",{className:"space-y-2",children:t.sourceAnalysis.themes.map((g,x)=>i.jsxs("div",{className:"flex items-center gap-2 p-2 border rounded",children:[i.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"}),i.jsx("span",{className:"text-sm",children:g})]},x))})]}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-semibold mb-3",children:"العناصر الثقافية"}),i.jsx("div",{className:"space-y-2",children:t.sourceAnalysis.culturalElements.map((g,x)=>i.jsxs("div",{className:"flex items-center gap-2 p-2 border rounded",children:[i.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),i.jsx("span",{className:"text-sm",children:g})]},x))})]})]})}),i.jsx(rt,{value:"quality",className:"space-y-4",children:i.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsxs("div",{className:"flex justify-between mb-2",children:[i.jsx("span",{className:"text-sm font-medium",children:"التعقيد"}),i.jsxs("span",{className:"text-sm",children:[t.sourceAnalysis.analysis.complexity,"%"]})]}),i.jsx(tt,{value:t.sourceAnalysis.analysis.complexity})]}),i.jsxs("div",{children:[i.jsxs("div",{className:"flex justify-between mb-2",children:[i.jsx("span",{className:"text-sm font-medium",children:"الابتكار"}),i.jsxs("span",{className:"text-sm",children:[t.sourceAnalysis.analysis.innovation,"%"]})]}),i.jsx(tt,{value:t.sourceAnalysis.analysis.innovation})]})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsxs("div",{className:"flex justify-between mb-2",children:[i.jsx("span",{className:"text-sm font-medium",children:"الأصالة"}),i.jsxs("span",{className:"text-sm",children:[t.sourceAnalysis.analysis.authenticity,"%"]})]}),i.jsx(tt,{value:t.sourceAnalysis.analysis.authenticity})]}),i.jsxs("div",{children:[i.jsxs("div",{className:"flex justify-between mb-2",children:[i.jsx("span",{className:"text-sm font-medium",children:"سهولة القراءة"}),i.jsxs("span",{className:"text-sm",children:[t.sourceAnalysis.analysis.readability,"%"]})]}),i.jsx(tt,{value:t.sourceAnalysis.analysis.readability})]})]})]})})]})})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx(xe,{variant:"outline",onClick:()=>{e({type:"SET_SOURCE_ANALYSIS",payload:null}),u(null),h(null)},children:"تحليل رواية جديدة"}),i.jsxs("div",{className:"flex gap-2",children:[i.jsxs(xe,{variant:"outline",size:"sm",children:[i.jsx(gr,{className:"h-4 w-4 ml-2"}),"تصدير التحليل"]}),i.jsxs(xe,{onClick:()=>e({type:"SET_CURRENT_STAGE",payload:2}),className:"flex items-center gap-2",children:[i.jsx(Rt,{className:"h-4 w-4"}),"الانتقال لمعمل الأفكار"]})]})]})]}):i.jsxs("div",{className:"space-y-6",children:[i.jsxs(ae,{children:[i.jsxs(Te,{children:[i.jsx(ke,{children:"رفع الرواية المصدر"}),i.jsx(Pt,{children:"ارفع ملف نصي للرواية التي تريد تحليل أسلوبها وبنيتها"})]}),i.jsxs(oe,{children:[i.jsxs("div",{...A(),className:`border-2 border-dashed rounded-lg p-8 text-center cursor-pointer transition-colors ${p?"border-blue-500 bg-blue-50":"border-gray-300 hover:border-gray-400"}`,children:[i.jsx("input",{...v()}),i.jsxs("div",{className:"relative flex flex-col items-center justify-center py-6",children:[i.jsx(sc,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),p?i.jsx("p",{className:"text-blue-600",children:"اسحب الملف هنا..."}):i.jsxs(i.Fragment,{children:[i.jsx("p",{className:"text-gray-600 mb-2",children:"اسحب ملف الرواية هنا أو"}),i.jsx(xe,{type:"button",variant:"outline",className:"pointer-events-none",children:"انقر للاختيار"}),i.jsx("p",{className:"text-sm text-gray-500 mt-3",children:l6e()}),i.jsxs("div",{className:"flex justify-center gap-4 mt-3",children:[i.jsxs("div",{className:"flex items-center gap-1 text-xs text-gray-500",children:[i.jsx(xn,{className:"h-3 w-3"}),i.jsx("span",{children:"PDF"})]}),i.jsxs("div",{className:"flex items-center gap-1 text-xs text-gray-500",children:[i.jsx(mP,{className:"h-3 w-3"}),i.jsx("span",{children:"DOCX"})]}),i.jsxs("div",{className:"flex items-center gap-1 text-xs text-gray-500",children:[i.jsx(xn,{className:"h-3 w-3"}),i.jsx("span",{children:"TXT"})]})]})]})]})]}),c&&d&&i.jsx("div",{className:"mt-4 p-4 bg-green-50 border border-green-200 rounded-lg flex items-center justify-between",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[d.fileType==="PDF"?i.jsx(xn,{className:"h-5 w-5 text-red-600"}):d.fileType==="DOCX"?i.jsx(mP,{className:"h-5 w-5 text-blue-600"}):i.jsx(xn,{className:"h-5 w-5 text-green-600"}),i.jsx(He,{variant:"secondary",className:"text-xs",children:d.fileType},d.fileType)]}),i.jsxs("div",{className:"flex-1",children:[i.jsx("p",{className:"font-medium text-green-900",children:c.name}),i.jsxs("div",{className:"text-sm text-green-700 flex gap-4",children:[i.jsxs("span",{children:["الحجم: ",cJ(c.size)]}),i.jsxs("span",{children:["الكلمات: ",d.wordCount.toLocaleString()]})]})]}),i.jsx(xe,{onClick:m,disabled:s,className:"flex items-center gap-2",children:s?i.jsxs(i.Fragment,{children:[i.jsx(Ar,{className:"h-4 w-4 animate-spin"}),"جارٍ التحليل..."]}):i.jsxs(i.Fragment,{children:[i.jsx(zt,{className:"h-4 w-4"}),"بدء التحليل"]})})]})})]})]}),s&&i.jsxs(ae,{children:[i.jsxs(Te,{children:[i.jsx(ke,{children:"جارٍ تحليل الرواية المصدر"}),i.jsx(Pt,{children:o||"يرجى الانتظار بينما نقوم بتحليل النص واستخلاص الأسلوب والبنية"})]}),i.jsx(oe,{children:i.jsxs("div",{className:"space-y-4",children:[i.jsx(tt,{value:n,className:"w-full"}),i.jsxs("div",{className:"flex justify-between text-sm text-gray-600",children:[i.jsxs("span",{children:["التقدم: ",n,"%"]}),n<100&&i.jsxs("span",{children:["الوقت المتبقي: ~",Math.max(0,7-Math.floor(n/15))," ثواني"]})]}),i.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 pt-4",children:[{label:"قراءة النص",icon:xn,completed:n>=10},{label:"تحليل المفردات",icon:zt,completed:n>=25},{label:"استخلاص الأسلوب",icon:Wa,completed:n>=60},{label:"تحليل الشخصيات",icon:Wn,completed:n>=75}].map((g,x)=>{const b=g.icon;return i.jsxs("div",{className:"flex items-center gap-2 p-2 rounded border",children:[i.jsx(b,{className:`h-4 w-4 ${g.completed?"text-green-600":"text-gray-400"}`}),i.jsx("span",{className:`text-sm ${g.completed?"text-green-900":"text-gray-600"}`,children:g.label}),g.completed&&i.jsx(Rt,{className:"h-3 w-3 text-green-600"})]},x)})})]})})]}),i.jsxs(ae,{className:"border-blue-200 bg-blue-50",children:[i.jsx(Te,{children:i.jsx(ke,{className:"text-blue-900",children:"نصائح لاختيار الرواية المصدر"})}),i.jsx(oe,{children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("div",{children:[i.jsx("h5",{className:"font-semibold text-blue-900 mb-3",children:"معايير الجودة"}),i.jsxs("ul",{className:"space-y-2 text-blue-800",children:[i.jsxs("li",{className:"flex items-start gap-2",children:[i.jsx(Rt,{className:"h-4 w-4 mt-0.5 text-blue-600"}),"اختر رواية غنية بالأسلوب والعمق الثقافي"]}),i.jsxs("li",{className:"flex items-start gap-2",children:[i.jsx(Rt,{className:"h-4 w-4 mt-0.5 text-blue-600"}),"تأكد من جودة النص وخلوه من الأخطاء الإملائية"]}),i.jsxs("li",{className:"flex items-start gap-2",children:[i.jsx(Rt,{className:"h-4 w-4 mt-0.5 text-blue-600"}),"يفضل أن تكون الرواية أكثر من 100 كلمة للحصول على تحليل مفيد"]}),i.jsxs("li",{className:"flex items-start gap-2",children:[i.jsx(Rt,{className:"h-4 w-4 mt-0.5 text-blue-600"}),"اختر أعمالاً متاحة للاستخدام التعليمي والبحثي"]})]})]}),i.jsxs("div",{children:[i.jsx("h5",{className:"font-semibold text-blue-900 mb-3",children:"الصيغ المدعومة"}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex items-center gap-3 p-2 bg-white rounded border",children:[i.jsx(xn,{className:"h-5 w-5 text-red-600"}),i.jsxs("div",{children:[i.jsx("div",{className:"font-medium text-sm",children:"PDF"}),i.jsx("div",{className:"text-xs text-gray-600",children:"ملفات PDF القابلة للبحث"})]})]}),i.jsxs("div",{className:"flex items-center gap-3 p-2 bg-white rounded border",children:[i.jsx(mP,{className:"h-5 w-5 text-blue-600"}),i.jsxs("div",{children:[i.jsx("div",{className:"font-medium text-sm",children:"DOCX"}),i.jsx("div",{className:"text-xs text-gray-600",children:"مستندات Microsoft Word"})]})]}),i.jsxs("div",{className:"flex items-center gap-3 p-2 bg-white rounded border",children:[i.jsx(xn,{className:"h-5 w-5 text-green-600"}),i.jsxs("div",{children:[i.jsx("div",{className:"font-medium text-sm",children:"TXT"}),i.jsx("div",{className:"text-xs text-gray-600",children:"ملفات نصية بسيطة"})]})]})]}),i.jsx("p",{className:"text-xs text-blue-700 mt-3",children:"الحد الأقصى: 50 ميجابايت لجميع الصيغ"})]})]})})]})]})},Bpe=()=>{const{state:t,dispatch:e}=Ju(),[n,r]=E.useState(!1),[s,a]=E.useState(0);E.useEffect(()=>{!t.generatedIdeas.length&&t.sourceAnalysis&&o()},[t.sourceAnalysis]);const o=async()=>{r(!0),a(0),e({type:"SET_LOADING",payload:!0});try{const u=[{step:"تحليل الأسلوب المصدر...",progress:20},{step:"استخلاص العناصر الثقافية...",progress:40},{step:"توليد المفاهيم الأولية...",progress:60},{step:"تطوير الأفكار المفصلة...",progress:80},{step:"تقييم الأفكار وترتيبها...",progress:100}];for(const h of u)await new Promise(f=>setTimeout(f,1500)),a(h.progress);const d=[{id:"1",title:"أصداء الذاكرة",genre:"رواية نفسية تاريخية",setting:"بغداد في القرن العشرين",timeframe:"فترة التحولات الاجتماعية (1950-1980)",mainCharacter:"مثقف عراقي يواجه صراعات الهوية",conflict:"الصراع بين التقاليد والحداثة في عالم متغير",theme:"البحث عن الهوية وسط التحولات الثقافية",synopsis:"تتبع الرواية قصة مثقف شاب في بغداد الحديثة يحاول التوفيق بين تراثه العائلي وطموحاته المعاصرة. عبر ذكرياته وتجاربه، تكشف الرواية عن صراعات جيل كامل مع قضايا الهوية والانتماء في عالم سريع التغير.",uniqueElements:["السرد متعدد الأزمنة","تداخل الذكريات والواقع","الرمزية الثقافية العميقة"],culturalContext:"الثقافة العراقية المعاصرة مع إشارات للتراث العربي الكلاسيكي",estimatedChapters:12,targetAudience:"القراء المهتمون بالأدب النفسي والقضايا الاجتماعية",rating:{originality:92,appeal:88,feasibility:95,culturalRelevance:96},selected:!1},{id:"2",title:"حدائق الأندلس الضائعة",genre:"رواية تاريخية خيالية",setting:"الأندلس في عصر الطوائف",timeframe:"القرن الحادي عشر الميلادي",mainCharacter:"شاعرة أندلسية تحافظ على التراث الثقافي",conflict:"النضال للحفاظ على التراث في زمن السقوط",theme:"قوة الثقافة والفن في مواجهة الانهيار السياسي",synopsis:"في ظل تفكك دول الطوائف، تقود شاعرة موهوبة مجموعة من المثقفين لحفظ التراث الأندلسي من الضياع. الرواية تمزج بين التاريخ والخيال لتحكي قصة الحضارة التي تقاوم الزوال عبر الكلمة والفن.",uniqueElements:["الشعر كعنصر سردي","المرأة كحافظة للتراث","الخيال التاريخي المؤسس"],culturalContext:"التراث الأندلسي العربي مع تأثيرات الثقافات المتعددة",estimatedChapters:15,targetAudience:"محبو التاريخ والأدب التراثي",rating:{originality:89,appeal:92,feasibility:88,culturalRelevance:98},selected:!1},{id:"3",title:"مقاهي دمشق",genre:"رواية اجتماعية معاصرة",setting:"دمشق القديمة والحديثة",timeframe:"العقد الأول من القرن الحادي والعشرين",mainCharacter:"صاحب مقهى تراثي يواجه تحديات العصر",conflict:"الصراع بين الحفاظ على التراث ومواكبة العصر",theme:"المكان كحافظ للذاكرة الجمعية والهوية الثقافية",synopsis:"من خلال مقهى شعبي في دمشق القديمة، تروي الحكاية قصص شخصيات متنوعة تمثل طبقات المجتمع المختلفة. كل شخصية تحمل حكايتها وأحلامها، والمقهى يصبح مرآة لتناقضات المجتمع وتطلعاته.",uniqueElements:["المكان كشخصية محورية","السرد المتعدد الأصوات","الواقعية الاجتماعية المعاصرة"],culturalContext:"الحياة الاجتماعية الدمشقية المعاصرة مع الجذور التراثية",estimatedChapters:10,targetAudience:"القراء المهتمون بالأدب الاجتماعي المعاصر",rating:{originality:85,appeal:94,feasibility:92,culturalRelevance:95},selected:!1},{id:"4",title:"رسائل من الصحراء",genre:"رواية فلسفية صوفية",setting:"واحة في قلب الصحراء العربية",timeframe:"زمن مفتوح يمزج الماضي والحاضر",mainCharacter:"باحث روحي يسعى للحكمة في البداوة",conflict:"البحث عن المعنى والحقيقة في عالم مادي",theme:"الرحلة الروحية والحكمة البدوية",synopsis:"عالم حضري يترك حياته المدنية ليعيش مع قبيلة بدوية في الصحراء، باحثاً عن معنى أعمق للوجود. من خلال تجاربه مع الحياة البدوية والحكمة التقليدية، يكتشف قيماً جديدة ويعيد تشكيل فهمه للحياة.",uniqueElements:["الفلسفة الصوفية","الحكمة البدوية","التأمل في الطبيعة"],culturalContext:"التراث البدوي العربي والفلسفة الصوفية الإسلامية",estimatedChapters:8,targetAudience:"القراء المهتمون بالأدب الفلسفي والروحي",rating:{originality:94,appeal:82,feasibility:89,culturalRelevance:91},selected:!1},{id:"5",title:"ليالي بيروت المضيئة",genre:"رواية رومانسية اجتماعية",setting:"بيروت في فترة النهضة الثقافية",timeframe:"الستينات والسبعينات من القرن العشرين",mainCharacter:"صحفية شابة تسعى لكسر القيود الاجتماعية",conflict:"النضال من أجل حقوق المرأة والحرية الفكرية",theme:"التحرر الاجتماعي والثقافي في المجتمع العربي",synopsis:"في بيروت الستينات، تناضل صحفية شابة من أجل حقها في التعبير والعمل في مجتمع ذكوري. قصة حبها مع كاتب مسرحي تتداخل مع نضالها المهني والاجتماعي، في خضم الحراك الثقافي والسياسي لتلك الفترة.",uniqueElements:["المرأة العربية المناضلة","الصحافة كأداة تغيير","بيروت الثقافية"],culturalContext:"النهضة الثقافية العربية في بيروت مع التأثيرات العالمية",estimatedChapters:14,targetAudience:"القراء المهتمون بقضايا المرأة والتاريخ الحديث",rating:{originality:87,appeal:96,feasibility:91,culturalRelevance:93},selected:!1}];e({type:"SET_GENERATED_IDEAS",payload:d}),Bi({title:"تم توليد الأفكار بنجاح",description:`تم توليد ${d.length} أفكار جديدة مبنية على تحليل الرواية المصدر.`})}catch{e({type:"SET_ERROR",payload:"فشل في توليد الأفكار. يرجى المحاولة مرة أخرى."})}finally{r(!1),e({type:"SET_LOADING",payload:!1})}},l=u=>{e({type:"SELECT_IDEA",payload:u}),Bi({title:"تم اختيار الفكرة",description:`تم اختيار "${u.title}" للمتابعة إلى مرحلة بناء المخطط.`})},c=()=>{e({type:"SET_GENERATED_IDEAS",payload:[]}),o()};return n?i.jsx("div",{className:"space-y-6",children:i.jsxs(ae,{children:[i.jsxs(Te,{children:[i.jsxs(ke,{className:"flex items-center gap-2",children:[i.jsx(En,{className:"h-6 w-6 text-green-600"}),"جارٍ توليد الأفكار المبدعة"]}),i.jsx(Pt,{children:"نقوم بتحليل الرواية المصدر وتوليد أفكار مبدعة مبنية على أسلوبها وثقافتها"})]}),i.jsx(oe,{children:i.jsxs("div",{className:"space-y-4",children:[i.jsx(tt,{value:s,className:"w-full"}),i.jsxs("div",{className:"flex justify-between text-sm text-gray-600",children:[i.jsxs("span",{children:["التقدم: ",s,"%"]}),i.jsxs("span",{children:["جارٍ توليد الفكرة ",Math.ceil(s/20)," من 5"]})]}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 pt-4",children:[{label:"تحليل الأسلوب",icon:Qn,completed:s>20},{label:"استخلاص الثقافة",icon:ta,completed:s>40},{label:"توليد المفاهيم",icon:Ha,completed:s>60},{label:"تطوير الأفكار",icon:dr,completed:s>80}].map((u,d)=>{const h=u.icon;return i.jsxs("div",{className:"flex items-center gap-2 p-2 rounded border",children:[i.jsx(h,{className:`h-4 w-4 ${u.completed?"text-green-600":"text-gray-400"}`}),i.jsx("span",{className:`text-sm ${u.completed?"text-green-900":"text-gray-600"}`,children:u.label}),u.completed&&i.jsx(Rt,{className:"h-3 w-3 text-green-600"})]},d)})})]})})]})}):t.generatedIdeas.length?i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-semibold",children:"الأفكار المولدة"}),i.jsxs("p",{className:"text-sm text-gray-600",children:[t.generatedIdeas.length," أفكار مبدعة مبنية على تحليل الرواية المصدر"]})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsxs(xe,{variant:"outline",onClick:c,className:"flex items-center gap-2",children:[i.jsx(Ar,{className:"h-4 w-4"}),"توليد أفكار جديدة"]}),t.selectedIdea&&i.jsxs(xe,{onClick:()=>e({type:"SET_CURRENT_STAGE",payload:3}),className:"flex items-center gap-2",children:[i.jsx(ea,{className:"h-4 w-4"}),"إلى بناء المخطط"]})]})]}),i.jsx("div",{className:"grid gap-6",children:t.generatedIdeas.map(u=>i.jsxs(ae,{className:`transition-all hover:shadow-lg ${u.selected?"ring-2 ring-blue-500 bg-blue-50":""}`,children:[i.jsx(Te,{children:i.jsxs("div",{className:"flex justify-between items-start",children:[i.jsxs("div",{className:"flex-1",children:[i.jsxs(ke,{className:"flex items-center gap-2",children:[u.title,u.selected&&i.jsx(Rt,{className:"h-5 w-5 text-blue-600"})]}),i.jsxs(Pt,{className:"mt-2",children:[i.jsx(He,{variant:"secondary",className:"mb-2",children:u.genre}),i.jsx("p",{children:u.synopsis})]})]}),!u.selected&&i.jsxs(xe,{onClick:()=>l(u),className:"flex items-center gap-2",children:[i.jsx(Rt,{className:"h-4 w-4"}),"اختيار هذه الفكرة"]})]})}),i.jsx(oe,{children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsxs("h5",{className:"font-semibold mb-2 flex items-center gap-2",children:[i.jsx(ik,{className:"h-4 w-4 text-blue-600"}),"المكان والزمان"]}),i.jsxs("p",{className:"text-sm text-gray-600 mb-1",children:[i.jsx("strong",{children:"المكان:"})," ",u.setting]}),i.jsxs("p",{className:"text-sm text-gray-600",children:[i.jsx("strong",{children:"الزمان:"})," ",u.timeframe]})]}),i.jsxs("div",{children:[i.jsxs("h5",{className:"font-semibold mb-2 flex items-center gap-2",children:[i.jsx(Wn,{className:"h-4 w-4 text-purple-600"}),"الشخصية والصراع"]}),i.jsxs("p",{className:"text-sm text-gray-600 mb-1",children:[i.jsx("strong",{children:"الشخصية الرئيسية:"})," ",u.mainCharacter]}),i.jsxs("p",{className:"text-sm text-gray-600",children:[i.jsx("strong",{children:"الصراع:"})," ",u.conflict]})]}),i.jsxs("div",{children:[i.jsxs("h5",{className:"font-semibold mb-2 flex items-center gap-2",children:[i.jsx(ta,{className:"h-4 w-4 text-red-600"}),"الموضوع والجمهور"]}),i.jsxs("p",{className:"text-sm text-gray-600 mb-1",children:[i.jsx("strong",{children:"الموضوع:"})," ",u.theme]}),i.jsxs("p",{className:"text-sm text-gray-600",children:[i.jsx("strong",{children:"الجمهور المستهدف:"})," ",u.targetAudience]})]})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("h5",{className:"font-semibold mb-2",children:"العناصر المميزة"}),i.jsx("div",{className:"flex flex-wrap gap-2",children:u.uniqueElements.map((d,h)=>i.jsx(He,{variant:"outline",children:d},h))})]}),i.jsxs("div",{children:[i.jsx("h5",{className:"font-semibold mb-2",children:"السياق الثقافي"}),i.jsx("p",{className:"text-sm text-gray-600",children:u.culturalContext})]}),i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(dr,{className:"h-4 w-4 text-gray-500"}),i.jsxs("span",{className:"text-sm text-gray-600",children:[u.estimatedChapters," فصل متوقع"]})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(xr,{className:"h-4 w-4 text-gray-500"}),i.jsxs("span",{className:"text-sm text-gray-600",children:["~",u.estimatedChapters*3e3," كلمة"]})]})]}),i.jsxs("div",{children:[i.jsx("h5",{className:"font-semibold mb-3",children:"تقييم الفكرة"}),i.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[i.jsxs("div",{children:[i.jsxs("div",{className:"flex justify-between text-xs mb-1",children:[i.jsx("span",{children:"الأصالة"}),i.jsxs("span",{children:[u.rating.originality,"%"]})]}),i.jsx(tt,{value:u.rating.originality,className:"h-2"})]}),i.jsxs("div",{children:[i.jsxs("div",{className:"flex justify-between text-xs mb-1",children:[i.jsx("span",{children:"الجاذبية"}),i.jsxs("span",{children:[u.rating.appeal,"%"]})]}),i.jsx(tt,{value:u.rating.appeal,className:"h-2"})]}),i.jsxs("div",{children:[i.jsxs("div",{className:"flex justify-between text-xs mb-1",children:[i.jsx("span",{children:"قابلية التنفيذ"}),i.jsxs("span",{children:[u.rating.feasibility,"%"]})]}),i.jsx(tt,{value:u.rating.feasibility,className:"h-2"})]}),i.jsxs("div",{children:[i.jsxs("div",{className:"flex justify-between text-xs mb-1",children:[i.jsx("span",{children:"الصلة الثقافية"}),i.jsxs("span",{children:[u.rating.culturalRelevance,"%"]})]}),i.jsx(tt,{value:u.rating.culturalRelevance,className:"h-2"})]})]})]})]})]})})]},u.id))}),t.selectedIdea&&i.jsx(ae,{className:"border-green-200 bg-green-50",children:i.jsx(oe,{className:"pt-6",children:i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx(Rt,{className:"h-6 w-6 text-green-600 mt-1"}),i.jsxs("div",{children:[i.jsxs("h4",{className:"font-semibold text-green-900 mb-2",children:['تم اختيار الفكرة: "',t.selectedIdea.title,'"']}),i.jsx("p",{className:"text-green-700 text-sm mb-4",children:"أنت الآن جاهز للانتقال إلى مرحلة بناء المخطط الذكي حيث سيتم تطوير هذه الفكرة إلى مخطط شامل للرواية."}),i.jsxs("div",{className:"flex gap-2",children:[i.jsxs(xe,{onClick:()=>e({type:"SET_CURRENT_STAGE",payload:3}),className:"flex items-center gap-2",children:[i.jsx(ea,{className:"h-4 w-4"}),"الانتقال لبناء المخطط"]}),i.jsx(xe,{variant:"outline",onClick:()=>e({type:"SELECT_IDEA",payload:null}),className:"flex items-center gap-2",children:"اختيار فكرة أخرى"})]})]})]})})})]}):i.jsx("div",{className:"space-y-6",children:i.jsxs(ae,{children:[i.jsxs(Te,{children:[i.jsx(ke,{children:"معمل الأفكار المحسن"}),i.jsx(Pt,{children:"لم يتم توليد أي أفكار بعد. ابدأ بتوليد أفكار مبدعة مبنية على تحليل الرواية المصدر."})]}),i.jsx(oe,{children:i.jsxs(xe,{onClick:o,className:"flex items-center gap-2",children:[i.jsx(En,{className:"h-4 w-4"}),"توليد أفكار جديدة"]})})]})})},Xc=dz,Dpe=hz,c6e=fz,Tpe=E.forwardRef(({className:t,...e},n)=>i.jsx(bS,{ref:n,className:Vt("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));Tpe.displayName=bS.displayName;const oc=E.forwardRef(({className:t,children:e,...n},r)=>i.jsxs(c6e,{children:[i.jsx(Tpe,{}),i.jsxs(wS,{ref:r,className:Vt("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border border-zinc-200 bg-white p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg dark:border-zinc-800 dark:bg-zinc-950",t),...n,children:[e,i.jsxs(Ak,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-white transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-zinc-950 focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-zinc-100 data-[state=open]:text-zinc-500 dark:ring-offset-zinc-950 dark:focus:ring-zinc-300 dark:data-[state=open]:bg-zinc-800 dark:data-[state=open]:text-zinc-400",children:[i.jsx(sh,{className:"h-4 w-4"}),i.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));oc.displayName=wS.displayName;const lc=({className:t,...e})=>i.jsx("div",{className:Vt("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});lc.displayName="DialogHeader";const u6e=({className:t,...e})=>i.jsx("div",{className:Vt("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});u6e.displayName="DialogFooter";const cc=E.forwardRef(({className:t,...e},n)=>i.jsx(jS,{ref:n,className:Vt("text-lg font-semibold leading-none tracking-tight",t),...e}));cc.displayName=jS.displayName;const Ww=E.forwardRef(({className:t,...e},n)=>i.jsx(NS,{ref:n,className:Vt("text-sm text-zinc-500 dark:text-zinc-400",t),...e}));Ww.displayName=NS.displayName;const Zi=E.forwardRef(({className:t,...e},n)=>i.jsx("textarea",{className:Vt("flex min-h-[60px] w-full rounded-md border border-zinc-200 bg-transparent px-3 py-2 text-base shadow-sm placeholder:text-zinc-500 focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-zinc-950 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm dark:border-zinc-800 dark:placeholder:text-zinc-400 dark:focus-visible:ring-zinc-300",t),ref:n,...e}));Zi.displayName="Textarea";var d6e="Label",kpe=E.forwardRef((t,e)=>i.jsx(Jt.label,{...t,ref:e,onMouseDown:n=>{var s;n.target.closest("button, input, select, textarea")||((s=t.onMouseDown)==null||s.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));kpe.displayName=d6e;var Fpe=kpe;const h6e=M2("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Dt=E.forwardRef(({className:t,...e},n)=>i.jsx(Fpe,{ref:n,className:Vt(h6e(),t),...e}));Dt.displayName=Fpe.displayName;const f6e=({character:t,onSave:e,onCancel:n})=>{const[r,s]=E.useState({name:"",role:"",age:30,description:"",background:"",personality:[],motivations:[],voice:"",dialogue_style:""}),[a,o]=E.useState(""),[l,c]=E.useState("");E.useEffect(()=>{t&&s({name:t.name,role:t.role,age:t.age,description:t.description,background:t.background,personality:t.personality||[],motivations:t.motivations||[],voice:t.voice,dialogue_style:t.dialogue_style||""})},[t]);const u=v=>{if(v.preventDefault(),!r.name.trim()){alert("يرجى إدخال اسم الشخصية");return}e({...r,relationships:(t==null?void 0:t.relationships)||[],development:(t==null?void 0:t.development)||[]})},d=()=>{a.trim()&&!r.personality.includes(a.trim())&&(s({...r,personality:[...r.personality,a.trim()]}),o(""))},h=v=>{s({...r,personality:r.personality.filter(p=>p!==v)})},f=()=>{l.trim()&&!r.motivations.includes(l.trim())&&(s({...r,motivations:[...r.motivations,l.trim()]}),c(""))},A=v=>{s({...r,motivations:r.motivations.filter(p=>p!==v)})};return i.jsx(Xc,{open:!0,onOpenChange:n,children:i.jsxs(oc,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",dir:"rtl",children:[i.jsxs(lc,{children:[i.jsx(cc,{children:t?"تحرير الشخصية":"إضافة شخصية جديدة"}),i.jsx(Ww,{children:t?"قم بتحرير بيانات الشخصية أدناه":"أدخل بيانات الشخصية الجديدة أدناه"})]}),i.jsxs("form",{onSubmit:u,className:"space-y-6",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(Dt,{htmlFor:"name",children:"اسم الشخصية *"}),i.jsx(wn,{id:"name",value:r.name,onChange:v=>s({...r,name:v.target.value}),placeholder:"أدخل اسم الشخصية",required:!0})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Dt,{htmlFor:"role",children:"دور الشخصية"}),i.jsx(wn,{id:"role",value:r.role,onChange:v=>s({...r,role:v.target.value}),placeholder:"مثل: البطل، الشخصية المساعدة، المعارض"})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Dt,{htmlFor:"age",children:"العمر"}),i.jsx(wn,{id:"age",type:"number",value:r.age,onChange:v=>s({...r,age:parseInt(v.target.value)||30}),min:"1",max:"100"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Dt,{htmlFor:"description",children:"وصف الشخصية"}),i.jsx(Zi,{id:"description",value:r.description,onChange:v=>s({...r,description:v.target.value}),placeholder:"وصف مختصر للشخصية ومظهرها وسماتها البارزة",rows:3})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Dt,{htmlFor:"background",children:"خلفية الشخصية"}),i.jsx(Zi,{id:"background",value:r.background,onChange:v=>s({...r,background:v.target.value}),placeholder:"الخلفية الثقافية والاجتماعية والمهنية للشخصية",rows:3})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Dt,{children:"السمات الشخصية"}),i.jsxs("div",{className:"flex gap-2 mb-2",children:[i.jsx(wn,{value:a,onChange:v=>o(v.target.value),placeholder:"أدخل سمة شخصية",onKeyPress:v=>v.key==="Enter"&&(v.preventDefault(),d())}),i.jsx(xe,{type:"button",onClick:d,size:"sm",children:i.jsx(us,{className:"h-4 w-4"})})]}),i.jsx("div",{className:"flex flex-wrap gap-2",children:r.personality.map((v,p)=>i.jsxs(He,{variant:"secondary",className:"flex items-center gap-1",children:[v,i.jsx(sh,{className:"h-3 w-3 cursor-pointer",onClick:()=>h(v)})]},p))})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Dt,{children:"دوافع الشخصية"}),i.jsxs("div",{className:"flex gap-2 mb-2",children:[i.jsx(wn,{value:l,onChange:v=>c(v.target.value),placeholder:"أدخل دافع أو هدف",onKeyPress:v=>v.key==="Enter"&&(v.preventDefault(),f())}),i.jsx(xe,{type:"button",onClick:f,size:"sm",children:i.jsx(us,{className:"h-4 w-4"})})]}),i.jsx("div",{className:"flex flex-wrap gap-2",children:r.motivations.map((v,p)=>i.jsxs(He,{variant:"outline",className:"flex items-center gap-1",children:[v,i.jsx(sh,{className:"h-3 w-3 cursor-pointer",onClick:()=>A(v)})]},p))})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Dt,{htmlFor:"voice",children:"صوت الشخصية"}),i.jsx(Zi,{id:"voice",value:r.voice,onChange:v=>s({...r,voice:v.target.value}),placeholder:"وصف أسلوب الحديث والصوت المميز للشخصية",rows:2})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Dt,{htmlFor:"dialogue_style",children:"أسلوب الحوار"}),i.jsx(Zi,{id:"dialogue_style",value:r.dialogue_style,onChange:v=>s({...r,dialogue_style:v.target.value}),placeholder:"أسلوب الحوار المميز للشخصية (رسمي، عامي، شاعري، إلخ)",rows:2})]}),i.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[i.jsx(xe,{type:"button",variant:"outline",onClick:n,children:"إلغاء"}),i.jsx(xe,{type:"submit",children:t?"حفظ التغييرات":"إضافة الشخصية"})]})]})]})})};function O_(t,[e,n]){return Math.min(n,Math.max(e,t))}const A6e=["top","right","bottom","left"],nx=Math.min,Hc=Math.max,JD=Math.round,a4=Math.floor,Sf=t=>({x:t,y:t}),p6e={left:"right",right:"left",bottom:"top",top:"bottom"},m6e={start:"end",end:"start"};function H7(t,e,n){return Hc(t,nx(e,n))}function Sp(t,e){return typeof t=="function"?t(e):t}function Ep(t){return t.split("-")[0]}function W2(t){return t.split("-")[1]}function b$(t){return t==="x"?"y":"x"}function w$(t){return t==="y"?"height":"width"}function wf(t){return["top","bottom"].includes(Ep(t))?"y":"x"}function j$(t){return b$(wf(t))}function g6e(t,e,n){n===void 0&&(n=!1);const r=W2(t),s=j$(t),a=w$(s);let o=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[a]>e.floating[a]&&(o=ZD(o)),[o,ZD(o)]}function x6e(t){const e=ZD(t);return[z7(t),e,z7(e)]}function z7(t){return t.replace(/start|end/g,e=>m6e[e])}function v6e(t,e,n){const r=["left","right"],s=["right","left"],a=["top","bottom"],o=["bottom","top"];switch(t){case"top":case"bottom":return n?e?s:r:e?r:s;case"left":case"right":return e?a:o;default:return[]}}function y6e(t,e,n,r){const s=W2(t);let a=v6e(Ep(t),n==="start",r);return s&&(a=a.map(o=>o+"-"+s),e&&(a=a.concat(a.map(z7)))),a}function ZD(t){return t.replace(/left|right|bottom|top/g,e=>p6e[e])}function b6e(t){return{top:0,right:0,bottom:0,left:0,...t}}function Ppe(t){return typeof t!="number"?b6e(t):{top:t,right:t,bottom:t,left:t}}function e3(t){const{x:e,y:n,width:r,height:s}=t;return{width:r,height:s,top:n,left:e,right:e+r,bottom:n+s,x:e,y:n}}function uJ(t,e,n){let{reference:r,floating:s}=t;const a=wf(e),o=j$(e),l=w$(o),c=Ep(e),u=a==="y",d=r.x+r.width/2-s.width/2,h=r.y+r.height/2-s.height/2,f=r[l]/2-s[l]/2;let A;switch(c){case"top":A={x:d,y:r.y-s.height};break;case"bottom":A={x:d,y:r.y+r.height};break;case"right":A={x:r.x+r.width,y:h};break;case"left":A={x:r.x-s.width,y:h};break;default:A={x:r.x,y:r.y}}switch(W2(e)){case"start":A[o]-=f*(n&&u?-1:1);break;case"end":A[o]+=f*(n&&u?-1:1);break}return A}const w6e=async(t,e,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:a=[],platform:o}=n,l=a.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(e));let u=await o.getElementRects({reference:t,floating:e,strategy:s}),{x:d,y:h}=uJ(u,r,c),f=r,A={},v=0;for(let p=0;p<l.length;p++){const{name:m,fn:g}=l[p],{x,y:b,data:j,reset:N}=await g({x:d,y:h,initialPlacement:r,placement:f,strategy:s,middlewareData:A,rects:u,platform:o,elements:{reference:t,floating:e}});d=x??d,h=b??h,A={...A,[m]:{...A[m],...j}},N&&v<=50&&(v++,typeof N=="object"&&(N.placement&&(f=N.placement),N.rects&&(u=N.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:s}):N.rects),{x:d,y:h}=uJ(u,f,c)),p=-1)}return{x:d,y:h,placement:f,strategy:s,middlewareData:A}};async function M_(t,e){var n;e===void 0&&(e={});const{x:r,y:s,platform:a,rects:o,elements:l,strategy:c}=t,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:h="floating",altBoundary:f=!1,padding:A=0}=Sp(e,t),v=Ppe(A),m=l[f?h==="floating"?"reference":"floating":h],g=e3(await a.getClippingRect({element:(n=await(a.isElement==null?void 0:a.isElement(m)))==null||n?m:m.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(l.floating)),boundary:u,rootBoundary:d,strategy:c})),x=h==="floating"?{x:r,y:s,width:o.floating.width,height:o.floating.height}:o.reference,b=await(a.getOffsetParent==null?void 0:a.getOffsetParent(l.floating)),j=await(a.isElement==null?void 0:a.isElement(b))?await(a.getScale==null?void 0:a.getScale(b))||{x:1,y:1}:{x:1,y:1},N=e3(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:x,offsetParent:b,strategy:c}):x);return{top:(g.top-N.top+v.top)/j.y,bottom:(N.bottom-g.bottom+v.bottom)/j.y,left:(g.left-N.left+v.left)/j.x,right:(N.right-g.right+v.right)/j.x}}const j6e=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:s,rects:a,platform:o,elements:l,middlewareData:c}=e,{element:u,padding:d=0}=Sp(t,e)||{};if(u==null)return{};const h=Ppe(d),f={x:n,y:r},A=j$(s),v=w$(A),p=await o.getDimensions(u),m=A==="y",g=m?"top":"left",x=m?"bottom":"right",b=m?"clientHeight":"clientWidth",j=a.reference[v]+a.reference[A]-f[A]-a.floating[v],N=f[A]-a.reference[A],_=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u));let C=_?_[b]:0;(!C||!await(o.isElement==null?void 0:o.isElement(_)))&&(C=l.floating[b]||a.floating[v]);const k=j/2-N/2,T=C/2-p[v]/2-1,O=nx(h[g],T),I=nx(h[x],T),F=O,M=C-p[v]-I,S=C/2-p[v]/2+k,q=H7(F,S,M),U=!c.arrow&&W2(s)!=null&&S!==q&&a.reference[v]/2-(S<F?O:I)-p[v]/2<0,L=U?S<F?S-F:S-M:0;return{[A]:f[A]+L,data:{[A]:q,centerOffset:S-q-L,...U&&{alignmentOffset:L}},reset:U}}}),N6e=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:s,middlewareData:a,rects:o,initialPlacement:l,platform:c,elements:u}=e,{mainAxis:d=!0,crossAxis:h=!0,fallbackPlacements:f,fallbackStrategy:A="bestFit",fallbackAxisSideDirection:v="none",flipAlignment:p=!0,...m}=Sp(t,e);if((n=a.arrow)!=null&&n.alignmentOffset)return{};const g=Ep(s),x=wf(l),b=Ep(l)===l,j=await(c.isRTL==null?void 0:c.isRTL(u.floating)),N=f||(b||!p?[ZD(l)]:x6e(l)),_=v!=="none";!f&&_&&N.push(...y6e(l,p,v,j));const C=[l,...N],k=await M_(e,m),T=[];let O=((r=a.flip)==null?void 0:r.overflows)||[];if(d&&T.push(k[g]),h){const S=g6e(s,o,j);T.push(k[S[0]],k[S[1]])}if(O=[...O,{placement:s,overflows:T}],!T.every(S=>S<=0)){var I,F;const S=(((I=a.flip)==null?void 0:I.index)||0)+1,q=C[S];if(q&&(!(h==="alignment"?x!==wf(q):!1)||O.every(z=>z.overflows[0]>0&&wf(z.placement)===x)))return{data:{index:S,overflows:O},reset:{placement:q}};let U=(F=O.filter(L=>L.overflows[0]<=0).sort((L,z)=>L.overflows[1]-z.overflows[1])[0])==null?void 0:F.placement;if(!U)switch(A){case"bestFit":{var M;const L=(M=O.filter(z=>{if(_){const $=wf(z.placement);return $===x||$==="y"}return!0}).map(z=>[z.placement,z.overflows.filter($=>$>0).reduce(($,K)=>$+K,0)]).sort((z,$)=>z[1]-$[1])[0])==null?void 0:M[0];L&&(U=L);break}case"initialPlacement":U=l;break}if(s!==U)return{reset:{placement:U}}}return{}}}};function dJ(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function hJ(t){return A6e.some(e=>t[e]>=0)}const _6e=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...s}=Sp(t,e);switch(r){case"referenceHidden":{const a=await M_(e,{...s,elementContext:"reference"}),o=dJ(a,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:hJ(o)}}}case"escaped":{const a=await M_(e,{...s,altBoundary:!0}),o=dJ(a,n.floating);return{data:{escapedOffsets:o,escaped:hJ(o)}}}default:return{}}}}};async function C6e(t,e){const{placement:n,platform:r,elements:s}=t,a=await(r.isRTL==null?void 0:r.isRTL(s.floating)),o=Ep(n),l=W2(n),c=wf(n)==="y",u=["left","top"].includes(o)?-1:1,d=a&&c?-1:1,h=Sp(e,t);let{mainAxis:f,crossAxis:A,alignmentAxis:v}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return l&&typeof v=="number"&&(A=l==="end"?v*-1:v),c?{x:A*d,y:f*u}:{x:f*u,y:A*d}}const S6e=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:s,y:a,placement:o,middlewareData:l}=e,c=await C6e(e,t);return o===((n=l.offset)==null?void 0:n.placement)&&(r=l.arrow)!=null&&r.alignmentOffset?{}:{x:s+c.x,y:a+c.y,data:{...c,placement:o}}}}},E6e=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:s}=e,{mainAxis:a=!0,crossAxis:o=!1,limiter:l={fn:m=>{let{x:g,y:x}=m;return{x:g,y:x}}},...c}=Sp(t,e),u={x:n,y:r},d=await M_(e,c),h=wf(Ep(s)),f=b$(h);let A=u[f],v=u[h];if(a){const m=f==="y"?"top":"left",g=f==="y"?"bottom":"right",x=A+d[m],b=A-d[g];A=H7(x,A,b)}if(o){const m=h==="y"?"top":"left",g=h==="y"?"bottom":"right",x=v+d[m],b=v-d[g];v=H7(x,v,b)}const p=l.fn({...e,[f]:A,[h]:v});return{...p,data:{x:p.x-n,y:p.y-r,enabled:{[f]:a,[h]:o}}}}}},B6e=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:s,rects:a,middlewareData:o}=e,{offset:l=0,mainAxis:c=!0,crossAxis:u=!0}=Sp(t,e),d={x:n,y:r},h=wf(s),f=b$(h);let A=d[f],v=d[h];const p=Sp(l,e),m=typeof p=="number"?{mainAxis:p,crossAxis:0}:{mainAxis:0,crossAxis:0,...p};if(c){const b=f==="y"?"height":"width",j=a.reference[f]-a.floating[b]+m.mainAxis,N=a.reference[f]+a.reference[b]-m.mainAxis;A<j?A=j:A>N&&(A=N)}if(u){var g,x;const b=f==="y"?"width":"height",j=["top","left"].includes(Ep(s)),N=a.reference[h]-a.floating[b]+(j&&((g=o.offset)==null?void 0:g[h])||0)+(j?0:m.crossAxis),_=a.reference[h]+a.reference[b]+(j?0:((x=o.offset)==null?void 0:x[h])||0)-(j?m.crossAxis:0);v<N?v=N:v>_&&(v=_)}return{[f]:A,[h]:v}}}},D6e=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:s,rects:a,platform:o,elements:l}=e,{apply:c=()=>{},...u}=Sp(t,e),d=await M_(e,u),h=Ep(s),f=W2(s),A=wf(s)==="y",{width:v,height:p}=a.floating;let m,g;h==="top"||h==="bottom"?(m=h,g=f===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(g=h,m=f==="end"?"top":"bottom");const x=p-d.top-d.bottom,b=v-d.left-d.right,j=nx(p-d[m],x),N=nx(v-d[g],b),_=!e.middlewareData.shift;let C=j,k=N;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(k=b),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(C=x),_&&!f){const O=Hc(d.left,0),I=Hc(d.right,0),F=Hc(d.top,0),M=Hc(d.bottom,0);A?k=v-2*(O!==0||I!==0?O+I:Hc(d.left,d.right)):C=p-2*(F!==0||M!==0?F+M:Hc(d.top,d.bottom))}await c({...e,availableWidth:k,availableHeight:C});const T=await o.getDimensions(l.floating);return v!==T.width||p!==T.height?{reset:{rects:!0}}:{}}}};function Yk(){return typeof window<"u"}function q2(t){return Upe(t)?(t.nodeName||"").toLowerCase():"#document"}function Vc(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Mf(t){var e;return(e=(Upe(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function Upe(t){return Yk()?t instanceof Node||t instanceof Vc(t).Node:!1}function dh(t){return Yk()?t instanceof Element||t instanceof Vc(t).Element:!1}function Pf(t){return Yk()?t instanceof HTMLElement||t instanceof Vc(t).HTMLElement:!1}function fJ(t){return!Yk()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Vc(t).ShadowRoot}function kS(t){const{overflow:e,overflowX:n,overflowY:r,display:s}=hh(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(s)}function T6e(t){return["table","td","th"].includes(q2(t))}function Jk(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function N$(t){const e=_$(),n=dh(t)?hh(t):t;return["transform","translate","scale","rotate","perspective"].some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function k6e(t){let e=rx(t);for(;Pf(e)&&!qw(e);){if(N$(e))return e;if(Jk(e))return null;e=rx(e)}return null}function _$(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function qw(t){return["html","body","#document"].includes(q2(t))}function hh(t){return Vc(t).getComputedStyle(t)}function Zk(t){return dh(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function rx(t){if(q2(t)==="html")return t;const e=t.assignedSlot||t.parentNode||fJ(t)&&t.host||Mf(t);return fJ(e)?e.host:e}function Ipe(t){const e=rx(t);return qw(e)?t.ownerDocument?t.ownerDocument.body:t.body:Pf(e)&&kS(e)?e:Ipe(e)}function L_(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const s=Ipe(t),a=s===((r=t.ownerDocument)==null?void 0:r.body),o=Vc(s);if(a){const l=$7(o);return e.concat(o,o.visualViewport||[],kS(s)?s:[],l&&n?L_(l):[])}return e.concat(s,L_(s,[],n))}function $7(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function Ope(t){const e=hh(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const s=Pf(t),a=s?t.offsetWidth:n,o=s?t.offsetHeight:r,l=JD(n)!==a||JD(r)!==o;return l&&(n=a,r=o),{width:n,height:r,$:l}}function C$(t){return dh(t)?t:t.contextElement}function N1(t){const e=C$(t);if(!Pf(e))return Sf(1);const n=e.getBoundingClientRect(),{width:r,height:s,$:a}=Ope(e);let o=(a?JD(n.width):n.width)/r,l=(a?JD(n.height):n.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const F6e=Sf(0);function Mpe(t){const e=Vc(t);return!_$()||!e.visualViewport?F6e:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function P6e(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==Vc(t)?!1:e}function dy(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const s=t.getBoundingClientRect(),a=C$(t);let o=Sf(1);e&&(r?dh(r)&&(o=N1(r)):o=N1(t));const l=P6e(a,n,r)?Mpe(a):Sf(0);let c=(s.left+l.x)/o.x,u=(s.top+l.y)/o.y,d=s.width/o.x,h=s.height/o.y;if(a){const f=Vc(a),A=r&&dh(r)?Vc(r):r;let v=f,p=$7(v);for(;p&&r&&A!==v;){const m=N1(p),g=p.getBoundingClientRect(),x=hh(p),b=g.left+(p.clientLeft+parseFloat(x.paddingLeft))*m.x,j=g.top+(p.clientTop+parseFloat(x.paddingTop))*m.y;c*=m.x,u*=m.y,d*=m.x,h*=m.y,c+=b,u+=j,v=Vc(p),p=$7(v)}}return e3({width:d,height:h,x:c,y:u})}function S$(t,e){const n=Zk(t).scrollLeft;return e?e.left+n:dy(Mf(t)).left+n}function Lpe(t,e,n){n===void 0&&(n=!1);const r=t.getBoundingClientRect(),s=r.left+e.scrollLeft-(n?0:S$(t,r)),a=r.top+e.scrollTop;return{x:s,y:a}}function U6e(t){let{elements:e,rect:n,offsetParent:r,strategy:s}=t;const a=s==="fixed",o=Mf(r),l=e?Jk(e.floating):!1;if(r===o||l&&a)return n;let c={scrollLeft:0,scrollTop:0},u=Sf(1);const d=Sf(0),h=Pf(r);if((h||!h&&!a)&&((q2(r)!=="body"||kS(o))&&(c=Zk(r)),Pf(r))){const A=dy(r);u=N1(r),d.x=A.x+r.clientLeft,d.y=A.y+r.clientTop}const f=o&&!h&&!a?Lpe(o,c,!0):Sf(0);return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-c.scrollLeft*u.x+d.x+f.x,y:n.y*u.y-c.scrollTop*u.y+d.y+f.y}}function I6e(t){return Array.from(t.getClientRects())}function O6e(t){const e=Mf(t),n=Zk(t),r=t.ownerDocument.body,s=Hc(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),a=Hc(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+S$(t);const l=-n.scrollTop;return hh(r).direction==="rtl"&&(o+=Hc(e.clientWidth,r.clientWidth)-s),{width:s,height:a,x:o,y:l}}function M6e(t,e){const n=Vc(t),r=Mf(t),s=n.visualViewport;let a=r.clientWidth,o=r.clientHeight,l=0,c=0;if(s){a=s.width,o=s.height;const u=_$();(!u||u&&e==="fixed")&&(l=s.offsetLeft,c=s.offsetTop)}return{width:a,height:o,x:l,y:c}}function L6e(t,e){const n=dy(t,!0,e==="fixed"),r=n.top+t.clientTop,s=n.left+t.clientLeft,a=Pf(t)?N1(t):Sf(1),o=t.clientWidth*a.x,l=t.clientHeight*a.y,c=s*a.x,u=r*a.y;return{width:o,height:l,x:c,y:u}}function AJ(t,e,n){let r;if(e==="viewport")r=M6e(t,n);else if(e==="document")r=O6e(Mf(t));else if(dh(e))r=L6e(e,n);else{const s=Mpe(t);r={x:e.x-s.x,y:e.y-s.y,width:e.width,height:e.height}}return e3(r)}function Rpe(t,e){const n=rx(t);return n===e||!dh(n)||qw(n)?!1:hh(n).position==="fixed"||Rpe(n,e)}function R6e(t,e){const n=e.get(t);if(n)return n;let r=L_(t,[],!1).filter(l=>dh(l)&&q2(l)!=="body"),s=null;const a=hh(t).position==="fixed";let o=a?rx(t):t;for(;dh(o)&&!qw(o);){const l=hh(o),c=N$(o);!c&&l.position==="fixed"&&(s=null),(a?!c&&!s:!c&&l.position==="static"&&!!s&&["absolute","fixed"].includes(s.position)||kS(o)&&!c&&Rpe(t,o))?r=r.filter(d=>d!==o):s=l,o=rx(o)}return e.set(t,r),r}function Q6e(t){let{element:e,boundary:n,rootBoundary:r,strategy:s}=t;const o=[...n==="clippingAncestors"?Jk(e)?[]:R6e(e,this._c):[].concat(n),r],l=o[0],c=o.reduce((u,d)=>{const h=AJ(e,d,s);return u.top=Hc(h.top,u.top),u.right=nx(h.right,u.right),u.bottom=nx(h.bottom,u.bottom),u.left=Hc(h.left,u.left),u},AJ(e,l,s));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function H6e(t){const{width:e,height:n}=Ope(t);return{width:e,height:n}}function z6e(t,e,n){const r=Pf(e),s=Mf(e),a=n==="fixed",o=dy(t,!0,a,e);let l={scrollLeft:0,scrollTop:0};const c=Sf(0);function u(){c.x=S$(s)}if(r||!r&&!a)if((q2(e)!=="body"||kS(s))&&(l=Zk(e)),r){const A=dy(e,!0,a,e);c.x=A.x+e.clientLeft,c.y=A.y+e.clientTop}else s&&u();a&&!r&&s&&u();const d=s&&!r&&!a?Lpe(s,l):Sf(0),h=o.left+l.scrollLeft-c.x-d.x,f=o.top+l.scrollTop-c.y-d.y;return{x:h,y:f,width:o.width,height:o.height}}function YU(t){return hh(t).position==="static"}function pJ(t,e){if(!Pf(t)||hh(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return Mf(t)===n&&(n=n.ownerDocument.body),n}function Qpe(t,e){const n=Vc(t);if(Jk(t))return n;if(!Pf(t)){let s=rx(t);for(;s&&!qw(s);){if(dh(s)&&!YU(s))return s;s=rx(s)}return n}let r=pJ(t,e);for(;r&&T6e(r)&&YU(r);)r=pJ(r,e);return r&&qw(r)&&YU(r)&&!N$(r)?n:r||k6e(t)||n}const $6e=async function(t){const e=this.getOffsetParent||Qpe,n=this.getDimensions,r=await n(t.floating);return{reference:z6e(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function W6e(t){return hh(t).direction==="rtl"}const q6e={convertOffsetParentRelativeRectToViewportRelativeRect:U6e,getDocumentElement:Mf,getClippingRect:Q6e,getOffsetParent:Qpe,getElementRects:$6e,getClientRects:I6e,getDimensions:H6e,getScale:N1,isElement:dh,isRTL:W6e};function Hpe(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function V6e(t,e){let n=null,r;const s=Mf(t);function a(){var l;clearTimeout(r),(l=n)==null||l.disconnect(),n=null}function o(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),a();const u=t.getBoundingClientRect(),{left:d,top:h,width:f,height:A}=u;if(l||e(),!f||!A)return;const v=a4(h),p=a4(s.clientWidth-(d+f)),m=a4(s.clientHeight-(h+A)),g=a4(d),b={rootMargin:-v+"px "+-p+"px "+-m+"px "+-g+"px",threshold:Hc(0,nx(1,c))||1};let j=!0;function N(_){const C=_[0].intersectionRatio;if(C!==c){if(!j)return o();C?o(!1,C):r=setTimeout(()=>{o(!1,1e-7)},1e3)}C===1&&!Hpe(u,t.getBoundingClientRect())&&o(),j=!1}try{n=new IntersectionObserver(N,{...b,root:s.ownerDocument})}catch{n=new IntersectionObserver(N,b)}n.observe(t)}return o(!0),a}function K6e(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:a=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,u=C$(t),d=s||a?[...u?L_(u):[],...L_(e)]:[];d.forEach(g=>{s&&g.addEventListener("scroll",n,{passive:!0}),a&&g.addEventListener("resize",n)});const h=u&&l?V6e(u,n):null;let f=-1,A=null;o&&(A=new ResizeObserver(g=>{let[x]=g;x&&x.target===u&&A&&(A.unobserve(e),cancelAnimationFrame(f),f=requestAnimationFrame(()=>{var b;(b=A)==null||b.observe(e)})),n()}),u&&!c&&A.observe(u),A.observe(e));let v,p=c?dy(t):null;c&&m();function m(){const g=dy(t);p&&!Hpe(p,g)&&n(),p=g,v=requestAnimationFrame(m)}return n(),()=>{var g;d.forEach(x=>{s&&x.removeEventListener("scroll",n),a&&x.removeEventListener("resize",n)}),h==null||h(),(g=A)==null||g.disconnect(),A=null,c&&cancelAnimationFrame(v)}}const G6e=S6e,X6e=E6e,Y6e=N6e,J6e=D6e,Z6e=_6e,mJ=j6e,ePe=B6e,tPe=(t,e,n)=>{const r=new Map,s={platform:q6e,...n},a={...s.platform,_c:r};return w6e(t,e,{...s,platform:a})};var nPe=typeof document<"u",rPe=function(){},cD=nPe?E.useLayoutEffect:rPe;function t3(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,s;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!t3(t[r],e[r]))return!1;return!0}if(s=Object.keys(t),n=s.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,s[r]))return!1;for(r=n;r--!==0;){const a=s[r];if(!(a==="_owner"&&t.$$typeof)&&!t3(t[a],e[a]))return!1}return!0}return t!==t&&e!==e}function zpe(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function gJ(t,e){const n=zpe(t);return Math.round(e*n)/n}function JU(t){const e=E.useRef(t);return cD(()=>{e.current=t}),e}function iPe(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:a,floating:o}={},transform:l=!0,whileElementsMounted:c,open:u}=t,[d,h]=E.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[f,A]=E.useState(r);t3(f,r)||A(r);const[v,p]=E.useState(null),[m,g]=E.useState(null),x=E.useCallback(z=>{z!==_.current&&(_.current=z,p(z))},[]),b=E.useCallback(z=>{z!==C.current&&(C.current=z,g(z))},[]),j=a||v,N=o||m,_=E.useRef(null),C=E.useRef(null),k=E.useRef(d),T=c!=null,O=JU(c),I=JU(s),F=JU(u),M=E.useCallback(()=>{if(!_.current||!C.current)return;const z={placement:e,strategy:n,middleware:f};I.current&&(z.platform=I.current),tPe(_.current,C.current,z).then($=>{const K={...$,isPositioned:F.current!==!1};S.current&&!t3(k.current,K)&&(k.current=K,U2.flushSync(()=>{h(K)}))})},[f,e,n,I,F]);cD(()=>{u===!1&&k.current.isPositioned&&(k.current.isPositioned=!1,h(z=>({...z,isPositioned:!1})))},[u]);const S=E.useRef(!1);cD(()=>(S.current=!0,()=>{S.current=!1}),[]),cD(()=>{if(j&&(_.current=j),N&&(C.current=N),j&&N){if(O.current)return O.current(j,N,M);M()}},[j,N,M,O,T]);const q=E.useMemo(()=>({reference:_,floating:C,setReference:x,setFloating:b}),[x,b]),U=E.useMemo(()=>({reference:j,floating:N}),[j,N]),L=E.useMemo(()=>{const z={position:n,left:0,top:0};if(!U.floating)return z;const $=gJ(U.floating,d.x),K=gJ(U.floating,d.y);return l?{...z,transform:"translate("+$+"px, "+K+"px)",...zpe(U.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:$,top:K}},[n,l,U.floating,d.x,d.y]);return E.useMemo(()=>({...d,update:M,refs:q,elements:U,floatingStyles:L}),[d,M,q,U,L])}const sPe=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:s}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?mJ({element:r.current,padding:s}).fn(n):{}:r?mJ({element:r,padding:s}).fn(n):{}}}},aPe=(t,e)=>({...G6e(t),options:[t,e]}),oPe=(t,e)=>({...X6e(t),options:[t,e]}),lPe=(t,e)=>({...ePe(t),options:[t,e]}),cPe=(t,e)=>({...Y6e(t),options:[t,e]}),uPe=(t,e)=>({...J6e(t),options:[t,e]}),dPe=(t,e)=>({...Z6e(t),options:[t,e]}),hPe=(t,e)=>({...sPe(t),options:[t,e]});var fPe="Arrow",$pe=E.forwardRef((t,e)=>{const{children:n,width:r=10,height:s=5,...a}=t;return i.jsx(Jt.svg,{...a,ref:e,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:i.jsx("polygon",{points:"0,0 30,0 15,10"})})});$pe.displayName=fPe;var APe=$pe;function FS(t){const[e,n]=E.useState(void 0);return Qs(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const a=s[0];let o,l;if("borderBoxSize"in a){const c=a.borderBoxSize,u=Array.isArray(c)?c[0]:c;o=u.inlineSize,l=u.blockSize}else o=t.offsetWidth,l=t.offsetHeight;n({width:o,height:l})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var E$="Popper",[Wpe,V2]=qa(E$),[pPe,qpe]=Wpe(E$),Vpe=t=>{const{__scopePopper:e,children:n}=t,[r,s]=E.useState(null);return i.jsx(pPe,{scope:e,anchor:r,onAnchorChange:s,children:n})};Vpe.displayName=E$;var Kpe="PopperAnchor",Gpe=E.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...s}=t,a=qpe(Kpe,n),o=E.useRef(null),l=Tn(e,o);return E.useEffect(()=>{a.onAnchorChange((r==null?void 0:r.current)||o.current)}),r?null:i.jsx(Jt.div,{...s,ref:l})});Gpe.displayName=Kpe;var B$="PopperContent",[mPe,gPe]=Wpe(B$),Xpe=E.forwardRef((t,e)=>{var se,Ae,he,Be,Me,Ie;const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:a="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:h="partial",hideWhenDetached:f=!1,updatePositionStrategy:A="optimized",onPlaced:v,...p}=t,m=qpe(B$,n),[g,x]=E.useState(null),b=Tn(e,Ye=>x(Ye)),[j,N]=E.useState(null),_=FS(j),C=(_==null?void 0:_.width)??0,k=(_==null?void 0:_.height)??0,T=r+(a!=="center"?"-"+a:""),O=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},I=Array.isArray(u)?u:[u],F=I.length>0,M={padding:O,boundary:I.filter(vPe),altBoundary:F},{refs:S,floatingStyles:q,placement:U,isPositioned:L,middlewareData:z}=iPe({strategy:"fixed",placement:T,whileElementsMounted:(...Ye)=>K6e(...Ye,{animationFrame:A==="always"}),elements:{reference:m.anchor},middleware:[aPe({mainAxis:s+k,alignmentAxis:o}),c&&oPe({mainAxis:!0,crossAxis:!1,limiter:h==="partial"?lPe():void 0,...M}),c&&cPe({...M}),uPe({...M,apply:({elements:Ye,rects:X,availableWidth:ue,availableHeight:re})=>{const{width:de,height:ce}=X.reference,Ne=Ye.floating.style;Ne.setProperty("--radix-popper-available-width",`${ue}px`),Ne.setProperty("--radix-popper-available-height",`${re}px`),Ne.setProperty("--radix-popper-anchor-width",`${de}px`),Ne.setProperty("--radix-popper-anchor-height",`${ce}px`)}}),j&&hPe({element:j,padding:l}),yPe({arrowWidth:C,arrowHeight:k}),f&&dPe({strategy:"referenceHidden",...M})]}),[$,K]=Zpe(U),V=Gs(v);Qs(()=>{L&&(V==null||V())},[L,V]);const H=(se=z.arrow)==null?void 0:se.x,W=(Ae=z.arrow)==null?void 0:Ae.y,Y=((he=z.arrow)==null?void 0:he.centerOffset)!==0,[ee,ie]=E.useState();return Qs(()=>{g&&ie(window.getComputedStyle(g).zIndex)},[g]),i.jsx("div",{ref:S.setFloating,"data-radix-popper-content-wrapper":"",style:{...q,transform:L?q.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ee,"--radix-popper-transform-origin":[(Be=z.transformOrigin)==null?void 0:Be.x,(Me=z.transformOrigin)==null?void 0:Me.y].join(" "),...((Ie=z.hide)==null?void 0:Ie.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:i.jsx(mPe,{scope:n,placedSide:$,onArrowChange:N,arrowX:H,arrowY:W,shouldHideArrow:Y,children:i.jsx(Jt.div,{"data-side":$,"data-align":K,...p,ref:b,style:{...p.style,animation:L?void 0:"none"}})})})});Xpe.displayName=B$;var Ype="PopperArrow",xPe={top:"bottom",right:"left",bottom:"top",left:"right"},Jpe=E.forwardRef(function(e,n){const{__scopePopper:r,...s}=e,a=gPe(Ype,r),o=xPe[a.placedSide];return i.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:i.jsx(APe,{...s,ref:n,style:{...s.style,display:"block"}})})});Jpe.displayName=Ype;function vPe(t){return t!==null}var yPe=t=>({name:"transformOrigin",options:t,fn(e){var m,g,x;const{placement:n,rects:r,middlewareData:s}=e,o=((m=s.arrow)==null?void 0:m.centerOffset)!==0,l=o?0:t.arrowWidth,c=o?0:t.arrowHeight,[u,d]=Zpe(n),h={start:"0%",center:"50%",end:"100%"}[d],f=(((g=s.arrow)==null?void 0:g.x)??0)+l/2,A=(((x=s.arrow)==null?void 0:x.y)??0)+c/2;let v="",p="";return u==="bottom"?(v=o?h:`${f}px`,p=`${-c}px`):u==="top"?(v=o?h:`${f}px`,p=`${r.floating.height+c}px`):u==="right"?(v=`${-c}px`,p=o?h:`${A}px`):u==="left"&&(v=`${r.floating.width+c}px`,p=o?h:`${A}px`),{data:{x:v,y:p}}}});function Zpe(t){const[e,n="center"]=t.split("-");return[e,n]}var D$=Vpe,eF=Gpe,T$=Xpe,k$=Jpe;function PS(t){const e=E.useRef({value:t,previous:t});return E.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var bPe=[" ","Enter","ArrowUp","ArrowDown"],wPe=[" ","Enter"],hy="Select",[tF,nF,jPe]=ok(hy),[K2,kmt]=qa(hy,[jPe,V2]),rF=V2(),[NPe,xx]=K2(hy),[_Pe,CPe]=K2(hy),eme=t=>{const{__scopeSelect:e,children:n,open:r,defaultOpen:s,onOpenChange:a,value:o,defaultValue:l,onValueChange:c,dir:u,name:d,autoComplete:h,disabled:f,required:A,form:v}=t,p=rF(e),[m,g]=E.useState(null),[x,b]=E.useState(null),[j,N]=E.useState(!1),_=H2(u),[C,k]=Xu({prop:r,defaultProp:s??!1,onChange:a,caller:hy}),[T,O]=Xu({prop:o,defaultProp:l,onChange:c,caller:hy}),I=E.useRef(null),F=m?v||!!m.closest("form"):!0,[M,S]=E.useState(new Set),q=Array.from(M).map(U=>U.props.value).join(";");return i.jsx(D$,{...p,children:i.jsxs(NPe,{required:A,scope:e,trigger:m,onTriggerChange:g,valueNode:x,onValueNodeChange:b,valueNodeHasChildren:j,onValueNodeHasChildrenChange:N,contentId:Cf(),value:T,onValueChange:O,open:C,onOpenChange:k,dir:_,triggerPointerDownPosRef:I,disabled:f,children:[i.jsx(tF.Provider,{scope:e,children:i.jsx(_Pe,{scope:t.__scopeSelect,onNativeOptionAdd:E.useCallback(U=>{S(L=>new Set(L).add(U))},[]),onNativeOptionRemove:E.useCallback(U=>{S(L=>{const z=new Set(L);return z.delete(U),z})},[]),children:n})}),F?i.jsxs(Nme,{"aria-hidden":!0,required:A,tabIndex:-1,name:d,autoComplete:h,value:T,onChange:U=>O(U.target.value),disabled:f,form:v,children:[T===void 0?i.jsx("option",{value:""}):null,Array.from(M)]},q):null]})})};eme.displayName=hy;var tme="SelectTrigger",nme=E.forwardRef((t,e)=>{const{__scopeSelect:n,disabled:r=!1,...s}=t,a=rF(n),o=xx(tme,n),l=o.disabled||r,c=Tn(e,o.onTriggerChange),u=nF(n),d=E.useRef("touch"),[h,f,A]=Cme(p=>{const m=u().filter(b=>!b.disabled),g=m.find(b=>b.value===o.value),x=Sme(m,p,g);x!==void 0&&o.onValueChange(x.value)}),v=p=>{l||(o.onOpenChange(!0),A()),p&&(o.triggerPointerDownPosRef.current={x:Math.round(p.pageX),y:Math.round(p.pageY)})};return i.jsx(eF,{asChild:!0,...a,children:i.jsx(Jt.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":_me(o.value)?"":void 0,...s,ref:c,onClick:Ht(s.onClick,p=>{p.currentTarget.focus(),d.current!=="mouse"&&v(p)}),onPointerDown:Ht(s.onPointerDown,p=>{d.current=p.pointerType;const m=p.target;m.hasPointerCapture(p.pointerId)&&m.releasePointerCapture(p.pointerId),p.button===0&&p.ctrlKey===!1&&p.pointerType==="mouse"&&(v(p),p.preventDefault())}),onKeyDown:Ht(s.onKeyDown,p=>{const m=h.current!=="";!(p.ctrlKey||p.altKey||p.metaKey)&&p.key.length===1&&f(p.key),!(m&&p.key===" ")&&bPe.includes(p.key)&&(v(),p.preventDefault())})})})});nme.displayName=tme;var rme="SelectValue",ime=E.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:s,children:a,placeholder:o="",...l}=t,c=xx(rme,n),{onValueNodeHasChildrenChange:u}=c,d=a!==void 0,h=Tn(e,c.onValueNodeChange);return Qs(()=>{u(d)},[u,d]),i.jsx(Jt.span,{...l,ref:h,style:{pointerEvents:"none"},children:_me(c.value)?i.jsx(i.Fragment,{children:o}):a})});ime.displayName=rme;var SPe="SelectIcon",sme=E.forwardRef((t,e)=>{const{__scopeSelect:n,children:r,...s}=t;return i.jsx(Jt.span,{"aria-hidden":!0,...s,ref:e,children:r||"▼"})});sme.displayName=SPe;var EPe="SelectPortal",ame=t=>i.jsx(Q2,{asChild:!0,...t});ame.displayName=EPe;var fy="SelectContent",ome=E.forwardRef((t,e)=>{const n=xx(fy,t.__scopeSelect),[r,s]=E.useState();if(Qs(()=>{s(new DocumentFragment)},[]),!n.open){const a=r;return a?U2.createPortal(i.jsx(lme,{scope:t.__scopeSelect,children:i.jsx(tF.Slot,{scope:t.__scopeSelect,children:i.jsx("div",{children:t.children})})}),a):null}return i.jsx(cme,{...t,ref:e})});ome.displayName=fy;var Ud=10,[lme,vx]=K2(fy),BPe="SelectContentImpl",DPe=iy("SelectContent.RemoveScroll"),cme=E.forwardRef((t,e)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:a,onPointerDownOutside:o,side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:h,collisionBoundary:f,collisionPadding:A,sticky:v,hideWhenDetached:p,avoidCollisions:m,...g}=t,x=xx(fy,n),[b,j]=E.useState(null),[N,_]=E.useState(null),C=Tn(e,se=>j(se)),[k,T]=E.useState(null),[O,I]=E.useState(null),F=nF(n),[M,S]=E.useState(!1),q=E.useRef(!1);E.useEffect(()=>{if(b)return oz(b)},[b]),az();const U=E.useCallback(se=>{const[Ae,...he]=F().map(Ie=>Ie.ref.current),[Be]=he.slice(-1),Me=document.activeElement;for(const Ie of se)if(Ie===Me||(Ie==null||Ie.scrollIntoView({block:"nearest"}),Ie===Ae&&N&&(N.scrollTop=0),Ie===Be&&N&&(N.scrollTop=N.scrollHeight),Ie==null||Ie.focus(),document.activeElement!==Me))return},[F,N]),L=E.useCallback(()=>U([k,b]),[U,k,b]);E.useEffect(()=>{M&&L()},[M,L]);const{onOpenChange:z,triggerPointerDownPosRef:$}=x;E.useEffect(()=>{if(b){let se={x:0,y:0};const Ae=Be=>{var Me,Ie;se={x:Math.abs(Math.round(Be.pageX)-(((Me=$.current)==null?void 0:Me.x)??0)),y:Math.abs(Math.round(Be.pageY)-(((Ie=$.current)==null?void 0:Ie.y)??0))}},he=Be=>{se.x<=10&&se.y<=10?Be.preventDefault():b.contains(Be.target)||z(!1),document.removeEventListener("pointermove",Ae),$.current=null};return $.current!==null&&(document.addEventListener("pointermove",Ae),document.addEventListener("pointerup",he,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Ae),document.removeEventListener("pointerup",he,{capture:!0})}}},[b,z,$]),E.useEffect(()=>{const se=()=>z(!1);return window.addEventListener("blur",se),window.addEventListener("resize",se),()=>{window.removeEventListener("blur",se),window.removeEventListener("resize",se)}},[z]);const[K,V]=Cme(se=>{const Ae=F().filter(Me=>!Me.disabled),he=Ae.find(Me=>Me.ref.current===document.activeElement),Be=Sme(Ae,se,he);Be&&setTimeout(()=>Be.ref.current.focus())}),H=E.useCallback((se,Ae,he)=>{const Be=!q.current&&!he;(x.value!==void 0&&x.value===Ae||Be)&&(T(se),Be&&(q.current=!0))},[x.value]),W=E.useCallback(()=>b==null?void 0:b.focus(),[b]),Y=E.useCallback((se,Ae,he)=>{const Be=!q.current&&!he;(x.value!==void 0&&x.value===Ae||Be)&&I(se)},[x.value]),ee=r==="popper"?W7:ume,ie=ee===W7?{side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:h,collisionBoundary:f,collisionPadding:A,sticky:v,hideWhenDetached:p,avoidCollisions:m}:{};return i.jsx(lme,{scope:n,content:b,viewport:N,onViewportChange:_,itemRefCallback:H,selectedItem:k,onItemLeave:W,itemTextRefCallback:Y,focusSelectedItem:L,selectedItemText:O,position:r,isPositioned:M,searchRef:K,children:i.jsx(hk,{as:DPe,allowPinchZoom:!0,children:i.jsx(uk,{asChild:!0,trapped:x.open,onMountAutoFocus:se=>{se.preventDefault()},onUnmountAutoFocus:Ht(s,se=>{var Ae;(Ae=x.trigger)==null||Ae.focus({preventScroll:!0}),se.preventDefault()}),children:i.jsx(R2,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:a,onPointerDownOutside:o,onFocusOutside:se=>se.preventDefault(),onDismiss:()=>x.onOpenChange(!1),children:i.jsx(ee,{role:"listbox",id:x.contentId,"data-state":x.open?"open":"closed",dir:x.dir,onContextMenu:se=>se.preventDefault(),...g,...ie,onPlaced:()=>S(!0),ref:C,style:{display:"flex",flexDirection:"column",outline:"none",...g.style},onKeyDown:Ht(g.onKeyDown,se=>{const Ae=se.ctrlKey||se.altKey||se.metaKey;if(se.key==="Tab"&&se.preventDefault(),!Ae&&se.key.length===1&&V(se.key),["ArrowUp","ArrowDown","Home","End"].includes(se.key)){let Be=F().filter(Me=>!Me.disabled).map(Me=>Me.ref.current);if(["ArrowUp","End"].includes(se.key)&&(Be=Be.slice().reverse()),["ArrowUp","ArrowDown"].includes(se.key)){const Me=se.target,Ie=Be.indexOf(Me);Be=Be.slice(Ie+1)}setTimeout(()=>U(Be)),se.preventDefault()}})})})})})})});cme.displayName=BPe;var TPe="SelectItemAlignedPosition",ume=E.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:r,...s}=t,a=xx(fy,n),o=vx(fy,n),[l,c]=E.useState(null),[u,d]=E.useState(null),h=Tn(e,C=>d(C)),f=nF(n),A=E.useRef(!1),v=E.useRef(!0),{viewport:p,selectedItem:m,selectedItemText:g,focusSelectedItem:x}=o,b=E.useCallback(()=>{if(a.trigger&&a.valueNode&&l&&u&&p&&m&&g){const C=a.trigger.getBoundingClientRect(),k=u.getBoundingClientRect(),T=a.valueNode.getBoundingClientRect(),O=g.getBoundingClientRect();if(a.dir!=="rtl"){const Me=O.left-k.left,Ie=T.left-Me,Ye=C.left-Ie,X=C.width+Ye,ue=Math.max(X,k.width),re=window.innerWidth-Ud,de=O_(Ie,[Ud,Math.max(Ud,re-ue)]);l.style.minWidth=X+"px",l.style.left=de+"px"}else{const Me=k.right-O.right,Ie=window.innerWidth-T.right-Me,Ye=window.innerWidth-C.right-Ie,X=C.width+Ye,ue=Math.max(X,k.width),re=window.innerWidth-Ud,de=O_(Ie,[Ud,Math.max(Ud,re-ue)]);l.style.minWidth=X+"px",l.style.right=de+"px"}const I=f(),F=window.innerHeight-Ud*2,M=p.scrollHeight,S=window.getComputedStyle(u),q=parseInt(S.borderTopWidth,10),U=parseInt(S.paddingTop,10),L=parseInt(S.borderBottomWidth,10),z=parseInt(S.paddingBottom,10),$=q+U+M+z+L,K=Math.min(m.offsetHeight*5,$),V=window.getComputedStyle(p),H=parseInt(V.paddingTop,10),W=parseInt(V.paddingBottom,10),Y=C.top+C.height/2-Ud,ee=F-Y,ie=m.offsetHeight/2,se=m.offsetTop+ie,Ae=q+U+se,he=$-Ae;if(Ae<=Y){const Me=I.length>0&&m===I[I.length-1].ref.current;l.style.bottom="0px";const Ie=u.clientHeight-p.offsetTop-p.offsetHeight,Ye=Math.max(ee,ie+(Me?W:0)+Ie+L),X=Ae+Ye;l.style.height=X+"px"}else{const Me=I.length>0&&m===I[0].ref.current;l.style.top="0px";const Ye=Math.max(Y,q+p.offsetTop+(Me?H:0)+ie)+he;l.style.height=Ye+"px",p.scrollTop=Ae-Y+p.offsetTop}l.style.margin=`${Ud}px 0`,l.style.minHeight=K+"px",l.style.maxHeight=F+"px",r==null||r(),requestAnimationFrame(()=>A.current=!0)}},[f,a.trigger,a.valueNode,l,u,p,m,g,a.dir,r]);Qs(()=>b(),[b]);const[j,N]=E.useState();Qs(()=>{u&&N(window.getComputedStyle(u).zIndex)},[u]);const _=E.useCallback(C=>{C&&v.current===!0&&(b(),x==null||x(),v.current=!1)},[b,x]);return i.jsx(FPe,{scope:n,contentWrapper:l,shouldExpandOnScrollRef:A,onScrollButtonChange:_,children:i.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:j},children:i.jsx(Jt.div,{...s,ref:h,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});ume.displayName=TPe;var kPe="SelectPopperPosition",W7=E.forwardRef((t,e)=>{const{__scopeSelect:n,align:r="start",collisionPadding:s=Ud,...a}=t,o=rF(n);return i.jsx(T$,{...o,...a,ref:e,align:r,collisionPadding:s,style:{boxSizing:"border-box",...a.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});W7.displayName=kPe;var[FPe,F$]=K2(fy,{}),q7="SelectViewport",dme=E.forwardRef((t,e)=>{const{__scopeSelect:n,nonce:r,...s}=t,a=vx(q7,n),o=F$(q7,n),l=Tn(e,a.onViewportChange),c=E.useRef(0);return i.jsxs(i.Fragment,{children:[i.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),i.jsx(tF.Slot,{scope:n,children:i.jsx(Jt.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:Ht(s.onScroll,u=>{const d=u.currentTarget,{contentWrapper:h,shouldExpandOnScrollRef:f}=o;if(f!=null&&f.current&&h){const A=Math.abs(c.current-d.scrollTop);if(A>0){const v=window.innerHeight-Ud*2,p=parseFloat(h.style.minHeight),m=parseFloat(h.style.height),g=Math.max(p,m);if(g<v){const x=g+A,b=Math.min(v,x),j=x-b;h.style.height=b+"px",h.style.bottom==="0px"&&(d.scrollTop=j>0?j:0,h.style.justifyContent="flex-end")}}}c.current=d.scrollTop})})})]})});dme.displayName=q7;var hme="SelectGroup",[PPe,UPe]=K2(hme),IPe=E.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=Cf();return i.jsx(PPe,{scope:n,id:s,children:i.jsx(Jt.div,{role:"group","aria-labelledby":s,...r,ref:e})})});IPe.displayName=hme;var fme="SelectLabel",Ame=E.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=UPe(fme,n);return i.jsx(Jt.div,{id:s.id,...r,ref:e})});Ame.displayName=fme;var n3="SelectItem",[OPe,pme]=K2(n3),mme=E.forwardRef((t,e)=>{const{__scopeSelect:n,value:r,disabled:s=!1,textValue:a,...o}=t,l=xx(n3,n),c=vx(n3,n),u=l.value===r,[d,h]=E.useState(a??""),[f,A]=E.useState(!1),v=Tn(e,x=>{var b;return(b=c.itemRefCallback)==null?void 0:b.call(c,x,r,s)}),p=Cf(),m=E.useRef("touch"),g=()=>{s||(l.onValueChange(r),l.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return i.jsx(OPe,{scope:n,value:r,disabled:s,textId:p,isSelected:u,onItemTextChange:E.useCallback(x=>{h(b=>b||((x==null?void 0:x.textContent)??"").trim())},[]),children:i.jsx(tF.ItemSlot,{scope:n,value:r,disabled:s,textValue:d,children:i.jsx(Jt.div,{role:"option","aria-labelledby":p,"data-highlighted":f?"":void 0,"aria-selected":u&&f,"data-state":u?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...o,ref:v,onFocus:Ht(o.onFocus,()=>A(!0)),onBlur:Ht(o.onBlur,()=>A(!1)),onClick:Ht(o.onClick,()=>{m.current!=="mouse"&&g()}),onPointerUp:Ht(o.onPointerUp,()=>{m.current==="mouse"&&g()}),onPointerDown:Ht(o.onPointerDown,x=>{m.current=x.pointerType}),onPointerMove:Ht(o.onPointerMove,x=>{var b;m.current=x.pointerType,s?(b=c.onItemLeave)==null||b.call(c):m.current==="mouse"&&x.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Ht(o.onPointerLeave,x=>{var b;x.currentTarget===document.activeElement&&((b=c.onItemLeave)==null||b.call(c))}),onKeyDown:Ht(o.onKeyDown,x=>{var j;((j=c.searchRef)==null?void 0:j.current)!==""&&x.key===" "||(wPe.includes(x.key)&&g(),x.key===" "&&x.preventDefault())})})})})});mme.displayName=n3;var FN="SelectItemText",gme=E.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:s,...a}=t,o=xx(FN,n),l=vx(FN,n),c=pme(FN,n),u=CPe(FN,n),[d,h]=E.useState(null),f=Tn(e,g=>h(g),c.onItemTextChange,g=>{var x;return(x=l.itemTextRefCallback)==null?void 0:x.call(l,g,c.value,c.disabled)}),A=d==null?void 0:d.textContent,v=E.useMemo(()=>i.jsx("option",{value:c.value,disabled:c.disabled,children:A},c.value),[c.disabled,c.value,A]),{onNativeOptionAdd:p,onNativeOptionRemove:m}=u;return Qs(()=>(p(v),()=>m(v)),[p,m,v]),i.jsxs(i.Fragment,{children:[i.jsx(Jt.span,{id:c.textId,...a,ref:f}),c.isSelected&&o.valueNode&&!o.valueNodeHasChildren?U2.createPortal(a.children,o.valueNode):null]})});gme.displayName=FN;var xme="SelectItemIndicator",vme=E.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return pme(xme,n).isSelected?i.jsx(Jt.span,{"aria-hidden":!0,...r,ref:e}):null});vme.displayName=xme;var V7="SelectScrollUpButton",yme=E.forwardRef((t,e)=>{const n=vx(V7,t.__scopeSelect),r=F$(V7,t.__scopeSelect),[s,a]=E.useState(!1),o=Tn(e,r.onScrollButtonChange);return Qs(()=>{if(n.viewport&&n.isPositioned){let l=function(){const u=c.scrollTop>0;a(u)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),s?i.jsx(wme,{...t,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});yme.displayName=V7;var K7="SelectScrollDownButton",bme=E.forwardRef((t,e)=>{const n=vx(K7,t.__scopeSelect),r=F$(K7,t.__scopeSelect),[s,a]=E.useState(!1),o=Tn(e,r.onScrollButtonChange);return Qs(()=>{if(n.viewport&&n.isPositioned){let l=function(){const u=c.scrollHeight-c.clientHeight,d=Math.ceil(c.scrollTop)<u;a(d)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),s?i.jsx(wme,{...t,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});bme.displayName=K7;var wme=E.forwardRef((t,e)=>{const{__scopeSelect:n,onAutoScroll:r,...s}=t,a=vx("SelectScrollButton",n),o=E.useRef(null),l=nF(n),c=E.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return E.useEffect(()=>()=>c(),[c]),Qs(()=>{var d;const u=l().find(h=>h.ref.current===document.activeElement);(d=u==null?void 0:u.ref.current)==null||d.scrollIntoView({block:"nearest"})},[l]),i.jsx(Jt.div,{"aria-hidden":!0,...s,ref:e,style:{flexShrink:0,...s.style},onPointerDown:Ht(s.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(r,50))}),onPointerMove:Ht(s.onPointerMove,()=>{var u;(u=a.onItemLeave)==null||u.call(a),o.current===null&&(o.current=window.setInterval(r,50))}),onPointerLeave:Ht(s.onPointerLeave,()=>{c()})})}),MPe="SelectSeparator",jme=E.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return i.jsx(Jt.div,{"aria-hidden":!0,...r,ref:e})});jme.displayName=MPe;var G7="SelectArrow",LPe=E.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=rF(n),a=xx(G7,n),o=vx(G7,n);return a.open&&o.position==="popper"?i.jsx(k$,{...s,...r,ref:e}):null});LPe.displayName=G7;var RPe="SelectBubbleInput",Nme=E.forwardRef(({__scopeSelect:t,value:e,...n},r)=>{const s=E.useRef(null),a=Tn(r,s),o=PS(e);return E.useEffect(()=>{const l=s.current;if(!l)return;const c=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==e&&d){const h=new Event("change",{bubbles:!0});d.call(l,e),l.dispatchEvent(h)}},[o,e]),i.jsx(Jt.select,{...n,style:{...Hce,...n.style},ref:a,defaultValue:e})});Nme.displayName=RPe;function _me(t){return t===""||t===void 0}function Cme(t){const e=Gs(t),n=E.useRef(""),r=E.useRef(0),s=E.useCallback(o=>{const l=n.current+o;e(l),function c(u){n.current=u,window.clearTimeout(r.current),u!==""&&(r.current=window.setTimeout(()=>c(""),1e3))}(l)},[e]),a=E.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return E.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,s,a]}function Sme(t,e,n){const s=e.length>1&&Array.from(e).every(u=>u===e[0])?e[0]:e,a=n?t.indexOf(n):-1;let o=QPe(t,Math.max(a,0));s.length===1&&(o=o.filter(u=>u!==n));const c=o.find(u=>u.textValue.toLowerCase().startsWith(s.toLowerCase()));return c!==n?c:void 0}function QPe(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var HPe=eme,Eme=nme,zPe=ime,$Pe=sme,WPe=ame,Bme=ome,qPe=dme,Dme=Ame,Tme=mme,VPe=gme,KPe=vme,kme=yme,Fme=bme,Pme=jme;const vi=HPe,yi=zPe,li=E.forwardRef(({className:t,children:e,...n},r)=>i.jsxs(Eme,{ref:r,className:Vt("flex h-9 w-full items-center justify-between whitespace-nowrap rounded-md border border-zinc-200 bg-transparent px-3 py-2 text-sm shadow-sm ring-offset-white placeholder:text-zinc-500 focus:outline-none focus:ring-1 focus:ring-zinc-950 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1 dark:border-zinc-800 dark:ring-offset-zinc-950 dark:placeholder:text-zinc-400 dark:focus:ring-zinc-300",t),...n,children:[e,i.jsx($Pe,{asChild:!0,children:i.jsx(XH,{className:"h-4 w-4 opacity-50"})})]}));li.displayName=Eme.displayName;const Ume=E.forwardRef(({className:t,...e},n)=>i.jsx(kme,{ref:n,className:Vt("flex cursor-default items-center justify-center py-1",t),...e,children:i.jsx(cce,{className:"h-4 w-4"})}));Ume.displayName=kme.displayName;const Ime=E.forwardRef(({className:t,...e},n)=>i.jsx(Fme,{ref:n,className:Vt("flex cursor-default items-center justify-center py-1",t),...e,children:i.jsx(XH,{className:"h-4 w-4"})}));Ime.displayName=Fme.displayName;const ci=E.forwardRef(({className:t,children:e,position:n="popper",...r},s)=>i.jsx(WPe,{children:i.jsxs(Bme,{ref:s,className:Vt("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border border-zinc-200 bg-white text-zinc-950 shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 dark:border-zinc-800 dark:bg-zinc-950 dark:text-zinc-50",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...r,children:[i.jsx(Ume,{}),i.jsx(qPe,{className:Vt("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),i.jsx(Ime,{})]})}));ci.displayName=Bme.displayName;const GPe=E.forwardRef(({className:t,...e},n)=>i.jsx(Dme,{ref:n,className:Vt("px-2 py-1.5 text-sm font-semibold",t),...e}));GPe.displayName=Dme.displayName;const Bt=E.forwardRef(({className:t,children:e,...n},r)=>i.jsxs(Tme,{ref:r,className:Vt("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-2 pr-8 text-sm outline-none focus:bg-zinc-100 focus:text-zinc-900 data-[disabled]:pointer-events-none data-[disabled]:opacity-50 dark:focus:bg-zinc-800 dark:focus:text-zinc-50",t),...n,children:[i.jsx("span",{className:"absolute right-2 flex h-3.5 w-3.5 items-center justify-center",children:i.jsx(KPe,{children:i.jsx(O2,{className:"h-4 w-4"})})}),i.jsx(VPe,{children:e})]}));Bt.displayName=Tme.displayName;const XPe=E.forwardRef(({className:t,...e},n)=>i.jsx(Pme,{ref:n,className:Vt("-mx-1 my-1 h-px bg-zinc-100 dark:bg-zinc-800",t),...e}));XPe.displayName=Pme.displayName;const YPe=({chapter:t,characters:e,onSave:n,onCancel:r})=>{const[s,a]=E.useState({title:"",synopsis:"",keyEvents:[],charactersInvolved:[],emotionalTone:"متوازن",pacing:"متوسط",culturalElements:[],themes:[],plotAdvancement:"",wordTarget:3e3}),[o,l]=E.useState(""),[c,u]=E.useState(""),[d,h]=E.useState(""),f=["متوازن","مرح","حزين","متوتر","مثير","هادئ","دراماتيكي","رومانسي","غامض","مشوق"],A=["بطيء","متوسط","سريع","متسارع","متغير"];E.useEffect(()=>{t&&a({title:t.title,synopsis:t.synopsis,keyEvents:t.keyEvents||[],charactersInvolved:t.charactersInvolved||[],emotionalTone:t.emotionalTone,pacing:t.pacing,culturalElements:t.culturalElements||[],themes:t.themes||[],plotAdvancement:t.plotAdvancement,wordTarget:t.wordTarget})},[t]);const v=_=>{if(_.preventDefault(),!s.title.trim()){alert("يرجى إدخال عنوان الفصل");return}if(!s.synopsis.trim()){alert("يرجى إدخال ملخص الفصل");return}n(s)},p=()=>{o.trim()&&!s.keyEvents.includes(o.trim())&&(a({...s,keyEvents:[...s.keyEvents,o.trim()]}),l(""))},m=_=>{a({...s,keyEvents:s.keyEvents.filter(C=>C!==_)})},g=_=>{s.charactersInvolved.includes(_)?a({...s,charactersInvolved:s.charactersInvolved.filter(C=>C!==_)}):a({...s,charactersInvolved:[...s.charactersInvolved,_]})},x=()=>{c.trim()&&!s.culturalElements.includes(c.trim())&&(a({...s,culturalElements:[...s.culturalElements,c.trim()]}),u(""))},b=_=>{a({...s,culturalElements:s.culturalElements.filter(C=>C!==_)})},j=()=>{d.trim()&&!s.themes.includes(d.trim())&&(a({...s,themes:[...s.themes,d.trim()]}),h(""))},N=_=>{a({...s,themes:s.themes.filter(C=>C!==_)})};return i.jsx(Xc,{open:!0,onOpenChange:r,children:i.jsxs(oc,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",dir:"rtl",children:[i.jsxs(lc,{children:[i.jsx(cc,{children:t?"تحرير الفصل":"إضافة فصل جديد"}),i.jsx(Ww,{children:t?"قم بتحرير بيانات الفصل أدناه":"أدخل بيانات الفصل الجديد أدناه"})]}),i.jsxs("form",{onSubmit:v,className:"space-y-6",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(Dt,{htmlFor:"title",children:"عنوان الفصل *"}),i.jsx(wn,{id:"title",value:s.title,onChange:_=>a({...s,title:_.target.value}),placeholder:"أدخل عنوان الفصل",required:!0})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Dt,{htmlFor:"wordTarget",children:"الهدف الكلمات"}),i.jsx(wn,{id:"wordTarget",type:"number",value:s.wordTarget,onChange:_=>a({...s,wordTarget:parseInt(_.target.value)||3e3}),min:"500",max:"10000"})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Dt,{htmlFor:"synopsis",children:"ملخص الفصل *"}),i.jsx(Zi,{id:"synopsis",value:s.synopsis,onChange:_=>a({...s,synopsis:_.target.value}),placeholder:"ملخص مفصل لأحداث الفصل والهدف منه",rows:4,required:!0})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(Dt,{htmlFor:"emotionalTone",children:"النبرة العاطفية"}),i.jsxs(vi,{value:s.emotionalTone,onValueChange:_=>a({...s,emotionalTone:_}),children:[i.jsx(li,{children:i.jsx(yi,{placeholder:"اختر النبرة العاطفية"})}),i.jsx(ci,{children:f.map(_=>i.jsx(Bt,{value:_,children:_},_))})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Dt,{htmlFor:"pacing",children:"إيقاع الفصل"}),i.jsxs(vi,{value:s.pacing,onValueChange:_=>a({...s,pacing:_}),children:[i.jsx(li,{children:i.jsx(yi,{placeholder:"اختر إيقاع الفصل"})}),i.jsx(ci,{children:A.map(_=>i.jsx(Bt,{value:_,children:_},_))})]})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Dt,{children:"الأحداث الرئيسية"}),i.jsxs("div",{className:"flex gap-2 mb-2",children:[i.jsx(wn,{value:o,onChange:_=>l(_.target.value),placeholder:"أدخل حدث رئيسي",onKeyPress:_=>_.key==="Enter"&&(_.preventDefault(),p())}),i.jsx(xe,{type:"button",onClick:p,size:"sm",children:i.jsx(us,{className:"h-4 w-4"})})]}),i.jsx("div",{className:"flex flex-wrap gap-2",children:s.keyEvents.map((_,C)=>i.jsxs(He,{variant:"secondary",className:"flex items-center gap-1",children:[_,i.jsx(sh,{className:"h-3 w-3 cursor-pointer",onClick:()=>m(_)})]},C))})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Dt,{children:"الشخصيات المشاركة"}),i.jsx("div",{className:"flex flex-wrap gap-2",children:e.map(_=>i.jsx(He,{variant:s.charactersInvolved.includes(_.name)?"default":"outline",className:"cursor-pointer",onClick:()=>g(_.name),children:_.name},_.id))})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Dt,{children:"العناصر الثقافية"}),i.jsxs("div",{className:"flex gap-2 mb-2",children:[i.jsx(wn,{value:c,onChange:_=>u(_.target.value),placeholder:"أدخل عنصر ثقافي",onKeyPress:_=>_.key==="Enter"&&(_.preventDefault(),x())}),i.jsx(xe,{type:"button",onClick:x,size:"sm",children:i.jsx(us,{className:"h-4 w-4"})})]}),i.jsx("div",{className:"flex flex-wrap gap-2",children:s.culturalElements.map((_,C)=>i.jsxs(He,{variant:"outline",className:"flex items-center gap-1",children:[_,i.jsx(sh,{className:"h-3 w-3 cursor-pointer",onClick:()=>b(_)})]},C))})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Dt,{children:"المواضيع والثيمات"}),i.jsxs("div",{className:"flex gap-2 mb-2",children:[i.jsx(wn,{value:d,onChange:_=>h(_.target.value),placeholder:"أدخل موضوع أو ثيمة",onKeyPress:_=>_.key==="Enter"&&(_.preventDefault(),j())}),i.jsx(xe,{type:"button",onClick:j,size:"sm",children:i.jsx(us,{className:"h-4 w-4"})})]}),i.jsx("div",{className:"flex flex-wrap gap-2",children:s.themes.map((_,C)=>i.jsxs(He,{variant:"secondary",className:"flex items-center gap-1",children:[_,i.jsx(sh,{className:"h-3 w-3 cursor-pointer",onClick:()=>N(_)})]},C))})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Dt,{htmlFor:"plotAdvancement",children:"تطور الحبكة"}),i.jsx(Zi,{id:"plotAdvancement",value:s.plotAdvancement,onChange:_=>a({...s,plotAdvancement:_.target.value}),placeholder:"كيف يساهم هذا الفصل في تطوير الحبكة العامة للرواية",rows:3})]}),i.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[i.jsx(xe,{type:"button",variant:"outline",onClick:r,children:"إلغاء"}),i.jsx(xe,{type:"submit",children:t?"حفظ التغييرات":"إضافة الفصل"})]})]})]})})},Ome=()=>{var _,C;const{state:t,dispatch:e}=Ju(),[n,r]=E.useState(!1),[s,a]=E.useState(0),[o,l]=E.useState("overview"),[c,u]=E.useState(!1),[d,h]=E.useState(!1),[f,A]=E.useState(null),[v,p]=E.useState(null);E.useEffect(()=>{!t.novelBlueprint&&t.selectedIdea&&j()},[t.selectedIdea]);const m=k=>{const T={id:`character-${Date.now()}`,name:k.name||"شخصية جديدة",role:k.role||"شخصية ثانوية",age:k.age||30,description:k.description||"وصف الشخصية",background:k.background||"خلفية الشخصية",personality:k.personality||["متوازن"],motivations:k.motivations||["هدف أساسي"],relationships:k.relationships||[],development:k.development||[],voice:k.voice||"صوت الشخصية",dialogue_style:k.voice||"أسلوب حوار طبيعي ومعبر"},O={...t.novelBlueprint,structure:{...t.novelBlueprint.structure,characters:[...t.novelBlueprint.structure.characters,T]}};e({type:"SET_NOVEL_BLUEPRINT",payload:O}),u(!1),Bi({title:"تم إضافة الشخصية بنجاح",description:`تم إضافة ${T.name} إلى المخطط`})},g=k=>{const T=t.novelBlueprint.structure.chapters.length+1,O={id:`chapter-${Date.now()}`,number:T,title:k.title||`الفصل ${T}`,synopsis:k.synopsis||"ملخص الفصل",keyEvents:k.keyEvents||["حدث رئيسي"],charactersInvolved:k.charactersInvolved||["الشخصية الرئيسية"],emotionalTone:k.emotionalTone||"متوازن",pacing:k.pacing||"متوسط",culturalElements:k.culturalElements||[],themes:k.themes||[],plotAdvancement:k.plotAdvancement||"تطوير الحبكة",wordTarget:k.wordTarget||3e3},I={...t.novelBlueprint,structure:{...t.novelBlueprint.structure,chapters:[...t.novelBlueprint.structure.chapters,O],overview:{...t.novelBlueprint.structure.overview,chapterCount:t.novelBlueprint.structure.overview.chapterCount+1}}};e({type:"SET_NOVEL_BLUEPRINT",payload:I}),h(!1),Bi({title:"تم إضافة الفصل بنجاح",description:`تم إضافة ${O.title} إلى المخطط`})},x=k=>{const T=t.novelBlueprint.structure.characters.filter(I=>I.id!==k),O={...t.novelBlueprint,structure:{...t.novelBlueprint.structure,characters:T}};e({type:"SET_NOVEL_BLUEPRINT",payload:O}),Bi({title:"تم حذف الشخصية",description:"تم حذف الشخصية من المخطط بنجاح"})},b=k=>{const T=t.novelBlueprint.structure.chapters.filter(I=>I.id!==k),O={...t.novelBlueprint,structure:{...t.novelBlueprint.structure,chapters:T,overview:{...t.novelBlueprint.structure.overview,chapterCount:T.length}}};e({type:"SET_NOVEL_BLUEPRINT",payload:O}),Bi({title:"تم حذف الفصل",description:"تم حذف الفصل من المخطط بنجاح"})},j=async()=>{if(t.selectedIdea){r(!0),a(0),e({type:"SET_LOADING",payload:!0});try{const k=[{step:"تحليل الفكرة المختارة...",progress:15},{step:"بناء الهيكل العام...",progress:30},{step:"تطوير الشخصيات...",progress:50},{step:"تصميم مخططات الفصول...",progress:70},{step:"ربط المواضيع والرموز...",progress:85},{step:"المراجعة النهائية...",progress:100}];for(const I of k)await new Promise(F=>setTimeout(F,1500)),a(I.progress);const T=t.selectedIdea,O={idea:T,structure:{overview:{title:T.title,genre:T.genre,targetLength:T.estimatedChapters*3e3,chapterCount:T.estimatedChapters,estimatedWords:T.estimatedChapters*3e3,themes:[T.theme,"النمو الشخصي","الصراع الداخلي"],tone:"متأمل وعاطفي مع لمسات دراماتيكية",setting:T.setting,timeframe:T.timeframe},plotStructure:{actStructure:"البنية الثلاثية الكلاسيكية مع تطوير تدريجي",plotPoints:[{type:"نقطة البداية",chapter:1,description:"تقديم الشخصية الرئيسية والسياق الأولي",significance:"إرساء الأساس وجذب القارئ"},{type:"الحدث المحرك",chapter:2,description:"الحدث الذي يدفع الحبكة إلى الأمام",significance:"بداية الصراع الحقيقي"},{type:"نقطة التحول الأولى",chapter:Math.ceil(T.estimatedChapters*.25),description:"تعقيد الأحداث وظهور العقبات",significance:"رفع مستوى التوتر والإثارة"},{type:"نقطة الوسط",chapter:Math.ceil(T.estimatedChapters*.5),description:"اكتشاف مهم أو تطور في الشخصية",significance:"تغيير اتجاه القصة"},{type:"نقطة التحول الثانية",chapter:Math.ceil(T.estimatedChapters*.75),description:"الاقتراب من الحل أو تعقيد نهائي",significance:"تحضير للذروة"},{type:"الذروة",chapter:T.estimatedChapters-2,description:"النقطة الحاسمة في الصراع",significance:"ذروة التوتر والعاطفة"},{type:"الحل",chapter:T.estimatedChapters,description:"حل الصراع وإنهاء القوس السردي",significance:"إغلاق مُرضٍ للقصة"}],pacing:"متدرج مع تسارع في النصف الثاني",climax:{chapter:T.estimatedChapters-2,description:"المواجهة النهائية أو اللحظة الحاسمة في رحلة الشخصية"},resolution:"حل يربط الخيوط المتعددة ويحقق النمو للشخصية الرئيسية"},characters:[{id:"main-character",name:"الشخصية الرئيسية",role:"البطل/البطلة",age:35,description:"شخصية معقدة تعكس التحديات المعاصرة",background:"خلفية ثقافية واجتماعية متنوعة",personality:["متأمل","مثابر","عاطفي","ذكي"],motivations:["البحث عن المعنى","تحقيق الذات","خدمة المجتمع"],relationships:[{character:"الشخصية المساعدة",relationship:"صديق مقرب",description:"علاقة دعم متبادل"},{character:"الشخصية المعارضة",relationship:"منافس",description:"تحدي فكري وعملي"}],development:[{chapter:1,event:"التعريف والظهور الأول",growth:"إظهار الحالة الأولية"},{chapter:Math.ceil(T.estimatedChapters*.3),event:"مواجهة أول تحدي كبير",growth:"بداية التطور"},{chapter:Math.ceil(T.estimatedChapters*.6),event:"لحظة اكتشاف ذاتي",growth:"تطور متوسط"},{chapter:T.estimatedChapters-1,event:"التحول النهائي",growth:"اكتمال القوس التطويري"}],voice:"صوت أصيل يعكس الثقافة والشخصية",dialogue_style:"طبيعي مع عمق فكري وعاطفي"},{id:"supporting-character",name:"الشخصية المساعدة",role:"الداعم/المرشد",age:45,description:"شخصية حكيمة تقدم الدعم والإرشاد",background:"خبرة حياتية واسعة",personality:["حكيم","صبور","مخلص","متفهم"],motivations:["مساعدة الآخرين","نقل الخبرة","تحقيق العدالة"],relationships:[{character:"الشخصية الرئيسية",relationship:"موجه",description:"علاقة إرشاد وصداقة"}],development:[{chapter:3,event:"الظهور الأول",growth:"تقديم الحكمة والدعم"},{chapter:Math.ceil(T.estimatedChapters*.7),event:"اختبار الولاء",growth:"إثبات القيم الأصيلة"}],voice:"هادئ ومتزن",dialogue_style:"مليء بالحكمة والتوجيه"}],chapters:Array.from({length:T.estimatedChapters},(I,F)=>{const M=F+1,S=M<=2,q=M>2&&M<T.estimatedChapters-1,U=M>=T.estimatedChapters-1;return{id:`chapter-${M}`,number:M,title:`الفصل ${M}`,synopsis:S?"تأسيس القصة وتقديم الشخصيات والسياق الأولي":q?"تطوير الحبكة وتعميق الصراع مع تطور الشخصيات":"الوصول للذروة وحل الصراعات مع الخاتمة المرضية",keyEvents:S?["تقديم الشخصية الرئيسية","إرساء السياق","بداية الصراع"]:q?["تطوير الصراع","تعقيد الأحداث","نمو الشخصيات"]:["الذروة","حل الصراع","الخاتمة"],charactersInvolved:M<=3?["الشخصية الرئيسية"]:["الشخصية الرئيسية","الشخصية المساعدة"],emotionalTone:S?"تشويقي ومثير للاهتمام":q?"متوتر ومعقد":"مكثف ومُرضٍ",pacing:S?"متوسط مع تقديم تدريجي":q?"متسارع مع تعقيدات":"سريع نحو الذروة ثم هادئ للخاتمة",culturalElements:T.culturalContext.split(" ").slice(0,3),themes:[T.theme],plotAdvancement:S?"تأسيس وبناء الأساس":q?"تطوير وتعقيد":"ذروة وحل",wordTarget:3e3}})},themes:{primary:[T.theme,"النمو الشخصي","الهوية الثقافية"],secondary:["العلاقات الإنسانية","التحديات المعاصرة","القيم الأصيلة"],symbols:[{symbol:"الرحلة",meaning:"رمز للنمو والتطور الشخصي",chapters:[1,3,5,T.estimatedChapters]},{symbol:"المرآة",meaning:"التأمل الذاتي والاكتشاف",chapters:[Math.ceil(T.estimatedChapters*.5)]},{symbol:"الجسر",meaning:"الربط بين الماضي والحاضر",chapters:[T.estimatedChapters-2,T.estimatedChapters]}],motifs:[{motif:"الذاكرة والنوستالجيا",description:"استحضار الماضي وتأثيره على الحاضر",significance:"يربط الشخصية بجذورها الثقافية"},{motif:"الضوء والظل",description:"التباين بين الأمل واليأس",significance:"يعكس الصراع الداخلي للشخصيات"},{motif:"الموسيقى والشعر",description:"التعبير عن المشاعر عبر الفنون",significance:"يعمق الهوية الثقافية العربية"}]}};e({type:"SET_NOVEL_BLUEPRINT",payload:O}),Bi({title:"تم بناء المخطط بنجاح",description:`تم إنشاء مخطط شامل للرواية "${T.title}" بـ ${T.estimatedChapters} فصل.`})}catch{e({type:"SET_ERROR",payload:"فشل في بناء المخطط. يرجى المحاولة مرة أخرى."})}finally{r(!1),e({type:"SET_LOADING",payload:!1})}}};if(n)return i.jsx("div",{className:"space-y-6",children:i.jsxs(ae,{children:[i.jsxs(Te,{children:[i.jsxs(ke,{className:"flex items-center gap-2",children:[i.jsx(xn,{className:"h-6 w-6 text-purple-600"}),"جارٍ بناء المخطط الذكي"]}),i.jsx(Pt,{children:"نقوم ببناء مخطط شامل للرواية يتضمن الهيكل والشخصيات والمواضيع"})]}),i.jsx(oe,{children:i.jsxs("div",{className:"space-y-4",children:[i.jsx(tt,{value:s,className:"w-full"}),i.jsxs("div",{className:"flex justify-between text-sm text-gray-600",children:[i.jsxs("span",{children:["التقدم: ",s,"%"]}),i.jsxs("span",{children:["المرحلة: ",s<15?"تحليل الفكرة":s<30?"بناء الهيكل":s<50?"تطوير الشخصيات":s<70?"تصميم الفصول":s<85?"ربط المواضيع":"المراجعة النهائية"]})]}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 pt-4",children:[{label:"الهيكل العام",icon:kK,completed:s>30},{label:"الشخصيات",icon:Wn,completed:s>50},{label:"مخططات الفصول",icon:dr,completed:s>70},{label:"المواضيع والرموز",icon:Wa,completed:s>85}].map((k,T)=>{const O=k.icon;return i.jsxs("div",{className:"flex items-center gap-2 p-2 rounded border",children:[i.jsx(O,{className:`h-4 w-4 ${k.completed?"text-green-600":"text-gray-400"}`}),i.jsx("span",{className:`text-sm ${k.completed?"text-green-900":"text-gray-600"}`,children:k.label}),k.completed&&i.jsx(Rt,{className:"h-3 w-3 text-green-600"})]},T)})})]})})]})});if(!t.novelBlueprint)return i.jsx("div",{className:"space-y-6",children:i.jsxs(ae,{children:[i.jsxs(Te,{children:[i.jsx(ke,{children:"باني المخطط الذكي"}),i.jsx(Pt,{children:"لم يتم بناء المخطط بعد. يجب اختيار فكرة من المرحلة السابقة أولاً."})]}),i.jsx(oe,{children:i.jsxs(xe,{onClick:j,disabled:!t.selectedIdea,className:"flex items-center gap-2",children:[i.jsx(xn,{className:"h-4 w-4"}),"بناء المخطط الذكي"]})})]})});const N=t.novelBlueprint;return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsxs("div",{children:[i.jsxs("h3",{className:"text-lg font-semibold",children:["المخطط الذكي: ",N.idea.title]}),i.jsxs("p",{className:"text-sm text-gray-600",children:["مخطط شامل للرواية مع ",N.structure.overview.chapterCount," فصل"]})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsxs(xe,{variant:"outline",onClick:j,className:"flex items-center gap-2",children:[i.jsx(Ar,{className:"h-4 w-4"}),"إعادة بناء المخطط"]}),i.jsxs(xe,{onClick:()=>e({type:"SET_CURRENT_STAGE",payload:4}),className:"flex items-center gap-2",children:[i.jsx(ea,{className:"h-4 w-4"}),"إلى توليد الفصول"]})]})]}),i.jsx(ae,{children:i.jsx(oe,{className:"pt-6",children:i.jsxs(zn,{value:o,onValueChange:l,className:"w-full",children:[i.jsxs(On,{className:"grid w-full grid-cols-4",children:[i.jsx(nt,{value:"overview",children:"النظرة العامة"}),i.jsx(nt,{value:"structure",children:"الهيكل"}),i.jsx(nt,{value:"characters",children:"الشخصيات"}),i.jsx(nt,{value:"chapters",children:"الفصول"})]}),i.jsx(rt,{value:"overview",className:"space-y-6",children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsxs("h4",{className:"font-semibold mb-2 flex items-center gap-2",children:[i.jsx(dr,{className:"h-4 w-4 text-blue-600"}),"معلومات أساسية"]}),i.jsxs("div",{className:"space-y-2 text-sm",children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-gray-600",children:"النوع:"}),i.jsx(He,{variant:"secondary",children:N.structure.overview.genre})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-gray-600",children:"عدد الفصول:"}),i.jsx("span",{className:"font-medium",children:N.structure.overview.chapterCount})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-gray-600",children:"الطول المتوقع:"}),i.jsxs("span",{className:"font-medium",children:[N.structure.overview.estimatedWords.toLocaleString()," كلمة"]})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-gray-600",children:"النبرة:"}),i.jsx("span",{className:"font-medium",children:N.structure.overview.tone})]})]})]}),i.jsxs("div",{children:[i.jsxs("h4",{className:"font-semibold mb-2 flex items-center gap-2",children:[i.jsx(ik,{className:"h-4 w-4 text-green-600"}),"المكان والزمان"]}),i.jsxs("div",{className:"space-y-2 text-sm",children:[i.jsxs("div",{children:[i.jsx("span",{className:"text-gray-600",children:"المكان: "}),i.jsx("span",{className:"font-medium",children:N.structure.overview.setting})]}),i.jsxs("div",{children:[i.jsx("span",{className:"text-gray-600",children:"الزمان: "}),i.jsx("span",{className:"font-medium",children:N.structure.overview.timeframe})]})]})]})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsxs("h4",{className:"font-semibold mb-2 flex items-center gap-2",children:[i.jsx(ta,{className:"h-4 w-4 text-red-600"}),"المواضيع الرئيسية"]}),i.jsx("div",{className:"flex flex-wrap gap-2",children:N.themes.primary.map((k,T)=>i.jsx(He,{variant:"outline",children:k},T))})]}),i.jsxs("div",{children:[i.jsxs("h4",{className:"font-semibold mb-2 flex items-center gap-2",children:[i.jsx(Wa,{className:"h-4 w-4 text-purple-600"}),"المواضيع الثانوية"]}),i.jsx("div",{className:"flex flex-wrap gap-2",children:N.themes.secondary.map((k,T)=>i.jsx(He,{variant:"secondary",children:k},T))})]}),i.jsxs("div",{children:[i.jsxs("h4",{className:"font-semibold mb-2 flex items-center gap-2",children:[i.jsx(tr,{className:"h-4 w-4 text-yellow-600"}),"الرموز الأدبية"]}),i.jsx("div",{className:"space-y-2",children:N.themes.symbols.map((k,T)=>i.jsxs("div",{className:"p-2 border rounded-lg",children:[i.jsx("div",{className:"font-medium text-sm",children:k.symbol}),i.jsx("div",{className:"text-xs text-gray-600",children:k.meaning}),i.jsxs("div",{className:"text-xs text-gray-500",children:["الفصول: ",k.chapters.join(", ")]})]},T))})]})]})]})}),i.jsx(rt,{value:"structure",className:"space-y-6",children:i.jsxs("div",{children:[i.jsxs("h4",{className:"font-semibold mb-4 flex items-center gap-2",children:[i.jsx(kK,{className:"h-4 w-4 text-blue-600"}),"هيكل الحبكة"]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("div",{children:[i.jsx("h5",{className:"font-semibold mb-3",children:"البنية السردية"}),i.jsxs("div",{className:"space-y-2 text-sm",children:[i.jsxs("div",{children:[i.jsx("span",{className:"text-gray-600",children:"النوع: "}),i.jsx("span",{className:"font-medium",children:N.structure.plotStructure.actStructure})]}),i.jsxs("div",{children:[i.jsx("span",{className:"text-gray-600",children:"الإيقاع: "}),i.jsx("span",{className:"font-medium",children:N.structure.plotStructure.pacing})]}),i.jsxs("div",{children:[i.jsx("span",{className:"text-gray-600",children:"الذروة: "}),i.jsxs("span",{className:"font-medium",children:["الفصل ",N.structure.plotStructure.climax.chapter]})]})]}),i.jsxs("div",{className:"mt-4",children:[i.jsx("h6",{className:"font-semibold mb-2",children:"وصف الذروة"}),i.jsx("p",{className:"text-sm text-gray-600",children:N.structure.plotStructure.climax.description})]}),i.jsxs("div",{className:"mt-4",children:[i.jsx("h6",{className:"font-semibold mb-2",children:"الحل"}),i.jsx("p",{className:"text-sm text-gray-600",children:N.structure.plotStructure.resolution})]})]}),i.jsxs("div",{children:[i.jsx("h5",{className:"font-semibold mb-3",children:"النقاط المحورية"}),i.jsx("div",{className:"space-y-3",children:N.structure.plotStructure.plotPoints.map((k,T)=>i.jsxs("div",{className:"border rounded-lg p-3",children:[i.jsxs("div",{className:"flex justify-between items-start mb-2",children:[i.jsx("h6",{className:"font-medium text-sm",children:k.type}),i.jsxs(He,{variant:"outline",className:"text-xs",children:["الفصل ",k.chapter]})]}),i.jsx("p",{className:"text-xs text-gray-600 mb-2",children:k.description}),i.jsx("p",{className:"text-xs text-gray-500",children:k.significance})]},T))})]})]})]})}),i.jsx(rt,{value:"characters",className:"space-y-6",children:i.jsxs("div",{children:[i.jsxs("div",{className:"flex justify-between items-center mb-4",children:[i.jsxs("h4",{className:"font-semibold flex items-center gap-2",children:[i.jsx(Wn,{className:"h-4 w-4 text-purple-600"}),"الشخصيات الرئيسية"]}),i.jsxs(xe,{onClick:()=>u(!0),className:"flex items-center gap-2",variant:"outline",children:[i.jsx(Wn,{className:"h-4 w-4"}),"إضافة شخصية"]})]}),i.jsx("div",{className:"grid gap-6",children:N.structure.characters.map(k=>i.jsxs(ae,{children:[i.jsx(Te,{children:i.jsxs("div",{className:"flex justify-between items-start",children:[i.jsxs("div",{children:[i.jsx(ke,{className:"text-lg",children:k.name}),i.jsxs(Pt,{children:[k.role," - ",k.age," سنة"]})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(He,{variant:"secondary",children:k.role}),i.jsx(xe,{variant:"ghost",size:"sm",onClick:()=>{A(k),u(!0)},children:i.jsx(uR,{className:"h-4 w-4"})}),i.jsx(xe,{variant:"ghost",size:"sm",onClick:()=>x(k.id),className:"text-red-600 hover:text-red-700",children:"✕"})]})]})}),i.jsxs(oe,{className:"space-y-4",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("h5",{className:"font-semibold mb-2",children:"الوصف والخلفية"}),i.jsx("p",{className:"text-sm text-gray-600 mb-3",children:k.description}),i.jsx("p",{className:"text-sm text-gray-600",children:k.background})]}),i.jsxs("div",{children:[i.jsx("h5",{className:"font-semibold mb-2",children:"السمات الشخصية"}),i.jsx("div",{className:"flex flex-wrap gap-2 mb-3",children:k.personality.map((T,O)=>i.jsx(He,{variant:"outline",children:T},O))}),i.jsx("h5",{className:"font-semibold mb-2",children:"الدوافع"}),i.jsx("ul",{className:"text-sm text-gray-600 space-y-1",children:k.motivations.map((T,O)=>i.jsxs("li",{children:["• ",T]},O))})]})]}),i.jsxs("div",{children:[i.jsx("h5",{className:"font-semibold mb-2",children:"التطور عبر القصة"}),i.jsx("div",{className:"space-y-2",children:k.development.map((T,O)=>i.jsxs("div",{className:"flex items-center gap-3 p-2 border rounded",children:[i.jsxs(He,{variant:"outline",className:"text-xs",children:["ف",T.chapter]}),i.jsxs("div",{className:"flex-1",children:[i.jsx("div",{className:"text-sm font-medium",children:T.event}),i.jsx("div",{className:"text-xs text-gray-600",children:T.growth})]})]},O))})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 pt-2 border-t",children:[i.jsxs("div",{children:[i.jsx("h5",{className:"font-semibold mb-1 text-sm",children:"الصوت السردي"}),i.jsx("p",{className:"text-xs text-gray-600",children:k.voice})]}),i.jsxs("div",{children:[i.jsx("h5",{className:"font-semibold mb-1 text-sm",children:"أسلوب الحوار"}),i.jsx("p",{className:"text-xs text-gray-600",children:k.dialogue_style})]})]})]})]},k.id))})]})}),i.jsx(rt,{value:"chapters",className:"space-y-6",children:i.jsxs("div",{children:[i.jsxs("div",{className:"flex justify-between items-center mb-4",children:[i.jsxs("h4",{className:"font-semibold flex items-center gap-2",children:[i.jsx(dr,{className:"h-4 w-4 text-green-600"}),"مخططات الفصول المفصلة"]}),i.jsxs(xe,{onClick:()=>h(!0),className:"flex items-center gap-2",variant:"outline",children:[i.jsx(dr,{className:"h-4 w-4"}),"إضافة فصل"]})]}),i.jsx("div",{className:"grid gap-4",children:N.structure.chapters.map(k=>i.jsxs(ae,{className:"hover:shadow-md transition-shadow",children:[i.jsx(Te,{children:i.jsxs("div",{className:"flex justify-between items-start",children:[i.jsxs("div",{children:[i.jsx(ke,{className:"text-lg",children:k.title}),i.jsxs(Pt,{children:["الهدف: ",k.wordTarget.toLocaleString()," كلمة"]})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(He,{variant:"secondary",children:k.emotionalTone}),i.jsx(He,{variant:"outline",children:k.pacing}),i.jsx(xe,{variant:"ghost",size:"sm",onClick:()=>{p(k),h(!0)},children:i.jsx(uR,{className:"h-4 w-4"})}),i.jsx(xe,{variant:"ghost",size:"sm",onClick:()=>b(k.id),className:"text-red-600 hover:text-red-700",children:"✕"})]})]})}),i.jsx(oe,{children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("h5",{className:"font-semibold mb-2",children:"ملخص الفصل"}),i.jsx("p",{className:"text-sm text-gray-600 mb-4",children:k.synopsis}),i.jsx("h5",{className:"font-semibold mb-2",children:"الأحداث الرئيسية"}),i.jsx("ul",{className:"text-sm text-gray-600 space-y-1",children:k.keyEvents.map((T,O)=>i.jsxs("li",{children:["• ",T]},O))})]}),i.jsxs("div",{children:[i.jsx("h5",{className:"font-semibold mb-2",children:"الشخصيات المشاركة"}),i.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:k.charactersInvolved.map((T,O)=>i.jsx(He,{variant:"outline",children:T},O))}),i.jsx("h5",{className:"font-semibold mb-2",children:"العناصر الثقافية"}),i.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:k.culturalElements.map((T,O)=>i.jsx(He,{variant:"secondary",children:T},O))}),i.jsx("h5",{className:"font-semibold mb-2",children:"تقدم الحبكة"}),i.jsx("p",{className:"text-sm text-gray-600",children:k.plotAdvancement})]})]})})]},k.id))})]})})]})})}),i.jsx(ae,{className:"border-purple-200 bg-purple-50",children:i.jsx(oe,{className:"pt-6",children:i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx(Rt,{className:"h-6 w-6 text-purple-600 mt-1"}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-semibold text-purple-900 mb-2",children:"تم بناء المخطط الذكي بنجاح"}),i.jsxs("p",{className:"text-purple-700 text-sm mb-4",children:["لديك الآن مخطط شامل للرواية يتضمن ",N.structure.overview.chapterCount," فصل مع تطوير مفصل للشخصيات والحبكة والمواضيع. يمكنك الآن الانتقال لمرحلة توليد الفصول."]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsxs(xe,{onClick:()=>e({type:"SET_CURRENT_STAGE",payload:4}),className:"flex items-center gap-2",children:[i.jsx(ea,{className:"h-4 w-4"}),"الانتقال لتوليد الفصول"]}),i.jsxs(xe,{variant:"outline",size:"sm",className:"flex items-center gap-2",children:[i.jsx(Ko,{className:"h-4 w-4"}),"حفظ المخطط"]}),i.jsxs(xe,{variant:"outline",size:"sm",className:"flex items-center gap-2",children:[i.jsx(Vn,{className:"h-4 w-4"}),"معاينة كاملة"]})]})]})]})})}),c&&i.jsx(f6e,{character:f,onSave:m,onCancel:()=>{u(!1),A(null)}}),d&&i.jsx(YPe,{chapter:v,characters:((C=(_=t.novelBlueprint)==null?void 0:_.structure)==null?void 0:C.characters)||[],onSave:g,onCancel:()=>{h(!1),p(null)}})]})},Mme=()=>{const{state:t,dispatch:e}=Ju(),[n,r]=E.useState(!1),[s,a]=E.useState("sequential"),[o,l]=E.useState(1),[c,u]=E.useState("list");E.useEffect(()=>{!t.generatedChapters.length&&t.novelBlueprint},[t.novelBlueprint]);const d=async(v,p)=>{var m;if(t.novelBlueprint){r(!0),e({type:"SET_LOADING",payload:!0}),e({type:"SET_GENERATION_PROGRESS",payload:{isGenerating:!0,generationMode:v}});try{const g=p||Array.from({length:t.novelBlueprint.structure.overview.chapterCount},(x,b)=>b+1);for(let x=0;x<g.length;x++){const b=g[x],j=t.novelBlueprint.structure.chapters.find(C=>C.number===b);if(!j)continue;l(b),e({type:"SET_GENERATION_PROGRESS",payload:{currentChapter:b}}),await new Promise(C=>setTimeout(C,3e3));const N={id:`generated-chapter-${b}`,number:b,title:j.title,content:h(j,t.novelBlueprint.idea,(m=t.sourceAnalysis)==null?void 0:m.styleProfile),synopsis:j.synopsis,wordCount:Math.floor(Math.random()*500)+2500,quality:{styleConsistency:Math.floor(Math.random()*15)+85,characterConsistency:Math.floor(Math.random()*10)+88,plotConsistency:Math.floor(Math.random()*12)+86,culturalAuthenticity:Math.floor(Math.random()*8)+90,overall:Math.floor(Math.random()*10)+87},status:"draft",metrics:{readability:Math.floor(Math.random()*10)+85,engagement:Math.floor(Math.random()*15)+80,coherence:Math.floor(Math.random()*8)+89,innovation:Math.floor(Math.random()*12)+83},feedback:f(),lastModified:new Date};e({type:"ADD_GENERATED_CHAPTER",payload:N});const _=Math.round((x+1)/g.length*100);e({type:"SET_GENERATION_PROGRESS",payload:{currentChapter:b,totalChapters:g.length}}),v==="sequential"&&await new Promise(C=>setTimeout(C,500))}Bi({title:"تم توليد الفصول بنجاح",description:`تم توليد ${g.length} فصل بجودة عالية.`})}catch{e({type:"SET_ERROR",payload:"فشل في توليد الفصول. يرجى المحاولة مرة أخرى."})}finally{r(!1),e({type:"SET_LOADING",payload:!1}),e({type:"SET_GENERATION_PROGRESS",payload:{isGenerating:!1}})}}},h=(v,p,m)=>{const g=[];return g.push(`في هذا الفصل من "${p.title}"، نتابع رحلة ${v.charactersInvolved[0]} وسط ${p.setting}. الأحداث تتطور بشكل طبيعي مع الحفاظ على الأسلوب الأصيل والعمق الثقافي المطلوب.`),v.keyEvents.forEach((x,b)=>{g.push(`${x} يتجلى في هذا السياق بطريقة تعكس عمق الشخصية وتطورها. النص يحافظ على النبرة ${v.emotionalTone} مع ${v.pacing}.`)}),g.push(`هذا الفصل يساهم في تطوير موضوع ${p.theme} من خلال ${v.plotAdvancement}. العناصر الثقافية مثل ${v.culturalElements.join("، ")} تظهر بشكل طبيعي في السرد.`),g.push("الفصل يختتم بطريقة تدفع القارئ للمتابعة، مع ترك أسئلة مفتوحة تتعلق بتطور الشخصيات والأحداث القادمة."),g.join(`

`)},f=()=>[{type:"suggestion",category:"الأسلوب",description:"يمكن تحسين التدفق السردي في الفقرة الثالثة",priority:"medium"},{type:"improvement",category:"الحوار",description:"إضافة المزيد من التفاصيل في الحوارات لتعميق الشخصيات",priority:"low"},{type:"suggestion",category:"الوصف",description:"توسيع الوصف المكاني لإثراء الصورة البصرية",priority:"medium"}].slice(0,Math.floor(Math.random()*3)+1),A=async v=>{var g,x,b;const p=t.generatedChapters.find(j=>j.id===v);if(!p)return;r(!0),Bi({title:"جارٍ إعادة توليد الفصل",description:`إعادة توليد ${p.title}...`}),await new Promise(j=>setTimeout(j,3e3));const m={...p,content:h((g=t.novelBlueprint)==null?void 0:g.structure.chapters.find(j=>j.number===p.number),(x=t.novelBlueprint)==null?void 0:x.idea,(b=t.sourceAnalysis)==null?void 0:b.styleProfile),quality:{styleConsistency:Math.floor(Math.random()*15)+85,characterConsistency:Math.floor(Math.random()*10)+88,plotConsistency:Math.floor(Math.random()*12)+86,culturalAuthenticity:Math.floor(Math.random()*8)+90,overall:Math.floor(Math.random()*10)+87},lastModified:new Date};e({type:"UPDATE_CHAPTER",payload:{id:v,updates:m}}),r(!1),Bi({title:"تم إعادة توليد الفصل",description:`تم تحديث ${p.title} بنجاح.`})};return t.novelBlueprint?i.jsxs("div",{className:"space-y-6",children:[i.jsxs(ae,{children:[i.jsx(Te,{children:i.jsxs("div",{className:"flex justify-between items-start",children:[i.jsxs("div",{children:[i.jsxs(ke,{className:"flex items-center gap-2",children:[i.jsx(ga,{className:"h-6 w-6 text-orange-600"}),"مولد الفصول الموجه"]}),i.jsx(Pt,{children:"توليد فصول الرواية بالذكاء الاصطناعي بناءً على المخطط الذكي"})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsxs(xe,{variant:"outline",size:"sm",onClick:()=>u(c==="list"?"reading":"list"),className:"flex items-center gap-2",children:[i.jsx(Vn,{className:"h-4 w-4"}),c==="list"?"وضع القراءة":"وضع القائمة"]}),i.jsxs(xe,{onClick:()=>e({type:"SET_CURRENT_STAGE",payload:5}),disabled:!t.generatedChapters.length,className:"flex items-center gap-2",children:[i.jsx(ea,{className:"h-4 w-4"}),"إلى المحرر التفاعلي"]})]})]})}),i.jsxs(oe,{children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[i.jsxs("div",{className:"text-center p-4 border rounded-lg",children:[i.jsx("div",{className:"text-2xl font-bold text-blue-600",children:t.generatedChapters.length}),i.jsx("div",{className:"text-sm text-gray-500",children:"فصل مولد"})]}),i.jsxs("div",{className:"text-center p-4 border rounded-lg",children:[i.jsx("div",{className:"text-2xl font-bold text-green-600",children:t.generatedChapters.reduce((v,p)=>v+p.wordCount,0).toLocaleString()}),i.jsx("div",{className:"text-sm text-gray-500",children:"إجمالي الكلمات"})]}),i.jsxs("div",{className:"text-center p-4 border rounded-lg",children:[i.jsxs("div",{className:"text-2xl font-bold text-purple-600",children:[t.generatedChapters.length>0?Math.round(t.generatedChapters.reduce((v,p)=>v+p.quality.overall,0)/t.generatedChapters.length):0,"%"]}),i.jsx("div",{className:"text-sm text-gray-500",children:"متوسط الجودة"})]}),i.jsxs("div",{className:"text-center p-4 border rounded-lg",children:[i.jsxs("div",{className:"text-2xl font-bold text-orange-600",children:[Math.round(t.generatedChapters.length/t.novelBlueprint.structure.overview.chapterCount*100),"%"]}),i.jsx("div",{className:"text-sm text-gray-500",children:"مكتمل"})]})]}),i.jsxs("div",{className:"flex flex-wrap gap-3",children:[i.jsxs(xe,{onClick:()=>d("sequential"),disabled:n,className:"flex items-center gap-2",children:[n?i.jsx(Ar,{className:"h-4 w-4 animate-spin"}):i.jsx(xa,{className:"h-4 w-4"}),"توليد متسلسل"]}),i.jsxs(xe,{variant:"outline",onClick:()=>d("parallel"),disabled:n,className:"flex items-center gap-2",children:[i.jsx(ga,{className:"h-4 w-4"}),"توليد متوازي"]}),i.jsxs(xe,{variant:"outline",onClick:()=>a("selective"),disabled:n,className:"flex items-center gap-2",children:[i.jsx(Qr,{className:"h-4 w-4"}),"توليد مخصص"]}),t.generatedChapters.length>0&&i.jsxs(xe,{variant:"outline",size:"sm",className:"flex items-center gap-2",children:[i.jsx(gr,{className:"h-4 w-4"}),"تصدير الفصول"]})]}),n&&i.jsxs("div",{className:"mt-6 p-4 border rounded-lg bg-blue-50",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[i.jsx(Ar,{className:"h-5 w-5 text-blue-600 animate-spin"}),i.jsxs("span",{className:"font-medium text-blue-900",children:["جارٍ توليد الفصل ",o,"..."]})]}),i.jsx(tt,{value:o/t.novelBlueprint.structure.overview.chapterCount*100,className:"mb-2"}),i.jsxs("div",{className:"text-sm text-blue-700",children:["التقدم: ",o," من ",t.novelBlueprint.structure.overview.chapterCount," فصل"]})]})]})]}),t.generatedChapters.length>0&&i.jsxs(ae,{children:[i.jsxs(Te,{children:[i.jsx(ke,{children:"الفصول المولدة"}),i.jsx(Pt,{children:"اعرض وراجع الفصول المولدة، مع إمكانية إعادة التوليد والتعديل"})]}),i.jsx(oe,{children:i.jsxs(zn,{value:c,onValueChange:v=>u(v),children:[i.jsxs(On,{className:"grid w-full grid-cols-2",children:[i.jsx(nt,{value:"list",children:"وضع القائمة"}),i.jsx(nt,{value:"reading",children:"وضع القراءة"})]}),i.jsx(rt,{value:"list",className:"space-y-4",children:t.generatedChapters.map(v=>i.jsxs(ae,{className:"hover:shadow-md transition-shadow",children:[i.jsx(Te,{children:i.jsxs("div",{className:"flex justify-between items-start",children:[i.jsxs("div",{children:[i.jsxs(ke,{className:"flex items-center gap-2",children:[v.title,i.jsx(He,{variant:v.status==="draft"?"secondary":"default",children:v.status==="draft"?"مسودة":"مراجع"})]}),i.jsxs(Pt,{children:[v.wordCount.toLocaleString()," كلمة • آخر تعديل: ",v.lastModified.toLocaleTimeString("ar-SA")]})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsxs(xe,{variant:"outline",size:"sm",onClick:()=>A(v.id),disabled:n,className:"flex items-center gap-2",children:[i.jsx(dx,{className:"h-3 w-3"}),"إعادة توليد"]}),i.jsxs(xe,{variant:"outline",size:"sm",className:"flex items-center gap-2",children:[i.jsx(uR,{className:"h-3 w-3"}),"تحرير"]})]})]})}),i.jsxs(oe,{children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("div",{children:[i.jsx("h5",{className:"font-semibold mb-2",children:"معاينة المحتوى"}),i.jsxs("div",{className:"text-sm text-gray-600 leading-relaxed line-clamp-4 mb-4",children:[v.content.substring(0,300),"..."]}),i.jsxs(xe,{variant:"outline",size:"sm",className:"flex items-center gap-2",children:[i.jsx(Vn,{className:"h-3 w-3"}),"قراءة كاملة"]})]}),i.jsxs("div",{children:[i.jsx("h5",{className:"font-semibold mb-3",children:"مقاييس الجودة"}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{children:[i.jsxs("div",{className:"flex justify-between text-xs mb-1",children:[i.jsx("span",{children:"اتساق الأسلوب"}),i.jsxs("span",{children:[v.quality.styleConsistency,"%"]})]}),i.jsx(tt,{value:v.quality.styleConsistency,className:"h-2"})]}),i.jsxs("div",{children:[i.jsxs("div",{className:"flex justify-between text-xs mb-1",children:[i.jsx("span",{children:"اتساق الشخصيات"}),i.jsxs("span",{children:[v.quality.characterConsistency,"%"]})]}),i.jsx(tt,{value:v.quality.characterConsistency,className:"h-2"})]}),i.jsxs("div",{children:[i.jsxs("div",{className:"flex justify-between text-xs mb-1",children:[i.jsx("span",{children:"اتساق الحبكة"}),i.jsxs("span",{children:[v.quality.plotConsistency,"%"]})]}),i.jsx(tt,{value:v.quality.plotConsistency,className:"h-2"})]}),i.jsxs("div",{children:[i.jsxs("div",{className:"flex justify-between text-xs mb-1",children:[i.jsx("span",{children:"الأصالة الثقافية"}),i.jsxs("span",{children:[v.quality.culturalAuthenticity,"%"]})]}),i.jsx(tt,{value:v.quality.culturalAuthenticity,className:"h-2"})]}),i.jsx("div",{className:"pt-2 border-t",children:i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("span",{className:"font-medium text-sm",children:"الجودة الإجمالية"}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(tr,{className:"h-4 w-4 text-yellow-500"}),i.jsxs("span",{className:"font-bold text-lg",children:[v.quality.overall,"%"]})]})]})})]})]})]}),v.feedback.length>0&&i.jsxs("div",{className:"mt-6 pt-4 border-t",children:[i.jsx("h5",{className:"font-semibold mb-3",children:"اقتراحات التحسين"}),i.jsx("div",{className:"space-y-2",children:v.feedback.map((p,m)=>i.jsxs("div",{className:"flex items-start gap-2 p-2 border rounded",children:[i.jsx(He,{variant:p.priority==="high"?"destructive":p.priority==="medium"?"default":"secondary",className:"text-xs",children:p.priority==="high"?"عالي":p.priority==="medium"?"متوسط":"منخفض"}),i.jsxs("div",{className:"flex-1",children:[i.jsx("div",{className:"font-medium text-sm",children:p.category}),i.jsx("div",{className:"text-xs text-gray-600",children:p.description})]})]},m))})]})]})]},v.id))}),i.jsx(rt,{value:"reading",className:"space-y-6",children:i.jsx("div",{className:"prose prose-lg max-w-none",children:t.generatedChapters.map(v=>i.jsxs("div",{className:"mb-12 p-6 border rounded-lg",children:[i.jsx("h2",{className:"text-2xl font-bold mb-4 text-center",children:v.title}),i.jsx("div",{className:"text-gray-700 leading-relaxed whitespace-pre-line",children:v.content})]},v.id))})})]})})]}),t.generatedChapters.length===0&&!n&&i.jsx(ae,{className:"border-orange-200 bg-orange-50",children:i.jsx(oe,{className:"pt-6",children:i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx(ga,{className:"h-6 w-6 text-orange-600 mt-1"}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-semibold text-orange-900 mb-2",children:"ابدأ توليد الفصول"}),i.jsx("p",{className:"text-orange-700 text-sm mb-4",children:"لديك مخطط شامل جاهز للرواية. ابدأ الآن في توليد الفصول بالذكاء الاصطناعي. يمكنك اختيار التوليد المتسلسل للحصول على فصول متتابعة، أو المتوازي لتوليد أسرع."}),i.jsxs(xe,{onClick:()=>d("sequential"),className:"flex items-center gap-2",children:[i.jsx(xa,{className:"h-4 w-4"}),"ابدأ التوليد المتسلسل"]})]})]})})}),t.generatedChapters.length===t.novelBlueprint.structure.overview.chapterCount&&i.jsx(ae,{className:"border-green-200 bg-green-50",children:i.jsx(oe,{className:"pt-6",children:i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx(Rt,{className:"h-6 w-6 text-green-600 mt-1"}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-semibold text-green-900 mb-2",children:"تم توليد جميع الفصول بنجاح!"}),i.jsxs("p",{className:"text-green-700 text-sm mb-4",children:["تهانينا! تم توليد جميع فصول الرواية (",t.generatedChapters.length," فصل) بنجاح. يمكنك الآن الانتقال للمحرر التفاعلي لتحرير وتحسين النصوص."]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsxs(xe,{onClick:()=>e({type:"SET_CURRENT_STAGE",payload:5}),className:"flex items-center gap-2",children:[i.jsx(ea,{className:"h-4 w-4"}),"الانتقال للمحرر التفاعلي"]}),i.jsxs(xe,{variant:"outline",size:"sm",className:"flex items-center gap-2",children:[i.jsx(Vn,{className:"h-4 w-4"}),"مراجعة شاملة"]})]})]})]})})})]}):i.jsx("div",{className:"space-y-6",children:i.jsxs(ae,{children:[i.jsxs(Te,{children:[i.jsx(ke,{children:"مولد الفصول الموجه"}),i.jsx(Pt,{children:"يجب بناء المخطط الذكي أولاً قبل البدء في توليد الفصول."})]}),i.jsx(oe,{children:i.jsx(xe,{onClick:()=>e({type:"SET_CURRENT_STAGE",payload:3}),className:"flex items-center gap-2",children:"العودة لبناء المخطط"})})]})})},Lme=()=>{var g;const{state:t,dispatch:e}=Ju(),[n,r]=E.useState(0),[s,a]=E.useState(""),[o,l]=E.useState(!1),[c,u]=E.useState("suggestions"),d=t.generatedChapters[n];E.useEffect(()=>{d&&(a(d.content),e({type:"SET_CURRENT_EDITING_CHAPTER",payload:d.number}))},[d,e]);const h=async()=>{if(!d)return;const x={...d,content:s,status:"edited",lastModified:new Date,wordCount:s.split(/\s+/).length};e({type:"UPDATE_CHAPTER",payload:{id:d.id,updates:x}}),Bi({title:"تم حفظ الفصل",description:`تم حفظ ${d.title} بنجاح.`})},f=async()=>{l(!0),await new Promise(b=>setTimeout(b,2e3));const x=[{type:"improvement",category:"الأسلوب",description:"يمكن تحسين التدفق في الفقرة الثانية بإضافة جمل انتقالية",priority:"medium"},{type:"suggestion",category:"الحوار",description:"الحوار في الصفحة الثالثة يمكن أن يكون أكثر طبيعية",priority:"low"}];d&&e({type:"UPDATE_CHAPTER",payload:{id:d.id,updates:{feedback:[...d.feedback,...x]}}}),l(!1),Bi({title:"تم تحليل النص",description:"تم إضافة اقتراحات جديدة للتحسين."})},A=async x=>{if(!x.trim()){Bi({title:"لم يتم تحديد نص",description:"يرجى تحديد النص المراد توسيعه.",variant:"destructive"});return}const b=`${x} مع إضافة تفاصيل أكثر عمقاً وإثراءً للسياق، مما يعزز من قوة السرد والتأثير العاطفي على القارئ.`,j=s.replace(x,b);a(j),Bi({title:"تم توسيع النص",description:"تم إضافة المزيد من التفاصيل للنص المحدد."})},v=async()=>{l(!0),await new Promise(x=>setTimeout(x,1500)),l(!1),Bi({title:"تم فحص الاتساق",description:"لم يتم العثور على تناقضات في الشخصيات أو الأحداث."})},p=async()=>{const x=/"([^"]*)"/g,b=s.replace(x,(j,N)=>`"${N}"، قال بنبرة تحمل مشاعر عميقة`);a(b),Bi({title:"تم تحسين الحوار",description:"تم إضافة تفاصيل وصفية للحوارات."})},m=x=>{x==="prev"&&n>0?r(n-1):x==="next"&&n<t.generatedChapters.length-1&&r(n+1)};return t.generatedChapters.length?i.jsxs("div",{className:"space-y-6",children:[i.jsxs(ae,{children:[i.jsx(Te,{children:i.jsxs("div",{className:"flex justify-between items-start",children:[i.jsxs("div",{children:[i.jsxs(ke,{className:"flex items-center gap-2",children:[i.jsx(Gu,{className:"h-6 w-6 text-indigo-600"}),"المحرر التفاعلي المتقدم"]}),i.jsx(Pt,{children:"تحرير وتحسين الفصول بأدوات ذكية متقدمة"})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsxs(xe,{variant:"outline",size:"sm",onClick:h,className:"flex items-center gap-2",children:[i.jsx(Ko,{className:"h-4 w-4"}),"حفظ"]}),i.jsxs(xe,{onClick:()=>e({type:"SET_CURRENT_STAGE",payload:6}),disabled:!t.generatedChapters.some(x=>x.status==="edited"),className:"flex items-center gap-2",children:[i.jsx(ea,{className:"h-4 w-4"}),"إلى المراجعة النهائية"]})]})]})}),i.jsxs(oe,{children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsxs(xe,{variant:"outline",size:"sm",onClick:()=>m("prev"),disabled:n===0,className:"flex items-center gap-2",children:[i.jsx(AS,{className:"h-4 w-4"}),"الفصل السابق"]}),i.jsxs("div",{className:"text-center",children:[i.jsx("h3",{className:"font-semibold",children:d==null?void 0:d.title}),i.jsxs("p",{className:"text-sm text-gray-600",children:["الفصل ",n+1," من ",t.generatedChapters.length]})]}),i.jsxs(xe,{variant:"outline",size:"sm",onClick:()=>m("next"),disabled:n===t.generatedChapters.length-1,className:"flex items-center gap-2",children:["الفصل التالي",i.jsx(ea,{className:"h-4 w-4"})]})]}),i.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[i.jsxs("div",{className:"text-center p-3 border rounded",children:[i.jsx("div",{className:"text-lg font-bold text-blue-600",children:s.split(/\s+/).length}),i.jsx("div",{className:"text-xs text-gray-500",children:"كلمة"})]}),i.jsxs("div",{className:"text-center p-3 border rounded",children:[i.jsxs("div",{className:"text-lg font-bold text-green-600",children:[(d==null?void 0:d.quality.overall)||0,"%"]}),i.jsx("div",{className:"text-xs text-gray-500",children:"جودة"})]}),i.jsxs("div",{className:"text-center p-3 border rounded",children:[i.jsx("div",{className:"text-lg font-bold text-purple-600",children:(d==null?void 0:d.feedback.length)||0}),i.jsx("div",{className:"text-xs text-gray-500",children:"اقتراح"})]}),i.jsxs("div",{className:"text-center p-3 border rounded",children:[i.jsx("div",{className:"text-lg font-bold text-orange-600",children:(d==null?void 0:d.status)==="edited"?"✓":"○"}),i.jsx("div",{className:"text-xs text-gray-500",children:(d==null?void 0:d.status)==="edited"?"محرر":"مسودة"})]})]})]})]}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[i.jsx("div",{className:"lg:col-span-3",children:i.jsxs(ae,{children:[i.jsx(Te,{children:i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx(ke,{className:"text-lg",children:"محرر النصوص"}),i.jsxs("div",{className:"flex gap-2",children:[i.jsxs(xe,{variant:"outline",size:"sm",onClick:f,disabled:o,className:"flex items-center gap-2",children:[o?i.jsx(Ar,{className:"h-3 w-3 animate-spin"}):i.jsx(hs,{className:"h-3 w-3"}),"تحليل النص"]}),i.jsxs(xe,{variant:"outline",size:"sm",onClick:v,disabled:o,className:"flex items-center gap-2",children:[i.jsx(Rt,{className:"h-3 w-3"}),"فحص الاتساق"]})]})]})}),i.jsx(oe,{children:i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex flex-wrap gap-2 p-3 bg-gray-50 rounded-lg",children:[i.jsxs(xe,{variant:"outline",size:"sm",onClick:p,className:"flex items-center gap-2",children:[i.jsx($u,{className:"h-3 w-3"}),"تحسين الحوار"]}),i.jsxs(xe,{variant:"outline",size:"sm",onClick:()=>{var x;return A(((x=window.getSelection())==null?void 0:x.toString())||"")},className:"flex items-center gap-2",children:[i.jsx(Ha,{className:"h-3 w-3"}),"توسيع النص"]}),i.jsxs(xe,{variant:"outline",size:"sm",className:"flex items-center gap-2",children:[i.jsx(Wa,{className:"h-3 w-3"}),"فحص الأسلوب"]}),i.jsxs(xe,{variant:"outline",size:"sm",className:"flex items-center gap-2",children:[i.jsx(Wn,{className:"h-3 w-3"}),"تطوير الشخصيات"]})]}),i.jsx(Zi,{value:s,onChange:x=>a(x.target.value),className:"min-h-[500px] font-mono text-sm leading-relaxed",dir:"rtl",placeholder:"ابدأ بتحرير محتوى الفصل هنا..."}),i.jsxs("div",{className:"flex justify-between text-sm text-gray-600 p-3 bg-gray-50 rounded",children:[i.jsxs("span",{children:["الكلمات: ",s.split(/\s+/).length]}),i.jsxs("span",{children:["الأحرف: ",s.length]}),i.jsxs("span",{children:["الفقرات: ",s.split(`

`).length]}),i.jsxs("span",{children:["آخر حفظ: ",(d==null?void 0:d.lastModified.toLocaleTimeString("ar-SA"))||"لم يتم الحفظ"]})]})]})})]})}),i.jsx("div",{className:"lg:col-span-1",children:i.jsxs(ae,{children:[i.jsx(Te,{children:i.jsx(ke,{className:"text-lg",children:"مساعدة التحرير"})}),i.jsx(oe,{children:i.jsxs(zn,{value:c,onValueChange:x=>u(x),children:[i.jsxs(On,{className:"grid w-full grid-cols-3",children:[i.jsx(nt,{value:"suggestions",className:"text-xs",children:"اقتراحات"}),i.jsx(nt,{value:"characters",className:"text-xs",children:"شخصيات"}),i.jsx(nt,{value:"consistency",className:"text-xs",children:"اتساق"})]}),i.jsxs(rt,{value:"suggestions",className:"space-y-3",children:[i.jsx("h5",{className:"font-semibold text-sm mb-3",children:"اقتراحات التحسين"}),d==null?void 0:d.feedback.map((x,b)=>i.jsxs("div",{className:"p-3 border rounded-lg",children:[i.jsxs("div",{className:"flex items-start gap-2 mb-2",children:[x.type==="suggestion"?i.jsx(nr,{className:"h-4 w-4 text-yellow-600 mt-0.5"}):x.type==="improvement"?i.jsx(lce,{className:"h-4 w-4 text-blue-600 mt-0.5"}):i.jsx($a,{className:"h-4 w-4 text-red-600 mt-0.5"}),i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex justify-between items-start mb-1",children:[i.jsx("span",{className:"font-medium text-sm",children:x.category}),i.jsx(He,{variant:x.priority==="high"?"destructive":x.priority==="medium"?"default":"secondary",className:"text-xs",children:x.priority==="high"?"عالي":x.priority==="medium"?"متوسط":"منخفض"})]}),i.jsx("p",{className:"text-xs text-gray-600",children:x.description})]})]}),i.jsx(xe,{variant:"outline",size:"sm",className:"w-full text-xs",children:"تطبيق الاقتراح"})]},b)),!(d!=null&&d.feedback.length)&&i.jsxs("div",{className:"text-center py-6 text-gray-500",children:[i.jsx(nr,{className:"h-8 w-8 mx-auto mb-2 text-gray-400"}),i.jsx("p",{className:"text-sm",children:"لا توجد اقتراحات حالياً"}),i.jsx(xe,{variant:"outline",size:"sm",onClick:f,className:"mt-2",children:"تحليل النص"})]})]}),i.jsxs(rt,{value:"characters",className:"space-y-3",children:[i.jsx("h5",{className:"font-semibold text-sm mb-3",children:"دليل الشخصيات"}),(g=t.novelBlueprint)==null?void 0:g.structure.characters.map(x=>i.jsxs("div",{className:"p-3 border rounded-lg",children:[i.jsx("h6",{className:"font-medium text-sm mb-1",children:x.name}),i.jsx("p",{className:"text-xs text-gray-600 mb-2",children:x.role}),i.jsxs("div",{className:"space-y-1",children:[i.jsxs("div",{className:"text-xs",children:[i.jsx("span",{className:"font-medium",children:"الصوت:"})," ",x.voice]}),i.jsxs("div",{className:"text-xs",children:[i.jsx("span",{className:"font-medium",children:"الحوار:"})," ",x.dialogue_style]})]}),i.jsx("div",{className:"flex flex-wrap gap-1 mt-2",children:x.personality.slice(0,3).map((b,j)=>i.jsx(He,{variant:"outline",className:"text-xs",children:b},j))})]},x.id))]}),i.jsxs(rt,{value:"consistency",className:"space-y-3",children:[i.jsx("h5",{className:"font-semibold text-sm mb-3",children:"فحص الاتساق"}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"p-3 border rounded-lg",children:[i.jsxs("div",{className:"flex justify-between items-center mb-2",children:[i.jsx("span",{className:"text-sm font-medium",children:"اتساق الأسلوب"}),i.jsx("span",{className:"text-sm text-green-600",children:"✓"})]}),i.jsx("p",{className:"text-xs text-gray-600",children:"الأسلوب متسق مع الرواية المصدر"})]}),i.jsxs("div",{className:"p-3 border rounded-lg",children:[i.jsxs("div",{className:"flex justify-between items-center mb-2",children:[i.jsx("span",{className:"text-sm font-medium",children:"اتساق الشخصيات"}),i.jsx("span",{className:"text-sm text-green-600",children:"✓"})]}),i.jsx("p",{className:"text-xs text-gray-600",children:"الشخصيات تتصرف بشكل متسق"})]}),i.jsxs("div",{className:"p-3 border rounded-lg",children:[i.jsxs("div",{className:"flex justify-between items-center mb-2",children:[i.jsx("span",{className:"text-sm font-medium",children:"اتساق الحبكة"}),i.jsx("span",{className:"text-sm text-yellow-600",children:"⚠"})]}),i.jsx("p",{className:"text-xs text-gray-600",children:"تحتاج مراجعة طفيفة في الترابط"}),i.jsx(xe,{variant:"outline",size:"sm",className:"w-full mt-2 text-xs",children:"عرض التفاصيل"})]})]}),i.jsxs(xe,{variant:"outline",size:"sm",onClick:v,disabled:o,className:"w-full",children:[o?i.jsx(Ar,{className:"h-3 w-3 animate-spin mr-2"}):i.jsx(Rt,{className:"h-3 w-3 mr-2"}),"فحص شامل"]})]})]})})]})})]}),i.jsxs(ae,{children:[i.jsxs(Te,{children:[i.jsx(ke,{className:"text-lg",children:"تقدم التحرير"}),i.jsx(Pt,{children:"حالة تحرير الفصول ومؤشرات الجودة الإجمالية"})]}),i.jsx(oe,{children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("div",{children:[i.jsx("h5",{className:"font-semibold mb-3",children:"حالة الفصول"}),i.jsx("div",{className:"space-y-2",children:t.generatedChapters.map((x,b)=>i.jsxs("div",{className:`flex items-center justify-between p-2 border rounded cursor-pointer transition-colors ${b===n?"bg-blue-50 border-blue-200":"hover:bg-gray-50"}`,onClick:()=>r(b),children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:`w-3 h-3 rounded-full ${x.status==="edited"?"bg-green-500":"bg-gray-300"}`}),i.jsx("span",{className:"text-sm font-medium",children:x.title})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(He,{variant:x.status==="edited"?"default":"secondary",className:"text-xs",children:x.status==="edited"?"محرر":"مسودة"}),i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(tr,{className:"h-3 w-3 text-yellow-500"}),i.jsxs("span",{className:"text-xs",children:[x.quality.overall,"%"]})]})]})]},x.id))})]}),i.jsxs("div",{children:[i.jsx("h5",{className:"font-semibold mb-3",children:"إحصائيات الجودة"}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{children:[i.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[i.jsx("span",{children:"الفصول المحررة"}),i.jsxs("span",{children:[t.generatedChapters.filter(x=>x.status==="edited").length," / ",t.generatedChapters.length]})]}),i.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:i.jsx("div",{className:"bg-blue-600 h-2 rounded-full",style:{width:`${t.generatedChapters.filter(x=>x.status==="edited").length/t.generatedChapters.length*100}%`}})})]}),i.jsxs("div",{children:[i.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[i.jsx("span",{children:"متوسط الجودة"}),i.jsxs("span",{children:[Math.round(t.generatedChapters.reduce((x,b)=>x+b.quality.overall,0)/t.generatedChapters.length),"%"]})]}),i.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:i.jsx("div",{className:"bg-green-600 h-2 rounded-full",style:{width:`${Math.round(t.generatedChapters.reduce((x,b)=>x+b.quality.overall,0)/t.generatedChapters.length)}%`}})})]}),i.jsx("div",{children:i.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[i.jsx("span",{children:"إجمالي الكلمات"}),i.jsx("span",{children:t.generatedChapters.reduce((x,b)=>x+b.wordCount,0).toLocaleString()})]})})]})]})]})})]}),t.generatedChapters.every(x=>x.status==="edited")&&i.jsx(ae,{className:"border-green-200 bg-green-50",children:i.jsx(oe,{className:"pt-6",children:i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx(Rt,{className:"h-6 w-6 text-green-600 mt-1"}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-semibold text-green-900 mb-2",children:"تم الانتهاء من تحرير جميع الفصول!"}),i.jsx("p",{className:"text-green-700 text-sm mb-4",children:"تهانينا! تم تحرير ومراجعة جميع فصول الرواية بنجاح. يمكنك الآن الانتقال للمرحلة النهائية للمراجعة الشاملة والتصدير."}),i.jsxs(xe,{onClick:()=>e({type:"SET_CURRENT_STAGE",payload:6}),className:"flex items-center gap-2",children:[i.jsx(ea,{className:"h-4 w-4"}),"الانتقال للمراجعة النهائية"]})]})]})})})]}):i.jsx("div",{className:"space-y-6",children:i.jsxs(ae,{children:[i.jsxs(Te,{children:[i.jsx(ke,{children:"المحرر التفاعلي المتقدم"}),i.jsx(Pt,{children:"لا توجد فصول مولدة للتحرير. يجب توليد الفصول أولاً من المرحلة السابقة."})]}),i.jsx(oe,{children:i.jsx(xe,{onClick:()=>e({type:"SET_CURRENT_STAGE",payload:4}),className:"flex items-center gap-2",children:"العودة لتوليد الفصول"})})]})})};var iF="Switch",[JPe,Fmt]=qa(iF),[ZPe,eUe]=JPe(iF),Rme=E.forwardRef((t,e)=>{const{__scopeSwitch:n,name:r,checked:s,defaultChecked:a,required:o,disabled:l,value:c="on",onCheckedChange:u,form:d,...h}=t,[f,A]=E.useState(null),v=Tn(e,b=>A(b)),p=E.useRef(!1),m=f?d||!!f.closest("form"):!0,[g,x]=Xu({prop:s,defaultProp:a??!1,onChange:u,caller:iF});return i.jsxs(ZPe,{scope:n,checked:g,disabled:l,children:[i.jsx(Jt.button,{type:"button",role:"switch","aria-checked":g,"aria-required":o,"data-state":$me(g),"data-disabled":l?"":void 0,disabled:l,value:c,...h,ref:v,onClick:Ht(t.onClick,b=>{x(j=>!j),m&&(p.current=b.isPropagationStopped(),p.current||b.stopPropagation())})}),m&&i.jsx(zme,{control:f,bubbles:!p.current,name:r,value:c,checked:g,required:o,disabled:l,form:d,style:{transform:"translateX(-100%)"}})]})});Rme.displayName=iF;var Qme="SwitchThumb",Hme=E.forwardRef((t,e)=>{const{__scopeSwitch:n,...r}=t,s=eUe(Qme,n);return i.jsx(Jt.span,{"data-state":$me(s.checked),"data-disabled":s.disabled?"":void 0,...r,ref:e})});Hme.displayName=Qme;var tUe="SwitchBubbleInput",zme=E.forwardRef(({__scopeSwitch:t,control:e,checked:n,bubbles:r=!0,...s},a)=>{const o=E.useRef(null),l=Tn(o,a),c=PS(n),u=FS(e);return E.useEffect(()=>{const d=o.current;if(!d)return;const h=window.HTMLInputElement.prototype,A=Object.getOwnPropertyDescriptor(h,"checked").set;if(c!==n&&A){const v=new Event("click",{bubbles:r});A.call(d,n),d.dispatchEvent(v)}},[c,n,r]),i.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...s,tabIndex:-1,ref:l,style:{...s.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});zme.displayName=tUe;function $me(t){return t?"checked":"unchecked"}var Wme=Rme,nUe=Hme;const zo=E.forwardRef(({className:t,...e},n)=>i.jsx(Wme,{className:Vt("peer inline-flex h-5 w-9 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent shadow-sm transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-zinc-950 focus-visible:ring-offset-2 focus-visible:ring-offset-white disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-zinc-900 data-[state=unchecked]:bg-zinc-200 dark:focus-visible:ring-zinc-300 dark:focus-visible:ring-offset-zinc-950 dark:data-[state=checked]:bg-zinc-50 dark:data-[state=unchecked]:bg-zinc-800",t),...e,ref:n,children:i.jsx(nUe,{className:Vt("pointer-events-none block h-4 w-4 rounded-full bg-white shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-4 data-[state=unchecked]:translate-x-0 dark:bg-zinc-950")})}));zo.displayName=Wme.displayName;const qme=()=>{var d;const{state:t,dispatch:e}=Ju(),[n,r]=E.useState(!1),[s,a]=E.useState({format:"docx",includeMetadata:!0,includeAnalysis:!0,customStyling:!0});E.useEffect(()=>{!t.finalProject&&t.generatedChapters.length>0&&o()},[t.generatedChapters]);const o=async()=>{var h,f;r(!0),e({type:"SET_LOADING",payload:!0});try{await new Promise(v=>setTimeout(v,3e3));const A={metadata:{id:"final-project-"+Date.now(),name:((h=t.novelBlueprint)==null?void 0:h.idea.title)||"رواية جديدة",description:((f=t.novelBlueprint)==null?void 0:f.idea.synopsis)||"",createdAt:new Date,lastModified:new Date,currentStage:6,progress:{stage1:100,stage2:100,stage3:100,stage4:100,stage5:100,stage6:100},statistics:{totalWords:t.generatedChapters.reduce((v,p)=>v+p.wordCount,0),averageQuality:Math.round(t.generatedChapters.reduce((v,p)=>v+p.quality.overall,0)/t.generatedChapters.length),completionRate:100,timeSpent:0}},exportSettings:s,qualityReport:{overallQuality:Math.round(t.generatedChapters.reduce((v,p)=>v+p.quality.overall,0)/t.generatedChapters.length),strengths:["اتساق عالي في الأسلوب مع الرواية المصدر","تطوير ممتاز للشخصيات عبر الفصول","ثراء ثقافي وأصالة في التعبير","حبكة متماسكة ومتدرجة البناء","لغة قوية وتراكيب متنوعة"],improvements:["يمكن تطوير بعض الحوارات لتكون أكثر طبيعية","إضافة المزيد من التفاصيل الوصفية في مشاهد محددة","تعزيز الربط بين بعض الأحداث الفرعية"],recommendations:[{category:"المراجعة اللغوية",description:"مراجعة نهائية للإملاء والنحو",priority:"high"},{category:"التدقيق الثقافي",description:"التأكد من صحة المراجع الثقافية",priority:"medium"},{category:"التنسيق",description:"تطبيق تنسيق موحد للنص النهائي",priority:"medium"},{category:"المعاينة",description:"قراءة نهائية شاملة قبل النشر",priority:"high"}]}};e({type:"SET_FINAL_PROJECT",payload:A}),Bi({title:"تم إنشاء المشروع النهائي",description:"تم تحليل وتجهيز الرواية للمراجعة النهائية والتصدير."})}catch{e({type:"SET_ERROR",payload:"فشل في إنشاء المشروع النهائي."})}finally{r(!1),e({type:"SET_LOADING",payload:!1})}},l=async()=>{t.finalProject&&(Bi({title:"جارٍ التصدير",description:`تحضير الملف بصيغة ${s.format.toUpperCase()}...`}),await new Promise(h=>setTimeout(h,2e3)),Bi({title:"تم التصدير بنجاح",description:`تم تصدير الرواية بصيغة ${s.format.toUpperCase()} بنجاح.`}))},c=()=>{e({type:"RESET_JOURNEY"}),Bi({title:"تم بدء مشروع جديد",description:"يمكنك الآن البدء في رحلة كتابة جديدة."})};if(n)return i.jsx("div",{className:"space-y-6",children:i.jsxs(ae,{children:[i.jsxs(Te,{children:[i.jsxs(ke,{className:"flex items-center gap-2",children:[i.jsx(gr,{className:"h-6 w-6 text-pink-600"}),"جارٍ إعداد المشروع النهائي"]}),i.jsx(Pt,{children:"تحليل شامل للرواية وإعداد التقرير النهائي"})]}),i.jsx(oe,{children:i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(Ar,{className:"h-5 w-5 text-blue-600 animate-spin"}),i.jsx("span",{children:"تحليل الجودة الإجمالية..."})]}),i.jsx(tt,{value:75,className:"w-full"}),i.jsx("div",{className:"text-sm text-gray-600",children:"فحص الاتساق وإعداد التوصيات..."})]})})]})});if(!t.finalProject)return i.jsx("div",{className:"space-y-6",children:i.jsxs(ae,{children:[i.jsxs(Te,{children:[i.jsx(ke,{children:"التنقيح والتصدير النهائي"}),i.jsx(Pt,{children:"لم يتم إعداد المشروع النهائي بعد. تأكد من إكمال جميع المراحل السابقة."})]}),i.jsx(oe,{children:i.jsxs(xe,{onClick:o,className:"flex items-center gap-2",children:[i.jsx(gr,{className:"h-4 w-4"}),"إعداد المشروع النهائي"]})})]})});const u=t.finalProject;return i.jsxs("div",{className:"space-y-6",children:[i.jsxs(ae,{className:"border-2 border-green-200 bg-gradient-to-r from-green-50 to-blue-50",children:[i.jsx(Te,{children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-12 h-12 bg-green-500 rounded-full flex items-center justify-center",children:i.jsx(za,{className:"h-6 w-6 text-white"})}),i.jsxs("div",{children:[i.jsx(ke,{className:"text-2xl text-green-900",children:"تهانينا! تم إكمال الرواية بنجاح"}),i.jsxs(Pt,{className:"text-green-700",children:[u.metadata.name," - جاهزة للتصدير والمشاركة"]})]})]}),i.jsxs("div",{className:"text-right",children:[i.jsxs("div",{className:"text-3xl font-bold text-green-600",children:[u.qualityReport.overallQuality,"%"]}),i.jsx("div",{className:"text-sm text-green-700",children:"جودة إجمالية"})]})]})}),i.jsx(oe,{children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[i.jsxs("div",{className:"text-center p-4 bg-white rounded-lg",children:[i.jsx(dr,{className:"h-6 w-6 text-blue-600 mx-auto mb-2"}),i.jsx("div",{className:"text-2xl font-bold text-blue-600",children:t.generatedChapters.length}),i.jsx("div",{className:"text-sm text-gray-600",children:"فصل"})]}),i.jsxs("div",{className:"text-center p-4 bg-white rounded-lg",children:[i.jsx(xn,{className:"h-6 w-6 text-green-600 mx-auto mb-2"}),i.jsx("div",{className:"text-2xl font-bold text-green-600",children:u.metadata.statistics.totalWords.toLocaleString()}),i.jsx("div",{className:"text-sm text-gray-600",children:"كلمة"})]}),i.jsxs("div",{className:"text-center p-4 bg-white rounded-lg",children:[i.jsx(tr,{className:"h-6 w-6 text-yellow-600 mx-auto mb-2"}),i.jsxs("div",{className:"text-2xl font-bold text-yellow-600",children:[u.metadata.statistics.averageQuality,"%"]}),i.jsx("div",{className:"text-sm text-gray-600",children:"متوسط الجودة"})]}),i.jsxs("div",{className:"text-center p-4 bg-white rounded-lg",children:[i.jsx(Rt,{className:"h-6 w-6 text-purple-600 mx-auto mb-2"}),i.jsxs("div",{className:"text-2xl font-bold text-purple-600",children:[u.metadata.statistics.completionRate,"%"]}),i.jsx("div",{className:"text-sm text-gray-600",children:"مكتمل"})]})]})})]}),i.jsx(ae,{children:i.jsx(oe,{className:"pt-6",children:i.jsxs(zn,{defaultValue:"overview",className:"w-full",children:[i.jsxs(On,{className:"grid w-full grid-cols-3",children:[i.jsx(nt,{value:"overview",children:"نظرة عامة"}),i.jsx(nt,{value:"quality",children:"تحليل الجودة"}),i.jsx(nt,{value:"export",children:"التصدير"})]}),i.jsxs(rt,{value:"overview",className:"space-y-6",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("div",{children:[i.jsxs("h4",{className:"font-semibold mb-4 flex items-center gap-2",children:[i.jsx(dr,{className:"h-5 w-5 text-blue-600"}),"معلومات المشروع"]}),i.jsxs("div",{className:"space-y-3 text-sm",children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-gray-600",children:"اسم المشروع:"}),i.jsx("span",{className:"font-medium",children:u.metadata.name})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-gray-600",children:"تاريخ الإنشاء:"}),i.jsx("span",{className:"font-medium",children:u.metadata.createdAt.toLocaleDateString("ar-SA")})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-gray-600",children:"آخر تعديل:"}),i.jsx("span",{className:"font-medium",children:u.metadata.lastModified.toLocaleDateString("ar-SA")})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-gray-600",children:"النوع:"}),i.jsx("span",{className:"font-medium",children:(d=t.novelBlueprint)==null?void 0:d.idea.genre})]})]})]}),i.jsxs("div",{children:[i.jsxs("h4",{className:"font-semibold mb-4 flex items-center gap-2",children:[i.jsx(hs,{className:"h-5 w-5 text-green-600"}),"إحصائيات مفصلة"]}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{children:[i.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[i.jsx("span",{children:"التقدم الإجمالي"}),i.jsx("span",{children:"100%"})]}),i.jsx(tt,{value:100,className:"h-2"})]}),i.jsxs("div",{children:[i.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[i.jsx("span",{children:"الفصول المكتملة"}),i.jsxs("span",{children:[t.generatedChapters.length," / ",t.generatedChapters.length]})]}),i.jsx(tt,{value:100,className:"h-2"})]}),i.jsxs("div",{children:[i.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[i.jsx("span",{children:"الفصول المحررة"}),i.jsxs("span",{children:[t.generatedChapters.filter(h=>h.status==="edited").length," / ",t.generatedChapters.length]})]}),i.jsx(tt,{value:t.generatedChapters.filter(h=>h.status==="edited").length/t.generatedChapters.length*100,className:"h-2"})]})]})]})]}),i.jsxs("div",{children:[i.jsxs("h4",{className:"font-semibold mb-4 flex items-center gap-2",children:[i.jsx(ta,{className:"h-5 w-5 text-red-600"}),"نقاط القوة الرئيسية"]}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:u.qualityReport.strengths.map((h,f)=>i.jsxs("div",{className:"flex items-start gap-2 p-3 border rounded-lg bg-green-50",children:[i.jsx(Rt,{className:"h-4 w-4 text-green-600 mt-0.5 flex-shrink-0"}),i.jsx("span",{className:"text-sm text-green-800",children:h})]},f))})]})]}),i.jsxs(rt,{value:"quality",className:"space-y-6",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("div",{children:[i.jsxs("h4",{className:"font-semibold mb-4 flex items-center gap-2",children:[i.jsx(Hn,{className:"h-5 w-5 text-blue-600"}),"مقاييس الجودة"]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsxs("div",{className:"flex justify-between mb-2",children:[i.jsx("span",{className:"text-sm font-medium",children:"اتساق الأسلوب"}),i.jsxs("span",{className:"text-sm",children:[Math.round(t.generatedChapters.reduce((h,f)=>h+f.quality.styleConsistency,0)/t.generatedChapters.length),"%"]})]}),i.jsx(tt,{value:Math.round(t.generatedChapters.reduce((h,f)=>h+f.quality.styleConsistency,0)/t.generatedChapters.length)})]}),i.jsxs("div",{children:[i.jsxs("div",{className:"flex justify-between mb-2",children:[i.jsx("span",{className:"text-sm font-medium",children:"اتساق الشخصيات"}),i.jsxs("span",{className:"text-sm",children:[Math.round(t.generatedChapters.reduce((h,f)=>h+f.quality.characterConsistency,0)/t.generatedChapters.length),"%"]})]}),i.jsx(tt,{value:Math.round(t.generatedChapters.reduce((h,f)=>h+f.quality.characterConsistency,0)/t.generatedChapters.length)})]}),i.jsxs("div",{children:[i.jsxs("div",{className:"flex justify-between mb-2",children:[i.jsx("span",{className:"text-sm font-medium",children:"اتساق الحبكة"}),i.jsxs("span",{className:"text-sm",children:[Math.round(t.generatedChapters.reduce((h,f)=>h+f.quality.plotConsistency,0)/t.generatedChapters.length),"%"]})]}),i.jsx(tt,{value:Math.round(t.generatedChapters.reduce((h,f)=>h+f.quality.plotConsistency,0)/t.generatedChapters.length)})]}),i.jsxs("div",{children:[i.jsxs("div",{className:"flex justify-between mb-2",children:[i.jsx("span",{className:"text-sm font-medium",children:"الأصالة الثقافية"}),i.jsxs("span",{className:"text-sm",children:[Math.round(t.generatedChapters.reduce((h,f)=>h+f.quality.culturalAuthenticity,0)/t.generatedChapters.length),"%"]})]}),i.jsx(tt,{value:Math.round(t.generatedChapters.reduce((h,f)=>h+f.quality.culturalAuthenticity,0)/t.generatedChapters.length)})]})]})]}),i.jsxs("div",{children:[i.jsxs("h4",{className:"font-semibold mb-4 flex items-center gap-2",children:[i.jsx($a,{className:"h-5 w-5 text-yellow-600"}),"نقاط التحسين"]}),i.jsx("div",{className:"space-y-3",children:u.qualityReport.improvements.map((h,f)=>i.jsx("div",{className:"p-3 border rounded-lg bg-yellow-50",children:i.jsxs("div",{className:"flex items-start gap-2",children:[i.jsx($a,{className:"h-4 w-4 text-yellow-600 mt-0.5 flex-shrink-0"}),i.jsx("span",{className:"text-sm text-yellow-800",children:h})]})},f))})]})]}),i.jsxs("div",{children:[i.jsxs("h4",{className:"font-semibold mb-4 flex items-center gap-2",children:[i.jsx(En,{className:"h-5 w-5 text-purple-600"}),"التوصيات النهائية"]}),i.jsx("div",{className:"grid gap-3",children:u.qualityReport.recommendations.map((h,f)=>i.jsxs("div",{className:"flex items-start gap-3 p-4 border rounded-lg",children:[i.jsx("div",{className:`w-3 h-3 rounded-full mt-1 ${h.priority==="high"?"bg-red-500":h.priority==="medium"?"bg-yellow-500":"bg-blue-500"}`}),i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex justify-between items-start mb-1",children:[i.jsx("h5",{className:"font-medium text-sm",children:h.category}),i.jsx(He,{variant:h.priority==="high"?"destructive":h.priority==="medium"?"default":"secondary",className:"text-xs",children:h.priority==="high"?"عالي":h.priority==="medium"?"متوسط":"منخفض"})]}),i.jsx("p",{className:"text-sm text-gray-600",children:h.description})]})]},f))})]})]}),i.jsx(rt,{value:"export",className:"space-y-6",children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("div",{children:[i.jsxs("h4",{className:"font-semibold mb-4 flex items-center gap-2",children:[i.jsx(gr,{className:"h-5 w-5 text-blue-600"}),"إعدادات التصدير"]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx(Dt,{className:"text-sm font-medium mb-3 block",children:"صيغة الملف"}),i.jsx("div",{className:"grid grid-cols-3 gap-2",children:["txt","docx","pdf"].map(h=>i.jsxs(xe,{variant:s.format===h?"default":"outline",size:"sm",onClick:()=>a({...s,format:h}),className:"text-xs",children:[".",h.toUpperCase()]},h))})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx(Dt,{htmlFor:"metadata",className:"text-sm",children:"تضمين البيانات الوصفية"}),i.jsx(zo,{id:"metadata",checked:s.includeMetadata,onCheckedChange:h=>a({...s,includeMetadata:h})})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx(Dt,{htmlFor:"analysis",className:"text-sm",children:"تضمين تقرير التحليل"}),i.jsx(zo,{id:"analysis",checked:s.includeAnalysis,onCheckedChange:h=>a({...s,includeAnalysis:h})})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx(Dt,{htmlFor:"styling",className:"text-sm",children:"تطبيق التنسيق المخصص"}),i.jsx(zo,{id:"styling",checked:s.customStyling,onCheckedChange:h=>a({...s,customStyling:h})})]})]})]})]}),i.jsxs("div",{children:[i.jsxs("h4",{className:"font-semibold mb-4 flex items-center gap-2",children:[i.jsx(xn,{className:"h-5 w-5 text-green-600"}),"معاينة التصدير"]}),i.jsx("div",{className:"p-4 border rounded-lg bg-gray-50",children:i.jsxs("div",{className:"space-y-2 text-sm",children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{children:"نوع الملف:"}),i.jsxs("span",{className:"font-medium",children:[".",s.format.toUpperCase()]})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{children:"الحجم المتوقع:"}),i.jsx("span",{className:"font-medium",children:s.format==="pdf"?"2.5 MB":s.format==="docx"?"1.2 MB":"800 KB"})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{children:"عدد الصفحات:"}),i.jsxs("span",{className:"font-medium",children:["~",Math.ceil(u.metadata.statistics.totalWords/250)]})]}),i.jsxs("div",{className:"pt-2 border-t",children:[i.jsx("div",{className:"font-medium text-xs text-gray-600 mb-2",children:"المحتويات:"}),i.jsxs("ul",{className:"text-xs text-gray-600 space-y-1",children:[i.jsxs("li",{children:["• النص الكامل (",u.metadata.statistics.totalWords.toLocaleString()," كلمة)"]}),s.includeMetadata&&i.jsx("li",{children:"• البيانات الوصفية والمعلومات"}),s.includeAnalysis&&i.jsx("li",{children:"• تقرير التحليل والجودة"}),s.customStyling&&i.jsx("li",{children:"• تنسيق وتصميم مخصص"})]})]})]})}),i.jsxs("div",{className:"mt-6 space-y-3",children:[i.jsxs(xe,{onClick:l,className:"w-full flex items-center gap-2",size:"lg",children:[i.jsx(gr,{className:"h-4 w-4"}),"تصدير الرواية"]}),i.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[i.jsxs(xe,{variant:"outline",size:"sm",className:"flex items-center gap-2",children:[i.jsx(Vn,{className:"h-3 w-3"}),"معاينة"]}),i.jsxs(xe,{variant:"outline",size:"sm",className:"flex items-center gap-2",children:[i.jsx(x5e,{className:"h-3 w-3"}),"مشاركة"]})]})]})]})]})})]})})}),i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsxs("div",{className:"flex gap-3",children:[i.jsxs(xe,{variant:"outline",className:"flex items-center gap-2",children:[i.jsx(Ko,{className:"h-4 w-4"}),"حفظ المشروع"]}),i.jsxs(xe,{variant:"outline",className:"flex items-center gap-2",children:[i.jsx(Y_e,{className:"h-4 w-4"}),"أرشفة"]})]}),i.jsxs("div",{className:"flex gap-3",children:[i.jsxs(xe,{variant:"outline",onClick:c,className:"flex items-center gap-2",children:[i.jsx(dr,{className:"h-4 w-4"}),"مشروع جديد"]}),i.jsxs(xe,{onClick:l,className:"flex items-center gap-2",size:"lg",children:[i.jsx(gr,{className:"h-4 w-4"}),"تصدير الرواية النهائية"]})]})]}),i.jsx(ae,{className:"border-2 border-gold bg-gradient-to-r from-yellow-50 to-orange-50",children:i.jsx(oe,{className:"pt-6",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-yellow-500 to-orange-500 rounded-full flex items-center justify-center mx-auto mb-4",children:i.jsx(za,{className:"h-8 w-8 text-white"})}),i.jsx("h3",{className:"text-2xl font-bold text-orange-900 mb-2",children:"🎉 تهانينا! لقد أنجزت رواية كاملة 🎉"}),i.jsxs("p",{className:"text-orange-700 mb-4 max-w-2xl mx-auto",children:['لقد نجحت في إنشاء رواية عربية أصيلة باستخدام تقنيات الذكاء الاصطناعي المتقدمة. روايتك "',u.metadata.name,'" تحتوي على ',u.metadata.statistics.totalWords.toLocaleString()," كلمة موزعة على ",t.generatedChapters.length," فصل بجودة إجمالية ",u.qualityReport.overallQuality,"%."]}),i.jsxs("div",{className:"flex justify-center gap-4",children:[i.jsxs(xe,{onClick:l,className:"flex items-center gap-2",size:"lg",children:[i.jsx(gr,{className:"h-4 w-4"}),"تحميل روايتي"]}),i.jsxs(xe,{variant:"outline",onClick:c,className:"flex items-center gap-2",size:"lg",children:[i.jsx(dr,{className:"h-4 w-4"}),"كتابة رواية جديدة"]})]})]})})})]})},rUe=()=>{const{state:t,dispatch:e}=Ju(),[n,r]=E.useState(t.currentStage),[s,a]=E.useState("start"),o=x=>{switch(a(x),x){case"analyze":e({type:"SET_CURRENT_STAGE",payload:1}),r(1);break;case"new":e({type:"SET_CURRENT_STAGE",payload:2}),r(2);break;case"continue":r(t.currentStage);break}},l=()=>{a("start")},c=()=>{switch(s){case"analyze":return[1,2,3,4,5,6];case"new":return[2,3,4,5,6];case"continue":return[1,2,3,4,5,6];default:return[]}},u=[{id:1,title:"تحليل الرواية المصدر",description:"تحليل عميق للأسلوب والبنية والشخصيات",icon:zt,color:"bg-blue-500",completed:!!t.sourceAnalysis,component:Epe},{id:2,title:"معمل الأفكار المحسن",description:"توليد أفكار مبدعة مبنية على التحليل",icon:En,color:"bg-green-500",completed:!!t.selectedIdea,component:Bpe},{id:3,title:"باني المخطط الذكي",description:"بناء مخطط شامل للرواية الجديدة",icon:xn,color:"bg-purple-500",completed:!!t.novelBlueprint,component:Ome},{id:4,title:"مولد الفصول الموجه",description:"توليد الفصول بالذكاء الاصطناعي",icon:ga,color:"bg-orange-500",completed:t.generatedChapters.length>0,component:Mme},{id:5,title:"المحرر التفاعلي المتقدم",description:"تحرير وتحسين الفصول بأدوات ذكية",icon:Gu,color:"bg-indigo-500",completed:t.generatedChapters.some(x=>x.status==="edited"),component:Lme},{id:6,title:"التنقيح والتصدير النهائي",description:"مراجعة نهائية وتصدير المشروع",icon:gr,color:"bg-pink-500",completed:!!t.finalProject,component:qme}],d=u.find(x=>x.id===n),h=d==null?void 0:d.component,f=()=>{const x=c(),b=u.filter(N=>x.includes(N.id)),j=b.filter(N=>N.completed).length;return Math.round(j/b.length*100)},A=x=>{r(x),e({type:"SET_CURRENT_STAGE",payload:x})},v=()=>{const x=c(),b=x.indexOf(n);if(b>=0&&b<x.length-1){const j=x[b+1];A(j)}},p=()=>{const x=c(),b=x.indexOf(n);if(b>0){const j=x[b-1];A(j)}};if(s==="start")return i.jsx(bBe,{onChoice:o});const m=c(),g=u.filter(x=>m.includes(x.id));return i.jsxs("div",{className:"container mx-auto px-4 py-8",children:[i.jsx("div",{className:"mb-6",children:i.jsxs(xe,{variant:"outline",onClick:l,className:"flex items-center gap-2 text-gray-600 hover:text-gray-900",children:[i.jsx(n5e,{className:"h-4 w-4"}),"العودة للخيارات الرئيسية"]})}),i.jsx("div",{className:"mb-8",children:i.jsxs(ae,{children:[i.jsx(Te,{children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsxs(ke,{className:"flex items-center gap-2",children:[i.jsx(Qn,{className:"h-6 w-6 text-purple-600"}),"رحلة الكتابة الذكية"]}),i.jsx(Pt,{children:"تقدمك في المراحل الست للكتابة الذكية"})]}),i.jsxs("div",{className:"text-left",children:[i.jsxs("div",{className:"text-2xl font-bold text-purple-600",children:[f(),"%"]}),i.jsx("div",{className:"text-sm text-gray-500",children:"مكتمل"})]})]})}),i.jsxs(oe,{children:[i.jsx(tt,{value:f(),className:"mb-4"}),i.jsx("div",{className:`grid gap-2 ${g.length<=3?"grid-cols-3":g.length<=4?"grid-cols-4":g.length<=5?"grid-cols-5":"grid-cols-6"}`,children:g.map(x=>{const b=x.icon;return i.jsx("button",{onClick:()=>A(x.id),className:`relative p-3 rounded-lg border transition-all ${n===x.id?"border-purple-500 bg-purple-50":x.completed?"border-green-500 bg-green-50":"border-gray-200 bg-white hover:bg-gray-50"}`,children:i.jsxs("div",{className:"flex flex-col items-center gap-2",children:[i.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center ${n===x.id?"bg-purple-500 text-white":x.completed?"bg-green-500 text-white":"bg-gray-200 text-gray-600"}`,children:x.completed?i.jsx(Rt,{className:"h-4 w-4"}):i.jsx(b,{className:"h-4 w-4"})}),i.jsx("div",{className:"text-xs font-medium text-center",children:x.title}),n===x.id&&i.jsx("div",{className:"absolute -bottom-1 left-1/2 transform -translate-x-1/2 w-2 h-2 bg-purple-500 rounded-full"})]})},x.id)})})]})]})}),i.jsx("div",{className:"mb-8",children:i.jsxs(ae,{children:[i.jsx(Te,{children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("div",{className:"flex items-center gap-4",children:d&&i.jsxs(i.Fragment,{children:[i.jsx("div",{className:`w-12 h-12 rounded-lg flex items-center justify-center ${d.color} text-white`,children:i.jsx(d.icon,{className:"h-6 w-6"})}),i.jsxs("div",{children:[i.jsxs(ke,{children:["المرحلة ",n,": ",d.title]}),i.jsx(Pt,{children:d.description})]})]})}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(He,{variant:d!=null&&d.completed?"default":"secondary",children:d!=null&&d.completed?"مكتملة":"جارية"}),t.isLoading&&i.jsxs("div",{className:"flex items-center gap-2 text-blue-600",children:[i.jsx(Ar,{className:"h-4 w-4 animate-spin"}),i.jsx("span",{className:"text-sm",children:"جارٍ المعالجة..."})]})]})]})}),i.jsx(oe,{children:h&&i.jsx(h,{})})]})}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx(xe,{variant:"outline",onClick:p,disabled:g.findIndex(x=>x.id===n)===0,className:"flex items-center gap-2",children:"المرحلة السابقة"}),i.jsxs("div",{className:"flex items-center gap-4",children:[t.lastSaved&&i.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500",children:[i.jsx(Ko,{className:"h-4 w-4"}),"آخر حفظ: ",t.lastSaved.toLocaleTimeString("ar-SA")]}),i.jsxs(xe,{onClick:()=>e({type:"SAVE_PROJECT"}),variant:"outline",size:"sm",className:"flex items-center gap-2",children:[i.jsx(Ko,{className:"h-4 w-4"}),"حفظ"]})]}),i.jsxs(xe,{onClick:v,disabled:g.findIndex(x=>x.id===n)===g.length-1||!(d!=null&&d.completed),className:"flex items-center gap-2",children:["المرحلة التالية",i.jsx(ea,{className:"h-4 w-4"})]})]}),n===1&&!t.sourceAnalysis&&i.jsx("div",{className:"mt-8",children:i.jsx(ae,{className:"border-blue-200 bg-blue-50",children:i.jsx(oe,{className:"pt-6",children:i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx(zt,{className:"h-6 w-6 text-blue-600 mt-1"}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-semibold text-blue-900 mb-2",children:"ابدأ بتحليل رواية مصدر"}),i.jsx("p",{className:"text-blue-700 text-sm mb-4",children:"ارفع ملف نصي لرواية عربية ليقوم النظام بتحليل أسلوبها وبنيتها. هذا التحليل سيكون الأساس لتوليد الرواية الجديدة."}),i.jsxs("ul",{className:"text-blue-600 text-sm space-y-1",children:[i.jsx("li",{children:"• اختر رواية غنية بالأسلوب والعمق الثقافي"}),i.jsx("li",{children:"• تأكد من جودة النص وخلوه من الأخطاء"}),i.jsx("li",{children:"• يفضل أن تكون الرواية أكثر من 30,000 كلمة"})]})]})]})})})}),t.error&&i.jsx("div",{className:"mt-8",children:i.jsx(ae,{className:"border-red-200 bg-red-50",children:i.jsx(oe,{className:"pt-6",children:i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx($a,{className:"h-6 w-6 text-red-600 mt-1"}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-semibold text-red-900 mb-2",children:"حدث خطأ"}),i.jsx("p",{className:"text-red-700 text-sm",children:t.error})]})]})})})})]})},iUe=()=>i.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-purple-50",children:[i.jsxs("div",{className:"relative overflow-hidden",children:[i.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-600/10 to-purple-600/10"}),i.jsxs("div",{className:"relative container mx-auto px-4 py-16 text-center",children:[i.jsxs("div",{className:"flex items-center justify-center gap-4 mb-6",children:[i.jsxs("div",{className:"relative",children:[i.jsx(Qn,{className:"h-12 w-12 text-blue-600 animate-pulse"}),i.jsx("div",{className:"absolute -top-1 -right-1 w-4 h-4 bg-purple-500 rounded-full animate-bounce"})]}),i.jsx("h1",{className:"text-5xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:"رحلة الكتابة الذكية"}),i.jsx(e5e,{className:"h-12 w-12 text-purple-600 animate-pulse"})]}),i.jsx("p",{className:"text-xl text-gray-600 max-w-4xl mx-auto mb-8 leading-relaxed",children:"نظام متطور لتحليل الروايات العربية واستخدام النتائج لتوليد روايات جديدة تحاكي الأسلوب والبنية مع الحفاظ على الأصالة والإبداع"}),i.jsxs("div",{className:"grid md:grid-cols-3 gap-6 max-w-4xl mx-auto mb-12",children:[i.jsxs("div",{className:"flex items-center gap-3 bg-white/80 backdrop-blur rounded-lg p-4 shadow-sm",children:[i.jsx(zt,{className:"h-8 w-8 text-purple-600"}),i.jsxs("div",{className:"text-right",children:[i.jsx("h3",{className:"font-semibold text-gray-900",children:"تحليل ذكي"}),i.jsx("p",{className:"text-sm text-gray-600",children:"استخلاص عميق للأسلوب"})]})]}),i.jsxs("div",{className:"flex items-center gap-3 bg-white/80 backdrop-blur rounded-lg p-4 shadow-sm",children:[i.jsx(vr,{className:"h-8 w-8 text-blue-600"}),i.jsxs("div",{className:"text-right",children:[i.jsx("h3",{className:"font-semibold text-gray-900",children:"توليد سريع"}),i.jsx("p",{className:"text-sm text-gray-600",children:"إنشاء محتوى متقدم"})]})]}),i.jsxs("div",{className:"flex items-center gap-3 bg-white/80 backdrop-blur rounded-lg p-4 shadow-sm",children:[i.jsx(En,{className:"h-8 w-8 text-green-600"}),i.jsxs("div",{className:"text-right",children:[i.jsx("h3",{className:"font-semibold text-gray-900",children:"جودة عالية"}),i.jsx("p",{className:"text-sm text-gray-600",children:"نتائج احترافية"})]})]})]})]})]}),i.jsx(rUe,{}),i.jsx("div",{className:"bg-white border-t",children:i.jsx("div",{className:"container mx-auto px-4 py-8",children:i.jsxs(ae,{children:[i.jsxs(Te,{children:[i.jsx(ke,{className:"text-center",children:"إرشادات الاستخدام الأمثل"}),i.jsx(Pt,{className:"text-center",children:"نصائح مهمة لتحقيق أفضل النتائج من رحلة الكتابة الذكية"})]}),i.jsx(oe,{children:i.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[i.jsxs("div",{children:[i.jsxs("h4",{className:"font-semibold mb-4 flex items-center gap-2",children:[i.jsx(Rt,{className:"h-5 w-5 text-green-600"}),"أفضل الممارسات"]}),i.jsxs("ul",{className:"space-y-3 text-sm text-gray-600",children:[i.jsxs("li",{className:"flex items-start gap-2",children:[i.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full mt-2 flex-shrink-0"}),"اختر رواية مصدر غنية بالأسلوب والعمق الثقافي"]}),i.jsxs("li",{className:"flex items-start gap-2",children:[i.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full mt-2 flex-shrink-0"}),"راجع نتائج التحليل بعناية قبل الانتقال للمرحلة التالية"]}),i.jsxs("li",{className:"flex items-start gap-2",children:[i.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full mt-2 flex-shrink-0"}),"احفظ تقدمك بانتظام لتجنب فقدان البيانات"]}),i.jsxs("li",{className:"flex items-start gap-2",children:[i.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full mt-2 flex-shrink-0"}),"استفد من أدوات التحرير التفاعلي لتحسين الجودة"]})]})]}),i.jsxs("div",{children:[i.jsxs("h4",{className:"font-semibold mb-4 flex items-center gap-2",children:[i.jsx(He,{className:"h-5 w-5"}),"حقوق الطبع والأخلاقيات"]}),i.jsxs("ul",{className:"space-y-3 text-sm text-gray-600",children:[i.jsxs("li",{className:"flex items-start gap-2",children:[i.jsx("div",{className:"w-2 h-2 bg-purple-500 rounded-full mt-2 flex-shrink-0"}),"استخدم روايات متاحة للاستخدام التعليمي والبحثي"]}),i.jsxs("li",{className:"flex items-start gap-2",children:[i.jsx("div",{className:"w-2 h-2 bg-purple-500 rounded-full mt-2 flex-shrink-0"}),"تأكد من عدم انتهاك حقوق الملكية الفكرية"]}),i.jsxs("li",{className:"flex items-start gap-2",children:[i.jsx("div",{className:"w-2 h-2 bg-purple-500 rounded-full mt-2 flex-shrink-0"}),"النتائج المولدة تعتبر عملاً إبداعياً جديداً"]}),i.jsxs("li",{className:"flex items-start gap-2",children:[i.jsx("div",{className:"w-2 h-2 bg-purple-500 rounded-full mt-2 flex-shrink-0"}),"قم بالإسناد المناسب للمصادر الملهمة عند النشر"]})]})]})]})})]})})})]}),sUe=dz,aUe=hz,oUe=fz,Vme=E.forwardRef(({className:t,...e},n)=>i.jsx(bS,{className:Vt("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e,ref:n}));Vme.displayName=bS.displayName;const lUe=M2("fixed z-50 gap-4 bg-white p-6 shadow-lg transition ease-in-out data-[state=closed]:duration-300 data-[state=open]:duration-500 data-[state=open]:animate-in data-[state=closed]:animate-out dark:bg-zinc-950",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4 border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),Kme=E.forwardRef(({side:t="right",className:e,children:n,...r},s)=>i.jsxs(oUe,{children:[i.jsx(Vme,{}),i.jsxs(wS,{ref:s,className:Vt(lUe({side:t}),e),...r,children:[i.jsxs(Ak,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-white transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-zinc-950 focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-zinc-100 dark:ring-offset-zinc-950 dark:focus:ring-zinc-300 dark:data-[state=open]:bg-zinc-800",children:[i.jsx(sh,{className:"h-4 w-4"}),i.jsx("span",{className:"sr-only",children:"Close"})]}),n]})]}));Kme.displayName=wS.displayName;const Gme=({className:t,...e})=>i.jsx("div",{className:Vt("flex flex-col space-y-2 text-center sm:text-left",t),...e});Gme.displayName="SheetHeader";const Xme=E.forwardRef(({className:t,...e},n)=>i.jsx(jS,{ref:n,className:Vt("text-lg font-semibold text-zinc-950 dark:text-zinc-50",t),...e}));Xme.displayName=jS.displayName;const Yme=E.forwardRef(({className:t,...e},n)=>i.jsx(NS,{ref:n,className:Vt("text-sm text-zinc-500 dark:text-zinc-400",t),...e}));Yme.displayName=NS.displayName;const P$=E.createContext({});function sF(t){const e=E.useRef(null);return e.current===null&&(e.current=t()),e.current}const U$=typeof window<"u",I$=U$?E.useLayoutEffect:E.useEffect,aF=E.createContext(null);function O$(t,e){t.indexOf(e)===-1&&t.push(e)}function M$(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const Bp=(t,e,n)=>n>e?e:n<t?t:n;let L$=()=>{};const Dp={},Jme=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function Zme(t){return typeof t=="object"&&t!==null}const ege=t=>/^0[^.\s]+$/u.test(t);function R$(t){let e;return()=>(e===void 0&&(e=t()),e)}const qu=t=>t,cUe=(t,e)=>n=>e(t(n)),US=(...t)=>t.reduce(cUe),R_=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r};class Q${constructor(){this.subscriptions=[]}add(e){return O$(this.subscriptions,e),()=>M$(this.subscriptions,e)}notify(e,n,r){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](e,n,r);else for(let a=0;a<s;a++){const o=this.subscriptions[a];o&&o(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Ef=t=>t*1e3,Bf=t=>t/1e3;function tge(t,e){return e?t*(1e3/e):0}const nge=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,uUe=1e-7,dUe=12;function hUe(t,e,n,r,s){let a,o,l=0;do o=e+(n-e)/2,a=nge(o,r,s)-t,a>0?n=o:e=o;while(Math.abs(a)>uUe&&++l<dUe);return o}function IS(t,e,n,r){if(t===e&&n===r)return qu;const s=a=>hUe(a,0,1,t,n);return a=>a===0||a===1?a:nge(s(a),e,r)}const rge=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,ige=t=>e=>1-t(1-e),sge=IS(.33,1.53,.69,.99),H$=ige(sge),age=rge(H$),oge=t=>(t*=2)<1?.5*H$(t):.5*(2-Math.pow(2,-10*(t-1))),z$=t=>1-Math.sin(Math.acos(t)),lge=ige(z$),cge=rge(z$),fUe=IS(.42,0,1,1),AUe=IS(0,0,.58,1),uge=IS(.42,0,.58,1),pUe=t=>Array.isArray(t)&&typeof t[0]!="number",dge=t=>Array.isArray(t)&&typeof t[0]=="number",mUe={linear:qu,easeIn:fUe,easeInOut:uge,easeOut:AUe,circIn:z$,circInOut:cge,circOut:lge,backIn:H$,backInOut:age,backOut:sge,anticipate:oge},gUe=t=>typeof t=="string",xJ=t=>{if(dge(t)){L$(t.length===4);const[e,n,r,s]=t;return IS(e,n,r,s)}else if(gUe(t))return mUe[t];return t},o4=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function xUe(t,e){let n=new Set,r=new Set,s=!1,a=!1;const o=new WeakSet;let l={delta:0,timestamp:0,isProcessing:!1};function c(d){o.has(d)&&(u.schedule(d),t()),d(l)}const u={schedule:(d,h=!1,f=!1)=>{const v=f&&s?n:r;return h&&o.add(d),v.has(d)||v.add(d),d},cancel:d=>{r.delete(d),o.delete(d)},process:d=>{if(l=d,s){a=!0;return}s=!0,[n,r]=[r,n],n.forEach(c),n.clear(),s=!1,a&&(a=!1,u.process(d))}};return u}const vUe=40;function hge(t,e){let n=!1,r=!0;const s={delta:0,timestamp:0,isProcessing:!1},a=()=>n=!0,o=o4.reduce((b,j)=>(b[j]=xUe(a),b),{}),{setup:l,read:c,resolveKeyframes:u,preUpdate:d,update:h,preRender:f,render:A,postRender:v}=o,p=()=>{const b=Dp.useManualTiming?s.timestamp:performance.now();n=!1,Dp.useManualTiming||(s.delta=r?1e3/60:Math.max(Math.min(b-s.timestamp,vUe),1)),s.timestamp=b,s.isProcessing=!0,l.process(s),c.process(s),u.process(s),d.process(s),h.process(s),f.process(s),A.process(s),v.process(s),s.isProcessing=!1,n&&e&&(r=!1,t(p))},m=()=>{n=!0,r=!0,s.isProcessing||t(p)};return{schedule:o4.reduce((b,j)=>{const N=o[j];return b[j]=(_,C=!1,k=!1)=>(n||m(),N.schedule(_,C,k)),b},{}),cancel:b=>{for(let j=0;j<o4.length;j++)o[o4[j]].cancel(b)},state:s,steps:o}}const{schedule:ds,cancel:ix,state:uo,steps:ZU}=hge(typeof requestAnimationFrame<"u"?requestAnimationFrame:qu,!0);let uD;function yUe(){uD=void 0}const rc={now:()=>(uD===void 0&&rc.set(uo.isProcessing||Dp.useManualTiming?uo.timestamp:performance.now()),uD),set:t=>{uD=t,queueMicrotask(yUe)}},fge=t=>e=>typeof e=="string"&&e.startsWith(t),$$=fge("--"),bUe=fge("var(--"),W$=t=>bUe(t)?wUe.test(t.split("/*")[0].trim()):!1,wUe=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,G2={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Q_={...G2,transform:t=>Bp(0,1,t)},l4={...G2,default:1},ZN=t=>Math.round(t*1e5)/1e5,q$=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function jUe(t){return t==null}const NUe=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,V$=(t,e)=>n=>!!(typeof n=="string"&&NUe.test(n)&&n.startsWith(t)||e&&!jUe(n)&&Object.prototype.hasOwnProperty.call(n,e)),Age=(t,e,n)=>r=>{if(typeof r!="string")return r;const[s,a,o,l]=r.match(q$);return{[t]:parseFloat(s),[e]:parseFloat(a),[n]:parseFloat(o),alpha:l!==void 0?parseFloat(l):1}},_Ue=t=>Bp(0,255,t),eI={...G2,transform:t=>Math.round(_Ue(t))},Fv={test:V$("rgb","red"),parse:Age("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+eI.transform(t)+", "+eI.transform(e)+", "+eI.transform(n)+", "+ZN(Q_.transform(r))+")"};function CUe(t){let e="",n="",r="",s="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),s=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),s=t.substring(4,5),e+=e,n+=n,r+=r,s+=s),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:s?parseInt(s,16)/255:1}}const X7={test:V$("#"),parse:CUe,transform:Fv.transform},OS=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Vm=OS("deg"),Df=OS("%"),Pn=OS("px"),SUe=OS("vh"),EUe=OS("vw"),vJ={...Df,parse:t=>Df.parse(t)/100,transform:t=>Df.transform(t*100)},Zb={test:V$("hsl","hue"),parse:Age("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+Df.transform(ZN(e))+", "+Df.transform(ZN(n))+", "+ZN(Q_.transform(r))+")"},Lo={test:t=>Fv.test(t)||X7.test(t)||Zb.test(t),parse:t=>Fv.test(t)?Fv.parse(t):Zb.test(t)?Zb.parse(t):X7.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Fv.transform(t):Zb.transform(t)},BUe=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function DUe(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(q$))==null?void 0:e.length)||0)+(((n=t.match(BUe))==null?void 0:n.length)||0)>0}const pge="number",mge="color",TUe="var",kUe="var(",yJ="${}",FUe=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function H_(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},s=[];let a=0;const l=e.replace(FUe,c=>(Lo.test(c)?(r.color.push(a),s.push(mge),n.push(Lo.parse(c))):c.startsWith(kUe)?(r.var.push(a),s.push(TUe),n.push(c)):(r.number.push(a),s.push(pge),n.push(parseFloat(c))),++a,yJ)).split(yJ);return{values:n,split:l,indexes:r,types:s}}function gge(t){return H_(t).values}function xge(t){const{split:e,types:n}=H_(t),r=e.length;return s=>{let a="";for(let o=0;o<r;o++)if(a+=e[o],s[o]!==void 0){const l=n[o];l===pge?a+=ZN(s[o]):l===mge?a+=Lo.transform(s[o]):a+=s[o]}return a}}const PUe=t=>typeof t=="number"?0:t;function UUe(t){const e=gge(t);return xge(t)(e.map(PUe))}const sx={test:DUe,parse:gge,createTransformer:xge,getAnimatableNone:UUe};function tI(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function IUe({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let s=0,a=0,o=0;if(!e)s=a=o=n;else{const l=n<.5?n*(1+e):n+e-n*e,c=2*n-l;s=tI(c,l,t+1/3),a=tI(c,l,t),o=tI(c,l,t-1/3)}return{red:Math.round(s*255),green:Math.round(a*255),blue:Math.round(o*255),alpha:r}}function r3(t,e){return n=>n>0?e:t}const cs=(t,e,n)=>t+(e-t)*n,nI=(t,e,n)=>{const r=t*t,s=n*(e*e-r)+r;return s<0?0:Math.sqrt(s)},OUe=[X7,Fv,Zb],MUe=t=>OUe.find(e=>e.test(t));function bJ(t){const e=MUe(t);if(!e)return!1;let n=e.parse(t);return e===Zb&&(n=IUe(n)),n}const wJ=(t,e)=>{const n=bJ(t),r=bJ(e);if(!n||!r)return r3(t,e);const s={...n};return a=>(s.red=nI(n.red,r.red,a),s.green=nI(n.green,r.green,a),s.blue=nI(n.blue,r.blue,a),s.alpha=cs(n.alpha,r.alpha,a),Fv.transform(s))},Y7=new Set(["none","hidden"]);function LUe(t,e){return Y7.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function RUe(t,e){return n=>cs(t,e,n)}function K$(t){return typeof t=="number"?RUe:typeof t=="string"?W$(t)?r3:Lo.test(t)?wJ:zUe:Array.isArray(t)?vge:typeof t=="object"?Lo.test(t)?wJ:QUe:r3}function vge(t,e){const n=[...t],r=n.length,s=t.map((a,o)=>K$(a)(a,e[o]));return a=>{for(let o=0;o<r;o++)n[o]=s[o](a);return n}}function QUe(t,e){const n={...t,...e},r={};for(const s in n)t[s]!==void 0&&e[s]!==void 0&&(r[s]=K$(t[s])(t[s],e[s]));return s=>{for(const a in r)n[a]=r[a](s);return n}}function HUe(t,e){const n=[],r={color:0,var:0,number:0};for(let s=0;s<e.values.length;s++){const a=e.types[s],o=t.indexes[a][r[a]],l=t.values[o]??0;n[s]=l,r[a]++}return n}const zUe=(t,e)=>{const n=sx.createTransformer(e),r=H_(t),s=H_(e);return r.indexes.var.length===s.indexes.var.length&&r.indexes.color.length===s.indexes.color.length&&r.indexes.number.length>=s.indexes.number.length?Y7.has(t)&&!s.values.length||Y7.has(e)&&!r.values.length?LUe(t,e):US(vge(HUe(r,s),s.values),n):r3(t,e)};function yge(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?cs(t,e,n):K$(t)(t,e)}const $Ue=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>ds.update(e,n),stop:()=>ix(e),now:()=>uo.isProcessing?uo.timestamp:rc.now()}},bge=(t,e,n=10)=>{let r="";const s=Math.max(Math.round(e/n),2);for(let a=0;a<s;a++)r+=t(a/(s-1))+", ";return`linear(${r.substring(0,r.length-2)})`},i3=2e4;function G$(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<i3;)e+=n,r=t.next(e);return e>=i3?1/0:e}function WUe(t,e=100,n){const r=n({...t,keyframes:[0,e]}),s=Math.min(G$(r),i3);return{type:"keyframes",ease:a=>r.next(s*a).value/e,duration:Bf(s)}}const qUe=5;function wge(t,e,n){const r=Math.max(e-qUe,0);return tge(n-t(r),e-r)}const bs={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},jJ=.001;function VUe({duration:t=bs.duration,bounce:e=bs.bounce,velocity:n=bs.velocity,mass:r=bs.mass}){let s,a,o=1-e;o=Bp(bs.minDamping,bs.maxDamping,o),t=Bp(bs.minDuration,bs.maxDuration,Bf(t)),o<1?(s=u=>{const d=u*o,h=d*t,f=d-n,A=J7(u,o),v=Math.exp(-h);return jJ-f/A*v},a=u=>{const h=u*o*t,f=h*n+n,A=Math.pow(o,2)*Math.pow(u,2)*t,v=Math.exp(-h),p=J7(Math.pow(u,2),o);return(-s(u)+jJ>0?-1:1)*((f-A)*v)/p}):(s=u=>{const d=Math.exp(-u*t),h=(u-n)*t+1;return-.001+d*h},a=u=>{const d=Math.exp(-u*t),h=(n-u)*(t*t);return d*h});const l=5/t,c=GUe(s,a,l);if(t=Ef(t),isNaN(c))return{stiffness:bs.stiffness,damping:bs.damping,duration:t};{const u=Math.pow(c,2)*r;return{stiffness:u,damping:o*2*Math.sqrt(r*u),duration:t}}}const KUe=12;function GUe(t,e,n){let r=n;for(let s=1;s<KUe;s++)r=r-t(r)/e(r);return r}function J7(t,e){return t*Math.sqrt(1-e*e)}const XUe=["duration","bounce"],YUe=["stiffness","damping","mass"];function NJ(t,e){return e.some(n=>t[n]!==void 0)}function JUe(t){let e={velocity:bs.velocity,stiffness:bs.stiffness,damping:bs.damping,mass:bs.mass,isResolvedFromDuration:!1,...t};if(!NJ(t,YUe)&&NJ(t,XUe))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),s=r*r,a=2*Bp(.05,1,1-(t.bounce||0))*Math.sqrt(s);e={...e,mass:bs.mass,stiffness:s,damping:a}}else{const n=VUe(t);e={...e,...n,mass:bs.mass},e.isResolvedFromDuration=!0}return e}function s3(t=bs.visualDuration,e=bs.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:s}=n;const a=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],l={done:!1,value:a},{stiffness:c,damping:u,mass:d,duration:h,velocity:f,isResolvedFromDuration:A}=JUe({...n,velocity:-Bf(n.velocity||0)}),v=f||0,p=u/(2*Math.sqrt(c*d)),m=o-a,g=Bf(Math.sqrt(c/d)),x=Math.abs(m)<5;r||(r=x?bs.restSpeed.granular:bs.restSpeed.default),s||(s=x?bs.restDelta.granular:bs.restDelta.default);let b;if(p<1){const N=J7(g,p);b=_=>{const C=Math.exp(-p*g*_);return o-C*((v+p*g*m)/N*Math.sin(N*_)+m*Math.cos(N*_))}}else if(p===1)b=N=>o-Math.exp(-g*N)*(m+(v+g*m)*N);else{const N=g*Math.sqrt(p*p-1);b=_=>{const C=Math.exp(-p*g*_),k=Math.min(N*_,300);return o-C*((v+p*g*m)*Math.sinh(k)+N*m*Math.cosh(k))/N}}const j={calculatedDuration:A&&h||null,next:N=>{const _=b(N);if(A)l.done=N>=h;else{let C=N===0?v:0;p<1&&(C=N===0?Ef(v):wge(b,N,_));const k=Math.abs(C)<=r,T=Math.abs(o-_)<=s;l.done=k&&T}return l.value=l.done?o:_,l},toString:()=>{const N=Math.min(G$(j),i3),_=bge(C=>j.next(N*C).value,N,30);return N+"ms "+_},toTransition:()=>{}};return j}s3.applyToOptions=t=>{const e=WUe(t,100,s3);return t.ease=e.ease,t.duration=Ef(e.duration),t.type="keyframes",t};function Z7({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:s=10,bounceStiffness:a=500,modifyTarget:o,min:l,max:c,restDelta:u=.5,restSpeed:d}){const h=t[0],f={done:!1,value:h},A=k=>l!==void 0&&k<l||c!==void 0&&k>c,v=k=>l===void 0?c:c===void 0||Math.abs(l-k)<Math.abs(c-k)?l:c;let p=n*e;const m=h+p,g=o===void 0?m:o(m);g!==m&&(p=g-h);const x=k=>-p*Math.exp(-k/r),b=k=>g+x(k),j=k=>{const T=x(k),O=b(k);f.done=Math.abs(T)<=u,f.value=f.done?g:O};let N,_;const C=k=>{A(f.value)&&(N=k,_=s3({keyframes:[f.value,v(f.value)],velocity:wge(b,k,f.value),damping:s,stiffness:a,restDelta:u,restSpeed:d}))};return C(0),{calculatedDuration:null,next:k=>{let T=!1;return!_&&N===void 0&&(T=!0,j(k),C(k)),N!==void 0&&k>=N?_.next(k-N):(!T&&j(k),f)}}}function ZUe(t,e,n){const r=[],s=n||Dp.mix||yge,a=t.length-1;for(let o=0;o<a;o++){let l=s(t[o],t[o+1]);if(e){const c=Array.isArray(e)?e[o]||qu:e;l=US(c,l)}r.push(l)}return r}function eIe(t,e,{clamp:n=!0,ease:r,mixer:s}={}){const a=t.length;if(L$(a===e.length),a===1)return()=>e[0];if(a===2&&e[0]===e[1])return()=>e[1];const o=t[0]===t[1];t[0]>t[a-1]&&(t=[...t].reverse(),e=[...e].reverse());const l=ZUe(e,r,s),c=l.length,u=d=>{if(o&&d<t[0])return e[0];let h=0;if(c>1)for(;h<t.length-2&&!(d<t[h+1]);h++);const f=R_(t[h],t[h+1],d);return l[h](f)};return n?d=>u(Bp(t[0],t[a-1],d)):u}function tIe(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const s=R_(0,e,r);t.push(cs(n,1,s))}}function nIe(t){const e=[0];return tIe(e,t.length-1),e}function rIe(t,e){return t.map(n=>n*e)}function iIe(t,e){return t.map(()=>e||uge).splice(0,t.length-1)}function e_({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const s=pUe(r)?r.map(xJ):xJ(r),a={done:!1,value:e[0]},o=rIe(n&&n.length===e.length?n:nIe(e),t),l=eIe(o,e,{ease:Array.isArray(s)?s:iIe(e,s)});return{calculatedDuration:t,next:c=>(a.value=l(c),a.done=c>=t,a)}}const sIe=t=>t!==null;function X$(t,{repeat:e,repeatType:n="loop"},r,s=1){const a=t.filter(sIe),l=s<0||e&&n!=="loop"&&e%2===1?0:a.length-1;return!l||r===void 0?a[l]:r}const aIe={decay:Z7,inertia:Z7,tween:e_,keyframes:e_,spring:s3};function jge(t){typeof t.type=="string"&&(t.type=aIe[t.type])}class Y${constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const oIe=t=>t/100;class J$ extends Y${constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var r,s;const{motionValue:n}=this.options;n&&n.updatedAt!==rc.now()&&this.tick(rc.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(s=(r=this.options).onStop)==null||s.call(r))},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;jge(e);const{type:n=e_,repeat:r=0,repeatDelay:s=0,repeatType:a,velocity:o=0}=e;let{keyframes:l}=e;const c=n||e_;c!==e_&&typeof l[0]!="number"&&(this.mixKeyframes=US(oIe,yge(l[0],l[1])),l=[0,100]);const u=c({...e,keyframes:l});a==="mirror"&&(this.mirroredGenerator=c({...e,keyframes:[...l].reverse(),velocity:-o})),u.calculatedDuration===null&&(u.calculatedDuration=G$(u));const{calculatedDuration:d}=u;this.calculatedDuration=d,this.resolvedDuration=d+s,this.totalDuration=this.resolvedDuration*(r+1)-s,this.generator=u}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:r,totalDuration:s,mixKeyframes:a,mirroredGenerator:o,resolvedDuration:l,calculatedDuration:c}=this;if(this.startTime===null)return r.next(0);const{delay:u=0,keyframes:d,repeat:h,repeatType:f,repeatDelay:A,type:v,onUpdate:p,finalKeyframe:m}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-s/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const g=this.currentTime-u*(this.playbackSpeed>=0?1:-1),x=this.playbackSpeed>=0?g<0:g>s;this.currentTime=Math.max(g,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=s);let b=this.currentTime,j=r;if(h){const k=Math.min(this.currentTime,s)/l;let T=Math.floor(k),O=k%1;!O&&k>=1&&(O=1),O===1&&T--,T=Math.min(T,h+1),!!(T%2)&&(f==="reverse"?(O=1-O,A&&(O-=A/l)):f==="mirror"&&(j=o)),b=Bp(0,1,O)*l}const N=x?{done:!1,value:d[0]}:j.next(b);a&&(N.value=a(N.value));let{done:_}=N;!x&&c!==null&&(_=this.playbackSpeed>=0?this.currentTime>=s:this.currentTime<=0);const C=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&_);return C&&v!==Z7&&(N.value=X$(d,this.options,m,this.speed)),p&&p(N.value),C&&this.finish(),N}then(e,n){return this.finished.then(e,n)}get duration(){return Bf(this.calculatedDuration)}get time(){return Bf(this.currentTime)}set time(e){var n;e=Ef(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(rc.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=Bf(this.currentTime))}play(){var s,a;if(this.isStopped)return;const{driver:e=$Ue,startTime:n}=this.options;this.driver||(this.driver=e(o=>this.tick(o))),(a=(s=this.options).onPlay)==null||a.call(s);const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(rc.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(e=this.options).onComplete)==null||n.call(e)}cancel(){var e,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(e=this.options).onCancel)==null||n.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),e.observe(this)}}function lIe(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const Pv=t=>t*180/Math.PI,e9=t=>{const e=Pv(Math.atan2(t[1],t[0]));return t9(e)},cIe={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:e9,rotateZ:e9,skewX:t=>Pv(Math.atan(t[1])),skewY:t=>Pv(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},t9=t=>(t=t%360,t<0&&(t+=360),t),_J=e9,CJ=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),SJ=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),uIe={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:CJ,scaleY:SJ,scale:t=>(CJ(t)+SJ(t))/2,rotateX:t=>t9(Pv(Math.atan2(t[6],t[5]))),rotateY:t=>t9(Pv(Math.atan2(-t[2],t[0]))),rotateZ:_J,rotate:_J,skewX:t=>Pv(Math.atan(t[4])),skewY:t=>Pv(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function n9(t){return t.includes("scale")?1:0}function r9(t,e){if(!t||t==="none")return n9(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,s;if(n)r=uIe,s=n;else{const l=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=cIe,s=l}if(!s)return n9(e);const a=r[e],o=s[1].split(",").map(hIe);return typeof a=="function"?a(o):o[a]}const dIe=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return r9(n,e)};function hIe(t){return parseFloat(t.trim())}const X2=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Y2=new Set(X2),EJ=t=>t===G2||t===Pn,fIe=new Set(["x","y","z"]),AIe=X2.filter(t=>!fIe.has(t));function pIe(t){const e=[];return AIe.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const K0={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>r9(e,"x"),y:(t,{transform:e})=>r9(e,"y")};K0.translateX=K0.x;K0.translateY=K0.y;const G0=new Set;let i9=!1,s9=!1,a9=!1;function Nge(){if(s9){const t=Array.from(G0).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const s=pIe(r);s.length&&(n.set(r,s),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const s=n.get(r);s&&s.forEach(([a,o])=>{var l;(l=r.getValue(a))==null||l.set(o)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}s9=!1,i9=!1,G0.forEach(t=>t.complete(a9)),G0.clear()}function _ge(){G0.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(s9=!0)})}function mIe(){a9=!0,_ge(),Nge(),a9=!1}class Z${constructor(e,n,r,s,a,o=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=s,this.element=a,this.isAsync=o}scheduleResolve(){this.state="scheduled",this.isAsync?(G0.add(this),i9||(i9=!0,ds.read(_ge),ds.resolveKeyframes(Nge))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:s}=this;if(e[0]===null){const a=s==null?void 0:s.get(),o=e[e.length-1];if(a!==void 0)e[0]=a;else if(r&&n){const l=r.readValue(n,o);l!=null&&(e[0]=l)}e[0]===void 0&&(e[0]=o),s&&a===void 0&&s.set(e[0])}lIe(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),G0.delete(this)}cancel(){this.state==="scheduled"&&(G0.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const gIe=t=>t.startsWith("--");function xIe(t,e,n){gIe(e)?t.style.setProperty(e,n):t.style[e]=n}const vIe=R$(()=>window.ScrollTimeline!==void 0),yIe={};function bIe(t,e){const n=R$(t);return()=>yIe[e]??n()}const Cge=bIe(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),PN=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,BJ={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:PN([0,.65,.55,1]),circOut:PN([.55,0,1,.45]),backIn:PN([.31,.01,.66,-.59]),backOut:PN([.33,1.53,.69,.99])};function Sge(t,e){if(t)return typeof t=="function"?Cge()?bge(t,e):"ease-out":dge(t)?PN(t):Array.isArray(t)?t.map(n=>Sge(n,e)||BJ.easeOut):BJ[t]}function wIe(t,e,n,{delay:r=0,duration:s=300,repeat:a=0,repeatType:o="loop",ease:l="easeOut",times:c}={},u=void 0){const d={[e]:n};c&&(d.offset=c);const h=Sge(l,s);Array.isArray(h)&&(d.easing=h);const f={delay:r,duration:s,easing:Array.isArray(h)?"linear":h,fill:"both",iterations:a+1,direction:o==="reverse"?"alternate":"normal"};return u&&(f.pseudoElement=u),t.animate(d,f)}function Ege(t){return typeof t=="function"&&"applyToOptions"in t}function jIe({type:t,...e}){return Ege(t)&&Cge()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class NIe extends Y${constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:r,keyframes:s,pseudoElement:a,allowFlatten:o=!1,finalKeyframe:l,onComplete:c}=e;this.isPseudoElement=!!a,this.allowFlatten=o,this.options=e,L$(typeof e.type!="string");const u=jIe(e);this.animation=wIe(n,r,s,u,a),u.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!a){const d=X$(s,this.options,l,this.speed);this.updateMotionValue?this.updateMotionValue(d):xIe(n,r,d),this.animation.cancel()}c==null||c(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,n;(n=(e=this.animation).finish)==null||n.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,n;this.isPseudoElement||(n=(e=this.animation).commitStyles)==null||n.call(e)}get duration(){var n,r;const e=((r=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:r.call(n).duration)||0;return Bf(Number(e))}get time(){return Bf(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=Ef(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){var r;return this.allowFlatten&&((r=this.animation.effect)==null||r.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&vIe()?(this.animation.timeline=e,qu):n(this)}}const Bge={anticipate:oge,backInOut:age,circInOut:cge};function _Ie(t){return t in Bge}function CIe(t){typeof t.ease=="string"&&_Ie(t.ease)&&(t.ease=Bge[t.ease])}const DJ=10;class SIe extends NIe{constructor(e){CIe(e),jge(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:r,onComplete:s,element:a,...o}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const l=new J$({...o,autoplay:!1}),c=Ef(this.finishedTime??this.time);n.setWithVelocity(l.sample(c-DJ).value,l.sample(c).value,DJ),l.stop()}}const TJ=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(sx.test(t)||t==="0")&&!t.startsWith("url("));function EIe(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function BIe(t,e,n,r){const s=t[0];if(s===null)return!1;if(e==="display"||e==="visibility")return!0;const a=t[t.length-1],o=TJ(s,e),l=TJ(a,e);return!o||!l?!1:EIe(t)||(n==="spring"||Ege(n))&&r}function eW(t){return Zme(t)&&"offsetHeight"in t}const DIe=new Set(["opacity","clipPath","filter","transform"]),TIe=R$(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function kIe(t){var u;const{motionValue:e,name:n,repeatDelay:r,repeatType:s,damping:a,type:o}=t;if(!eW((u=e==null?void 0:e.owner)==null?void 0:u.current))return!1;const{onUpdate:l,transformTemplate:c}=e.owner.getProps();return TIe()&&n&&DIe.has(n)&&(n!=="transform"||!c)&&!l&&!r&&s!=="mirror"&&a!==0&&o!=="inertia"}const FIe=40;class PIe extends Y${constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:s=0,repeatDelay:a=0,repeatType:o="loop",keyframes:l,name:c,motionValue:u,element:d,...h}){var v;super(),this.stop=()=>{var p,m;this._animation&&(this._animation.stop(),(p=this.stopTimeline)==null||p.call(this)),(m=this.keyframeResolver)==null||m.cancel()},this.createdAt=rc.now();const f={autoplay:e,delay:n,type:r,repeat:s,repeatDelay:a,repeatType:o,name:c,motionValue:u,element:d,...h},A=(d==null?void 0:d.KeyframeResolver)||Z$;this.keyframeResolver=new A(l,(p,m,g)=>this.onKeyframesResolved(p,m,f,!g),c,u,d),(v=this.keyframeResolver)==null||v.scheduleResolve()}onKeyframesResolved(e,n,r,s){this.keyframeResolver=void 0;const{name:a,type:o,velocity:l,delay:c,isHandoff:u,onUpdate:d}=r;this.resolvedAt=rc.now(),BIe(e,a,o,l)||((Dp.instantAnimations||!c)&&(d==null||d(X$(e,r,n))),e[0]=e[e.length-1],r.duration=0,r.repeat=0);const f={startTime:s?this.resolvedAt?this.resolvedAt-this.createdAt>FIe?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:e},A=!u&&kIe(f)?new SIe({...f,element:f.motionValue.owner.current}):new J$(f);A.finished.then(()=>this.notifyFinished()).catch(qu),this.pendingTimeline&&(this.stopTimeline=A.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=A}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),mIe()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}}const UIe=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function IIe(t){const e=UIe.exec(t);if(!e)return[,];const[,n,r,s]=e;return[`--${n??r}`,s]}function Dge(t,e,n=1){const[r,s]=IIe(t);if(!r)return;const a=window.getComputedStyle(e).getPropertyValue(r);if(a){const o=a.trim();return Jme(o)?parseFloat(o):o}return W$(s)?Dge(s,e,n+1):s}function tW(t,e){return(t==null?void 0:t[e])??(t==null?void 0:t.default)??t}const Tge=new Set(["width","height","top","left","right","bottom",...X2]),OIe={test:t=>t==="auto",parse:t=>t},kge=t=>e=>e.test(t),Fge=[G2,Pn,Df,Vm,EUe,SUe,OIe],kJ=t=>Fge.find(kge(t));function MIe(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||ege(t):!0}const LIe=new Set(["brightness","contrast","saturate","opacity"]);function RIe(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(q$)||[];if(!r)return t;const s=n.replace(r,"");let a=LIe.has(e)?1:0;return r!==n&&(a*=100),e+"("+a+s+")"}const QIe=/\b([a-z-]*)\(.*?\)/gu,o9={...sx,getAnimatableNone:t=>{const e=t.match(QIe);return e?e.map(RIe).join(" "):t}},FJ={...G2,transform:Math.round},HIe={rotate:Vm,rotateX:Vm,rotateY:Vm,rotateZ:Vm,scale:l4,scaleX:l4,scaleY:l4,scaleZ:l4,skew:Vm,skewX:Vm,skewY:Vm,distance:Pn,translateX:Pn,translateY:Pn,translateZ:Pn,x:Pn,y:Pn,z:Pn,perspective:Pn,transformPerspective:Pn,opacity:Q_,originX:vJ,originY:vJ,originZ:Pn},nW={borderWidth:Pn,borderTopWidth:Pn,borderRightWidth:Pn,borderBottomWidth:Pn,borderLeftWidth:Pn,borderRadius:Pn,radius:Pn,borderTopLeftRadius:Pn,borderTopRightRadius:Pn,borderBottomRightRadius:Pn,borderBottomLeftRadius:Pn,width:Pn,maxWidth:Pn,height:Pn,maxHeight:Pn,top:Pn,right:Pn,bottom:Pn,left:Pn,padding:Pn,paddingTop:Pn,paddingRight:Pn,paddingBottom:Pn,paddingLeft:Pn,margin:Pn,marginTop:Pn,marginRight:Pn,marginBottom:Pn,marginLeft:Pn,backgroundPositionX:Pn,backgroundPositionY:Pn,...HIe,zIndex:FJ,fillOpacity:Q_,strokeOpacity:Q_,numOctaves:FJ},zIe={...nW,color:Lo,backgroundColor:Lo,outlineColor:Lo,fill:Lo,stroke:Lo,borderColor:Lo,borderTopColor:Lo,borderRightColor:Lo,borderBottomColor:Lo,borderLeftColor:Lo,filter:o9,WebkitFilter:o9},Pge=t=>zIe[t];function Uge(t,e){let n=Pge(t);return n!==o9&&(n=sx),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const $Ie=new Set(["auto","none","0"]);function WIe(t,e,n){let r=0,s;for(;r<t.length&&!s;){const a=t[r];typeof a=="string"&&!$Ie.has(a)&&H_(a).values.length&&(s=t[r]),r++}if(s&&n)for(const a of e)t[a]=Uge(n,s)}class qIe extends Z${constructor(e,n,r,s,a){super(e,n,r,s,a,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let c=0;c<e.length;c++){let u=e[c];if(typeof u=="string"&&(u=u.trim(),W$(u))){const d=Dge(u,n.current);d!==void 0&&(e[c]=d),c===e.length-1&&(this.finalKeyframe=u)}}if(this.resolveNoneKeyframes(),!Tge.has(r)||e.length!==2)return;const[s,a]=e,o=kJ(s),l=kJ(a);if(o!==l)if(EJ(o)&&EJ(l))for(let c=0;c<e.length;c++){const u=e[c];typeof u=="string"&&(e[c]=parseFloat(u))}else K0[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let s=0;s<e.length;s++)(e[s]===null||MIe(e[s]))&&r.push(s);r.length&&WIe(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=K0[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const s=n[n.length-1];s!==void 0&&e.getValue(r,s).jump(s,!1)}measureEndState(){var l;const{element:e,name:n,unresolvedKeyframes:r}=this;if(!e||!e.current)return;const s=e.getValue(n);s&&s.jump(this.measuredOrigin,!1);const a=r.length-1,o=r[a];r[a]=K0[n](e.measureViewportBox(),window.getComputedStyle(e.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),(l=this.removedTransforms)!=null&&l.length&&this.removedTransforms.forEach(([c,u])=>{e.getValue(c).set(u)}),this.resolveNoneKeyframes()}}function VIe(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let r=document;const s=(n==null?void 0:n[t])??r.querySelectorAll(t);return s?Array.from(s):[]}return Array.from(t)}const Ige=(t,e)=>e&&typeof t=="number"?e.transform(t):t,PJ=30,KIe=t=>!isNaN(parseFloat(t));class GIe{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,s=!0)=>{var o,l;const a=rc.now();if(this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&((o=this.events.change)==null||o.notify(this.current),this.dependents))for(const c of this.dependents)c.dirty();s&&((l=this.events.renderRequest)==null||l.notify(this.current))},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=rc.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=KIe(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new Q$);const r=this.events[e].add(n);return e==="change"?()=>{r(),ds.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=rc.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>PJ)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,PJ);return tge(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,n;(e=this.dependents)==null||e.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Vw(t,e){return new GIe(t,e)}const{schedule:rW}=hge(queueMicrotask,!1),Id={x:!1,y:!1};function Oge(){return Id.x||Id.y}function XIe(t){return t==="x"||t==="y"?Id[t]?null:(Id[t]=!0,()=>{Id[t]=!1}):Id.x||Id.y?null:(Id.x=Id.y=!0,()=>{Id.x=Id.y=!1})}function Mge(t,e){const n=VIe(t),r=new AbortController,s={passive:!0,...e,signal:r.signal};return[n,s,()=>r.abort()]}function UJ(t){return!(t.pointerType==="touch"||Oge())}function YIe(t,e,n={}){const[r,s,a]=Mge(t,n),o=l=>{if(!UJ(l))return;const{target:c}=l,u=e(c,l);if(typeof u!="function"||!c)return;const d=h=>{UJ(h)&&(u(h),c.removeEventListener("pointerleave",d))};c.addEventListener("pointerleave",d,s)};return r.forEach(l=>{l.addEventListener("pointerenter",o,s)}),a}const Lge=(t,e)=>e?t===e?!0:Lge(t,e.parentElement):!1,iW=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,JIe=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function ZIe(t){return JIe.has(t.tagName)||t.tabIndex!==-1}const dD=new WeakSet;function IJ(t){return e=>{e.key==="Enter"&&t(e)}}function rI(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const eOe=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=IJ(()=>{if(dD.has(n))return;rI(n,"down");const s=IJ(()=>{rI(n,"up")}),a=()=>rI(n,"cancel");n.addEventListener("keyup",s,e),n.addEventListener("blur",a,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function OJ(t){return iW(t)&&!Oge()}function tOe(t,e,n={}){const[r,s,a]=Mge(t,n),o=l=>{const c=l.currentTarget;if(!OJ(l))return;dD.add(c);const u=e(c,l),d=(A,v)=>{window.removeEventListener("pointerup",h),window.removeEventListener("pointercancel",f),dD.has(c)&&dD.delete(c),OJ(A)&&typeof u=="function"&&u(A,{success:v})},h=A=>{d(A,c===window||c===document||n.useGlobalTarget||Lge(c,A.target))},f=A=>{d(A,!1)};window.addEventListener("pointerup",h,s),window.addEventListener("pointercancel",f,s)};return r.forEach(l=>{(n.useGlobalTarget?window:l).addEventListener("pointerdown",o,s),eW(l)&&(l.addEventListener("focus",u=>eOe(u,s)),!ZIe(l)&&!l.hasAttribute("tabindex")&&(l.tabIndex=0))}),a}function Rge(t){return Zme(t)&&"ownerSVGElement"in t}function nOe(t){return Rge(t)&&t.tagName==="svg"}const Vo=t=>!!(t&&t.getVelocity),rOe=[...Fge,Lo,sx],iOe=t=>rOe.find(kge(t)),sW=E.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});class sOe extends E.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=n.offsetParent,s=eW(r)&&r.offsetWidth||0,a=this.props.sizeRef.current;a.height=n.offsetHeight||0,a.width=n.offsetWidth||0,a.top=n.offsetTop,a.left=n.offsetLeft,a.right=s-a.width-a.left}return null}componentDidUpdate(){}render(){return this.props.children}}function aOe({children:t,isPresent:e,anchorX:n}){const r=E.useId(),s=E.useRef(null),a=E.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:o}=E.useContext(sW);return E.useInsertionEffect(()=>{const{width:l,height:c,top:u,left:d,right:h}=a.current;if(e||!s.current||!l||!c)return;const f=n==="left"?`left: ${d}`:`right: ${h}`;s.current.dataset.motionPopId=r;const A=document.createElement("style");return o&&(A.nonce=o),document.head.appendChild(A),A.sheet&&A.sheet.insertRule(`
          [data-motion-pop-id="${r}"] {
            position: absolute !important;
            width: ${l}px !important;
            height: ${c}px !important;
            ${f}px !important;
            top: ${u}px !important;
          }
        `),()=>{document.head.contains(A)&&document.head.removeChild(A)}},[e]),i.jsx(sOe,{isPresent:e,childRef:s,sizeRef:a,children:E.cloneElement(t,{ref:s})})}const oOe=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:s,presenceAffectsLayout:a,mode:o,anchorX:l})=>{const c=sF(lOe),u=E.useId();let d=!0,h=E.useMemo(()=>(d=!1,{id:u,initial:e,isPresent:n,custom:s,onExitComplete:f=>{c.set(f,!0);for(const A of c.values())if(!A)return;r&&r()},register:f=>(c.set(f,!1),()=>c.delete(f))}),[n,c,r]);return a&&d&&(h={...h}),E.useMemo(()=>{c.forEach((f,A)=>c.set(A,!1))},[n]),E.useEffect(()=>{!n&&!c.size&&r&&r()},[n]),o==="popLayout"&&(t=i.jsx(aOe,{isPresent:n,anchorX:l,children:t})),i.jsx(aF.Provider,{value:h,children:t})};function lOe(){return new Map}function Qge(t=!0){const e=E.useContext(aF);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:s}=e,a=E.useId();E.useEffect(()=>{if(t)return s(a)},[t]);const o=E.useCallback(()=>t&&r&&r(a),[a,r,t]);return!n&&r?[!1,o]:[!0]}const c4=t=>t.key||"";function MJ(t){const e=[];return E.Children.forEach(t,n=>{E.isValidElement(n)&&e.push(n)}),e}const a3=({children:t,custom:e,initial:n=!0,onExitComplete:r,presenceAffectsLayout:s=!0,mode:a="sync",propagate:o=!1,anchorX:l="left"})=>{const[c,u]=Qge(o),d=E.useMemo(()=>MJ(t),[t]),h=o&&!c?[]:d.map(c4),f=E.useRef(!0),A=E.useRef(d),v=sF(()=>new Map),[p,m]=E.useState(d),[g,x]=E.useState(d);I$(()=>{f.current=!1,A.current=d;for(let N=0;N<g.length;N++){const _=c4(g[N]);h.includes(_)?v.delete(_):v.get(_)!==!0&&v.set(_,!1)}},[g,h.length,h.join("-")]);const b=[];if(d!==p){let N=[...d];for(let _=0;_<g.length;_++){const C=g[_],k=c4(C);h.includes(k)||(N.splice(_,0,C),b.push(C))}return a==="wait"&&b.length&&(N=b),x(MJ(N)),m(d),null}const{forceRender:j}=E.useContext(P$);return i.jsx(i.Fragment,{children:g.map(N=>{const _=c4(N),C=o&&!c?!1:d===g||h.includes(_),k=()=>{if(v.has(_))v.set(_,!0);else return;let T=!0;v.forEach(O=>{O||(T=!1)}),T&&(j==null||j(),x(A.current),o&&(u==null||u()),r&&r())};return i.jsx(oOe,{isPresent:C,initial:!f.current||n?void 0:!1,custom:e,presenceAffectsLayout:s,mode:a,onExitComplete:C?void 0:k,anchorX:l,children:N},_)})})},Hge=E.createContext({strict:!1}),LJ={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Kw={};for(const t in LJ)Kw[t]={isEnabled:e=>LJ[t].some(n=>!!e[n])};function cOe(t){for(const e in t)Kw[e]={...Kw[e],...t[e]}}const uOe=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function o3(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||uOe.has(t)}let zge=t=>!o3(t);function dOe(t){t&&(zge=e=>e.startsWith("on")?!o3(e):t(e))}try{dOe(require("@emotion/is-prop-valid").default)}catch{}function hOe(t,e,n){const r={};for(const s in t)s==="values"&&typeof t.values=="object"||(zge(s)||n===!0&&o3(s)||!e&&!o3(s)||t.draggable&&s.startsWith("onDrag"))&&(r[s]=t[s]);return r}function fOe(t){if(typeof Proxy>"u")return t;const e=new Map,n=(...r)=>t(...r);return new Proxy(n,{get:(r,s)=>s==="create"?t:(e.has(s)||e.set(s,t(s)),e.get(s))})}const oF=E.createContext({});function lF(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function z_(t){return typeof t=="string"||Array.isArray(t)}const aW=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],oW=["initial",...aW];function cF(t){return lF(t.animate)||oW.some(e=>z_(t[e]))}function $ge(t){return!!(cF(t)||t.variants)}function AOe(t,e){if(cF(t)){const{initial:n,animate:r}=t;return{initial:n===!1||z_(n)?n:void 0,animate:z_(r)?r:void 0}}return t.inherit!==!1?e:{}}function pOe(t){const{initial:e,animate:n}=AOe(t,E.useContext(oF));return E.useMemo(()=>({initial:e,animate:n}),[RJ(e),RJ(n)])}function RJ(t){return Array.isArray(t)?t.join(" "):t}const mOe=Symbol.for("motionComponentSymbol");function e1(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function gOe(t,e,n){return E.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):e1(n)&&(n.current=r))},[e])}const lW=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),xOe="framerAppearId",Wge="data-"+lW(xOe),qge=E.createContext({});function vOe(t,e,n,r,s){var p,m;const{visualElement:a}=E.useContext(oF),o=E.useContext(Hge),l=E.useContext(aF),c=E.useContext(sW).reducedMotion,u=E.useRef(null);r=r||o.renderer,!u.current&&r&&(u.current=r(t,{visualState:e,parent:a,props:n,presenceContext:l,blockInitialAnimation:l?l.initial===!1:!1,reducedMotionConfig:c}));const d=u.current,h=E.useContext(qge);d&&!d.projection&&s&&(d.type==="html"||d.type==="svg")&&yOe(u.current,n,s,h);const f=E.useRef(!1);E.useInsertionEffect(()=>{d&&f.current&&d.update(n,l)});const A=n[Wge],v=E.useRef(!!A&&!((p=window.MotionHandoffIsComplete)!=null&&p.call(window,A))&&((m=window.MotionHasOptimisedAnimation)==null?void 0:m.call(window,A)));return I$(()=>{d&&(f.current=!0,window.MotionIsMounted=!0,d.updateFeatures(),rW.render(d.render),v.current&&d.animationState&&d.animationState.animateChanges())}),E.useEffect(()=>{d&&(!v.current&&d.animationState&&d.animationState.animateChanges(),v.current&&(queueMicrotask(()=>{var g;(g=window.MotionHandoffMarkAsComplete)==null||g.call(window,A)}),v.current=!1))}),d}function yOe(t,e,n,r){const{layoutId:s,layout:a,drag:o,dragConstraints:l,layoutScroll:c,layoutRoot:u,layoutCrossfade:d}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:Vge(t.parent)),t.projection.setOptions({layoutId:s,layout:a,alwaysMeasureLayout:!!o||l&&e1(l),visualElement:t,animationType:typeof a=="string"?a:"both",initialPromotionConfig:r,crossfade:d,layoutScroll:c,layoutRoot:u})}function Vge(t){if(t)return t.options.allowProjection!==!1?t.projection:Vge(t.parent)}function bOe({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:s}){t&&cOe(t);function a(l,c){let u;const d={...E.useContext(sW),...l,layoutId:wOe(l)},{isStatic:h}=d,f=pOe(l),A=r(l,h);if(!h&&U$){jOe();const v=NOe(d);u=v.MeasureLayout,f.visualElement=vOe(s,A,d,e,v.ProjectionNode)}return i.jsxs(oF.Provider,{value:f,children:[u&&f.visualElement?i.jsx(u,{visualElement:f.visualElement,...d}):null,n(s,l,gOe(A,f.visualElement,c),A,h,f.visualElement)]})}a.displayName=`motion.${typeof s=="string"?s:`create(${s.displayName??s.name??""})`}`;const o=E.forwardRef(a);return o[mOe]=s,o}function wOe({layoutId:t}){const e=E.useContext(P$).id;return e&&t!==void 0?e+"-"+t:t}function jOe(t,e){E.useContext(Hge).strict}function NOe(t){const{drag:e,layout:n}=Kw;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const $_={};function _Oe(t){for(const e in t)$_[e]=t[e],$$(e)&&($_[e].isCSSVariable=!0)}function Kge(t,{layout:e,layoutId:n}){return Y2.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!$_[t]||t==="opacity")}const COe={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},SOe=X2.length;function EOe(t,e,n){let r="",s=!0;for(let a=0;a<SOe;a++){const o=X2[a],l=t[o];if(l===void 0)continue;let c=!0;if(typeof l=="number"?c=l===(o.startsWith("scale")?1:0):c=parseFloat(l)===0,!c||n){const u=Ige(l,nW[o]);if(!c){s=!1;const d=COe[o]||o;r+=`${d}(${u}) `}n&&(e[o]=u)}}return r=r.trim(),n?r=n(e,s?"":r):s&&(r="none"),r}function cW(t,e,n){const{style:r,vars:s,transformOrigin:a}=t;let o=!1,l=!1;for(const c in e){const u=e[c];if(Y2.has(c)){o=!0;continue}else if($$(c)){s[c]=u;continue}else{const d=Ige(u,nW[c]);c.startsWith("origin")?(l=!0,a[c]=d):r[c]=d}}if(e.transform||(o||n?r.transform=EOe(e,t.transform,n):r.transform&&(r.transform="none")),l){const{originX:c="50%",originY:u="50%",originZ:d=0}=a;r.transformOrigin=`${c} ${u} ${d}`}}const uW=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function Gge(t,e,n){for(const r in e)!Vo(e[r])&&!Kge(r,n)&&(t[r]=e[r])}function BOe({transformTemplate:t},e){return E.useMemo(()=>{const n=uW();return cW(n,e,t),Object.assign({},n.vars,n.style)},[e])}function DOe(t,e){const n=t.style||{},r={};return Gge(r,n,t),Object.assign(r,BOe(t,e)),r}function TOe(t,e){const n={},r=DOe(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}const kOe={offset:"stroke-dashoffset",array:"stroke-dasharray"},FOe={offset:"strokeDashoffset",array:"strokeDasharray"};function POe(t,e,n=1,r=0,s=!0){t.pathLength=1;const a=s?kOe:FOe;t[a.offset]=Pn.transform(-r);const o=Pn.transform(e),l=Pn.transform(n);t[a.array]=`${o} ${l}`}function Xge(t,{attrX:e,attrY:n,attrScale:r,pathLength:s,pathSpacing:a=1,pathOffset:o=0,...l},c,u,d){if(cW(t,l,u),c){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:h,style:f}=t;h.transform&&(f.transform=h.transform,delete h.transform),(f.transform||h.transformOrigin)&&(f.transformOrigin=h.transformOrigin??"50% 50%",delete h.transformOrigin),f.transform&&(f.transformBox=(d==null?void 0:d.transformBox)??"fill-box",delete h.transformBox),e!==void 0&&(h.x=e),n!==void 0&&(h.y=n),r!==void 0&&(h.scale=r),s!==void 0&&POe(h,s,a,o,!1)}const Yge=()=>({...uW(),attrs:{}}),Jge=t=>typeof t=="string"&&t.toLowerCase()==="svg";function UOe(t,e,n,r){const s=E.useMemo(()=>{const a=Yge();return Xge(a,e,Jge(r),t.transformTemplate,t.style),{...a.attrs,style:{...a.style}}},[e]);if(t.style){const a={};Gge(a,t.style,t),s.style={...a,...s.style}}return s}const IOe=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function dW(t){return typeof t!="string"||t.includes("-")?!1:!!(IOe.indexOf(t)>-1||/[A-Z]/u.test(t))}function OOe(t=!1){return(n,r,s,{latestValues:a},o)=>{const c=(dW(n)?UOe:TOe)(r,a,o,n),u=hOe(r,typeof n=="string",t),d=n!==E.Fragment?{...u,...c,ref:s}:{},{children:h}=r,f=E.useMemo(()=>Vo(h)?h.get():h,[h]);return E.createElement(n,{...d,children:f})}}function QJ(t){const e=[{},{}];return t==null||t.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function hW(t,e,n,r){if(typeof e=="function"){const[s,a]=QJ(r);e=e(n!==void 0?n:t.custom,s,a)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[s,a]=QJ(r);e=e(n!==void 0?n:t.custom,s,a)}return e}function hD(t){return Vo(t)?t.get():t}function MOe({scrapeMotionValuesFromProps:t,createRenderState:e},n,r,s){return{latestValues:LOe(n,r,s,t),renderState:e()}}const Zge=t=>(e,n)=>{const r=E.useContext(oF),s=E.useContext(aF),a=()=>MOe(t,e,r,s);return n?a():sF(a)};function LOe(t,e,n,r){const s={},a=r(t,{});for(const f in a)s[f]=hD(a[f]);let{initial:o,animate:l}=t;const c=cF(t),u=$ge(t);e&&u&&!c&&t.inherit!==!1&&(o===void 0&&(o=e.initial),l===void 0&&(l=e.animate));let d=n?n.initial===!1:!1;d=d||o===!1;const h=d?l:o;if(h&&typeof h!="boolean"&&!lF(h)){const f=Array.isArray(h)?h:[h];for(let A=0;A<f.length;A++){const v=hW(t,f[A]);if(v){const{transitionEnd:p,transition:m,...g}=v;for(const x in g){let b=g[x];if(Array.isArray(b)){const j=d?b.length-1:0;b=b[j]}b!==null&&(s[x]=b)}for(const x in p)s[x]=p[x]}}}return s}function fW(t,e,n){var a;const{style:r}=t,s={};for(const o in r)(Vo(r[o])||e.style&&Vo(e.style[o])||Kge(o,t)||((a=n==null?void 0:n.getValue(o))==null?void 0:a.liveStyle)!==void 0)&&(s[o]=r[o]);return s}const ROe={useVisualState:Zge({scrapeMotionValuesFromProps:fW,createRenderState:uW})};function exe(t,e,n){const r=fW(t,e,n);for(const s in t)if(Vo(t[s])||Vo(e[s])){const a=X2.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;r[a]=t[s]}return r}const QOe={useVisualState:Zge({scrapeMotionValuesFromProps:exe,createRenderState:Yge})};function HOe(t,e){return function(r,{forwardMotionProps:s}={forwardMotionProps:!1}){const o={...dW(r)?QOe:ROe,preloadedFeatures:t,useRender:OOe(s),createVisualElement:e,Component:r};return bOe(o)}}function W_(t,e,n){const r=t.getProps();return hW(r,e,n!==void 0?n:r.custom,t)}const l9=t=>Array.isArray(t);function zOe(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Vw(n))}function $Oe(t){return l9(t)?t[t.length-1]||0:t}function AW(t,e){const n=W_(t,e);let{transitionEnd:r={},transition:s={},...a}=n||{};a={...a,...r};for(const o in a){const l=$Oe(a[o]);zOe(t,o,l)}}function WOe(t){return!!(Vo(t)&&t.add)}function c9(t,e){const n=t.getValue("willChange");if(WOe(n))return n.add(e);if(!n&&Dp.WillChange){const r=new Dp.WillChange("auto");t.addValue("willChange",r),r.add(e)}}function txe(t){return t.props[Wge]}const qOe=t=>t!==null;function VOe(t,{repeat:e,repeatType:n="loop"},r){const s=t.filter(qOe),a=e&&n!=="loop"&&e%2===1?0:s.length-1;return s[a]}const KOe={type:"spring",stiffness:500,damping:25,restSpeed:10},GOe=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),XOe={type:"keyframes",duration:.8},YOe={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},JOe=(t,{keyframes:e})=>e.length>2?XOe:Y2.has(t)?t.startsWith("scale")?GOe(e[1]):KOe:YOe;function ZOe({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:s,repeat:a,repeatType:o,repeatDelay:l,from:c,elapsed:u,...d}){return!!Object.keys(d).length}const pW=(t,e,n,r={},s,a)=>o=>{const l=tW(r,t)||{},c=l.delay||r.delay||0;let{elapsed:u=0}=r;u=u-Ef(c);const d={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...l,delay:-u,onUpdate:f=>{e.set(f),l.onUpdate&&l.onUpdate(f)},onComplete:()=>{o(),l.onComplete&&l.onComplete()},name:t,motionValue:e,element:a?void 0:s};ZOe(l)||Object.assign(d,JOe(t,d)),d.duration&&(d.duration=Ef(d.duration)),d.repeatDelay&&(d.repeatDelay=Ef(d.repeatDelay)),d.from!==void 0&&(d.keyframes[0]=d.from);let h=!1;if((d.type===!1||d.duration===0&&!d.repeatDelay)&&(d.duration=0,d.delay===0&&(h=!0)),(Dp.instantAnimations||Dp.skipAnimations)&&(h=!0,d.duration=0,d.delay=0),d.allowFlatten=!l.type&&!l.ease,h&&!a&&e.get()!==void 0){const f=VOe(d.keyframes,l);if(f!==void 0){ds.update(()=>{d.onUpdate(f),d.onComplete()});return}}return l.isSync?new J$(d):new PIe(d)};function e8e({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function nxe(t,e,{delay:n=0,transitionOverride:r,type:s}={}){let{transition:a=t.getDefaultTransition(),transitionEnd:o,...l}=e;r&&(a=r);const c=[],u=s&&t.animationState&&t.animationState.getState()[s];for(const d in l){const h=t.getValue(d,t.latestValues[d]??null),f=l[d];if(f===void 0||u&&e8e(u,d))continue;const A={delay:n,...tW(a||{},d)},v=h.get();if(v!==void 0&&!h.isAnimating&&!Array.isArray(f)&&f===v&&!A.velocity)continue;let p=!1;if(window.MotionHandoffAnimation){const g=txe(t);if(g){const x=window.MotionHandoffAnimation(g,d,ds);x!==null&&(A.startTime=x,p=!0)}}c9(t,d),h.start(pW(d,h,f,t.shouldReduceMotion&&Tge.has(d)?{type:!1}:A,t,p));const m=h.animation;m&&c.push(m)}return o&&Promise.all(c).then(()=>{ds.update(()=>{o&&AW(t,o)})}),c}function u9(t,e,n={}){var c;const r=W_(t,e,n.type==="exit"?(c=t.presenceContext)==null?void 0:c.custom:void 0);let{transition:s=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(s=n.transitionOverride);const a=r?()=>Promise.all(nxe(t,r,n)):()=>Promise.resolve(),o=t.variantChildren&&t.variantChildren.size?(u=0)=>{const{delayChildren:d=0,staggerChildren:h,staggerDirection:f}=s;return t8e(t,e,d+u,h,f,n)}:()=>Promise.resolve(),{when:l}=s;if(l){const[u,d]=l==="beforeChildren"?[a,o]:[o,a];return u().then(()=>d())}else return Promise.all([a(),o(n.delay)])}function t8e(t,e,n=0,r=0,s=1,a){const o=[],l=(t.variantChildren.size-1)*r,c=s===1?(u=0)=>u*r:(u=0)=>l-u*r;return Array.from(t.variantChildren).sort(n8e).forEach((u,d)=>{u.notify("AnimationStart",e),o.push(u9(u,e,{...a,delay:n+c(d)}).then(()=>u.notify("AnimationComplete",e)))}),Promise.all(o)}function n8e(t,e){return t.sortNodePosition(e)}function rxe(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const s=e.map(a=>u9(t,a,n));r=Promise.all(s)}else if(typeof e=="string")r=u9(t,e,n);else{const s=typeof e=="function"?W_(t,e,n.custom):e;r=Promise.all(nxe(t,s,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}function ixe(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}const r8e=oW.length;function sxe(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?sxe(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<r8e;n++){const r=oW[n],s=t.props[r];(z_(s)||s===!1)&&(e[r]=s)}return e}const i8e=[...aW].reverse(),s8e=aW.length;function a8e(t){return e=>Promise.all(e.map(({animation:n,options:r})=>rxe(t,n,r)))}function o8e(t){let e=a8e(t),n=HJ(),r=!0;const s=c=>(u,d)=>{var f;const h=W_(t,d,c==="exit"?(f=t.presenceContext)==null?void 0:f.custom:void 0);if(h){const{transition:A,transitionEnd:v,...p}=h;u={...u,...p,...v}}return u};function a(c){e=c(t)}function o(c){const{props:u}=t,d=sxe(t.parent)||{},h=[],f=new Set;let A={},v=1/0;for(let m=0;m<s8e;m++){const g=i8e[m],x=n[g],b=u[g]!==void 0?u[g]:d[g],j=z_(b),N=g===c?x.isActive:null;N===!1&&(v=m);let _=b===d[g]&&b!==u[g]&&j;if(_&&r&&t.manuallyAnimateOnMount&&(_=!1),x.protectedKeys={...A},!x.isActive&&N===null||!b&&!x.prevProp||lF(b)||typeof b=="boolean")continue;const C=l8e(x.prevProp,b);let k=C||g===c&&x.isActive&&!_&&j||m>v&&j,T=!1;const O=Array.isArray(b)?b:[b];let I=O.reduce(s(g),{});N===!1&&(I={});const{prevResolvedValues:F={}}=x,M={...F,...I},S=L=>{k=!0,f.has(L)&&(T=!0,f.delete(L)),x.needsAnimating[L]=!0;const z=t.getValue(L);z&&(z.liveStyle=!1)};for(const L in M){const z=I[L],$=F[L];if(A.hasOwnProperty(L))continue;let K=!1;l9(z)&&l9($)?K=!ixe(z,$):K=z!==$,K?z!=null?S(L):f.add(L):z!==void 0&&f.has(L)?S(L):x.protectedKeys[L]=!0}x.prevProp=b,x.prevResolvedValues=I,x.isActive&&(A={...A,...I}),r&&t.blockInitialAnimation&&(k=!1),k&&(!(_&&C)||T)&&h.push(...O.map(L=>({animation:L,options:{type:g}})))}if(f.size){const m={};if(typeof u.initial!="boolean"){const g=W_(t,Array.isArray(u.initial)?u.initial[0]:u.initial);g&&g.transition&&(m.transition=g.transition)}f.forEach(g=>{const x=t.getBaseTarget(g),b=t.getValue(g);b&&(b.liveStyle=!0),m[g]=x??null}),h.push({animation:m})}let p=!!h.length;return r&&(u.initial===!1||u.initial===u.animate)&&!t.manuallyAnimateOnMount&&(p=!1),r=!1,p?e(h):Promise.resolve()}function l(c,u){var h;if(n[c].isActive===u)return Promise.resolve();(h=t.variantChildren)==null||h.forEach(f=>{var A;return(A=f.animationState)==null?void 0:A.setActive(c,u)}),n[c].isActive=u;const d=o(c);for(const f in n)n[f].protectedKeys={};return d}return{animateChanges:o,setActive:l,setAnimateFunction:a,getState:()=>n,reset:()=>{n=HJ(),r=!0}}}function l8e(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!ixe(e,t):!1}function lv(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function HJ(){return{animate:lv(!0),whileInView:lv(),whileHover:lv(),whileTap:lv(),whileDrag:lv(),whileFocus:lv(),exit:lv()}}class yx{constructor(e){this.isMounted=!1,this.node=e}update(){}}class c8e extends yx{constructor(e){super(e),e.animationState||(e.animationState=o8e(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();lF(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let u8e=0;class d8e extends yx{constructor(){super(...arguments),this.id=u8e++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const s=this.node.animationState.setActive("exit",!e);n&&!e&&s.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const h8e={animation:{Feature:c8e},exit:{Feature:d8e}};function q_(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function MS(t){return{point:{x:t.pageX,y:t.pageY}}}const f8e=t=>e=>iW(e)&&t(e,MS(e));function t_(t,e,n,r){return q_(t,e,f8e(n),r)}function axe({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function A8e({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function p8e(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}const oxe=1e-4,m8e=1-oxe,g8e=1+oxe,lxe=.01,x8e=0-lxe,v8e=0+lxe;function Nl(t){return t.max-t.min}function y8e(t,e,n){return Math.abs(t-e)<=n}function zJ(t,e,n,r=.5){t.origin=r,t.originPoint=cs(e.min,e.max,t.origin),t.scale=Nl(n)/Nl(e),t.translate=cs(n.min,n.max,t.origin)-t.originPoint,(t.scale>=m8e&&t.scale<=g8e||isNaN(t.scale))&&(t.scale=1),(t.translate>=x8e&&t.translate<=v8e||isNaN(t.translate))&&(t.translate=0)}function n_(t,e,n,r){zJ(t.x,e.x,n.x,r?r.originX:void 0),zJ(t.y,e.y,n.y,r?r.originY:void 0)}function $J(t,e,n){t.min=n.min+e.min,t.max=t.min+Nl(e)}function b8e(t,e,n){$J(t.x,e.x,n.x),$J(t.y,e.y,n.y)}function WJ(t,e,n){t.min=e.min-n.min,t.max=t.min+Nl(e)}function r_(t,e,n){WJ(t.x,e.x,n.x),WJ(t.y,e.y,n.y)}const qJ=()=>({translate:0,scale:1,origin:0,originPoint:0}),t1=()=>({x:qJ(),y:qJ()}),VJ=()=>({min:0,max:0}),Ps=()=>({x:VJ(),y:VJ()});function _u(t){return[t("x"),t("y")]}function iI(t){return t===void 0||t===1}function d9({scale:t,scaleX:e,scaleY:n}){return!iI(t)||!iI(e)||!iI(n)}function xv(t){return d9(t)||cxe(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function cxe(t){return KJ(t.x)||KJ(t.y)}function KJ(t){return t&&t!=="0%"}function l3(t,e,n){const r=t-n,s=e*r;return n+s}function GJ(t,e,n,r,s){return s!==void 0&&(t=l3(t,s,r)),l3(t,n,r)+e}function h9(t,e=0,n=1,r,s){t.min=GJ(t.min,e,n,r,s),t.max=GJ(t.max,e,n,r,s)}function uxe(t,{x:e,y:n}){h9(t.x,e.translate,e.scale,e.originPoint),h9(t.y,n.translate,n.scale,n.originPoint)}const XJ=.999999999999,YJ=1.0000000000001;function w8e(t,e,n,r=!1){const s=n.length;if(!s)return;e.x=e.y=1;let a,o;for(let l=0;l<s;l++){a=n[l],o=a.projectionDelta;const{visualElement:c}=a.options;c&&c.props.style&&c.props.style.display==="contents"||(r&&a.options.layoutScroll&&a.scroll&&a!==a.root&&r1(t,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,uxe(t,o)),r&&xv(a.latestValues)&&r1(t,a.latestValues))}e.x<YJ&&e.x>XJ&&(e.x=1),e.y<YJ&&e.y>XJ&&(e.y=1)}function n1(t,e){t.min=t.min+e,t.max=t.max+e}function JJ(t,e,n,r,s=.5){const a=cs(t.min,t.max,s);h9(t,e,n,a,r)}function r1(t,e){JJ(t.x,e.x,e.scaleX,e.scale,e.originX),JJ(t.y,e.y,e.scaleY,e.scale,e.originY)}function dxe(t,e){return axe(p8e(t.getBoundingClientRect(),e))}function j8e(t,e,n){const r=dxe(t,n),{scroll:s}=e;return s&&(n1(r.x,s.offset.x),n1(r.y,s.offset.y)),r}const hxe=({current:t})=>t?t.ownerDocument.defaultView:null,ZJ=(t,e)=>Math.abs(t-e);function N8e(t,e){const n=ZJ(t.x,e.x),r=ZJ(t.y,e.y);return Math.sqrt(n**2+r**2)}class fxe{constructor(e,n,{transformPagePoint:r,contextWindow:s,dragSnapToOrigin:a=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const h=aI(this.lastMoveEventInfo,this.history),f=this.startEvent!==null,A=N8e(h.offset,{x:0,y:0})>=3;if(!f&&!A)return;const{point:v}=h,{timestamp:p}=uo;this.history.push({...v,timestamp:p});const{onStart:m,onMove:g}=this.handlers;f||(m&&m(this.lastMoveEvent,h),this.startEvent=this.lastMoveEvent),g&&g(this.lastMoveEvent,h)},this.handlePointerMove=(h,f)=>{this.lastMoveEvent=h,this.lastMoveEventInfo=sI(f,this.transformPagePoint),ds.update(this.updatePoint,!0)},this.handlePointerUp=(h,f)=>{this.end();const{onEnd:A,onSessionEnd:v,resumeAnimation:p}=this.handlers;if(this.dragSnapToOrigin&&p&&p(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const m=aI(h.type==="pointercancel"?this.lastMoveEventInfo:sI(f,this.transformPagePoint),this.history);this.startEvent&&A&&A(h,m),v&&v(h,m)},!iW(e))return;this.dragSnapToOrigin=a,this.handlers=n,this.transformPagePoint=r,this.contextWindow=s||window;const o=MS(e),l=sI(o,this.transformPagePoint),{point:c}=l,{timestamp:u}=uo;this.history=[{...c,timestamp:u}];const{onSessionStart:d}=n;d&&d(e,aI(l,this.history)),this.removeListeners=US(t_(this.contextWindow,"pointermove",this.handlePointerMove),t_(this.contextWindow,"pointerup",this.handlePointerUp),t_(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),ix(this.updatePoint)}}function sI(t,e){return e?{point:e(t.point)}:t}function eZ(t,e){return{x:t.x-e.x,y:t.y-e.y}}function aI({point:t},e){return{point:t,delta:eZ(t,Axe(e)),offset:eZ(t,_8e(e)),velocity:C8e(e,.1)}}function _8e(t){return t[0]}function Axe(t){return t[t.length-1]}function C8e(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const s=Axe(t);for(;n>=0&&(r=t[n],!(s.timestamp-r.timestamp>Ef(e)));)n--;if(!r)return{x:0,y:0};const a=Bf(s.timestamp-r.timestamp);if(a===0)return{x:0,y:0};const o={x:(s.x-r.x)/a,y:(s.y-r.y)/a};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function S8e(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?cs(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?cs(n,t,r.max):Math.min(t,n)),t}function tZ(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function E8e(t,{top:e,left:n,bottom:r,right:s}){return{x:tZ(t.x,n,s),y:tZ(t.y,e,r)}}function nZ(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function B8e(t,e){return{x:nZ(t.x,e.x),y:nZ(t.y,e.y)}}function D8e(t,e){let n=.5;const r=Nl(t),s=Nl(e);return s>r?n=R_(e.min,e.max-r,t.min):r>s&&(n=R_(t.min,t.max-s,e.min)),Bp(0,1,n)}function T8e(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const f9=.35;function k8e(t=f9){return t===!1?t=0:t===!0&&(t=f9),{x:rZ(t,"left","right"),y:rZ(t,"top","bottom")}}function rZ(t,e,n){return{min:iZ(t,e),max:iZ(t,n)}}function iZ(t,e){return typeof t=="number"?t:t[e]||0}const F8e=new WeakMap;class P8e{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Ps(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const s=d=>{const{dragSnapToOrigin:h}=this.getProps();h?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(MS(d).point)},a=(d,h)=>{const{drag:f,dragPropagation:A,onDragStart:v}=this.getProps();if(f&&!A&&(this.openDragLock&&this.openDragLock(),this.openDragLock=XIe(f),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),_u(m=>{let g=this.getAxisMotionValue(m).get()||0;if(Df.test(g)){const{projection:x}=this.visualElement;if(x&&x.layout){const b=x.layout.layoutBox[m];b&&(g=Nl(b)*(parseFloat(g)/100))}}this.originPoint[m]=g}),v&&ds.postRender(()=>v(d,h)),c9(this.visualElement,"transform");const{animationState:p}=this.visualElement;p&&p.setActive("whileDrag",!0)},o=(d,h)=>{const{dragPropagation:f,dragDirectionLock:A,onDirectionLock:v,onDrag:p}=this.getProps();if(!f&&!this.openDragLock)return;const{offset:m}=h;if(A&&this.currentDirection===null){this.currentDirection=U8e(m),this.currentDirection!==null&&v&&v(this.currentDirection);return}this.updateAxis("x",h.point,m),this.updateAxis("y",h.point,m),this.visualElement.render(),p&&p(d,h)},l=(d,h)=>this.stop(d,h),c=()=>_u(d=>{var h;return this.getAnimationState(d)==="paused"&&((h=this.getAxisMotionValue(d).animation)==null?void 0:h.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new fxe(e,{onSessionStart:s,onStart:a,onMove:o,onSessionEnd:l,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,contextWindow:hxe(this.visualElement)})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:s}=n;this.startAnimation(s);const{onDragEnd:a}=this.getProps();a&&ds.postRender(()=>a(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:s}=this.getProps();if(!r||!u4(e,s,this.currentDirection))return;const a=this.getAxisMotionValue(e);let o=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(o=S8e(o,this.constraints[e],this.elastic[e])),a.set(o)}resolveConstraints(){var a;const{dragConstraints:e,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(a=this.visualElement.projection)==null?void 0:a.layout,s=this.constraints;e&&e1(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=E8e(r.layoutBox,e):this.constraints=!1,this.elastic=k8e(n),s!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&_u(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=T8e(r.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!e1(e))return!1;const r=e.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const a=j8e(r,s.root,this.visualElement.getTransformPagePoint());let o=B8e(s.layout.layoutBox,a);if(n){const l=n(A8e(o));this.hasMutatedConstraints=!!l,l&&(o=axe(l))}return o}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:s,dragTransition:a,dragSnapToOrigin:o,onDragTransitionEnd:l}=this.getProps(),c=this.constraints||{},u=_u(d=>{if(!u4(d,n,this.currentDirection))return;let h=c&&c[d]||{};o&&(h={min:0,max:0});const f=s?200:1e6,A=s?40:1e7,v={type:"inertia",velocity:r?e[d]:0,bounceStiffness:f,bounceDamping:A,timeConstant:750,restDelta:1,restSpeed:10,...a,...h};return this.startAxisValueAnimation(d,v)});return Promise.all(u).then(l)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return c9(this.visualElement,e),r.start(pW(e,r,0,n,this.visualElement,!1))}stopAnimation(){_u(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){_u(e=>{var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),s=r[n];return s||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){_u(n=>{const{drag:r}=this.getProps();if(!u4(n,r,this.currentDirection))return;const{projection:s}=this.visualElement,a=this.getAxisMotionValue(n);if(s&&s.layout){const{min:o,max:l}=s.layout.layoutBox[n];a.set(e[n]-cs(o,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!e1(n)||!r||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};_u(o=>{const l=this.getAxisMotionValue(o);if(l&&this.constraints!==!1){const c=l.get();s[o]=D8e({min:c,max:c},this.constraints[o])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),_u(o=>{if(!u4(o,e,null))return;const l=this.getAxisMotionValue(o),{min:c,max:u}=this.constraints[o];l.set(cs(c,u,s[o]))})}addListeners(){if(!this.visualElement.current)return;F8e.set(this.visualElement,this);const e=this.visualElement.current,n=t_(e,"pointerdown",c=>{const{drag:u,dragListener:d=!0}=this.getProps();u&&d&&this.start(c)}),r=()=>{const{dragConstraints:c}=this.getProps();e1(c)&&c.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,a=s.addEventListener("measure",r);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),ds.read(r);const o=q_(window,"resize",()=>this.scalePositionWithinConstraints()),l=s.addEventListener("didUpdate",({delta:c,hasLayoutChanged:u})=>{this.isDragging&&u&&(_u(d=>{const h=this.getAxisMotionValue(d);h&&(this.originPoint[d]+=c[d].translate,h.set(h.get()+c[d].translate))}),this.visualElement.render())});return()=>{o(),n(),a(),l&&l()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:s=!1,dragConstraints:a=!1,dragElastic:o=f9,dragMomentum:l=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:s,dragConstraints:a,dragElastic:o,dragMomentum:l}}}function u4(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function U8e(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class I8e extends yx{constructor(e){super(e),this.removeGroupControls=qu,this.removeListeners=qu,this.controls=new P8e(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||qu}unmount(){this.removeGroupControls(),this.removeListeners()}}const sZ=t=>(e,n)=>{t&&ds.postRender(()=>t(e,n))};class O8e extends yx{constructor(){super(...arguments),this.removePointerDownListener=qu}onPointerDown(e){this.session=new fxe(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:hxe(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:s}=this.node.getProps();return{onSessionStart:sZ(e),onStart:sZ(n),onMove:r,onEnd:(a,o)=>{delete this.session,s&&ds.postRender(()=>s(a,o))}}}mount(){this.removePointerDownListener=t_(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const fD={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function aZ(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Gj={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Pn.test(t))t=parseFloat(t);else return t;const n=aZ(t,e.target.x),r=aZ(t,e.target.y);return`${n}% ${r}%`}},M8e={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,s=sx.parse(t);if(s.length>5)return r;const a=sx.createTransformer(t),o=typeof s[0]!="number"?1:0,l=n.x.scale*e.x,c=n.y.scale*e.y;s[0+o]/=l,s[1+o]/=c;const u=cs(l,c,.5);return typeof s[2+o]=="number"&&(s[2+o]/=u),typeof s[3+o]=="number"&&(s[3+o]/=u),a(s)}};class L8e extends E.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:s}=this.props,{projection:a}=e;_Oe(R8e),a&&(n.group&&n.group.add(a),r&&r.register&&s&&r.register(a),a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),fD.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:s,isPresent:a}=this.props,{projection:o}=r;return o&&(o.isPresent=a,s||e.layoutDependency!==n||n===void 0||e.isPresent!==a?o.willUpdate():this.safeToRemove(),e.isPresent!==a&&(a?o.promote():o.relegate()||ds.postRender(()=>{const l=o.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),rW.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:s}=e;s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),r&&r.deregister&&r.deregister(s))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function pxe(t){const[e,n]=Qge(),r=E.useContext(P$);return i.jsx(L8e,{...t,layoutGroup:r,switchLayoutGroup:E.useContext(qge),isPresent:e,safeToRemove:n})}const R8e={borderRadius:{...Gj,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Gj,borderTopRightRadius:Gj,borderBottomLeftRadius:Gj,borderBottomRightRadius:Gj,boxShadow:M8e};function Q8e(t,e,n){const r=Vo(t)?t:Vw(t);return r.start(pW("",r,e,n)),r.animation}const H8e=(t,e)=>t.depth-e.depth;class z8e{constructor(){this.children=[],this.isDirty=!1}add(e){O$(this.children,e),this.isDirty=!0}remove(e){M$(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(H8e),this.isDirty=!1,this.children.forEach(e)}}function $8e(t,e){const n=rc.now(),r=({timestamp:s})=>{const a=s-n;a>=e&&(ix(r),t(a-e))};return ds.setup(r,!0),()=>ix(r)}const mxe=["TopLeft","TopRight","BottomLeft","BottomRight"],W8e=mxe.length,oZ=t=>typeof t=="string"?parseFloat(t):t,lZ=t=>typeof t=="number"||Pn.test(t);function q8e(t,e,n,r,s,a){s?(t.opacity=cs(0,n.opacity??1,V8e(r)),t.opacityExit=cs(e.opacity??1,0,K8e(r))):a&&(t.opacity=cs(e.opacity??1,n.opacity??1,r));for(let o=0;o<W8e;o++){const l=`border${mxe[o]}Radius`;let c=cZ(e,l),u=cZ(n,l);if(c===void 0&&u===void 0)continue;c||(c=0),u||(u=0),c===0||u===0||lZ(c)===lZ(u)?(t[l]=Math.max(cs(oZ(c),oZ(u),r),0),(Df.test(u)||Df.test(c))&&(t[l]+="%")):t[l]=u}(e.rotate||n.rotate)&&(t.rotate=cs(e.rotate||0,n.rotate||0,r))}function cZ(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const V8e=gxe(0,.5,lge),K8e=gxe(.5,.95,qu);function gxe(t,e,n){return r=>r<t?0:r>e?1:n(R_(t,e,r))}function uZ(t,e){t.min=e.min,t.max=e.max}function wu(t,e){uZ(t.x,e.x),uZ(t.y,e.y)}function dZ(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function hZ(t,e,n,r,s){return t-=e,t=l3(t,1/n,r),s!==void 0&&(t=l3(t,1/s,r)),t}function G8e(t,e=0,n=1,r=.5,s,a=t,o=t){if(Df.test(e)&&(e=parseFloat(e),e=cs(o.min,o.max,e/100)-o.min),typeof e!="number")return;let l=cs(a.min,a.max,r);t===a&&(l-=e),t.min=hZ(t.min,e,n,l,s),t.max=hZ(t.max,e,n,l,s)}function fZ(t,e,[n,r,s],a,o){G8e(t,e[n],e[r],e[s],e.scale,a,o)}const X8e=["x","scaleX","originX"],Y8e=["y","scaleY","originY"];function AZ(t,e,n,r){fZ(t.x,e,X8e,n?n.x:void 0,r?r.x:void 0),fZ(t.y,e,Y8e,n?n.y:void 0,r?r.y:void 0)}function pZ(t){return t.translate===0&&t.scale===1}function xxe(t){return pZ(t.x)&&pZ(t.y)}function mZ(t,e){return t.min===e.min&&t.max===e.max}function J8e(t,e){return mZ(t.x,e.x)&&mZ(t.y,e.y)}function gZ(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function vxe(t,e){return gZ(t.x,e.x)&&gZ(t.y,e.y)}function xZ(t){return Nl(t.x)/Nl(t.y)}function vZ(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class Z8e{constructor(){this.members=[]}add(e){O$(this.members,e),e.scheduleRender()}remove(e){if(M$(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(s=>e===s);if(n===0)return!1;let r;for(let s=n;s>=0;s--){const a=this.members[s];if(a.isPresent!==!1){r=a;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:s}=e.options;s===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function eMe(t,e,n){let r="";const s=t.x.translate/e.x,a=t.y.translate/e.y,o=(n==null?void 0:n.z)||0;if((s||a||o)&&(r=`translate3d(${s}px, ${a}px, ${o}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:u,rotate:d,rotateX:h,rotateY:f,skewX:A,skewY:v}=n;u&&(r=`perspective(${u}px) ${r}`),d&&(r+=`rotate(${d}deg) `),h&&(r+=`rotateX(${h}deg) `),f&&(r+=`rotateY(${f}deg) `),A&&(r+=`skewX(${A}deg) `),v&&(r+=`skewY(${v}deg) `)}const l=t.x.scale*e.x,c=t.y.scale*e.y;return(l!==1||c!==1)&&(r+=`scale(${l}, ${c})`),r||"none"}const oI=["","X","Y","Z"],tMe={visibility:"hidden"},nMe=1e3;let rMe=0;function lI(t,e,n,r){const{latestValues:s}=e;s[t]&&(n[t]=s[t],e.setStaticValue(t,0),r&&(r[t]=0))}function yxe(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=txe(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:s,layoutId:a}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",ds,!(s||a))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&yxe(r)}function bxe({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:s}){return class{constructor(o={},l=e==null?void 0:e()){this.id=rMe++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(aMe),this.nodes.forEach(dMe),this.nodes.forEach(hMe),this.nodes.forEach(oMe)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new z8e)}addEventListener(o,l){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new Q$),this.eventHandlers.get(o).add(l)}notifyListeners(o,...l){const c=this.eventHandlers.get(o);c&&c.notify(...l)}hasListeners(o){return this.eventHandlers.has(o)}mount(o){if(this.instance)return;this.isSVG=Rge(o)&&!nOe(o),this.instance=o;const{layoutId:l,layout:c,visualElement:u}=this.options;if(u&&!u.current&&u.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(c||l)&&(this.isLayoutDirty=!0),t){let d;const h=()=>this.root.updateBlockedByResize=!1;t(o,()=>{this.root.updateBlockedByResize=!0,d&&d(),d=$8e(h,250),fD.hasAnimatedSinceResize&&(fD.hasAnimatedSinceResize=!1,this.nodes.forEach(bZ))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&u&&(l||c)&&this.addEventListener("didUpdate",({delta:d,hasLayoutChanged:h,hasRelativeLayoutChanged:f,layout:A})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const v=this.options.transition||u.getDefaultTransition()||gMe,{onLayoutAnimationStart:p,onLayoutAnimationComplete:m}=u.getProps(),g=!this.targetLayout||!vxe(this.targetLayout,A),x=!h&&f;if(this.options.layoutRoot||this.resumeFrom||x||h&&(g||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const b={...tW(v,"layout"),onPlay:p,onComplete:m};(u.shouldReduceMotion||this.options.layoutRoot)&&(b.delay=0,b.type=!1),this.startAnimation(b),this.setAnimationOrigin(d,x)}else h||bZ(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=A})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),ix(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(fMe),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&yxe(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const h=this.path[d];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:l,layout:c}=this.options;if(l===void 0&&!c)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(yZ);return}this.isUpdating||this.nodes.forEach(cMe),this.isUpdating=!1,this.nodes.forEach(uMe),this.nodes.forEach(iMe),this.nodes.forEach(sMe),this.clearAllSnapshots();const l=rc.now();uo.delta=Bp(0,1e3/60,l-uo.timestamp),uo.timestamp=l,uo.isProcessing=!0,ZU.update.process(uo),ZU.preRender.process(uo),ZU.render.process(uo),uo.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,rW.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(lMe),this.sharedNodes.forEach(AMe)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ds.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ds.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Nl(this.snapshot.measuredBox.x)&&!Nl(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Ps(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let l=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(l=!1),l&&this.instance){const c=r(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:c,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!s)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,l=this.projectionDelta&&!xxe(this.projectionDelta),c=this.getTransformTemplate(),u=c?c(this.latestValues,""):void 0,d=u!==this.prevTransformTemplateValue;o&&this.instance&&(l||xv(this.latestValues)||d)&&(s(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const l=this.measurePageBox();let c=this.removeElementScroll(l);return o&&(c=this.removeTransform(c)),xMe(c),{animationId:this.root.animationId,measuredBox:l,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){var u;const{visualElement:o}=this.options;if(!o)return Ps();const l=o.measureViewportBox();if(!(((u=this.scroll)==null?void 0:u.wasRoot)||this.path.some(vMe))){const{scroll:d}=this.root;d&&(n1(l.x,d.offset.x),n1(l.y,d.offset.y))}return l}removeElementScroll(o){var c;const l=Ps();if(wu(l,o),(c=this.scroll)!=null&&c.wasRoot)return l;for(let u=0;u<this.path.length;u++){const d=this.path[u],{scroll:h,options:f}=d;d!==this.root&&h&&f.layoutScroll&&(h.wasRoot&&wu(l,o),n1(l.x,h.offset.x),n1(l.y,h.offset.y))}return l}applyTransform(o,l=!1){const c=Ps();wu(c,o);for(let u=0;u<this.path.length;u++){const d=this.path[u];!l&&d.options.layoutScroll&&d.scroll&&d!==d.root&&r1(c,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),xv(d.latestValues)&&r1(c,d.latestValues)}return xv(this.latestValues)&&r1(c,this.latestValues),c}removeTransform(o){const l=Ps();wu(l,o);for(let c=0;c<this.path.length;c++){const u=this.path[c];if(!u.instance||!xv(u.latestValues))continue;d9(u.latestValues)&&u.updateSnapshot();const d=Ps(),h=u.measurePageBox();wu(d,h),AZ(l,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,d)}return xv(this.latestValues)&&AZ(l,this.latestValues),l}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==uo.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var f;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(o||c&&this.isSharedProjectionDirty||this.isProjectionDirty||(f=this.parent)!=null&&f.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:d,layoutId:h}=this.options;if(!(!this.layout||!(d||h))){if(this.resolvedRelativeTargetAt=uo.timestamp,!this.targetDelta&&!this.relativeTarget){const A=this.getClosestProjectingParent();A&&A.layout&&this.animationProgress!==1?(this.relativeParent=A,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ps(),this.relativeTargetOrigin=Ps(),r_(this.relativeTargetOrigin,this.layout.layoutBox,A.layout.layoutBox),wu(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Ps(),this.targetWithTransforms=Ps()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),b8e(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):wu(this.target,this.layout.layoutBox),uxe(this.target,this.targetDelta)):wu(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const A=this.getClosestProjectingParent();A&&!!A.resumingFrom==!!this.resumingFrom&&!A.options.layoutScroll&&A.target&&this.animationProgress!==1?(this.relativeParent=A,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ps(),this.relativeTargetOrigin=Ps(),r_(this.relativeTargetOrigin,this.target,A.target),wu(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||d9(this.parent.latestValues)||cxe(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var v;const o=this.getLead(),l=!!this.resumingFrom||this!==o;let c=!0;if((this.isProjectionDirty||(v=this.parent)!=null&&v.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===uo.timestamp&&(c=!1),c)return;const{layout:u,layoutId:d}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||d))return;wu(this.layoutCorrected,this.layout.layoutBox);const h=this.treeScale.x,f=this.treeScale.y;w8e(this.layoutCorrected,this.treeScale,this.path,l),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=Ps());const{target:A}=o;if(!A){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(dZ(this.prevProjectionDelta.x,this.projectionDelta.x),dZ(this.prevProjectionDelta.y,this.projectionDelta.y)),n_(this.projectionDelta,this.layoutCorrected,A,this.latestValues),(this.treeScale.x!==h||this.treeScale.y!==f||!vZ(this.projectionDelta.x,this.prevProjectionDelta.x)||!vZ(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",A))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var l;if((l=this.options.visualElement)==null||l.scheduleRender(),o){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=t1(),this.projectionDelta=t1(),this.projectionDeltaWithTransform=t1()}setAnimationOrigin(o,l=!1){const c=this.snapshot,u=c?c.latestValues:{},d={...this.latestValues},h=t1();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const f=Ps(),A=c?c.source:void 0,v=this.layout?this.layout.source:void 0,p=A!==v,m=this.getStack(),g=!m||m.members.length<=1,x=!!(p&&!g&&this.options.crossfade===!0&&!this.path.some(mMe));this.animationProgress=0;let b;this.mixTargetDelta=j=>{const N=j/1e3;wZ(h.x,o.x,N),wZ(h.y,o.y,N),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(r_(f,this.layout.layoutBox,this.relativeParent.layout.layoutBox),pMe(this.relativeTarget,this.relativeTargetOrigin,f,N),b&&J8e(this.relativeTarget,b)&&(this.isProjectionDirty=!1),b||(b=Ps()),wu(b,this.relativeTarget)),p&&(this.animationValues=d,q8e(d,u,this.latestValues,N,x,g)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=N},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){var l,c,u;this.notifyListeners("animationStart"),(l=this.currentAnimation)==null||l.stop(),(u=(c=this.resumingFrom)==null?void 0:c.currentAnimation)==null||u.stop(),this.pendingAnimation&&(ix(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ds.update(()=>{fD.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Vw(0)),this.currentAnimation=Q8e(this.motionValue,[0,1e3],{...o,isSync:!0,onUpdate:d=>{this.mixTargetDelta(d),o.onUpdate&&o.onUpdate(d)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(nMe),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:l,target:c,layout:u,latestValues:d}=o;if(!(!l||!c||!u)){if(this!==o&&this.layout&&u&&wxe(this.options.animationType,this.layout.layoutBox,u.layoutBox)){c=this.target||Ps();const h=Nl(this.layout.layoutBox.x);c.x.min=o.target.x.min,c.x.max=c.x.min+h;const f=Nl(this.layout.layoutBox.y);c.y.min=o.target.y.min,c.y.max=c.y.min+f}wu(l,c),r1(l,d),n_(this.projectionDeltaWithTransform,this.layoutCorrected,l,d)}}registerSharedNode(o,l){this.sharedNodes.has(o)||this.sharedNodes.set(o,new Z8e),this.sharedNodes.get(o).add(l);const u=l.options.initialPromotionConfig;l.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(l):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var l;const{layoutId:o}=this.options;return o?((l=this.getStack())==null?void 0:l.lead)||this:this}getPrevLead(){var l;const{layoutId:o}=this.options;return o?(l=this.getStack())==null?void 0:l.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:l,preserveFollowOpacity:c}={}){const u=this.getStack();u&&u.promote(this,c),o&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let l=!1;const{latestValues:c}=o;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(l=!0),!l)return;const u={};c.z&&lI("z",o,u,this.animationValues);for(let d=0;d<oI.length;d++)lI(`rotate${oI[d]}`,o,u,this.animationValues),lI(`skew${oI[d]}`,o,u,this.animationValues);o.render();for(const d in u)o.setStaticValue(d,u[d]),this.animationValues&&(this.animationValues[d]=u[d]);o.scheduleRender()}getProjectionStyles(o){if(!this.instance||this.isSVG)return;if(!this.isVisible)return tMe;const l={visibility:""},c=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,l.opacity="",l.pointerEvents=hD(o==null?void 0:o.pointerEvents)||"",l.transform=c?c(this.latestValues,""):"none",l;const u=this.getLead();if(!this.projectionDelta||!this.layout||!u.target){const A={};return this.options.layoutId&&(A.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,A.pointerEvents=hD(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!xv(this.latestValues)&&(A.transform=c?c({},""):"none",this.hasProjected=!1),A}const d=u.animationValues||u.latestValues;this.applyTransformsToTarget(),l.transform=eMe(this.projectionDeltaWithTransform,this.treeScale,d),c&&(l.transform=c(d,l.transform));const{x:h,y:f}=this.projectionDelta;l.transformOrigin=`${h.origin*100}% ${f.origin*100}% 0`,u.animationValues?l.opacity=u===this?d.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:d.opacityExit:l.opacity=u===this?d.opacity!==void 0?d.opacity:"":d.opacityExit!==void 0?d.opacityExit:0;for(const A in $_){if(d[A]===void 0)continue;const{correct:v,applyTo:p,isCSSVariable:m}=$_[A],g=l.transform==="none"?d[A]:v(d[A],u);if(p){const x=p.length;for(let b=0;b<x;b++)l[p[b]]=g}else m?this.options.visualElement.renderState.vars[A]=g:l[A]=g}return this.options.layoutId&&(l.pointerEvents=u===this?hD(o==null?void 0:o.pointerEvents)||"":"none"),l}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var l;return(l=o.currentAnimation)==null?void 0:l.stop()}),this.root.nodes.forEach(yZ),this.root.sharedNodes.clear()}}}function iMe(t){t.updateLayout()}function sMe(t){var n;const e=((n=t.resumeFrom)==null?void 0:n.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:s}=t.layout,{animationType:a}=t.options,o=e.source!==t.layout.source;a==="size"?_u(h=>{const f=o?e.measuredBox[h]:e.layoutBox[h],A=Nl(f);f.min=r[h].min,f.max=f.min+A}):wxe(a,e.layoutBox,r)&&_u(h=>{const f=o?e.measuredBox[h]:e.layoutBox[h],A=Nl(r[h]);f.max=f.min+A,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[h].max=t.relativeTarget[h].min+A)});const l=t1();n_(l,r,e.layoutBox);const c=t1();o?n_(c,t.applyTransform(s,!0),e.measuredBox):n_(c,r,e.layoutBox);const u=!xxe(l);let d=!1;if(!t.resumeFrom){const h=t.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:f,layout:A}=h;if(f&&A){const v=Ps();r_(v,e.layoutBox,f.layoutBox);const p=Ps();r_(p,r,A.layoutBox),vxe(v,p)||(d=!0),h.options.layoutRoot&&(t.relativeTarget=p,t.relativeTargetOrigin=v,t.relativeParent=h)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:e,delta:c,layoutDelta:l,hasLayoutChanged:u,hasRelativeLayoutChanged:d})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function aMe(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function oMe(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function lMe(t){t.clearSnapshot()}function yZ(t){t.clearMeasurements()}function cMe(t){t.isLayoutDirty=!1}function uMe(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function bZ(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function dMe(t){t.resolveTargetDelta()}function hMe(t){t.calcProjection()}function fMe(t){t.resetSkewAndRotation()}function AMe(t){t.removeLeadSnapshot()}function wZ(t,e,n){t.translate=cs(e.translate,0,n),t.scale=cs(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function jZ(t,e,n,r){t.min=cs(e.min,n.min,r),t.max=cs(e.max,n.max,r)}function pMe(t,e,n,r){jZ(t.x,e.x,n.x,r),jZ(t.y,e.y,n.y,r)}function mMe(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const gMe={duration:.45,ease:[.4,0,.1,1]},NZ=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),_Z=NZ("applewebkit/")&&!NZ("chrome/")?Math.round:qu;function CZ(t){t.min=_Z(t.min),t.max=_Z(t.max)}function xMe(t){CZ(t.x),CZ(t.y)}function wxe(t,e,n){return t==="position"||t==="preserve-aspect"&&!y8e(xZ(e),xZ(n),.2)}function vMe(t){var e;return t!==t.root&&((e=t.scroll)==null?void 0:e.wasRoot)}const yMe=bxe({attachResizeListener:(t,e)=>q_(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),cI={current:void 0},jxe=bxe({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!cI.current){const t=new yMe({});t.mount(window),t.setOptions({layoutScroll:!0}),cI.current=t}return cI.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),bMe={pan:{Feature:O8e},drag:{Feature:I8e,ProjectionNode:jxe,MeasureLayout:pxe}};function SZ(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const s="onHover"+n,a=r[s];a&&ds.postRender(()=>a(e,MS(e)))}class wMe extends yx{mount(){const{current:e}=this.node;e&&(this.unmount=YIe(e,(n,r)=>(SZ(this.node,r,"Start"),s=>SZ(this.node,s,"End"))))}unmount(){}}class jMe extends yx{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=US(q_(this.node.current,"focus",()=>this.onFocus()),q_(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function EZ(t,e,n){const{props:r}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const s="onTap"+(n==="End"?"":n),a=r[s];a&&ds.postRender(()=>a(e,MS(e)))}class NMe extends yx{mount(){const{current:e}=this.node;e&&(this.unmount=tOe(e,(n,r)=>(EZ(this.node,r,"Start"),(s,{success:a})=>EZ(this.node,s,a?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const A9=new WeakMap,uI=new WeakMap,_Me=t=>{const e=A9.get(t.target);e&&e(t)},CMe=t=>{t.forEach(_Me)};function SMe({root:t,...e}){const n=t||document;uI.has(n)||uI.set(n,{});const r=uI.get(n),s=JSON.stringify(e);return r[s]||(r[s]=new IntersectionObserver(CMe,{root:t,...e})),r[s]}function EMe(t,e,n){const r=SMe(e);return A9.set(t,n),r.observe(t),()=>{A9.delete(t),r.unobserve(t)}}const BMe={some:0,all:1};class DMe extends yx{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:s="some",once:a}=e,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof s=="number"?s:BMe[s]},l=c=>{const{isIntersecting:u}=c;if(this.isInView===u||(this.isInView=u,a&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:d,onViewportLeave:h}=this.node.getProps(),f=u?d:h;f&&f(c)};return EMe(this.node.current,o,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(TMe(e,n))&&this.startObserver()}unmount(){}}function TMe({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const kMe={inView:{Feature:DMe},tap:{Feature:NMe},focus:{Feature:jMe},hover:{Feature:wMe}},FMe={layout:{ProjectionNode:jxe,MeasureLayout:pxe}},p9={current:null},Nxe={current:!1};function PMe(){if(Nxe.current=!0,!!U$)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>p9.current=t.matches;t.addListener(e),e()}else p9.current=!1}const UMe=new WeakMap;function IMe(t,e,n){for(const r in e){const s=e[r],a=n[r];if(Vo(s))t.addValue(r,s);else if(Vo(a))t.addValue(r,Vw(s,{owner:t}));else if(a!==s)if(t.hasValue(r)){const o=t.getValue(r);o.liveStyle===!0?o.jump(s):o.hasAnimated||o.set(s)}else{const o=t.getStaticValue(r);t.addValue(r,Vw(o!==void 0?o:s,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const BZ=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class OMe{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:s,blockInitialAnimation:a,visualState:o},l={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Z$,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const f=rc.now();this.renderScheduledAt<f&&(this.renderScheduledAt=f,ds.render(this.render,!1,!0))};const{latestValues:c,renderState:u}=o;this.latestValues=c,this.baseTarget={...c},this.initialValues=n.initial?{...c}:{},this.renderState=u,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=s,this.options=l,this.blockInitialAnimation=!!a,this.isControllingVariants=cF(n),this.isVariantNode=$ge(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:d,...h}=this.scrapeMotionValuesFromProps(n,{},this);for(const f in h){const A=h[f];c[f]!==void 0&&Vo(A)&&A.set(c[f],!1)}}mount(e){this.current=e,UMe.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),Nxe.current||PMe(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:p9.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),ix(this.notifyUpdate),ix(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=Y2.has(e);r&&this.onBindTransform&&this.onBindTransform();const s=n.on("change",l=>{this.latestValues[e]=l,this.props.onUpdate&&ds.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),a=n.on("renderRequest",this.scheduleRender);let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{s(),a(),o&&o(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Kw){const n=Kw[e];if(!n)continue;const{isEnabled:r,Feature:s}=n;if(!this.features[e]&&s&&r(this.props)&&(this.features[e]=new s(this)),this.features[e]){const a=this.features[e];a.isMounted?a.update():(a.mount(),a.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Ps()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<BZ.length;r++){const s=BZ[r];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const a="on"+s,o=e[a];o&&(this.propEventSubscriptions[s]=this.on(s,o))}this.prevMotionValues=IMe(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=Vw(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(Jme(r)||ege(r))?r=parseFloat(r):!iOe(r)&&sx.test(n)&&(r=Uge(e,n)),this.setBaseTarget(e,Vo(r)?r.get():r)),Vo(r)?r.get():r}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var a;const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const o=hW(this.props,n,(a=this.presenceContext)==null?void 0:a.custom);o&&(r=o[e])}if(n&&r!==void 0)return r;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!Vo(s)?s:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new Q$),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class _xe extends OMe{constructor(){super(...arguments),this.KeyframeResolver=qIe}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Vo(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function Cxe(t,{style:e,vars:n},r,s){Object.assign(t.style,e,s&&s.getProjectionStyles(r));for(const a in n)t.style.setProperty(a,n[a])}function MMe(t){return window.getComputedStyle(t)}class LMe extends _xe{constructor(){super(...arguments),this.type="html",this.renderInstance=Cxe}readValueFromInstance(e,n){var r;if(Y2.has(n))return(r=this.projection)!=null&&r.isProjecting?n9(n):dIe(e,n);{const s=MMe(e),a=($$(n)?s.getPropertyValue(n):s[n])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(e,{transformPagePoint:n}){return dxe(e,n)}build(e,n,r){cW(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return fW(e,n,r)}}const Sxe=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function RMe(t,e,n,r){Cxe(t,e,void 0,r);for(const s in e.attrs)t.setAttribute(Sxe.has(s)?s:lW(s),e.attrs[s])}class QMe extends _xe{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Ps}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Y2.has(n)){const r=Pge(n);return r&&r.default||0}return n=Sxe.has(n)?n:lW(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return exe(e,n,r)}build(e,n,r){Xge(e,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(e,n,r,s){RMe(e,n,r,s)}mount(e){this.isSVGTag=Jge(e.tagName),super.mount(e)}}const HMe=(t,e)=>dW(t)?new QMe(e):new LMe(e,{allowProjection:t!==E.Fragment}),zMe=HOe({...h8e,...kMe,...bMe,...FMe},HMe),wl=fOe(zMe);function $Me(t){t.values.forEach(e=>e.stop())}function m9(t,e){[...e].reverse().forEach(r=>{const s=t.getVariant(r);s&&AW(t,s),t.variantChildren&&t.variantChildren.forEach(a=>{m9(a,e)})})}function WMe(t,e){if(Array.isArray(e))return m9(t,e);if(typeof e=="string")return m9(t,[e]);AW(t,e)}function qMe(){const t=new Set,e={subscribe(n){return t.add(n),()=>void t.delete(n)},start(n,r){const s=[];return t.forEach(a=>{s.push(rxe(a,n,{transitionOverride:r}))}),Promise.all(s)},set(n){return t.forEach(r=>{WMe(r,n)})},stop(){t.forEach(n=>{$Me(n)})},mount(){return()=>{e.stop()}}};return e}function VMe(){const t=sF(qMe);return I$(t.mount,[]),t}const KMe=VMe,Xj={ANALYZE_NOVEL:{id:"analyze_novel",name:"تحليل الرواية المصدر",description:"تحليل عميق للأسلوب والبنية والشخصيات",icon:zt,color:"bg-blue-500",inputs:0,outputs:1},GENERATE_IDEAS:{id:"generate_ideas",name:"توليد أفكار الروايات",description:"إنتاج أفكار إبداعية جديدة مبنية على التحليل",icon:nr,color:"bg-yellow-500",inputs:1,outputs:1},BUILD_BLUEPRINT:{id:"build_blueprint",name:"بناء مخطط الرواية",description:"تطوير هيكل وخطة مفصلة للرواية",icon:xn,color:"bg-green-500",inputs:1,outputs:1},GENERATE_CHAPTER:{id:"generate_chapter",name:"توليد فصل",description:"كتابة محتوى فصل جديد",icon:ga,color:"bg-purple-500",inputs:1,outputs:1},REFINE_TEXT:{id:"refine_text",name:"تحسين النص",description:"مراجعة وتحسين جودة النص",icon:Gu,color:"bg-orange-500",inputs:1,outputs:1},CHECK_CONSISTENCY:{id:"check_consistency",name:"فحص الاتساق",description:"التحقق من تناسق الشخصيات والأحداث",icon:Rt,color:"bg-teal-500",inputs:1,outputs:1},GENERATE_REPORT:{id:"generate_report",name:"إنتاج التقرير النهائي",description:"تجميع وتنسيق النتائج النهائية",icon:hs,color:"bg-indigo-500",inputs:1,outputs:0},CONDITION:{id:"condition",name:"شرط",description:"تقييم شرط وتوجيه التدفق",icon:pce,color:"bg-gray-500",inputs:1,outputs:2},MERGE_DATA:{id:"merge_data",name:"دمج البيانات",description:"دمج البيانات من مصادر متعددة",icon:N_,color:"bg-cyan-500",inputs:2,outputs:1}},Exe=()=>{const[t,e]=E.useState({id:"",name:"سير عمل جديد",description:"",nodes:[],metadata:{}}),[n,r]=E.useState(null),[s,a]=E.useState(!1),[o,l]=E.useState(null),[c,u]=E.useState(null),[d,h]=E.useState(!1),[f,A]=E.useState(!1),[v,p]=E.useState(null),m=E.useRef(null),[g,x]=E.useState([]);E.useEffect(()=>{b()},[]);const b=async()=>{try{const L=await(await fetch("/api/workflows/templates")).json();L.success&&x(L.templates)}catch(U){console.error("خطأ في جلب القوالب:",U)}},j=async U=>{try{const z=await(await fetch("/api/workflows/create-from-template",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({template_id:U})})).json();z.success&&(e(z.workflow),h(!1))}catch(L){console.error("خطأ في إنشاء سير العمل من القالب:",L)}},N=(U,L)=>{const z=Xj[U];if(!z)return;const $={id:`node_${Date.now()}`,type:z.id,name:z.name,description:z.description,config:{},inputs:[],outputs:[],position:L,status:"pending"};e(K=>({...K,nodes:[...K.nodes,$]}))},_=U=>{e(L=>({...L,nodes:L.nodes.filter(z=>z.id===U?!1:(z.inputs=z.inputs.filter($=>$!==U),z.outputs=z.outputs.filter($=>$!==U),!0))})),(n==null?void 0:n.id)===U&&r(null)},C=async()=>{try{a(!0);const L=await(await fetch("/api/workflows/run",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({workflow:t,initial_data:{}})})).json();L.success&&(l(L.execution_id),k(L.execution_id))}catch(U){console.error("خطأ في تشغيل سير العمل:",U),a(!1)}},k=U=>{const L=async()=>{try{const $=await(await fetch(`/api/workflows/progress/${U}`)).json();if($.completed||$.failed){a(!1),u($.progress||null),$.result&&T($.result);return}$.progress&&u($.progress),setTimeout(L,2e3)}catch(z){console.error("خطأ في مراقبة التقدم:",z),a(!1)}};L()},T=U=>{e(L=>({...L,nodes:L.nodes.map(z=>({...z,status:"completed"}))}))},O=async()=>{if(o)try{await fetch(`/api/workflows/cancel/${o}`,{method:"POST"}),a(!1),l(null),u(null)}catch(U){console.error("خطأ في إيقاف سير العمل:",U)}},I=async()=>{try{(await(await fetch("/api/workflows/save",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({workflow:t})})).json()).success&&alert("تم حفظ سير العمل بنجاح")}catch(U){console.error("خطأ في حفظ سير العمل:",U)}},F=U=>{U.preventDefault()},M=U=>{if(U.preventDefault(),!v||!m.current)return;const L=m.current.getBoundingClientRect(),z={x:U.clientX-L.left,y:U.clientY-L.top};N(v,z),p(null)},S=U=>{p(U)},q=()=>t.nodes.map(U=>U.inputs.map(L=>{const z=t.nodes.find($=>$.id===L);return z?i.jsxs("svg",{className:"absolute top-0 left-0 w-full h-full pointer-events-none",style:{zIndex:1},children:[i.jsx("line",{x1:z.position.x+100,y1:z.position.y+40,x2:U.position.x,y2:U.position.y+40,stroke:"#6366f1",strokeWidth:"2",markerEnd:"url(#arrowhead)"}),i.jsx("defs",{children:i.jsx("marker",{id:"arrowhead",markerWidth:"10",markerHeight:"7",refX:"10",refY:"3.5",orient:"auto",children:i.jsx("polygon",{points:"0 0, 10 3.5, 0 7",fill:"#6366f1"})})})]},`${L}-${U.id}`):null})).flat();return i.jsxs("div",{className:"flex h-screen bg-gray-50",dir:"rtl",children:[i.jsx("div",{className:"w-80 bg-white border-l border-gray-200 p-4 overflow-y-auto",children:i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("h3",{className:"text-lg font-semibold",children:"عقد سير العمل"}),i.jsxs(xe,{variant:"outline",size:"sm",onClick:()=>h(!0),children:[i.jsx(BD,{className:"w-4 h-4 ml-2"}),"قوالب"]})]}),i.jsxs("div",{children:[i.jsx("h4",{className:"text-sm font-medium text-gray-600 mb-2",children:"التحليل والمعالجة"}),i.jsx("div",{className:"space-y-2",children:Object.entries(Xj).slice(0,3).map(([U,L])=>{const z=L.icon;return i.jsx("div",{className:"p-3 border border-gray-200 rounded-lg cursor-grab hover:shadow-md transition-shadow",draggable:!0,onDragStart:()=>S(U),children:i.jsxs("div",{className:"flex items-center space-x-3 space-x-reverse",children:[i.jsx("div",{className:`p-2 rounded-lg ${L.color} text-white`,children:i.jsx(z,{className:"w-4 h-4"})}),i.jsxs("div",{className:"flex-1",children:[i.jsx("div",{className:"text-sm font-medium",children:L.name}),i.jsx("div",{className:"text-xs text-gray-500",children:L.description})]})]})},U)})})]}),i.jsxs("div",{children:[i.jsx("h4",{className:"text-sm font-medium text-gray-600 mb-2",children:"الإنتاج والتحسين"}),i.jsx("div",{className:"space-y-2",children:Object.entries(Xj).slice(3,7).map(([U,L])=>{const z=L.icon;return i.jsx("div",{className:"p-3 border border-gray-200 rounded-lg cursor-grab hover:shadow-md transition-shadow",draggable:!0,onDragStart:()=>S(U),children:i.jsxs("div",{className:"flex items-center space-x-3 space-x-reverse",children:[i.jsx("div",{className:`p-2 rounded-lg ${L.color} text-white`,children:i.jsx(z,{className:"w-4 h-4"})}),i.jsxs("div",{className:"flex-1",children:[i.jsx("div",{className:"text-sm font-medium",children:L.name}),i.jsx("div",{className:"text-xs text-gray-500",children:L.description})]})]})},U)})})]}),i.jsxs("div",{children:[i.jsx("h4",{className:"text-sm font-medium text-gray-600 mb-2",children:"التحكم والأتمتة"}),i.jsx("div",{className:"space-y-2",children:Object.entries(Xj).slice(7).map(([U,L])=>{const z=L.icon;return i.jsx("div",{className:"p-3 border border-gray-200 rounded-lg cursor-grab hover:shadow-md transition-shadow",draggable:!0,onDragStart:()=>S(U),children:i.jsxs("div",{className:"flex items-center space-x-3 space-x-reverse",children:[i.jsx("div",{className:`p-2 rounded-lg ${L.color} text-white`,children:i.jsx(z,{className:"w-4 h-4"})}),i.jsxs("div",{className:"flex-1",children:[i.jsx("div",{className:"text-sm font-medium",children:L.name}),i.jsx("div",{className:"text-xs text-gray-500",children:L.description})]})]})},U)})})]})]})}),i.jsxs("div",{className:"flex-1 flex flex-col",children:[i.jsxs("div",{className:"bg-white border-b border-gray-200 p-4",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsxs("div",{className:"flex items-center space-x-4 space-x-reverse",children:[i.jsx(wn,{value:t.name,onChange:U=>e(L=>({...L,name:U.target.value})),className:"text-lg font-semibold border-none p-0 h-auto focus:ring-0",placeholder:"اسم سير العمل"}),i.jsxs(He,{variant:"outline",children:[t.nodes.length," عقدة"]})]}),i.jsxs("div",{className:"flex items-center space-x-2 space-x-reverse",children:[s?i.jsxs(xe,{variant:"destructive",size:"sm",onClick:O,children:[i.jsx(kD,{className:"w-4 h-4 ml-2"}),"إيقاف"]}):i.jsxs(xe,{variant:"default",size:"sm",onClick:C,disabled:t.nodes.length===0,children:[i.jsx(xa,{className:"w-4 h-4 ml-2"}),"تشغيل"]}),i.jsxs(xe,{variant:"outline",size:"sm",onClick:I,children:[i.jsx(Ko,{className:"w-4 h-4 ml-2"}),"حفظ"]})]})]}),c&&i.jsxs("div",{className:"mt-4",children:[i.jsxs("div",{className:"flex justify-between items-center mb-2",children:[i.jsxs("span",{className:"text-sm text-gray-600",children:["التقدم: ",c.completed_nodes," من ",c.total_nodes]}),i.jsxs("span",{className:"text-sm font-medium",children:[Math.round(c.progress_percentage),"%"]})]}),i.jsx(tt,{value:c.progress_percentage,className:"h-2"}),c.current_node&&i.jsxs("div",{className:"mt-2 text-sm text-blue-600",children:["جاري تشغيل: ",c.current_node]})]})]}),i.jsxs("div",{ref:m,className:"flex-1 relative bg-gray-50 overflow-hidden",onDragOver:F,onDrop:M,style:{backgroundImage:"radial-gradient(circle, #e5e7eb 1px, transparent 1px)",backgroundSize:"20px 20px"},children:[q(),t.nodes.map(U=>{const L=Object.values(Xj).find($=>$.id===U.type);if(!L)return null;const z=L.icon;return i.jsxs("div",{className:`absolute bg-white border-2 rounded-lg shadow-lg p-4 cursor-pointer transition-all hover:shadow-xl ${(n==null?void 0:n.id)===U.id?"border-blue-500 ring-2 ring-blue-200":"border-gray-200"} ${U.status==="running"?"border-yellow-500 bg-yellow-50":U.status==="completed"?"border-green-500 bg-green-50":U.status==="failed"?"border-red-500 bg-red-50":""}`,style:{left:U.position.x,top:U.position.y,width:200,zIndex:10},onClick:()=>r(U),children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsxs("div",{className:"flex items-center space-x-2 space-x-reverse",children:[i.jsx("div",{className:`p-1 rounded ${L.color} text-white`,children:i.jsx(z,{className:"w-4 h-4"})}),i.jsx("div",{className:"text-sm font-medium truncate",children:U.name})]}),i.jsxs("div",{className:"flex items-center space-x-1 space-x-reverse",children:[U.status==="running"&&i.jsx(Rs,{className:"w-4 h-4 text-yellow-500 animate-pulse"}),U.status==="completed"&&i.jsx(r5e,{className:"w-4 h-4 text-green-500"}),U.status==="failed"&&i.jsx(jl,{className:"w-4 h-4 text-red-500"}),i.jsx(xe,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0",onClick:$=>{$.stopPropagation(),_(U.id)},children:i.jsx(vS,{className:"w-3 h-3"})})]})]}),i.jsx("div",{className:"text-xs text-gray-500 truncate",children:U.description}),i.jsx("div",{className:"absolute -right-2 top-1/2 transform -translate-y-1/2 w-4 h-4 bg-blue-500 rounded-full border-2 border-white"}),i.jsx("div",{className:"absolute -left-2 top-1/2 transform -translate-y-1/2 w-4 h-4 bg-green-500 rounded-full border-2 border-white"})]},U.id)}),t.nodes.length===0&&i.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:i.jsxs("div",{className:"text-center text-gray-500",children:[i.jsx(vr,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),i.jsx("div",{className:"text-lg font-medium mb-2",children:"ابدأ ببناء سير عملك"}),i.jsx("div",{className:"text-sm",children:"اسحب العقد من اللوحة الجانبية إلى هنا"})]})})]})]}),i.jsx(Xc,{open:d,onOpenChange:h,children:i.jsxs(oc,{className:"max-w-2xl",dir:"rtl",children:[i.jsxs(lc,{children:[i.jsx(cc,{children:"قوالب سير العمل"}),i.jsx(Ww,{children:"اختر قالباً جاهزاً لبدء سير عملك"})]}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:g.map(U=>i.jsxs(ae,{className:"cursor-pointer hover:shadow-lg transition-shadow",children:[i.jsxs(Te,{children:[i.jsx(ke,{className:"text-lg",children:U.name}),i.jsx(Pt,{children:U.description})]}),i.jsx(oe,{children:i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex justify-between text-sm",children:[i.jsx("span",{children:"التعقيد:"}),i.jsx(He,{variant:U.complexity==="high"?"destructive":"secondary",children:U.complexity==="high"?"عالي":"منخفض"})]}),i.jsxs("div",{className:"flex justify-between text-sm",children:[i.jsx("span",{children:"الوقت المتوقع:"}),i.jsx("span",{className:"text-gray-600",children:U.estimated_time})]}),i.jsxs("div",{className:"text-sm",children:[i.jsx("span",{children:"المراحل: "}),i.jsx("span",{className:"text-gray-600",children:U.stages.join(", ")})]}),i.jsx(xe,{className:"w-full mt-4",onClick:()=>j(U.id),children:"استخدام هذا القالب"})]})})]},U.id))})]})})]})},GMe=({template:t,stages:e,journeyMode:n,isCustomizationMode:r,onCustomizeStage:s,onModeChange:a})=>{const{state:o,dispatch:l}=Ju(),{toast:c}=ki(),[u,d]=E.useState(0),[h,f]=E.useState([]),[A,v]=E.useState({}),[p,m]=E.useState(!1),[g,x]=E.useState(!1),[b,j]=E.useState(null),N={1:Epe,2:Bpe,3:Ome,4:Mme,5:Lme,6:qme};E.useEffect(()=>{_()},[o]);const _=()=>{const W=[];e.forEach(Y=>{let ee=!1;switch(Y.id){case 1:ee=!!o.sourceAnalysis;break;case 2:ee=!!o.selectedIdea;break;case 3:ee=!!o.novelBlueprint;break;case 4:ee=o.generatedChapters.length>0;break;case 5:ee=o.generatedChapters.some(ie=>ie.status==="edited");break;case 6:ee=!!o.finalProject;break}ee&&W.push(Y.id)}),f(W)},C=W=>{if(W>=0&&W<e.length){d(W);const Y=e[W];l({type:"SET_CURRENT_STAGE",payload:Y.id})}},k=()=>{u<e.length-1&&C(u+1)},T=()=>{u>0&&C(u-1)},O=async W=>{try{m(!0);const Y=e.find(ee=>ee.id===W);if(!Y)return;switch(Y.type){case"analyze_novel":await I();break;case"generate_ideas":await F();break;case"build_blueprint":await M();break;case"generate_chapter":await S();break;case"refine_text":await q();break;case"generate_report":await U();break}c({title:"تم تشغيل المرحلة",description:`تم تشغيل ${Y.title} بنجاح`})}catch(Y){console.error("خطأ في تشغيل المرحلة:",Y),c({title:"خطأ في التشغيل",description:"حدث خطأ أثناء تشغيل المرحلة تلقائياً",variant:"destructive"})}finally{m(!1)}},I=async()=>{},F=async()=>{},M=async()=>{},S=async()=>{},q=async()=>{},U=async()=>{},L=W=>{n==="custom"||n==="hybrid"?(s(W),x(!0)):c({title:"غير متاح في هذا النمط",description:"التخصيص متاح فقط في الأنماط المخصصة والمختلطة",variant:"destructive"})},z=async()=>{try{const W={template_id:t.id,current_stage:u,completed_stages:h,stage_progress:A,journey_mode:n,custom_workflow:b};(await fetch("/api/workflows/save-progress",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(W)})).ok&&c({title:"تم حفظ التقدم",description:"تم حفظ تقدمك في الرحلة بنجاح"})}catch(W){console.error("خطأ في حفظ التقدم:",W)}},$=()=>Math.round(h.length/e.length*100),K=e[u],V=K?N[K.id]:null,H=()=>{switch(n){case"guided":return DD;case"custom":return __;case"hybrid":return mp;default:return DD}};return i.jsxs("div",{className:"space-y-6",children:[i.jsx(ae,{className:"border-l-4 border-l-blue-500",children:i.jsx(Te,{className:"pb-4",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[pe.createElement(H(),{className:"h-5 w-5 text-blue-600"}),i.jsx("span",{className:"font-semibold",children:t.name})]}),i.jsx(He,{variant:"outline",children:n==="guided"?"موجهة":n==="custom"?"مخصصة":"مختلطة"})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsxs(xe,{variant:"outline",size:"sm",onClick:z,children:[i.jsx(Ko,{className:"h-4 w-4 mr-2"}),"حفظ التقدم"]}),(n==="custom"||n==="hybrid")&&i.jsxs(sUe,{open:g,onOpenChange:x,children:[i.jsx(aUe,{asChild:!0,children:i.jsxs(xe,{variant:"outline",size:"sm",children:[i.jsx(Np,{className:"h-4 w-4 mr-2"}),"محرر سير العمل"]})}),i.jsxs(Kme,{side:"left",className:"w-full sm:max-w-4xl",children:[i.jsxs(Gme,{children:[i.jsx(Xme,{children:"محرر سير العمل المخصص"}),i.jsx(Yme,{children:"قم بتخصيص مراحل رحلة الكتابة حسب احتياجاتك"})]}),i.jsx("div",{className:"mt-6 h-[calc(100vh-120px)]",children:i.jsx(Exe,{})})]})]})]})]})})}),i.jsxs(ae,{children:[i.jsxs(Te,{children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsx(ke,{className:"text-lg",children:"مراحل الرحلة"}),i.jsxs("div",{className:"text-sm text-gray-600",children:["التقدم: ",$(),"% (",h.length,"/",e.length,")"]})]}),i.jsx(tt,{value:$(),className:"w-full"})]}),i.jsx(oe,{children:i.jsx("div",{className:"grid gap-4",children:e.map((W,Y)=>{const ee=W.icon,ie=Y===u,se=h.includes(W.id),Ae=W.customizable&&(n==="custom"||n==="hybrid");return i.jsx(wl.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:Y*.1},children:i.jsx(ae,{className:`cursor-pointer transition-all duration-200 ${ie?"border-blue-500 border-2 shadow-md":se?"border-green-500 border bg-green-50":"border hover:shadow-sm"}`,onClick:()=>C(Y),children:i.jsx(oe,{className:"p-4",children:i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsxs("div",{className:`p-3 rounded-lg ${W.color} text-white relative`,children:[i.jsx(ee,{className:"h-6 w-6"}),se&&i.jsx("div",{className:"absolute -top-1 -right-1 w-5 h-5 bg-green-500 rounded-full flex items-center justify-center",children:i.jsx(Rt,{className:"h-3 w-3 text-white"})})]}),i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[i.jsx("h3",{className:"font-semibold",children:W.title}),ie&&i.jsx(He,{className:"text-xs",children:"الحالية"}),se&&i.jsx(He,{variant:"outline",className:"text-xs text-green-600",children:"مكتملة"}),W.required&&i.jsx(He,{variant:"destructive",className:"text-xs",children:"مطلوبة"})]}),i.jsx("p",{className:"text-sm text-gray-600 mb-2",children:W.description}),i.jsxs("div",{className:"flex items-center gap-4 text-xs text-gray-500",children:[i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(xr,{className:"h-3 w-3"}),W.estimatedTime]}),Ae&&i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(Qr,{className:"h-3 w-3"}),"قابل للتخصيص"]})]})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[ie&&n==="guided"&&i.jsxs(xe,{size:"sm",variant:"outline",onClick:he=>{he.stopPropagation(),O(W.id)},disabled:p,children:[p?i.jsx(dx,{className:"h-4 w-4 animate-spin"}):i.jsx(vr,{className:"h-4 w-4"}),"تشغيل تلقائي"]}),Ae&&i.jsxs(xe,{size:"sm",variant:"outline",onClick:he=>{he.stopPropagation(),L(W.id)},children:[i.jsx(__,{className:"h-4 w-4"}),"تخصيص"]})]})]})})})},W.id)})})})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs(xe,{variant:"outline",onClick:T,disabled:u===0,children:[i.jsx(ea,{className:"h-4 w-4 mr-2"}),"المرحلة السابقة"]}),i.jsx("div",{className:"flex items-center gap-2",children:i.jsxs("span",{className:"text-sm text-gray-600",children:["المرحلة ",u+1," من ",e.length]})}),i.jsxs(xe,{onClick:k,disabled:u===e.length-1,children:["المرحلة التالية",i.jsx(AS,{className:"h-4 w-4 ml-2"})]})]}),i.jsx(a3,{mode:"wait",children:V&&i.jsx(wl.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.3},children:i.jsxs(ae,{children:[i.jsx(Te,{children:i.jsxs("div",{className:"flex items-center gap-3",children:[pe.createElement(K.icon,{className:`h-6 w-6 text-white p-1 rounded ${K.color}`}),i.jsxs("div",{children:[i.jsx(ke,{children:K.title}),i.jsx(Pt,{children:K.description})]})]})}),i.jsx(oe,{children:i.jsx(V,{})})]})},K.id)}),r&&i.jsx(ae,{className:"border-orange-200 bg-orange-50",children:i.jsx(oe,{className:"p-4",children:i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx(nr,{className:"h-5 w-5 text-orange-600 mt-0.5"}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-semibold text-orange-800 mb-1",children:"وضع التخصيص مفعل"}),i.jsx("p",{className:"text-sm text-orange-700",children:"يمكنك الآن تخصيص المراحل، إضافة خطوات جديدة، أو تعديل التسلسل. استخدم محرر سير العمل للحصول على تحكم كامل."})]})]})})})]})};var XMe="Separator",DZ="horizontal",YMe=["horizontal","vertical"],Bxe=E.forwardRef((t,e)=>{const{decorative:n,orientation:r=DZ,...s}=t,a=JMe(r)?r:DZ,l=n?{role:"none"}:{"aria-orientation":a==="vertical"?a:void 0,role:"separator"};return i.jsx(Jt.div,{"data-orientation":a,...l,...s,ref:e})});Bxe.displayName=XMe;function JMe(t){return YMe.includes(t)}var Dxe=Bxe;const Ns=E.forwardRef(({className:t,orientation:e="horizontal",decorative:n=!0,...r},s)=>i.jsx(Dxe,{ref:s,decorative:n,orientation:e,className:Vt("shrink-0 bg-zinc-200 dark:bg-zinc-800",e==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",t),...r}));Ns.displayName=Dxe.displayName;const ZMe=({onSelection:t,defaultStages:e})=>{const[n,r]=E.useState("guided"),[s,a]=E.useState(null),[o,l]=E.useState(!1),c=[{id:"guided",name:"الرحلة الموجهة",description:"رحلة منظمة مع خطوات محددة مسبقاً",icon:DD,color:"text-blue-600",bgColor:"bg-blue-50",borderColor:"border-blue-200",features:["مراحل محددة مسبقاً","توجيه خطوة بخطوة","مناسبة للمبتدئين","ضمان عدم تفويت خطوات مهمة"],estimatedTime:"1-2 ساعة",difficulty:"سهل"},{id:"custom",name:"الرحلة المخصصة",description:"تحكم كامل في بناء سير العمل حسب احتياجاتك",icon:__,color:"text-purple-600",bgColor:"bg-purple-50",borderColor:"border-purple-200",features:["تخصيص كامل للمراحل","إضافة أو حذف خطوات","مرونة في الترتيب","مناسبة للخبراء"],estimatedTime:"2-4 ساعات",difficulty:"متقدم"},{id:"hybrid",name:"الرحلة المختلطة",description:"توازن بين التوجيه والمرونة",icon:mp,color:"text-green-600",bgColor:"bg-green-50",borderColor:"border-green-200",features:["مراحل أساسية ثابتة","خيارات تخصيص اختيارية","مرونة متوسطة","مناسبة للجميع"],estimatedTime:"1.5-3 ساعات",difficulty:"متوسط"}],u=[{id:"analyze",name:"تحليل رواية موجودة",description:"ابدأ بتحليل رواية مصدر لاستخلاص الأسلوب",icon:zt,color:"text-blue-600",bgColor:"bg-blue-50",stages:[1,2,3,4,5,6],estimatedTime:"2-3 ساعات",benefits:["تحليل عميق للأسلوب الأدبي","استخلاص البنية والشخصيات","إنشاء روايات مشابهة في الأسلوب","الحفاظ على الأصالة العربية"]},{id:"new",name:"إنشاء رواية جديدة",description:"ابدأ مباشرة من توليد أفكار جديدة",icon:nr,color:"text-green-600",bgColor:"bg-green-50",stages:[2,3,4,5,6],estimatedTime:"1.5-2 ساعة",benefits:["إبداع حر بدون قيود","توليد أفكار متنوعة","سرعة في البداية","مرونة في التطوير"]},{id:"continue",name:"إكمال مشروع موجود",description:"تابع العمل على مشروع بدأته مسبقاً",icon:xa,color:"text-orange-600",bgColor:"bg-orange-50",stages:"متغيرة",estimatedTime:"حسب التقدم",benefits:["استكمال العمل السابق","تحسين المحتوى الموجود","إضافة مراحل جديدة","مراجعة وتطوير"]},{id:"template",name:"قالب مخصص",description:"استخدم قالب سير عمل جاهز أو أنشئ واحداً جديداً",icon:Np,color:"text-purple-600",bgColor:"bg-purple-50",stages:"قابلة للتخصيص",estimatedTime:"متغير",benefits:["قوالب جاهزة ومجربة","توفير الوقت","مشاركة أفضل الممارسات","قابلية التخصيص الكاملة"]}],d=()=>{if(!s||!n)return null;const A=u.find(m=>m.id===s),v=c.find(m=>m.id===n);if(!A||!v)return null;const p=Array.isArray(A.stages)?e.filter(m=>A.stages.includes(m.id)):e;return{name:`${v.name} - ${A.name}`,description:`${v.description} مع ${A.description}`,stages:p,estimatedTime:A.estimatedTime,difficulty:v.difficulty,features:[...v.features,...A.benefits]}},h=()=>{n&&s&&t(n,s)},f=d();return i.jsxs("div",{className:"container mx-auto px-4 py-8 max-w-6xl",children:[i.jsxs("div",{className:"text-center mb-12",children:[i.jsxs("div",{className:"flex items-center justify-center gap-4 mb-6",children:[i.jsx(Qn,{className:"h-12 w-12 text-blue-600 animate-pulse"}),i.jsx("h1",{className:"text-4xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:"اختر رحلة الكتابة المناسبة"}),i.jsx(dr,{className:"h-12 w-12 text-purple-600 animate-pulse"})]}),i.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto",children:"نقدم لك خيارات متنوعة لبدء رحلة الكتابة الذكية. اختر النمط والبداية المناسبة لأهدافك ومستوى خبرتك"})]}),i.jsxs(zn,{defaultValue:"mode",className:"w-full",children:[i.jsxs(On,{className:"grid w-full grid-cols-3 mb-8",children:[i.jsxs(nt,{value:"mode",className:"flex items-center gap-2",children:[i.jsx(__,{className:"h-4 w-4"}),"اختيار النمط"]}),i.jsxs(nt,{value:"start",className:"flex items-center gap-2",children:[i.jsx(xa,{className:"h-4 w-4"}),"نقطة البداية"]}),i.jsxs(nt,{value:"preview",className:"flex items-center gap-2",children:[i.jsx(Vn,{className:"h-4 w-4"}),"معاينة الرحلة"]})]}),i.jsxs(rt,{value:"mode",className:"space-y-6",children:[i.jsxs("div",{className:"text-center mb-6",children:[i.jsx("h2",{className:"text-2xl font-bold mb-2",children:"اختر نمط الرحلة"}),i.jsx("p",{className:"text-gray-600",children:"حدد مستوى التحكم والتوجيه المطلوب"})]}),i.jsx("div",{className:"grid md:grid-cols-3 gap-6",children:c.map(A=>{const v=A.icon,p=n===A.id;return i.jsx(wl.div,{whileHover:{scale:1.02},whileTap:{scale:.98},children:i.jsxs(ae,{className:`cursor-pointer transition-all duration-200 ${p?`${A.borderColor} border-2 shadow-lg`:"border hover:shadow-md"}`,onClick:()=>r(A.id),children:[i.jsxs(Te,{className:`text-center ${A.bgColor} rounded-t-lg`,children:[i.jsx("div",{className:"flex justify-center mb-3",children:i.jsx(v,{className:`h-12 w-12 ${A.color}`})}),i.jsxs(ke,{className:"flex items-center justify-center gap-2",children:[A.name,p&&i.jsx(Rt,{className:"h-5 w-5 text-green-600"})]}),i.jsx(Pt,{children:A.description})]}),i.jsx(oe,{className:"p-6",children:i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx(He,{variant:"outline",className:"text-xs",children:A.difficulty}),i.jsxs("div",{className:"flex items-center gap-1 text-sm text-gray-600",children:[i.jsx(xr,{className:"h-4 w-4"}),A.estimatedTime]})]}),i.jsx(Ns,{}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-semibold mb-2 text-sm",children:"المميزات:"}),i.jsx("ul",{className:"space-y-1",children:A.features.map((m,g)=>i.jsxs("li",{className:"flex items-start gap-2 text-sm",children:[i.jsx("div",{className:"w-1.5 h-1.5 bg-gray-400 rounded-full mt-2 flex-shrink-0"}),m]},g))})]})]})})]})},A.id)})})]}),i.jsxs(rt,{value:"start",className:"space-y-6",children:[i.jsxs("div",{className:"text-center mb-6",children:[i.jsx("h2",{className:"text-2xl font-bold mb-2",children:"اختر نقطة البداية"}),i.jsx("p",{className:"text-gray-600",children:"حدد من أين تريد أن تبدأ رحلة الكتابة"})]}),i.jsx("div",{className:"grid md:grid-cols-2 gap-6",children:u.map(A=>{const v=A.icon,p=s===A.id;return i.jsx(wl.div,{whileHover:{scale:1.01},whileTap:{scale:.99},children:i.jsxs(ae,{className:`cursor-pointer transition-all duration-200 ${p?"border-blue-500 border-2 shadow-lg":"border hover:shadow-md"}`,onClick:()=>a(A.id),children:[i.jsx(Te,{className:`${A.bgColor} rounded-t-lg`,children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(v,{className:`h-8 w-8 ${A.color}`}),i.jsxs("div",{className:"flex-1",children:[i.jsxs(ke,{className:"flex items-center justify-between",children:[A.name,p&&i.jsx(Rt,{className:"h-5 w-5 text-green-600"})]}),i.jsx(Pt,{children:A.description})]})]})}),i.jsx(oe,{className:"p-6",children:i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsxs("div",{className:"flex items-center gap-1 text-sm text-gray-600",children:[i.jsx(xr,{className:"h-4 w-4"}),A.estimatedTime]}),i.jsxs("div",{className:"flex items-center gap-1 text-sm text-gray-600",children:[i.jsx(mp,{className:"h-4 w-4"}),Array.isArray(A.stages)?`${A.stages.length} مراحل`:A.stages]})]}),i.jsx(Ns,{}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-semibold mb-2 text-sm",children:"الفوائد:"}),i.jsx("ul",{className:"space-y-1",children:A.benefits.map((m,g)=>i.jsxs("li",{className:"flex items-start gap-2 text-sm",children:[i.jsx("div",{className:"w-1.5 h-1.5 bg-gray-400 rounded-full mt-2 flex-shrink-0"}),m]},g))})]})]})})]})},A.id)})})]}),i.jsx(rt,{value:"preview",className:"space-y-6",children:f?i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"text-center",children:[i.jsx("h2",{className:"text-2xl font-bold mb-2",children:"معاينة الرحلة المختارة"}),i.jsx("p",{className:"text-gray-600",children:"مراجعة التفاصيل قبل البدء"})]}),i.jsxs(ae,{className:"border-2 border-blue-200 bg-blue-50",children:[i.jsxs(Te,{children:[i.jsxs(ke,{className:"flex items-center gap-2",children:[i.jsx(Ha,{className:"h-6 w-6 text-blue-600"}),f.name]}),i.jsx(Pt,{children:f.description})]}),i.jsxs(oe,{className:"space-y-6",children:[i.jsxs("div",{className:"grid md:grid-cols-3 gap-4",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(xr,{className:"h-5 w-5 text-gray-600"}),i.jsxs("div",{children:[i.jsx("div",{className:"font-semibold text-sm",children:"الوقت المتوقع"}),i.jsx("div",{className:"text-sm text-gray-600",children:f.estimatedTime})]})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(En,{className:"h-5 w-5 text-gray-600"}),i.jsxs("div",{children:[i.jsx("div",{className:"font-semibold text-sm",children:"مستوى الصعوبة"}),i.jsx("div",{className:"text-sm text-gray-600",children:f.difficulty})]})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(mp,{className:"h-5 w-5 text-gray-600"}),i.jsxs("div",{children:[i.jsx("div",{className:"font-semibold text-sm",children:"عدد المراحل"}),i.jsxs("div",{className:"text-sm text-gray-600",children:[f.stages.length," مرحلة"]})]})]})]}),i.jsx(Ns,{}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-semibold mb-4",children:"المراحل المتضمنة:"}),i.jsx("div",{className:"grid gap-3",children:f.stages.map((A,v)=>{const p=A.icon;return i.jsxs("div",{className:"flex items-center gap-3 p-3 bg-white rounded-lg border",children:[i.jsx("div",{className:`p-2 rounded-lg ${A.color} text-white`,children:i.jsx(p,{className:"h-4 w-4"})}),i.jsxs("div",{className:"flex-1",children:[i.jsx("div",{className:"font-semibold text-sm",children:A.title}),i.jsx("div",{className:"text-xs text-gray-600",children:A.description})]}),i.jsx("div",{className:"text-xs text-gray-500",children:A.estimatedTime})]},A.id)})})]}),i.jsx(Ns,{}),i.jsx("div",{className:"text-center",children:i.jsxs(xe,{size:"lg",onClick:h,className:"bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700",children:[i.jsx(ea,{className:"h-5 w-5 mr-2"}),"بدء الرحلة"]})})]})]})]}):i.jsxs("div",{className:"text-center py-12",children:[i.jsx("div",{className:"text-gray-400 mb-4",children:i.jsx(Vn,{className:"h-16 w-16 mx-auto"})}),i.jsx("h3",{className:"text-lg font-semibold text-gray-600 mb-2",children:"لم يتم الاختيار بعد"}),i.jsx("p",{className:"text-gray-500",children:"اختر نمط الرحلة ونقطة البداية لمعاينة التفاصيل"})]})})]})]})},eLe=()=>{var k;const{state:t,dispatch:e}=Ju(),{toast:n}=ki(),[r,s]=E.useState("guided"),[a,o]=E.useState(null),[l,c]=E.useState(!0),[u,d]=E.useState(null),[h,f]=E.useState([]),[A,v]=E.useState(!1),p=[{id:1,title:"تحليل الرواية المصدر",description:"تحليل عميق للأسلوب والبنية والشخصيات",icon:zt,color:"bg-blue-500",type:"analyze_novel",required:!1,customizable:!0,estimatedTime:"10-15 دقيقة"},{id:2,title:"معمل الأفكار المحسن",description:"توليد أفكار مبدعة مبنية على التحليل",icon:nr,color:"bg-green-500",type:"generate_ideas",required:!0,customizable:!0,estimatedTime:"5-10 دقائق"},{id:3,title:"باني المخطط الذكي",description:"بناء مخطط شامل للرواية الجديدة",icon:xn,color:"bg-purple-500",type:"build_blueprint",required:!0,customizable:!0,estimatedTime:"15-20 دقيقة"},{id:4,title:"مولد الفصول الموجه",description:"توليد الفصول بالذكاء الاصطناعي",icon:ga,color:"bg-orange-500",type:"generate_chapter",required:!0,customizable:!0,estimatedTime:"20-30 دقيقة"},{id:5,title:"المحرر التفاعلي المتقدم",description:"تحرير وتحسين الفصول بأدوات ذكية",icon:Gu,color:"bg-indigo-500",type:"refine_text",required:!1,customizable:!0,estimatedTime:"30-60 دقيقة"},{id:6,title:"التنقيح والتصدير النهائي",description:"مراجعة نهائية وتصدير المشروع",icon:gr,color:"bg-pink-500",type:"generate_report",required:!0,customizable:!1,estimatedTime:"10-15 دقيقة"}];E.useEffect(()=>{a&&r&&!u&&m()},[a,r]);const m=async()=>{try{let T=[...p];switch(a){case"analyze":break;case"new":T=T.filter(I=>I.id>=2);break;case"continue":T=T.filter(I=>I.id>=t.currentStage);break;case"template":break}const O={id:`template_${Date.now()}`,name:b(),description:j(),mode:r,stages:T.map((I,F)=>({...I,position:{x:100,y:F*120+100},connections:F<T.length-1?[T[F+1].id]:[]})),metadata:{created:new Date().toISOString(),startChoice:a,estimatedTotalTime:x(T)}};d(O),f(T),await g(O),n({title:"تم إنشاء رحلة العمل",description:`تم إنشاء رحلة ${O.name} بنجاح`})}catch(T){console.error("خطأ في إنشاء قالب سير العمل:",T),n({title:"خطأ في إنشاء الرحلة",description:"تعذر إنشاء رحلة العمل. جارٍ استخدام الإعدادات الافتراضية.",variant:"destructive"})}},g=async T=>{try{const O=await fetch("/api/workflows/save",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:T.name,description:T.description,workflow_data:T,is_template:!0,template_category:"unified_journey"})});if(!O.ok)throw new Error("فشل في حفظ القالب");const I=await O.json();I.success&&d({...T,id:I.workflow_id})}catch(O){console.error("خطأ في حفظ قالب سير العمل:",O)}},x=T=>{const O=T.reduce((M,S)=>{const U=(S.estimatedTime||"0 دقيقة").match(/(\d+)/g);if(U){const L=U.length>1?(parseInt(U[0])+parseInt(U[1]))/2:parseInt(U[0]);return M+L}return M},0),I=Math.floor(O/60),F=O%60;return I>0?`${I} ساعة و ${F} دقيقة`:`${F} دقيقة`},b=()=>({analyze:"رحلة التحليل الشاملة",new:"رحلة الإبداع الحر",continue:"رحلة الإكمال",template:"رحلة مخصصة"})[a]||"رحلة موحدة",j=()=>({analyze:"رحلة كاملة تبدأ من تحليل رواية مصدر وتنتهي بإنتاج رواية جديدة",new:"رحلة إبداعية تبدأ من توليد الأفكار مباشرة",continue:"رحلة لإكمال مشروع موجود",template:"رحلة مخصصة حسب احتياجاتك"})[a]||"رحلة موحدة للكتابة",N=T=>{s(T),d(null)},_=T=>{v(!0),n({title:"وضع التخصيص",description:"يمكنك الآن تخصيص هذه المرحلة حسب احتياجاتك"})},C=()=>{c(!0),o(null),d(null),f([]),v(!1),e({type:"CLEAR_LOCAL_STORAGE"})};return l?i.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-purple-50",children:i.jsx(ZMe,{onSelection:(T,O)=>{s(T),o(O),c(!1)},defaultStages:p})}):i.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-purple-50",children:[i.jsx("div",{className:"relative overflow-hidden border-b bg-white/80 backdrop-blur",children:i.jsxs("div",{className:"container mx-auto px-4 py-6",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsxs(xe,{variant:"outline",size:"sm",onClick:C,className:"flex items-center gap-2",children:[i.jsx(gce,{className:"h-4 w-4"}),"الرئيسية"]}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsxs("div",{className:"relative",children:[i.jsx(Qn,{className:"h-8 w-8 text-blue-600"}),i.jsx("div",{className:"absolute -top-1 -right-1 w-3 h-3 bg-purple-500 rounded-full"})]}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:(u==null?void 0:u.name)||"الرحلة الموحدة"}),i.jsx("p",{className:"text-sm text-gray-600",children:(u==null?void 0:u.description)||"رحلة الكتابة الذكية المخصصة"})]})]})]}),i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsxs(He,{variant:"outline",className:"flex items-center gap-2",children:[r==="guided"&&i.jsx(DD,{className:"h-4 w-4"}),r==="custom"&&i.jsx(__,{className:"h-4 w-4"}),r==="hybrid"&&i.jsx(mp,{className:"h-4 w-4"}),r==="guided"?"موجهة":r==="custom"?"مخصصة":"مختلطة"]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Dt,{htmlFor:"customization-mode",className:"text-sm",children:"وضع التخصيص"}),i.jsx(zo,{id:"customization-mode",checked:A,onCheckedChange:v})]}),u&&i.jsxs("div",{className:"text-right",children:[i.jsxs("div",{className:"text-sm text-gray-600 mb-1",children:["التقدم العام: ",Math.round(t.currentStage/h.length*100),"%"]}),i.jsx(tt,{value:t.currentStage/h.length*100,className:"w-32"})]})]})]}),u&&i.jsxs("div",{className:"mt-4 flex items-center gap-6 text-sm text-gray-600",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(xr,{className:"h-4 w-4"}),"الوقت المتوقع: ",(k=u.metadata)==null?void 0:k.estimatedTotalTime]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(mp,{className:"h-4 w-4"}),"المراحل: ",h.length]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Rt,{className:"h-4 w-4"}),"المكتملة: ",h.filter(T=>{switch(T.id){case 1:return!!t.sourceAnalysis;case 2:return!!t.selectedIdea;case 3:return!!t.novelBlueprint;case 4:return t.generatedChapters.length>0;case 5:return t.generatedChapters.some(O=>O.status==="edited");case 6:return!!t.finalProject;default:return!1}}).length]})]})]})}),i.jsx("div",{className:"container mx-auto px-4 py-8",children:u?i.jsx(GMe,{template:u,stages:h,journeyMode:r,isCustomizationMode:A,onCustomizeStage:_,onModeChange:N}):i.jsx("div",{className:"flex items-center justify-center py-12",children:i.jsxs(ae,{className:"w-full max-w-md text-center",children:[i.jsxs(Te,{children:[i.jsxs(ke,{className:"flex items-center justify-center gap-2",children:[i.jsx(Ha,{className:"h-6 w-6 text-blue-600"}),"جارٍ إنشاء رحلتك"]}),i.jsx(Pt,{children:"يتم تجهيز رحلة الكتابة الموحدة حسب اختياراتك..."})]}),i.jsx(oe,{children:i.jsxs("div",{className:"space-y-4",children:[i.jsx(tt,{value:66,className:"w-full"}),i.jsxs(xe,{variant:"outline",onClick:m,className:"w-full",children:[i.jsx(dx,{className:"h-4 w-4 mr-2"}),"إعادة المحاولة"]})]})})]})})})]})},tLe=()=>i.jsx("div",{className:"h-screen w-full",children:i.jsx(Exe,{})}),nLe="modulepreload",rLe=function(t){return"/"+t},TZ={},c3=function(e,n,r){let s=Promise.resolve();if(n&&n.length>0){let o=function(u){return Promise.all(u.map(d=>Promise.resolve(d).then(h=>({status:"fulfilled",value:h}),h=>({status:"rejected",reason:h}))))};document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),c=(l==null?void 0:l.nonce)||(l==null?void 0:l.getAttribute("nonce"));s=o(n.map(u=>{if(u=rLe(u),u in TZ)return;TZ[u]=!0;const d=u.endsWith(".css"),h=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${h}`))return;const f=document.createElement("link");if(f.rel=d?"stylesheet":nLe,d||(f.as="script"),f.crossOrigin="",f.href=u,c&&f.setAttribute("nonce",c),document.head.appendChild(f),d)return new Promise((A,v)=>{f.addEventListener("load",A),f.addEventListener("error",()=>v(new Error(`Unable to preload CSS for ${u}`)))})}))}function a(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return s.then(o=>{for(const l of o||[])l.status==="rejected"&&a(l.reason);return e().catch(a)})};var dI={exports:{}},hI={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kZ;function iLe(){if(kZ)return hI;kZ=1;var t=hS();function e(h,f){return h===f&&(h!==0||1/h===1/f)||h!==h&&f!==f}var n=typeof Object.is=="function"?Object.is:e,r=t.useState,s=t.useEffect,a=t.useLayoutEffect,o=t.useDebugValue;function l(h,f){var A=f(),v=r({inst:{value:A,getSnapshot:f}}),p=v[0].inst,m=v[1];return a(function(){p.value=A,p.getSnapshot=f,c(p)&&m({inst:p})},[h,A,f]),s(function(){return c(p)&&m({inst:p}),h(function(){c(p)&&m({inst:p})})},[h]),o(A),A}function c(h){var f=h.getSnapshot;h=h.value;try{var A=f();return!n(h,A)}catch{return!0}}function u(h,f){return f()}var d=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?u:l;return hI.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:d,hI}var FZ;function Txe(){return FZ||(FZ=1,dI.exports=iLe()),dI.exports}var sLe=Txe();function aLe(){return sLe.useSyncExternalStore(oLe,()=>!0,()=>!1)}function oLe(){return()=>{}}var mW="Avatar",[lLe,Umt]=qa(mW),[cLe,kxe]=lLe(mW),Fxe=E.forwardRef((t,e)=>{const{__scopeAvatar:n,...r}=t,[s,a]=E.useState("idle");return i.jsx(cLe,{scope:n,imageLoadingStatus:s,onImageLoadingStatusChange:a,children:i.jsx(Jt.span,{...r,ref:e})})});Fxe.displayName=mW;var Pxe="AvatarImage",Uxe=E.forwardRef((t,e)=>{const{__scopeAvatar:n,src:r,onLoadingStatusChange:s=()=>{},...a}=t,o=kxe(Pxe,n),l=uLe(r,a),c=Gs(u=>{s(u),o.onImageLoadingStatusChange(u)});return Qs(()=>{l!=="idle"&&c(l)},[l,c]),l==="loaded"?i.jsx(Jt.img,{...a,ref:e,src:r}):null});Uxe.displayName=Pxe;var Ixe="AvatarFallback",Oxe=E.forwardRef((t,e)=>{const{__scopeAvatar:n,delayMs:r,...s}=t,a=kxe(Ixe,n),[o,l]=E.useState(r===void 0);return E.useEffect(()=>{if(r!==void 0){const c=window.setTimeout(()=>l(!0),r);return()=>window.clearTimeout(c)}},[r]),o&&a.imageLoadingStatus!=="loaded"?i.jsx(Jt.span,{...s,ref:e}):null});Oxe.displayName=Ixe;function PZ(t,e){return t?e?(t.src!==e&&(t.src=e),t.complete&&t.naturalWidth>0?"loaded":"loading"):"error":"idle"}function uLe(t,{referrerPolicy:e,crossOrigin:n}){const r=aLe(),s=E.useRef(null),a=r?(s.current||(s.current=new window.Image),s.current):null,[o,l]=E.useState(()=>PZ(a,t));return Qs(()=>{l(PZ(a,t))},[a,t]),Qs(()=>{const c=h=>()=>{l(h)};if(!a)return;const u=c("loaded"),d=c("error");return a.addEventListener("load",u),a.addEventListener("error",d),e&&(a.referrerPolicy=e),typeof n=="string"&&(a.crossOrigin=n),()=>{a.removeEventListener("load",u),a.removeEventListener("error",d)}},[a,n,e]),o}var Mxe=Fxe,Lxe=Uxe,Rxe=Oxe;const g9=E.forwardRef(({className:t,...e},n)=>i.jsx(Mxe,{ref:n,className:Vt("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",t),...e}));g9.displayName=Mxe.displayName;const x9=E.forwardRef(({className:t,...e},n)=>i.jsx(Lxe,{ref:n,className:Vt("aspect-square h-full w-full",t),...e}));x9.displayName=Lxe.displayName;const v9=E.forwardRef(({className:t,...e},n)=>i.jsx(Rxe,{ref:n,className:Vt("flex h-full w-full items-center justify-center rounded-full bg-zinc-100 dark:bg-zinc-800",t),...e}));v9.displayName=Rxe.displayName;pe.lazy(()=>c3(()=>import("./AgentFlowCanvas-BJEUpuIh.js"),[]));const dLe=()=>{const[t,e]=E.useState([]),[n,r]=E.useState(null),[s,a]=E.useState([]),[o,l]=E.useState(null),[c,u]=E.useState([]),[d,h]=E.useState(!0),[f,A]=E.useState("overview"),[v,p]=E.useState(!1),[m,g]=E.useState(!1),[x,b]=E.useState(!1),[j,N]=E.useState(""),[_,C]=E.useState("all"),[k,T]=E.useState(!1);KMe();const O=async()=>{try{const L=await(await fetch("/api/agents")).json();L.success&&e(L.data)}catch(U){console.error("خطأ في جلب الوكلاء:",U)}},I=async()=>{try{const L=await(await fetch("/api/agents/statistics")).json();L.success&&l(L.data)}catch(U){console.error("خطأ في جلب الإحصائيات:",U)}},F=async U=>{try{const z=await(await fetch(`/api/agents/${U}/messages`)).json();z.success&&a(z.data)}catch(L){console.error("خطأ في جلب رسائل الوكيل:",L)}};E.useEffect(()=>{(async()=>{h(!0),await Promise.all([O(),I()]),h(!1)})();const L=setInterval(()=>{O(),I(),n&&F(n.agent_id)},5e3);return()=>clearInterval(L)},[n]);const M=U=>{switch(U){case"working":return"bg-green-500";case"idle":return"bg-blue-500";case"waiting":return"bg-yellow-500";case"error":return"bg-red-500";case"paused":return"bg-gray-500";default:return"bg-gray-400"}},S=U=>{switch(U){case"working":return"يعمل";case"idle":return"خامل";case"waiting":return"في انتظار";case"error":return"خطأ";case"paused":return"متوقف";default:return"غير معروف"}},q=U=>{switch(U){case"idea_generator":return i.jsx(zt,{className:"w-6 h-6"});case"chapter_composer":return i.jsx(j_,{className:"w-6 h-6"});case"literary_critic":return i.jsx(vr,{className:"w-6 h-6"});default:return i.jsx(Wn,{className:"w-6 h-6"})}};return d?i.jsx("div",{className:"flex items-center justify-center min-h-screen",children:i.jsx(wl.div,{animate:{rotate:360},transition:{duration:2,repeat:1/0,ease:"linear"},className:"w-16 h-16 border-4 border-blue-500 border-t-transparent rounded-full"})}):i.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 p-6",dir:"rtl",children:i.jsxs("div",{className:"max-w-7xl mx-auto",children:[i.jsxs(wl.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"mb-8",children:[i.jsxs("h1",{className:"text-4xl font-bold text-gray-900 mb-2 flex items-center gap-3",children:[i.jsx("div",{className:"p-3 bg-gradient-to-r from-blue-500 to-purple-600 rounded-xl text-white",children:i.jsx(Wn,{className:"w-8 h-8"})}),"استوديو الوكلاء"]}),i.jsx("p",{className:"text-gray-600 text-lg",children:"مركز التحكم في الوكلاء الذكيين ومراقبة أدائهم"})]}),o&&i.jsxs(wl.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[i.jsx(ae,{className:"bg-gradient-to-r from-green-500 to-green-600 text-white",children:i.jsx(oe,{className:"p-6",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-green-100",children:"الوكلاء النشطين"}),i.jsx("p",{className:"text-3xl font-bold",children:o.general.active_agents})]}),i.jsx(Rs,{className:"w-8 h-8 text-green-100"})]})})}),i.jsx(ae,{className:"bg-gradient-to-r from-blue-500 to-blue-600 text-white",children:i.jsx(oe,{className:"p-6",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-blue-100",children:"إجمالي الوكلاء"}),i.jsx("p",{className:"text-3xl font-bold",children:o.general.total_agents})]}),i.jsx(Wn,{className:"w-8 h-8 text-blue-100"})]})})}),i.jsx(ae,{className:"bg-gradient-to-r from-purple-500 to-purple-600 text-white",children:i.jsx(oe,{className:"p-6",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-purple-100",children:"المهام الجارية"}),i.jsx("p",{className:"text-3xl font-bold",children:o.tasks.running_tasks})]}),i.jsx(Np,{className:"w-8 h-8 text-purple-100"})]})})}),i.jsx(ae,{className:"bg-gradient-to-r from-orange-500 to-orange-600 text-white",children:i.jsx(oe,{className:"p-6",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-orange-100",children:"الرسائل اليوم"}),i.jsx("p",{className:"text-3xl font-bold",children:o.messages.total_messages})]}),i.jsx($u,{className:"w-8 h-8 text-orange-100"})]})})})]}),i.jsxs(zn,{value:f,onValueChange:A,children:[i.jsxs(On,{className:"grid w-full grid-cols-4 mb-6",children:[i.jsx(nt,{value:"overview",children:"نظرة عامة"}),i.jsx(nt,{value:"agents",children:"الوكلاء"}),i.jsx(nt,{value:"communications",children:"المحادثات"}),i.jsx(nt,{value:"tools",children:"الأدوات"})]}),i.jsx(rt,{value:"overview",children:i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[i.jsxs(ae,{children:[i.jsx(Te,{children:i.jsxs(ke,{className:"flex items-center gap-2",children:[i.jsx(Wn,{className:"w-5 h-5"}),"الوكلاء النشطين"]})}),i.jsx(oe,{children:i.jsx("div",{className:"space-y-4 max-h-96 overflow-y-auto",children:t.map(U=>i.jsxs(wl.div,{whileHover:{scale:1.02},className:"flex items-center gap-3 p-3 rounded-lg border hover:bg-gray-50 cursor-pointer",onClick:()=>r(U),children:[i.jsxs("div",{className:"relative",children:[i.jsxs(g9,{className:"w-12 h-12",children:[i.jsx(x9,{src:U.avatar_url}),i.jsx(v9,{className:"bg-gradient-to-r from-blue-500 to-purple-600 text-white",children:q(U.type)})]}),i.jsx("div",{className:`absolute -bottom-1 -right-1 w-4 h-4 rounded-full border-2 border-white ${M(U.current_status||U.status)}`})]}),i.jsxs("div",{className:"flex-1",children:[i.jsx("h3",{className:"font-semibold text-gray-900",children:U.name}),i.jsx("p",{className:"text-sm text-gray-600",children:U.description}),i.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[i.jsx(He,{variant:"outline",className:"text-xs",children:S(U.current_status||U.status)}),U.active_tasks>0&&i.jsxs(He,{variant:"secondary",className:"text-xs",children:[U.active_tasks," مهام"]})]})]})]},U.agent_id))})})]}),i.jsxs(ae,{children:[i.jsx(Te,{children:i.jsxs(ke,{className:"flex items-center gap-2",children:[i.jsx(Hn,{className:"w-5 h-5"}),"إحصائيات تفصيلية"]})}),i.jsx(oe,{children:o&&i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{children:[i.jsx("h4",{className:"font-semibold mb-3",children:"أداء المهام"}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{children:"مكتملة"}),i.jsx("span",{className:"font-bold text-green-600",children:o.tasks.completed_tasks})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{children:"جارية"}),i.jsx("span",{className:"font-bold text-blue-600",children:o.tasks.running_tasks})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{children:"فاشلة"}),i.jsx("span",{className:"font-bold text-red-600",children:o.tasks.failed_tasks})]}),o.tasks.avg_task_duration&&i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{children:"متوسط المدة"}),i.jsxs("span",{className:"font-bold",children:[Math.round(o.tasks.avg_task_duration)," دقيقة"]})]})]})]}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-semibold mb-3",children:"التواصل"}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{children:"طلبات"}),i.jsx("span",{className:"font-bold text-blue-600",children:o.messages.requests})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{children:"ردود"}),i.jsx("span",{className:"font-bold text-green-600",children:o.messages.responses})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{children:"في انتظار الرد"}),i.jsx("span",{className:"font-bold text-orange-600",children:o.messages.pending_responses})]})]})]})]})})]})]})}),i.jsx(rt,{value:"agents",children:i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:i.jsx(a3,{children:t.map((U,L)=>i.jsx(wl.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{delay:L*.1},children:i.jsxs(ae,{className:"h-full hover:shadow-lg transition-shadow",children:[i.jsx(Te,{className:"pb-3",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsxs("div",{className:"relative",children:[i.jsxs(g9,{className:"w-16 h-16",children:[i.jsx(x9,{src:U.avatar_url}),i.jsx(v9,{className:"bg-gradient-to-r from-blue-500 to-purple-600 text-white text-xl",children:q(U.type)})]}),i.jsx("div",{className:`absolute -bottom-1 -right-1 w-5 h-5 rounded-full border-2 border-white ${M(U.current_status||U.status)}`})]}),i.jsxs("div",{className:"flex-1",children:[i.jsx(ke,{className:"text-lg",children:U.name}),i.jsx("p",{className:"text-sm text-gray-600",children:U.type})]})]})}),i.jsxs(oe,{children:[i.jsx("p",{className:"text-gray-700 mb-4 text-sm",children:U.description}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("span",{className:"text-sm font-medium",children:"الحالة:"}),i.jsx(He,{variant:"outline",className:`${M(U.current_status||U.status)} text-white border-0`,children:S(U.current_status||U.status)})]}),U.active_tasks>0&&i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("span",{className:"text-sm font-medium",children:"المهام النشطة:"}),i.jsx(He,{variant:"secondary",children:U.active_tasks})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("span",{className:"text-sm font-medium",children:"آخر نشاط:"}),i.jsx("span",{className:"text-xs text-gray-500",children:new Date(U.last_activity).toLocaleString("ar-EG")})]})]}),i.jsx("div",{className:"mt-4 pt-4 border-t",children:i.jsxs(xe,{variant:"outline",size:"sm",className:"w-full",onClick:()=>{r(U),A("communications"),F(U.agent_id)},children:[i.jsx($u,{className:"w-4 h-4 ml-2"}),"عرض المحادثات"]})})]})]})},U.agent_id))})})}),i.jsx(rt,{value:"communications",children:i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[i.jsxs(ae,{children:[i.jsx(Te,{children:i.jsx(ke,{children:"اختر وكيل"})}),i.jsx(oe,{children:i.jsx("div",{className:"space-y-2",children:t.map(U=>i.jsx(xe,{variant:(n==null?void 0:n.agent_id)===U.agent_id?"default":"outline",className:"w-full justify-start",onClick:()=>{r(U),F(U.agent_id)},children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:`w-3 h-3 rounded-full ${M(U.current_status||U.status)}`}),i.jsx("span",{children:U.name})]})},U.agent_id))})})]}),i.jsxs(ae,{className:"lg:col-span-2",children:[i.jsx(Te,{children:i.jsxs(ke,{className:"flex items-center gap-2",children:[i.jsx($u,{className:"w-5 h-5"}),n?`محادثات ${n.name}`:"اختر وكيل لعرض المحادثات"]})}),i.jsx(oe,{children:n?i.jsx("div",{className:"space-y-4 max-h-96 overflow-y-auto",children:s.length>0?s.map(U=>i.jsxs("div",{className:`p-3 rounded-lg ${U.sender_agent_id===n.agent_id?"bg-blue-50 mr-8":"bg-gray-50 ml-8"}`,children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("span",{className:"font-medium text-sm",children:U.sender_agent_id===n.agent_id?"مرسل":"مستقبل"}),i.jsx(He,{variant:"outline",className:"text-xs",children:U.message_type})]}),i.jsx("p",{className:"text-sm text-gray-700",children:JSON.stringify(U.content_json,null,2)}),i.jsx("span",{className:"text-xs text-gray-500",children:new Date(U.timestamp).toLocaleString("ar-EG")})]},U.id)):i.jsx("div",{className:"text-center text-gray-500 py-8",children:"لا توجد محادثات متاحة"})}):i.jsx("div",{className:"text-center text-gray-500 py-8",children:"اختر وكيل من القائمة لعرض محادثاته"})})]})]})}),i.jsx(rt,{value:"tools",children:i.jsxs(ae,{children:[i.jsx(Te,{children:i.jsxs(ke,{className:"flex items-center gap-2",children:[i.jsx(bf,{className:"w-5 h-5"}),"متجر الأدوات"]})}),i.jsx(oe,{children:i.jsxs("div",{className:"text-center text-gray-500 py-8",children:["متجر الأدوات قيد التطوير...",i.jsx("br",{}),"سيتم إضافة واجهة إدارة الأدوات قريباً"]})})]})})]})]})})};var Qxe=["PageUp","PageDown"],Hxe=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],zxe={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},J2="Slider",[y9,hLe,fLe]=ok(J2),[$xe,Imt]=qa(J2,[fLe]),[ALe,uF]=$xe(J2),Wxe=E.forwardRef((t,e)=>{const{name:n,min:r=0,max:s=100,step:a=1,orientation:o="horizontal",disabled:l=!1,minStepsBetweenThumbs:c=0,defaultValue:u=[r],value:d,onValueChange:h=()=>{},onValueCommit:f=()=>{},inverted:A=!1,form:v,...p}=t,m=E.useRef(new Set),g=E.useRef(0),b=o==="horizontal"?pLe:mLe,[j=[],N]=Xu({prop:d,defaultProp:u,onChange:I=>{var M;(M=[...m.current][g.current])==null||M.focus(),h(I)}}),_=E.useRef(j);function C(I){const F=bLe(j,I);O(I,F)}function k(I){O(I,g.current)}function T(){const I=_.current[g.current];j[g.current]!==I&&f(j)}function O(I,F,{commit:M}={commit:!1}){const S=_Le(a),q=CLe(Math.round((I-r)/a)*a+r,S),U=O_(q,[r,s]);N((L=[])=>{const z=vLe(L,U,F);if(NLe(z,c*a)){g.current=z.indexOf(U);const $=String(z)!==String(L);return $&&M&&f(z),$?z:L}else return L})}return i.jsx(ALe,{scope:t.__scopeSlider,name:n,disabled:l,min:r,max:s,valueIndexToChangeRef:g,thumbs:m.current,values:j,orientation:o,form:v,children:i.jsx(y9.Provider,{scope:t.__scopeSlider,children:i.jsx(y9.Slot,{scope:t.__scopeSlider,children:i.jsx(b,{"aria-disabled":l,"data-disabled":l?"":void 0,...p,ref:e,onPointerDown:Ht(p.onPointerDown,()=>{l||(_.current=j)}),min:r,max:s,inverted:A,onSlideStart:l?void 0:C,onSlideMove:l?void 0:k,onSlideEnd:l?void 0:T,onHomeKeyDown:()=>!l&&O(r,0,{commit:!0}),onEndKeyDown:()=>!l&&O(s,j.length-1,{commit:!0}),onStepKeyDown:({event:I,direction:F})=>{if(!l){const q=Qxe.includes(I.key)||I.shiftKey&&Hxe.includes(I.key)?10:1,U=g.current,L=j[U],z=a*q*F;O(L+z,U,{commit:!0})}}})})})})});Wxe.displayName=J2;var[qxe,Vxe]=$xe(J2,{startEdge:"left",endEdge:"right",size:"width",direction:1}),pLe=E.forwardRef((t,e)=>{const{min:n,max:r,dir:s,inverted:a,onSlideStart:o,onSlideMove:l,onSlideEnd:c,onStepKeyDown:u,...d}=t,[h,f]=E.useState(null),A=Tn(e,b=>f(b)),v=E.useRef(void 0),p=H2(s),m=p==="ltr",g=m&&!a||!m&&a;function x(b){const j=v.current||h.getBoundingClientRect(),N=[0,j.width],C=gW(N,g?[n,r]:[r,n]);return v.current=j,C(b-j.left)}return i.jsx(qxe,{scope:t.__scopeSlider,startEdge:g?"left":"right",endEdge:g?"right":"left",direction:g?1:-1,size:"width",children:i.jsx(Kxe,{dir:p,"data-orientation":"horizontal",...d,ref:A,style:{...d.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:b=>{const j=x(b.clientX);o==null||o(j)},onSlideMove:b=>{const j=x(b.clientX);l==null||l(j)},onSlideEnd:()=>{v.current=void 0,c==null||c()},onStepKeyDown:b=>{const N=zxe[g?"from-left":"from-right"].includes(b.key);u==null||u({event:b,direction:N?-1:1})}})})}),mLe=E.forwardRef((t,e)=>{const{min:n,max:r,inverted:s,onSlideStart:a,onSlideMove:o,onSlideEnd:l,onStepKeyDown:c,...u}=t,d=E.useRef(null),h=Tn(e,d),f=E.useRef(void 0),A=!s;function v(p){const m=f.current||d.current.getBoundingClientRect(),g=[0,m.height],b=gW(g,A?[r,n]:[n,r]);return f.current=m,b(p-m.top)}return i.jsx(qxe,{scope:t.__scopeSlider,startEdge:A?"bottom":"top",endEdge:A?"top":"bottom",size:"height",direction:A?1:-1,children:i.jsx(Kxe,{"data-orientation":"vertical",...u,ref:h,style:{...u.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:p=>{const m=v(p.clientY);a==null||a(m)},onSlideMove:p=>{const m=v(p.clientY);o==null||o(m)},onSlideEnd:()=>{f.current=void 0,l==null||l()},onStepKeyDown:p=>{const g=zxe[A?"from-bottom":"from-top"].includes(p.key);c==null||c({event:p,direction:g?-1:1})}})})}),Kxe=E.forwardRef((t,e)=>{const{__scopeSlider:n,onSlideStart:r,onSlideMove:s,onSlideEnd:a,onHomeKeyDown:o,onEndKeyDown:l,onStepKeyDown:c,...u}=t,d=uF(J2,n);return i.jsx(Jt.span,{...u,ref:e,onKeyDown:Ht(t.onKeyDown,h=>{h.key==="Home"?(o(h),h.preventDefault()):h.key==="End"?(l(h),h.preventDefault()):Qxe.concat(Hxe).includes(h.key)&&(c(h),h.preventDefault())}),onPointerDown:Ht(t.onPointerDown,h=>{const f=h.target;f.setPointerCapture(h.pointerId),h.preventDefault(),d.thumbs.has(f)?f.focus():r(h)}),onPointerMove:Ht(t.onPointerMove,h=>{h.target.hasPointerCapture(h.pointerId)&&s(h)}),onPointerUp:Ht(t.onPointerUp,h=>{const f=h.target;f.hasPointerCapture(h.pointerId)&&(f.releasePointerCapture(h.pointerId),a(h))})})}),Gxe="SliderTrack",Xxe=E.forwardRef((t,e)=>{const{__scopeSlider:n,...r}=t,s=uF(Gxe,n);return i.jsx(Jt.span,{"data-disabled":s.disabled?"":void 0,"data-orientation":s.orientation,...r,ref:e})});Xxe.displayName=Gxe;var b9="SliderRange",Yxe=E.forwardRef((t,e)=>{const{__scopeSlider:n,...r}=t,s=uF(b9,n),a=Vxe(b9,n),o=E.useRef(null),l=Tn(e,o),c=s.values.length,u=s.values.map(f=>eve(f,s.min,s.max)),d=c>1?Math.min(...u):0,h=100-Math.max(...u);return i.jsx(Jt.span,{"data-orientation":s.orientation,"data-disabled":s.disabled?"":void 0,...r,ref:l,style:{...t.style,[a.startEdge]:d+"%",[a.endEdge]:h+"%"}})});Yxe.displayName=b9;var w9="SliderThumb",Jxe=E.forwardRef((t,e)=>{const n=hLe(t.__scopeSlider),[r,s]=E.useState(null),a=Tn(e,l=>s(l)),o=E.useMemo(()=>r?n().findIndex(l=>l.ref.current===r):-1,[n,r]);return i.jsx(gLe,{...t,ref:a,index:o})}),gLe=E.forwardRef((t,e)=>{const{__scopeSlider:n,index:r,name:s,...a}=t,o=uF(w9,n),l=Vxe(w9,n),[c,u]=E.useState(null),d=Tn(e,x=>u(x)),h=c?o.form||!!c.closest("form"):!0,f=FS(c),A=o.values[r],v=A===void 0?0:eve(A,o.min,o.max),p=yLe(r,o.values.length),m=f==null?void 0:f[l.size],g=m?wLe(m,v,l.direction):0;return E.useEffect(()=>{if(c)return o.thumbs.add(c),()=>{o.thumbs.delete(c)}},[c,o.thumbs]),i.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[l.startEdge]:`calc(${v}% + ${g}px)`},children:[i.jsx(y9.ItemSlot,{scope:t.__scopeSlider,children:i.jsx(Jt.span,{role:"slider","aria-label":t["aria-label"]||p,"aria-valuemin":o.min,"aria-valuenow":A,"aria-valuemax":o.max,"aria-orientation":o.orientation,"data-orientation":o.orientation,"data-disabled":o.disabled?"":void 0,tabIndex:o.disabled?void 0:0,...a,ref:d,style:A===void 0?{display:"none"}:t.style,onFocus:Ht(t.onFocus,()=>{o.valueIndexToChangeRef.current=r})})}),h&&i.jsx(Zxe,{name:s??(o.name?o.name+(o.values.length>1?"[]":""):void 0),form:o.form,value:A},r)]})});Jxe.displayName=w9;var xLe="RadioBubbleInput",Zxe=E.forwardRef(({__scopeSlider:t,value:e,...n},r)=>{const s=E.useRef(null),a=Tn(s,r),o=PS(e);return E.useEffect(()=>{const l=s.current;if(!l)return;const c=window.HTMLInputElement.prototype,d=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==e&&d){const h=new Event("input",{bubbles:!0});d.call(l,e),l.dispatchEvent(h)}},[o,e]),i.jsx(Jt.input,{style:{display:"none"},...n,ref:a,defaultValue:e})});Zxe.displayName=xLe;function vLe(t=[],e,n){const r=[...t];return r[n]=e,r.sort((s,a)=>s-a)}function eve(t,e,n){const a=100/(n-e)*(t-e);return O_(a,[0,100])}function yLe(t,e){return e>2?`Value ${t+1} of ${e}`:e===2?["Minimum","Maximum"][t]:void 0}function bLe(t,e){if(t.length===1)return 0;const n=t.map(s=>Math.abs(s-e)),r=Math.min(...n);return n.indexOf(r)}function wLe(t,e,n){const r=t/2,a=gW([0,50],[0,r]);return(r-a(e)*n)*n}function jLe(t){return t.slice(0,-1).map((e,n)=>t[n+1]-e)}function NLe(t,e){if(e>0){const n=jLe(t);return Math.min(...n)>=e}return!0}function gW(t,e){return n=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const r=(e[1]-e[0])/(t[1]-t[0]);return e[0]+r*(n-t[0])}}function _Le(t){return(String(t).split(".")[1]||"").length}function CLe(t,e){const n=Math.pow(10,e);return Math.round(t*n)/n}var tve=Wxe,SLe=Xxe,ELe=Yxe,BLe=Jxe;const pi=E.forwardRef(({className:t,...e},n)=>i.jsxs(tve,{ref:n,className:Vt("relative flex w-full touch-none select-none items-center",t),...e,children:[i.jsx(SLe,{className:"relative h-1.5 w-full grow overflow-hidden rounded-full bg-zinc-900/20 dark:bg-zinc-50/20",children:i.jsx(ELe,{className:"absolute h-full bg-zinc-900 dark:bg-zinc-50"})}),i.jsx(BLe,{className:"block h-4 w-4 rounded-full border border-zinc-200 border-zinc-900/50 bg-white shadow transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-zinc-950 disabled:pointer-events-none disabled:opacity-50 dark:border-zinc-800 dark:border-zinc-50/50 dark:bg-zinc-950 dark:focus-visible:ring-zinc-300"})]}));pi.displayName=tve.displayName;const DLe=M2("relative w-full rounded-lg border border-zinc-200 px-4 py-3 text-sm [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-zinc-950 [&>svg~*]:pl-7 dark:border-zinc-800 dark:[&>svg]:text-zinc-50",{variants:{variant:{default:"bg-white text-zinc-950 dark:bg-zinc-950 dark:text-zinc-50",destructive:"border-red-500/50 text-red-500 dark:border-red-500 [&>svg]:text-red-500 dark:border-red-900/50 dark:text-red-900 dark:dark:border-red-900 dark:[&>svg]:text-red-900"}},defaultVariants:{variant:"default"}}),fh=E.forwardRef(({className:t,variant:e,...n},r)=>i.jsx("div",{ref:r,role:"alert",className:Vt(DLe({variant:e}),t),...n}));fh.displayName="Alert";const nve=E.forwardRef(({className:t,...e},n)=>i.jsx("h5",{ref:n,className:Vt("mb-1 font-medium leading-none tracking-tight",t),...e}));nve.displayName="AlertTitle";const Ah=E.forwardRef(({className:t,...e},n)=>i.jsx("div",{ref:n,className:Vt("text-sm [&_p]:leading-relaxed",t),...e}));Ah.displayName="AlertDescription";var fI,UZ;function hc(){if(UZ)return fI;UZ=1;var t=Array.isArray;return fI=t,fI}var AI,IZ;function rve(){if(IZ)return AI;IZ=1;var t=typeof Lu=="object"&&Lu&&Lu.Object===Object&&Lu;return AI=t,AI}var pI,OZ;function Lf(){if(OZ)return pI;OZ=1;var t=rve(),e=typeof self=="object"&&self&&self.Object===Object&&self,n=t||e||Function("return this")();return pI=n,pI}var mI,MZ;function LS(){if(MZ)return mI;MZ=1;var t=Lf(),e=t.Symbol;return mI=e,mI}var gI,LZ;function TLe(){if(LZ)return gI;LZ=1;var t=LS(),e=Object.prototype,n=e.hasOwnProperty,r=e.toString,s=t?t.toStringTag:void 0;function a(o){var l=n.call(o,s),c=o[s];try{o[s]=void 0;var u=!0}catch{}var d=r.call(o);return u&&(l?o[s]=c:delete o[s]),d}return gI=a,gI}var xI,RZ;function kLe(){if(RZ)return xI;RZ=1;var t=Object.prototype,e=t.toString;function n(r){return e.call(r)}return xI=n,xI}var vI,QZ;function Hp(){if(QZ)return vI;QZ=1;var t=LS(),e=TLe(),n=kLe(),r="[object Null]",s="[object Undefined]",a=t?t.toStringTag:void 0;function o(l){return l==null?l===void 0?s:r:a&&a in Object(l)?e(l):n(l)}return vI=o,vI}var yI,HZ;function zp(){if(HZ)return yI;HZ=1;function t(e){return e!=null&&typeof e=="object"}return yI=t,yI}var bI,zZ;function Z2(){if(zZ)return bI;zZ=1;var t=Hp(),e=zp(),n="[object Symbol]";function r(s){return typeof s=="symbol"||e(s)&&t(s)==n}return bI=r,bI}var wI,$Z;function xW(){if($Z)return wI;$Z=1;var t=hc(),e=Z2(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function s(a,o){if(t(a))return!1;var l=typeof a;return l=="number"||l=="symbol"||l=="boolean"||a==null||e(a)?!0:r.test(a)||!n.test(a)||o!=null&&a in Object(o)}return wI=s,wI}var jI,WZ;function bx(){if(WZ)return jI;WZ=1;function t(e){var n=typeof e;return e!=null&&(n=="object"||n=="function")}return jI=t,jI}var NI,qZ;function vW(){if(qZ)return NI;qZ=1;var t=Hp(),e=bx(),n="[object AsyncFunction]",r="[object Function]",s="[object GeneratorFunction]",a="[object Proxy]";function o(l){if(!e(l))return!1;var c=t(l);return c==r||c==s||c==n||c==a}return NI=o,NI}var _I,VZ;function FLe(){if(VZ)return _I;VZ=1;var t=Lf(),e=t["__core-js_shared__"];return _I=e,_I}var CI,KZ;function PLe(){if(KZ)return CI;KZ=1;var t=FLe(),e=function(){var r=/[^.]+$/.exec(t&&t.keys&&t.keys.IE_PROTO||"");return r?"Symbol(src)_1."+r:""}();function n(r){return!!e&&e in r}return CI=n,CI}var SI,GZ;function ive(){if(GZ)return SI;GZ=1;var t=Function.prototype,e=t.toString;function n(r){if(r!=null){try{return e.call(r)}catch{}try{return r+""}catch{}}return""}return SI=n,SI}var EI,XZ;function ULe(){if(XZ)return EI;XZ=1;var t=vW(),e=PLe(),n=bx(),r=ive(),s=/[\\^$.*+?()[\]{}|]/g,a=/^\[object .+?Constructor\]$/,o=Function.prototype,l=Object.prototype,c=o.toString,u=l.hasOwnProperty,d=RegExp("^"+c.call(u).replace(s,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function h(f){if(!n(f)||e(f))return!1;var A=t(f)?d:a;return A.test(r(f))}return EI=h,EI}var BI,YZ;function ILe(){if(YZ)return BI;YZ=1;function t(e,n){return e==null?void 0:e[n]}return BI=t,BI}var DI,JZ;function Uy(){if(JZ)return DI;JZ=1;var t=ULe(),e=ILe();function n(r,s){var a=e(r,s);return t(a)?a:void 0}return DI=n,DI}var TI,ZZ;function dF(){if(ZZ)return TI;ZZ=1;var t=Uy(),e=t(Object,"create");return TI=e,TI}var kI,eee;function OLe(){if(eee)return kI;eee=1;var t=dF();function e(){this.__data__=t?t(null):{},this.size=0}return kI=e,kI}var FI,tee;function MLe(){if(tee)return FI;tee=1;function t(e){var n=this.has(e)&&delete this.__data__[e];return this.size-=n?1:0,n}return FI=t,FI}var PI,nee;function LLe(){if(nee)return PI;nee=1;var t=dF(),e="__lodash_hash_undefined__",n=Object.prototype,r=n.hasOwnProperty;function s(a){var o=this.__data__;if(t){var l=o[a];return l===e?void 0:l}return r.call(o,a)?o[a]:void 0}return PI=s,PI}var UI,ree;function RLe(){if(ree)return UI;ree=1;var t=dF(),e=Object.prototype,n=e.hasOwnProperty;function r(s){var a=this.__data__;return t?a[s]!==void 0:n.call(a,s)}return UI=r,UI}var II,iee;function QLe(){if(iee)return II;iee=1;var t=dF(),e="__lodash_hash_undefined__";function n(r,s){var a=this.__data__;return this.size+=this.has(r)?0:1,a[r]=t&&s===void 0?e:s,this}return II=n,II}var OI,see;function HLe(){if(see)return OI;see=1;var t=OLe(),e=MLe(),n=LLe(),r=RLe(),s=QLe();function a(o){var l=-1,c=o==null?0:o.length;for(this.clear();++l<c;){var u=o[l];this.set(u[0],u[1])}}return a.prototype.clear=t,a.prototype.delete=e,a.prototype.get=n,a.prototype.has=r,a.prototype.set=s,OI=a,OI}var MI,aee;function zLe(){if(aee)return MI;aee=1;function t(){this.__data__=[],this.size=0}return MI=t,MI}var LI,oee;function yW(){if(oee)return LI;oee=1;function t(e,n){return e===n||e!==e&&n!==n}return LI=t,LI}var RI,lee;function hF(){if(lee)return RI;lee=1;var t=yW();function e(n,r){for(var s=n.length;s--;)if(t(n[s][0],r))return s;return-1}return RI=e,RI}var QI,cee;function $Le(){if(cee)return QI;cee=1;var t=hF(),e=Array.prototype,n=e.splice;function r(s){var a=this.__data__,o=t(a,s);if(o<0)return!1;var l=a.length-1;return o==l?a.pop():n.call(a,o,1),--this.size,!0}return QI=r,QI}var HI,uee;function WLe(){if(uee)return HI;uee=1;var t=hF();function e(n){var r=this.__data__,s=t(r,n);return s<0?void 0:r[s][1]}return HI=e,HI}var zI,dee;function qLe(){if(dee)return zI;dee=1;var t=hF();function e(n){return t(this.__data__,n)>-1}return zI=e,zI}var $I,hee;function VLe(){if(hee)return $I;hee=1;var t=hF();function e(n,r){var s=this.__data__,a=t(s,n);return a<0?(++this.size,s.push([n,r])):s[a][1]=r,this}return $I=e,$I}var WI,fee;function fF(){if(fee)return WI;fee=1;var t=zLe(),e=$Le(),n=WLe(),r=qLe(),s=VLe();function a(o){var l=-1,c=o==null?0:o.length;for(this.clear();++l<c;){var u=o[l];this.set(u[0],u[1])}}return a.prototype.clear=t,a.prototype.delete=e,a.prototype.get=n,a.prototype.has=r,a.prototype.set=s,WI=a,WI}var qI,Aee;function bW(){if(Aee)return qI;Aee=1;var t=Uy(),e=Lf(),n=t(e,"Map");return qI=n,qI}var VI,pee;function KLe(){if(pee)return VI;pee=1;var t=HLe(),e=fF(),n=bW();function r(){this.size=0,this.__data__={hash:new t,map:new(n||e),string:new t}}return VI=r,VI}var KI,mee;function GLe(){if(mee)return KI;mee=1;function t(e){var n=typeof e;return n=="string"||n=="number"||n=="symbol"||n=="boolean"?e!=="__proto__":e===null}return KI=t,KI}var GI,gee;function AF(){if(gee)return GI;gee=1;var t=GLe();function e(n,r){var s=n.__data__;return t(r)?s[typeof r=="string"?"string":"hash"]:s.map}return GI=e,GI}var XI,xee;function XLe(){if(xee)return XI;xee=1;var t=AF();function e(n){var r=t(this,n).delete(n);return this.size-=r?1:0,r}return XI=e,XI}var YI,vee;function YLe(){if(vee)return YI;vee=1;var t=AF();function e(n){return t(this,n).get(n)}return YI=e,YI}var JI,yee;function JLe(){if(yee)return JI;yee=1;var t=AF();function e(n){return t(this,n).has(n)}return JI=e,JI}var ZI,bee;function ZLe(){if(bee)return ZI;bee=1;var t=AF();function e(n,r){var s=t(this,n),a=s.size;return s.set(n,r),this.size+=s.size==a?0:1,this}return ZI=e,ZI}var eO,wee;function wW(){if(wee)return eO;wee=1;var t=KLe(),e=XLe(),n=YLe(),r=JLe(),s=ZLe();function a(o){var l=-1,c=o==null?0:o.length;for(this.clear();++l<c;){var u=o[l];this.set(u[0],u[1])}}return a.prototype.clear=t,a.prototype.delete=e,a.prototype.get=n,a.prototype.has=r,a.prototype.set=s,eO=a,eO}var tO,jee;function sve(){if(jee)return tO;jee=1;var t=wW(),e="Expected a function";function n(r,s){if(typeof r!="function"||s!=null&&typeof s!="function")throw new TypeError(e);var a=function(){var o=arguments,l=s?s.apply(this,o):o[0],c=a.cache;if(c.has(l))return c.get(l);var u=r.apply(this,o);return a.cache=c.set(l,u)||c,u};return a.cache=new(n.Cache||t),a}return n.Cache=t,tO=n,tO}var nO,Nee;function eRe(){if(Nee)return nO;Nee=1;var t=sve(),e=500;function n(r){var s=t(r,function(o){return a.size===e&&a.clear(),o}),a=s.cache;return s}return nO=n,nO}var rO,_ee;function tRe(){if(_ee)return rO;_ee=1;var t=eRe(),e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,n=/\\(\\)?/g,r=t(function(s){var a=[];return s.charCodeAt(0)===46&&a.push(""),s.replace(e,function(o,l,c,u){a.push(c?u.replace(n,"$1"):l||o)}),a});return rO=r,rO}var iO,Cee;function jW(){if(Cee)return iO;Cee=1;function t(e,n){for(var r=-1,s=e==null?0:e.length,a=Array(s);++r<s;)a[r]=n(e[r],r,e);return a}return iO=t,iO}var sO,See;function nRe(){if(See)return sO;See=1;var t=LS(),e=jW(),n=hc(),r=Z2(),s=t?t.prototype:void 0,a=s?s.toString:void 0;function o(l){if(typeof l=="string")return l;if(n(l))return e(l,o)+"";if(r(l))return a?a.call(l):"";var c=l+"";return c=="0"&&1/l==-1/0?"-0":c}return sO=o,sO}var aO,Eee;function ave(){if(Eee)return aO;Eee=1;var t=nRe();function e(n){return n==null?"":t(n)}return aO=e,aO}var oO,Bee;function ove(){if(Bee)return oO;Bee=1;var t=hc(),e=xW(),n=tRe(),r=ave();function s(a,o){return t(a)?a:e(a,o)?[a]:n(r(a))}return oO=s,oO}var lO,Dee;function pF(){if(Dee)return lO;Dee=1;var t=Z2();function e(n){if(typeof n=="string"||t(n))return n;var r=n+"";return r=="0"&&1/n==-1/0?"-0":r}return lO=e,lO}var cO,Tee;function NW(){if(Tee)return cO;Tee=1;var t=ove(),e=pF();function n(r,s){s=t(s,r);for(var a=0,o=s.length;r!=null&&a<o;)r=r[e(s[a++])];return a&&a==o?r:void 0}return cO=n,cO}var uO,kee;function lve(){if(kee)return uO;kee=1;var t=NW();function e(n,r,s){var a=n==null?void 0:t(n,r);return a===void 0?s:a}return uO=e,uO}var rRe=lve();const Kc=wr(rRe);var dO,Fee;function iRe(){if(Fee)return dO;Fee=1;function t(e){return e==null}return dO=t,dO}var sRe=iRe();const vn=wr(sRe);var hO,Pee;function aRe(){if(Pee)return hO;Pee=1;var t=Hp(),e=hc(),n=zp(),r="[object String]";function s(a){return typeof a=="string"||!e(a)&&n(a)&&t(a)==r}return hO=s,hO}var oRe=aRe();const Ay=wr(oRe);var lRe=vW();const gn=wr(lRe);var cRe=bx();const ej=wr(cRe);var fO={exports:{}},Wr={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Uee;function uRe(){if(Uee)return Wr;Uee=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),o=Symbol.for("react.context"),l=Symbol.for("react.server_context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.suspense_list"),h=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),A=Symbol.for("react.offscreen"),v;v=Symbol.for("react.module.reference");function p(m){if(typeof m=="object"&&m!==null){var g=m.$$typeof;switch(g){case t:switch(m=m.type,m){case n:case s:case r:case u:case d:return m;default:switch(m=m&&m.$$typeof,m){case l:case o:case c:case f:case h:case a:return m;default:return g}}case e:return g}}}return Wr.ContextConsumer=o,Wr.ContextProvider=a,Wr.Element=t,Wr.ForwardRef=c,Wr.Fragment=n,Wr.Lazy=f,Wr.Memo=h,Wr.Portal=e,Wr.Profiler=s,Wr.StrictMode=r,Wr.Suspense=u,Wr.SuspenseList=d,Wr.isAsyncMode=function(){return!1},Wr.isConcurrentMode=function(){return!1},Wr.isContextConsumer=function(m){return p(m)===o},Wr.isContextProvider=function(m){return p(m)===a},Wr.isElement=function(m){return typeof m=="object"&&m!==null&&m.$$typeof===t},Wr.isForwardRef=function(m){return p(m)===c},Wr.isFragment=function(m){return p(m)===n},Wr.isLazy=function(m){return p(m)===f},Wr.isMemo=function(m){return p(m)===h},Wr.isPortal=function(m){return p(m)===e},Wr.isProfiler=function(m){return p(m)===s},Wr.isStrictMode=function(m){return p(m)===r},Wr.isSuspense=function(m){return p(m)===u},Wr.isSuspenseList=function(m){return p(m)===d},Wr.isValidElementType=function(m){return typeof m=="string"||typeof m=="function"||m===n||m===s||m===r||m===u||m===d||m===A||typeof m=="object"&&m!==null&&(m.$$typeof===f||m.$$typeof===h||m.$$typeof===a||m.$$typeof===o||m.$$typeof===c||m.$$typeof===v||m.getModuleId!==void 0)},Wr.typeOf=p,Wr}var Iee;function dRe(){return Iee||(Iee=1,fO.exports=uRe()),fO.exports}var hRe=dRe(),AO,Oee;function cve(){if(Oee)return AO;Oee=1;var t=Hp(),e=zp(),n="[object Number]";function r(s){return typeof s=="number"||e(s)&&t(s)==n}return AO=r,AO}var pO,Mee;function fRe(){if(Mee)return pO;Mee=1;var t=cve();function e(n){return t(n)&&n!=+n}return pO=e,pO}var ARe=fRe();const tj=wr(ARe);var pRe=cve();const mRe=wr(pRe);var _l=function(e){return e===0?0:e>0?1:-1},Uv=function(e){return Ay(e)&&e.indexOf("%")===e.length-1},Tt=function(e){return mRe(e)&&!tj(e)},pa=function(e){return Tt(e)||Ay(e)},gRe=0,wx=function(e){var n=++gRe;return"".concat(e||"").concat(n)},Cl=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Tt(e)&&!Ay(e))return r;var a;if(Uv(e)){var o=e.indexOf("%");a=n*parseFloat(e.slice(0,o))/100}else a=+e;return tj(a)&&(a=r),s&&a>n&&(a=n),a},tg=function(e){if(!e)return null;var n=Object.keys(e);return n&&n.length?e[n[0]]:null},xRe=function(e){if(!Array.isArray(e))return!1;for(var n=e.length,r={},s=0;s<n;s++)if(!r[e[s]])r[e[s]]=!0;else return!0;return!1},mi=function(e,n){return Tt(e)&&Tt(n)?function(r){return e+r*(n-e)}:function(){return n}};function u3(t,e,n){return!t||!t.length?null:t.find(function(r){return r&&(typeof e=="function"?e(r):Kc(r,e))===n})}var vRe=function(e){if(!e||!e.length)return null;for(var n=e.length,r=0,s=0,a=0,o=0,l=1/0,c=-1/0,u=0,d=0,h=0;h<n;h++)u=e[h].cx||0,d=e[h].cy||0,r+=u,s+=d,a+=u*d,o+=u*u,l=Math.min(l,u),c=Math.max(c,u);var f=n*o!==r*r?(n*a-r*s)/(n*o-r*r):0;return{xmin:l,xmax:c,a:f,b:(s-f*r)/n}},yRe=function(e,n){return Tt(e)&&Tt(n)?e-n:Ay(e)&&Ay(n)?e.localeCompare(n):e instanceof Date&&n instanceof Date?e.getTime()-n.getTime():String(e).localeCompare(String(n))};function _1(t,e){for(var n in t)if({}.hasOwnProperty.call(t,n)&&(!{}.hasOwnProperty.call(e,n)||t[n]!==e[n]))return!1;for(var r in e)if({}.hasOwnProperty.call(e,r)&&!{}.hasOwnProperty.call(t,r))return!1;return!0}function j9(t){"@babel/helpers - typeof";return j9=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},j9(t)}var bRe=["viewBox","children"],wRe=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],Lee=["points","pathLength"],mO={svg:bRe,polygon:Lee,polyline:Lee},_W=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],d3=function(e,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(E.isValidElement(e)&&(r=e.props),!ej(r))return null;var s={};return Object.keys(r).forEach(function(a){_W.includes(a)&&(s[a]=n||function(o){return r[a](r,o)})}),s},jRe=function(e,n,r){return function(s){return e(n,r,s),null}},ax=function(e,n,r){if(!ej(e)||j9(e)!=="object")return null;var s=null;return Object.keys(e).forEach(function(a){var o=e[a];_W.includes(a)&&typeof o=="function"&&(s||(s={}),s[a]=jRe(o,n,r))}),s},NRe=["children"],_Re=["children"];function Ree(t,e){if(t==null)return{};var n=CRe(t,e),r,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(s=0;s<a.length;s++)r=a[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function CRe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function N9(t){"@babel/helpers - typeof";return N9=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},N9(t)}var Qee={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},gp=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},Hee=null,gO=null,CW=function t(e){if(e===Hee&&Array.isArray(gO))return gO;var n=[];return E.Children.forEach(e,function(r){vn(r)||(hRe.isFragment(r)?n=n.concat(t(r.props.children)):n.push(r))}),gO=n,Hee=e,n};function Bl(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(function(s){return gp(s)}):r=[gp(e)],CW(t).forEach(function(s){var a=Kc(s,"type.displayName")||Kc(s,"type.name");r.indexOf(a)!==-1&&n.push(s)}),n}function Rc(t,e){var n=Bl(t,e);return n&&n[0]}var zee=function(e){if(!e||!e.props)return!1;var n=e.props,r=n.width,s=n.height;return!(!Tt(r)||r<=0||!Tt(s)||s<=0)},SRe=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],ERe=function(e){return e&&e.type&&Ay(e.type)&&SRe.indexOf(e.type)>=0},uve=function(e){return e&&N9(e)==="object"&&"clipDot"in e},BRe=function(e,n,r,s){var a,o=(a=mO==null?void 0:mO[s])!==null&&a!==void 0?a:[];return n.startsWith("data-")||!gn(e)&&(s&&o.includes(n)||wRe.includes(n))||r&&_W.includes(n)},Yt=function(e,n,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var s=e;if(E.isValidElement(e)&&(s=e.props),!ej(s))return null;var a={};return Object.keys(s).forEach(function(o){var l;BRe((l=s)===null||l===void 0?void 0:l[o],o,n,r)&&(a[o]=s[o])}),a},_9=function t(e,n){if(e===n)return!0;var r=E.Children.count(e);if(r!==E.Children.count(n))return!1;if(r===0)return!0;if(r===1)return $ee(Array.isArray(e)?e[0]:e,Array.isArray(n)?n[0]:n);for(var s=0;s<r;s++){var a=e[s],o=n[s];if(Array.isArray(a)||Array.isArray(o)){if(!t(a,o))return!1}else if(!$ee(a,o))return!1}return!0},$ee=function(e,n){if(vn(e)&&vn(n))return!0;if(!vn(e)&&!vn(n)){var r=e.props||{},s=r.children,a=Ree(r,NRe),o=n.props||{},l=o.children,c=Ree(o,_Re);return s&&l?_1(a,c)&&_9(s,l):!s&&!l?_1(a,c):!1}return!1},Wee=function(e,n){var r=[],s={};return CW(e).forEach(function(a,o){if(ERe(a))r.push(a);else if(a){var l=gp(a.type),c=n[l]||{},u=c.handler,d=c.once;if(u&&(!d||!s[l])){var h=u(a,l,o);r.push(h),s[l]=!0}}}),r},DRe=function(e){var n=e&&e.type;return n&&Qee[n]?Qee[n]:null},TRe=function(e,n){return CW(n).indexOf(e)},kRe=["children","width","height","viewBox","className","style","title","desc"];function C9(){return C9=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},C9.apply(this,arguments)}function FRe(t,e){if(t==null)return{};var n=PRe(t,e),r,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(s=0;s<a.length;s++)r=a[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function PRe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function S9(t){var e=t.children,n=t.width,r=t.height,s=t.viewBox,a=t.className,o=t.style,l=t.title,c=t.desc,u=FRe(t,kRe),d=s||{width:n,height:r,x:0,y:0},h=Dn("recharts-surface",a);return pe.createElement("svg",C9({},Yt(u,!0,"svg"),{className:h,width:n,height:r,style:o,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height)}),pe.createElement("title",null,l),pe.createElement("desc",null,c),e)}var URe=["children","className"];function E9(){return E9=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},E9.apply(this,arguments)}function IRe(t,e){if(t==null)return{};var n=ORe(t,e),r,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(s=0;s<a.length;s++)r=a[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function ORe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var Rn=pe.forwardRef(function(t,e){var n=t.children,r=t.className,s=IRe(t,URe),a=Dn("recharts-layer",r);return pe.createElement("g",E9({className:a},Yt(s,!0),{ref:e}),n)}),ah=function(e,n){for(var r=arguments.length,s=new Array(r>2?r-2:0),a=2;a<r;a++)s[a-2]=arguments[a]},xO,qee;function MRe(){if(qee)return xO;qee=1;function t(e,n,r){var s=-1,a=e.length;n<0&&(n=-n>a?0:a+n),r=r>a?a:r,r<0&&(r+=a),a=n>r?0:r-n>>>0,n>>>=0;for(var o=Array(a);++s<a;)o[s]=e[s+n];return o}return xO=t,xO}var vO,Vee;function LRe(){if(Vee)return vO;Vee=1;var t=MRe();function e(n,r,s){var a=n.length;return s=s===void 0?a:s,!r&&s>=a?n:t(n,r,s)}return vO=e,vO}var yO,Kee;function dve(){if(Kee)return yO;Kee=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",n="\\ufe20-\\ufe2f",r="\\u20d0-\\u20ff",s=e+n+r,a="\\ufe0e\\ufe0f",o="\\u200d",l=RegExp("["+o+t+s+a+"]");function c(u){return l.test(u)}return yO=c,yO}var bO,Gee;function RRe(){if(Gee)return bO;Gee=1;function t(e){return e.split("")}return bO=t,bO}var wO,Xee;function QRe(){if(Xee)return wO;Xee=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",n="\\ufe20-\\ufe2f",r="\\u20d0-\\u20ff",s=e+n+r,a="\\ufe0e\\ufe0f",o="["+t+"]",l="["+s+"]",c="\\ud83c[\\udffb-\\udfff]",u="(?:"+l+"|"+c+")",d="[^"+t+"]",h="(?:\\ud83c[\\udde6-\\uddff]){2}",f="[\\ud800-\\udbff][\\udc00-\\udfff]",A="\\u200d",v=u+"?",p="["+a+"]?",m="(?:"+A+"(?:"+[d,h,f].join("|")+")"+p+v+")*",g=p+v+m,x="(?:"+[d+l+"?",l,h,f,o].join("|")+")",b=RegExp(c+"(?="+c+")|"+x+g,"g");function j(N){return N.match(b)||[]}return wO=j,wO}var jO,Yee;function HRe(){if(Yee)return jO;Yee=1;var t=RRe(),e=dve(),n=QRe();function r(s){return e(s)?n(s):t(s)}return jO=r,jO}var NO,Jee;function zRe(){if(Jee)return NO;Jee=1;var t=LRe(),e=dve(),n=HRe(),r=ave();function s(a){return function(o){o=r(o);var l=e(o)?n(o):void 0,c=l?l[0]:o.charAt(0),u=l?t(l,1).join(""):o.slice(1);return c[a]()+u}}return NO=s,NO}var _O,Zee;function $Re(){if(Zee)return _O;Zee=1;var t=zRe(),e=t("toUpperCase");return _O=e,_O}var WRe=$Re();const mF=wr(WRe);function Ei(t){return function(){return t}}const hve=Math.cos,h3=Math.sin,vh=Math.sqrt,f3=Math.PI,gF=2*f3,B9=Math.PI,D9=2*B9,vv=1e-6,qRe=D9-vv;function fve(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function VRe(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return fve;const n=10**e;return function(r){this._+=r[0];for(let s=1,a=r.length;s<a;++s)this._+=Math.round(arguments[s]*n)/n+r[s]}}class KRe{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?fve:VRe(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,s){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+s}`}bezierCurveTo(e,n,r,s,a,o){this._append`C${+e},${+n},${+r},${+s},${this._x1=+a},${this._y1=+o}`}arcTo(e,n,r,s,a){if(e=+e,n=+n,r=+r,s=+s,a=+a,a<0)throw new Error(`negative radius: ${a}`);let o=this._x1,l=this._y1,c=r-e,u=s-n,d=o-e,h=l-n,f=d*d+h*h;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(f>vv)if(!(Math.abs(h*c-u*d)>vv)||!a)this._append`L${this._x1=e},${this._y1=n}`;else{let A=r-o,v=s-l,p=c*c+u*u,m=A*A+v*v,g=Math.sqrt(p),x=Math.sqrt(f),b=a*Math.tan((B9-Math.acos((p+f-m)/(2*g*x)))/2),j=b/x,N=b/g;Math.abs(j-1)>vv&&this._append`L${e+j*d},${n+j*h}`,this._append`A${a},${a},0,0,${+(h*A>d*v)},${this._x1=e+N*c},${this._y1=n+N*u}`}}arc(e,n,r,s,a,o){if(e=+e,n=+n,r=+r,o=!!o,r<0)throw new Error(`negative radius: ${r}`);let l=r*Math.cos(s),c=r*Math.sin(s),u=e+l,d=n+c,h=1^o,f=o?s-a:a-s;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>vv||Math.abs(this._y1-d)>vv)&&this._append`L${u},${d}`,r&&(f<0&&(f=f%D9+D9),f>qRe?this._append`A${r},${r},0,1,${h},${e-l},${n-c}A${r},${r},0,1,${h},${this._x1=u},${this._y1=d}`:f>vv&&this._append`A${r},${r},0,${+(f>=B9)},${h},${this._x1=e+r*Math.cos(a)},${this._y1=n+r*Math.sin(a)}`)}rect(e,n,r,s){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+s}h${-r}Z`}toString(){return this._}}function SW(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new KRe(e)}function EW(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function Ave(t){this._context=t}Ave.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function xF(t){return new Ave(t)}function pve(t){return t[0]}function mve(t){return t[1]}function gve(t,e){var n=Ei(!0),r=null,s=xF,a=null,o=SW(l);t=typeof t=="function"?t:t===void 0?pve:Ei(t),e=typeof e=="function"?e:e===void 0?mve:Ei(e);function l(c){var u,d=(c=EW(c)).length,h,f=!1,A;for(r==null&&(a=s(A=o())),u=0;u<=d;++u)!(u<d&&n(h=c[u],u,c))===f&&((f=!f)?a.lineStart():a.lineEnd()),f&&a.point(+t(h,u,c),+e(h,u,c));if(A)return a=null,A+""||null}return l.x=function(c){return arguments.length?(t=typeof c=="function"?c:Ei(+c),l):t},l.y=function(c){return arguments.length?(e=typeof c=="function"?c:Ei(+c),l):e},l.defined=function(c){return arguments.length?(n=typeof c=="function"?c:Ei(!!c),l):n},l.curve=function(c){return arguments.length?(s=c,r!=null&&(a=s(r)),l):s},l.context=function(c){return arguments.length?(c==null?r=a=null:a=s(r=c),l):r},l}function d4(t,e,n){var r=null,s=Ei(!0),a=null,o=xF,l=null,c=SW(u);t=typeof t=="function"?t:t===void 0?pve:Ei(+t),e=typeof e=="function"?e:Ei(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?mve:Ei(+n);function u(h){var f,A,v,p=(h=EW(h)).length,m,g=!1,x,b=new Array(p),j=new Array(p);for(a==null&&(l=o(x=c())),f=0;f<=p;++f){if(!(f<p&&s(m=h[f],f,h))===g)if(g=!g)A=f,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),v=f-1;v>=A;--v)l.point(b[v],j[v]);l.lineEnd(),l.areaEnd()}g&&(b[f]=+t(m,f,h),j[f]=+e(m,f,h),l.point(r?+r(m,f,h):b[f],n?+n(m,f,h):j[f]))}if(x)return l=null,x+""||null}function d(){return gve().defined(s).curve(o).context(a)}return u.x=function(h){return arguments.length?(t=typeof h=="function"?h:Ei(+h),r=null,u):t},u.x0=function(h){return arguments.length?(t=typeof h=="function"?h:Ei(+h),u):t},u.x1=function(h){return arguments.length?(r=h==null?null:typeof h=="function"?h:Ei(+h),u):r},u.y=function(h){return arguments.length?(e=typeof h=="function"?h:Ei(+h),n=null,u):e},u.y0=function(h){return arguments.length?(e=typeof h=="function"?h:Ei(+h),u):e},u.y1=function(h){return arguments.length?(n=h==null?null:typeof h=="function"?h:Ei(+h),u):n},u.lineX0=u.lineY0=function(){return d().x(t).y(e)},u.lineY1=function(){return d().x(t).y(n)},u.lineX1=function(){return d().x(r).y(e)},u.defined=function(h){return arguments.length?(s=typeof h=="function"?h:Ei(!!h),u):s},u.curve=function(h){return arguments.length?(o=h,a!=null&&(l=o(a)),u):o},u.context=function(h){return arguments.length?(h==null?a=l=null:l=o(a=h),u):a},u}class xve{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function GRe(t){return new xve(t,!0)}function XRe(t){return new xve(t,!1)}const BW={draw(t,e){const n=vh(e/f3);t.moveTo(n,0),t.arc(0,0,n,0,gF)}},YRe={draw(t,e){const n=vh(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},vve=vh(1/3),JRe=vve*2,ZRe={draw(t,e){const n=vh(e/JRe),r=n*vve;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},e7e={draw(t,e){const n=vh(e),r=-n/2;t.rect(r,r,n,n)}},t7e=.8908130915292852,yve=h3(f3/10)/h3(7*f3/10),n7e=h3(gF/10)*yve,r7e=-hve(gF/10)*yve,i7e={draw(t,e){const n=vh(e*t7e),r=n7e*n,s=r7e*n;t.moveTo(0,-n),t.lineTo(r,s);for(let a=1;a<5;++a){const o=gF*a/5,l=hve(o),c=h3(o);t.lineTo(c*n,-l*n),t.lineTo(l*r-c*s,c*r+l*s)}t.closePath()}},CO=vh(3),s7e={draw(t,e){const n=-vh(e/(CO*3));t.moveTo(0,n*2),t.lineTo(-CO*n,-n),t.lineTo(CO*n,-n),t.closePath()}},ju=-.5,Nu=vh(3)/2,T9=1/vh(12),a7e=(T9/2+1)*3,o7e={draw(t,e){const n=vh(e/a7e),r=n/2,s=n*T9,a=r,o=n*T9+n,l=-a,c=o;t.moveTo(r,s),t.lineTo(a,o),t.lineTo(l,c),t.lineTo(ju*r-Nu*s,Nu*r+ju*s),t.lineTo(ju*a-Nu*o,Nu*a+ju*o),t.lineTo(ju*l-Nu*c,Nu*l+ju*c),t.lineTo(ju*r+Nu*s,ju*s-Nu*r),t.lineTo(ju*a+Nu*o,ju*o-Nu*a),t.lineTo(ju*l+Nu*c,ju*c-Nu*l),t.closePath()}};function l7e(t,e){let n=null,r=SW(s);t=typeof t=="function"?t:Ei(t||BW),e=typeof e=="function"?e:Ei(e===void 0?64:+e);function s(){let a;if(n||(n=a=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),a)return n=null,a+""||null}return s.type=function(a){return arguments.length?(t=typeof a=="function"?a:Ei(a),s):t},s.size=function(a){return arguments.length?(e=typeof a=="function"?a:Ei(+a),s):e},s.context=function(a){return arguments.length?(n=a??null,s):n},s}function A3(){}function p3(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function bve(t){this._context=t}bve.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:p3(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:p3(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function c7e(t){return new bve(t)}function wve(t){this._context=t}wve.prototype={areaStart:A3,areaEnd:A3,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:p3(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function u7e(t){return new wve(t)}function jve(t){this._context=t}jve.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:p3(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function d7e(t){return new jve(t)}function Nve(t){this._context=t}Nve.prototype={areaStart:A3,areaEnd:A3,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function h7e(t){return new Nve(t)}function ete(t){return t<0?-1:1}function tte(t,e,n){var r=t._x1-t._x0,s=e-t._x1,a=(t._y1-t._y0)/(r||s<0&&-0),o=(n-t._y1)/(s||r<0&&-0),l=(a*s+o*r)/(r+s);return(ete(a)+ete(o))*Math.min(Math.abs(a),Math.abs(o),.5*Math.abs(l))||0}function nte(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function SO(t,e,n){var r=t._x0,s=t._y0,a=t._x1,o=t._y1,l=(a-r)/3;t._context.bezierCurveTo(r+l,s+l*e,a-l,o-l*n,a,o)}function m3(t){this._context=t}m3.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:SO(this,this._t0,nte(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,SO(this,nte(this,n=tte(this,t,e)),n);break;default:SO(this,this._t0,n=tte(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function _ve(t){this._context=new Cve(t)}(_ve.prototype=Object.create(m3.prototype)).point=function(t,e){m3.prototype.point.call(this,e,t)};function Cve(t){this._context=t}Cve.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,s,a){this._context.bezierCurveTo(e,t,r,n,a,s)}};function f7e(t){return new m3(t)}function A7e(t){return new _ve(t)}function Sve(t){this._context=t}Sve.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=rte(t),s=rte(e),a=0,o=1;o<n;++a,++o)this._context.bezierCurveTo(r[0][a],s[0][a],r[1][a],s[1][a],t[o],e[o]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function rte(t){var e,n=t.length-1,r,s=new Array(n),a=new Array(n),o=new Array(n);for(s[0]=0,a[0]=2,o[0]=t[0]+2*t[1],e=1;e<n-1;++e)s[e]=1,a[e]=4,o[e]=4*t[e]+2*t[e+1];for(s[n-1]=2,a[n-1]=7,o[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=s[e]/a[e-1],a[e]-=r,o[e]-=r*o[e-1];for(s[n-1]=o[n-1]/a[n-1],e=n-2;e>=0;--e)s[e]=(o[e]-s[e+1])/a[e];for(a[n-1]=(t[n]+s[n-1])/2,e=0;e<n-1;++e)a[e]=2*t[e+1]-s[e+1];return[s,a]}function p7e(t){return new Sve(t)}function vF(t,e){this._context=t,this._t=e}vF.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function m7e(t){return new vF(t,.5)}function g7e(t){return new vF(t,0)}function x7e(t){return new vF(t,1)}function Gw(t,e){if((o=t.length)>1)for(var n=1,r,s,a=t[e[0]],o,l=a.length;n<o;++n)for(s=a,a=t[e[n]],r=0;r<l;++r)a[r][1]+=a[r][0]=isNaN(s[r][1])?s[r][0]:s[r][1]}function k9(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function v7e(t,e){return t[e]}function y7e(t){const e=[];return e.key=t,e}function b7e(){var t=Ei([]),e=k9,n=Gw,r=v7e;function s(a){var o=Array.from(t.apply(this,arguments),y7e),l,c=o.length,u=-1,d;for(const h of a)for(l=0,++u;l<c;++l)(o[l][u]=[0,+r(h,o[l].key,u,a)]).data=h;for(l=0,d=EW(e(o));l<c;++l)o[d[l]].index=l;return n(o,d),o}return s.keys=function(a){return arguments.length?(t=typeof a=="function"?a:Ei(Array.from(a)),s):t},s.value=function(a){return arguments.length?(r=typeof a=="function"?a:Ei(+a),s):r},s.order=function(a){return arguments.length?(e=a==null?k9:typeof a=="function"?a:Ei(Array.from(a)),s):e},s.offset=function(a){return arguments.length?(n=a??Gw,s):n},s}function w7e(t,e){if((r=t.length)>0){for(var n,r,s=0,a=t[0].length,o;s<a;++s){for(o=n=0;n<r;++n)o+=t[n][s][1]||0;if(o)for(n=0;n<r;++n)t[n][s][1]/=o}Gw(t,e)}}function j7e(t,e){if((s=t.length)>0){for(var n=0,r=t[e[0]],s,a=r.length;n<a;++n){for(var o=0,l=0;o<s;++o)l+=t[o][n][1]||0;r[n][1]+=r[n][0]=-l/2}Gw(t,e)}}function N7e(t,e){if(!(!((o=t.length)>0)||!((a=(s=t[e[0]]).length)>0))){for(var n=0,r=1,s,a,o;r<a;++r){for(var l=0,c=0,u=0;l<o;++l){for(var d=t[e[l]],h=d[r][1]||0,f=d[r-1][1]||0,A=(h-f)/2,v=0;v<l;++v){var p=t[e[v]],m=p[r][1]||0,g=p[r-1][1]||0;A+=m-g}c+=h,u+=A*h}s[r-1][1]+=s[r-1][0]=n,c&&(n-=u/c)}s[r-1][1]+=s[r-1][0]=n,Gw(t,e)}}function V_(t){"@babel/helpers - typeof";return V_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},V_(t)}var _7e=["type","size","sizeType"];function F9(){return F9=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},F9.apply(this,arguments)}function ite(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function ste(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ite(Object(n),!0).forEach(function(r){C7e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ite(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function C7e(t,e,n){return e=S7e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function S7e(t){var e=E7e(t,"string");return V_(e)=="symbol"?e:e+""}function E7e(t,e){if(V_(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(V_(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function B7e(t,e){if(t==null)return{};var n=D7e(t,e),r,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(s=0;s<a.length;s++)r=a[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function D7e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var Eve={symbolCircle:BW,symbolCross:YRe,symbolDiamond:ZRe,symbolSquare:e7e,symbolStar:i7e,symbolTriangle:s7e,symbolWye:o7e},T7e=Math.PI/180,k7e=function(e){var n="symbol".concat(mF(e));return Eve[n]||BW},F7e=function(e,n,r){if(n==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var s=18*T7e;return 1.25*e*e*(Math.tan(s)-Math.tan(s*2)*Math.pow(Math.tan(s),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},P7e=function(e,n){Eve["symbol".concat(mF(e))]=n},yF=function(e){var n=e.type,r=n===void 0?"circle":n,s=e.size,a=s===void 0?64:s,o=e.sizeType,l=o===void 0?"area":o,c=B7e(e,_7e),u=ste(ste({},c),{},{type:r,size:a,sizeType:l}),d=function(){var m=k7e(r),g=l7e().type(m).size(F7e(a,l,r));return g()},h=u.className,f=u.cx,A=u.cy,v=Yt(u,!0);return f===+f&&A===+A&&a===+a?pe.createElement("path",F9({},v,{className:Dn("recharts-symbols",h),transform:"translate(".concat(f,", ").concat(A,")"),d:d()})):null};yF.registerSymbol=P7e;function Xw(t){"@babel/helpers - typeof";return Xw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xw(t)}function P9(){return P9=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},P9.apply(this,arguments)}function ate(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function U7e(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ate(Object(n),!0).forEach(function(r){K_(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ate(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function I7e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function O7e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Dve(r.key),r)}}function M7e(t,e,n){return e&&O7e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function L7e(t,e,n){return e=g3(e),R7e(t,Bve()?Reflect.construct(e,n||[],g3(t).constructor):e.apply(t,n))}function R7e(t,e){if(e&&(Xw(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Q7e(t)}function Q7e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Bve(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Bve=function(){return!!t})()}function g3(t){return g3=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},g3(t)}function H7e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&U9(t,e)}function U9(t,e){return U9=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},U9(t,e)}function K_(t,e,n){return e=Dve(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Dve(t){var e=z7e(t,"string");return Xw(e)=="symbol"?e:e+""}function z7e(t,e){if(Xw(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Xw(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Dd=32,DW=function(t){function e(){return I7e(this,e),L7e(this,e,arguments)}return H7e(e,t),M7e(e,[{key:"renderIcon",value:function(r){var s=this.props.inactiveColor,a=Dd/2,o=Dd/6,l=Dd/3,c=r.inactive?s:r.color;if(r.type==="plainline")return pe.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:r.payload.strokeDasharray,x1:0,y1:a,x2:Dd,y2:a,className:"recharts-legend-icon"});if(r.type==="line")return pe.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(a,"h").concat(l,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*l,",").concat(a,`
            H`).concat(Dd,"M").concat(2*l,",").concat(a,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(l,",").concat(a),className:"recharts-legend-icon"});if(r.type==="rect")return pe.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(Dd/8,"h").concat(Dd,"v").concat(Dd*3/4,"h").concat(-32,"z"),className:"recharts-legend-icon"});if(pe.isValidElement(r.legendIcon)){var u=U7e({},r);return delete u.legendIcon,pe.cloneElement(r.legendIcon,u)}return pe.createElement(yF,{fill:c,cx:a,cy:a,size:Dd,sizeType:"diameter",type:r.type})}},{key:"renderItems",value:function(){var r=this,s=this.props,a=s.payload,o=s.iconSize,l=s.layout,c=s.formatter,u=s.inactiveColor,d={x:0,y:0,width:Dd,height:Dd},h={display:l==="horizontal"?"inline-block":"block",marginRight:10},f={display:"inline-block",verticalAlign:"middle",marginRight:4};return a.map(function(A,v){var p=A.formatter||c,m=Dn(K_(K_({"recharts-legend-item":!0},"legend-item-".concat(v),!0),"inactive",A.inactive));if(A.type==="none")return null;var g=gn(A.value)?null:A.value;ah(!gn(A.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var x=A.inactive?u:A.color;return pe.createElement("li",P9({className:m,style:h,key:"legend-item-".concat(v)},ax(r.props,A,v)),pe.createElement(S9,{width:o,height:o,viewBox:d,style:f},r.renderIcon(A)),pe.createElement("span",{className:"recharts-legend-item-text",style:{color:x}},p?p(g,A,v):g))})}},{key:"render",value:function(){var r=this.props,s=r.payload,a=r.layout,o=r.align;if(!s||!s.length)return null;var l={padding:0,margin:0,textAlign:a==="horizontal"?o:"left"};return pe.createElement("ul",{className:"recharts-default-legend",style:l},this.renderItems())}}])}(E.PureComponent);K_(DW,"displayName","Legend");K_(DW,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var EO,ote;function $7e(){if(ote)return EO;ote=1;var t=fF();function e(){this.__data__=new t,this.size=0}return EO=e,EO}var BO,lte;function W7e(){if(lte)return BO;lte=1;function t(e){var n=this.__data__,r=n.delete(e);return this.size=n.size,r}return BO=t,BO}var DO,cte;function q7e(){if(cte)return DO;cte=1;function t(e){return this.__data__.get(e)}return DO=t,DO}var TO,ute;function V7e(){if(ute)return TO;ute=1;function t(e){return this.__data__.has(e)}return TO=t,TO}var kO,dte;function K7e(){if(dte)return kO;dte=1;var t=fF(),e=bW(),n=wW(),r=200;function s(a,o){var l=this.__data__;if(l instanceof t){var c=l.__data__;if(!e||c.length<r-1)return c.push([a,o]),this.size=++l.size,this;l=this.__data__=new n(c)}return l.set(a,o),this.size=l.size,this}return kO=s,kO}var FO,hte;function Tve(){if(hte)return FO;hte=1;var t=fF(),e=$7e(),n=W7e(),r=q7e(),s=V7e(),a=K7e();function o(l){var c=this.__data__=new t(l);this.size=c.size}return o.prototype.clear=e,o.prototype.delete=n,o.prototype.get=r,o.prototype.has=s,o.prototype.set=a,FO=o,FO}var PO,fte;function G7e(){if(fte)return PO;fte=1;var t="__lodash_hash_undefined__";function e(n){return this.__data__.set(n,t),this}return PO=e,PO}var UO,Ate;function X7e(){if(Ate)return UO;Ate=1;function t(e){return this.__data__.has(e)}return UO=t,UO}var IO,pte;function kve(){if(pte)return IO;pte=1;var t=wW(),e=G7e(),n=X7e();function r(s){var a=-1,o=s==null?0:s.length;for(this.__data__=new t;++a<o;)this.add(s[a])}return r.prototype.add=r.prototype.push=e,r.prototype.has=n,IO=r,IO}var OO,mte;function Fve(){if(mte)return OO;mte=1;function t(e,n){for(var r=-1,s=e==null?0:e.length;++r<s;)if(n(e[r],r,e))return!0;return!1}return OO=t,OO}var MO,gte;function Pve(){if(gte)return MO;gte=1;function t(e,n){return e.has(n)}return MO=t,MO}var LO,xte;function Uve(){if(xte)return LO;xte=1;var t=kve(),e=Fve(),n=Pve(),r=1,s=2;function a(o,l,c,u,d,h){var f=c&r,A=o.length,v=l.length;if(A!=v&&!(f&&v>A))return!1;var p=h.get(o),m=h.get(l);if(p&&m)return p==l&&m==o;var g=-1,x=!0,b=c&s?new t:void 0;for(h.set(o,l),h.set(l,o);++g<A;){var j=o[g],N=l[g];if(u)var _=f?u(N,j,g,l,o,h):u(j,N,g,o,l,h);if(_!==void 0){if(_)continue;x=!1;break}if(b){if(!e(l,function(C,k){if(!n(b,k)&&(j===C||d(j,C,c,u,h)))return b.push(k)})){x=!1;break}}else if(!(j===N||d(j,N,c,u,h))){x=!1;break}}return h.delete(o),h.delete(l),x}return LO=a,LO}var RO,vte;function Y7e(){if(vte)return RO;vte=1;var t=Lf(),e=t.Uint8Array;return RO=e,RO}var QO,yte;function J7e(){if(yte)return QO;yte=1;function t(e){var n=-1,r=Array(e.size);return e.forEach(function(s,a){r[++n]=[a,s]}),r}return QO=t,QO}var HO,bte;function TW(){if(bte)return HO;bte=1;function t(e){var n=-1,r=Array(e.size);return e.forEach(function(s){r[++n]=s}),r}return HO=t,HO}var zO,wte;function Z7e(){if(wte)return zO;wte=1;var t=LS(),e=Y7e(),n=yW(),r=Uve(),s=J7e(),a=TW(),o=1,l=2,c="[object Boolean]",u="[object Date]",d="[object Error]",h="[object Map]",f="[object Number]",A="[object RegExp]",v="[object Set]",p="[object String]",m="[object Symbol]",g="[object ArrayBuffer]",x="[object DataView]",b=t?t.prototype:void 0,j=b?b.valueOf:void 0;function N(_,C,k,T,O,I,F){switch(k){case x:if(_.byteLength!=C.byteLength||_.byteOffset!=C.byteOffset)return!1;_=_.buffer,C=C.buffer;case g:return!(_.byteLength!=C.byteLength||!I(new e(_),new e(C)));case c:case u:case f:return n(+_,+C);case d:return _.name==C.name&&_.message==C.message;case A:case p:return _==C+"";case h:var M=s;case v:var S=T&o;if(M||(M=a),_.size!=C.size&&!S)return!1;var q=F.get(_);if(q)return q==C;T|=l,F.set(_,C);var U=r(M(_),M(C),T,O,I,F);return F.delete(_),U;case m:if(j)return j.call(_)==j.call(C)}return!1}return zO=N,zO}var $O,jte;function Ive(){if(jte)return $O;jte=1;function t(e,n){for(var r=-1,s=n.length,a=e.length;++r<s;)e[a+r]=n[r];return e}return $O=t,$O}var WO,Nte;function e9e(){if(Nte)return WO;Nte=1;var t=Ive(),e=hc();function n(r,s,a){var o=s(r);return e(r)?o:t(o,a(r))}return WO=n,WO}var qO,_te;function t9e(){if(_te)return qO;_te=1;function t(e,n){for(var r=-1,s=e==null?0:e.length,a=0,o=[];++r<s;){var l=e[r];n(l,r,e)&&(o[a++]=l)}return o}return qO=t,qO}var VO,Cte;function n9e(){if(Cte)return VO;Cte=1;function t(){return[]}return VO=t,VO}var KO,Ste;function r9e(){if(Ste)return KO;Ste=1;var t=t9e(),e=n9e(),n=Object.prototype,r=n.propertyIsEnumerable,s=Object.getOwnPropertySymbols,a=s?function(o){return o==null?[]:(o=Object(o),t(s(o),function(l){return r.call(o,l)}))}:e;return KO=a,KO}var GO,Ete;function i9e(){if(Ete)return GO;Ete=1;function t(e,n){for(var r=-1,s=Array(e);++r<e;)s[r]=n(r);return s}return GO=t,GO}var XO,Bte;function s9e(){if(Bte)return XO;Bte=1;var t=Hp(),e=zp(),n="[object Arguments]";function r(s){return e(s)&&t(s)==n}return XO=r,XO}var YO,Dte;function kW(){if(Dte)return YO;Dte=1;var t=s9e(),e=zp(),n=Object.prototype,r=n.hasOwnProperty,s=n.propertyIsEnumerable,a=t(function(){return arguments}())?t:function(o){return e(o)&&r.call(o,"callee")&&!s.call(o,"callee")};return YO=a,YO}var UN={exports:{}},JO,Tte;function a9e(){if(Tte)return JO;Tte=1;function t(){return!1}return JO=t,JO}UN.exports;var kte;function Ove(){return kte||(kte=1,function(t,e){var n=Lf(),r=a9e(),s=e&&!e.nodeType&&e,a=s&&!0&&t&&!t.nodeType&&t,o=a&&a.exports===s,l=o?n.Buffer:void 0,c=l?l.isBuffer:void 0,u=c||r;t.exports=u}(UN,UN.exports)),UN.exports}var ZO,Fte;function FW(){if(Fte)return ZO;Fte=1;var t=9007199254740991,e=/^(?:0|[1-9]\d*)$/;function n(r,s){var a=typeof r;return s=s??t,!!s&&(a=="number"||a!="symbol"&&e.test(r))&&r>-1&&r%1==0&&r<s}return ZO=n,ZO}var e8,Pte;function PW(){if(Pte)return e8;Pte=1;var t=9007199254740991;function e(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=t}return e8=e,e8}var t8,Ute;function o9e(){if(Ute)return t8;Ute=1;var t=Hp(),e=PW(),n=zp(),r="[object Arguments]",s="[object Array]",a="[object Boolean]",o="[object Date]",l="[object Error]",c="[object Function]",u="[object Map]",d="[object Number]",h="[object Object]",f="[object RegExp]",A="[object Set]",v="[object String]",p="[object WeakMap]",m="[object ArrayBuffer]",g="[object DataView]",x="[object Float32Array]",b="[object Float64Array]",j="[object Int8Array]",N="[object Int16Array]",_="[object Int32Array]",C="[object Uint8Array]",k="[object Uint8ClampedArray]",T="[object Uint16Array]",O="[object Uint32Array]",I={};I[x]=I[b]=I[j]=I[N]=I[_]=I[C]=I[k]=I[T]=I[O]=!0,I[r]=I[s]=I[m]=I[a]=I[g]=I[o]=I[l]=I[c]=I[u]=I[d]=I[h]=I[f]=I[A]=I[v]=I[p]=!1;function F(M){return n(M)&&e(M.length)&&!!I[t(M)]}return t8=F,t8}var n8,Ite;function Mve(){if(Ite)return n8;Ite=1;function t(e){return function(n){return e(n)}}return n8=t,n8}var IN={exports:{}};IN.exports;var Ote;function l9e(){return Ote||(Ote=1,function(t,e){var n=rve(),r=e&&!e.nodeType&&e,s=r&&!0&&t&&!t.nodeType&&t,a=s&&s.exports===r,o=a&&n.process,l=function(){try{var c=s&&s.require&&s.require("util").types;return c||o&&o.binding&&o.binding("util")}catch{}}();t.exports=l}(IN,IN.exports)),IN.exports}var r8,Mte;function Lve(){if(Mte)return r8;Mte=1;var t=o9e(),e=Mve(),n=l9e(),r=n&&n.isTypedArray,s=r?e(r):t;return r8=s,r8}var i8,Lte;function c9e(){if(Lte)return i8;Lte=1;var t=i9e(),e=kW(),n=hc(),r=Ove(),s=FW(),a=Lve(),o=Object.prototype,l=o.hasOwnProperty;function c(u,d){var h=n(u),f=!h&&e(u),A=!h&&!f&&r(u),v=!h&&!f&&!A&&a(u),p=h||f||A||v,m=p?t(u.length,String):[],g=m.length;for(var x in u)(d||l.call(u,x))&&!(p&&(x=="length"||A&&(x=="offset"||x=="parent")||v&&(x=="buffer"||x=="byteLength"||x=="byteOffset")||s(x,g)))&&m.push(x);return m}return i8=c,i8}var s8,Rte;function u9e(){if(Rte)return s8;Rte=1;var t=Object.prototype;function e(n){var r=n&&n.constructor,s=typeof r=="function"&&r.prototype||t;return n===s}return s8=e,s8}var a8,Qte;function Rve(){if(Qte)return a8;Qte=1;function t(e,n){return function(r){return e(n(r))}}return a8=t,a8}var o8,Hte;function d9e(){if(Hte)return o8;Hte=1;var t=Rve(),e=t(Object.keys,Object);return o8=e,o8}var l8,zte;function h9e(){if(zte)return l8;zte=1;var t=u9e(),e=d9e(),n=Object.prototype,r=n.hasOwnProperty;function s(a){if(!t(a))return e(a);var o=[];for(var l in Object(a))r.call(a,l)&&l!="constructor"&&o.push(l);return o}return l8=s,l8}var c8,$te;function RS(){if($te)return c8;$te=1;var t=vW(),e=PW();function n(r){return r!=null&&e(r.length)&&!t(r)}return c8=n,c8}var u8,Wte;function bF(){if(Wte)return u8;Wte=1;var t=c9e(),e=h9e(),n=RS();function r(s){return n(s)?t(s):e(s)}return u8=r,u8}var d8,qte;function f9e(){if(qte)return d8;qte=1;var t=e9e(),e=r9e(),n=bF();function r(s){return t(s,n,e)}return d8=r,d8}var h8,Vte;function A9e(){if(Vte)return h8;Vte=1;var t=f9e(),e=1,n=Object.prototype,r=n.hasOwnProperty;function s(a,o,l,c,u,d){var h=l&e,f=t(a),A=f.length,v=t(o),p=v.length;if(A!=p&&!h)return!1;for(var m=A;m--;){var g=f[m];if(!(h?g in o:r.call(o,g)))return!1}var x=d.get(a),b=d.get(o);if(x&&b)return x==o&&b==a;var j=!0;d.set(a,o),d.set(o,a);for(var N=h;++m<A;){g=f[m];var _=a[g],C=o[g];if(c)var k=h?c(C,_,g,o,a,d):c(_,C,g,a,o,d);if(!(k===void 0?_===C||u(_,C,l,c,d):k)){j=!1;break}N||(N=g=="constructor")}if(j&&!N){var T=a.constructor,O=o.constructor;T!=O&&"constructor"in a&&"constructor"in o&&!(typeof T=="function"&&T instanceof T&&typeof O=="function"&&O instanceof O)&&(j=!1)}return d.delete(a),d.delete(o),j}return h8=s,h8}var f8,Kte;function p9e(){if(Kte)return f8;Kte=1;var t=Uy(),e=Lf(),n=t(e,"DataView");return f8=n,f8}var A8,Gte;function m9e(){if(Gte)return A8;Gte=1;var t=Uy(),e=Lf(),n=t(e,"Promise");return A8=n,A8}var p8,Xte;function Qve(){if(Xte)return p8;Xte=1;var t=Uy(),e=Lf(),n=t(e,"Set");return p8=n,p8}var m8,Yte;function g9e(){if(Yte)return m8;Yte=1;var t=Uy(),e=Lf(),n=t(e,"WeakMap");return m8=n,m8}var g8,Jte;function x9e(){if(Jte)return g8;Jte=1;var t=p9e(),e=bW(),n=m9e(),r=Qve(),s=g9e(),a=Hp(),o=ive(),l="[object Map]",c="[object Object]",u="[object Promise]",d="[object Set]",h="[object WeakMap]",f="[object DataView]",A=o(t),v=o(e),p=o(n),m=o(r),g=o(s),x=a;return(t&&x(new t(new ArrayBuffer(1)))!=f||e&&x(new e)!=l||n&&x(n.resolve())!=u||r&&x(new r)!=d||s&&x(new s)!=h)&&(x=function(b){var j=a(b),N=j==c?b.constructor:void 0,_=N?o(N):"";if(_)switch(_){case A:return f;case v:return l;case p:return u;case m:return d;case g:return h}return j}),g8=x,g8}var x8,Zte;function v9e(){if(Zte)return x8;Zte=1;var t=Tve(),e=Uve(),n=Z7e(),r=A9e(),s=x9e(),a=hc(),o=Ove(),l=Lve(),c=1,u="[object Arguments]",d="[object Array]",h="[object Object]",f=Object.prototype,A=f.hasOwnProperty;function v(p,m,g,x,b,j){var N=a(p),_=a(m),C=N?d:s(p),k=_?d:s(m);C=C==u?h:C,k=k==u?h:k;var T=C==h,O=k==h,I=C==k;if(I&&o(p)){if(!o(m))return!1;N=!0,T=!1}if(I&&!T)return j||(j=new t),N||l(p)?e(p,m,g,x,b,j):n(p,m,C,g,x,b,j);if(!(g&c)){var F=T&&A.call(p,"__wrapped__"),M=O&&A.call(m,"__wrapped__");if(F||M){var S=F?p.value():p,q=M?m.value():m;return j||(j=new t),b(S,q,g,x,j)}}return I?(j||(j=new t),r(p,m,g,x,b,j)):!1}return x8=v,x8}var v8,ene;function UW(){if(ene)return v8;ene=1;var t=v9e(),e=zp();function n(r,s,a,o,l){return r===s?!0:r==null||s==null||!e(r)&&!e(s)?r!==r&&s!==s:t(r,s,a,o,n,l)}return v8=n,v8}var y8,tne;function y9e(){if(tne)return y8;tne=1;var t=Tve(),e=UW(),n=1,r=2;function s(a,o,l,c){var u=l.length,d=u,h=!c;if(a==null)return!d;for(a=Object(a);u--;){var f=l[u];if(h&&f[2]?f[1]!==a[f[0]]:!(f[0]in a))return!1}for(;++u<d;){f=l[u];var A=f[0],v=a[A],p=f[1];if(h&&f[2]){if(v===void 0&&!(A in a))return!1}else{var m=new t;if(c)var g=c(v,p,A,a,o,m);if(!(g===void 0?e(p,v,n|r,c,m):g))return!1}}return!0}return y8=s,y8}var b8,nne;function Hve(){if(nne)return b8;nne=1;var t=bx();function e(n){return n===n&&!t(n)}return b8=e,b8}var w8,rne;function b9e(){if(rne)return w8;rne=1;var t=Hve(),e=bF();function n(r){for(var s=e(r),a=s.length;a--;){var o=s[a],l=r[o];s[a]=[o,l,t(l)]}return s}return w8=n,w8}var j8,ine;function zve(){if(ine)return j8;ine=1;function t(e,n){return function(r){return r==null?!1:r[e]===n&&(n!==void 0||e in Object(r))}}return j8=t,j8}var N8,sne;function w9e(){if(sne)return N8;sne=1;var t=y9e(),e=b9e(),n=zve();function r(s){var a=e(s);return a.length==1&&a[0][2]?n(a[0][0],a[0][1]):function(o){return o===s||t(o,s,a)}}return N8=r,N8}var _8,ane;function j9e(){if(ane)return _8;ane=1;function t(e,n){return e!=null&&n in Object(e)}return _8=t,_8}var C8,one;function N9e(){if(one)return C8;one=1;var t=ove(),e=kW(),n=hc(),r=FW(),s=PW(),a=pF();function o(l,c,u){c=t(c,l);for(var d=-1,h=c.length,f=!1;++d<h;){var A=a(c[d]);if(!(f=l!=null&&u(l,A)))break;l=l[A]}return f||++d!=h?f:(h=l==null?0:l.length,!!h&&s(h)&&r(A,h)&&(n(l)||e(l)))}return C8=o,C8}var S8,lne;function _9e(){if(lne)return S8;lne=1;var t=j9e(),e=N9e();function n(r,s){return r!=null&&e(r,s,t)}return S8=n,S8}var E8,cne;function C9e(){if(cne)return E8;cne=1;var t=UW(),e=lve(),n=_9e(),r=xW(),s=Hve(),a=zve(),o=pF(),l=1,c=2;function u(d,h){return r(d)&&s(h)?a(o(d),h):function(f){var A=e(f,d);return A===void 0&&A===h?n(f,d):t(h,A,l|c)}}return E8=u,E8}var B8,une;function nj(){if(une)return B8;une=1;function t(e){return e}return B8=t,B8}var D8,dne;function S9e(){if(dne)return D8;dne=1;function t(e){return function(n){return n==null?void 0:n[e]}}return D8=t,D8}var T8,hne;function E9e(){if(hne)return T8;hne=1;var t=NW();function e(n){return function(r){return t(r,n)}}return T8=e,T8}var k8,fne;function B9e(){if(fne)return k8;fne=1;var t=S9e(),e=E9e(),n=xW(),r=pF();function s(a){return n(a)?t(r(a)):e(a)}return k8=s,k8}var F8,Ane;function Rf(){if(Ane)return F8;Ane=1;var t=w9e(),e=C9e(),n=nj(),r=hc(),s=B9e();function a(o){return typeof o=="function"?o:o==null?n:typeof o=="object"?r(o)?e(o[0],o[1]):t(o):s(o)}return F8=a,F8}var P8,pne;function $ve(){if(pne)return P8;pne=1;function t(e,n,r,s){for(var a=e.length,o=r+(s?1:-1);s?o--:++o<a;)if(n(e[o],o,e))return o;return-1}return P8=t,P8}var U8,mne;function D9e(){if(mne)return U8;mne=1;function t(e){return e!==e}return U8=t,U8}var I8,gne;function T9e(){if(gne)return I8;gne=1;function t(e,n,r){for(var s=r-1,a=e.length;++s<a;)if(e[s]===n)return s;return-1}return I8=t,I8}var O8,xne;function k9e(){if(xne)return O8;xne=1;var t=$ve(),e=D9e(),n=T9e();function r(s,a,o){return a===a?n(s,a,o):t(s,e,o)}return O8=r,O8}var M8,vne;function F9e(){if(vne)return M8;vne=1;var t=k9e();function e(n,r){var s=n==null?0:n.length;return!!s&&t(n,r,0)>-1}return M8=e,M8}var L8,yne;function P9e(){if(yne)return L8;yne=1;function t(e,n,r){for(var s=-1,a=e==null?0:e.length;++s<a;)if(r(n,e[s]))return!0;return!1}return L8=t,L8}var R8,bne;function U9e(){if(bne)return R8;bne=1;function t(){}return R8=t,R8}var Q8,wne;function I9e(){if(wne)return Q8;wne=1;var t=Qve(),e=U9e(),n=TW(),r=1/0,s=t&&1/n(new t([,-0]))[1]==r?function(a){return new t(a)}:e;return Q8=s,Q8}var H8,jne;function O9e(){if(jne)return H8;jne=1;var t=kve(),e=F9e(),n=P9e(),r=Pve(),s=I9e(),a=TW(),o=200;function l(c,u,d){var h=-1,f=e,A=c.length,v=!0,p=[],m=p;if(d)v=!1,f=n;else if(A>=o){var g=u?null:s(c);if(g)return a(g);v=!1,f=r,m=new t}else m=u?[]:p;e:for(;++h<A;){var x=c[h],b=u?u(x):x;if(x=d||x!==0?x:0,v&&b===b){for(var j=m.length;j--;)if(m[j]===b)continue e;u&&m.push(b),p.push(x)}else f(m,b,d)||(m!==p&&m.push(b),p.push(x))}return p}return H8=l,H8}var z8,Nne;function M9e(){if(Nne)return z8;Nne=1;var t=Rf(),e=O9e();function n(r,s){return r&&r.length?e(r,t(s,2)):[]}return z8=n,z8}var L9e=M9e();const _ne=wr(L9e);function Wve(t,e,n){return e===!0?_ne(t,n):gn(e)?_ne(t,e):t}function Yw(t){"@babel/helpers - typeof";return Yw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yw(t)}var R9e=["ref"];function Cne(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function CA(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Cne(Object(n),!0).forEach(function(r){wF(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Cne(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Q9e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Sne(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Vve(r.key),r)}}function H9e(t,e,n){return e&&Sne(t.prototype,e),n&&Sne(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function z9e(t,e,n){return e=x3(e),$9e(t,qve()?Reflect.construct(e,n||[],x3(t).constructor):e.apply(t,n))}function $9e(t,e){if(e&&(Yw(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return W9e(t)}function W9e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function qve(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(qve=function(){return!!t})()}function x3(t){return x3=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},x3(t)}function q9e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&I9(t,e)}function I9(t,e){return I9=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},I9(t,e)}function wF(t,e,n){return e=Vve(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Vve(t){var e=V9e(t,"string");return Yw(e)=="symbol"?e:e+""}function V9e(t,e){if(Yw(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Yw(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function K9e(t,e){if(t==null)return{};var n=G9e(t,e),r,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(s=0;s<a.length;s++)r=a[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function G9e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function X9e(t){return t.value}function Y9e(t,e){if(pe.isValidElement(t))return pe.cloneElement(t,e);if(typeof t=="function")return pe.createElement(t,e);e.ref;var n=K9e(e,R9e);return pe.createElement(DW,n)}var Ene=1,Ji=function(t){function e(){var n;Q9e(this,e);for(var r=arguments.length,s=new Array(r),a=0;a<r;a++)s[a]=arguments[a];return n=z9e(this,e,[].concat(s)),wF(n,"lastBoundingBox",{width:-1,height:-1}),n}return q9e(e,t),H9e(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();return r.height=this.wrapperNode.offsetHeight,r.width=this.wrapperNode.offsetWidth,r}return null}},{key:"updateBBox",value:function(){var r=this.props.onBBoxUpdate,s=this.getBBox();s?(Math.abs(s.width-this.lastBoundingBox.width)>Ene||Math.abs(s.height-this.lastBoundingBox.height)>Ene)&&(this.lastBoundingBox.width=s.width,this.lastBoundingBox.height=s.height,r&&r(s)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,r&&r(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?CA({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(r){var s=this.props,a=s.layout,o=s.align,l=s.verticalAlign,c=s.margin,u=s.chartWidth,d=s.chartHeight,h,f;if(!r||(r.left===void 0||r.left===null)&&(r.right===void 0||r.right===null))if(o==="center"&&a==="vertical"){var A=this.getBBoxSnapshot();h={left:((u||0)-A.width)/2}}else h=o==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!r||(r.top===void 0||r.top===null)&&(r.bottom===void 0||r.bottom===null))if(l==="middle"){var v=this.getBBoxSnapshot();f={top:((d||0)-v.height)/2}}else f=l==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return CA(CA({},h),f)}},{key:"render",value:function(){var r=this,s=this.props,a=s.content,o=s.width,l=s.height,c=s.wrapperStyle,u=s.payloadUniqBy,d=s.payload,h=CA(CA({position:"absolute",width:o||"auto",height:l||"auto"},this.getDefaultPosition(c)),c);return pe.createElement("div",{className:"recharts-legend-wrapper",style:h,ref:function(A){r.wrapperNode=A}},Y9e(a,CA(CA({},this.props),{},{payload:Wve(d,u,X9e)})))}}],[{key:"getWithHeight",value:function(r,s){var a=CA(CA({},this.defaultProps),r.props),o=a.layout;return o==="vertical"&&Tt(r.props.height)?{height:r.props.height}:o==="horizontal"?{width:r.props.width||s}:null}}])}(E.PureComponent);wF(Ji,"displayName","Legend");wF(Ji,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var $8,Bne;function J9e(){if(Bne)return $8;Bne=1;var t=LS(),e=kW(),n=hc(),r=t?t.isConcatSpreadable:void 0;function s(a){return n(a)||e(a)||!!(r&&a&&a[r])}return $8=s,$8}var W8,Dne;function Kve(){if(Dne)return W8;Dne=1;var t=Ive(),e=J9e();function n(r,s,a,o,l){var c=-1,u=r.length;for(a||(a=e),l||(l=[]);++c<u;){var d=r[c];s>0&&a(d)?s>1?n(d,s-1,a,o,l):t(l,d):o||(l[l.length]=d)}return l}return W8=n,W8}var q8,Tne;function Z9e(){if(Tne)return q8;Tne=1;function t(e){return function(n,r,s){for(var a=-1,o=Object(n),l=s(n),c=l.length;c--;){var u=l[e?c:++a];if(r(o[u],u,o)===!1)break}return n}}return q8=t,q8}var V8,kne;function eQe(){if(kne)return V8;kne=1;var t=Z9e(),e=t();return V8=e,V8}var K8,Fne;function Gve(){if(Fne)return K8;Fne=1;var t=eQe(),e=bF();function n(r,s){return r&&t(r,s,e)}return K8=n,K8}var G8,Pne;function tQe(){if(Pne)return G8;Pne=1;var t=RS();function e(n,r){return function(s,a){if(s==null)return s;if(!t(s))return n(s,a);for(var o=s.length,l=r?o:-1,c=Object(s);(r?l--:++l<o)&&a(c[l],l,c)!==!1;);return s}}return G8=e,G8}var X8,Une;function IW(){if(Une)return X8;Une=1;var t=Gve(),e=tQe(),n=e(t);return X8=n,X8}var Y8,Ine;function Xve(){if(Ine)return Y8;Ine=1;var t=IW(),e=RS();function n(r,s){var a=-1,o=e(r)?Array(r.length):[];return t(r,function(l,c,u){o[++a]=s(l,c,u)}),o}return Y8=n,Y8}var J8,One;function nQe(){if(One)return J8;One=1;function t(e,n){var r=e.length;for(e.sort(n);r--;)e[r]=e[r].value;return e}return J8=t,J8}var Z8,Mne;function rQe(){if(Mne)return Z8;Mne=1;var t=Z2();function e(n,r){if(n!==r){var s=n!==void 0,a=n===null,o=n===n,l=t(n),c=r!==void 0,u=r===null,d=r===r,h=t(r);if(!u&&!h&&!l&&n>r||l&&c&&d&&!u&&!h||a&&c&&d||!s&&d||!o)return 1;if(!a&&!l&&!h&&n<r||h&&s&&o&&!a&&!l||u&&s&&o||!c&&o||!d)return-1}return 0}return Z8=e,Z8}var eM,Lne;function iQe(){if(Lne)return eM;Lne=1;var t=rQe();function e(n,r,s){for(var a=-1,o=n.criteria,l=r.criteria,c=o.length,u=s.length;++a<c;){var d=t(o[a],l[a]);if(d){if(a>=u)return d;var h=s[a];return d*(h=="desc"?-1:1)}}return n.index-r.index}return eM=e,eM}var tM,Rne;function sQe(){if(Rne)return tM;Rne=1;var t=jW(),e=NW(),n=Rf(),r=Xve(),s=nQe(),a=Mve(),o=iQe(),l=nj(),c=hc();function u(d,h,f){h.length?h=t(h,function(p){return c(p)?function(m){return e(m,p.length===1?p[0]:p)}:p}):h=[l];var A=-1;h=t(h,a(n));var v=r(d,function(p,m,g){var x=t(h,function(b){return b(p)});return{criteria:x,index:++A,value:p}});return s(v,function(p,m){return o(p,m,f)})}return tM=u,tM}var nM,Qne;function aQe(){if(Qne)return nM;Qne=1;function t(e,n,r){switch(r.length){case 0:return e.call(n);case 1:return e.call(n,r[0]);case 2:return e.call(n,r[0],r[1]);case 3:return e.call(n,r[0],r[1],r[2])}return e.apply(n,r)}return nM=t,nM}var rM,Hne;function oQe(){if(Hne)return rM;Hne=1;var t=aQe(),e=Math.max;function n(r,s,a){return s=e(s===void 0?r.length-1:s,0),function(){for(var o=arguments,l=-1,c=e(o.length-s,0),u=Array(c);++l<c;)u[l]=o[s+l];l=-1;for(var d=Array(s+1);++l<s;)d[l]=o[l];return d[s]=a(u),t(r,this,d)}}return rM=n,rM}var iM,zne;function lQe(){if(zne)return iM;zne=1;function t(e){return function(){return e}}return iM=t,iM}var sM,$ne;function Yve(){if($ne)return sM;$ne=1;var t=Uy(),e=function(){try{var n=t(Object,"defineProperty");return n({},"",{}),n}catch{}}();return sM=e,sM}var aM,Wne;function cQe(){if(Wne)return aM;Wne=1;var t=lQe(),e=Yve(),n=nj(),r=e?function(s,a){return e(s,"toString",{configurable:!0,enumerable:!1,value:t(a),writable:!0})}:n;return aM=r,aM}var oM,qne;function uQe(){if(qne)return oM;qne=1;var t=800,e=16,n=Date.now;function r(s){var a=0,o=0;return function(){var l=n(),c=e-(l-o);if(o=l,c>0){if(++a>=t)return arguments[0]}else a=0;return s.apply(void 0,arguments)}}return oM=r,oM}var lM,Vne;function dQe(){if(Vne)return lM;Vne=1;var t=cQe(),e=uQe(),n=e(t);return lM=n,lM}var cM,Kne;function hQe(){if(Kne)return cM;Kne=1;var t=nj(),e=oQe(),n=dQe();function r(s,a){return n(e(s,a,t),s+"")}return cM=r,cM}var uM,Gne;function jF(){if(Gne)return uM;Gne=1;var t=yW(),e=RS(),n=FW(),r=bx();function s(a,o,l){if(!r(l))return!1;var c=typeof o;return(c=="number"?e(l)&&n(o,l.length):c=="string"&&o in l)?t(l[o],a):!1}return uM=s,uM}var dM,Xne;function fQe(){if(Xne)return dM;Xne=1;var t=Kve(),e=sQe(),n=hQe(),r=jF(),s=n(function(a,o){if(a==null)return[];var l=o.length;return l>1&&r(a,o[0],o[1])?o=[]:l>2&&r(o[0],o[1],o[2])&&(o=[o[0]]),e(a,t(o,1),[])});return dM=s,dM}var AQe=fQe();const OW=wr(AQe);function G_(t){"@babel/helpers - typeof";return G_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},G_(t)}function O9(){return O9=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},O9.apply(this,arguments)}function pQe(t,e){return vQe(t)||xQe(t,e)||gQe(t,e)||mQe()}function mQe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gQe(t,e){if(t){if(typeof t=="string")return Yne(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Yne(t,e)}}function Yne(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function xQe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,s,a,o,l=[],c=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function vQe(t){if(Array.isArray(t))return t}function Jne(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function hM(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Jne(Object(n),!0).forEach(function(r){yQe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Jne(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function yQe(t,e,n){return e=bQe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function bQe(t){var e=wQe(t,"string");return G_(e)=="symbol"?e:e+""}function wQe(t,e){if(G_(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(G_(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function jQe(t){return Array.isArray(t)&&pa(t[0])&&pa(t[1])?t.join(" ~ "):t}var NQe=function(e){var n=e.separator,r=n===void 0?" : ":n,s=e.contentStyle,a=s===void 0?{}:s,o=e.itemStyle,l=o===void 0?{}:o,c=e.labelStyle,u=c===void 0?{}:c,d=e.payload,h=e.formatter,f=e.itemSorter,A=e.wrapperClassName,v=e.labelClassName,p=e.label,m=e.labelFormatter,g=e.accessibilityLayer,x=g===void 0?!1:g,b=function(){if(d&&d.length){var F={padding:0,margin:0},M=(f?OW(d,f):d).map(function(S,q){if(S.type==="none")return null;var U=hM({display:"block",paddingTop:4,paddingBottom:4,color:S.color||"#000"},l),L=S.formatter||h||jQe,z=S.value,$=S.name,K=z,V=$;if(L&&K!=null&&V!=null){var H=L(z,$,S,q,d);if(Array.isArray(H)){var W=pQe(H,2);K=W[0],V=W[1]}else K=H}return pe.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(q),style:U},pa(V)?pe.createElement("span",{className:"recharts-tooltip-item-name"},V):null,pa(V)?pe.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,pe.createElement("span",{className:"recharts-tooltip-item-value"},K),pe.createElement("span",{className:"recharts-tooltip-item-unit"},S.unit||""))});return pe.createElement("ul",{className:"recharts-tooltip-item-list",style:F},M)}return null},j=hM({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},a),N=hM({margin:0},u),_=!vn(p),C=_?p:"",k=Dn("recharts-default-tooltip",A),T=Dn("recharts-tooltip-label",v);_&&m&&d!==void 0&&d!==null&&(C=m(p,d));var O=x?{role:"status","aria-live":"assertive"}:{};return pe.createElement("div",O9({className:k,style:j},O),pe.createElement("p",{className:T,style:N},pe.isValidElement(C)?C:"".concat(C)),b())};function X_(t){"@babel/helpers - typeof";return X_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},X_(t)}function h4(t,e,n){return e=_Qe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _Qe(t){var e=CQe(t,"string");return X_(e)=="symbol"?e:e+""}function CQe(t,e){if(X_(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(X_(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Yj="recharts-tooltip-wrapper",SQe={visibility:"hidden"};function EQe(t){var e=t.coordinate,n=t.translateX,r=t.translateY;return Dn(Yj,h4(h4(h4(h4({},"".concat(Yj,"-right"),Tt(n)&&e&&Tt(e.x)&&n>=e.x),"".concat(Yj,"-left"),Tt(n)&&e&&Tt(e.x)&&n<e.x),"".concat(Yj,"-bottom"),Tt(r)&&e&&Tt(e.y)&&r>=e.y),"".concat(Yj,"-top"),Tt(r)&&e&&Tt(e.y)&&r<e.y))}function Zne(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.key,s=t.offsetTopLeft,a=t.position,o=t.reverseDirection,l=t.tooltipDimension,c=t.viewBox,u=t.viewBoxDimension;if(a&&Tt(a[r]))return a[r];var d=n[r]-l-s,h=n[r]+s;if(e[r])return o[r]?d:h;if(o[r]){var f=d,A=c[r];return f<A?Math.max(h,c[r]):Math.max(d,c[r])}var v=h+l,p=c[r]+u;return v>p?Math.max(d,c[r]):Math.max(h,c[r])}function BQe(t){var e=t.translateX,n=t.translateY,r=t.useTranslate3d;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function DQe(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.offsetTopLeft,s=t.position,a=t.reverseDirection,o=t.tooltipBox,l=t.useTranslate3d,c=t.viewBox,u,d,h;return o.height>0&&o.width>0&&n?(d=Zne({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:s,reverseDirection:a,tooltipDimension:o.width,viewBox:c,viewBoxDimension:c.width}),h=Zne({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:s,reverseDirection:a,tooltipDimension:o.height,viewBox:c,viewBoxDimension:c.height}),u=BQe({translateX:d,translateY:h,useTranslate3d:l})):u=SQe,{cssProperties:u,cssClasses:EQe({translateX:d,translateY:h,coordinate:n})}}function Jw(t){"@babel/helpers - typeof";return Jw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jw(t)}function ere(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function tre(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ere(Object(n),!0).forEach(function(r){L9(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ere(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function TQe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function kQe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Zve(r.key),r)}}function FQe(t,e,n){return e&&kQe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function PQe(t,e,n){return e=v3(e),UQe(t,Jve()?Reflect.construct(e,n||[],v3(t).constructor):e.apply(t,n))}function UQe(t,e){if(e&&(Jw(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return IQe(t)}function IQe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Jve(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Jve=function(){return!!t})()}function v3(t){return v3=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},v3(t)}function OQe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&M9(t,e)}function M9(t,e){return M9=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},M9(t,e)}function L9(t,e,n){return e=Zve(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Zve(t){var e=MQe(t,"string");return Jw(e)=="symbol"?e:e+""}function MQe(t,e){if(Jw(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Jw(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var nre=1,LQe=function(t){function e(){var n;TQe(this,e);for(var r=arguments.length,s=new Array(r),a=0;a<r;a++)s[a]=arguments[a];return n=PQe(this,e,[].concat(s)),L9(n,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),L9(n,"handleKeyDown",function(o){if(o.key==="Escape"){var l,c,u,d;n.setState({dismissed:!0,dismissedAtCoordinate:{x:(l=(c=n.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&l!==void 0?l:0,y:(u=(d=n.props.coordinate)===null||d===void 0?void 0:d.y)!==null&&u!==void 0?u:0}})}}),n}return OQe(e,t),FQe(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();(Math.abs(r.width-this.state.lastBoundingBox.width)>nre||Math.abs(r.height-this.state.lastBoundingBox.height)>nre)&&this.setState({lastBoundingBox:{width:r.width,height:r.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var r,s;this.props.active&&this.updateBBox(),this.state.dismissed&&(((r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==this.state.dismissedAtCoordinate.x||((s=this.props.coordinate)===null||s===void 0?void 0:s.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var r=this,s=this.props,a=s.active,o=s.allowEscapeViewBox,l=s.animationDuration,c=s.animationEasing,u=s.children,d=s.coordinate,h=s.hasPayload,f=s.isAnimationActive,A=s.offset,v=s.position,p=s.reverseDirection,m=s.useTranslate3d,g=s.viewBox,x=s.wrapperStyle,b=DQe({allowEscapeViewBox:o,coordinate:d,offsetTopLeft:A,position:v,reverseDirection:p,tooltipBox:this.state.lastBoundingBox,useTranslate3d:m,viewBox:g}),j=b.cssClasses,N=b.cssProperties,_=tre(tre({transition:f&&a?"transform ".concat(l,"ms ").concat(c):void 0},N),{},{pointerEvents:"none",visibility:!this.state.dismissed&&a&&h?"visible":"hidden",position:"absolute",top:0,left:0},x);return pe.createElement("div",{tabIndex:-1,className:j,style:_,ref:function(k){r.wrapperNode=k}},u)}}])}(E.PureComponent),RQe=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Qf={isSsr:RQe()};function Zw(t){"@babel/helpers - typeof";return Zw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zw(t)}function rre(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function ire(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?rre(Object(n),!0).forEach(function(r){MW(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):rre(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function QQe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function HQe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,t0e(r.key),r)}}function zQe(t,e,n){return e&&HQe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function $Qe(t,e,n){return e=y3(e),WQe(t,e0e()?Reflect.construct(e,n||[],y3(t).constructor):e.apply(t,n))}function WQe(t,e){if(e&&(Zw(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return qQe(t)}function qQe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function e0e(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(e0e=function(){return!!t})()}function y3(t){return y3=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},y3(t)}function VQe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&R9(t,e)}function R9(t,e){return R9=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},R9(t,e)}function MW(t,e,n){return e=t0e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function t0e(t){var e=KQe(t,"string");return Zw(e)=="symbol"?e:e+""}function KQe(t,e){if(Zw(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Zw(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function GQe(t){return t.dataKey}function XQe(t,e){return pe.isValidElement(t)?pe.cloneElement(t,e):typeof t=="function"?pe.createElement(t,e):pe.createElement(NQe,e)}var er=function(t){function e(){return QQe(this,e),$Qe(this,e,arguments)}return VQe(e,t),zQe(e,[{key:"render",value:function(){var r=this,s=this.props,a=s.active,o=s.allowEscapeViewBox,l=s.animationDuration,c=s.animationEasing,u=s.content,d=s.coordinate,h=s.filterNull,f=s.isAnimationActive,A=s.offset,v=s.payload,p=s.payloadUniqBy,m=s.position,g=s.reverseDirection,x=s.useTranslate3d,b=s.viewBox,j=s.wrapperStyle,N=v??[];h&&N.length&&(N=Wve(v.filter(function(C){return C.value!=null&&(C.hide!==!0||r.props.includeHidden)}),p,GQe));var _=N.length>0;return pe.createElement(LQe,{allowEscapeViewBox:o,animationDuration:l,animationEasing:c,isAnimationActive:f,active:a,coordinate:d,hasPayload:_,offset:A,position:m,reverseDirection:g,useTranslate3d:x,viewBox:b,wrapperStyle:j},XQe(u,ire(ire({},this.props),{},{payload:N})))}}])}(E.PureComponent);MW(er,"displayName","Tooltip");MW(er,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Qf.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var fM,sre;function YQe(){if(sre)return fM;sre=1;var t=Lf(),e=function(){return t.Date.now()};return fM=e,fM}var AM,are;function JQe(){if(are)return AM;are=1;var t=/\s/;function e(n){for(var r=n.length;r--&&t.test(n.charAt(r)););return r}return AM=e,AM}var pM,ore;function ZQe(){if(ore)return pM;ore=1;var t=JQe(),e=/^\s+/;function n(r){return r&&r.slice(0,t(r)+1).replace(e,"")}return pM=n,pM}var mM,lre;function n0e(){if(lre)return mM;lre=1;var t=ZQe(),e=bx(),n=Z2(),r=NaN,s=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,o=/^0o[0-7]+$/i,l=parseInt;function c(u){if(typeof u=="number")return u;if(n(u))return r;if(e(u)){var d=typeof u.valueOf=="function"?u.valueOf():u;u=e(d)?d+"":d}if(typeof u!="string")return u===0?u:+u;u=t(u);var h=a.test(u);return h||o.test(u)?l(u.slice(2),h?2:8):s.test(u)?r:+u}return mM=c,mM}var gM,cre;function eHe(){if(cre)return gM;cre=1;var t=bx(),e=YQe(),n=n0e(),r="Expected a function",s=Math.max,a=Math.min;function o(l,c,u){var d,h,f,A,v,p,m=0,g=!1,x=!1,b=!0;if(typeof l!="function")throw new TypeError(r);c=n(c)||0,t(u)&&(g=!!u.leading,x="maxWait"in u,f=x?s(n(u.maxWait)||0,c):f,b="trailing"in u?!!u.trailing:b);function j(M){var S=d,q=h;return d=h=void 0,m=M,A=l.apply(q,S),A}function N(M){return m=M,v=setTimeout(k,c),g?j(M):A}function _(M){var S=M-p,q=M-m,U=c-S;return x?a(U,f-q):U}function C(M){var S=M-p,q=M-m;return p===void 0||S>=c||S<0||x&&q>=f}function k(){var M=e();if(C(M))return T(M);v=setTimeout(k,_(M))}function T(M){return v=void 0,b&&d?j(M):(d=h=void 0,A)}function O(){v!==void 0&&clearTimeout(v),m=0,d=p=h=v=void 0}function I(){return v===void 0?A:T(e())}function F(){var M=e(),S=C(M);if(d=arguments,h=this,p=M,S){if(v===void 0)return N(p);if(x)return clearTimeout(v),v=setTimeout(k,c),j(p)}return v===void 0&&(v=setTimeout(k,c)),A}return F.cancel=O,F.flush=I,F}return gM=o,gM}var xM,ure;function tHe(){if(ure)return xM;ure=1;var t=eHe(),e=bx(),n="Expected a function";function r(s,a,o){var l=!0,c=!0;if(typeof s!="function")throw new TypeError(n);return e(o)&&(l="leading"in o?!!o.leading:l,c="trailing"in o?!!o.trailing:c),t(s,a,{leading:l,maxWait:a,trailing:c})}return xM=r,xM}var nHe=tHe();const r0e=wr(nHe);function Y_(t){"@babel/helpers - typeof";return Y_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Y_(t)}function dre(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function f4(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?dre(Object(n),!0).forEach(function(r){rHe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):dre(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function rHe(t,e,n){return e=iHe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function iHe(t){var e=sHe(t,"string");return Y_(e)=="symbol"?e:e+""}function sHe(t,e){if(Y_(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Y_(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function aHe(t,e){return uHe(t)||cHe(t,e)||lHe(t,e)||oHe()}function oHe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lHe(t,e){if(t){if(typeof t=="string")return hre(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return hre(t,e)}}function hre(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function cHe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,s,a,o,l=[],c=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function uHe(t){if(Array.isArray(t))return t}var Cr=E.forwardRef(function(t,e){var n=t.aspect,r=t.initialDimension,s=r===void 0?{width:-1,height:-1}:r,a=t.width,o=a===void 0?"100%":a,l=t.height,c=l===void 0?"100%":l,u=t.minWidth,d=u===void 0?0:u,h=t.minHeight,f=t.maxHeight,A=t.children,v=t.debounce,p=v===void 0?0:v,m=t.id,g=t.className,x=t.onResize,b=t.style,j=b===void 0?{}:b,N=E.useRef(null),_=E.useRef();_.current=x,E.useImperativeHandle(e,function(){return Object.defineProperty(N.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),N.current},configurable:!0})});var C=E.useState({containerWidth:s.width,containerHeight:s.height}),k=aHe(C,2),T=k[0],O=k[1],I=E.useCallback(function(M,S){O(function(q){var U=Math.round(M),L=Math.round(S);return q.containerWidth===U&&q.containerHeight===L?q:{containerWidth:U,containerHeight:L}})},[]);E.useEffect(function(){var M=function($){var K,V=$[0].contentRect,H=V.width,W=V.height;I(H,W),(K=_.current)===null||K===void 0||K.call(_,H,W)};p>0&&(M=r0e(M,p,{trailing:!0,leading:!1}));var S=new ResizeObserver(M),q=N.current.getBoundingClientRect(),U=q.width,L=q.height;return I(U,L),S.observe(N.current),function(){S.disconnect()}},[I,p]);var F=E.useMemo(function(){var M=T.containerWidth,S=T.containerHeight;if(M<0||S<0)return null;ah(Uv(o)||Uv(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,c),ah(!n||n>0,"The aspect(%s) must be greater than zero.",n);var q=Uv(o)?M:o,U=Uv(c)?S:c;n&&n>0&&(q?U=q/n:U&&(q=U*n),f&&U>f&&(U=f)),ah(q>0||U>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,q,U,o,c,d,h,n);var L=!Array.isArray(A)&&gp(A.type).endsWith("Chart");return pe.Children.map(A,function(z){return pe.isValidElement(z)?E.cloneElement(z,f4({width:q,height:U},L?{style:f4({height:"100%",width:"100%",maxHeight:U,maxWidth:q},z.props.style)}:{})):z})},[n,A,c,f,h,d,T,o]);return pe.createElement("div",{id:m?"".concat(m):void 0,className:Dn("recharts-responsive-container",g),style:f4(f4({},j),{},{width:o,height:c,minWidth:d,minHeight:h,maxHeight:f}),ref:N},F)}),jx=function(e){return null};jx.displayName="Cell";function J_(t){"@babel/helpers - typeof";return J_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},J_(t)}function fre(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function Q9(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?fre(Object(n),!0).forEach(function(r){dHe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):fre(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function dHe(t,e,n){return e=hHe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function hHe(t){var e=fHe(t,"string");return J_(e)=="symbol"?e:e+""}function fHe(t,e){if(J_(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(J_(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var jb={widthCache:{},cacheCount:0},AHe=2e3,pHe={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},Are="recharts_measurement_span";function mHe(t){var e=Q9({},t);return Object.keys(e).forEach(function(n){e[n]||delete e[n]}),e}var i_=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||Qf.isSsr)return{width:0,height:0};var r=mHe(n),s=JSON.stringify({text:e,copyStyle:r});if(jb.widthCache[s])return jb.widthCache[s];try{var a=document.getElementById(Are);a||(a=document.createElement("span"),a.setAttribute("id",Are),a.setAttribute("aria-hidden","true"),document.body.appendChild(a));var o=Q9(Q9({},pHe),r);Object.assign(a.style,o),a.textContent="".concat(e);var l=a.getBoundingClientRect(),c={width:l.width,height:l.height};return jb.widthCache[s]=c,++jb.cacheCount>AHe&&(jb.cacheCount=0,jb.widthCache={}),c}catch{return{width:0,height:0}}},gHe=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function Z_(t){"@babel/helpers - typeof";return Z_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Z_(t)}function b3(t,e){return bHe(t)||yHe(t,e)||vHe(t,e)||xHe()}function xHe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vHe(t,e){if(t){if(typeof t=="string")return pre(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return pre(t,e)}}function pre(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function yHe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,s,a,o,l=[],c=!0,u=!1;try{if(a=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function bHe(t){if(Array.isArray(t))return t}function wHe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function mre(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,NHe(r.key),r)}}function jHe(t,e,n){return e&&mre(t.prototype,e),n&&mre(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function NHe(t){var e=_He(t,"string");return Z_(e)=="symbol"?e:e+""}function _He(t,e){if(Z_(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Z_(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var gre=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,xre=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,CHe=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,SHe=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,i0e={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},EHe=Object.keys(i0e),i1="NaN";function BHe(t,e){return t*i0e[e]}var A4=function(){function t(e,n){wHe(this,t),this.num=e,this.unit=n,this.num=e,this.unit=n,Number.isNaN(e)&&(this.unit=""),n!==""&&!CHe.test(n)&&(this.num=NaN,this.unit=""),EHe.includes(n)&&(this.num=BHe(e,n),this.unit="px")}return jHe(t,[{key:"add",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num+n.num,this.unit)}},{key:"subtract",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num-n.num,this.unit)}},{key:"multiply",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num*n.num,this.unit||n.unit)}},{key:"divide",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num/n.num,this.unit||n.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(n){var r,s=(r=SHe.exec(n))!==null&&r!==void 0?r:[],a=b3(s,3),o=a[1],l=a[2];return new t(parseFloat(o),l??"")}}])}();function s0e(t){if(t.includes(i1))return i1;for(var e=t;e.includes("*")||e.includes("/");){var n,r=(n=gre.exec(e))!==null&&n!==void 0?n:[],s=b3(r,4),a=s[1],o=s[2],l=s[3],c=A4.parse(a??""),u=A4.parse(l??""),d=o==="*"?c.multiply(u):c.divide(u);if(d.isNaN())return i1;e=e.replace(gre,d.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var h,f=(h=xre.exec(e))!==null&&h!==void 0?h:[],A=b3(f,4),v=A[1],p=A[2],m=A[3],g=A4.parse(v??""),x=A4.parse(m??""),b=p==="+"?g.add(x):g.subtract(x);if(b.isNaN())return i1;e=e.replace(xre,b.toString())}return e}var vre=/\(([^()]*)\)/;function DHe(t){for(var e=t;e.includes("(");){var n=vre.exec(e),r=b3(n,2),s=r[1];e=e.replace(vre,s0e(s))}return e}function THe(t){var e=t.replace(/\s+/g,"");return e=DHe(e),e=s0e(e),e}function kHe(t){try{return THe(t)}catch{return i1}}function vM(t){var e=kHe(t.slice(5,-1));return e===i1?"":e}var FHe=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],PHe=["dx","dy","angle","className","breakAll"];function H9(){return H9=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},H9.apply(this,arguments)}function yre(t,e){if(t==null)return{};var n=UHe(t,e),r,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(s=0;s<a.length;s++)r=a[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function UHe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function bre(t,e){return LHe(t)||MHe(t,e)||OHe(t,e)||IHe()}function IHe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function OHe(t,e){if(t){if(typeof t=="string")return wre(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return wre(t,e)}}function wre(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function MHe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,s,a,o,l=[],c=!0,u=!1;try{if(a=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function LHe(t){if(Array.isArray(t))return t}var a0e=/[ \f\n\r\t\v\u2028\u2029]+/,o0e=function(e){var n=e.children,r=e.breakAll,s=e.style;try{var a=[];vn(n)||(r?a=n.toString().split(""):a=n.toString().split(a0e));var o=a.map(function(c){return{word:c,width:i_(c,s).width}}),l=r?0:i_(" ",s).width;return{wordsWithComputedWidth:o,spaceWidth:l}}catch{return null}},RHe=function(e,n,r,s,a){var o=e.maxLines,l=e.children,c=e.style,u=e.breakAll,d=Tt(o),h=l,f=function(){var q=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return q.reduce(function(U,L){var z=L.word,$=L.width,K=U[U.length-1];if(K&&(s==null||a||K.width+$+r<Number(s)))K.words.push(z),K.width+=$+r;else{var V={words:[z],width:$};U.push(V)}return U},[])},A=f(n),v=function(q){return q.reduce(function(U,L){return U.width>L.width?U:L})};if(!d)return A;for(var p="…",m=function(q){var U=h.slice(0,q),L=o0e({breakAll:u,style:c,children:U+p}).wordsWithComputedWidth,z=f(L),$=z.length>o||v(z).width>Number(s);return[$,z]},g=0,x=h.length-1,b=0,j;g<=x&&b<=h.length-1;){var N=Math.floor((g+x)/2),_=N-1,C=m(_),k=bre(C,2),T=k[0],O=k[1],I=m(N),F=bre(I,1),M=F[0];if(!T&&!M&&(g=N+1),T&&M&&(x=N-1),!T&&M){j=O;break}b++}return j||A},jre=function(e){var n=vn(e)?[]:e.toString().split(a0e);return[{words:n}]},QHe=function(e){var n=e.width,r=e.scaleToFit,s=e.children,a=e.style,o=e.breakAll,l=e.maxLines;if((n||r)&&!Qf.isSsr){var c,u,d=o0e({breakAll:o,children:s,style:a});if(d){var h=d.wordsWithComputedWidth,f=d.spaceWidth;c=h,u=f}else return jre(s);return RHe({breakAll:o,children:s,maxLines:l,style:a},c,u,n,r)}return jre(s)},Nre="#808080",py=function(e){var n=e.x,r=n===void 0?0:n,s=e.y,a=s===void 0?0:s,o=e.lineHeight,l=o===void 0?"1em":o,c=e.capHeight,u=c===void 0?"0.71em":c,d=e.scaleToFit,h=d===void 0?!1:d,f=e.textAnchor,A=f===void 0?"start":f,v=e.verticalAnchor,p=v===void 0?"end":v,m=e.fill,g=m===void 0?Nre:m,x=yre(e,FHe),b=E.useMemo(function(){return QHe({breakAll:x.breakAll,children:x.children,maxLines:x.maxLines,scaleToFit:h,style:x.style,width:x.width})},[x.breakAll,x.children,x.maxLines,h,x.style,x.width]),j=x.dx,N=x.dy,_=x.angle,C=x.className,k=x.breakAll,T=yre(x,PHe);if(!pa(r)||!pa(a))return null;var O=r+(Tt(j)?j:0),I=a+(Tt(N)?N:0),F;switch(p){case"start":F=vM("calc(".concat(u,")"));break;case"middle":F=vM("calc(".concat((b.length-1)/2," * -").concat(l," + (").concat(u," / 2))"));break;default:F=vM("calc(".concat(b.length-1," * -").concat(l,")"));break}var M=[];if(h){var S=b[0].width,q=x.width;M.push("scale(".concat((Tt(q)?q/S:1)/S,")"))}return _&&M.push("rotate(".concat(_,", ").concat(O,", ").concat(I,")")),M.length&&(T.transform=M.join(" ")),pe.createElement("text",H9({},Yt(T,!0),{x:O,y:I,className:Dn("recharts-text",C),textAnchor:A,fill:g.includes("url")?Nre:g}),b.map(function(U,L){var z=U.words.join(k?"":" ");return pe.createElement("tspan",{x:O,dy:L===0?F:l,key:"".concat(z,"-").concat(L)},z)}))};function $g(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function HHe(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function LW(t){let e,n,r;t.length!==2?(e=$g,n=(l,c)=>$g(t(l),c),r=(l,c)=>t(l)-c):(e=t===$g||t===HHe?t:zHe,n=t,r=t);function s(l,c,u=0,d=l.length){if(u<d){if(e(c,c)!==0)return d;do{const h=u+d>>>1;n(l[h],c)<0?u=h+1:d=h}while(u<d)}return u}function a(l,c,u=0,d=l.length){if(u<d){if(e(c,c)!==0)return d;do{const h=u+d>>>1;n(l[h],c)<=0?u=h+1:d=h}while(u<d)}return u}function o(l,c,u=0,d=l.length){const h=s(l,c,u,d-1);return h>u&&r(l[h-1],c)>-r(l[h],c)?h-1:h}return{left:s,center:o,right:a}}function zHe(){return 0}function l0e(t){return t===null?NaN:+t}function*$He(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const WHe=LW($g),QS=WHe.right;LW(l0e).center;class _re extends Map{constructor(e,n=KHe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,s]of e)this.set(r,s)}get(e){return super.get(Cre(this,e))}has(e){return super.has(Cre(this,e))}set(e,n){return super.set(qHe(this,e),n)}delete(e){return super.delete(VHe(this,e))}}function Cre({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function qHe({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function VHe({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function KHe(t){return t!==null&&typeof t=="object"?t.valueOf():t}function GHe(t=$g){if(t===$g)return c0e;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function c0e(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const XHe=Math.sqrt(50),YHe=Math.sqrt(10),JHe=Math.sqrt(2);function w3(t,e,n){const r=(e-t)/Math.max(0,n),s=Math.floor(Math.log10(r)),a=r/Math.pow(10,s),o=a>=XHe?10:a>=YHe?5:a>=JHe?2:1;let l,c,u;return s<0?(u=Math.pow(10,-s)/o,l=Math.round(t*u),c=Math.round(e*u),l/u<t&&++l,c/u>e&&--c,u=-u):(u=Math.pow(10,s)*o,l=Math.round(t/u),c=Math.round(e/u),l*u<t&&++l,c*u>e&&--c),c<l&&.5<=n&&n<2?w3(t,e,n*2):[l,c,u]}function z9(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[s,a,o]=r?w3(e,t,n):w3(t,e,n);if(!(a>=s))return[];const l=a-s+1,c=new Array(l);if(r)if(o<0)for(let u=0;u<l;++u)c[u]=(a-u)/-o;else for(let u=0;u<l;++u)c[u]=(a-u)*o;else if(o<0)for(let u=0;u<l;++u)c[u]=(s+u)/-o;else for(let u=0;u<l;++u)c[u]=(s+u)*o;return c}function $9(t,e,n){return e=+e,t=+t,n=+n,w3(t,e,n)[2]}function W9(t,e,n){e=+e,t=+t,n=+n;const r=e<t,s=r?$9(e,t,n):$9(t,e,n);return(r?-1:1)*(s<0?1/-s:s)}function Sre(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function Ere(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function u0e(t,e,n=0,r=1/0,s){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(s=s===void 0?c0e:GHe(s);r>n;){if(r-n>600){const c=r-n+1,u=e-n+1,d=Math.log(c),h=.5*Math.exp(2*d/3),f=.5*Math.sqrt(d*h*(c-h)/c)*(u-c/2<0?-1:1),A=Math.max(n,Math.floor(e-u*h/c+f)),v=Math.min(r,Math.floor(e+(c-u)*h/c+f));u0e(t,e,A,v,s)}const a=t[e];let o=n,l=r;for(Jj(t,n,e),s(t[r],a)>0&&Jj(t,n,r);o<l;){for(Jj(t,o,l),++o,--l;s(t[o],a)<0;)++o;for(;s(t[l],a)>0;)--l}s(t[n],a)===0?Jj(t,n,l):(++l,Jj(t,l,r)),l<=e&&(n=l+1),e<=l&&(r=l-1)}return t}function Jj(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function ZHe(t,e,n){if(t=Float64Array.from($He(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return Ere(t);if(e>=1)return Sre(t);var r,s=(r-1)*e,a=Math.floor(s),o=Sre(u0e(t,a).subarray(0,a+1)),l=Ere(t.subarray(a+1));return o+(l-o)*(s-a)}}function eze(t,e,n=l0e){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,s=(r-1)*e,a=Math.floor(s),o=+n(t[a],a,t),l=+n(t[a+1],a+1,t);return o+(l-o)*(s-a)}}function tze(t,e,n){t=+t,e=+e,n=(s=arguments.length)<2?(e=t,t=0,1):s<3?1:+n;for(var r=-1,s=Math.max(0,Math.ceil((e-t)/n))|0,a=new Array(s);++r<s;)a[r]=t+r*n;return a}function Zu(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function $p(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const q9=Symbol("implicit");function RW(){var t=new _re,e=[],n=[],r=q9;function s(a){let o=t.get(a);if(o===void 0){if(r!==q9)return r;t.set(a,o=e.push(a)-1)}return n[o%n.length]}return s.domain=function(a){if(!arguments.length)return e.slice();e=[],t=new _re;for(const o of a)t.has(o)||t.set(o,e.push(o)-1);return s},s.range=function(a){return arguments.length?(n=Array.from(a),s):n.slice()},s.unknown=function(a){return arguments.length?(r=a,s):r},s.copy=function(){return RW(e,n).unknown(r)},Zu.apply(s,arguments),s}function e5(){var t=RW().unknown(void 0),e=t.domain,n=t.range,r=0,s=1,a,o,l=!1,c=0,u=0,d=.5;delete t.unknown;function h(){var f=e().length,A=s<r,v=A?s:r,p=A?r:s;a=(p-v)/Math.max(1,f-c+u*2),l&&(a=Math.floor(a)),v+=(p-v-a*(f-c))*d,o=a*(1-c),l&&(v=Math.round(v),o=Math.round(o));var m=tze(f).map(function(g){return v+a*g});return n(A?m.reverse():m)}return t.domain=function(f){return arguments.length?(e(f),h()):e()},t.range=function(f){return arguments.length?([r,s]=f,r=+r,s=+s,h()):[r,s]},t.rangeRound=function(f){return[r,s]=f,r=+r,s=+s,l=!0,h()},t.bandwidth=function(){return o},t.step=function(){return a},t.round=function(f){return arguments.length?(l=!!f,h()):l},t.padding=function(f){return arguments.length?(c=Math.min(1,u=+f),h()):c},t.paddingInner=function(f){return arguments.length?(c=Math.min(1,f),h()):c},t.paddingOuter=function(f){return arguments.length?(u=+f,h()):u},t.align=function(f){return arguments.length?(d=Math.max(0,Math.min(1,f)),h()):d},t.copy=function(){return e5(e(),[r,s]).round(l).paddingInner(c).paddingOuter(u).align(d)},Zu.apply(h(),arguments)}function d0e(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return d0e(e())},t}function s_(){return d0e(e5.apply(null,arguments).paddingInner(1))}function QW(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function h0e(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function HS(){}var t5=.7,j3=1/t5,C1="\\s*([+-]?\\d+)\\s*",n5="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Tf="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",nze=/^#([0-9a-f]{3,8})$/,rze=new RegExp(`^rgb\\(${C1},${C1},${C1}\\)$`),ize=new RegExp(`^rgb\\(${Tf},${Tf},${Tf}\\)$`),sze=new RegExp(`^rgba\\(${C1},${C1},${C1},${n5}\\)$`),aze=new RegExp(`^rgba\\(${Tf},${Tf},${Tf},${n5}\\)$`),oze=new RegExp(`^hsl\\(${n5},${Tf},${Tf}\\)$`),lze=new RegExp(`^hsla\\(${n5},${Tf},${Tf},${n5}\\)$`),Bre={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};QW(HS,my,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:Dre,formatHex:Dre,formatHex8:cze,formatHsl:uze,formatRgb:Tre,toString:Tre});function Dre(){return this.rgb().formatHex()}function cze(){return this.rgb().formatHex8()}function uze(){return f0e(this).formatHsl()}function Tre(){return this.rgb().formatRgb()}function my(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=nze.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?kre(e):n===3?new ic(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?p4(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?p4(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=rze.exec(t))?new ic(e[1],e[2],e[3],1):(e=ize.exec(t))?new ic(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=sze.exec(t))?p4(e[1],e[2],e[3],e[4]):(e=aze.exec(t))?p4(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=oze.exec(t))?Ure(e[1],e[2]/100,e[3]/100,1):(e=lze.exec(t))?Ure(e[1],e[2]/100,e[3]/100,e[4]):Bre.hasOwnProperty(t)?kre(Bre[t]):t==="transparent"?new ic(NaN,NaN,NaN,0):null}function kre(t){return new ic(t>>16&255,t>>8&255,t&255,1)}function p4(t,e,n,r){return r<=0&&(t=e=n=NaN),new ic(t,e,n,r)}function dze(t){return t instanceof HS||(t=my(t)),t?(t=t.rgb(),new ic(t.r,t.g,t.b,t.opacity)):new ic}function V9(t,e,n,r){return arguments.length===1?dze(t):new ic(t,e,n,r??1)}function ic(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}QW(ic,V9,h0e(HS,{brighter(t){return t=t==null?j3:Math.pow(j3,t),new ic(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?t5:Math.pow(t5,t),new ic(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new ic(X0(this.r),X0(this.g),X0(this.b),N3(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Fre,formatHex:Fre,formatHex8:hze,formatRgb:Pre,toString:Pre}));function Fre(){return`#${Iv(this.r)}${Iv(this.g)}${Iv(this.b)}`}function hze(){return`#${Iv(this.r)}${Iv(this.g)}${Iv(this.b)}${Iv((isNaN(this.opacity)?1:this.opacity)*255)}`}function Pre(){const t=N3(this.opacity);return`${t===1?"rgb(":"rgba("}${X0(this.r)}, ${X0(this.g)}, ${X0(this.b)}${t===1?")":`, ${t})`}`}function N3(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function X0(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Iv(t){return t=X0(t),(t<16?"0":"")+t.toString(16)}function Ure(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new th(t,e,n,r)}function f0e(t){if(t instanceof th)return new th(t.h,t.s,t.l,t.opacity);if(t instanceof HS||(t=my(t)),!t)return new th;if(t instanceof th)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,s=Math.min(e,n,r),a=Math.max(e,n,r),o=NaN,l=a-s,c=(a+s)/2;return l?(e===a?o=(n-r)/l+(n<r)*6:n===a?o=(r-e)/l+2:o=(e-n)/l+4,l/=c<.5?a+s:2-a-s,o*=60):l=c>0&&c<1?0:o,new th(o,l,c,t.opacity)}function fze(t,e,n,r){return arguments.length===1?f0e(t):new th(t,e,n,r??1)}function th(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}QW(th,fze,h0e(HS,{brighter(t){return t=t==null?j3:Math.pow(j3,t),new th(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?t5:Math.pow(t5,t),new th(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,s=2*n-r;return new ic(yM(t>=240?t-240:t+120,s,r),yM(t,s,r),yM(t<120?t+240:t-120,s,r),this.opacity)},clamp(){return new th(Ire(this.h),m4(this.s),m4(this.l),N3(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=N3(this.opacity);return`${t===1?"hsl(":"hsla("}${Ire(this.h)}, ${m4(this.s)*100}%, ${m4(this.l)*100}%${t===1?")":`, ${t})`}`}}));function Ire(t){return t=(t||0)%360,t<0?t+360:t}function m4(t){return Math.max(0,Math.min(1,t||0))}function yM(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const HW=t=>()=>t;function Aze(t,e){return function(n){return t+n*e}}function pze(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function mze(t){return(t=+t)==1?A0e:function(e,n){return n-e?pze(e,n,t):HW(isNaN(e)?n:e)}}function A0e(t,e){var n=e-t;return n?Aze(t,n):HW(isNaN(t)?e:t)}const _3=function t(e){var n=mze(e);function r(s,a){var o=n((s=V9(s)).r,(a=V9(a)).r),l=n(s.g,a.g),c=n(s.b,a.b),u=A0e(s.opacity,a.opacity);return function(d){return s.r=o(d),s.g=l(d),s.b=c(d),s.opacity=u(d),s+""}}return r.gamma=t,r}(1);function gze(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),s;return function(a){for(s=0;s<n;++s)r[s]=t[s]*(1-a)+e[s]*a;return r}}function xze(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function vze(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,s=new Array(r),a=new Array(n),o;for(o=0;o<r;++o)s[o]=rj(t[o],e[o]);for(;o<n;++o)a[o]=e[o];return function(l){for(o=0;o<r;++o)a[o]=s[o](l);return a}}function yze(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function eh(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function bze(t,e){var n={},r={},s;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(s in e)s in t?n[s]=rj(t[s],e[s]):r[s]=e[s];return function(a){for(s in n)r[s]=n[s](a);return r}}var K9=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,bM=new RegExp(K9.source,"g");function wze(t){return function(){return t}}function jze(t){return function(e){return t(e)+""}}function p0e(t,e){var n=K9.lastIndex=bM.lastIndex=0,r,s,a,o=-1,l=[],c=[];for(t=t+"",e=e+"";(r=K9.exec(t))&&(s=bM.exec(e));)(a=s.index)>n&&(a=e.slice(n,a),l[o]?l[o]+=a:l[++o]=a),(r=r[0])===(s=s[0])?l[o]?l[o]+=s:l[++o]=s:(l[++o]=null,c.push({i:o,x:eh(r,s)})),n=bM.lastIndex;return n<e.length&&(a=e.slice(n),l[o]?l[o]+=a:l[++o]=a),l.length<2?c[0]?jze(c[0].x):wze(e):(e=c.length,function(u){for(var d=0,h;d<e;++d)l[(h=c[d]).i]=h.x(u);return l.join("")})}function rj(t,e){var n=typeof e,r;return e==null||n==="boolean"?HW(e):(n==="number"?eh:n==="string"?(r=my(e))?(e=r,_3):p0e:e instanceof my?_3:e instanceof Date?yze:xze(e)?gze:Array.isArray(e)?vze:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?bze:eh)(t,e)}function zW(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}var Ore=180/Math.PI,G9={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function m0e(t,e,n,r,s,a){var o,l,c;return(o=Math.sqrt(t*t+e*e))&&(t/=o,e/=o),(c=t*n+e*r)&&(n-=t*c,r-=e*c),(l=Math.sqrt(n*n+r*r))&&(n/=l,r/=l,c/=l),t*r<e*n&&(t=-t,e=-e,c=-c,o=-o),{translateX:s,translateY:a,rotate:Math.atan2(e,t)*Ore,skewX:Math.atan(c)*Ore,scaleX:o,scaleY:l}}var g4;function Nze(t){const e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?G9:m0e(e.a,e.b,e.c,e.d,e.e,e.f)}function _ze(t){return t==null||(g4||(g4=document.createElementNS("http://www.w3.org/2000/svg","g")),g4.setAttribute("transform",t),!(t=g4.transform.baseVal.consolidate()))?G9:(t=t.matrix,m0e(t.a,t.b,t.c,t.d,t.e,t.f))}function g0e(t,e,n,r){function s(u){return u.length?u.pop()+" ":""}function a(u,d,h,f,A,v){if(u!==h||d!==f){var p=A.push("translate(",null,e,null,n);v.push({i:p-4,x:eh(u,h)},{i:p-2,x:eh(d,f)})}else(h||f)&&A.push("translate("+h+e+f+n)}function o(u,d,h,f){u!==d?(u-d>180?d+=360:d-u>180&&(u+=360),f.push({i:h.push(s(h)+"rotate(",null,r)-2,x:eh(u,d)})):d&&h.push(s(h)+"rotate("+d+r)}function l(u,d,h,f){u!==d?f.push({i:h.push(s(h)+"skewX(",null,r)-2,x:eh(u,d)}):d&&h.push(s(h)+"skewX("+d+r)}function c(u,d,h,f,A,v){if(u!==h||d!==f){var p=A.push(s(A)+"scale(",null,",",null,")");v.push({i:p-4,x:eh(u,h)},{i:p-2,x:eh(d,f)})}else(h!==1||f!==1)&&A.push(s(A)+"scale("+h+","+f+")")}return function(u,d){var h=[],f=[];return u=t(u),d=t(d),a(u.translateX,u.translateY,d.translateX,d.translateY,h,f),o(u.rotate,d.rotate,h,f),l(u.skewX,d.skewX,h,f),c(u.scaleX,u.scaleY,d.scaleX,d.scaleY,h,f),u=d=null,function(A){for(var v=-1,p=f.length,m;++v<p;)h[(m=f[v]).i]=m.x(A);return h.join("")}}}var Cze=g0e(Nze,"px, ","px)","deg)"),Sze=g0e(_ze,", ",")",")"),Eze=1e-12;function Mre(t){return((t=Math.exp(t))+1/t)/2}function Bze(t){return((t=Math.exp(t))-1/t)/2}function Dze(t){return((t=Math.exp(2*t))-1)/(t+1)}const Tze=function t(e,n,r){function s(a,o){var l=a[0],c=a[1],u=a[2],d=o[0],h=o[1],f=o[2],A=d-l,v=h-c,p=A*A+v*v,m,g;if(p<Eze)g=Math.log(f/u)/e,m=function(C){return[l+C*A,c+C*v,u*Math.exp(e*C*g)]};else{var x=Math.sqrt(p),b=(f*f-u*u+r*p)/(2*u*n*x),j=(f*f-u*u-r*p)/(2*f*n*x),N=Math.log(Math.sqrt(b*b+1)-b),_=Math.log(Math.sqrt(j*j+1)-j);g=(_-N)/e,m=function(C){var k=C*g,T=Mre(N),O=u/(n*x)*(T*Dze(e*k+N)-Bze(N));return[l+O*A,c+O*v,u*T/Mre(e*k+N)]}}return m.duration=g*1e3*e/Math.SQRT2,m}return s.rho=function(a){var o=Math.max(.001,+a),l=o*o,c=l*l;return t(o,l,c)},s}(Math.SQRT2,2,4);function kze(t,e){e===void 0&&(e=t,t=rj);for(var n=0,r=e.length-1,s=e[0],a=new Array(r<0?0:r);n<r;)a[n]=t(s,s=e[++n]);return function(o){var l=Math.max(0,Math.min(r-1,Math.floor(o*=r)));return a[l](o-l)}}function Fze(t){return function(){return t}}function C3(t){return+t}var Lre=[0,1];function Sl(t){return t}function X9(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:Fze(isNaN(e)?NaN:.5)}function Pze(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function Uze(t,e,n){var r=t[0],s=t[1],a=e[0],o=e[1];return s<r?(r=X9(s,r),a=n(o,a)):(r=X9(r,s),a=n(a,o)),function(l){return a(r(l))}}function Ize(t,e,n){var r=Math.min(t.length,e.length)-1,s=new Array(r),a=new Array(r),o=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++o<r;)s[o]=X9(t[o],t[o+1]),a[o]=n(e[o],e[o+1]);return function(l){var c=QS(t,l,1,r)-1;return a[c](s[c](l))}}function zS(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function NF(){var t=Lre,e=Lre,n=rj,r,s,a,o=Sl,l,c,u;function d(){var f=Math.min(t.length,e.length);return o!==Sl&&(o=Pze(t[0],t[f-1])),l=f>2?Ize:Uze,c=u=null,h}function h(f){return f==null||isNaN(f=+f)?a:(c||(c=l(t.map(r),e,n)))(r(o(f)))}return h.invert=function(f){return o(s((u||(u=l(e,t.map(r),eh)))(f)))},h.domain=function(f){return arguments.length?(t=Array.from(f,C3),d()):t.slice()},h.range=function(f){return arguments.length?(e=Array.from(f),d()):e.slice()},h.rangeRound=function(f){return e=Array.from(f),n=zW,d()},h.clamp=function(f){return arguments.length?(o=f?!0:Sl,d()):o!==Sl},h.interpolate=function(f){return arguments.length?(n=f,d()):n},h.unknown=function(f){return arguments.length?(a=f,h):a},function(f,A){return r=f,s=A,d()}}function $W(){return NF()(Sl,Sl)}function Oze(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function S3(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function e2(t){return t=S3(Math.abs(t)),t?t[1]:NaN}function Mze(t,e){return function(n,r){for(var s=n.length,a=[],o=0,l=t[0],c=0;s>0&&l>0&&(c+l+1>r&&(l=Math.max(1,r-c)),a.push(n.substring(s-=l,s+l)),!((c+=l+1)>r));)l=t[o=(o+1)%t.length];return a.reverse().join(e)}}function Lze(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var Rze=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function r5(t){if(!(e=Rze.exec(t)))throw new Error("invalid format: "+t);var e;return new WW({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}r5.prototype=WW.prototype;function WW(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}WW.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Qze(t){e:for(var e=t.length,n=1,r=-1,s;n<e;++n)switch(t[n]){case".":r=s=n;break;case"0":r===0&&(r=n),s=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(s+1):t}var x0e;function Hze(t,e){var n=S3(t,e);if(!n)return t+"";var r=n[0],s=n[1],a=s-(x0e=Math.max(-8,Math.min(8,Math.floor(s/3)))*3)+1,o=r.length;return a===o?r:a>o?r+new Array(a-o+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+S3(t,Math.max(0,e+a-1))[0]}function Rre(t,e){var n=S3(t,e);if(!n)return t+"";var r=n[0],s=n[1];return s<0?"0."+new Array(-s).join("0")+r:r.length>s+1?r.slice(0,s+1)+"."+r.slice(s+1):r+new Array(s-r.length+2).join("0")}const Qre={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:Oze,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>Rre(t*100,e),r:Rre,s:Hze,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function Hre(t){return t}var zre=Array.prototype.map,$re=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function zze(t){var e=t.grouping===void 0||t.thousands===void 0?Hre:Mze(zre.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",s=t.decimal===void 0?".":t.decimal+"",a=t.numerals===void 0?Hre:Lze(zre.call(t.numerals,String)),o=t.percent===void 0?"%":t.percent+"",l=t.minus===void 0?"−":t.minus+"",c=t.nan===void 0?"NaN":t.nan+"";function u(h){h=r5(h);var f=h.fill,A=h.align,v=h.sign,p=h.symbol,m=h.zero,g=h.width,x=h.comma,b=h.precision,j=h.trim,N=h.type;N==="n"?(x=!0,N="g"):Qre[N]||(b===void 0&&(b=12),j=!0,N="g"),(m||f==="0"&&A==="=")&&(m=!0,f="0",A="=");var _=p==="$"?n:p==="#"&&/[boxX]/.test(N)?"0"+N.toLowerCase():"",C=p==="$"?r:/[%p]/.test(N)?o:"",k=Qre[N],T=/[defgprs%]/.test(N);b=b===void 0?6:/[gprs]/.test(N)?Math.max(1,Math.min(21,b)):Math.max(0,Math.min(20,b));function O(I){var F=_,M=C,S,q,U;if(N==="c")M=k(I)+M,I="";else{I=+I;var L=I<0||1/I<0;if(I=isNaN(I)?c:k(Math.abs(I),b),j&&(I=Qze(I)),L&&+I==0&&v!=="+"&&(L=!1),F=(L?v==="("?v:l:v==="-"||v==="("?"":v)+F,M=(N==="s"?$re[8+x0e/3]:"")+M+(L&&v==="("?")":""),T){for(S=-1,q=I.length;++S<q;)if(U=I.charCodeAt(S),48>U||U>57){M=(U===46?s+I.slice(S+1):I.slice(S))+M,I=I.slice(0,S);break}}}x&&!m&&(I=e(I,1/0));var z=F.length+I.length+M.length,$=z<g?new Array(g-z+1).join(f):"";switch(x&&m&&(I=e($+I,$.length?g-M.length:1/0),$=""),A){case"<":I=F+I+M+$;break;case"=":I=F+$+I+M;break;case"^":I=$.slice(0,z=$.length>>1)+F+I+M+$.slice(z);break;default:I=$+F+I+M;break}return a(I)}return O.toString=function(){return h+""},O}function d(h,f){var A=u((h=r5(h),h.type="f",h)),v=Math.max(-8,Math.min(8,Math.floor(e2(f)/3)))*3,p=Math.pow(10,-v),m=$re[8+v/3];return function(g){return A(p*g)+m}}return{format:u,formatPrefix:d}}var x4,qW,v0e;$ze({thousands:",",grouping:[3],currency:["$",""]});function $ze(t){return x4=zze(t),qW=x4.format,v0e=x4.formatPrefix,x4}function Wze(t){return Math.max(0,-e2(Math.abs(t)))}function qze(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(e2(e)/3)))*3-e2(Math.abs(t)))}function Vze(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,e2(e)-e2(t))+1}function y0e(t,e,n,r){var s=W9(t,e,n),a;switch(r=r5(r??",f"),r.type){case"s":{var o=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(a=qze(s,o))&&(r.precision=a),v0e(r,o)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(a=Vze(s,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=a-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(a=Wze(s))&&(r.precision=a-(r.type==="%")*2);break}}return qW(r)}function Nx(t){var e=t.domain;return t.ticks=function(n){var r=e();return z9(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var s=e();return y0e(s[0],s[s.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),s=0,a=r.length-1,o=r[s],l=r[a],c,u,d=10;for(l<o&&(u=o,o=l,l=u,u=s,s=a,a=u);d-- >0;){if(u=$9(o,l,n),u===c)return r[s]=o,r[a]=l,e(r);if(u>0)o=Math.floor(o/u)*u,l=Math.ceil(l/u)*u;else if(u<0)o=Math.ceil(o*u)/u,l=Math.floor(l*u)/u;else break;c=u}return t},t}function E3(){var t=$W();return t.copy=function(){return zS(t,E3())},Zu.apply(t,arguments),Nx(t)}function b0e(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,C3),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return b0e(t).unknown(e)},t=arguments.length?Array.from(t,C3):[0,1],Nx(n)}function w0e(t,e){t=t.slice();var n=0,r=t.length-1,s=t[n],a=t[r],o;return a<s&&(o=n,n=r,r=o,o=s,s=a,a=o),t[n]=e.floor(s),t[r]=e.ceil(a),t}function Wre(t){return Math.log(t)}function qre(t){return Math.exp(t)}function Kze(t){return-Math.log(-t)}function Gze(t){return-Math.exp(-t)}function Xze(t){return isFinite(t)?+("1e"+t):t<0?0:t}function Yze(t){return t===10?Xze:t===Math.E?Math.exp:e=>Math.pow(t,e)}function Jze(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function Vre(t){return(e,n)=>-t(-e,n)}function VW(t){const e=t(Wre,qre),n=e.domain;let r=10,s,a;function o(){return s=Jze(r),a=Yze(r),n()[0]<0?(s=Vre(s),a=Vre(a),t(Kze,Gze)):t(Wre,qre),e}return e.base=function(l){return arguments.length?(r=+l,o()):r},e.domain=function(l){return arguments.length?(n(l),o()):n()},e.ticks=l=>{const c=n();let u=c[0],d=c[c.length-1];const h=d<u;h&&([u,d]=[d,u]);let f=s(u),A=s(d),v,p;const m=l==null?10:+l;let g=[];if(!(r%1)&&A-f<m){if(f=Math.floor(f),A=Math.ceil(A),u>0){for(;f<=A;++f)for(v=1;v<r;++v)if(p=f<0?v/a(-f):v*a(f),!(p<u)){if(p>d)break;g.push(p)}}else for(;f<=A;++f)for(v=r-1;v>=1;--v)if(p=f>0?v/a(-f):v*a(f),!(p<u)){if(p>d)break;g.push(p)}g.length*2<m&&(g=z9(u,d,m))}else g=z9(f,A,Math.min(A-f,m)).map(a);return h?g.reverse():g},e.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=r===10?"s":","),typeof c!="function"&&(!(r%1)&&(c=r5(c)).precision==null&&(c.trim=!0),c=qW(c)),l===1/0)return c;const u=Math.max(1,r*l/e.ticks().length);return d=>{let h=d/a(Math.round(s(d)));return h*r<r-.5&&(h*=r),h<=u?c(d):""}},e.nice=()=>n(w0e(n(),{floor:l=>a(Math.floor(s(l))),ceil:l=>a(Math.ceil(s(l)))})),e}function j0e(){const t=VW(NF()).domain([1,10]);return t.copy=()=>zS(t,j0e()).base(t.base()),Zu.apply(t,arguments),t}function Kre(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function Gre(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function KW(t){var e=1,n=t(Kre(e),Gre(e));return n.constant=function(r){return arguments.length?t(Kre(e=+r),Gre(e)):e},Nx(n)}function N0e(){var t=KW(NF());return t.copy=function(){return zS(t,N0e()).constant(t.constant())},Zu.apply(t,arguments)}function Xre(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function Zze(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function e$e(t){return t<0?-t*t:t*t}function GW(t){var e=t(Sl,Sl),n=1;function r(){return n===1?t(Sl,Sl):n===.5?t(Zze,e$e):t(Xre(n),Xre(1/n))}return e.exponent=function(s){return arguments.length?(n=+s,r()):n},Nx(e)}function XW(){var t=GW(NF());return t.copy=function(){return zS(t,XW()).exponent(t.exponent())},Zu.apply(t,arguments),t}function t$e(){return XW.apply(null,arguments).exponent(.5)}function Yre(t){return Math.sign(t)*t*t}function n$e(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function _0e(){var t=$W(),e=[0,1],n=!1,r;function s(a){var o=n$e(t(a));return isNaN(o)?r:n?Math.round(o):o}return s.invert=function(a){return t.invert(Yre(a))},s.domain=function(a){return arguments.length?(t.domain(a),s):t.domain()},s.range=function(a){return arguments.length?(t.range((e=Array.from(a,C3)).map(Yre)),s):e.slice()},s.rangeRound=function(a){return s.range(a).round(!0)},s.round=function(a){return arguments.length?(n=!!a,s):n},s.clamp=function(a){return arguments.length?(t.clamp(a),s):t.clamp()},s.unknown=function(a){return arguments.length?(r=a,s):r},s.copy=function(){return _0e(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},Zu.apply(s,arguments),Nx(s)}function C0e(){var t=[],e=[],n=[],r;function s(){var o=0,l=Math.max(1,e.length);for(n=new Array(l-1);++o<l;)n[o-1]=eze(t,o/l);return a}function a(o){return o==null||isNaN(o=+o)?r:e[QS(n,o)]}return a.invertExtent=function(o){var l=e.indexOf(o);return l<0?[NaN,NaN]:[l>0?n[l-1]:t[0],l<n.length?n[l]:t[t.length-1]]},a.domain=function(o){if(!arguments.length)return t.slice();t=[];for(let l of o)l!=null&&!isNaN(l=+l)&&t.push(l);return t.sort($g),s()},a.range=function(o){return arguments.length?(e=Array.from(o),s()):e.slice()},a.unknown=function(o){return arguments.length?(r=o,a):r},a.quantiles=function(){return n.slice()},a.copy=function(){return C0e().domain(t).range(e).unknown(r)},Zu.apply(a,arguments)}function S0e(){var t=0,e=1,n=1,r=[.5],s=[0,1],a;function o(c){return c!=null&&c<=c?s[QS(r,c,0,n)]:a}function l(){var c=-1;for(r=new Array(n);++c<n;)r[c]=((c+1)*e-(c-n)*t)/(n+1);return o}return o.domain=function(c){return arguments.length?([t,e]=c,t=+t,e=+e,l()):[t,e]},o.range=function(c){return arguments.length?(n=(s=Array.from(c)).length-1,l()):s.slice()},o.invertExtent=function(c){var u=s.indexOf(c);return u<0?[NaN,NaN]:u<1?[t,r[0]]:u>=n?[r[n-1],e]:[r[u-1],r[u]]},o.unknown=function(c){return arguments.length&&(a=c),o},o.thresholds=function(){return r.slice()},o.copy=function(){return S0e().domain([t,e]).range(s).unknown(a)},Zu.apply(Nx(o),arguments)}function E0e(){var t=[.5],e=[0,1],n,r=1;function s(a){return a!=null&&a<=a?e[QS(t,a,0,r)]:n}return s.domain=function(a){return arguments.length?(t=Array.from(a),r=Math.min(t.length,e.length-1),s):t.slice()},s.range=function(a){return arguments.length?(e=Array.from(a),r=Math.min(t.length,e.length-1),s):e.slice()},s.invertExtent=function(a){var o=e.indexOf(a);return[t[o-1],t[o]]},s.unknown=function(a){return arguments.length?(n=a,s):n},s.copy=function(){return E0e().domain(t).range(e).unknown(n)},Zu.apply(s,arguments)}const wM=new Date,jM=new Date;function ya(t,e,n,r){function s(a){return t(a=arguments.length===0?new Date:new Date(+a)),a}return s.floor=a=>(t(a=new Date(+a)),a),s.ceil=a=>(t(a=new Date(a-1)),e(a,1),t(a),a),s.round=a=>{const o=s(a),l=s.ceil(a);return a-o<l-a?o:l},s.offset=(a,o)=>(e(a=new Date(+a),o==null?1:Math.floor(o)),a),s.range=(a,o,l)=>{const c=[];if(a=s.ceil(a),l=l==null?1:Math.floor(l),!(a<o)||!(l>0))return c;let u;do c.push(u=new Date(+a)),e(a,l),t(a);while(u<a&&a<o);return c},s.filter=a=>ya(o=>{if(o>=o)for(;t(o),!a(o);)o.setTime(o-1)},(o,l)=>{if(o>=o)if(l<0)for(;++l<=0;)for(;e(o,-1),!a(o););else for(;--l>=0;)for(;e(o,1),!a(o););}),n&&(s.count=(a,o)=>(wM.setTime(+a),jM.setTime(+o),t(wM),t(jM),Math.floor(n(wM,jM))),s.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?s.filter(r?o=>r(o)%a===0:o=>s.count(0,o)%a===0):s)),s}const B3=ya(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);B3.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?ya(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):B3);B3.range;const hp=1e3,Ru=hp*60,fp=Ru*60,Tp=fp*24,YW=Tp*7,Jre=Tp*30,NM=Tp*365,Ov=ya(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*hp)},(t,e)=>(e-t)/hp,t=>t.getUTCSeconds());Ov.range;const JW=ya(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*hp)},(t,e)=>{t.setTime(+t+e*Ru)},(t,e)=>(e-t)/Ru,t=>t.getMinutes());JW.range;const ZW=ya(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*Ru)},(t,e)=>(e-t)/Ru,t=>t.getUTCMinutes());ZW.range;const eq=ya(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*hp-t.getMinutes()*Ru)},(t,e)=>{t.setTime(+t+e*fp)},(t,e)=>(e-t)/fp,t=>t.getHours());eq.range;const tq=ya(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*fp)},(t,e)=>(e-t)/fp,t=>t.getUTCHours());tq.range;const $S=ya(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Ru)/Tp,t=>t.getDate()-1);$S.range;const _F=ya(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Tp,t=>t.getUTCDate()-1);_F.range;const B0e=ya(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Tp,t=>Math.floor(t/Tp));B0e.range;function Iy(t){return ya(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*Ru)/YW)}const CF=Iy(0),D3=Iy(1),r$e=Iy(2),i$e=Iy(3),t2=Iy(4),s$e=Iy(5),a$e=Iy(6);CF.range;D3.range;r$e.range;i$e.range;t2.range;s$e.range;a$e.range;function Oy(t){return ya(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/YW)}const SF=Oy(0),T3=Oy(1),o$e=Oy(2),l$e=Oy(3),n2=Oy(4),c$e=Oy(5),u$e=Oy(6);SF.range;T3.range;o$e.range;l$e.range;n2.range;c$e.range;u$e.range;const nq=ya(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());nq.range;const rq=ya(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());rq.range;const kp=ya(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());kp.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:ya(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});kp.range;const Fp=ya(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Fp.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:ya(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});Fp.range;function D0e(t,e,n,r,s,a){const o=[[Ov,1,hp],[Ov,5,5*hp],[Ov,15,15*hp],[Ov,30,30*hp],[a,1,Ru],[a,5,5*Ru],[a,15,15*Ru],[a,30,30*Ru],[s,1,fp],[s,3,3*fp],[s,6,6*fp],[s,12,12*fp],[r,1,Tp],[r,2,2*Tp],[n,1,YW],[e,1,Jre],[e,3,3*Jre],[t,1,NM]];function l(u,d,h){const f=d<u;f&&([u,d]=[d,u]);const A=h&&typeof h.range=="function"?h:c(u,d,h),v=A?A.range(u,+d+1):[];return f?v.reverse():v}function c(u,d,h){const f=Math.abs(d-u)/h,A=LW(([,,m])=>m).right(o,f);if(A===o.length)return t.every(W9(u/NM,d/NM,h));if(A===0)return B3.every(Math.max(W9(u,d,h),1));const[v,p]=o[f/o[A-1][2]<o[A][2]/f?A-1:A];return v.every(p)}return[l,c]}const[d$e,h$e]=D0e(Fp,rq,SF,B0e,tq,ZW),[f$e,A$e]=D0e(kp,nq,CF,$S,eq,JW);function _M(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function CM(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Zj(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function p$e(t){var e=t.dateTime,n=t.date,r=t.time,s=t.periods,a=t.days,o=t.shortDays,l=t.months,c=t.shortMonths,u=eN(s),d=tN(s),h=eN(a),f=tN(a),A=eN(o),v=tN(o),p=eN(l),m=tN(l),g=eN(c),x=tN(c),b={a:L,A:z,b:$,B:K,c:null,d:iie,e:iie,f:M$e,g:K$e,G:X$e,H:U$e,I:I$e,j:O$e,L:T0e,m:L$e,M:R$e,p:V,q:H,Q:oie,s:lie,S:Q$e,u:H$e,U:z$e,V:$$e,w:W$e,W:q$e,x:null,X:null,y:V$e,Y:G$e,Z:Y$e,"%":aie},j={a:W,A:Y,b:ee,B:ie,c:null,d:sie,e:sie,f:tWe,g:dWe,G:fWe,H:J$e,I:Z$e,j:eWe,L:F0e,m:nWe,M:rWe,p:se,q:Ae,Q:oie,s:lie,S:iWe,u:sWe,U:aWe,V:oWe,w:lWe,W:cWe,x:null,X:null,y:uWe,Y:hWe,Z:AWe,"%":aie},N={a:O,A:I,b:F,B:M,c:S,d:nie,e:nie,f:T$e,g:tie,G:eie,H:rie,I:rie,j:S$e,L:D$e,m:C$e,M:E$e,p:T,q:_$e,Q:F$e,s:P$e,S:B$e,u:y$e,U:b$e,V:w$e,w:v$e,W:j$e,x:q,X:U,y:tie,Y:eie,Z:N$e,"%":k$e};b.x=_(n,b),b.X=_(r,b),b.c=_(e,b),j.x=_(n,j),j.X=_(r,j),j.c=_(e,j);function _(he,Be){return function(Me){var Ie=[],Ye=-1,X=0,ue=he.length,re,de,ce;for(Me instanceof Date||(Me=new Date(+Me));++Ye<ue;)he.charCodeAt(Ye)===37&&(Ie.push(he.slice(X,Ye)),(de=Zre[re=he.charAt(++Ye)])!=null?re=he.charAt(++Ye):de=re==="e"?" ":"0",(ce=Be[re])&&(re=ce(Me,de)),Ie.push(re),X=Ye+1);return Ie.push(he.slice(X,Ye)),Ie.join("")}}function C(he,Be){return function(Me){var Ie=Zj(1900,void 0,1),Ye=k(Ie,he,Me+="",0),X,ue;if(Ye!=Me.length)return null;if("Q"in Ie)return new Date(Ie.Q);if("s"in Ie)return new Date(Ie.s*1e3+("L"in Ie?Ie.L:0));if(Be&&!("Z"in Ie)&&(Ie.Z=0),"p"in Ie&&(Ie.H=Ie.H%12+Ie.p*12),Ie.m===void 0&&(Ie.m="q"in Ie?Ie.q:0),"V"in Ie){if(Ie.V<1||Ie.V>53)return null;"w"in Ie||(Ie.w=1),"Z"in Ie?(X=CM(Zj(Ie.y,0,1)),ue=X.getUTCDay(),X=ue>4||ue===0?T3.ceil(X):T3(X),X=_F.offset(X,(Ie.V-1)*7),Ie.y=X.getUTCFullYear(),Ie.m=X.getUTCMonth(),Ie.d=X.getUTCDate()+(Ie.w+6)%7):(X=_M(Zj(Ie.y,0,1)),ue=X.getDay(),X=ue>4||ue===0?D3.ceil(X):D3(X),X=$S.offset(X,(Ie.V-1)*7),Ie.y=X.getFullYear(),Ie.m=X.getMonth(),Ie.d=X.getDate()+(Ie.w+6)%7)}else("W"in Ie||"U"in Ie)&&("w"in Ie||(Ie.w="u"in Ie?Ie.u%7:"W"in Ie?1:0),ue="Z"in Ie?CM(Zj(Ie.y,0,1)).getUTCDay():_M(Zj(Ie.y,0,1)).getDay(),Ie.m=0,Ie.d="W"in Ie?(Ie.w+6)%7+Ie.W*7-(ue+5)%7:Ie.w+Ie.U*7-(ue+6)%7);return"Z"in Ie?(Ie.H+=Ie.Z/100|0,Ie.M+=Ie.Z%100,CM(Ie)):_M(Ie)}}function k(he,Be,Me,Ie){for(var Ye=0,X=Be.length,ue=Me.length,re,de;Ye<X;){if(Ie>=ue)return-1;if(re=Be.charCodeAt(Ye++),re===37){if(re=Be.charAt(Ye++),de=N[re in Zre?Be.charAt(Ye++):re],!de||(Ie=de(he,Me,Ie))<0)return-1}else if(re!=Me.charCodeAt(Ie++))return-1}return Ie}function T(he,Be,Me){var Ie=u.exec(Be.slice(Me));return Ie?(he.p=d.get(Ie[0].toLowerCase()),Me+Ie[0].length):-1}function O(he,Be,Me){var Ie=A.exec(Be.slice(Me));return Ie?(he.w=v.get(Ie[0].toLowerCase()),Me+Ie[0].length):-1}function I(he,Be,Me){var Ie=h.exec(Be.slice(Me));return Ie?(he.w=f.get(Ie[0].toLowerCase()),Me+Ie[0].length):-1}function F(he,Be,Me){var Ie=g.exec(Be.slice(Me));return Ie?(he.m=x.get(Ie[0].toLowerCase()),Me+Ie[0].length):-1}function M(he,Be,Me){var Ie=p.exec(Be.slice(Me));return Ie?(he.m=m.get(Ie[0].toLowerCase()),Me+Ie[0].length):-1}function S(he,Be,Me){return k(he,e,Be,Me)}function q(he,Be,Me){return k(he,n,Be,Me)}function U(he,Be,Me){return k(he,r,Be,Me)}function L(he){return o[he.getDay()]}function z(he){return a[he.getDay()]}function $(he){return c[he.getMonth()]}function K(he){return l[he.getMonth()]}function V(he){return s[+(he.getHours()>=12)]}function H(he){return 1+~~(he.getMonth()/3)}function W(he){return o[he.getUTCDay()]}function Y(he){return a[he.getUTCDay()]}function ee(he){return c[he.getUTCMonth()]}function ie(he){return l[he.getUTCMonth()]}function se(he){return s[+(he.getUTCHours()>=12)]}function Ae(he){return 1+~~(he.getUTCMonth()/3)}return{format:function(he){var Be=_(he+="",b);return Be.toString=function(){return he},Be},parse:function(he){var Be=C(he+="",!1);return Be.toString=function(){return he},Be},utcFormat:function(he){var Be=_(he+="",j);return Be.toString=function(){return he},Be},utcParse:function(he){var Be=C(he+="",!0);return Be.toString=function(){return he},Be}}}var Zre={"-":"",_:" ",0:"0"},Va=/^\s*\d+/,m$e=/^%/,g$e=/[\\^$*+?|[\]().{}]/g;function Fr(t,e,n){var r=t<0?"-":"",s=(r?-t:t)+"",a=s.length;return r+(a<n?new Array(n-a+1).join(e)+s:s)}function x$e(t){return t.replace(g$e,"\\$&")}function eN(t){return new RegExp("^(?:"+t.map(x$e).join("|")+")","i")}function tN(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function v$e(t,e,n){var r=Va.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function y$e(t,e,n){var r=Va.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function b$e(t,e,n){var r=Va.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function w$e(t,e,n){var r=Va.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function j$e(t,e,n){var r=Va.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function eie(t,e,n){var r=Va.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function tie(t,e,n){var r=Va.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function N$e(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function _$e(t,e,n){var r=Va.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function C$e(t,e,n){var r=Va.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function nie(t,e,n){var r=Va.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function S$e(t,e,n){var r=Va.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function rie(t,e,n){var r=Va.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function E$e(t,e,n){var r=Va.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function B$e(t,e,n){var r=Va.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function D$e(t,e,n){var r=Va.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function T$e(t,e,n){var r=Va.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function k$e(t,e,n){var r=m$e.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function F$e(t,e,n){var r=Va.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function P$e(t,e,n){var r=Va.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function iie(t,e){return Fr(t.getDate(),e,2)}function U$e(t,e){return Fr(t.getHours(),e,2)}function I$e(t,e){return Fr(t.getHours()%12||12,e,2)}function O$e(t,e){return Fr(1+$S.count(kp(t),t),e,3)}function T0e(t,e){return Fr(t.getMilliseconds(),e,3)}function M$e(t,e){return T0e(t,e)+"000"}function L$e(t,e){return Fr(t.getMonth()+1,e,2)}function R$e(t,e){return Fr(t.getMinutes(),e,2)}function Q$e(t,e){return Fr(t.getSeconds(),e,2)}function H$e(t){var e=t.getDay();return e===0?7:e}function z$e(t,e){return Fr(CF.count(kp(t)-1,t),e,2)}function k0e(t){var e=t.getDay();return e>=4||e===0?t2(t):t2.ceil(t)}function $$e(t,e){return t=k0e(t),Fr(t2.count(kp(t),t)+(kp(t).getDay()===4),e,2)}function W$e(t){return t.getDay()}function q$e(t,e){return Fr(D3.count(kp(t)-1,t),e,2)}function V$e(t,e){return Fr(t.getFullYear()%100,e,2)}function K$e(t,e){return t=k0e(t),Fr(t.getFullYear()%100,e,2)}function G$e(t,e){return Fr(t.getFullYear()%1e4,e,4)}function X$e(t,e){var n=t.getDay();return t=n>=4||n===0?t2(t):t2.ceil(t),Fr(t.getFullYear()%1e4,e,4)}function Y$e(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+Fr(e/60|0,"0",2)+Fr(e%60,"0",2)}function sie(t,e){return Fr(t.getUTCDate(),e,2)}function J$e(t,e){return Fr(t.getUTCHours(),e,2)}function Z$e(t,e){return Fr(t.getUTCHours()%12||12,e,2)}function eWe(t,e){return Fr(1+_F.count(Fp(t),t),e,3)}function F0e(t,e){return Fr(t.getUTCMilliseconds(),e,3)}function tWe(t,e){return F0e(t,e)+"000"}function nWe(t,e){return Fr(t.getUTCMonth()+1,e,2)}function rWe(t,e){return Fr(t.getUTCMinutes(),e,2)}function iWe(t,e){return Fr(t.getUTCSeconds(),e,2)}function sWe(t){var e=t.getUTCDay();return e===0?7:e}function aWe(t,e){return Fr(SF.count(Fp(t)-1,t),e,2)}function P0e(t){var e=t.getUTCDay();return e>=4||e===0?n2(t):n2.ceil(t)}function oWe(t,e){return t=P0e(t),Fr(n2.count(Fp(t),t)+(Fp(t).getUTCDay()===4),e,2)}function lWe(t){return t.getUTCDay()}function cWe(t,e){return Fr(T3.count(Fp(t)-1,t),e,2)}function uWe(t,e){return Fr(t.getUTCFullYear()%100,e,2)}function dWe(t,e){return t=P0e(t),Fr(t.getUTCFullYear()%100,e,2)}function hWe(t,e){return Fr(t.getUTCFullYear()%1e4,e,4)}function fWe(t,e){var n=t.getUTCDay();return t=n>=4||n===0?n2(t):n2.ceil(t),Fr(t.getUTCFullYear()%1e4,e,4)}function AWe(){return"+0000"}function aie(){return"%"}function oie(t){return+t}function lie(t){return Math.floor(+t/1e3)}var Nb,U0e,I0e;pWe({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function pWe(t){return Nb=p$e(t),U0e=Nb.format,Nb.parse,I0e=Nb.utcFormat,Nb.utcParse,Nb}function mWe(t){return new Date(t)}function gWe(t){return t instanceof Date?+t:+new Date(+t)}function iq(t,e,n,r,s,a,o,l,c,u){var d=$W(),h=d.invert,f=d.domain,A=u(".%L"),v=u(":%S"),p=u("%I:%M"),m=u("%I %p"),g=u("%a %d"),x=u("%b %d"),b=u("%B"),j=u("%Y");function N(_){return(c(_)<_?A:l(_)<_?v:o(_)<_?p:a(_)<_?m:r(_)<_?s(_)<_?g:x:n(_)<_?b:j)(_)}return d.invert=function(_){return new Date(h(_))},d.domain=function(_){return arguments.length?f(Array.from(_,gWe)):f().map(mWe)},d.ticks=function(_){var C=f();return t(C[0],C[C.length-1],_??10)},d.tickFormat=function(_,C){return C==null?N:u(C)},d.nice=function(_){var C=f();return(!_||typeof _.range!="function")&&(_=e(C[0],C[C.length-1],_??10)),_?f(w0e(C,_)):d},d.copy=function(){return zS(d,iq(t,e,n,r,s,a,o,l,c,u))},d}function xWe(){return Zu.apply(iq(f$e,A$e,kp,nq,CF,$S,eq,JW,Ov,U0e).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function vWe(){return Zu.apply(iq(d$e,h$e,Fp,rq,SF,_F,tq,ZW,Ov,I0e).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function EF(){var t=0,e=1,n,r,s,a,o=Sl,l=!1,c;function u(h){return h==null||isNaN(h=+h)?c:o(s===0?.5:(h=(a(h)-n)*s,l?Math.max(0,Math.min(1,h)):h))}u.domain=function(h){return arguments.length?([t,e]=h,n=a(t=+t),r=a(e=+e),s=n===r?0:1/(r-n),u):[t,e]},u.clamp=function(h){return arguments.length?(l=!!h,u):l},u.interpolator=function(h){return arguments.length?(o=h,u):o};function d(h){return function(f){var A,v;return arguments.length?([A,v]=f,o=h(A,v),u):[o(0),o(1)]}}return u.range=d(rj),u.rangeRound=d(zW),u.unknown=function(h){return arguments.length?(c=h,u):c},function(h){return a=h,n=h(t),r=h(e),s=n===r?0:1/(r-n),u}}function _x(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function O0e(){var t=Nx(EF()(Sl));return t.copy=function(){return _x(t,O0e())},$p.apply(t,arguments)}function M0e(){var t=VW(EF()).domain([1,10]);return t.copy=function(){return _x(t,M0e()).base(t.base())},$p.apply(t,arguments)}function L0e(){var t=KW(EF());return t.copy=function(){return _x(t,L0e()).constant(t.constant())},$p.apply(t,arguments)}function sq(){var t=GW(EF());return t.copy=function(){return _x(t,sq()).exponent(t.exponent())},$p.apply(t,arguments)}function yWe(){return sq.apply(null,arguments).exponent(.5)}function R0e(){var t=[],e=Sl;function n(r){if(r!=null&&!isNaN(r=+r))return e((QS(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let s of r)s!=null&&!isNaN(s=+s)&&t.push(s);return t.sort($g),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,s)=>e(s/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(s,a)=>ZHe(t,a/r))},n.copy=function(){return R0e(e).domain(t)},$p.apply(n,arguments)}function BF(){var t=0,e=.5,n=1,r=1,s,a,o,l,c,u=Sl,d,h=!1,f;function A(p){return isNaN(p=+p)?f:(p=.5+((p=+d(p))-a)*(r*p<r*a?l:c),u(h?Math.max(0,Math.min(1,p)):p))}A.domain=function(p){return arguments.length?([t,e,n]=p,s=d(t=+t),a=d(e=+e),o=d(n=+n),l=s===a?0:.5/(a-s),c=a===o?0:.5/(o-a),r=a<s?-1:1,A):[t,e,n]},A.clamp=function(p){return arguments.length?(h=!!p,A):h},A.interpolator=function(p){return arguments.length?(u=p,A):u};function v(p){return function(m){var g,x,b;return arguments.length?([g,x,b]=m,u=kze(p,[g,x,b]),A):[u(0),u(.5),u(1)]}}return A.range=v(rj),A.rangeRound=v(zW),A.unknown=function(p){return arguments.length?(f=p,A):f},function(p){return d=p,s=p(t),a=p(e),o=p(n),l=s===a?0:.5/(a-s),c=a===o?0:.5/(o-a),r=a<s?-1:1,A}}function Q0e(){var t=Nx(BF()(Sl));return t.copy=function(){return _x(t,Q0e())},$p.apply(t,arguments)}function H0e(){var t=VW(BF()).domain([.1,1,10]);return t.copy=function(){return _x(t,H0e()).base(t.base())},$p.apply(t,arguments)}function z0e(){var t=KW(BF());return t.copy=function(){return _x(t,z0e()).constant(t.constant())},$p.apply(t,arguments)}function aq(){var t=GW(BF());return t.copy=function(){return _x(t,aq()).exponent(t.exponent())},$p.apply(t,arguments)}function bWe(){return aq.apply(null,arguments).exponent(.5)}const cie=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:e5,scaleDiverging:Q0e,scaleDivergingLog:H0e,scaleDivergingPow:aq,scaleDivergingSqrt:bWe,scaleDivergingSymlog:z0e,scaleIdentity:b0e,scaleImplicit:q9,scaleLinear:E3,scaleLog:j0e,scaleOrdinal:RW,scalePoint:s_,scalePow:XW,scaleQuantile:C0e,scaleQuantize:S0e,scaleRadial:_0e,scaleSequential:O0e,scaleSequentialLog:M0e,scaleSequentialPow:sq,scaleSequentialQuantile:R0e,scaleSequentialSqrt:yWe,scaleSequentialSymlog:L0e,scaleSqrt:t$e,scaleSymlog:N0e,scaleThreshold:E0e,scaleTime:xWe,scaleUtc:vWe,tickFormat:y0e},Symbol.toStringTag,{value:"Module"}));var SM,uie;function DF(){if(uie)return SM;uie=1;var t=Z2();function e(n,r,s){for(var a=-1,o=n.length;++a<o;){var l=n[a],c=r(l);if(c!=null&&(u===void 0?c===c&&!t(c):s(c,u)))var u=c,d=l}return d}return SM=e,SM}var EM,die;function $0e(){if(die)return EM;die=1;function t(e,n){return e>n}return EM=t,EM}var BM,hie;function wWe(){if(hie)return BM;hie=1;var t=DF(),e=$0e(),n=nj();function r(s){return s&&s.length?t(s,n,e):void 0}return BM=r,BM}var jWe=wWe();const Ug=wr(jWe);var DM,fie;function W0e(){if(fie)return DM;fie=1;function t(e,n){return e<n}return DM=t,DM}var TM,Aie;function NWe(){if(Aie)return TM;Aie=1;var t=DF(),e=W0e(),n=nj();function r(s){return s&&s.length?t(s,n,e):void 0}return TM=r,TM}var _We=NWe();const TF=wr(_We);var kM,pie;function CWe(){if(pie)return kM;pie=1;var t=jW(),e=Rf(),n=Xve(),r=hc();function s(a,o){var l=r(a)?t:n;return l(a,e(o,3))}return kM=s,kM}var FM,mie;function SWe(){if(mie)return FM;mie=1;var t=Kve(),e=CWe();function n(r,s){return t(e(r,s),1)}return FM=n,FM}var EWe=SWe();const BWe=wr(EWe);var PM,gie;function DWe(){if(gie)return PM;gie=1;var t=UW();function e(n,r){return t(n,r)}return PM=e,PM}var TWe=DWe();const Pp=wr(TWe);var ij=1e9,kWe={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},lq,es=!0,Yu="[DecimalError] ",Y0=Yu+"Invalid argument: ",oq=Yu+"Exponent out of range: ",sj=Math.floor,yv=Math.pow,FWe=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Wc,La=1e7,Qi=7,q0e=9007199254740991,k3=sj(q0e/Qi),tn={};tn.absoluteValue=tn.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};tn.comparedTo=tn.cmp=function(t){var e,n,r,s,a=this;if(t=new a.constructor(t),a.s!==t.s)return a.s||-t.s;if(a.e!==t.e)return a.e>t.e^a.s<0?1:-1;for(r=a.d.length,s=t.d.length,e=0,n=r<s?r:s;e<n;++e)if(a.d[e]!==t.d[e])return a.d[e]>t.d[e]^a.s<0?1:-1;return r===s?0:r>s^a.s<0?1:-1};tn.decimalPlaces=tn.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*Qi;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};tn.dividedBy=tn.div=function(t){return xp(this,new this.constructor(t))};tn.dividedToIntegerBy=tn.idiv=function(t){var e=this,n=e.constructor;return bi(xp(e,new n(t),0,1),n.precision)};tn.equals=tn.eq=function(t){return!this.cmp(t)};tn.exponent=function(){return na(this)};tn.greaterThan=tn.gt=function(t){return this.cmp(t)>0};tn.greaterThanOrEqualTo=tn.gte=function(t){return this.cmp(t)>=0};tn.isInteger=tn.isint=function(){return this.e>this.d.length-2};tn.isNegative=tn.isneg=function(){return this.s<0};tn.isPositive=tn.ispos=function(){return this.s>0};tn.isZero=function(){return this.s===0};tn.lessThan=tn.lt=function(t){return this.cmp(t)<0};tn.lessThanOrEqualTo=tn.lte=function(t){return this.cmp(t)<1};tn.logarithm=tn.log=function(t){var e,n=this,r=n.constructor,s=r.precision,a=s+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(Wc))throw Error(Yu+"NaN");if(n.s<1)throw Error(Yu+(n.s?"NaN":"-Infinity"));return n.eq(Wc)?new r(0):(es=!1,e=xp(i5(n,a),i5(t,a),a),es=!0,bi(e,s))};tn.minus=tn.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?G0e(e,t):V0e(e,(t.s=-t.s,t))};tn.modulo=tn.mod=function(t){var e,n=this,r=n.constructor,s=r.precision;if(t=new r(t),!t.s)throw Error(Yu+"NaN");return n.s?(es=!1,e=xp(n,t,0,1).times(t),es=!0,n.minus(e)):bi(new r(n),s)};tn.naturalExponential=tn.exp=function(){return K0e(this)};tn.naturalLogarithm=tn.ln=function(){return i5(this)};tn.negated=tn.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};tn.plus=tn.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?V0e(e,t):G0e(e,(t.s=-t.s,t))};tn.precision=tn.sd=function(t){var e,n,r,s=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(Y0+t);if(e=na(s)+1,r=s.d.length-1,n=r*Qi+1,r=s.d[r],r){for(;r%10==0;r/=10)n--;for(r=s.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};tn.squareRoot=tn.sqrt=function(){var t,e,n,r,s,a,o,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(Yu+"NaN")}for(t=na(l),es=!1,s=Math.sqrt(+l),s==0||s==1/0?(e=jf(l.d),(e.length+t)%2==0&&(e+="0"),s=Math.sqrt(e),t=sj((t+1)/2)-(t<0||t%2),s==1/0?e="5e"+t:(e=s.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new c(e)):r=new c(s.toString()),n=c.precision,s=o=n+3;;)if(a=r,r=a.plus(xp(l,a,o+2)).times(.5),jf(a.d).slice(0,o)===(e=jf(r.d)).slice(0,o)){if(e=e.slice(o-3,o+1),s==o&&e=="4999"){if(bi(a,n+1,0),a.times(a).eq(l)){r=a;break}}else if(e!="9999")break;o+=4}return es=!0,bi(r,n)};tn.times=tn.mul=function(t){var e,n,r,s,a,o,l,c,u,d=this,h=d.constructor,f=d.d,A=(t=new h(t)).d;if(!d.s||!t.s)return new h(0);for(t.s*=d.s,n=d.e+t.e,c=f.length,u=A.length,c<u&&(a=f,f=A,A=a,o=c,c=u,u=o),a=[],o=c+u,r=o;r--;)a.push(0);for(r=u;--r>=0;){for(e=0,s=c+r;s>r;)l=a[s]+A[r]*f[s-r-1]+e,a[s--]=l%La|0,e=l/La|0;a[s]=(a[s]+e)%La|0}for(;!a[--o];)a.pop();return e?++n:a.shift(),t.d=a,t.e=n,es?bi(t,h.precision):t};tn.toDecimalPlaces=tn.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(Uf(t,0,ij),e===void 0?e=r.rounding:Uf(e,0,8),bi(n,t+na(n)+1,e))};tn.toExponential=function(t,e){var n,r=this,s=r.constructor;return t===void 0?n=gy(r,!0):(Uf(t,0,ij),e===void 0?e=s.rounding:Uf(e,0,8),r=bi(new s(r),t+1,e),n=gy(r,!0,t+1)),n};tn.toFixed=function(t,e){var n,r,s=this,a=s.constructor;return t===void 0?gy(s):(Uf(t,0,ij),e===void 0?e=a.rounding:Uf(e,0,8),r=bi(new a(s),t+na(s)+1,e),n=gy(r.abs(),!1,t+na(r)+1),s.isneg()&&!s.isZero()?"-"+n:n)};tn.toInteger=tn.toint=function(){var t=this,e=t.constructor;return bi(new e(t),na(t)+1,e.rounding)};tn.toNumber=function(){return+this};tn.toPower=tn.pow=function(t){var e,n,r,s,a,o,l=this,c=l.constructor,u=12,d=+(t=new c(t));if(!t.s)return new c(Wc);if(l=new c(l),!l.s){if(t.s<1)throw Error(Yu+"Infinity");return l}if(l.eq(Wc))return l;if(r=c.precision,t.eq(Wc))return bi(l,r);if(e=t.e,n=t.d.length-1,o=e>=n,a=l.s,o){if((n=d<0?-d:d)<=q0e){for(s=new c(Wc),e=Math.ceil(r/Qi+4),es=!1;n%2&&(s=s.times(l),vie(s.d,e)),n=sj(n/2),n!==0;)l=l.times(l),vie(l.d,e);return es=!0,t.s<0?new c(Wc).div(s):bi(s,r)}}else if(a<0)throw Error(Yu+"NaN");return a=a<0&&t.d[Math.max(e,n)]&1?-1:1,l.s=1,es=!1,s=t.times(i5(l,r+u)),es=!0,s=K0e(s),s.s=a,s};tn.toPrecision=function(t,e){var n,r,s=this,a=s.constructor;return t===void 0?(n=na(s),r=gy(s,n<=a.toExpNeg||n>=a.toExpPos)):(Uf(t,1,ij),e===void 0?e=a.rounding:Uf(e,0,8),s=bi(new a(s),t,e),n=na(s),r=gy(s,t<=n||n<=a.toExpNeg,t)),r};tn.toSignificantDigits=tn.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(Uf(t,1,ij),e===void 0?e=r.rounding:Uf(e,0,8)),bi(new r(n),t,e)};tn.toString=tn.valueOf=tn.val=tn.toJSON=tn[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=na(t),n=t.constructor;return gy(t,e<=n.toExpNeg||e>=n.toExpPos)};function V0e(t,e){var n,r,s,a,o,l,c,u,d=t.constructor,h=d.precision;if(!t.s||!e.s)return e.s||(e=new d(t)),es?bi(e,h):e;if(c=t.d,u=e.d,o=t.e,s=e.e,c=c.slice(),a=o-s,a){for(a<0?(r=c,a=-a,l=u.length):(r=u,s=o,l=c.length),o=Math.ceil(h/Qi),l=o>l?o+1:l+1,a>l&&(a=l,r.length=1),r.reverse();a--;)r.push(0);r.reverse()}for(l=c.length,a=u.length,l-a<0&&(a=l,r=u,u=c,c=r),n=0;a;)n=(c[--a]=c[a]+u[a]+n)/La|0,c[a]%=La;for(n&&(c.unshift(n),++s),l=c.length;c[--l]==0;)c.pop();return e.d=c,e.e=s,es?bi(e,h):e}function Uf(t,e,n){if(t!==~~t||t<e||t>n)throw Error(Y0+t)}function jf(t){var e,n,r,s=t.length-1,a="",o=t[0];if(s>0){for(a+=o,e=1;e<s;e++)r=t[e]+"",n=Qi-r.length,n&&(a+=Ym(n)),a+=r;o=t[e],r=o+"",n=Qi-r.length,n&&(a+=Ym(n))}else if(o===0)return"0";for(;o%10===0;)o/=10;return a+o}var xp=function(){function t(r,s){var a,o=0,l=r.length;for(r=r.slice();l--;)a=r[l]*s+o,r[l]=a%La|0,o=a/La|0;return o&&r.unshift(o),r}function e(r,s,a,o){var l,c;if(a!=o)c=a>o?1:-1;else for(l=c=0;l<a;l++)if(r[l]!=s[l]){c=r[l]>s[l]?1:-1;break}return c}function n(r,s,a){for(var o=0;a--;)r[a]-=o,o=r[a]<s[a]?1:0,r[a]=o*La+r[a]-s[a];for(;!r[0]&&r.length>1;)r.shift()}return function(r,s,a,o){var l,c,u,d,h,f,A,v,p,m,g,x,b,j,N,_,C,k,T=r.constructor,O=r.s==s.s?1:-1,I=r.d,F=s.d;if(!r.s)return new T(r);if(!s.s)throw Error(Yu+"Division by zero");for(c=r.e-s.e,C=F.length,N=I.length,A=new T(O),v=A.d=[],u=0;F[u]==(I[u]||0);)++u;if(F[u]>(I[u]||0)&&--c,a==null?x=a=T.precision:o?x=a+(na(r)-na(s))+1:x=a,x<0)return new T(0);if(x=x/Qi+2|0,u=0,C==1)for(d=0,F=F[0],x++;(u<N||d)&&x--;u++)b=d*La+(I[u]||0),v[u]=b/F|0,d=b%F|0;else{for(d=La/(F[0]+1)|0,d>1&&(F=t(F,d),I=t(I,d),C=F.length,N=I.length),j=C,p=I.slice(0,C),m=p.length;m<C;)p[m++]=0;k=F.slice(),k.unshift(0),_=F[0],F[1]>=La/2&&++_;do d=0,l=e(F,p,C,m),l<0?(g=p[0],C!=m&&(g=g*La+(p[1]||0)),d=g/_|0,d>1?(d>=La&&(d=La-1),h=t(F,d),f=h.length,m=p.length,l=e(h,p,f,m),l==1&&(d--,n(h,C<f?k:F,f))):(d==0&&(l=d=1),h=F.slice()),f=h.length,f<m&&h.unshift(0),n(p,h,m),l==-1&&(m=p.length,l=e(F,p,C,m),l<1&&(d++,n(p,C<m?k:F,m))),m=p.length):l===0&&(d++,p=[0]),v[u++]=d,l&&p[0]?p[m++]=I[j]||0:(p=[I[j]],m=1);while((j++<N||p[0]!==void 0)&&x--)}return v[0]||v.shift(),A.e=c,bi(A,o?a+na(A)+1:a)}}();function K0e(t,e){var n,r,s,a,o,l,c=0,u=0,d=t.constructor,h=d.precision;if(na(t)>16)throw Error(oq+na(t));if(!t.s)return new d(Wc);for(es=!1,l=h,o=new d(.03125);t.abs().gte(.1);)t=t.times(o),u+=5;for(r=Math.log(yv(2,u))/Math.LN10*2+5|0,l+=r,n=s=a=new d(Wc),d.precision=l;;){if(s=bi(s.times(t),l),n=n.times(++c),o=a.plus(xp(s,n,l)),jf(o.d).slice(0,l)===jf(a.d).slice(0,l)){for(;u--;)a=bi(a.times(a),l);return d.precision=h,e==null?(es=!0,bi(a,h)):a}a=o}}function na(t){for(var e=t.e*Qi,n=t.d[0];n>=10;n/=10)e++;return e}function UM(t,e,n){if(e>t.LN10.sd())throw es=!0,n&&(t.precision=n),Error(Yu+"LN10 precision limit exceeded");return bi(new t(t.LN10),e)}function Ym(t){for(var e="";t--;)e+="0";return e}function i5(t,e){var n,r,s,a,o,l,c,u,d,h=1,f=10,A=t,v=A.d,p=A.constructor,m=p.precision;if(A.s<1)throw Error(Yu+(A.s?"NaN":"-Infinity"));if(A.eq(Wc))return new p(0);if(e==null?(es=!1,u=m):u=e,A.eq(10))return e==null&&(es=!0),UM(p,u);if(u+=f,p.precision=u,n=jf(v),r=n.charAt(0),a=na(A),Math.abs(a)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)A=A.times(t),n=jf(A.d),r=n.charAt(0),h++;a=na(A),r>1?(A=new p("0."+n),a++):A=new p(r+"."+n.slice(1))}else return c=UM(p,u+2,m).times(a+""),A=i5(new p(r+"."+n.slice(1)),u-f).plus(c),p.precision=m,e==null?(es=!0,bi(A,m)):A;for(l=o=A=xp(A.minus(Wc),A.plus(Wc),u),d=bi(A.times(A),u),s=3;;){if(o=bi(o.times(d),u),c=l.plus(xp(o,new p(s),u)),jf(c.d).slice(0,u)===jf(l.d).slice(0,u))return l=l.times(2),a!==0&&(l=l.plus(UM(p,u+2,m).times(a+""))),l=xp(l,new p(h),u),p.precision=m,e==null?(es=!0,bi(l,m)):l;l=c,s+=2}}function xie(t,e){var n,r,s;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(s=e.length;e.charCodeAt(s-1)===48;)--s;if(e=e.slice(r,s),e){if(s-=r,n=n-r-1,t.e=sj(n/Qi),t.d=[],r=(n+1)%Qi,n<0&&(r+=Qi),r<s){for(r&&t.d.push(+e.slice(0,r)),s-=Qi;r<s;)t.d.push(+e.slice(r,r+=Qi));e=e.slice(r),r=Qi-e.length}else r-=s;for(;r--;)e+="0";if(t.d.push(+e),es&&(t.e>k3||t.e<-k3))throw Error(oq+n)}else t.s=0,t.e=0,t.d=[0];return t}function bi(t,e,n){var r,s,a,o,l,c,u,d,h=t.d;for(o=1,a=h[0];a>=10;a/=10)o++;if(r=e-o,r<0)r+=Qi,s=e,u=h[d=0];else{if(d=Math.ceil((r+1)/Qi),a=h.length,d>=a)return t;for(u=a=h[d],o=1;a>=10;a/=10)o++;r%=Qi,s=r-Qi+o}if(n!==void 0&&(a=yv(10,o-s-1),l=u/a%10|0,c=e<0||h[d+1]!==void 0||u%a,c=n<4?(l||c)&&(n==0||n==(t.s<0?3:2)):l>5||l==5&&(n==4||c||n==6&&(r>0?s>0?u/yv(10,o-s):0:h[d-1])%10&1||n==(t.s<0?8:7))),e<1||!h[0])return c?(a=na(t),h.length=1,e=e-a-1,h[0]=yv(10,(Qi-e%Qi)%Qi),t.e=sj(-e/Qi)||0):(h.length=1,h[0]=t.e=t.s=0),t;if(r==0?(h.length=d,a=1,d--):(h.length=d+1,a=yv(10,Qi-r),h[d]=s>0?(u/yv(10,o-s)%yv(10,s)|0)*a:0),c)for(;;)if(d==0){(h[0]+=a)==La&&(h[0]=1,++t.e);break}else{if(h[d]+=a,h[d]!=La)break;h[d--]=0,a=1}for(r=h.length;h[--r]===0;)h.pop();if(es&&(t.e>k3||t.e<-k3))throw Error(oq+na(t));return t}function G0e(t,e){var n,r,s,a,o,l,c,u,d,h,f=t.constructor,A=f.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new f(t),es?bi(e,A):e;if(c=t.d,h=e.d,r=e.e,u=t.e,c=c.slice(),o=u-r,o){for(d=o<0,d?(n=c,o=-o,l=h.length):(n=h,r=u,l=c.length),s=Math.max(Math.ceil(A/Qi),l)+2,o>s&&(o=s,n.length=1),n.reverse(),s=o;s--;)n.push(0);n.reverse()}else{for(s=c.length,l=h.length,d=s<l,d&&(l=s),s=0;s<l;s++)if(c[s]!=h[s]){d=c[s]<h[s];break}o=0}for(d&&(n=c,c=h,h=n,e.s=-e.s),l=c.length,s=h.length-l;s>0;--s)c[l++]=0;for(s=h.length;s>o;){if(c[--s]<h[s]){for(a=s;a&&c[--a]===0;)c[a]=La-1;--c[a],c[s]+=La}c[s]-=h[s]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--r;return c[0]?(e.d=c,e.e=r,es?bi(e,A):e):new f(0)}function gy(t,e,n){var r,s=na(t),a=jf(t.d),o=a.length;return e?(n&&(r=n-o)>0?a=a.charAt(0)+"."+a.slice(1)+Ym(r):o>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(s<0?"e":"e+")+s):s<0?(a="0."+Ym(-s-1)+a,n&&(r=n-o)>0&&(a+=Ym(r))):s>=o?(a+=Ym(s+1-o),n&&(r=n-s-1)>0&&(a=a+"."+Ym(r))):((r=s+1)<o&&(a=a.slice(0,r)+"."+a.slice(r)),n&&(r=n-o)>0&&(s+1===o&&(a+="."),a+=Ym(r))),t.s<0?"-"+a:a}function vie(t,e){if(t.length>e)return t.length=e,!0}function X0e(t){var e,n,r;function s(a){var o=this;if(!(o instanceof s))return new s(a);if(o.constructor=s,a instanceof s){o.s=a.s,o.e=a.e,o.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(Y0+a);if(a>0)o.s=1;else if(a<0)a=-a,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(a===~~a&&a<1e7){o.e=0,o.d=[a];return}return xie(o,a.toString())}else if(typeof a!="string")throw Error(Y0+a);if(a.charCodeAt(0)===45?(a=a.slice(1),o.s=-1):o.s=1,FWe.test(a))xie(o,a);else throw Error(Y0+a)}if(s.prototype=tn,s.ROUND_UP=0,s.ROUND_DOWN=1,s.ROUND_CEIL=2,s.ROUND_FLOOR=3,s.ROUND_HALF_UP=4,s.ROUND_HALF_DOWN=5,s.ROUND_HALF_EVEN=6,s.ROUND_HALF_CEIL=7,s.ROUND_HALF_FLOOR=8,s.clone=X0e,s.config=s.set=PWe,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return s.config(t),s}function PWe(t){if(!t||typeof t!="object")throw Error(Yu+"Object expected");var e,n,r,s=["precision",1,ij,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<s.length;e+=3)if((r=t[n=s[e]])!==void 0)if(sj(r)===r&&r>=s[e+1]&&r<=s[e+2])this[n]=r;else throw Error(Y0+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(Y0+n+": "+r);return this}var lq=X0e(kWe);Wc=new lq(1);const si=lq;function UWe(t){return LWe(t)||MWe(t)||OWe(t)||IWe()}function IWe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function OWe(t,e){if(t){if(typeof t=="string")return Y9(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Y9(t,e)}}function MWe(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function LWe(t){if(Array.isArray(t))return Y9(t)}function Y9(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var RWe=function(e){return e},Y0e={},J0e=function(e){return e===Y0e},yie=function(e){return function n(){return arguments.length===0||arguments.length===1&&J0e(arguments.length<=0?void 0:arguments[0])?n:e.apply(void 0,arguments)}},QWe=function t(e,n){return e===1?n:yie(function(){for(var r=arguments.length,s=new Array(r),a=0;a<r;a++)s[a]=arguments[a];var o=s.filter(function(l){return l!==Y0e}).length;return o>=e?n.apply(void 0,s):t(e-o,yie(function(){for(var l=arguments.length,c=new Array(l),u=0;u<l;u++)c[u]=arguments[u];var d=s.map(function(h){return J0e(h)?c.shift():h});return n.apply(void 0,UWe(d).concat(c))}))})},kF=function(e){return QWe(e.length,e)},J9=function(e,n){for(var r=[],s=e;s<n;++s)r[s-e]=s;return r},HWe=kF(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(n){return e[n]}).map(t)}),zWe=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return RWe;var s=n.reverse(),a=s[0],o=s.slice(1);return function(){return o.reduce(function(l,c){return c(l)},a.apply(void 0,arguments))}},Z9=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},Z0e=function(e){var n=null,r=null;return function(){for(var s=arguments.length,a=new Array(s),o=0;o<s;o++)a[o]=arguments[o];return n&&a.every(function(l,c){return l===n[c]})||(n=a,r=e.apply(void 0,a)),r}};function $We(t){var e;return t===0?e=1:e=Math.floor(new si(t).abs().log(10).toNumber())+1,e}function WWe(t,e,n){for(var r=new si(t),s=0,a=[];r.lt(e)&&s<1e5;)a.push(r.toNumber()),r=r.add(n),s++;return a}var qWe=kF(function(t,e,n){var r=+t,s=+e;return r+n*(s-r)}),VWe=kF(function(t,e,n){var r=e-+t;return r=r||1/0,(n-t)/r}),KWe=kF(function(t,e,n){var r=e-+t;return r=r||1/0,Math.max(0,Math.min(1,(n-t)/r))});const FF={rangeStep:WWe,getDigitCount:$We,interpolateNumber:qWe,uninterpolateNumber:VWe,uninterpolateTruncation:KWe};function eQ(t){return YWe(t)||XWe(t)||eye(t)||GWe()}function GWe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function XWe(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function YWe(t){if(Array.isArray(t))return tQ(t)}function s5(t,e){return eqe(t)||ZWe(t,e)||eye(t,e)||JWe()}function JWe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function eye(t,e){if(t){if(typeof t=="string")return tQ(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return tQ(t,e)}}function tQ(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function ZWe(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var n=[],r=!0,s=!1,a=void 0;try{for(var o=t[Symbol.iterator](),l;!(r=(l=o.next()).done)&&(n.push(l.value),!(e&&n.length===e));r=!0);}catch(c){s=!0,a=c}finally{try{!r&&o.return!=null&&o.return()}finally{if(s)throw a}}return n}}function eqe(t){if(Array.isArray(t))return t}function tye(t){var e=s5(t,2),n=e[0],r=e[1],s=n,a=r;return n>r&&(s=r,a=n),[s,a]}function nye(t,e,n){if(t.lte(0))return new si(0);var r=FF.getDigitCount(t.toNumber()),s=new si(10).pow(r),a=t.div(s),o=r!==1?.05:.1,l=new si(Math.ceil(a.div(o).toNumber())).add(n).mul(o),c=l.mul(s);return e?c:new si(Math.ceil(c))}function tqe(t,e,n){var r=1,s=new si(t);if(!s.isint()&&n){var a=Math.abs(t);a<1?(r=new si(10).pow(FF.getDigitCount(t)-1),s=new si(Math.floor(s.div(r).toNumber())).mul(r)):a>1&&(s=new si(Math.floor(t)))}else t===0?s=new si(Math.floor((e-1)/2)):n||(s=new si(Math.floor(t)));var o=Math.floor((e-1)/2),l=zWe(HWe(function(c){return s.add(new si(c-o).mul(r)).toNumber()}),J9);return l(0,e)}function rye(t,e,n,r){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(n-1)))return{step:new si(0),tickMin:new si(0),tickMax:new si(0)};var a=nye(new si(e).sub(t).div(n-1),r,s),o;t<=0&&e>=0?o=new si(0):(o=new si(t).add(e).div(2),o=o.sub(new si(o).mod(a)));var l=Math.ceil(o.sub(t).div(a).toNumber()),c=Math.ceil(new si(e).sub(o).div(a).toNumber()),u=l+c+1;return u>n?rye(t,e,n,r,s+1):(u<n&&(c=e>0?c+(n-u):c,l=e>0?l:l+(n-u)),{step:a,tickMin:o.sub(new si(l).mul(a)),tickMax:o.add(new si(c).mul(a))})}function nqe(t){var e=s5(t,2),n=e[0],r=e[1],s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(s,2),l=tye([n,r]),c=s5(l,2),u=c[0],d=c[1];if(u===-1/0||d===1/0){var h=d===1/0?[u].concat(eQ(J9(0,s-1).map(function(){return 1/0}))):[].concat(eQ(J9(0,s-1).map(function(){return-1/0})),[d]);return n>r?Z9(h):h}if(u===d)return tqe(u,s,a);var f=rye(u,d,o,a),A=f.step,v=f.tickMin,p=f.tickMax,m=FF.rangeStep(v,p.add(new si(.1).mul(A)),A);return n>r?Z9(m):m}function rqe(t,e){var n=s5(t,2),r=n[0],s=n[1],a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=tye([r,s]),l=s5(o,2),c=l[0],u=l[1];if(c===-1/0||u===1/0)return[r,s];if(c===u)return[c];var d=Math.max(e,2),h=nye(new si(u).sub(c).div(d-1),a,0),f=[].concat(eQ(FF.rangeStep(new si(c),new si(u).sub(new si(.99).mul(h)),h)),[u]);return r>s?Z9(f):f}var iqe=Z0e(nqe),sqe=Z0e(rqe),aqe="Invariant failed";function xy(t,e){throw new Error(aqe)}var oqe=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function r2(t){"@babel/helpers - typeof";return r2=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r2(t)}function F3(){return F3=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},F3.apply(this,arguments)}function lqe(t,e){return hqe(t)||dqe(t,e)||uqe(t,e)||cqe()}function cqe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function uqe(t,e){if(t){if(typeof t=="string")return bie(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return bie(t,e)}}function bie(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function dqe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,s,a,o,l=[],c=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function hqe(t){if(Array.isArray(t))return t}function fqe(t,e){if(t==null)return{};var n=Aqe(t,e),r,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(s=0;s<a.length;s++)r=a[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Aqe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function pqe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function mqe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,aye(r.key),r)}}function gqe(t,e,n){return e&&mqe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function xqe(t,e,n){return e=P3(e),vqe(t,iye()?Reflect.construct(e,n||[],P3(t).constructor):e.apply(t,n))}function vqe(t,e){if(e&&(r2(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return yqe(t)}function yqe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function iye(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(iye=function(){return!!t})()}function P3(t){return P3=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},P3(t)}function bqe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&nQ(t,e)}function nQ(t,e){return nQ=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},nQ(t,e)}function sye(t,e,n){return e=aye(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function aye(t){var e=wqe(t,"string");return r2(e)=="symbol"?e:e+""}function wqe(t,e){if(r2(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(r2(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var aj=function(t){function e(){return pqe(this,e),xqe(this,e,arguments)}return bqe(e,t),gqe(e,[{key:"render",value:function(){var r=this.props,s=r.offset,a=r.layout,o=r.width,l=r.dataKey,c=r.data,u=r.dataPointFormatter,d=r.xAxis,h=r.yAxis,f=fqe(r,oqe),A=Yt(f,!1);this.props.direction==="x"&&d.type!=="number"&&xy();var v=c.map(function(p){var m=u(p,l),g=m.x,x=m.y,b=m.value,j=m.errorVal;if(!j)return null;var N=[],_,C;if(Array.isArray(j)){var k=lqe(j,2);_=k[0],C=k[1]}else _=C=j;if(a==="vertical"){var T=d.scale,O=x+s,I=O+o,F=O-o,M=T(b-_),S=T(b+C);N.push({x1:S,y1:I,x2:S,y2:F}),N.push({x1:M,y1:O,x2:S,y2:O}),N.push({x1:M,y1:I,x2:M,y2:F})}else if(a==="horizontal"){var q=h.scale,U=g+s,L=U-o,z=U+o,$=q(b-_),K=q(b+C);N.push({x1:L,y1:K,x2:z,y2:K}),N.push({x1:U,y1:$,x2:U,y2:K}),N.push({x1:L,y1:$,x2:z,y2:$})}return pe.createElement(Rn,F3({className:"recharts-errorBar",key:"bar-".concat(N.map(function(V){return"".concat(V.x1,"-").concat(V.x2,"-").concat(V.y1,"-").concat(V.y2)}))},A),N.map(function(V){return pe.createElement("line",F3({},V,{key:"line-".concat(V.x1,"-").concat(V.x2,"-").concat(V.y1,"-").concat(V.y2)}))}))});return pe.createElement(Rn,{className:"recharts-errorBars"},v)}}])}(pe.Component);sye(aj,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});sye(aj,"displayName","ErrorBar");function a5(t){"@babel/helpers - typeof";return a5=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a5(t)}function wie(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function cv(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?wie(Object(n),!0).forEach(function(r){jqe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):wie(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function jqe(t,e,n){return e=Nqe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Nqe(t){var e=_qe(t,"string");return a5(e)=="symbol"?e:e+""}function _qe(t,e){if(a5(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(a5(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var oye=function(e){var n=e.children,r=e.formattedGraphicalItems,s=e.legendWidth,a=e.legendContent,o=Rc(n,Ji);if(!o)return null;var l=Ji.defaultProps,c=l!==void 0?cv(cv({},l),o.props):{},u;return o.props&&o.props.payload?u=o.props&&o.props.payload:a==="children"?u=(r||[]).reduce(function(d,h){var f=h.item,A=h.props,v=A.sectors||A.data||[];return d.concat(v.map(function(p){return{type:o.props.iconType||f.props.legendType,value:p.name,color:p.fill,payload:p}}))},[]):u=(r||[]).map(function(d){var h=d.item,f=h.type.defaultProps,A=f!==void 0?cv(cv({},f),h.props):{},v=A.dataKey,p=A.name,m=A.legendType,g=A.hide;return{inactive:g,dataKey:v,type:c.iconType||m||"square",color:cq(h),value:p||v,payload:A}}),cv(cv(cv({},c),Ji.getWithHeight(o,s)),{},{payload:u,item:o})};function o5(t){"@babel/helpers - typeof";return o5=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o5(t)}function jie(t){return Bqe(t)||Eqe(t)||Sqe(t)||Cqe()}function Cqe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Sqe(t,e){if(t){if(typeof t=="string")return rQ(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return rQ(t,e)}}function Eqe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Bqe(t){if(Array.isArray(t))return rQ(t)}function rQ(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Nie(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function ws(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Nie(Object(n),!0).forEach(function(r){S1(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Nie(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function S1(t,e,n){return e=Dqe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Dqe(t){var e=Tqe(t,"string");return o5(e)=="symbol"?e:e+""}function Tqe(t,e){if(o5(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(o5(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function gi(t,e,n){return vn(t)||vn(e)?n:pa(e)?Kc(t,e,n):gn(e)?e(t):n}function a_(t,e,n,r){var s=BWe(t,function(l){return gi(l,e)});if(n==="number"){var a=s.filter(function(l){return Tt(l)||parseFloat(l)});return a.length?[TF(a),Ug(a)]:[1/0,-1/0]}var o=r?s.filter(function(l){return!vn(l)}):s;return o.map(function(l){return pa(l)||l instanceof Date?l:""})}var kqe=function(e){var n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],s=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0,o=-1,l=(n=r==null?void 0:r.length)!==null&&n!==void 0?n:0;if(l<=1)return 0;if(a&&a.axisType==="angleAxis"&&Math.abs(Math.abs(a.range[1]-a.range[0])-360)<=1e-6)for(var c=a.range,u=0;u<l;u++){var d=u>0?s[u-1].coordinate:s[l-1].coordinate,h=s[u].coordinate,f=u>=l-1?s[0].coordinate:s[u+1].coordinate,A=void 0;if(_l(h-d)!==_l(f-h)){var v=[];if(_l(f-h)===_l(c[1]-c[0])){A=f;var p=h+c[1]-c[0];v[0]=Math.min(p,(p+d)/2),v[1]=Math.max(p,(p+d)/2)}else{A=d;var m=f+c[1]-c[0];v[0]=Math.min(h,(m+h)/2),v[1]=Math.max(h,(m+h)/2)}var g=[Math.min(h,(A+h)/2),Math.max(h,(A+h)/2)];if(e>g[0]&&e<=g[1]||e>=v[0]&&e<=v[1]){o=s[u].index;break}}else{var x=Math.min(d,f),b=Math.max(d,f);if(e>(x+h)/2&&e<=(b+h)/2){o=s[u].index;break}}}else for(var j=0;j<l;j++)if(j===0&&e<=(r[j].coordinate+r[j+1].coordinate)/2||j>0&&j<l-1&&e>(r[j].coordinate+r[j-1].coordinate)/2&&e<=(r[j].coordinate+r[j+1].coordinate)/2||j===l-1&&e>(r[j].coordinate+r[j-1].coordinate)/2){o=r[j].index;break}return o},cq=function(e){var n,r=e,s=r.type.displayName,a=(n=e.type)!==null&&n!==void 0&&n.defaultProps?ws(ws({},e.type.defaultProps),e.props):e.props,o=a.stroke,l=a.fill,c;switch(s){case"Line":c=o;break;case"Area":case"Radar":c=o&&o!=="none"?o:l;break;default:c=l;break}return c},Fqe=function(e){var n=e.barSize,r=e.totalSize,s=e.stackGroups,a=s===void 0?{}:s;if(!a)return{};for(var o={},l=Object.keys(a),c=0,u=l.length;c<u;c++)for(var d=a[l[c]].stackGroups,h=Object.keys(d),f=0,A=h.length;f<A;f++){var v=d[h[f]],p=v.items,m=v.cateAxisId,g=p.filter(function(C){return gp(C.type).indexOf("Bar")>=0});if(g&&g.length){var x=g[0].type.defaultProps,b=x!==void 0?ws(ws({},x),g[0].props):g[0].props,j=b.barSize,N=b[m];o[N]||(o[N]=[]);var _=vn(j)?n:j;o[N].push({item:g[0],stackList:g.slice(1),barSize:vn(_)?void 0:Cl(_,r,0)})}}return o},Pqe=function(e){var n=e.barGap,r=e.barCategoryGap,s=e.bandSize,a=e.sizeList,o=a===void 0?[]:a,l=e.maxBarSize,c=o.length;if(c<1)return null;var u=Cl(n,s,0,!0),d,h=[];if(o[0].barSize===+o[0].barSize){var f=!1,A=s/c,v=o.reduce(function(j,N){return j+N.barSize||0},0);v+=(c-1)*u,v>=s&&(v-=(c-1)*u,u=0),v>=s&&A>0&&(f=!0,A*=.9,v=c*A);var p=(s-v)/2>>0,m={offset:p-u,size:0};d=o.reduce(function(j,N){var _={item:N.item,position:{offset:m.offset+m.size+u,size:f?A:N.barSize}},C=[].concat(jie(j),[_]);return m=C[C.length-1].position,N.stackList&&N.stackList.length&&N.stackList.forEach(function(k){C.push({item:k,position:m})}),C},h)}else{var g=Cl(r,s,0,!0);s-2*g-(c-1)*u<=0&&(u=0);var x=(s-2*g-(c-1)*u)/c;x>1&&(x>>=0);var b=l===+l?Math.min(x,l):x;d=o.reduce(function(j,N,_){var C=[].concat(jie(j),[{item:N.item,position:{offset:g+(x+u)*_+(x-b)/2,size:b}}]);return N.stackList&&N.stackList.length&&N.stackList.forEach(function(k){C.push({item:k,position:C[C.length-1].position})}),C},h)}return d},Uqe=function(e,n,r,s){var a=r.children,o=r.width,l=r.margin,c=o-(l.left||0)-(l.right||0),u=oye({children:a,legendWidth:c});if(u){var d=s||{},h=d.width,f=d.height,A=u.align,v=u.verticalAlign,p=u.layout;if((p==="vertical"||p==="horizontal"&&v==="middle")&&A!=="center"&&Tt(e[A]))return ws(ws({},e),{},S1({},A,e[A]+(h||0)));if((p==="horizontal"||p==="vertical"&&A==="center")&&v!=="middle"&&Tt(e[v]))return ws(ws({},e),{},S1({},v,e[v]+(f||0)))}return e},Iqe=function(e,n,r){return vn(n)?!0:e==="horizontal"?n==="yAxis":e==="vertical"||r==="x"?n==="xAxis":r==="y"?n==="yAxis":!0},lye=function(e,n,r,s,a){var o=n.props.children,l=Bl(o,aj).filter(function(u){return Iqe(s,a,u.props.direction)});if(l&&l.length){var c=l.map(function(u){return u.props.dataKey});return e.reduce(function(u,d){var h=gi(d,r);if(vn(h))return u;var f=Array.isArray(h)?[TF(h),Ug(h)]:[h,h],A=c.reduce(function(v,p){var m=gi(d,p,0),g=f[0]-Math.abs(Array.isArray(m)?m[0]:m),x=f[1]+Math.abs(Array.isArray(m)?m[1]:m);return[Math.min(g,v[0]),Math.max(x,v[1])]},[1/0,-1/0]);return[Math.min(A[0],u[0]),Math.max(A[1],u[1])]},[1/0,-1/0])}return null},Oqe=function(e,n,r,s,a){var o=n.map(function(l){return lye(e,l,r,a,s)}).filter(function(l){return!vn(l)});return o&&o.length?o.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]):null},cye=function(e,n,r,s,a){var o=n.map(function(c){var u=c.props.dataKey;return r==="number"&&u&&lye(e,c,u,s)||a_(e,u,r,a)});if(r==="number")return o.reduce(function(c,u){return[Math.min(c[0],u[0]),Math.max(c[1],u[1])]},[1/0,-1/0]);var l={};return o.reduce(function(c,u){for(var d=0,h=u.length;d<h;d++)l[u[d]]||(l[u[d]]=!0,c.push(u[d]));return c},[])},uye=function(e,n){return e==="horizontal"&&n==="xAxis"||e==="vertical"&&n==="yAxis"||e==="centric"&&n==="angleAxis"||e==="radial"&&n==="radiusAxis"},dye=function(e,n,r,s){if(s)return e.map(function(c){return c.coordinate});var a,o,l=e.map(function(c){return c.coordinate===n&&(a=!0),c.coordinate===r&&(o=!0),c.coordinate});return a||l.push(n),o||l.push(r),l},Ap=function(e,n,r){if(!e)return null;var s=e.scale,a=e.duplicateDomain,o=e.type,l=e.range,c=e.realScaleType==="scaleBand"?s.bandwidth()/2:2,u=(n||r)&&o==="category"&&s.bandwidth?s.bandwidth()/c:0;if(u=e.axisType==="angleAxis"&&(l==null?void 0:l.length)>=2?_l(l[0]-l[1])*2*u:u,n&&(e.ticks||e.niceTicks)){var d=(e.ticks||e.niceTicks).map(function(h){var f=a?a.indexOf(h):h;return{coordinate:s(f)+u,value:h,offset:u}});return d.filter(function(h){return!tj(h.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(h,f){return{coordinate:s(h)+u,value:h,index:f,offset:u}}):s.ticks&&!r?s.ticks(e.tickCount).map(function(h){return{coordinate:s(h)+u,value:h,offset:u}}):s.domain().map(function(h,f){return{coordinate:s(h)+u,value:a?a[h]:h,index:f,offset:u}})},IM=new WeakMap,v4=function(e,n){if(typeof n!="function")return e;IM.has(e)||IM.set(e,new WeakMap);var r=IM.get(e);if(r.has(n))return r.get(n);var s=function(){e.apply(void 0,arguments),n.apply(void 0,arguments)};return r.set(n,s),s},hye=function(e,n,r){var s=e.scale,a=e.type,o=e.layout,l=e.axisType;if(s==="auto")return o==="radial"&&l==="radiusAxis"?{scale:e5(),realScaleType:"band"}:o==="radial"&&l==="angleAxis"?{scale:E3(),realScaleType:"linear"}:a==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?{scale:s_(),realScaleType:"point"}:a==="category"?{scale:e5(),realScaleType:"band"}:{scale:E3(),realScaleType:"linear"};if(Ay(s)){var c="scale".concat(mF(s));return{scale:(cie[c]||s_)(),realScaleType:cie[c]?c:"point"}}return gn(s)?{scale:s}:{scale:s_(),realScaleType:"point"}},_ie=1e-4,fye=function(e){var n=e.domain();if(!(!n||n.length<=2)){var r=n.length,s=e.range(),a=Math.min(s[0],s[1])-_ie,o=Math.max(s[0],s[1])+_ie,l=e(n[0]),c=e(n[r-1]);(l<a||l>o||c<a||c>o)&&e.domain([n[0],n[r-1]])}},Mqe=function(e,n){if(!e)return null;for(var r=0,s=e.length;r<s;r++)if(e[r].item===n)return e[r].position;return null},Lqe=function(e,n){if(!n||n.length!==2||!Tt(n[0])||!Tt(n[1]))return e;var r=Math.min(n[0],n[1]),s=Math.max(n[0],n[1]),a=[e[0],e[1]];return(!Tt(e[0])||e[0]<r)&&(a[0]=r),(!Tt(e[1])||e[1]>s)&&(a[1]=s),a[0]>s&&(a[0]=s),a[1]<r&&(a[1]=r),a},Rqe=function(e){var n=e.length;if(!(n<=0))for(var r=0,s=e[0].length;r<s;++r)for(var a=0,o=0,l=0;l<n;++l){var c=tj(e[l][r][1])?e[l][r][0]:e[l][r][1];c>=0?(e[l][r][0]=a,e[l][r][1]=a+c,a=e[l][r][1]):(e[l][r][0]=o,e[l][r][1]=o+c,o=e[l][r][1])}},Qqe=function(e){var n=e.length;if(!(n<=0))for(var r=0,s=e[0].length;r<s;++r)for(var a=0,o=0;o<n;++o){var l=tj(e[o][r][1])?e[o][r][0]:e[o][r][1];l>=0?(e[o][r][0]=a,e[o][r][1]=a+l,a=e[o][r][1]):(e[o][r][0]=0,e[o][r][1]=0)}},Hqe={sign:Rqe,expand:w7e,none:Gw,silhouette:j7e,wiggle:N7e,positive:Qqe},zqe=function(e,n,r){var s=n.map(function(l){return l.props.dataKey}),a=Hqe[r],o=b7e().keys(s).value(function(l,c){return+gi(l,c,0)}).order(k9).offset(a);return o(e)},$qe=function(e,n,r,s,a,o){if(!e)return null;var l=o?n.reverse():n,c={},u=l.reduce(function(h,f){var A,v=(A=f.type)!==null&&A!==void 0&&A.defaultProps?ws(ws({},f.type.defaultProps),f.props):f.props,p=v.stackId,m=v.hide;if(m)return h;var g=v[r],x=h[g]||{hasStack:!1,stackGroups:{}};if(pa(p)){var b=x.stackGroups[p]||{numericAxisId:r,cateAxisId:s,items:[]};b.items.push(f),x.hasStack=!0,x.stackGroups[p]=b}else x.stackGroups[wx("_stackId_")]={numericAxisId:r,cateAxisId:s,items:[f]};return ws(ws({},h),{},S1({},g,x))},c),d={};return Object.keys(u).reduce(function(h,f){var A=u[f];if(A.hasStack){var v={};A.stackGroups=Object.keys(A.stackGroups).reduce(function(p,m){var g=A.stackGroups[m];return ws(ws({},p),{},S1({},m,{numericAxisId:r,cateAxisId:s,items:g.items,stackedData:zqe(e,g.items,a)}))},v)}return ws(ws({},h),{},S1({},f,A))},d)},Aye=function(e,n){var r=n.realScaleType,s=n.type,a=n.tickCount,o=n.originalDomain,l=n.allowDecimals,c=r||n.scale;if(c!=="auto"&&c!=="linear")return null;if(a&&s==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var u=e.domain();if(!u.length)return null;var d=iqe(u,a,l);return e.domain([TF(d),Ug(d)]),{niceTicks:d}}if(a&&s==="number"){var h=e.domain(),f=sqe(h,a,l);return{niceTicks:f}}return null};function i2(t){var e=t.axis,n=t.ticks,r=t.bandSize,s=t.entry,a=t.index,o=t.dataKey;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!vn(s[e.dataKey])){var l=u3(n,"value",s[e.dataKey]);if(l)return l.coordinate+r/2}return n[a]?n[a].coordinate+r/2:null}var c=gi(s,vn(o)?e.dataKey:o);return vn(c)?null:e.scale(c)}var Cie=function(e){var n=e.axis,r=e.ticks,s=e.offset,a=e.bandSize,o=e.entry,l=e.index;if(n.type==="category")return r[l]?r[l].coordinate+s:null;var c=gi(o,n.dataKey,n.domain[l]);return vn(c)?null:n.scale(c)-a/2+s},Wqe=function(e){var n=e.numericAxis,r=n.scale.domain();if(n.type==="number"){var s=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]);return s<=0&&a>=0?0:a<0?a:s}return r[0]},qqe=function(e,n){var r,s=(r=e.type)!==null&&r!==void 0&&r.defaultProps?ws(ws({},e.type.defaultProps),e.props):e.props,a=s.stackId;if(pa(a)){var o=n[a];if(o){var l=o.items.indexOf(e);return l>=0?o.stackedData[l]:null}}return null},Vqe=function(e){return e.reduce(function(n,r){return[TF(r.concat([n[0]]).filter(Tt)),Ug(r.concat([n[1]]).filter(Tt))]},[1/0,-1/0])},pye=function(e,n,r){return Object.keys(e).reduce(function(s,a){var o=e[a],l=o.stackedData,c=l.reduce(function(u,d){var h=Vqe(d.slice(n,r+1));return[Math.min(u[0],h[0]),Math.max(u[1],h[1])]},[1/0,-1/0]);return[Math.min(c[0],s[0]),Math.max(c[1],s[1])]},[1/0,-1/0]).map(function(s){return s===1/0||s===-1/0?0:s})},Sie=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Eie=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,iQ=function(e,n,r){if(gn(e))return e(n,r);if(!Array.isArray(e))return n;var s=[];if(Tt(e[0]))s[0]=r?e[0]:Math.min(e[0],n[0]);else if(Sie.test(e[0])){var a=+Sie.exec(e[0])[1];s[0]=n[0]-a}else gn(e[0])?s[0]=e[0](n[0]):s[0]=n[0];if(Tt(e[1]))s[1]=r?e[1]:Math.max(e[1],n[1]);else if(Eie.test(e[1])){var o=+Eie.exec(e[1])[1];s[1]=n[1]+o}else gn(e[1])?s[1]=e[1](n[1]):s[1]=n[1];return s},U3=function(e,n,r){if(e&&e.scale&&e.scale.bandwidth){var s=e.scale.bandwidth();if(!r||s>0)return s}if(e&&n&&n.length>=2){for(var a=OW(n,function(h){return h.coordinate}),o=1/0,l=1,c=a.length;l<c;l++){var u=a[l],d=a[l-1];o=Math.min((u.coordinate||0)-(d.coordinate||0),o)}return o===1/0?0:o}return r?void 0:0},Bie=function(e,n,r){return!e||!e.length||Pp(e,Kc(r,"type.defaultProps.domain"))?n:e},mye=function(e,n){var r=e.type.defaultProps?ws(ws({},e.type.defaultProps),e.props):e.props,s=r.dataKey,a=r.name,o=r.unit,l=r.formatter,c=r.tooltipType,u=r.chartType,d=r.hide;return ws(ws({},Yt(e,!1)),{},{dataKey:s,unit:o,formatter:l,name:a||s,color:cq(e),value:gi(n,s),type:c,payload:n,chartType:u,hide:d})};function l5(t){"@babel/helpers - typeof";return l5=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l5(t)}function Die(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function UA(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Die(Object(n),!0).forEach(function(r){gye(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Die(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function gye(t,e,n){return e=Kqe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Kqe(t){var e=Gqe(t,"string");return l5(e)=="symbol"?e:e+""}function Gqe(t,e){if(l5(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(l5(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Xqe(t,e){return eVe(t)||Zqe(t,e)||Jqe(t,e)||Yqe()}function Yqe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Jqe(t,e){if(t){if(typeof t=="string")return Tie(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Tie(t,e)}}function Tie(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Zqe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,s,a,o,l=[],c=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function eVe(t){if(Array.isArray(t))return t}var I3=Math.PI/180,tVe=function(e){return e*180/Math.PI},Rr=function(e,n,r,s){return{x:e+Math.cos(-I3*s)*r,y:n+Math.sin(-I3*s)*r}},xye=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},vye=function(e,n,r,s,a){var o=e.width,l=e.height,c=e.startAngle,u=e.endAngle,d=Cl(e.cx,o,o/2),h=Cl(e.cy,l,l/2),f=xye(o,l,r),A=Cl(e.innerRadius,f,0),v=Cl(e.outerRadius,f,f*.8),p=Object.keys(n);return p.reduce(function(m,g){var x=n[g],b=x.domain,j=x.reversed,N;if(vn(x.range))s==="angleAxis"?N=[c,u]:s==="radiusAxis"&&(N=[A,v]),j&&(N=[N[1],N[0]]);else{N=x.range;var _=N,C=Xqe(_,2);c=C[0],u=C[1]}var k=hye(x,a),T=k.realScaleType,O=k.scale;O.domain(b).range(N),fye(O);var I=Aye(O,UA(UA({},x),{},{realScaleType:T})),F=UA(UA(UA({},x),I),{},{range:N,radius:v,realScaleType:T,scale:O,cx:d,cy:h,innerRadius:A,outerRadius:v,startAngle:c,endAngle:u});return UA(UA({},m),{},gye({},g,F))},{})},nVe=function(e,n){var r=e.x,s=e.y,a=n.x,o=n.y;return Math.sqrt(Math.pow(r-a,2)+Math.pow(s-o,2))},rVe=function(e,n){var r=e.x,s=e.y,a=n.cx,o=n.cy,l=nVe({x:r,y:s},{x:a,y:o});if(l<=0)return{radius:l};var c=(r-a)/l,u=Math.acos(c);return s>o&&(u=2*Math.PI-u),{radius:l,angle:tVe(u),angleInRadian:u}},iVe=function(e){var n=e.startAngle,r=e.endAngle,s=Math.floor(n/360),a=Math.floor(r/360),o=Math.min(s,a);return{startAngle:n-o*360,endAngle:r-o*360}},sVe=function(e,n){var r=n.startAngle,s=n.endAngle,a=Math.floor(r/360),o=Math.floor(s/360),l=Math.min(a,o);return e+l*360},kie=function(e,n){var r=e.x,s=e.y,a=rVe({x:r,y:s},n),o=a.radius,l=a.angle,c=n.innerRadius,u=n.outerRadius;if(o<c||o>u)return!1;if(o===0)return!0;var d=iVe(n),h=d.startAngle,f=d.endAngle,A=l,v;if(h<=f){for(;A>f;)A-=360;for(;A<h;)A+=360;v=A>=h&&A<=f}else{for(;A>h;)A-=360;for(;A<f;)A+=360;v=A>=f&&A<=h}return v?UA(UA({},n),{},{radius:o,angle:sVe(A,n)}):null},yye=function(e){return!E.isValidElement(e)&&!gn(e)&&typeof e!="boolean"?e.className:""};function c5(t){"@babel/helpers - typeof";return c5=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c5(t)}var aVe=["offset"];function oVe(t){return dVe(t)||uVe(t)||cVe(t)||lVe()}function lVe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cVe(t,e){if(t){if(typeof t=="string")return sQ(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return sQ(t,e)}}function uVe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function dVe(t){if(Array.isArray(t))return sQ(t)}function sQ(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function hVe(t,e){if(t==null)return{};var n=fVe(t,e),r,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(s=0;s<a.length;s++)r=a[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function fVe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Fie(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function ua(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Fie(Object(n),!0).forEach(function(r){AVe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Fie(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function AVe(t,e,n){return e=pVe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function pVe(t){var e=mVe(t,"string");return c5(e)=="symbol"?e:e+""}function mVe(t,e){if(c5(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(c5(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function u5(){return u5=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},u5.apply(this,arguments)}var gVe=function(e){var n=e.value,r=e.formatter,s=vn(e.children)?n:e.children;return gn(r)?r(s):s},xVe=function(e,n){var r=_l(n-e),s=Math.min(Math.abs(n-e),360);return r*s},vVe=function(e,n,r){var s=e.position,a=e.viewBox,o=e.offset,l=e.className,c=a,u=c.cx,d=c.cy,h=c.innerRadius,f=c.outerRadius,A=c.startAngle,v=c.endAngle,p=c.clockWise,m=(h+f)/2,g=xVe(A,v),x=g>=0?1:-1,b,j;s==="insideStart"?(b=A+x*o,j=p):s==="insideEnd"?(b=v-x*o,j=!p):s==="end"&&(b=v+x*o,j=p),j=g<=0?j:!j;var N=Rr(u,d,m,b),_=Rr(u,d,m,b+(j?1:-1)*359),C="M".concat(N.x,",").concat(N.y,`
    A`).concat(m,",").concat(m,",0,1,").concat(j?0:1,`,
    `).concat(_.x,",").concat(_.y),k=vn(e.id)?wx("recharts-radial-line-"):e.id;return pe.createElement("text",u5({},r,{dominantBaseline:"central",className:Dn("recharts-radial-bar-label",l)}),pe.createElement("defs",null,pe.createElement("path",{id:k,d:C})),pe.createElement("textPath",{xlinkHref:"#".concat(k)},n))},yVe=function(e){var n=e.viewBox,r=e.offset,s=e.position,a=n,o=a.cx,l=a.cy,c=a.innerRadius,u=a.outerRadius,d=a.startAngle,h=a.endAngle,f=(d+h)/2;if(s==="outside"){var A=Rr(o,l,u+r,f),v=A.x,p=A.y;return{x:v,y:p,textAnchor:v>=o?"start":"end",verticalAnchor:"middle"}}if(s==="center")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"middle"};if(s==="centerTop")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"start"};if(s==="centerBottom")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"end"};var m=(c+u)/2,g=Rr(o,l,m,f),x=g.x,b=g.y;return{x,y:b,textAnchor:"middle",verticalAnchor:"middle"}},bVe=function(e){var n=e.viewBox,r=e.parentViewBox,s=e.offset,a=e.position,o=n,l=o.x,c=o.y,u=o.width,d=o.height,h=d>=0?1:-1,f=h*s,A=h>0?"end":"start",v=h>0?"start":"end",p=u>=0?1:-1,m=p*s,g=p>0?"end":"start",x=p>0?"start":"end";if(a==="top"){var b={x:l+u/2,y:c-h*s,textAnchor:"middle",verticalAnchor:A};return ua(ua({},b),r?{height:Math.max(c-r.y,0),width:u}:{})}if(a==="bottom"){var j={x:l+u/2,y:c+d+f,textAnchor:"middle",verticalAnchor:v};return ua(ua({},j),r?{height:Math.max(r.y+r.height-(c+d),0),width:u}:{})}if(a==="left"){var N={x:l-m,y:c+d/2,textAnchor:g,verticalAnchor:"middle"};return ua(ua({},N),r?{width:Math.max(N.x-r.x,0),height:d}:{})}if(a==="right"){var _={x:l+u+m,y:c+d/2,textAnchor:x,verticalAnchor:"middle"};return ua(ua({},_),r?{width:Math.max(r.x+r.width-_.x,0),height:d}:{})}var C=r?{width:u,height:d}:{};return a==="insideLeft"?ua({x:l+m,y:c+d/2,textAnchor:x,verticalAnchor:"middle"},C):a==="insideRight"?ua({x:l+u-m,y:c+d/2,textAnchor:g,verticalAnchor:"middle"},C):a==="insideTop"?ua({x:l+u/2,y:c+f,textAnchor:"middle",verticalAnchor:v},C):a==="insideBottom"?ua({x:l+u/2,y:c+d-f,textAnchor:"middle",verticalAnchor:A},C):a==="insideTopLeft"?ua({x:l+m,y:c+f,textAnchor:x,verticalAnchor:v},C):a==="insideTopRight"?ua({x:l+u-m,y:c+f,textAnchor:g,verticalAnchor:v},C):a==="insideBottomLeft"?ua({x:l+m,y:c+d-f,textAnchor:x,verticalAnchor:A},C):a==="insideBottomRight"?ua({x:l+u-m,y:c+d-f,textAnchor:g,verticalAnchor:A},C):ej(a)&&(Tt(a.x)||Uv(a.x))&&(Tt(a.y)||Uv(a.y))?ua({x:l+Cl(a.x,u),y:c+Cl(a.y,d),textAnchor:"end",verticalAnchor:"end"},C):ua({x:l+u/2,y:c+d/2,textAnchor:"middle",verticalAnchor:"middle"},C)},wVe=function(e){return"cx"in e&&Tt(e.cx)};function Qa(t){var e=t.offset,n=e===void 0?5:e,r=hVe(t,aVe),s=ua({offset:n},r),a=s.viewBox,o=s.position,l=s.value,c=s.children,u=s.content,d=s.className,h=d===void 0?"":d,f=s.textBreakAll;if(!a||vn(l)&&vn(c)&&!E.isValidElement(u)&&!gn(u))return null;if(E.isValidElement(u))return E.cloneElement(u,s);var A;if(gn(u)){if(A=E.createElement(u,s),E.isValidElement(A))return A}else A=gVe(s);var v=wVe(a),p=Yt(s,!0);if(v&&(o==="insideStart"||o==="insideEnd"||o==="end"))return vVe(s,A,p);var m=v?yVe(s):bVe(s);return pe.createElement(py,u5({className:Dn("recharts-label",h)},p,m,{breakAll:f}),A)}Qa.displayName="Label";var bye=function(e){var n=e.cx,r=e.cy,s=e.angle,a=e.startAngle,o=e.endAngle,l=e.r,c=e.radius,u=e.innerRadius,d=e.outerRadius,h=e.x,f=e.y,A=e.top,v=e.left,p=e.width,m=e.height,g=e.clockWise,x=e.labelViewBox;if(x)return x;if(Tt(p)&&Tt(m)){if(Tt(h)&&Tt(f))return{x:h,y:f,width:p,height:m};if(Tt(A)&&Tt(v))return{x:A,y:v,width:p,height:m}}return Tt(h)&&Tt(f)?{x:h,y:f,width:0,height:0}:Tt(n)&&Tt(r)?{cx:n,cy:r,startAngle:a||s||0,endAngle:o||s||0,innerRadius:u||0,outerRadius:d||c||l||0,clockWise:g}:e.viewBox?e.viewBox:{}},jVe=function(e,n){return e?e===!0?pe.createElement(Qa,{key:"label-implicit",viewBox:n}):pa(e)?pe.createElement(Qa,{key:"label-implicit",viewBox:n,value:e}):E.isValidElement(e)?e.type===Qa?E.cloneElement(e,{key:"label-implicit",viewBox:n}):pe.createElement(Qa,{key:"label-implicit",content:e,viewBox:n}):gn(e)?pe.createElement(Qa,{key:"label-implicit",content:e,viewBox:n}):ej(e)?pe.createElement(Qa,u5({viewBox:n},e,{key:"label-implicit"})):null:null},NVe=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var s=e.children,a=bye(e),o=Bl(s,Qa).map(function(c,u){return E.cloneElement(c,{viewBox:n||a,key:"label-".concat(u)})});if(!r)return o;var l=jVe(e.label,n||a);return[l].concat(oVe(o))};Qa.parseViewBox=bye;Qa.renderCallByParent=NVe;var OM,Pie;function _Ve(){if(Pie)return OM;Pie=1;function t(e){var n=e==null?0:e.length;return n?e[n-1]:void 0}return OM=t,OM}var CVe=_Ve();const wye=wr(CVe);function d5(t){"@babel/helpers - typeof";return d5=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},d5(t)}var SVe=["valueAccessor"],EVe=["data","dataKey","clockWise","id","textBreakAll"];function BVe(t){return FVe(t)||kVe(t)||TVe(t)||DVe()}function DVe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function TVe(t,e){if(t){if(typeof t=="string")return aQ(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return aQ(t,e)}}function kVe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function FVe(t){if(Array.isArray(t))return aQ(t)}function aQ(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function O3(){return O3=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},O3.apply(this,arguments)}function Uie(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function Iie(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Uie(Object(n),!0).forEach(function(r){PVe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Uie(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function PVe(t,e,n){return e=UVe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function UVe(t){var e=IVe(t,"string");return d5(e)=="symbol"?e:e+""}function IVe(t,e){if(d5(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(d5(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Oie(t,e){if(t==null)return{};var n=OVe(t,e),r,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(s=0;s<a.length;s++)r=a[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function OVe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var MVe=function(e){return Array.isArray(e.value)?wye(e.value):e.value};function Vu(t){var e=t.valueAccessor,n=e===void 0?MVe:e,r=Oie(t,SVe),s=r.data,a=r.dataKey,o=r.clockWise,l=r.id,c=r.textBreakAll,u=Oie(r,EVe);return!s||!s.length?null:pe.createElement(Rn,{className:"recharts-label-list"},s.map(function(d,h){var f=vn(a)?n(d,h):gi(d&&d.payload,a),A=vn(l)?{}:{id:"".concat(l,"-").concat(h)};return pe.createElement(Qa,O3({},Yt(d,!0),u,A,{parentViewBox:d.parentViewBox,value:f,textBreakAll:c,viewBox:Qa.parseViewBox(vn(o)?d:Iie(Iie({},d),{},{clockWise:o})),key:"label-".concat(h),index:h}))}))}Vu.displayName="LabelList";function LVe(t,e){return t?t===!0?pe.createElement(Vu,{key:"labelList-implicit",data:e}):pe.isValidElement(t)||gn(t)?pe.createElement(Vu,{key:"labelList-implicit",data:e,content:t}):ej(t)?pe.createElement(Vu,O3({data:e},t,{key:"labelList-implicit"})):null:null}function RVe(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var r=t.children,s=Bl(r,Vu).map(function(o,l){return E.cloneElement(o,{data:e,key:"labelList-".concat(l)})});if(!n)return s;var a=LVe(t.label,e);return[a].concat(BVe(s))}Vu.renderCallByParent=RVe;function h5(t){"@babel/helpers - typeof";return h5=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},h5(t)}function oQ(){return oQ=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},oQ.apply(this,arguments)}function Mie(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function Lie(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Mie(Object(n),!0).forEach(function(r){QVe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Mie(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function QVe(t,e,n){return e=HVe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function HVe(t){var e=zVe(t,"string");return h5(e)=="symbol"?e:e+""}function zVe(t,e){if(h5(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(h5(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var $Ve=function(e,n){var r=_l(n-e),s=Math.min(Math.abs(n-e),359.999);return r*s},y4=function(e){var n=e.cx,r=e.cy,s=e.radius,a=e.angle,o=e.sign,l=e.isExternal,c=e.cornerRadius,u=e.cornerIsExternal,d=c*(l?1:-1)+s,h=Math.asin(c/d)/I3,f=u?a:a+o*h,A=Rr(n,r,d,f),v=Rr(n,r,s,f),p=u?a-o*h:a,m=Rr(n,r,d*Math.cos(h*I3),p);return{center:A,circleTangency:v,lineTangency:m,theta:h}},jye=function(e){var n=e.cx,r=e.cy,s=e.innerRadius,a=e.outerRadius,o=e.startAngle,l=e.endAngle,c=$Ve(o,l),u=o+c,d=Rr(n,r,a,o),h=Rr(n,r,a,u),f="M ".concat(d.x,",").concat(d.y,`
    A `).concat(a,",").concat(a,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(o>u),`,
    `).concat(h.x,",").concat(h.y,`
  `);if(s>0){var A=Rr(n,r,s,o),v=Rr(n,r,s,u);f+="L ".concat(v.x,",").concat(v.y,`
            A `).concat(s,",").concat(s,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(o<=u),`,
            `).concat(A.x,",").concat(A.y," Z")}else f+="L ".concat(n,",").concat(r," Z");return f},WVe=function(e){var n=e.cx,r=e.cy,s=e.innerRadius,a=e.outerRadius,o=e.cornerRadius,l=e.forceCornerRadius,c=e.cornerIsExternal,u=e.startAngle,d=e.endAngle,h=_l(d-u),f=y4({cx:n,cy:r,radius:a,angle:u,sign:h,cornerRadius:o,cornerIsExternal:c}),A=f.circleTangency,v=f.lineTangency,p=f.theta,m=y4({cx:n,cy:r,radius:a,angle:d,sign:-h,cornerRadius:o,cornerIsExternal:c}),g=m.circleTangency,x=m.lineTangency,b=m.theta,j=c?Math.abs(u-d):Math.abs(u-d)-p-b;if(j<0)return l?"M ".concat(v.x,",").concat(v.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):jye({cx:n,cy:r,innerRadius:s,outerRadius:a,startAngle:u,endAngle:d});var N="M ".concat(v.x,",").concat(v.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(h<0),",").concat(A.x,",").concat(A.y,`
    A`).concat(a,",").concat(a,",0,").concat(+(j>180),",").concat(+(h<0),",").concat(g.x,",").concat(g.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(h<0),",").concat(x.x,",").concat(x.y,`
  `);if(s>0){var _=y4({cx:n,cy:r,radius:s,angle:u,sign:h,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),C=_.circleTangency,k=_.lineTangency,T=_.theta,O=y4({cx:n,cy:r,radius:s,angle:d,sign:-h,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),I=O.circleTangency,F=O.lineTangency,M=O.theta,S=c?Math.abs(u-d):Math.abs(u-d)-T-M;if(S<0&&o===0)return"".concat(N,"L").concat(n,",").concat(r,"Z");N+="L".concat(F.x,",").concat(F.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(h<0),",").concat(I.x,",").concat(I.y,`
      A`).concat(s,",").concat(s,",0,").concat(+(S>180),",").concat(+(h>0),",").concat(C.x,",").concat(C.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(h<0),",").concat(k.x,",").concat(k.y,"Z")}else N+="L".concat(n,",").concat(r,"Z");return N},qVe={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},Nye=function(e){var n=Lie(Lie({},qVe),e),r=n.cx,s=n.cy,a=n.innerRadius,o=n.outerRadius,l=n.cornerRadius,c=n.forceCornerRadius,u=n.cornerIsExternal,d=n.startAngle,h=n.endAngle,f=n.className;if(o<a||d===h)return null;var A=Dn("recharts-sector",f),v=o-a,p=Cl(l,v,0,!0),m;return p>0&&Math.abs(d-h)<360?m=WVe({cx:r,cy:s,innerRadius:a,outerRadius:o,cornerRadius:Math.min(p,v/2),forceCornerRadius:c,cornerIsExternal:u,startAngle:d,endAngle:h}):m=jye({cx:r,cy:s,innerRadius:a,outerRadius:o,startAngle:d,endAngle:h}),pe.createElement("path",oQ({},Yt(n,!0),{className:A,d:m,role:"img"}))};function f5(t){"@babel/helpers - typeof";return f5=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},f5(t)}function lQ(){return lQ=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},lQ.apply(this,arguments)}function Rie(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function Qie(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Rie(Object(n),!0).forEach(function(r){VVe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Rie(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function VVe(t,e,n){return e=KVe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function KVe(t){var e=GVe(t,"string");return f5(e)=="symbol"?e:e+""}function GVe(t,e){if(f5(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(f5(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Hie={curveBasisClosed:u7e,curveBasisOpen:d7e,curveBasis:c7e,curveBumpX:GRe,curveBumpY:XRe,curveLinearClosed:h7e,curveLinear:xF,curveMonotoneX:f7e,curveMonotoneY:A7e,curveNatural:p7e,curveStep:m7e,curveStepAfter:x7e,curveStepBefore:g7e},b4=function(e){return e.x===+e.x&&e.y===+e.y},nN=function(e){return e.x},rN=function(e){return e.y},XVe=function(e,n){if(gn(e))return e;var r="curve".concat(mF(e));return(r==="curveMonotone"||r==="curveBump")&&n?Hie["".concat(r).concat(n==="vertical"?"Y":"X")]:Hie[r]||xF},YVe=function(e){var n=e.type,r=n===void 0?"linear":n,s=e.points,a=s===void 0?[]:s,o=e.baseLine,l=e.layout,c=e.connectNulls,u=c===void 0?!1:c,d=XVe(r,l),h=u?a.filter(function(p){return b4(p)}):a,f;if(Array.isArray(o)){var A=u?o.filter(function(p){return b4(p)}):o,v=h.map(function(p,m){return Qie(Qie({},p),{},{base:A[m]})});return l==="vertical"?f=d4().y(rN).x1(nN).x0(function(p){return p.base.x}):f=d4().x(nN).y1(rN).y0(function(p){return p.base.y}),f.defined(b4).curve(d),f(v)}return l==="vertical"&&Tt(o)?f=d4().y(rN).x1(nN).x0(o):Tt(o)?f=d4().x(nN).y1(rN).y0(o):f=gve().x(nN).y(rN),f.defined(b4).curve(d),f(h)},Wg=function(e){var n=e.className,r=e.points,s=e.path,a=e.pathRef;if((!r||!r.length)&&!s)return null;var o=r&&r.length?YVe(e):s;return pe.createElement("path",lQ({},Yt(e,!1),d3(e),{className:Dn("recharts-curve",n),d:o,ref:a}))},JVe=Object.getOwnPropertyNames,ZVe=Object.getOwnPropertySymbols,eKe=Object.prototype.hasOwnProperty;function zie(t,e){return function(r,s,a){return t(r,s,a)&&e(r,s,a)}}function w4(t){return function(n,r,s){if(!n||!r||typeof n!="object"||typeof r!="object")return t(n,r,s);var a=s.cache,o=a.get(n),l=a.get(r);if(o&&l)return o===r&&l===n;a.set(n,r),a.set(r,n);var c=t(n,r,s);return a.delete(n),a.delete(r),c}}function $ie(t){return JVe(t).concat(ZVe(t))}var tKe=Object.hasOwn||function(t,e){return eKe.call(t,e)};function My(t,e){return t===e||!t&&!e&&t!==t&&e!==e}var nKe="__v",rKe="__o",iKe="_owner",Wie=Object.getOwnPropertyDescriptor,qie=Object.keys;function sKe(t,e,n){var r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(!n.equals(t[r],e[r],r,r,t,e,n))return!1;return!0}function aKe(t,e){return My(t.getTime(),e.getTime())}function oKe(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function lKe(t,e){return t===e}function Vie(t,e,n){var r=t.size;if(r!==e.size)return!1;if(!r)return!0;for(var s=new Array(r),a=t.entries(),o,l,c=0;(o=a.next())&&!o.done;){for(var u=e.entries(),d=!1,h=0;(l=u.next())&&!l.done;){if(s[h]){h++;continue}var f=o.value,A=l.value;if(n.equals(f[0],A[0],c,h,t,e,n)&&n.equals(f[1],A[1],f[0],A[0],t,e,n)){d=s[h]=!0;break}h++}if(!d)return!1;c++}return!0}var cKe=My;function uKe(t,e,n){var r=qie(t),s=r.length;if(qie(e).length!==s)return!1;for(;s-- >0;)if(!_ye(t,e,n,r[s]))return!1;return!0}function iN(t,e,n){var r=$ie(t),s=r.length;if($ie(e).length!==s)return!1;for(var a,o,l;s-- >0;)if(a=r[s],!_ye(t,e,n,a)||(o=Wie(t,a),l=Wie(e,a),(o||l)&&(!o||!l||o.configurable!==l.configurable||o.enumerable!==l.enumerable||o.writable!==l.writable)))return!1;return!0}function dKe(t,e){return My(t.valueOf(),e.valueOf())}function hKe(t,e){return t.source===e.source&&t.flags===e.flags}function Kie(t,e,n){var r=t.size;if(r!==e.size)return!1;if(!r)return!0;for(var s=new Array(r),a=t.values(),o,l;(o=a.next())&&!o.done;){for(var c=e.values(),u=!1,d=0;(l=c.next())&&!l.done;){if(!s[d]&&n.equals(o.value,l.value,o.value,l.value,t,e,n)){u=s[d]=!0;break}d++}if(!u)return!1}return!0}function fKe(t,e){var n=t.length;if(e.length!==n)return!1;for(;n-- >0;)if(t[n]!==e[n])return!1;return!0}function AKe(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function _ye(t,e,n,r){return(r===iKe||r===rKe||r===nKe)&&(t.$$typeof||e.$$typeof)?!0:tKe(e,r)&&n.equals(t[r],e[r],r,r,t,e,n)}var pKe="[object Arguments]",mKe="[object Boolean]",gKe="[object Date]",xKe="[object Error]",vKe="[object Map]",yKe="[object Number]",bKe="[object Object]",wKe="[object RegExp]",jKe="[object Set]",NKe="[object String]",_Ke="[object URL]",CKe=Array.isArray,Gie=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,Xie=Object.assign,SKe=Object.prototype.toString.call.bind(Object.prototype.toString);function EKe(t){var e=t.areArraysEqual,n=t.areDatesEqual,r=t.areErrorsEqual,s=t.areFunctionsEqual,a=t.areMapsEqual,o=t.areNumbersEqual,l=t.areObjectsEqual,c=t.arePrimitiveWrappersEqual,u=t.areRegExpsEqual,d=t.areSetsEqual,h=t.areTypedArraysEqual,f=t.areUrlsEqual;return function(v,p,m){if(v===p)return!0;if(v==null||p==null)return!1;var g=typeof v;if(g!==typeof p)return!1;if(g!=="object")return g==="number"?o(v,p,m):g==="function"?s(v,p,m):!1;var x=v.constructor;if(x!==p.constructor)return!1;if(x===Object)return l(v,p,m);if(CKe(v))return e(v,p,m);if(Gie!=null&&Gie(v))return h(v,p,m);if(x===Date)return n(v,p,m);if(x===RegExp)return u(v,p,m);if(x===Map)return a(v,p,m);if(x===Set)return d(v,p,m);var b=SKe(v);return b===gKe?n(v,p,m):b===wKe?u(v,p,m):b===vKe?a(v,p,m):b===jKe?d(v,p,m):b===bKe?typeof v.then!="function"&&typeof p.then!="function"&&l(v,p,m):b===_Ke?f(v,p,m):b===xKe?r(v,p,m):b===pKe?l(v,p,m):b===mKe||b===yKe||b===NKe?c(v,p,m):!1}}function BKe(t){var e=t.circular,n=t.createCustomConfig,r=t.strict,s={areArraysEqual:r?iN:sKe,areDatesEqual:aKe,areErrorsEqual:oKe,areFunctionsEqual:lKe,areMapsEqual:r?zie(Vie,iN):Vie,areNumbersEqual:cKe,areObjectsEqual:r?iN:uKe,arePrimitiveWrappersEqual:dKe,areRegExpsEqual:hKe,areSetsEqual:r?zie(Kie,iN):Kie,areTypedArraysEqual:r?iN:fKe,areUrlsEqual:AKe};if(n&&(s=Xie({},s,n(s))),e){var a=w4(s.areArraysEqual),o=w4(s.areMapsEqual),l=w4(s.areObjectsEqual),c=w4(s.areSetsEqual);s=Xie({},s,{areArraysEqual:a,areMapsEqual:o,areObjectsEqual:l,areSetsEqual:c})}return s}function DKe(t){return function(e,n,r,s,a,o,l){return t(e,n,l)}}function TKe(t){var e=t.circular,n=t.comparator,r=t.createState,s=t.equals,a=t.strict;if(r)return function(c,u){var d=r(),h=d.cache,f=h===void 0?e?new WeakMap:void 0:h,A=d.meta;return n(c,u,{cache:f,equals:s,meta:A,strict:a})};if(e)return function(c,u){return n(c,u,{cache:new WeakMap,equals:s,meta:void 0,strict:a})};var o={cache:void 0,equals:s,meta:void 0,strict:a};return function(c,u){return n(c,u,o)}}var kKe=Cx();Cx({strict:!0});Cx({circular:!0});Cx({circular:!0,strict:!0});Cx({createInternalComparator:function(){return My}});Cx({strict:!0,createInternalComparator:function(){return My}});Cx({circular:!0,createInternalComparator:function(){return My}});Cx({circular:!0,createInternalComparator:function(){return My},strict:!0});function Cx(t){t===void 0&&(t={});var e=t.circular,n=e===void 0?!1:e,r=t.createInternalComparator,s=t.createState,a=t.strict,o=a===void 0?!1:a,l=BKe(t),c=EKe(l),u=r?r(c):DKe(c);return TKe({circular:n,comparator:c,createState:s,equals:u,strict:o})}function FKe(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function Yie(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=-1,r=function s(a){n<0&&(n=a),a-n>e?(t(a),n=-1):FKe(s)};requestAnimationFrame(r)}function cQ(t){"@babel/helpers - typeof";return cQ=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cQ(t)}function PKe(t){return MKe(t)||OKe(t)||IKe(t)||UKe()}function UKe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function IKe(t,e){if(t){if(typeof t=="string")return Jie(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Jie(t,e)}}function Jie(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function OKe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function MKe(t){if(Array.isArray(t))return t}function LKe(){var t={},e=function(){return null},n=!1,r=function s(a){if(!n){if(Array.isArray(a)){if(!a.length)return;var o=a,l=PKe(o),c=l[0],u=l.slice(1);if(typeof c=="number"){Yie(s.bind(null,u),c);return}s(c),Yie(s.bind(null,u));return}cQ(a)==="object"&&(t=a,e(t)),typeof a=="function"&&a()}};return{stop:function(){n=!0},start:function(a){n=!1,r(a)},subscribe:function(a){return e=a,function(){e=function(){return null}}}}}function A5(t){"@babel/helpers - typeof";return A5=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},A5(t)}function Zie(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function ese(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Zie(Object(n),!0).forEach(function(r){Cye(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Zie(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Cye(t,e,n){return e=RKe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function RKe(t){var e=QKe(t,"string");return A5(e)==="symbol"?e:String(e)}function QKe(t,e){if(A5(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(A5(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var HKe=function(e,n){return[Object.keys(e),Object.keys(n)].reduce(function(r,s){return r.filter(function(a){return s.includes(a)})})},zKe=function(e){return e},$Ke=function(e){return e.replace(/([A-Z])/g,function(n){return"-".concat(n.toLowerCase())})},o_=function(e,n){return Object.keys(n).reduce(function(r,s){return ese(ese({},r),{},Cye({},s,e(s,n[s])))},{})},tse=function(e,n,r){return e.map(function(s){return"".concat($Ke(s)," ").concat(n,"ms ").concat(r)}).join(",")};function WKe(t,e){return KKe(t)||VKe(t,e)||Sye(t,e)||qKe()}function qKe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function VKe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,s,a,o,l=[],c=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function KKe(t){if(Array.isArray(t))return t}function GKe(t){return JKe(t)||YKe(t)||Sye(t)||XKe()}function XKe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Sye(t,e){if(t){if(typeof t=="string")return uQ(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return uQ(t,e)}}function YKe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function JKe(t){if(Array.isArray(t))return uQ(t)}function uQ(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var M3=1e-4,Eye=function(e,n){return[0,3*e,3*n-6*e,3*e-3*n+1]},Bye=function(e,n){return e.map(function(r,s){return r*Math.pow(n,s)}).reduce(function(r,s){return r+s})},nse=function(e,n){return function(r){var s=Eye(e,n);return Bye(s,r)}},ZKe=function(e,n){return function(r){var s=Eye(e,n),a=[].concat(GKe(s.map(function(o,l){return o*l}).slice(1)),[0]);return Bye(a,r)}},rse=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var s=n[0],a=n[1],o=n[2],l=n[3];if(n.length===1)switch(n[0]){case"linear":s=0,a=0,o=1,l=1;break;case"ease":s=.25,a=.1,o=.25,l=1;break;case"ease-in":s=.42,a=0,o=1,l=1;break;case"ease-out":s=.42,a=0,o=.58,l=1;break;case"ease-in-out":s=0,a=0,o=.58,l=1;break;default:{var c=n[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var u=c[1].split(")")[0].split(",").map(function(m){return parseFloat(m)}),d=WKe(u,4);s=d[0],a=d[1],o=d[2],l=d[3]}}}var h=nse(s,o),f=nse(a,l),A=ZKe(s,o),v=function(g){return g>1?1:g<0?0:g},p=function(g){for(var x=g>1?1:g,b=x,j=0;j<8;++j){var N=h(b)-x,_=A(b);if(Math.abs(N-x)<M3||_<M3)return f(b);b=v(b-N/_)}return f(b)};return p.isStepper=!1,p},eGe=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.stiff,r=n===void 0?100:n,s=e.damping,a=s===void 0?8:s,o=e.dt,l=o===void 0?17:o,c=function(d,h,f){var A=-(d-h)*r,v=f*a,p=f+(A-v)*l/1e3,m=f*l/1e3+d;return Math.abs(m-h)<M3&&Math.abs(p)<M3?[h,0]:[m,p]};return c.isStepper=!0,c.dt=l,c},tGe=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var s=n[0];if(typeof s=="string")switch(s){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return rse(s);case"spring":return eGe();default:if(s.split("(")[0]==="cubic-bezier")return rse(s)}return typeof s=="function"?s:null};function p5(t){"@babel/helpers - typeof";return p5=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},p5(t)}function ise(t){return iGe(t)||rGe(t)||Dye(t)||nGe()}function nGe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rGe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function iGe(t){if(Array.isArray(t))return hQ(t)}function sse(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function co(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?sse(Object(n),!0).forEach(function(r){dQ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):sse(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function dQ(t,e,n){return e=sGe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function sGe(t){var e=aGe(t,"string");return p5(e)==="symbol"?e:String(e)}function aGe(t,e){if(p5(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(p5(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function oGe(t,e){return uGe(t)||cGe(t,e)||Dye(t,e)||lGe()}function lGe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Dye(t,e){if(t){if(typeof t=="string")return hQ(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return hQ(t,e)}}function hQ(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function cGe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,s,a,o,l=[],c=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function uGe(t){if(Array.isArray(t))return t}var L3=function(e,n,r){return e+(n-e)*r},fQ=function(e){var n=e.from,r=e.to;return n!==r},dGe=function t(e,n,r){var s=o_(function(a,o){if(fQ(o)){var l=e(o.from,o.to,o.velocity),c=oGe(l,2),u=c[0],d=c[1];return co(co({},o),{},{from:u,velocity:d})}return o},n);return r<1?o_(function(a,o){return fQ(o)?co(co({},o),{},{velocity:L3(o.velocity,s[a].velocity,r),from:L3(o.from,s[a].from,r)}):o},n):t(e,s,r-1)};const hGe=function(t,e,n,r,s){var a=HKe(t,e),o=a.reduce(function(m,g){return co(co({},m),{},dQ({},g,[t[g],e[g]]))},{}),l=a.reduce(function(m,g){return co(co({},m),{},dQ({},g,{from:t[g],velocity:0,to:e[g]}))},{}),c=-1,u,d,h=function(){return null},f=function(){return o_(function(g,x){return x.from},l)},A=function(){return!Object.values(l).filter(fQ).length},v=function(g){u||(u=g);var x=g-u,b=x/n.dt;l=dGe(n,l,b),s(co(co(co({},t),e),f())),u=g,A()||(c=requestAnimationFrame(h))},p=function(g){d||(d=g);var x=(g-d)/r,b=o_(function(N,_){return L3.apply(void 0,ise(_).concat([n(x)]))},o);if(s(co(co(co({},t),e),b)),x<1)c=requestAnimationFrame(h);else{var j=o_(function(N,_){return L3.apply(void 0,ise(_).concat([n(1)]))},o);s(co(co(co({},t),e),j))}};return h=n.isStepper?v:p,function(){return requestAnimationFrame(h),function(){cancelAnimationFrame(c)}}};function s2(t){"@babel/helpers - typeof";return s2=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s2(t)}var fGe=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function AGe(t,e){if(t==null)return{};var n=pGe(t,e),r,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(s=0;s<a.length;s++)r=a[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function pGe(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,a;for(a=0;a<r.length;a++)s=r[a],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function MM(t){return vGe(t)||xGe(t)||gGe(t)||mGe()}function mGe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gGe(t,e){if(t){if(typeof t=="string")return AQ(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return AQ(t,e)}}function xGe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function vGe(t){if(Array.isArray(t))return AQ(t)}function AQ(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function ase(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function Td(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ase(Object(n),!0).forEach(function(r){ON(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ase(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ON(t,e,n){return e=Tye(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function yGe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function bGe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Tye(r.key),r)}}function wGe(t,e,n){return e&&bGe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Tye(t){var e=jGe(t,"string");return s2(e)==="symbol"?e:String(e)}function jGe(t,e){if(s2(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(s2(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function NGe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&pQ(t,e)}function pQ(t,e){return pQ=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},pQ(t,e)}function _Ge(t){var e=CGe();return function(){var r=R3(t),s;if(e){var a=R3(this).constructor;s=Reflect.construct(r,arguments,a)}else s=r.apply(this,arguments);return mQ(this,s)}}function mQ(t,e){if(e&&(s2(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return gQ(t)}function gQ(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function CGe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function R3(t){return R3=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},R3(t)}var Yc=function(t){NGe(n,t);var e=_Ge(n);function n(r,s){var a;yGe(this,n),a=e.call(this,r,s);var o=a.props,l=o.isActive,c=o.attributeName,u=o.from,d=o.to,h=o.steps,f=o.children,A=o.duration;if(a.handleStyleChange=a.handleStyleChange.bind(gQ(a)),a.changeStyle=a.changeStyle.bind(gQ(a)),!l||A<=0)return a.state={style:{}},typeof f=="function"&&(a.state={style:d}),mQ(a);if(h&&h.length)a.state={style:h[0].style};else if(u){if(typeof f=="function")return a.state={style:u},mQ(a);a.state={style:c?ON({},c,u):u}}else a.state={style:{}};return a}return wGe(n,[{key:"componentDidMount",value:function(){var s=this.props,a=s.isActive,o=s.canBegin;this.mounted=!0,!(!a||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(s){var a=this.props,o=a.isActive,l=a.canBegin,c=a.attributeName,u=a.shouldReAnimate,d=a.to,h=a.from,f=this.state.style;if(l){if(!o){var A={style:c?ON({},c,d):d};this.state&&f&&(c&&f[c]!==d||!c&&f!==d)&&this.setState(A);return}if(!(kKe(s.to,d)&&s.canBegin&&s.isActive)){var v=!s.canBegin||!s.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var p=v||u?h:s.to;if(this.state&&f){var m={style:c?ON({},c,p):p};(c&&f[c]!==p||!c&&f!==p)&&this.setState(m)}this.runAnimation(Td(Td({},this.props),{},{from:p,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var s=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),s&&s()}},{key:"handleStyleChange",value:function(s){this.changeStyle(s)}},{key:"changeStyle",value:function(s){this.mounted&&this.setState({style:s})}},{key:"runJSAnimation",value:function(s){var a=this,o=s.from,l=s.to,c=s.duration,u=s.easing,d=s.begin,h=s.onAnimationEnd,f=s.onAnimationStart,A=hGe(o,l,tGe(u),c,this.changeStyle),v=function(){a.stopJSAnimation=A()};this.manager.start([f,d,v,c,h])}},{key:"runStepAnimation",value:function(s){var a=this,o=s.steps,l=s.begin,c=s.onAnimationStart,u=o[0],d=u.style,h=u.duration,f=h===void 0?0:h,A=function(p,m,g){if(g===0)return p;var x=m.duration,b=m.easing,j=b===void 0?"ease":b,N=m.style,_=m.properties,C=m.onAnimationEnd,k=g>0?o[g-1]:m,T=_||Object.keys(N);if(typeof j=="function"||j==="spring")return[].concat(MM(p),[a.runJSAnimation.bind(a,{from:k.style,to:N,duration:x,easing:j}),x]);var O=tse(T,x,j),I=Td(Td(Td({},k.style),N),{},{transition:O});return[].concat(MM(p),[I,x,C]).filter(zKe)};return this.manager.start([c].concat(MM(o.reduce(A,[d,Math.max(f,l)])),[s.onAnimationEnd]))}},{key:"runAnimation",value:function(s){this.manager||(this.manager=LKe());var a=s.begin,o=s.duration,l=s.attributeName,c=s.to,u=s.easing,d=s.onAnimationStart,h=s.onAnimationEnd,f=s.steps,A=s.children,v=this.manager;if(this.unSubscribe=v.subscribe(this.handleStyleChange),typeof u=="function"||typeof A=="function"||u==="spring"){this.runJSAnimation(s);return}if(f.length>1){this.runStepAnimation(s);return}var p=l?ON({},l,c):c,m=tse(Object.keys(p),o,u);v.start([d,a,Td(Td({},p),{},{transition:m}),o,h])}},{key:"render",value:function(){var s=this.props,a=s.children;s.begin;var o=s.duration;s.attributeName,s.easing;var l=s.isActive;s.steps,s.from,s.to,s.canBegin,s.onAnimationEnd,s.shouldReAnimate,s.onAnimationReStart;var c=AGe(s,fGe),u=E.Children.count(a),d=this.state.style;if(typeof a=="function")return a(d);if(!l||u===0||o<=0)return a;var h=function(A){var v=A.props,p=v.style,m=p===void 0?{}:p,g=v.className,x=E.cloneElement(A,Td(Td({},c),{},{style:Td(Td({},m),d),className:g}));return x};return u===1?h(E.Children.only(a)):pe.createElement("div",null,E.Children.map(a,function(f){return h(f)}))}}]),n}(E.PureComponent);Yc.displayName="Animate";Yc.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};Yc.propTypes={from:hn.oneOfType([hn.object,hn.string]),to:hn.oneOfType([hn.object,hn.string]),attributeName:hn.string,duration:hn.number,begin:hn.number,easing:hn.oneOfType([hn.string,hn.func]),steps:hn.arrayOf(hn.shape({duration:hn.number.isRequired,style:hn.object.isRequired,easing:hn.oneOfType([hn.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),hn.func]),properties:hn.arrayOf("string"),onAnimationEnd:hn.func})),children:hn.oneOfType([hn.node,hn.func]),isActive:hn.bool,canBegin:hn.bool,onAnimationEnd:hn.func,shouldReAnimate:hn.bool,onAnimationStart:hn.func,onAnimationReStart:hn.func};function m5(t){"@babel/helpers - typeof";return m5=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},m5(t)}function Q3(){return Q3=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Q3.apply(this,arguments)}function SGe(t,e){return TGe(t)||DGe(t,e)||BGe(t,e)||EGe()}function EGe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function BGe(t,e){if(t){if(typeof t=="string")return ose(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ose(t,e)}}function ose(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function DGe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,s,a,o,l=[],c=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function TGe(t){if(Array.isArray(t))return t}function lse(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function cse(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?lse(Object(n),!0).forEach(function(r){kGe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):lse(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function kGe(t,e,n){return e=FGe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function FGe(t){var e=PGe(t,"string");return m5(e)=="symbol"?e:e+""}function PGe(t,e){if(m5(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(m5(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var use=function(e,n,r,s,a){var o=Math.min(Math.abs(r)/2,Math.abs(s)/2),l=s>=0?1:-1,c=r>=0?1:-1,u=s>=0&&r>=0||s<0&&r<0?1:0,d;if(o>0&&a instanceof Array){for(var h=[0,0,0,0],f=0,A=4;f<A;f++)h[f]=a[f]>o?o:a[f];d="M".concat(e,",").concat(n+l*h[0]),h[0]>0&&(d+="A ".concat(h[0],",").concat(h[0],",0,0,").concat(u,",").concat(e+c*h[0],",").concat(n)),d+="L ".concat(e+r-c*h[1],",").concat(n),h[1]>0&&(d+="A ".concat(h[1],",").concat(h[1],",0,0,").concat(u,`,
        `).concat(e+r,",").concat(n+l*h[1])),d+="L ".concat(e+r,",").concat(n+s-l*h[2]),h[2]>0&&(d+="A ".concat(h[2],",").concat(h[2],",0,0,").concat(u,`,
        `).concat(e+r-c*h[2],",").concat(n+s)),d+="L ".concat(e+c*h[3],",").concat(n+s),h[3]>0&&(d+="A ".concat(h[3],",").concat(h[3],",0,0,").concat(u,`,
        `).concat(e,",").concat(n+s-l*h[3])),d+="Z"}else if(o>0&&a===+a&&a>0){var v=Math.min(o,a);d="M ".concat(e,",").concat(n+l*v,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(e+c*v,",").concat(n,`
            L `).concat(e+r-c*v,",").concat(n,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(e+r,",").concat(n+l*v,`
            L `).concat(e+r,",").concat(n+s-l*v,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(e+r-c*v,",").concat(n+s,`
            L `).concat(e+c*v,",").concat(n+s,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(e,",").concat(n+s-l*v," Z")}else d="M ".concat(e,",").concat(n," h ").concat(r," v ").concat(s," h ").concat(-r," Z");return d},UGe=function(e,n){if(!e||!n)return!1;var r=e.x,s=e.y,a=n.x,o=n.y,l=n.width,c=n.height;if(Math.abs(l)>0&&Math.abs(c)>0){var u=Math.min(a,a+l),d=Math.max(a,a+l),h=Math.min(o,o+c),f=Math.max(o,o+c);return r>=u&&r<=d&&s>=h&&s<=f}return!1},IGe={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},uq=function(e){var n=cse(cse({},IGe),e),r=E.useRef(),s=E.useState(-1),a=SGe(s,2),o=a[0],l=a[1];E.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var j=r.current.getTotalLength();j&&l(j)}catch{}},[]);var c=n.x,u=n.y,d=n.width,h=n.height,f=n.radius,A=n.className,v=n.animationEasing,p=n.animationDuration,m=n.animationBegin,g=n.isAnimationActive,x=n.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||h!==+h||d===0||h===0)return null;var b=Dn("recharts-rectangle",A);return x?pe.createElement(Yc,{canBegin:o>0,from:{width:d,height:h,x:c,y:u},to:{width:d,height:h,x:c,y:u},duration:p,animationEasing:v,isActive:x},function(j){var N=j.width,_=j.height,C=j.x,k=j.y;return pe.createElement(Yc,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:m,duration:p,isActive:g,easing:v},pe.createElement("path",Q3({},Yt(n,!0),{className:b,d:use(C,k,N,_,f),ref:r})))}):pe.createElement("path",Q3({},Yt(n,!0),{className:b,d:use(c,u,d,h,f)}))},OGe=["points","className","baseLinePoints","connectNulls"];function s1(){return s1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},s1.apply(this,arguments)}function MGe(t,e){if(t==null)return{};var n=LGe(t,e),r,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(s=0;s<a.length;s++)r=a[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function LGe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function dse(t){return zGe(t)||HGe(t)||QGe(t)||RGe()}function RGe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function QGe(t,e){if(t){if(typeof t=="string")return xQ(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return xQ(t,e)}}function HGe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function zGe(t){if(Array.isArray(t))return xQ(t)}function xQ(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var hse=function(e){return e&&e.x===+e.x&&e.y===+e.y},$Ge=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=[[]];return e.forEach(function(r){hse(r)?n[n.length-1].push(r):n[n.length-1].length>0&&n.push([])}),hse(e[0])&&n[n.length-1].push(e[0]),n[n.length-1].length<=0&&(n=n.slice(0,-1)),n},l_=function(e,n){var r=$Ge(e);n&&(r=[r.reduce(function(a,o){return[].concat(dse(a),dse(o))},[])]);var s=r.map(function(a){return a.reduce(function(o,l,c){return"".concat(o).concat(c===0?"M":"L").concat(l.x,",").concat(l.y)},"")}).join("");return r.length===1?"".concat(s,"Z"):s},WGe=function(e,n,r){var s=l_(e,r);return"".concat(s.slice(-1)==="Z"?s.slice(0,-1):s,"L").concat(l_(n.reverse(),r).slice(1))},kye=function(e){var n=e.points,r=e.className,s=e.baseLinePoints,a=e.connectNulls,o=MGe(e,OGe);if(!n||!n.length)return null;var l=Dn("recharts-polygon",r);if(s&&s.length){var c=o.stroke&&o.stroke!=="none",u=WGe(n,s,a);return pe.createElement("g",{className:l},pe.createElement("path",s1({},Yt(o,!0),{fill:u.slice(-1)==="Z"?o.fill:"none",stroke:"none",d:u})),c?pe.createElement("path",s1({},Yt(o,!0),{fill:"none",d:l_(n,a)})):null,c?pe.createElement("path",s1({},Yt(o,!0),{fill:"none",d:l_(s,a)})):null)}var d=l_(n,a);return pe.createElement("path",s1({},Yt(o,!0),{fill:d.slice(-1)==="Z"?o.fill:"none",className:l,d}))};function vQ(){return vQ=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},vQ.apply(this,arguments)}var oj=function(e){var n=e.cx,r=e.cy,s=e.r,a=e.className,o=Dn("recharts-dot",a);return n===+n&&r===+r&&s===+s?pe.createElement("circle",vQ({},Yt(e,!1),d3(e),{className:o,cx:n,cy:r,r:s})):null};function g5(t){"@babel/helpers - typeof";return g5=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},g5(t)}var qGe=["x","y","top","left","width","height","className"];function yQ(){return yQ=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},yQ.apply(this,arguments)}function fse(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function VGe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?fse(Object(n),!0).forEach(function(r){KGe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):fse(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function KGe(t,e,n){return e=GGe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function GGe(t){var e=XGe(t,"string");return g5(e)=="symbol"?e:e+""}function XGe(t,e){if(g5(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(g5(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function YGe(t,e){if(t==null)return{};var n=JGe(t,e),r,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(s=0;s<a.length;s++)r=a[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function JGe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var ZGe=function(e,n,r,s,a,o){return"M".concat(e,",").concat(a,"v").concat(s,"M").concat(o,",").concat(n,"h").concat(r)},eXe=function(e){var n=e.x,r=n===void 0?0:n,s=e.y,a=s===void 0?0:s,o=e.top,l=o===void 0?0:o,c=e.left,u=c===void 0?0:c,d=e.width,h=d===void 0?0:d,f=e.height,A=f===void 0?0:f,v=e.className,p=YGe(e,qGe),m=VGe({x:r,y:a,top:l,left:u,width:h,height:A},p);return!Tt(r)||!Tt(a)||!Tt(h)||!Tt(A)||!Tt(l)||!Tt(u)?null:pe.createElement("path",yQ({},Yt(m,!0),{className:Dn("recharts-cross",v),d:ZGe(r,a,h,A,l,u)}))},tXe=["cx","cy","innerRadius","outerRadius","gridType","radialLines"];function x5(t){"@babel/helpers - typeof";return x5=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},x5(t)}function nXe(t,e){if(t==null)return{};var n=rXe(t,e),r,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(s=0;s<a.length;s++)r=a[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function rXe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Up(){return Up=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Up.apply(this,arguments)}function Ase(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function v5(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Ase(Object(n),!0).forEach(function(r){iXe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ase(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function iXe(t,e,n){return e=sXe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function sXe(t){var e=aXe(t,"string");return x5(e)=="symbol"?e:e+""}function aXe(t,e){if(x5(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(x5(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var oXe=function(e,n,r,s){var a="";return s.forEach(function(o,l){var c=Rr(n,r,e,o);l?a+="L ".concat(c.x,",").concat(c.y):a+="M ".concat(c.x,",").concat(c.y)}),a+="Z",a},lXe=function(e){var n=e.cx,r=e.cy,s=e.innerRadius,a=e.outerRadius,o=e.polarAngles,l=e.radialLines;if(!o||!o.length||!l)return null;var c=v5({stroke:"#ccc"},Yt(e,!1));return pe.createElement("g",{className:"recharts-polar-grid-angle"},o.map(function(u){var d=Rr(n,r,s,u),h=Rr(n,r,a,u);return pe.createElement("line",Up({},c,{key:"line-".concat(u),x1:d.x,y1:d.y,x2:h.x,y2:h.y}))}))},cXe=function(e){var n=e.cx,r=e.cy,s=e.radius,a=e.index,o=v5(v5({stroke:"#ccc"},Yt(e,!1)),{},{fill:"none"});return pe.createElement("circle",Up({},o,{className:Dn("recharts-polar-grid-concentric-circle",e.className),key:"circle-".concat(a),cx:n,cy:r,r:s}))},uXe=function(e){var n=e.radius,r=e.index,s=v5(v5({stroke:"#ccc"},Yt(e,!1)),{},{fill:"none"});return pe.createElement("path",Up({},s,{className:Dn("recharts-polar-grid-concentric-polygon",e.className),key:"path-".concat(r),d:oXe(n,e.cx,e.cy,e.polarAngles)}))},dXe=function(e){var n=e.polarRadius,r=e.gridType;return!n||!n.length?null:pe.createElement("g",{className:"recharts-polar-grid-concentric"},n.map(function(s,a){var o=a;return r==="circle"?pe.createElement(cXe,Up({key:o},e,{radius:s,index:a})):pe.createElement(uXe,Up({key:o},e,{radius:s,index:a}))}))},WS=function(e){var n=e.cx,r=n===void 0?0:n,s=e.cy,a=s===void 0?0:s,o=e.innerRadius,l=o===void 0?0:o,c=e.outerRadius,u=c===void 0?0:c,d=e.gridType,h=d===void 0?"polygon":d,f=e.radialLines,A=f===void 0?!0:f,v=nXe(e,tXe);return u<=0?null:pe.createElement("g",{className:"recharts-polar-grid"},pe.createElement(lXe,Up({cx:r,cy:a,innerRadius:l,outerRadius:u,gridType:h,radialLines:A},v)),pe.createElement(dXe,Up({cx:r,cy:a,innerRadius:l,outerRadius:u,gridType:h,radialLines:A},v)))};WS.displayName="PolarGrid";var LM,pse;function hXe(){if(pse)return LM;pse=1;var t=DF(),e=$0e(),n=Rf();function r(s,a){return s&&s.length?t(s,n(a,2),e):void 0}return LM=r,LM}var fXe=hXe();const AXe=wr(fXe);var RM,mse;function pXe(){if(mse)return RM;mse=1;var t=DF(),e=Rf(),n=W0e();function r(s,a){return s&&s.length?t(s,e(a,2),n):void 0}return RM=r,RM}var mXe=pXe();const gXe=wr(mXe);var xXe=["cx","cy","angle","ticks","axisLine"],vXe=["ticks","tick","angle","tickFormatter","stroke"];function a2(t){"@babel/helpers - typeof";return a2=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a2(t)}function c_(){return c_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},c_.apply(this,arguments)}function gse(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function uv(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?gse(Object(n),!0).forEach(function(r){PF(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gse(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function xse(t,e){if(t==null)return{};var n=yXe(t,e),r,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(s=0;s<a.length;s++)r=a[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function yXe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function bXe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function vse(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Pye(r.key),r)}}function wXe(t,e,n){return e&&vse(t.prototype,e),n&&vse(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function jXe(t,e,n){return e=H3(e),NXe(t,Fye()?Reflect.construct(e,n||[],H3(t).constructor):e.apply(t,n))}function NXe(t,e){if(e&&(a2(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _Xe(t)}function _Xe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Fye(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Fye=function(){return!!t})()}function H3(t){return H3=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},H3(t)}function CXe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&bQ(t,e)}function bQ(t,e){return bQ=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},bQ(t,e)}function PF(t,e,n){return e=Pye(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Pye(t){var e=SXe(t,"string");return a2(e)=="symbol"?e:e+""}function SXe(t,e){if(a2(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(a2(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Wp=function(t){function e(){return bXe(this,e),jXe(this,e,arguments)}return CXe(e,t),wXe(e,[{key:"getTickValueCoord",value:function(r){var s=r.coordinate,a=this.props,o=a.angle,l=a.cx,c=a.cy;return Rr(l,c,s,o)}},{key:"getTickTextAnchor",value:function(){var r=this.props.orientation,s;switch(r){case"left":s="end";break;case"right":s="start";break;default:s="middle";break}return s}},{key:"getViewBox",value:function(){var r=this.props,s=r.cx,a=r.cy,o=r.angle,l=r.ticks,c=AXe(l,function(d){return d.coordinate||0}),u=gXe(l,function(d){return d.coordinate||0});return{cx:s,cy:a,startAngle:o,endAngle:o,innerRadius:u.coordinate||0,outerRadius:c.coordinate||0}}},{key:"renderAxisLine",value:function(){var r=this.props,s=r.cx,a=r.cy,o=r.angle,l=r.ticks,c=r.axisLine,u=xse(r,xXe),d=l.reduce(function(v,p){return[Math.min(v[0],p.coordinate),Math.max(v[1],p.coordinate)]},[1/0,-1/0]),h=Rr(s,a,d[0],o),f=Rr(s,a,d[1],o),A=uv(uv(uv({},Yt(u,!1)),{},{fill:"none"},Yt(c,!1)),{},{x1:h.x,y1:h.y,x2:f.x,y2:f.y});return pe.createElement("line",c_({className:"recharts-polar-radius-axis-line"},A))}},{key:"renderTicks",value:function(){var r=this,s=this.props,a=s.ticks,o=s.tick,l=s.angle,c=s.tickFormatter,u=s.stroke,d=xse(s,vXe),h=this.getTickTextAnchor(),f=Yt(d,!1),A=Yt(o,!1),v=a.map(function(p,m){var g=r.getTickValueCoord(p),x=uv(uv(uv(uv({textAnchor:h,transform:"rotate(".concat(90-l,", ").concat(g.x,", ").concat(g.y,")")},f),{},{stroke:"none",fill:u},A),{},{index:m},g),{},{payload:p});return pe.createElement(Rn,c_({className:Dn("recharts-polar-radius-axis-tick",yye(o)),key:"tick-".concat(p.coordinate)},ax(r.props,p,m)),e.renderTickItem(o,x,c?c(p.value,m):p.value))});return pe.createElement(Rn,{className:"recharts-polar-radius-axis-ticks"},v)}},{key:"render",value:function(){var r=this.props,s=r.ticks,a=r.axisLine,o=r.tick;return!s||!s.length?null:pe.createElement(Rn,{className:Dn("recharts-polar-radius-axis",this.props.className)},a&&this.renderAxisLine(),o&&this.renderTicks(),Qa.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(r,s,a){var o;return pe.isValidElement(r)?o=pe.cloneElement(r,s):gn(r)?o=r(s):o=pe.createElement(py,c_({},s,{className:"recharts-polar-radius-axis-tick-value"}),a),o}}])}(E.PureComponent);PF(Wp,"displayName","PolarRadiusAxis");PF(Wp,"axisType","radiusAxis");PF(Wp,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function o2(t){"@babel/helpers - typeof";return o2=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o2(t)}function _v(){return _v=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},_v.apply(this,arguments)}function yse(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function dv(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?yse(Object(n),!0).forEach(function(r){UF(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):yse(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function EXe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function bse(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Iye(r.key),r)}}function BXe(t,e,n){return e&&bse(t.prototype,e),n&&bse(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function DXe(t,e,n){return e=z3(e),TXe(t,Uye()?Reflect.construct(e,n||[],z3(t).constructor):e.apply(t,n))}function TXe(t,e){if(e&&(o2(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return kXe(t)}function kXe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Uye(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Uye=function(){return!!t})()}function z3(t){return z3=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},z3(t)}function FXe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&wQ(t,e)}function wQ(t,e){return wQ=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},wQ(t,e)}function UF(t,e,n){return e=Iye(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Iye(t){var e=PXe(t,"string");return o2(e)=="symbol"?e:e+""}function PXe(t,e){if(o2(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(o2(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var UXe=Math.PI/180,IXe=1e-5,qp=function(t){function e(){return EXe(this,e),DXe(this,e,arguments)}return FXe(e,t),BXe(e,[{key:"getTickLineCoord",value:function(r){var s=this.props,a=s.cx,o=s.cy,l=s.radius,c=s.orientation,u=s.tickSize,d=u||8,h=Rr(a,o,l,r.coordinate),f=Rr(a,o,l+(c==="inner"?-1:1)*d,r.coordinate);return{x1:h.x,y1:h.y,x2:f.x,y2:f.y}}},{key:"getTickTextAnchor",value:function(r){var s=this.props.orientation,a=Math.cos(-r.coordinate*UXe),o;return a>IXe?o=s==="outer"?"start":"end":a<-1e-5?o=s==="outer"?"end":"start":o="middle",o}},{key:"renderAxisLine",value:function(){var r=this.props,s=r.cx,a=r.cy,o=r.radius,l=r.axisLine,c=r.axisLineType,u=dv(dv({},Yt(this.props,!1)),{},{fill:"none"},Yt(l,!1));if(c==="circle")return pe.createElement(oj,_v({className:"recharts-polar-angle-axis-line"},u,{cx:s,cy:a,r:o}));var d=this.props.ticks,h=d.map(function(f){return Rr(s,a,o,f.coordinate)});return pe.createElement(kye,_v({className:"recharts-polar-angle-axis-line"},u,{points:h}))}},{key:"renderTicks",value:function(){var r=this,s=this.props,a=s.ticks,o=s.tick,l=s.tickLine,c=s.tickFormatter,u=s.stroke,d=Yt(this.props,!1),h=Yt(o,!1),f=dv(dv({},d),{},{fill:"none"},Yt(l,!1)),A=a.map(function(v,p){var m=r.getTickLineCoord(v),g=r.getTickTextAnchor(v),x=dv(dv(dv({textAnchor:g},d),{},{stroke:"none",fill:u},h),{},{index:p,payload:v,x:m.x2,y:m.y2});return pe.createElement(Rn,_v({className:Dn("recharts-polar-angle-axis-tick",yye(o)),key:"tick-".concat(v.coordinate)},ax(r.props,v,p)),l&&pe.createElement("line",_v({className:"recharts-polar-angle-axis-tick-line"},f,m)),o&&e.renderTickItem(o,x,c?c(v.value,p):v.value))});return pe.createElement(Rn,{className:"recharts-polar-angle-axis-ticks"},A)}},{key:"render",value:function(){var r=this.props,s=r.ticks,a=r.radius,o=r.axisLine;return a<=0||!s||!s.length?null:pe.createElement(Rn,{className:Dn("recharts-polar-angle-axis",this.props.className)},o&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(r,s,a){var o;return pe.isValidElement(r)?o=pe.cloneElement(r,s):gn(r)?o=r(s):o=pe.createElement(py,_v({},s,{className:"recharts-polar-angle-axis-tick-value"}),a),o}}])}(E.PureComponent);UF(qp,"displayName","PolarAngleAxis");UF(qp,"axisType","angleAxis");UF(qp,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var QM,wse;function OXe(){if(wse)return QM;wse=1;var t=Rve(),e=t(Object.getPrototypeOf,Object);return QM=e,QM}var HM,jse;function MXe(){if(jse)return HM;jse=1;var t=Hp(),e=OXe(),n=zp(),r="[object Object]",s=Function.prototype,a=Object.prototype,o=s.toString,l=a.hasOwnProperty,c=o.call(Object);function u(d){if(!n(d)||t(d)!=r)return!1;var h=e(d);if(h===null)return!0;var f=l.call(h,"constructor")&&h.constructor;return typeof f=="function"&&f instanceof f&&o.call(f)==c}return HM=u,HM}var LXe=MXe();const RXe=wr(LXe);var zM,Nse;function QXe(){if(Nse)return zM;Nse=1;var t=Hp(),e=zp(),n="[object Boolean]";function r(s){return s===!0||s===!1||e(s)&&t(s)==n}return zM=r,zM}var HXe=QXe();const zXe=wr(HXe);function y5(t){"@babel/helpers - typeof";return y5=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},y5(t)}function $3(){return $3=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},$3.apply(this,arguments)}function $Xe(t,e){return KXe(t)||VXe(t,e)||qXe(t,e)||WXe()}function WXe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qXe(t,e){if(t){if(typeof t=="string")return _se(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _se(t,e)}}function _se(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function VXe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,s,a,o,l=[],c=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function KXe(t){if(Array.isArray(t))return t}function Cse(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function Sse(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Cse(Object(n),!0).forEach(function(r){GXe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Cse(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function GXe(t,e,n){return e=XXe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function XXe(t){var e=YXe(t,"string");return y5(e)=="symbol"?e:e+""}function YXe(t,e){if(y5(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(y5(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ese=function(e,n,r,s,a){var o=r-s,l;return l="M ".concat(e,",").concat(n),l+="L ".concat(e+r,",").concat(n),l+="L ".concat(e+r-o/2,",").concat(n+a),l+="L ".concat(e+r-o/2-s,",").concat(n+a),l+="L ".concat(e,",").concat(n," Z"),l},JXe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},ZXe=function(e){var n=Sse(Sse({},JXe),e),r=E.useRef(),s=E.useState(-1),a=$Xe(s,2),o=a[0],l=a[1];E.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var b=r.current.getTotalLength();b&&l(b)}catch{}},[]);var c=n.x,u=n.y,d=n.upperWidth,h=n.lowerWidth,f=n.height,A=n.className,v=n.animationEasing,p=n.animationDuration,m=n.animationBegin,g=n.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||h!==+h||f!==+f||d===0&&h===0||f===0)return null;var x=Dn("recharts-trapezoid",A);return g?pe.createElement(Yc,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:f,x:c,y:u},to:{upperWidth:d,lowerWidth:h,height:f,x:c,y:u},duration:p,animationEasing:v,isActive:g},function(b){var j=b.upperWidth,N=b.lowerWidth,_=b.height,C=b.x,k=b.y;return pe.createElement(Yc,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:m,duration:p,easing:v},pe.createElement("path",$3({},Yt(n,!0),{className:x,d:Ese(C,k,j,N,_),ref:r})))}):pe.createElement("g",null,pe.createElement("path",$3({},Yt(n,!0),{className:x,d:Ese(c,u,d,h,f)})))},eYe=["option","shapeType","propTransformer","activeClassName","isActive"];function b5(t){"@babel/helpers - typeof";return b5=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},b5(t)}function tYe(t,e){if(t==null)return{};var n=nYe(t,e),r,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(s=0;s<a.length;s++)r=a[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function nYe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Bse(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function W3(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Bse(Object(n),!0).forEach(function(r){rYe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Bse(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function rYe(t,e,n){return e=iYe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function iYe(t){var e=sYe(t,"string");return b5(e)=="symbol"?e:e+""}function sYe(t,e){if(b5(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(b5(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function aYe(t,e){return W3(W3({},e),t)}function oYe(t,e){return t==="symbols"}function Dse(t){var e=t.shapeType,n=t.elementProps;switch(e){case"rectangle":return pe.createElement(uq,n);case"trapezoid":return pe.createElement(ZXe,n);case"sector":return pe.createElement(Nye,n);case"symbols":if(oYe(e))return pe.createElement(yF,n);break;default:return null}}function lYe(t){return E.isValidElement(t)?t.props:t}function q3(t){var e=t.option,n=t.shapeType,r=t.propTransformer,s=r===void 0?aYe:r,a=t.activeClassName,o=a===void 0?"recharts-active-shape":a,l=t.isActive,c=tYe(t,eYe),u;if(E.isValidElement(e))u=E.cloneElement(e,W3(W3({},c),lYe(e)));else if(gn(e))u=e(c);else if(RXe(e)&&!zXe(e)){var d=s(e,c);u=pe.createElement(Dse,{shapeType:n,elementProps:d})}else{var h=c;u=pe.createElement(Dse,{shapeType:n,elementProps:h})}return l?pe.createElement(Rn,{className:o},u):u}function IF(t,e){return e!=null&&"trapezoids"in t.props}function OF(t,e){return e!=null&&"sectors"in t.props}function w5(t,e){return e!=null&&"points"in t.props}function cYe(t,e){var n,r,s=t.x===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.x)||t.x===e.x,a=t.y===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.y)||t.y===e.y;return s&&a}function uYe(t,e){var n=t.endAngle===e.endAngle,r=t.startAngle===e.startAngle;return n&&r}function dYe(t,e){var n=t.x===e.x,r=t.y===e.y,s=t.z===e.z;return n&&r&&s}function hYe(t,e){var n;return IF(t,e)?n=cYe:OF(t,e)?n=uYe:w5(t,e)&&(n=dYe),n}function fYe(t,e){var n;return IF(t,e)?n="trapezoids":OF(t,e)?n="sectors":w5(t,e)&&(n="points"),n}function AYe(t,e){if(IF(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}if(OF(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}return w5(t,e)?e.payload:{}}function pYe(t){var e=t.activeTooltipItem,n=t.graphicalItem,r=t.itemData,s=fYe(n,e),a=AYe(n,e),o=r.filter(function(c,u){var d=Pp(a,c),h=n.props[s].filter(function(v){var p=hYe(n,e);return p(v,e)}),f=n.props[s].indexOf(h[h.length-1]),A=u===f;return d&&A}),l=r.indexOf(o[o.length-1]);return l}var AD;function l2(t){"@babel/helpers - typeof";return l2=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l2(t)}function a1(){return a1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},a1.apply(this,arguments)}function Tse(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function Si(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Tse(Object(n),!0).forEach(function(r){Iu(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Tse(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function mYe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function kse(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Mye(r.key),r)}}function gYe(t,e,n){return e&&kse(t.prototype,e),n&&kse(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function xYe(t,e,n){return e=V3(e),vYe(t,Oye()?Reflect.construct(e,n||[],V3(t).constructor):e.apply(t,n))}function vYe(t,e){if(e&&(l2(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return yYe(t)}function yYe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Oye(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Oye=function(){return!!t})()}function V3(t){return V3=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},V3(t)}function bYe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&jQ(t,e)}function jQ(t,e){return jQ=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},jQ(t,e)}function Iu(t,e,n){return e=Mye(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Mye(t){var e=wYe(t,"string");return l2(e)=="symbol"?e:e+""}function wYe(t,e){if(l2(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(l2(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var ed=function(t){function e(n){var r;return mYe(this,e),r=xYe(this,e,[n]),Iu(r,"pieRef",null),Iu(r,"sectorRefs",[]),Iu(r,"id",wx("recharts-pie-")),Iu(r,"handleAnimationEnd",function(){var s=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),gn(s)&&s()}),Iu(r,"handleAnimationStart",function(){var s=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),gn(s)&&s()}),r.state={isAnimationFinished:!n.isAnimationActive,prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,sectorToFocus:0},r}return bYe(e,t),gYe(e,[{key:"isActiveIndex",value:function(r){var s=this.props.activeIndex;return Array.isArray(s)?s.indexOf(r)!==-1:r===s}},{key:"hasActiveIndex",value:function(){var r=this.props.activeIndex;return Array.isArray(r)?r.length!==0:r||r===0}},{key:"renderLabels",value:function(r){var s=this.props.isAnimationActive;if(s&&!this.state.isAnimationFinished)return null;var a=this.props,o=a.label,l=a.labelLine,c=a.dataKey,u=a.valueKey,d=Yt(this.props,!1),h=Yt(o,!1),f=Yt(l,!1),A=o&&o.offsetRadius||20,v=r.map(function(p,m){var g=(p.startAngle+p.endAngle)/2,x=Rr(p.cx,p.cy,p.outerRadius+A,g),b=Si(Si(Si(Si({},d),p),{},{stroke:"none"},h),{},{index:m,textAnchor:e.getTextAnchor(x.x,p.cx)},x),j=Si(Si(Si(Si({},d),p),{},{fill:"none",stroke:p.fill},f),{},{index:m,points:[Rr(p.cx,p.cy,p.outerRadius,g),x]}),N=c;return vn(c)&&vn(u)?N="value":vn(c)&&(N=u),pe.createElement(Rn,{key:"label-".concat(p.startAngle,"-").concat(p.endAngle,"-").concat(p.midAngle,"-").concat(m)},l&&e.renderLabelLineItem(l,j,"line"),e.renderLabelItem(o,b,gi(p,N)))});return pe.createElement(Rn,{className:"recharts-pie-labels"},v)}},{key:"renderSectorsStatically",value:function(r){var s=this,a=this.props,o=a.activeShape,l=a.blendStroke,c=a.inactiveShape;return r.map(function(u,d){if((u==null?void 0:u.startAngle)===0&&(u==null?void 0:u.endAngle)===0&&r.length!==1)return null;var h=s.isActiveIndex(d),f=c&&s.hasActiveIndex()?c:null,A=h?o:f,v=Si(Si({},u),{},{stroke:l?u.fill:u.stroke,tabIndex:-1});return pe.createElement(Rn,a1({ref:function(m){m&&!s.sectorRefs.includes(m)&&s.sectorRefs.push(m)},tabIndex:-1,className:"recharts-pie-sector"},ax(s.props,u,d),{key:"sector-".concat(u==null?void 0:u.startAngle,"-").concat(u==null?void 0:u.endAngle,"-").concat(u.midAngle,"-").concat(d)}),pe.createElement(q3,a1({option:A,isActive:h,shapeType:"sector"},v)))})}},{key:"renderSectorsWithAnimation",value:function(){var r=this,s=this.props,a=s.sectors,o=s.isAnimationActive,l=s.animationBegin,c=s.animationDuration,u=s.animationEasing,d=s.animationId,h=this.state,f=h.prevSectors,A=h.prevIsAnimationActive;return pe.createElement(Yc,{begin:l,duration:c,isActive:o,easing:u,from:{t:0},to:{t:1},key:"pie-".concat(d,"-").concat(A),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(v){var p=v.t,m=[],g=a&&a[0],x=g.startAngle;return a.forEach(function(b,j){var N=f&&f[j],_=j>0?Kc(b,"paddingAngle",0):0;if(N){var C=mi(N.endAngle-N.startAngle,b.endAngle-b.startAngle),k=Si(Si({},b),{},{startAngle:x+_,endAngle:x+C(p)+_});m.push(k),x=k.endAngle}else{var T=b.endAngle,O=b.startAngle,I=mi(0,T-O),F=I(p),M=Si(Si({},b),{},{startAngle:x+_,endAngle:x+F+_});m.push(M),x=M.endAngle}}),pe.createElement(Rn,null,r.renderSectorsStatically(m))})}},{key:"attachKeyboardHandlers",value:function(r){var s=this;r.onkeydown=function(a){if(!a.altKey)switch(a.key){case"ArrowLeft":{var o=++s.state.sectorToFocus%s.sectorRefs.length;s.sectorRefs[o].focus(),s.setState({sectorToFocus:o});break}case"ArrowRight":{var l=--s.state.sectorToFocus<0?s.sectorRefs.length-1:s.state.sectorToFocus%s.sectorRefs.length;s.sectorRefs[l].focus(),s.setState({sectorToFocus:l});break}case"Escape":{s.sectorRefs[s.state.sectorToFocus].blur(),s.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var r=this.props,s=r.sectors,a=r.isAnimationActive,o=this.state.prevSectors;return a&&s&&s.length&&(!o||!Pp(o,s))?this.renderSectorsWithAnimation():this.renderSectorsStatically(s)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var r=this,s=this.props,a=s.hide,o=s.sectors,l=s.className,c=s.label,u=s.cx,d=s.cy,h=s.innerRadius,f=s.outerRadius,A=s.isAnimationActive,v=this.state.isAnimationFinished;if(a||!o||!o.length||!Tt(u)||!Tt(d)||!Tt(h)||!Tt(f))return null;var p=Dn("recharts-pie",l);return pe.createElement(Rn,{tabIndex:this.props.rootTabIndex,className:p,ref:function(g){r.pieRef=g}},this.renderSectors(),c&&this.renderLabels(o),Qa.renderCallByParent(this.props,null,!1),(!A||v)&&Vu.renderCallByParent(this.props,o,!1))}}],[{key:"getDerivedStateFromProps",value:function(r,s){return s.prevIsAnimationActive!==r.isAnimationActive?{prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,curSectors:r.sectors,prevSectors:[],isAnimationFinished:!0}:r.isAnimationActive&&r.animationId!==s.prevAnimationId?{prevAnimationId:r.animationId,curSectors:r.sectors,prevSectors:s.curSectors,isAnimationFinished:!0}:r.sectors!==s.curSectors?{curSectors:r.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(r,s){return r>s?"start":r<s?"end":"middle"}},{key:"renderLabelLineItem",value:function(r,s,a){if(pe.isValidElement(r))return pe.cloneElement(r,s);if(gn(r))return r(s);var o=Dn("recharts-pie-label-line",typeof r!="boolean"?r.className:"");return pe.createElement(Wg,a1({},s,{key:a,type:"linear",className:o}))}},{key:"renderLabelItem",value:function(r,s,a){if(pe.isValidElement(r))return pe.cloneElement(r,s);var o=a;if(gn(r)&&(o=r(s),pe.isValidElement(o)))return o;var l=Dn("recharts-pie-label-text",typeof r!="boolean"&&!gn(r)?r.className:"");return pe.createElement(py,a1({},s,{alignmentBaseline:"middle",className:l}),o)}}])}(E.PureComponent);AD=ed;Iu(ed,"displayName","Pie");Iu(ed,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!Qf.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});Iu(ed,"parseDeltaAngle",function(t,e){var n=_l(e-t),r=Math.min(Math.abs(e-t),360);return n*r});Iu(ed,"getRealPieData",function(t){var e=t.data,n=t.children,r=Yt(t,!1),s=Bl(n,jx);return e&&e.length?e.map(function(a,o){return Si(Si(Si({payload:a},r),a),s&&s[o]&&s[o].props)}):s&&s.length?s.map(function(a){return Si(Si({},r),a.props)}):[]});Iu(ed,"parseCoordinateOfPie",function(t,e){var n=e.top,r=e.left,s=e.width,a=e.height,o=xye(s,a),l=r+Cl(t.cx,s,s/2),c=n+Cl(t.cy,a,a/2),u=Cl(t.innerRadius,o,0),d=Cl(t.outerRadius,o,o*.8),h=t.maxRadius||Math.sqrt(s*s+a*a)/2;return{cx:l,cy:c,innerRadius:u,outerRadius:d,maxRadius:h}});Iu(ed,"getComposedData",function(t){var e=t.item,n=t.offset,r=e.type.defaultProps!==void 0?Si(Si({},e.type.defaultProps),e.props):e.props,s=AD.getRealPieData(r);if(!s||!s.length)return null;var a=r.cornerRadius,o=r.startAngle,l=r.endAngle,c=r.paddingAngle,u=r.dataKey,d=r.nameKey,h=r.valueKey,f=r.tooltipType,A=Math.abs(r.minAngle),v=AD.parseCoordinateOfPie(r,n),p=AD.parseDeltaAngle(o,l),m=Math.abs(p),g=u;vn(u)&&vn(h)?(ah(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),g="value"):vn(u)&&(ah(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),g=h);var x=s.filter(function(k){return gi(k,g,0)!==0}).length,b=(m>=360?x:x-1)*c,j=m-x*A-b,N=s.reduce(function(k,T){var O=gi(T,g,0);return k+(Tt(O)?O:0)},0),_;if(N>0){var C;_=s.map(function(k,T){var O=gi(k,g,0),I=gi(k,d,T),F=(Tt(O)?O:0)/N,M;T?M=C.endAngle+_l(p)*c*(O!==0?1:0):M=o;var S=M+_l(p)*((O!==0?A:0)+F*j),q=(M+S)/2,U=(v.innerRadius+v.outerRadius)/2,L=[{name:I,value:O,payload:k,dataKey:g,type:f}],z=Rr(v.cx,v.cy,U,q);return C=Si(Si(Si({percent:F,cornerRadius:a,name:I,tooltipPayload:L,midAngle:q,middleRadius:U,tooltipPosition:z},k),v),{},{value:gi(k,g),startAngle:M,endAngle:S,payload:k,paddingAngle:_l(p)*c}),C})}return Si(Si({},v),{},{sectors:_,data:s})});var $M,Fse;function jYe(){if(Fse)return $M;Fse=1;function t(e){return e&&e.length?e[0]:void 0}return $M=t,$M}var WM,Pse;function NYe(){return Pse||(Pse=1,WM=jYe()),WM}var _Ye=NYe();const CYe=wr(_Ye);var SYe=["key"];function c2(t){"@babel/helpers - typeof";return c2=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c2(t)}function EYe(t,e){if(t==null)return{};var n=BYe(t,e),r,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(s=0;s<a.length;s++)r=a[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function BYe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function K3(){return K3=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},K3.apply(this,arguments)}function Use(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function vl(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Use(Object(n),!0).forEach(function(r){up(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Use(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function DYe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ise(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Rye(r.key),r)}}function TYe(t,e,n){return e&&Ise(t.prototype,e),n&&Ise(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function kYe(t,e,n){return e=G3(e),FYe(t,Lye()?Reflect.construct(e,n||[],G3(t).constructor):e.apply(t,n))}function FYe(t,e){if(e&&(c2(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return PYe(t)}function PYe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Lye(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Lye=function(){return!!t})()}function G3(t){return G3=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},G3(t)}function UYe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&NQ(t,e)}function NQ(t,e){return NQ=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},NQ(t,e)}function up(t,e,n){return e=Rye(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Rye(t){var e=IYe(t,"string");return c2(e)=="symbol"?e:e+""}function IYe(t,e){if(c2(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(c2(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var ph=function(t){function e(){var n;DYe(this,e);for(var r=arguments.length,s=new Array(r),a=0;a<r;a++)s[a]=arguments[a];return n=kYe(this,e,[].concat(s)),up(n,"state",{isAnimationFinished:!1}),up(n,"handleAnimationEnd",function(){var o=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),gn(o)&&o()}),up(n,"handleAnimationStart",function(){var o=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),gn(o)&&o()}),up(n,"handleMouseEnter",function(o){var l=n.props.onMouseEnter;l&&l(n.props,o)}),up(n,"handleMouseLeave",function(o){var l=n.props.onMouseLeave;l&&l(n.props,o)}),n}return UYe(e,t),TYe(e,[{key:"renderDots",value:function(r){var s=this.props,a=s.dot,o=s.dataKey,l=Yt(this.props,!1),c=Yt(a,!0),u=r.map(function(d,h){var f=vl(vl(vl({key:"dot-".concat(h),r:3},l),c),{},{dataKey:o,cx:d.x,cy:d.y,index:h,payload:d});return e.renderDotItem(a,f)});return pe.createElement(Rn,{className:"recharts-radar-dots"},u)}},{key:"renderPolygonStatically",value:function(r){var s=this.props,a=s.shape,o=s.dot,l=s.isRange,c=s.baseLinePoints,u=s.connectNulls,d;return pe.isValidElement(a)?d=pe.cloneElement(a,vl(vl({},this.props),{},{points:r})):gn(a)?d=a(vl(vl({},this.props),{},{points:r})):d=pe.createElement(kye,K3({},Yt(this.props,!0),{onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,points:r,baseLinePoints:l?c:null,connectNulls:u})),pe.createElement(Rn,{className:"recharts-radar-polygon"},d,o?this.renderDots(r):null)}},{key:"renderPolygonWithAnimation",value:function(){var r=this,s=this.props,a=s.points,o=s.isAnimationActive,l=s.animationBegin,c=s.animationDuration,u=s.animationEasing,d=s.animationId,h=this.state.prevPoints;return pe.createElement(Yc,{begin:l,duration:c,isActive:o,easing:u,from:{t:0},to:{t:1},key:"radar-".concat(d),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(f){var A=f.t,v=h&&h.length/a.length,p=a.map(function(m,g){var x=h&&h[Math.floor(g*v)];if(x){var b=mi(x.x,m.x),j=mi(x.y,m.y);return vl(vl({},m),{},{x:b(A),y:j(A)})}var N=mi(m.cx,m.x),_=mi(m.cy,m.y);return vl(vl({},m),{},{x:N(A),y:_(A)})});return r.renderPolygonStatically(p)})}},{key:"renderPolygon",value:function(){var r=this.props,s=r.points,a=r.isAnimationActive,o=r.isRange,l=this.state.prevPoints;return a&&s&&s.length&&!o&&(!l||!Pp(l,s))?this.renderPolygonWithAnimation():this.renderPolygonStatically(s)}},{key:"render",value:function(){var r=this.props,s=r.hide,a=r.className,o=r.points,l=r.isAnimationActive;if(s||!o||!o.length)return null;var c=this.state.isAnimationFinished,u=Dn("recharts-radar",a);return pe.createElement(Rn,{className:u},this.renderPolygon(),(!l||c)&&Vu.renderCallByParent(this.props,o))}}],[{key:"getDerivedStateFromProps",value:function(r,s){return r.animationId!==s.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,prevPoints:s.curPoints}:r.points!==s.curPoints?{curPoints:r.points}:null}},{key:"renderDotItem",value:function(r,s){var a;if(pe.isValidElement(r))a=pe.cloneElement(r,s);else if(gn(r))a=r(s);else{var o=s.key,l=EYe(s,SYe);a=pe.createElement(oj,K3({},l,{key:o,className:Dn("recharts-radar-dot",typeof r!="boolean"?r.className:"")}))}return a}}])}(E.PureComponent);up(ph,"displayName","Radar");up(ph,"defaultProps",{angleAxisId:0,radiusAxisId:0,hide:!1,activeDot:!0,dot:!1,legendType:"rect",isAnimationActive:!Qf.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});up(ph,"getComposedData",function(t){var e=t.radiusAxis,n=t.angleAxis,r=t.displayedData,s=t.dataKey,a=t.bandSize,o=n.cx,l=n.cy,c=!1,u=[],d=n.type!=="number"?a??0:0;r.forEach(function(f,A){var v=gi(f,n.dataKey,A),p=gi(f,s),m=n.scale(v)+d,g=Array.isArray(p)?wye(p):p,x=vn(g)?void 0:e.scale(g);Array.isArray(p)&&p.length>=2&&(c=!0),u.push(vl(vl({},Rr(o,l,x,m)),{},{name:v,value:p,cx:o,cy:l,radius:x,angle:m,payload:f}))});var h=[];return c&&u.forEach(function(f){if(Array.isArray(f.value)){var A=CYe(f.value),v=vn(A)?void 0:e.scale(A);h.push(vl(vl({},f),{},{radius:v},Rr(o,l,v,f.angle)))}else h.push(f)}),{points:u,isRange:c,baseLinePoints:h}});var qM,Ose;function OYe(){if(Ose)return qM;Ose=1;var t=Math.ceil,e=Math.max;function n(r,s,a,o){for(var l=-1,c=e(t((s-r)/(a||1)),0),u=Array(c);c--;)u[o?c:++l]=r,r+=a;return u}return qM=n,qM}var VM,Mse;function Qye(){if(Mse)return VM;Mse=1;var t=n0e(),e=1/0,n=17976931348623157e292;function r(s){if(!s)return s===0?s:0;if(s=t(s),s===e||s===-1/0){var a=s<0?-1:1;return a*n}return s===s?s:0}return VM=r,VM}var KM,Lse;function MYe(){if(Lse)return KM;Lse=1;var t=OYe(),e=jF(),n=Qye();function r(s){return function(a,o,l){return l&&typeof l!="number"&&e(a,o,l)&&(o=l=void 0),a=n(a),o===void 0?(o=a,a=0):o=n(o),l=l===void 0?a<o?1:-1:n(l),t(a,o,l,s)}}return KM=r,KM}var GM,Rse;function LYe(){if(Rse)return GM;Rse=1;var t=MYe(),e=t();return GM=e,GM}var RYe=LYe();const X3=wr(RYe);function j5(t){"@babel/helpers - typeof";return j5=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},j5(t)}function Qse(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function Hse(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Qse(Object(n),!0).forEach(function(r){Hye(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Qse(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Hye(t,e,n){return e=QYe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function QYe(t){var e=HYe(t,"string");return j5(e)=="symbol"?e:e+""}function HYe(t,e){if(j5(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(j5(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var zYe=["Webkit","Moz","O","ms"],$Ye=function(e,n){var r=e.replace(/(\w)/,function(a){return a.toUpperCase()}),s=zYe.reduce(function(a,o){return Hse(Hse({},a),{},Hye({},o+r,n))},{});return s[e]=n,s};function u2(t){"@babel/helpers - typeof";return u2=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u2(t)}function Y3(){return Y3=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Y3.apply(this,arguments)}function zse(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function XM(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?zse(Object(n),!0).forEach(function(r){Cc(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):zse(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function WYe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function $se(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,$ye(r.key),r)}}function qYe(t,e,n){return e&&$se(t.prototype,e),n&&$se(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function VYe(t,e,n){return e=J3(e),KYe(t,zye()?Reflect.construct(e,n||[],J3(t).constructor):e.apply(t,n))}function KYe(t,e){if(e&&(u2(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return GYe(t)}function GYe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function zye(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(zye=function(){return!!t})()}function J3(t){return J3=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},J3(t)}function XYe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_Q(t,e)}function _Q(t,e){return _Q=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},_Q(t,e)}function Cc(t,e,n){return e=$ye(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $ye(t){var e=YYe(t,"string");return u2(e)=="symbol"?e:e+""}function YYe(t,e){if(u2(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(u2(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var JYe=function(e){var n=e.data,r=e.startIndex,s=e.endIndex,a=e.x,o=e.width,l=e.travellerWidth;if(!n||!n.length)return{};var c=n.length,u=s_().domain(X3(0,c)).range([a,a+o-l]),d=u.domain().map(function(h){return u(h)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(r),endX:u(s),scale:u,scaleValues:d}},Wse=function(e){return e.changedTouches&&!!e.changedTouches.length},d2=function(t){function e(n){var r;return WYe(this,e),r=VYe(this,e,[n]),Cc(r,"handleDrag",function(s){r.leaveTimer&&(clearTimeout(r.leaveTimer),r.leaveTimer=null),r.state.isTravellerMoving?r.handleTravellerMove(s):r.state.isSlideMoving&&r.handleSlideDrag(s)}),Cc(r,"handleTouchMove",function(s){s.changedTouches!=null&&s.changedTouches.length>0&&r.handleDrag(s.changedTouches[0])}),Cc(r,"handleDragEnd",function(){r.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var s=r.props,a=s.endIndex,o=s.onDragEnd,l=s.startIndex;o==null||o({endIndex:a,startIndex:l})}),r.detachDragEndListener()}),Cc(r,"handleLeaveWrapper",function(){(r.state.isTravellerMoving||r.state.isSlideMoving)&&(r.leaveTimer=window.setTimeout(r.handleDragEnd,r.props.leaveTimeOut))}),Cc(r,"handleEnterSlideOrTraveller",function(){r.setState({isTextActive:!0})}),Cc(r,"handleLeaveSlideOrTraveller",function(){r.setState({isTextActive:!1})}),Cc(r,"handleSlideDragStart",function(s){var a=Wse(s)?s.changedTouches[0]:s;r.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:a.pageX}),r.attachDragEndListener()}),r.travellerDragStartHandlers={startX:r.handleTravellerDragStart.bind(r,"startX"),endX:r.handleTravellerDragStart.bind(r,"endX")},r.state={},r}return XYe(e,t),qYe(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(r){var s=r.startX,a=r.endX,o=this.state.scaleValues,l=this.props,c=l.gap,u=l.data,d=u.length-1,h=Math.min(s,a),f=Math.max(s,a),A=e.getIndexInRange(o,h),v=e.getIndexInRange(o,f);return{startIndex:A-A%c,endIndex:v===d?d:v-v%c}}},{key:"getTextOfTick",value:function(r){var s=this.props,a=s.data,o=s.tickFormatter,l=s.dataKey,c=gi(a[r],l,r);return gn(o)?o(c,r):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(r){var s=this.state,a=s.slideMoveStartX,o=s.startX,l=s.endX,c=this.props,u=c.x,d=c.width,h=c.travellerWidth,f=c.startIndex,A=c.endIndex,v=c.onChange,p=r.pageX-a;p>0?p=Math.min(p,u+d-h-l,u+d-h-o):p<0&&(p=Math.max(p,u-o,u-l));var m=this.getIndex({startX:o+p,endX:l+p});(m.startIndex!==f||m.endIndex!==A)&&v&&v(m),this.setState({startX:o+p,endX:l+p,slideMoveStartX:r.pageX})}},{key:"handleTravellerDragStart",value:function(r,s){var a=Wse(s)?s.changedTouches[0]:s;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:r,brushMoveStartX:a.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(r){var s=this.state,a=s.brushMoveStartX,o=s.movingTravellerId,l=s.endX,c=s.startX,u=this.state[o],d=this.props,h=d.x,f=d.width,A=d.travellerWidth,v=d.onChange,p=d.gap,m=d.data,g={startX:this.state.startX,endX:this.state.endX},x=r.pageX-a;x>0?x=Math.min(x,h+f-A-u):x<0&&(x=Math.max(x,h-u)),g[o]=u+x;var b=this.getIndex(g),j=b.startIndex,N=b.endIndex,_=function(){var k=m.length-1;return o==="startX"&&(l>c?j%p===0:N%p===0)||l<c&&N===k||o==="endX"&&(l>c?N%p===0:j%p===0)||l>c&&N===k};this.setState(Cc(Cc({},o,u+x),"brushMoveStartX",r.pageX),function(){v&&_()&&v(b)})}},{key:"handleTravellerMoveKeyboard",value:function(r,s){var a=this,o=this.state,l=o.scaleValues,c=o.startX,u=o.endX,d=this.state[s],h=l.indexOf(d);if(h!==-1){var f=h+r;if(!(f===-1||f>=l.length)){var A=l[f];s==="startX"&&A>=u||s==="endX"&&A<=c||this.setState(Cc({},s,A),function(){a.props.onChange(a.getIndex({startX:a.state.startX,endX:a.state.endX}))})}}}},{key:"renderBackground",value:function(){var r=this.props,s=r.x,a=r.y,o=r.width,l=r.height,c=r.fill,u=r.stroke;return pe.createElement("rect",{stroke:u,fill:c,x:s,y:a,width:o,height:l})}},{key:"renderPanorama",value:function(){var r=this.props,s=r.x,a=r.y,o=r.width,l=r.height,c=r.data,u=r.children,d=r.padding,h=E.Children.only(u);return h?pe.cloneElement(h,{x:s,y:a,width:o,height:l,margin:d,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(r,s){var a,o,l=this,c=this.props,u=c.y,d=c.travellerWidth,h=c.height,f=c.traveller,A=c.ariaLabel,v=c.data,p=c.startIndex,m=c.endIndex,g=Math.max(r,this.props.x),x=XM(XM({},Yt(this.props,!1)),{},{x:g,y:u,width:d,height:h}),b=A||"Min value: ".concat((a=v[p])===null||a===void 0?void 0:a.name,", Max value: ").concat((o=v[m])===null||o===void 0?void 0:o.name);return pe.createElement(Rn,{tabIndex:0,role:"slider","aria-label":b,"aria-valuenow":r,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[s],onTouchStart:this.travellerDragStartHandlers[s],onKeyDown:function(N){["ArrowLeft","ArrowRight"].includes(N.key)&&(N.preventDefault(),N.stopPropagation(),l.handleTravellerMoveKeyboard(N.key==="ArrowRight"?1:-1,s))},onFocus:function(){l.setState({isTravellerFocused:!0})},onBlur:function(){l.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(f,x))}},{key:"renderSlide",value:function(r,s){var a=this.props,o=a.y,l=a.height,c=a.stroke,u=a.travellerWidth,d=Math.min(r,s)+u,h=Math.max(Math.abs(s-r)-u,0);return pe.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:d,y:o,width:h,height:l})}},{key:"renderText",value:function(){var r=this.props,s=r.startIndex,a=r.endIndex,o=r.y,l=r.height,c=r.travellerWidth,u=r.stroke,d=this.state,h=d.startX,f=d.endX,A=5,v={pointerEvents:"none",fill:u};return pe.createElement(Rn,{className:"recharts-brush-texts"},pe.createElement(py,Y3({textAnchor:"end",verticalAnchor:"middle",x:Math.min(h,f)-A,y:o+l/2},v),this.getTextOfTick(s)),pe.createElement(py,Y3({textAnchor:"start",verticalAnchor:"middle",x:Math.max(h,f)+c+A,y:o+l/2},v),this.getTextOfTick(a)))}},{key:"render",value:function(){var r=this.props,s=r.data,a=r.className,o=r.children,l=r.x,c=r.y,u=r.width,d=r.height,h=r.alwaysShowText,f=this.state,A=f.startX,v=f.endX,p=f.isTextActive,m=f.isSlideMoving,g=f.isTravellerMoving,x=f.isTravellerFocused;if(!s||!s.length||!Tt(l)||!Tt(c)||!Tt(u)||!Tt(d)||u<=0||d<=0)return null;var b=Dn("recharts-brush",a),j=pe.Children.count(o)===1,N=$Ye("userSelect","none");return pe.createElement(Rn,{className:b,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:N},this.renderBackground(),j&&this.renderPanorama(),this.renderSlide(A,v),this.renderTravellerLayer(A,"startX"),this.renderTravellerLayer(v,"endX"),(p||m||g||x||h)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(r){var s=r.x,a=r.y,o=r.width,l=r.height,c=r.stroke,u=Math.floor(a+l/2)-1;return pe.createElement(pe.Fragment,null,pe.createElement("rect",{x:s,y:a,width:o,height:l,fill:c,stroke:"none"}),pe.createElement("line",{x1:s+1,y1:u,x2:s+o-1,y2:u,fill:"none",stroke:"#fff"}),pe.createElement("line",{x1:s+1,y1:u+2,x2:s+o-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(r,s){var a;return pe.isValidElement(r)?a=pe.cloneElement(r,s):gn(r)?a=r(s):a=e.renderDefaultTraveller(s),a}},{key:"getDerivedStateFromProps",value:function(r,s){var a=r.data,o=r.width,l=r.x,c=r.travellerWidth,u=r.updateId,d=r.startIndex,h=r.endIndex;if(a!==s.prevData||u!==s.prevUpdateId)return XM({prevData:a,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:o},a&&a.length?JYe({data:a,width:o,x:l,travellerWidth:c,startIndex:d,endIndex:h}):{scale:null,scaleValues:null});if(s.scale&&(o!==s.prevWidth||l!==s.prevX||c!==s.prevTravellerWidth)){s.scale.range([l,l+o-c]);var f=s.scale.domain().map(function(A){return s.scale(A)});return{prevData:a,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:o,startX:s.scale(r.startIndex),endX:s.scale(r.endIndex),scaleValues:f}}return null}},{key:"getIndexInRange",value:function(r,s){for(var a=r.length,o=0,l=a-1;l-o>1;){var c=Math.floor((o+l)/2);r[c]>s?l=c:o=c}return s>=r[l]?l:o}}])}(E.PureComponent);Cc(d2,"displayName","Brush");Cc(d2,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var YM,qse;function ZYe(){if(qse)return YM;qse=1;var t=IW();function e(n,r){var s;return t(n,function(a,o,l){return s=r(a,o,l),!s}),!!s}return YM=e,YM}var JM,Vse;function eJe(){if(Vse)return JM;Vse=1;var t=Fve(),e=Rf(),n=ZYe(),r=hc(),s=jF();function a(o,l,c){var u=r(o)?t:n;return c&&s(o,l,c)&&(l=void 0),u(o,e(l,3))}return JM=a,JM}var tJe=eJe();const nJe=wr(tJe);var kf=function(e,n){var r=e.alwaysShow,s=e.ifOverflow;return r&&(s="extendDomain"),s===n},ZM,Kse;function rJe(){if(Kse)return ZM;Kse=1;var t=Yve();function e(n,r,s){r=="__proto__"&&t?t(n,r,{configurable:!0,enumerable:!0,value:s,writable:!0}):n[r]=s}return ZM=e,ZM}var eL,Gse;function iJe(){if(Gse)return eL;Gse=1;var t=rJe(),e=Gve(),n=Rf();function r(s,a){var o={};return a=n(a,3),e(s,function(l,c,u){t(o,c,a(l,c,u))}),o}return eL=r,eL}var sJe=iJe();const aJe=wr(sJe);var tL,Xse;function oJe(){if(Xse)return tL;Xse=1;function t(e,n){for(var r=-1,s=e==null?0:e.length;++r<s;)if(!n(e[r],r,e))return!1;return!0}return tL=t,tL}var nL,Yse;function lJe(){if(Yse)return nL;Yse=1;var t=IW();function e(n,r){var s=!0;return t(n,function(a,o,l){return s=!!r(a,o,l),s}),s}return nL=e,nL}var rL,Jse;function cJe(){if(Jse)return rL;Jse=1;var t=oJe(),e=lJe(),n=Rf(),r=hc(),s=jF();function a(o,l,c){var u=r(o)?t:e;return c&&s(o,l,c)&&(l=void 0),u(o,n(l,3))}return rL=a,rL}var uJe=cJe();const Wye=wr(uJe);var dJe=["x","y"];function N5(t){"@babel/helpers - typeof";return N5=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},N5(t)}function CQ(){return CQ=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},CQ.apply(this,arguments)}function Zse(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function sN(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Zse(Object(n),!0).forEach(function(r){hJe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Zse(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function hJe(t,e,n){return e=fJe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function fJe(t){var e=AJe(t,"string");return N5(e)=="symbol"?e:e+""}function AJe(t,e){if(N5(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(N5(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function pJe(t,e){if(t==null)return{};var n=mJe(t,e),r,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(s=0;s<a.length;s++)r=a[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function mJe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function gJe(t,e){var n=t.x,r=t.y,s=pJe(t,dJe),a="".concat(n),o=parseInt(a,10),l="".concat(r),c=parseInt(l,10),u="".concat(e.height||s.height),d=parseInt(u,10),h="".concat(e.width||s.width),f=parseInt(h,10);return sN(sN(sN(sN(sN({},e),s),o?{x:o}:{}),c?{y:c}:{}),{},{height:d,width:f,name:e.name,radius:e.radius})}function eae(t){return pe.createElement(q3,CQ({shapeType:"rectangle",propTransformer:gJe,activeClassName:"recharts-active-bar"},t))}var xJe=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(r,s){if(typeof e=="number")return e;var a=typeof r=="number";return a?e(r,s):(a||xy(),n)}},vJe=["value","background"],qye;function h2(t){"@babel/helpers - typeof";return h2=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},h2(t)}function yJe(t,e){if(t==null)return{};var n=bJe(t,e),r,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(s=0;s<a.length;s++)r=a[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function bJe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Z3(){return Z3=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Z3.apply(this,arguments)}function tae(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function Vs(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?tae(Object(n),!0).forEach(function(r){Ig(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):tae(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function wJe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function nae(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Kye(r.key),r)}}function jJe(t,e,n){return e&&nae(t.prototype,e),n&&nae(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function NJe(t,e,n){return e=eT(e),_Je(t,Vye()?Reflect.construct(e,n||[],eT(t).constructor):e.apply(t,n))}function _Je(t,e){if(e&&(h2(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return CJe(t)}function CJe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Vye(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Vye=function(){return!!t})()}function eT(t){return eT=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},eT(t)}function SJe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&SQ(t,e)}function SQ(t,e){return SQ=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},SQ(t,e)}function Ig(t,e,n){return e=Kye(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Kye(t){var e=EJe(t,"string");return h2(e)=="symbol"?e:e+""}function EJe(t,e){if(h2(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(h2(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Ys=function(t){function e(){var n;wJe(this,e);for(var r=arguments.length,s=new Array(r),a=0;a<r;a++)s[a]=arguments[a];return n=NJe(this,e,[].concat(s)),Ig(n,"state",{isAnimationFinished:!1}),Ig(n,"id",wx("recharts-bar-")),Ig(n,"handleAnimationEnd",function(){var o=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),o&&o()}),Ig(n,"handleAnimationStart",function(){var o=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),o&&o()}),n}return SJe(e,t),jJe(e,[{key:"renderRectanglesStatically",value:function(r){var s=this,a=this.props,o=a.shape,l=a.dataKey,c=a.activeIndex,u=a.activeBar,d=Yt(this.props,!1);return r&&r.map(function(h,f){var A=f===c,v=A?u:o,p=Vs(Vs(Vs({},d),h),{},{isActive:A,option:v,index:f,dataKey:l,onAnimationStart:s.handleAnimationStart,onAnimationEnd:s.handleAnimationEnd});return pe.createElement(Rn,Z3({className:"recharts-bar-rectangle"},ax(s.props,h,f),{key:"rectangle-".concat(h==null?void 0:h.x,"-").concat(h==null?void 0:h.y,"-").concat(h==null?void 0:h.value,"-").concat(f)}),pe.createElement(eae,p))})}},{key:"renderRectanglesWithAnimation",value:function(){var r=this,s=this.props,a=s.data,o=s.layout,l=s.isAnimationActive,c=s.animationBegin,u=s.animationDuration,d=s.animationEasing,h=s.animationId,f=this.state.prevData;return pe.createElement(Yc,{begin:c,duration:u,isActive:l,easing:d,from:{t:0},to:{t:1},key:"bar-".concat(h),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(A){var v=A.t,p=a.map(function(m,g){var x=f&&f[g];if(x){var b=mi(x.x,m.x),j=mi(x.y,m.y),N=mi(x.width,m.width),_=mi(x.height,m.height);return Vs(Vs({},m),{},{x:b(v),y:j(v),width:N(v),height:_(v)})}if(o==="horizontal"){var C=mi(0,m.height),k=C(v);return Vs(Vs({},m),{},{y:m.y+m.height-k,height:k})}var T=mi(0,m.width),O=T(v);return Vs(Vs({},m),{},{width:O})});return pe.createElement(Rn,null,r.renderRectanglesStatically(p))})}},{key:"renderRectangles",value:function(){var r=this.props,s=r.data,a=r.isAnimationActive,o=this.state.prevData;return a&&s&&s.length&&(!o||!Pp(o,s))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(s)}},{key:"renderBackground",value:function(){var r=this,s=this.props,a=s.data,o=s.dataKey,l=s.activeIndex,c=Yt(this.props.background,!1);return a.map(function(u,d){u.value;var h=u.background,f=yJe(u,vJe);if(!h)return null;var A=Vs(Vs(Vs(Vs(Vs({},f),{},{fill:"#eee"},h),c),ax(r.props,u,d)),{},{onAnimationStart:r.handleAnimationStart,onAnimationEnd:r.handleAnimationEnd,dataKey:o,index:d,className:"recharts-bar-background-rectangle"});return pe.createElement(eae,Z3({key:"background-bar-".concat(d),option:r.props.background,isActive:d===l},A))})}},{key:"renderErrorBar",value:function(r,s){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,o=a.data,l=a.xAxis,c=a.yAxis,u=a.layout,d=a.children,h=Bl(d,aj);if(!h)return null;var f=u==="vertical"?o[0].height/2:o[0].width/2,A=function(m,g){var x=Array.isArray(m.value)?m.value[1]:m.value;return{x:m.x,y:m.y,value:x,errorVal:gi(m,g)}},v={clipPath:r?"url(#clipPath-".concat(s,")"):null};return pe.createElement(Rn,v,h.map(function(p){return pe.cloneElement(p,{key:"error-bar-".concat(s,"-").concat(p.props.dataKey),data:o,xAxis:l,yAxis:c,layout:u,offset:f,dataPointFormatter:A})}))}},{key:"render",value:function(){var r=this.props,s=r.hide,a=r.data,o=r.className,l=r.xAxis,c=r.yAxis,u=r.left,d=r.top,h=r.width,f=r.height,A=r.isAnimationActive,v=r.background,p=r.id;if(s||!a||!a.length)return null;var m=this.state.isAnimationFinished,g=Dn("recharts-bar",o),x=l&&l.allowDataOverflow,b=c&&c.allowDataOverflow,j=x||b,N=vn(p)?this.id:p;return pe.createElement(Rn,{className:g},x||b?pe.createElement("defs",null,pe.createElement("clipPath",{id:"clipPath-".concat(N)},pe.createElement("rect",{x:x?u:u-h/2,y:b?d:d-f/2,width:x?h:h*2,height:b?f:f*2}))):null,pe.createElement(Rn,{className:"recharts-bar-rectangles",clipPath:j?"url(#clipPath-".concat(N,")"):null},v?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(j,N),(!A||m)&&Vu.renderCallByParent(this.props,a))}}],[{key:"getDerivedStateFromProps",value:function(r,s){return r.animationId!==s.prevAnimationId?{prevAnimationId:r.animationId,curData:r.data,prevData:s.curData}:r.data!==s.curData?{curData:r.data}:null}}])}(E.PureComponent);qye=Ys;Ig(Ys,"displayName","Bar");Ig(Ys,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Qf.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Ig(Ys,"getComposedData",function(t){var e=t.props,n=t.item,r=t.barPosition,s=t.bandSize,a=t.xAxis,o=t.yAxis,l=t.xAxisTicks,c=t.yAxisTicks,u=t.stackedData,d=t.dataStartIndex,h=t.displayedData,f=t.offset,A=Mqe(r,n);if(!A)return null;var v=e.layout,p=n.type.defaultProps,m=p!==void 0?Vs(Vs({},p),n.props):n.props,g=m.dataKey,x=m.children,b=m.minPointSize,j=v==="horizontal"?o:a,N=u?j.scale.domain():null,_=Wqe({numericAxis:j}),C=Bl(x,jx),k=h.map(function(T,O){var I,F,M,S,q,U;u?I=Lqe(u[d+O],N):(I=gi(T,g),Array.isArray(I)||(I=[_,I]));var L=xJe(b,qye.defaultProps.minPointSize)(I[1],O);if(v==="horizontal"){var z,$=[o.scale(I[0]),o.scale(I[1])],K=$[0],V=$[1];F=Cie({axis:a,ticks:l,bandSize:s,offset:A.offset,entry:T,index:O}),M=(z=V??K)!==null&&z!==void 0?z:void 0,S=A.size;var H=K-V;if(q=Number.isNaN(H)?0:H,U={x:F,y:o.y,width:S,height:o.height},Math.abs(L)>0&&Math.abs(q)<Math.abs(L)){var W=_l(q||L)*(Math.abs(L)-Math.abs(q));M-=W,q+=W}}else{var Y=[a.scale(I[0]),a.scale(I[1])],ee=Y[0],ie=Y[1];if(F=ee,M=Cie({axis:o,ticks:c,bandSize:s,offset:A.offset,entry:T,index:O}),S=ie-ee,q=A.size,U={x:a.x,y:M,width:a.width,height:q},Math.abs(L)>0&&Math.abs(S)<Math.abs(L)){var se=_l(S||L)*(Math.abs(L)-Math.abs(S));S+=se}}return Vs(Vs(Vs({},T),{},{x:F,y:M,width:S,height:q,value:u?I:I[1],payload:T,background:U},C&&C[O]&&C[O].props),{},{tooltipPayload:[mye(n,T)],tooltipPosition:{x:F+S/2,y:M+q/2}})});return Vs({data:k,layout:v},f)});function _5(t){"@babel/helpers - typeof";return _5=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_5(t)}function BJe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function rae(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Gye(r.key),r)}}function DJe(t,e,n){return e&&rae(t.prototype,e),n&&rae(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function iae(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function Jd(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?iae(Object(n),!0).forEach(function(r){MF(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):iae(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function MF(t,e,n){return e=Gye(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Gye(t){var e=TJe(t,"string");return _5(e)=="symbol"?e:e+""}function TJe(t,e){if(_5(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(_5(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var qS=function(e,n,r,s,a){var o=e.width,l=e.height,c=e.layout,u=e.children,d=Object.keys(n),h={left:r.left,leftMirror:r.left,right:o-r.right,rightMirror:o-r.right,top:r.top,topMirror:r.top,bottom:l-r.bottom,bottomMirror:l-r.bottom},f=!!Rc(u,Ys);return d.reduce(function(A,v){var p=n[v],m=p.orientation,g=p.domain,x=p.padding,b=x===void 0?{}:x,j=p.mirror,N=p.reversed,_="".concat(m).concat(j?"Mirror":""),C,k,T,O,I;if(p.type==="number"&&(p.padding==="gap"||p.padding==="no-gap")){var F=g[1]-g[0],M=1/0,S=p.categoricalDomain.sort(yRe);if(S.forEach(function(Y,ee){ee>0&&(M=Math.min((Y||0)-(S[ee-1]||0),M))}),Number.isFinite(M)){var q=M/F,U=p.layout==="vertical"?r.height:r.width;if(p.padding==="gap"&&(C=q*U/2),p.padding==="no-gap"){var L=Cl(e.barCategoryGap,q*U),z=q*U/2;C=z-L-(z-L)/U*L}}}s==="xAxis"?k=[r.left+(b.left||0)+(C||0),r.left+r.width-(b.right||0)-(C||0)]:s==="yAxis"?k=c==="horizontal"?[r.top+r.height-(b.bottom||0),r.top+(b.top||0)]:[r.top+(b.top||0)+(C||0),r.top+r.height-(b.bottom||0)-(C||0)]:k=p.range,N&&(k=[k[1],k[0]]);var $=hye(p,a,f),K=$.scale,V=$.realScaleType;K.domain(g).range(k),fye(K);var H=Aye(K,Jd(Jd({},p),{},{realScaleType:V}));s==="xAxis"?(I=m==="top"&&!j||m==="bottom"&&j,T=r.left,O=h[_]-I*p.height):s==="yAxis"&&(I=m==="left"&&!j||m==="right"&&j,T=h[_]-I*p.width,O=r.top);var W=Jd(Jd(Jd({},p),H),{},{realScaleType:V,x:T,y:O,scale:K,width:s==="xAxis"?r.width:p.width,height:s==="yAxis"?r.height:p.height});return W.bandSize=U3(W,H),!p.hide&&s==="xAxis"?h[_]+=(I?-1:1)*W.height:p.hide||(h[_]+=(I?-1:1)*W.width),Jd(Jd({},A),{},MF({},v,W))},{})},Xye=function(e,n){var r=e.x,s=e.y,a=n.x,o=n.y;return{x:Math.min(r,a),y:Math.min(s,o),width:Math.abs(a-r),height:Math.abs(o-s)}},kJe=function(e){var n=e.x1,r=e.y1,s=e.x2,a=e.y2;return Xye({x:n,y:r},{x:s,y:a})},Yye=function(){function t(e){BJe(this,t),this.scale=e}return DJe(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=r.bandAware,a=r.position;if(n!==void 0){if(a)switch(a){case"start":return this.scale(n);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+o}case"end":{var l=this.bandwidth?this.bandwidth():0;return this.scale(n)+l}default:return this.scale(n)}if(s){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+c}return this.scale(n)}}},{key:"isInRange",value:function(n){var r=this.range(),s=r[0],a=r[r.length-1];return s<=a?n>=s&&n<=a:n>=a&&n<=s}}],[{key:"create",value:function(n){return new t(n)}}])}();MF(Yye,"EPS",1e-4);var dq=function(e){var n=Object.keys(e).reduce(function(r,s){return Jd(Jd({},r),{},MF({},s,Yye.create(e[s])))},{});return Jd(Jd({},n),{},{apply:function(s){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=a.bandAware,l=a.position;return aJe(s,function(c,u){return n[u].apply(c,{bandAware:o,position:l})})},isInRange:function(s){return Wye(s,function(a,o){return n[o].isInRange(a)})}})};function FJe(t){return(t%180+180)%180}var PJe=function(e){var n=e.width,r=e.height,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=FJe(s),o=a*Math.PI/180,l=Math.atan(r/n),c=o>l&&o<Math.PI-l?r/Math.sin(o):n/Math.cos(o);return Math.abs(c)},iL,sae;function UJe(){if(sae)return iL;sae=1;var t=Rf(),e=RS(),n=bF();function r(s){return function(a,o,l){var c=Object(a);if(!e(a)){var u=t(o,3);a=n(a),o=function(h){return u(c[h],h,c)}}var d=s(a,o,l);return d>-1?c[u?a[d]:d]:void 0}}return iL=r,iL}var sL,aae;function IJe(){if(aae)return sL;aae=1;var t=Qye();function e(n){var r=t(n),s=r%1;return r===r?s?r-s:r:0}return sL=e,sL}var aL,oae;function OJe(){if(oae)return aL;oae=1;var t=$ve(),e=Rf(),n=IJe(),r=Math.max;function s(a,o,l){var c=a==null?0:a.length;if(!c)return-1;var u=l==null?0:n(l);return u<0&&(u=r(c+u,0)),t(a,e(o,3),u)}return aL=s,aL}var oL,lae;function MJe(){if(lae)return oL;lae=1;var t=UJe(),e=OJe(),n=t(e);return oL=n,oL}var LJe=MJe();const RJe=wr(LJe);var QJe=sve();const HJe=wr(QJe);var zJe=HJe(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),hq=E.createContext(void 0),fq=E.createContext(void 0),Jye=E.createContext(void 0),Zye=E.createContext({}),ebe=E.createContext(void 0),tbe=E.createContext(0),nbe=E.createContext(0),cae=function(e){var n=e.state,r=n.xAxisMap,s=n.yAxisMap,a=n.offset,o=e.clipPathId,l=e.children,c=e.width,u=e.height,d=zJe(a);return pe.createElement(hq.Provider,{value:r},pe.createElement(fq.Provider,{value:s},pe.createElement(Zye.Provider,{value:a},pe.createElement(Jye.Provider,{value:d},pe.createElement(ebe.Provider,{value:o},pe.createElement(tbe.Provider,{value:u},pe.createElement(nbe.Provider,{value:c},l)))))))},$Je=function(){return E.useContext(ebe)},rbe=function(e){var n=E.useContext(hq);n==null&&xy();var r=n[e];return r==null&&xy(),r},WJe=function(){var e=E.useContext(hq);return tg(e)},qJe=function(){var e=E.useContext(fq),n=RJe(e,function(r){return Wye(r.domain,Number.isFinite)});return n||tg(e)},ibe=function(e){var n=E.useContext(fq);n==null&&xy();var r=n[e];return r==null&&xy(),r},VJe=function(){var e=E.useContext(Jye);return e},KJe=function(){return E.useContext(Zye)},Aq=function(){return E.useContext(nbe)},pq=function(){return E.useContext(tbe)};function f2(t){"@babel/helpers - typeof";return f2=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},f2(t)}function GJe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function XJe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,abe(r.key),r)}}function YJe(t,e,n){return e&&XJe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function JJe(t,e,n){return e=tT(e),ZJe(t,sbe()?Reflect.construct(e,n||[],tT(t).constructor):e.apply(t,n))}function ZJe(t,e){if(e&&(f2(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return eZe(t)}function eZe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function sbe(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(sbe=function(){return!!t})()}function tT(t){return tT=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},tT(t)}function tZe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&EQ(t,e)}function EQ(t,e){return EQ=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},EQ(t,e)}function uae(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function dae(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?uae(Object(n),!0).forEach(function(r){mq(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):uae(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function mq(t,e,n){return e=abe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function abe(t){var e=nZe(t,"string");return f2(e)=="symbol"?e:e+""}function nZe(t,e){if(f2(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(f2(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function rZe(t,e){return oZe(t)||aZe(t,e)||sZe(t,e)||iZe()}function iZe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function sZe(t,e){if(t){if(typeof t=="string")return hae(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return hae(t,e)}}function hae(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function aZe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,s,a,o,l=[],c=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function oZe(t){if(Array.isArray(t))return t}function BQ(){return BQ=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},BQ.apply(this,arguments)}var lZe=function(e,n){var r;return pe.isValidElement(e)?r=pe.cloneElement(e,n):gn(e)?r=e(n):r=pe.createElement("line",BQ({},n,{className:"recharts-reference-line-line"})),r},cZe=function(e,n,r,s,a,o,l,c,u){var d=a.x,h=a.y,f=a.width,A=a.height;if(r){var v=u.y,p=e.y.apply(v,{position:o});if(kf(u,"discard")&&!e.y.isInRange(p))return null;var m=[{x:d+f,y:p},{x:d,y:p}];return c==="left"?m.reverse():m}if(n){var g=u.x,x=e.x.apply(g,{position:o});if(kf(u,"discard")&&!e.x.isInRange(x))return null;var b=[{x,y:h+A},{x,y:h}];return l==="top"?b.reverse():b}if(s){var j=u.segment,N=j.map(function(_){return e.apply(_,{position:o})});return kf(u,"discard")&&nJe(N,function(_){return!e.isInRange(_)})?null:N}return null};function uZe(t){var e=t.x,n=t.y,r=t.segment,s=t.xAxisId,a=t.yAxisId,o=t.shape,l=t.className,c=t.alwaysShow,u=$Je(),d=rbe(s),h=ibe(a),f=VJe();if(!u||!f)return null;ah(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var A=dq({x:d.scale,y:h.scale}),v=pa(e),p=pa(n),m=r&&r.length===2,g=cZe(A,v,p,m,f,t.position,d.orientation,h.orientation,t);if(!g)return null;var x=rZe(g,2),b=x[0],j=b.x,N=b.y,_=x[1],C=_.x,k=_.y,T=kf(t,"hidden")?"url(#".concat(u,")"):void 0,O=dae(dae({clipPath:T},Yt(t,!0)),{},{x1:j,y1:N,x2:C,y2:k});return pe.createElement(Rn,{className:Dn("recharts-reference-line",l)},lZe(o,O),Qa.renderCallByParent(t,kJe({x1:j,y1:N,x2:C,y2:k})))}var LF=function(t){function e(){return GJe(this,e),JJe(this,e,arguments)}return tZe(e,t),YJe(e,[{key:"render",value:function(){return pe.createElement(uZe,this.props)}}])}(pe.Component);mq(LF,"displayName","ReferenceLine");mq(LF,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function DQ(){return DQ=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},DQ.apply(this,arguments)}function A2(t){"@babel/helpers - typeof";return A2=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},A2(t)}function fae(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function Aae(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?fae(Object(n),!0).forEach(function(r){RF(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):fae(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function dZe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function hZe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,lbe(r.key),r)}}function fZe(t,e,n){return e&&hZe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function AZe(t,e,n){return e=nT(e),pZe(t,obe()?Reflect.construct(e,n||[],nT(t).constructor):e.apply(t,n))}function pZe(t,e){if(e&&(A2(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return mZe(t)}function mZe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function obe(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(obe=function(){return!!t})()}function nT(t){return nT=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},nT(t)}function gZe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&TQ(t,e)}function TQ(t,e){return TQ=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},TQ(t,e)}function RF(t,e,n){return e=lbe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function lbe(t){var e=xZe(t,"string");return A2(e)=="symbol"?e:e+""}function xZe(t,e){if(A2(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(A2(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var vZe=function(e){var n=e.x,r=e.y,s=e.xAxis,a=e.yAxis,o=dq({x:s.scale,y:a.scale}),l=o.apply({x:n,y:r},{bandAware:!0});return kf(e,"discard")&&!o.isInRange(l)?null:l},QF=function(t){function e(){return dZe(this,e),AZe(this,e,arguments)}return gZe(e,t),fZe(e,[{key:"render",value:function(){var r=this.props,s=r.x,a=r.y,o=r.r,l=r.alwaysShow,c=r.clipPathId,u=pa(s),d=pa(a);if(ah(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!d)return null;var h=vZe(this.props);if(!h)return null;var f=h.x,A=h.y,v=this.props,p=v.shape,m=v.className,g=kf(this.props,"hidden")?"url(#".concat(c,")"):void 0,x=Aae(Aae({clipPath:g},Yt(this.props,!0)),{},{cx:f,cy:A});return pe.createElement(Rn,{className:Dn("recharts-reference-dot",m)},e.renderDot(p,x),Qa.renderCallByParent(this.props,{x:f-o,y:A-o,width:2*o,height:2*o}))}}])}(pe.Component);RF(QF,"displayName","ReferenceDot");RF(QF,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});RF(QF,"renderDot",function(t,e){var n;return pe.isValidElement(t)?n=pe.cloneElement(t,e):gn(t)?n=t(e):n=pe.createElement(oj,DQ({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),n});function kQ(){return kQ=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},kQ.apply(this,arguments)}function p2(t){"@babel/helpers - typeof";return p2=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},p2(t)}function pae(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function mae(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?pae(Object(n),!0).forEach(function(r){HF(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):pae(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function yZe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function bZe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,ube(r.key),r)}}function wZe(t,e,n){return e&&bZe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function jZe(t,e,n){return e=rT(e),NZe(t,cbe()?Reflect.construct(e,n||[],rT(t).constructor):e.apply(t,n))}function NZe(t,e){if(e&&(p2(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _Ze(t)}function _Ze(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function cbe(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(cbe=function(){return!!t})()}function rT(t){return rT=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},rT(t)}function CZe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&FQ(t,e)}function FQ(t,e){return FQ=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},FQ(t,e)}function HF(t,e,n){return e=ube(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ube(t){var e=SZe(t,"string");return p2(e)=="symbol"?e:e+""}function SZe(t,e){if(p2(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(p2(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var EZe=function(e,n,r,s,a){var o=a.x1,l=a.x2,c=a.y1,u=a.y2,d=a.xAxis,h=a.yAxis;if(!d||!h)return null;var f=dq({x:d.scale,y:h.scale}),A={x:e?f.x.apply(o,{position:"start"}):f.x.rangeMin,y:r?f.y.apply(c,{position:"start"}):f.y.rangeMin},v={x:n?f.x.apply(l,{position:"end"}):f.x.rangeMax,y:s?f.y.apply(u,{position:"end"}):f.y.rangeMax};return kf(a,"discard")&&(!f.isInRange(A)||!f.isInRange(v))?null:Xye(A,v)},zF=function(t){function e(){return yZe(this,e),jZe(this,e,arguments)}return CZe(e,t),wZe(e,[{key:"render",value:function(){var r=this.props,s=r.x1,a=r.x2,o=r.y1,l=r.y2,c=r.className,u=r.alwaysShow,d=r.clipPathId;ah(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var h=pa(s),f=pa(a),A=pa(o),v=pa(l),p=this.props.shape;if(!h&&!f&&!A&&!v&&!p)return null;var m=EZe(h,f,A,v,this.props);if(!m&&!p)return null;var g=kf(this.props,"hidden")?"url(#".concat(d,")"):void 0;return pe.createElement(Rn,{className:Dn("recharts-reference-area",c)},e.renderRect(p,mae(mae({clipPath:g},Yt(this.props,!0)),m)),Qa.renderCallByParent(this.props,m))}}])}(pe.Component);HF(zF,"displayName","ReferenceArea");HF(zF,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});HF(zF,"renderRect",function(t,e){var n;return pe.isValidElement(t)?n=pe.cloneElement(t,e):gn(t)?n=t(e):n=pe.createElement(uq,kQ({},e,{className:"recharts-reference-area-rect"})),n});function dbe(t,e,n){if(e<1)return[];if(e===1&&n===void 0)return t;for(var r=[],s=0;s<t.length;s+=e)r.push(t[s]);return r}function BZe(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return PJe(r,n)}function DZe(t,e,n){var r=n==="width",s=t.x,a=t.y,o=t.width,l=t.height;return e===1?{start:r?s:a,end:r?s+o:a+l}:{start:r?s+o:a+l,end:r?s:a}}function iT(t,e,n,r,s){if(t*e<t*r||t*e>t*s)return!1;var a=n();return t*(e-t*a/2-r)>=0&&t*(e+t*a/2-s)<=0}function TZe(t,e){return dbe(t,e+1)}function kZe(t,e,n,r,s){for(var a=(r||[]).slice(),o=e.start,l=e.end,c=0,u=1,d=o,h=function(){var v=r==null?void 0:r[c];if(v===void 0)return{v:dbe(r,u)};var p=c,m,g=function(){return m===void 0&&(m=n(v,p)),m},x=v.coordinate,b=c===0||iT(t,x,g,d,l);b||(c=0,d=o,u+=1),b&&(d=x+t*(g()/2+s),c+=u)},f;u<=a.length;)if(f=h(),f)return f.v;return[]}function C5(t){"@babel/helpers - typeof";return C5=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},C5(t)}function gae(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function Ro(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?gae(Object(n),!0).forEach(function(r){FZe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gae(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function FZe(t,e,n){return e=PZe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function PZe(t){var e=UZe(t,"string");return C5(e)=="symbol"?e:e+""}function UZe(t,e){if(C5(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(C5(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function IZe(t,e,n,r,s){for(var a=(r||[]).slice(),o=a.length,l=e.start,c=e.end,u=function(f){var A=a[f],v,p=function(){return v===void 0&&(v=n(A,f)),v};if(f===o-1){var m=t*(A.coordinate+t*p()/2-c);a[f]=A=Ro(Ro({},A),{},{tickCoord:m>0?A.coordinate-m*t:A.coordinate})}else a[f]=A=Ro(Ro({},A),{},{tickCoord:A.coordinate});var g=iT(t,A.tickCoord,p,l,c);g&&(c=A.tickCoord-t*(p()/2+s),a[f]=Ro(Ro({},A),{},{isShow:!0}))},d=o-1;d>=0;d--)u(d);return a}function OZe(t,e,n,r,s,a){var o=(r||[]).slice(),l=o.length,c=e.start,u=e.end;if(a){var d=r[l-1],h=n(d,l-1),f=t*(d.coordinate+t*h/2-u);o[l-1]=d=Ro(Ro({},d),{},{tickCoord:f>0?d.coordinate-f*t:d.coordinate});var A=iT(t,d.tickCoord,function(){return h},c,u);A&&(u=d.tickCoord-t*(h/2+s),o[l-1]=Ro(Ro({},d),{},{isShow:!0}))}for(var v=a?l-1:l,p=function(x){var b=o[x],j,N=function(){return j===void 0&&(j=n(b,x)),j};if(x===0){var _=t*(b.coordinate-t*N()/2-c);o[x]=b=Ro(Ro({},b),{},{tickCoord:_<0?b.coordinate-_*t:b.coordinate})}else o[x]=b=Ro(Ro({},b),{},{tickCoord:b.coordinate});var C=iT(t,b.tickCoord,N,c,u);C&&(c=b.tickCoord+t*(N()/2+s),o[x]=Ro(Ro({},b),{},{isShow:!0}))},m=0;m<v;m++)p(m);return o}function gq(t,e,n){var r=t.tick,s=t.ticks,a=t.viewBox,o=t.minTickGap,l=t.orientation,c=t.interval,u=t.tickFormatter,d=t.unit,h=t.angle;if(!s||!s.length||!r)return[];if(Tt(c)||Qf.isSsr)return TZe(s,typeof c=="number"&&Tt(c)?c:0);var f=[],A=l==="top"||l==="bottom"?"width":"height",v=d&&A==="width"?i_(d,{fontSize:e,letterSpacing:n}):{width:0,height:0},p=function(b,j){var N=gn(u)?u(b.value,j):b.value;return A==="width"?BZe(i_(N,{fontSize:e,letterSpacing:n}),v,h):i_(N,{fontSize:e,letterSpacing:n})[A]},m=s.length>=2?_l(s[1].coordinate-s[0].coordinate):1,g=DZe(a,m,A);return c==="equidistantPreserveStart"?kZe(m,g,p,s,o):(c==="preserveStart"||c==="preserveStartEnd"?f=OZe(m,g,p,s,o,c==="preserveStartEnd"):f=IZe(m,g,p,s,o),f.filter(function(x){return x.isShow}))}var MZe=["viewBox"],LZe=["viewBox"],RZe=["ticks"];function m2(t){"@babel/helpers - typeof";return m2=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},m2(t)}function o1(){return o1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},o1.apply(this,arguments)}function xae(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function fl(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?xae(Object(n),!0).forEach(function(r){xq(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):xae(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function lL(t,e){if(t==null)return{};var n=QZe(t,e),r,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(s=0;s<a.length;s++)r=a[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function QZe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function HZe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function vae(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,fbe(r.key),r)}}function zZe(t,e,n){return e&&vae(t.prototype,e),n&&vae(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function $Ze(t,e,n){return e=sT(e),WZe(t,hbe()?Reflect.construct(e,n||[],sT(t).constructor):e.apply(t,n))}function WZe(t,e){if(e&&(m2(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return qZe(t)}function qZe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function hbe(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(hbe=function(){return!!t})()}function sT(t){return sT=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},sT(t)}function VZe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&PQ(t,e)}function PQ(t,e){return PQ=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},PQ(t,e)}function xq(t,e,n){return e=fbe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function fbe(t){var e=KZe(t,"string");return m2(e)=="symbol"?e:e+""}function KZe(t,e){if(m2(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(m2(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var lj=function(t){function e(n){var r;return HZe(this,e),r=$Ze(this,e,[n]),r.state={fontSize:"",letterSpacing:""},r}return VZe(e,t),zZe(e,[{key:"shouldComponentUpdate",value:function(r,s){var a=r.viewBox,o=lL(r,MZe),l=this.props,c=l.viewBox,u=lL(l,LZe);return!_1(a,c)||!_1(o,u)||!_1(s,this.state)}},{key:"componentDidMount",value:function(){var r=this.layerReference;if(r){var s=r.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];s&&this.setState({fontSize:window.getComputedStyle(s).fontSize,letterSpacing:window.getComputedStyle(s).letterSpacing})}}},{key:"getTickLineCoord",value:function(r){var s=this.props,a=s.x,o=s.y,l=s.width,c=s.height,u=s.orientation,d=s.tickSize,h=s.mirror,f=s.tickMargin,A,v,p,m,g,x,b=h?-1:1,j=r.tickSize||d,N=Tt(r.tickCoord)?r.tickCoord:r.coordinate;switch(u){case"top":A=v=r.coordinate,m=o+ +!h*c,p=m-b*j,x=p-b*f,g=N;break;case"left":p=m=r.coordinate,v=a+ +!h*l,A=v-b*j,g=A-b*f,x=N;break;case"right":p=m=r.coordinate,v=a+ +h*l,A=v+b*j,g=A+b*f,x=N;break;default:A=v=r.coordinate,m=o+ +h*c,p=m+b*j,x=p+b*f,g=N;break}return{line:{x1:A,y1:p,x2:v,y2:m},tick:{x:g,y:x}}}},{key:"getTickTextAnchor",value:function(){var r=this.props,s=r.orientation,a=r.mirror,o;switch(s){case"left":o=a?"start":"end";break;case"right":o=a?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var r=this.props,s=r.orientation,a=r.mirror,o="end";switch(s){case"left":case"right":o="middle";break;case"top":o=a?"start":"end";break;default:o=a?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var r=this.props,s=r.x,a=r.y,o=r.width,l=r.height,c=r.orientation,u=r.mirror,d=r.axisLine,h=fl(fl(fl({},Yt(this.props,!1)),Yt(d,!1)),{},{fill:"none"});if(c==="top"||c==="bottom"){var f=+(c==="top"&&!u||c==="bottom"&&u);h=fl(fl({},h),{},{x1:s,y1:a+f*l,x2:s+o,y2:a+f*l})}else{var A=+(c==="left"&&!u||c==="right"&&u);h=fl(fl({},h),{},{x1:s+A*o,y1:a,x2:s+A*o,y2:a+l})}return pe.createElement("line",o1({},h,{className:Dn("recharts-cartesian-axis-line",Kc(d,"className"))}))}},{key:"renderTicks",value:function(r,s,a){var o=this,l=this.props,c=l.tickLine,u=l.stroke,d=l.tick,h=l.tickFormatter,f=l.unit,A=gq(fl(fl({},this.props),{},{ticks:r}),s,a),v=this.getTickTextAnchor(),p=this.getTickVerticalAnchor(),m=Yt(this.props,!1),g=Yt(d,!1),x=fl(fl({},m),{},{fill:"none"},Yt(c,!1)),b=A.map(function(j,N){var _=o.getTickLineCoord(j),C=_.line,k=_.tick,T=fl(fl(fl(fl({textAnchor:v,verticalAnchor:p},m),{},{stroke:"none",fill:u},g),k),{},{index:N,payload:j,visibleTicksCount:A.length,tickFormatter:h});return pe.createElement(Rn,o1({className:"recharts-cartesian-axis-tick",key:"tick-".concat(j.value,"-").concat(j.coordinate,"-").concat(j.tickCoord)},ax(o.props,j,N)),c&&pe.createElement("line",o1({},x,C,{className:Dn("recharts-cartesian-axis-tick-line",Kc(c,"className"))})),d&&e.renderTickItem(d,T,"".concat(gn(h)?h(j.value,N):j.value).concat(f||"")))});return pe.createElement("g",{className:"recharts-cartesian-axis-ticks"},b)}},{key:"render",value:function(){var r=this,s=this.props,a=s.axisLine,o=s.width,l=s.height,c=s.ticksGenerator,u=s.className,d=s.hide;if(d)return null;var h=this.props,f=h.ticks,A=lL(h,RZe),v=f;return gn(c)&&(v=f&&f.length>0?c(this.props):c(A)),o<=0||l<=0||!v||!v.length?null:pe.createElement(Rn,{className:Dn("recharts-cartesian-axis",u),ref:function(m){r.layerReference=m}},a&&this.renderAxisLine(),this.renderTicks(v,this.state.fontSize,this.state.letterSpacing),Qa.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(r,s,a){var o;return pe.isValidElement(r)?o=pe.cloneElement(r,s):gn(r)?o=r(s):o=pe.createElement(py,o1({},s,{className:"recharts-cartesian-axis-tick-value"}),a),o}}])}(E.Component);xq(lj,"displayName","CartesianAxis");xq(lj,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var GZe=["x1","y1","x2","y2","key"],XZe=["offset"];function vy(t){"@babel/helpers - typeof";return vy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vy(t)}function yae(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function $o(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?yae(Object(n),!0).forEach(function(r){YZe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):yae(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function YZe(t,e,n){return e=JZe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function JZe(t){var e=ZZe(t,"string");return vy(e)=="symbol"?e:e+""}function ZZe(t,e){if(vy(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(vy(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Mv(){return Mv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Mv.apply(this,arguments)}function bae(t,e){if(t==null)return{};var n=eet(t,e),r,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(s=0;s<a.length;s++)r=a[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function eet(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var tet=function(e){var n=e.fill;if(!n||n==="none")return null;var r=e.fillOpacity,s=e.x,a=e.y,o=e.width,l=e.height,c=e.ry;return pe.createElement("rect",{x:s,y:a,ry:c,width:o,height:l,stroke:"none",fill:n,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function Abe(t,e){var n;if(pe.isValidElement(t))n=pe.cloneElement(t,e);else if(gn(t))n=t(e);else{var r=e.x1,s=e.y1,a=e.x2,o=e.y2,l=e.key,c=bae(e,GZe),u=Yt(c,!1);u.offset;var d=bae(u,XZe);n=pe.createElement("line",Mv({},d,{x1:r,y1:s,x2:a,y2:o,fill:"none",key:l}))}return n}function net(t){var e=t.x,n=t.width,r=t.horizontal,s=r===void 0?!0:r,a=t.horizontalPoints;if(!s||!a||!a.length)return null;var o=a.map(function(l,c){var u=$o($o({},t),{},{x1:e,y1:l,x2:e+n,y2:l,key:"line-".concat(c),index:c});return Abe(s,u)});return pe.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function ret(t){var e=t.y,n=t.height,r=t.vertical,s=r===void 0?!0:r,a=t.verticalPoints;if(!s||!a||!a.length)return null;var o=a.map(function(l,c){var u=$o($o({},t),{},{x1:l,y1:e,x2:l,y2:e+n,key:"line-".concat(c),index:c});return Abe(s,u)});return pe.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function iet(t){var e=t.horizontalFill,n=t.fillOpacity,r=t.x,s=t.y,a=t.width,o=t.height,l=t.horizontalPoints,c=t.horizontal,u=c===void 0?!0:c;if(!u||!e||!e.length)return null;var d=l.map(function(f){return Math.round(f+s-s)}).sort(function(f,A){return f-A});s!==d[0]&&d.unshift(0);var h=d.map(function(f,A){var v=!d[A+1],p=v?s+o-f:d[A+1]-f;if(p<=0)return null;var m=A%e.length;return pe.createElement("rect",{key:"react-".concat(A),y:f,x:r,height:p,width:a,stroke:"none",fill:e[m],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return pe.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},h)}function set(t){var e=t.vertical,n=e===void 0?!0:e,r=t.verticalFill,s=t.fillOpacity,a=t.x,o=t.y,l=t.width,c=t.height,u=t.verticalPoints;if(!n||!r||!r.length)return null;var d=u.map(function(f){return Math.round(f+a-a)}).sort(function(f,A){return f-A});a!==d[0]&&d.unshift(0);var h=d.map(function(f,A){var v=!d[A+1],p=v?a+l-f:d[A+1]-f;if(p<=0)return null;var m=A%r.length;return pe.createElement("rect",{key:"react-".concat(A),x:f,y:o,width:p,height:c,stroke:"none",fill:r[m],fillOpacity:s,className:"recharts-cartesian-grid-bg"})});return pe.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},h)}var aet=function(e,n){var r=e.xAxis,s=e.width,a=e.height,o=e.offset;return dye(gq($o($o($o({},lj.defaultProps),r),{},{ticks:Ap(r,!0),viewBox:{x:0,y:0,width:s,height:a}})),o.left,o.left+o.width,n)},oet=function(e,n){var r=e.yAxis,s=e.width,a=e.height,o=e.offset;return dye(gq($o($o($o({},lj.defaultProps),r),{},{ticks:Ap(r,!0),viewBox:{x:0,y:0,width:s,height:a}})),o.top,o.top+o.height,n)},_b={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function Hi(t){var e,n,r,s,a,o,l=Aq(),c=pq(),u=KJe(),d=$o($o({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:_b.stroke,fill:(n=t.fill)!==null&&n!==void 0?n:_b.fill,horizontal:(r=t.horizontal)!==null&&r!==void 0?r:_b.horizontal,horizontalFill:(s=t.horizontalFill)!==null&&s!==void 0?s:_b.horizontalFill,vertical:(a=t.vertical)!==null&&a!==void 0?a:_b.vertical,verticalFill:(o=t.verticalFill)!==null&&o!==void 0?o:_b.verticalFill,x:Tt(t.x)?t.x:u.left,y:Tt(t.y)?t.y:u.top,width:Tt(t.width)?t.width:u.width,height:Tt(t.height)?t.height:u.height}),h=d.x,f=d.y,A=d.width,v=d.height,p=d.syncWithTicks,m=d.horizontalValues,g=d.verticalValues,x=WJe(),b=qJe();if(!Tt(A)||A<=0||!Tt(v)||v<=0||!Tt(h)||h!==+h||!Tt(f)||f!==+f)return null;var j=d.verticalCoordinatesGenerator||aet,N=d.horizontalCoordinatesGenerator||oet,_=d.horizontalPoints,C=d.verticalPoints;if((!_||!_.length)&&gn(N)){var k=m&&m.length,T=N({yAxis:b?$o($o({},b),{},{ticks:k?m:b.ticks}):void 0,width:l,height:c,offset:u},k?!0:p);ah(Array.isArray(T),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(vy(T),"]")),Array.isArray(T)&&(_=T)}if((!C||!C.length)&&gn(j)){var O=g&&g.length,I=j({xAxis:x?$o($o({},x),{},{ticks:O?g:x.ticks}):void 0,width:l,height:c,offset:u},O?!0:p);ah(Array.isArray(I),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(vy(I),"]")),Array.isArray(I)&&(C=I)}return pe.createElement("g",{className:"recharts-cartesian-grid"},pe.createElement(tet,{fill:d.fill,fillOpacity:d.fillOpacity,x:d.x,y:d.y,width:d.width,height:d.height,ry:d.ry}),pe.createElement(net,Mv({},d,{offset:u,horizontalPoints:_,xAxis:x,yAxis:b})),pe.createElement(ret,Mv({},d,{offset:u,verticalPoints:C,xAxis:x,yAxis:b})),pe.createElement(iet,Mv({},d,{horizontalPoints:_})),pe.createElement(set,Mv({},d,{verticalPoints:C})))}Hi.displayName="CartesianGrid";var cet=["type","layout","connectNulls","ref"],uet=["key"];function g2(t){"@babel/helpers - typeof";return g2=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},g2(t)}function wae(t,e){if(t==null)return{};var n=det(t,e),r,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(s=0;s<a.length;s++)r=a[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function det(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function u_(){return u_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},u_.apply(this,arguments)}function jae(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function Nc(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?jae(Object(n),!0).forEach(function(r){Zd(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):jae(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Cb(t){return pet(t)||Aet(t)||fet(t)||het()}function het(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fet(t,e){if(t){if(typeof t=="string")return UQ(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return UQ(t,e)}}function Aet(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function pet(t){if(Array.isArray(t))return UQ(t)}function UQ(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function met(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Nae(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,mbe(r.key),r)}}function get(t,e,n){return e&&Nae(t.prototype,e),n&&Nae(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function xet(t,e,n){return e=aT(e),vet(t,pbe()?Reflect.construct(e,n||[],aT(t).constructor):e.apply(t,n))}function vet(t,e){if(e&&(g2(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return yet(t)}function yet(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function pbe(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(pbe=function(){return!!t})()}function aT(t){return aT=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},aT(t)}function bet(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&IQ(t,e)}function IQ(t,e){return IQ=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},IQ(t,e)}function Zd(t,e,n){return e=mbe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mbe(t){var e=wet(t,"string");return g2(e)=="symbol"?e:e+""}function wet(t,e){if(g2(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(g2(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Kr=function(t){function e(){var n;met(this,e);for(var r=arguments.length,s=new Array(r),a=0;a<r;a++)s[a]=arguments[a];return n=xet(this,e,[].concat(s)),Zd(n,"state",{isAnimationFinished:!0,totalLength:0}),Zd(n,"generateSimpleStrokeDasharray",function(o,l){return"".concat(l,"px ").concat(o-l,"px")}),Zd(n,"getStrokeDasharray",function(o,l,c){var u=c.reduce(function(g,x){return g+x});if(!u)return n.generateSimpleStrokeDasharray(l,o);for(var d=Math.floor(o/u),h=o%u,f=l-o,A=[],v=0,p=0;v<c.length;p+=c[v],++v)if(p+c[v]>h){A=[].concat(Cb(c.slice(0,v)),[h-p]);break}var m=A.length%2===0?[0,f]:[f];return[].concat(Cb(e.repeat(c,d)),Cb(A),m).map(function(g){return"".concat(g,"px")}).join(", ")}),Zd(n,"id",wx("recharts-line-")),Zd(n,"pathRef",function(o){n.mainCurve=o}),Zd(n,"handleAnimationEnd",function(){n.setState({isAnimationFinished:!0}),n.props.onAnimationEnd&&n.props.onAnimationEnd()}),Zd(n,"handleAnimationStart",function(){n.setState({isAnimationFinished:!1}),n.props.onAnimationStart&&n.props.onAnimationStart()}),n}return bet(e,t),get(e,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();this.setState({totalLength:r})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();r!==this.state.totalLength&&this.setState({totalLength:r})}}},{key:"getTotalLength",value:function(){var r=this.mainCurve;try{return r&&r.getTotalLength&&r.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(r,s){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,o=a.points,l=a.xAxis,c=a.yAxis,u=a.layout,d=a.children,h=Bl(d,aj);if(!h)return null;var f=function(p,m){return{x:p.x,y:p.y,value:p.value,errorVal:gi(p.payload,m)}},A={clipPath:r?"url(#clipPath-".concat(s,")"):null};return pe.createElement(Rn,A,h.map(function(v){return pe.cloneElement(v,{key:"bar-".concat(v.props.dataKey),data:o,xAxis:l,yAxis:c,layout:u,dataPointFormatter:f})}))}},{key:"renderDots",value:function(r,s,a){var o=this.props.isAnimationActive;if(o&&!this.state.isAnimationFinished)return null;var l=this.props,c=l.dot,u=l.points,d=l.dataKey,h=Yt(this.props,!1),f=Yt(c,!0),A=u.map(function(p,m){var g=Nc(Nc(Nc({key:"dot-".concat(m),r:3},h),f),{},{index:m,cx:p.x,cy:p.y,value:p.value,dataKey:d,payload:p.payload,points:u});return e.renderDotItem(c,g)}),v={clipPath:r?"url(#clipPath-".concat(s?"":"dots-").concat(a,")"):null};return pe.createElement(Rn,u_({className:"recharts-line-dots",key:"dots"},v),A)}},{key:"renderCurveStatically",value:function(r,s,a,o){var l=this.props,c=l.type,u=l.layout,d=l.connectNulls;l.ref;var h=wae(l,cet),f=Nc(Nc(Nc({},Yt(h,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:s?"url(#clipPath-".concat(a,")"):null,points:r},o),{},{type:c,layout:u,connectNulls:d});return pe.createElement(Wg,u_({},f,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(r,s){var a=this,o=this.props,l=o.points,c=o.strokeDasharray,u=o.isAnimationActive,d=o.animationBegin,h=o.animationDuration,f=o.animationEasing,A=o.animationId,v=o.animateNewValues,p=o.width,m=o.height,g=this.state,x=g.prevPoints,b=g.totalLength;return pe.createElement(Yc,{begin:d,duration:h,isActive:u,easing:f,from:{t:0},to:{t:1},key:"line-".concat(A),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(j){var N=j.t;if(x){var _=x.length/l.length,C=l.map(function(F,M){var S=Math.floor(M*_);if(x[S]){var q=x[S],U=mi(q.x,F.x),L=mi(q.y,F.y);return Nc(Nc({},F),{},{x:U(N),y:L(N)})}if(v){var z=mi(p*2,F.x),$=mi(m/2,F.y);return Nc(Nc({},F),{},{x:z(N),y:$(N)})}return Nc(Nc({},F),{},{x:F.x,y:F.y})});return a.renderCurveStatically(C,r,s)}var k=mi(0,b),T=k(N),O;if(c){var I="".concat(c).split(/[,\s]+/gim).map(function(F){return parseFloat(F)});O=a.getStrokeDasharray(T,b,I)}else O=a.generateSimpleStrokeDasharray(b,T);return a.renderCurveStatically(l,r,s,{strokeDasharray:O})})}},{key:"renderCurve",value:function(r,s){var a=this.props,o=a.points,l=a.isAnimationActive,c=this.state,u=c.prevPoints,d=c.totalLength;return l&&o&&o.length&&(!u&&d>0||!Pp(u,o))?this.renderCurveWithAnimation(r,s):this.renderCurveStatically(o,r,s)}},{key:"render",value:function(){var r,s=this.props,a=s.hide,o=s.dot,l=s.points,c=s.className,u=s.xAxis,d=s.yAxis,h=s.top,f=s.left,A=s.width,v=s.height,p=s.isAnimationActive,m=s.id;if(a||!l||!l.length)return null;var g=this.state.isAnimationFinished,x=l.length===1,b=Dn("recharts-line",c),j=u&&u.allowDataOverflow,N=d&&d.allowDataOverflow,_=j||N,C=vn(m)?this.id:m,k=(r=Yt(o,!1))!==null&&r!==void 0?r:{r:3,strokeWidth:2},T=k.r,O=T===void 0?3:T,I=k.strokeWidth,F=I===void 0?2:I,M=uve(o)?o:{},S=M.clipDot,q=S===void 0?!0:S,U=O*2+F;return pe.createElement(Rn,{className:b},j||N?pe.createElement("defs",null,pe.createElement("clipPath",{id:"clipPath-".concat(C)},pe.createElement("rect",{x:j?f:f-A/2,y:N?h:h-v/2,width:j?A:A*2,height:N?v:v*2})),!q&&pe.createElement("clipPath",{id:"clipPath-dots-".concat(C)},pe.createElement("rect",{x:f-U/2,y:h-U/2,width:A+U,height:v+U}))):null,!x&&this.renderCurve(_,C),this.renderErrorBar(_,C),(x||o)&&this.renderDots(_,q,C),(!p||g)&&Vu.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(r,s){return r.animationId!==s.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,prevPoints:s.curPoints}:r.points!==s.curPoints?{curPoints:r.points}:null}},{key:"repeat",value:function(r,s){for(var a=r.length%2!==0?[].concat(Cb(r),[0]):r,o=[],l=0;l<s;++l)o=[].concat(Cb(o),Cb(a));return o}},{key:"renderDotItem",value:function(r,s){var a;if(pe.isValidElement(r))a=pe.cloneElement(r,s);else if(gn(r))a=r(s);else{var o=s.key,l=wae(s,uet),c=Dn("recharts-line-dot",typeof r!="boolean"?r.className:"");a=pe.createElement(oj,u_({key:o},l,{className:c}))}return a}}])}(E.PureComponent);Zd(Kr,"displayName","Line");Zd(Kr,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!Qf.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});Zd(Kr,"getComposedData",function(t){var e=t.props,n=t.xAxis,r=t.yAxis,s=t.xAxisTicks,a=t.yAxisTicks,o=t.dataKey,l=t.bandSize,c=t.displayedData,u=t.offset,d=e.layout,h=c.map(function(f,A){var v=gi(f,o);return d==="horizontal"?{x:i2({axis:n,ticks:s,bandSize:l,entry:f,index:A}),y:vn(v)?null:r.scale(v),value:v,payload:f}:{x:vn(v)?null:n.scale(v),y:i2({axis:r,ticks:a,bandSize:l,entry:f,index:A}),value:v,payload:f}});return Nc({points:h,layout:d},u)});var jet=["layout","type","stroke","connectNulls","isRange","ref"],Net=["key"],gbe;function x2(t){"@babel/helpers - typeof";return x2=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},x2(t)}function xbe(t,e){if(t==null)return{};var n=_et(t,e),r,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(s=0;s<a.length;s++)r=a[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function _et(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Lv(){return Lv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Lv.apply(this,arguments)}function _ae(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function Km(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_ae(Object(n),!0).forEach(function(r){Nf(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_ae(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Cet(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Cae(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,ybe(r.key),r)}}function Eet(t,e,n){return e&&Cae(t.prototype,e),n&&Cae(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Bet(t,e,n){return e=oT(e),Det(t,vbe()?Reflect.construct(e,n||[],oT(t).constructor):e.apply(t,n))}function Det(t,e){if(e&&(x2(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Tet(t)}function Tet(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function vbe(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(vbe=function(){return!!t})()}function oT(t){return oT=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},oT(t)}function ket(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&OQ(t,e)}function OQ(t,e){return OQ=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},OQ(t,e)}function Nf(t,e,n){return e=ybe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ybe(t){var e=Fet(t,"string");return x2(e)=="symbol"?e:e+""}function Fet(t,e){if(x2(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(x2(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Is=function(t){function e(){var n;Cet(this,e);for(var r=arguments.length,s=new Array(r),a=0;a<r;a++)s[a]=arguments[a];return n=Bet(this,e,[].concat(s)),Nf(n,"state",{isAnimationFinished:!0}),Nf(n,"id",wx("recharts-area-")),Nf(n,"handleAnimationEnd",function(){var o=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),gn(o)&&o()}),Nf(n,"handleAnimationStart",function(){var o=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),gn(o)&&o()}),n}return ket(e,t),Eet(e,[{key:"renderDots",value:function(r,s,a){var o=this.props.isAnimationActive,l=this.state.isAnimationFinished;if(o&&!l)return null;var c=this.props,u=c.dot,d=c.points,h=c.dataKey,f=Yt(this.props,!1),A=Yt(u,!0),v=d.map(function(m,g){var x=Km(Km(Km({key:"dot-".concat(g),r:3},f),A),{},{index:g,cx:m.x,cy:m.y,dataKey:h,value:m.value,payload:m.payload,points:d});return e.renderDotItem(u,x)}),p={clipPath:r?"url(#clipPath-".concat(s?"":"dots-").concat(a,")"):null};return pe.createElement(Rn,Lv({className:"recharts-area-dots"},p),v)}},{key:"renderHorizontalRect",value:function(r){var s=this.props,a=s.baseLine,o=s.points,l=s.strokeWidth,c=o[0].x,u=o[o.length-1].x,d=r*Math.abs(c-u),h=Ug(o.map(function(f){return f.y||0}));return Tt(a)&&typeof a=="number"?h=Math.max(a,h):a&&Array.isArray(a)&&a.length&&(h=Math.max(Ug(a.map(function(f){return f.y||0})),h)),Tt(h)?pe.createElement("rect",{x:c<u?c:c-d,y:0,width:d,height:Math.floor(h+(l?parseInt("".concat(l),10):1))}):null}},{key:"renderVerticalRect",value:function(r){var s=this.props,a=s.baseLine,o=s.points,l=s.strokeWidth,c=o[0].y,u=o[o.length-1].y,d=r*Math.abs(c-u),h=Ug(o.map(function(f){return f.x||0}));return Tt(a)&&typeof a=="number"?h=Math.max(a,h):a&&Array.isArray(a)&&a.length&&(h=Math.max(Ug(a.map(function(f){return f.x||0})),h)),Tt(h)?pe.createElement("rect",{x:0,y:c<u?c:c-d,width:h+(l?parseInt("".concat(l),10):1),height:Math.floor(d)}):null}},{key:"renderClipRect",value:function(r){var s=this.props.layout;return s==="vertical"?this.renderVerticalRect(r):this.renderHorizontalRect(r)}},{key:"renderAreaStatically",value:function(r,s,a,o){var l=this.props,c=l.layout,u=l.type,d=l.stroke,h=l.connectNulls,f=l.isRange;l.ref;var A=xbe(l,jet);return pe.createElement(Rn,{clipPath:a?"url(#clipPath-".concat(o,")"):null},pe.createElement(Wg,Lv({},Yt(A,!0),{points:r,connectNulls:h,type:u,baseLine:s,layout:c,stroke:"none",className:"recharts-area-area"})),d!=="none"&&pe.createElement(Wg,Lv({},Yt(this.props,!1),{className:"recharts-area-curve",layout:c,type:u,connectNulls:h,fill:"none",points:r})),d!=="none"&&f&&pe.createElement(Wg,Lv({},Yt(this.props,!1),{className:"recharts-area-curve",layout:c,type:u,connectNulls:h,fill:"none",points:s})))}},{key:"renderAreaWithAnimation",value:function(r,s){var a=this,o=this.props,l=o.points,c=o.baseLine,u=o.isAnimationActive,d=o.animationBegin,h=o.animationDuration,f=o.animationEasing,A=o.animationId,v=this.state,p=v.prevPoints,m=v.prevBaseLine;return pe.createElement(Yc,{begin:d,duration:h,isActive:u,easing:f,from:{t:0},to:{t:1},key:"area-".concat(A),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(g){var x=g.t;if(p){var b=p.length/l.length,j=l.map(function(k,T){var O=Math.floor(T*b);if(p[O]){var I=p[O],F=mi(I.x,k.x),M=mi(I.y,k.y);return Km(Km({},k),{},{x:F(x),y:M(x)})}return k}),N;if(Tt(c)&&typeof c=="number"){var _=mi(m,c);N=_(x)}else if(vn(c)||tj(c)){var C=mi(m,0);N=C(x)}else N=c.map(function(k,T){var O=Math.floor(T*b);if(m[O]){var I=m[O],F=mi(I.x,k.x),M=mi(I.y,k.y);return Km(Km({},k),{},{x:F(x),y:M(x)})}return k});return a.renderAreaStatically(j,N,r,s)}return pe.createElement(Rn,null,pe.createElement("defs",null,pe.createElement("clipPath",{id:"animationClipPath-".concat(s)},a.renderClipRect(x))),pe.createElement(Rn,{clipPath:"url(#animationClipPath-".concat(s,")")},a.renderAreaStatically(l,c,r,s)))})}},{key:"renderArea",value:function(r,s){var a=this.props,o=a.points,l=a.baseLine,c=a.isAnimationActive,u=this.state,d=u.prevPoints,h=u.prevBaseLine,f=u.totalLength;return c&&o&&o.length&&(!d&&f>0||!Pp(d,o)||!Pp(h,l))?this.renderAreaWithAnimation(r,s):this.renderAreaStatically(o,l,r,s)}},{key:"render",value:function(){var r,s=this.props,a=s.hide,o=s.dot,l=s.points,c=s.className,u=s.top,d=s.left,h=s.xAxis,f=s.yAxis,A=s.width,v=s.height,p=s.isAnimationActive,m=s.id;if(a||!l||!l.length)return null;var g=this.state.isAnimationFinished,x=l.length===1,b=Dn("recharts-area",c),j=h&&h.allowDataOverflow,N=f&&f.allowDataOverflow,_=j||N,C=vn(m)?this.id:m,k=(r=Yt(o,!1))!==null&&r!==void 0?r:{r:3,strokeWidth:2},T=k.r,O=T===void 0?3:T,I=k.strokeWidth,F=I===void 0?2:I,M=uve(o)?o:{},S=M.clipDot,q=S===void 0?!0:S,U=O*2+F;return pe.createElement(Rn,{className:b},j||N?pe.createElement("defs",null,pe.createElement("clipPath",{id:"clipPath-".concat(C)},pe.createElement("rect",{x:j?d:d-A/2,y:N?u:u-v/2,width:j?A:A*2,height:N?v:v*2})),!q&&pe.createElement("clipPath",{id:"clipPath-dots-".concat(C)},pe.createElement("rect",{x:d-U/2,y:u-U/2,width:A+U,height:v+U}))):null,x?null:this.renderArea(_,C),(o||x)&&this.renderDots(_,q,C),(!p||g)&&Vu.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(r,s){return r.animationId!==s.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,curBaseLine:r.baseLine,prevPoints:s.curPoints,prevBaseLine:s.curBaseLine}:r.points!==s.curPoints||r.baseLine!==s.curBaseLine?{curPoints:r.points,curBaseLine:r.baseLine}:null}}])}(E.PureComponent);gbe=Is;Nf(Is,"displayName","Area");Nf(Is,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!Qf.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});Nf(Is,"getBaseValue",function(t,e,n,r){var s=t.layout,a=t.baseValue,o=e.props.baseValue,l=o??a;if(Tt(l)&&typeof l=="number")return l;var c=s==="horizontal"?r:n,u=c.scale.domain();if(c.type==="number"){var d=Math.max(u[0],u[1]),h=Math.min(u[0],u[1]);return l==="dataMin"?h:l==="dataMax"||d<0?d:Math.max(Math.min(u[0],u[1]),0)}return l==="dataMin"?u[0]:l==="dataMax"?u[1]:u[0]});Nf(Is,"getComposedData",function(t){var e=t.props,n=t.item,r=t.xAxis,s=t.yAxis,a=t.xAxisTicks,o=t.yAxisTicks,l=t.bandSize,c=t.dataKey,u=t.stackedData,d=t.dataStartIndex,h=t.displayedData,f=t.offset,A=e.layout,v=u&&u.length,p=gbe.getBaseValue(e,n,r,s),m=A==="horizontal",g=!1,x=h.map(function(j,N){var _;v?_=u[d+N]:(_=gi(j,c),Array.isArray(_)?g=!0:_=[p,_]);var C=_[1]==null||v&&gi(j,c)==null;return m?{x:i2({axis:r,ticks:a,bandSize:l,entry:j,index:N}),y:C?null:s.scale(_[1]),value:_,payload:j}:{x:C?null:r.scale(_[1]),y:i2({axis:s,ticks:o,bandSize:l,entry:j,index:N}),value:_,payload:j}}),b;return v||g?b=x.map(function(j){var N=Array.isArray(j.value)?j.value[0]:null;return m?{x:j.x,y:N!=null&&j.y!=null?s.scale(N):null}:{x:N!=null?r.scale(N):null,y:j.y}}):b=m?s.scale(p):r.scale(p),Km({points:x,baseLine:b,layout:A,isRange:g},f)});Nf(Is,"renderDotItem",function(t,e){var n;if(pe.isValidElement(t))n=pe.cloneElement(t,e);else if(gn(t))n=t(e);else{var r=Dn("recharts-area-dot",typeof t!="boolean"?t.className:""),s=e.key,a=xbe(e,Net);n=pe.createElement(oj,Lv({},a,{key:s,className:r}))}return n});function v2(t){"@babel/helpers - typeof";return v2=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},v2(t)}function Pet(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Uet(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,jbe(r.key),r)}}function Iet(t,e,n){return e&&Uet(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Oet(t,e,n){return e=lT(e),Met(t,bbe()?Reflect.construct(e,n||[],lT(t).constructor):e.apply(t,n))}function Met(t,e){if(e&&(v2(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Let(t)}function Let(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function bbe(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(bbe=function(){return!!t})()}function lT(t){return lT=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},lT(t)}function Ret(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&MQ(t,e)}function MQ(t,e){return MQ=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},MQ(t,e)}function wbe(t,e,n){return e=jbe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function jbe(t){var e=Qet(t,"string");return v2(e)=="symbol"?e:e+""}function Qet(t,e){if(v2(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(v2(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var VS=function(t){function e(){return Pet(this,e),Oet(this,e,arguments)}return Ret(e,t),Iet(e,[{key:"render",value:function(){return null}}])}(pe.Component);wbe(VS,"displayName","ZAxis");wbe(VS,"defaultProps",{zAxisId:0,range:[64,64],scale:"auto",type:"number"});var Het=["option","isActive"];function d_(){return d_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},d_.apply(this,arguments)}function zet(t,e){if(t==null)return{};var n=$et(t,e),r,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(s=0;s<a.length;s++)r=a[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function $et(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Wet(t){var e=t.option,n=t.isActive,r=zet(t,Het);return typeof e=="string"?pe.createElement(q3,d_({option:pe.createElement(yF,d_({type:e},r)),isActive:n,shapeType:"symbols"},r)):pe.createElement(q3,d_({option:e,isActive:n,shapeType:"symbols"},r))}function y2(t){"@babel/helpers - typeof";return y2=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},y2(t)}function h_(){return h_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},h_.apply(this,arguments)}function Sae(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function Cu(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Sae(Object(n),!0).forEach(function(r){Og(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Sae(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function qet(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Eae(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,_be(r.key),r)}}function Vet(t,e,n){return e&&Eae(t.prototype,e),n&&Eae(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Ket(t,e,n){return e=cT(e),Get(t,Nbe()?Reflect.construct(e,n||[],cT(t).constructor):e.apply(t,n))}function Get(t,e){if(e&&(y2(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Xet(t)}function Xet(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Nbe(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Nbe=function(){return!!t})()}function cT(t){return cT=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},cT(t)}function Yet(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&LQ(t,e)}function LQ(t,e){return LQ=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},LQ(t,e)}function Og(t,e,n){return e=_be(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _be(t){var e=Jet(t,"string");return y2(e)=="symbol"?e:e+""}function Jet(t,e){if(y2(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(y2(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var cj=function(t){function e(){var n;qet(this,e);for(var r=arguments.length,s=new Array(r),a=0;a<r;a++)s[a]=arguments[a];return n=Ket(this,e,[].concat(s)),Og(n,"state",{isAnimationFinished:!1}),Og(n,"handleAnimationEnd",function(){n.setState({isAnimationFinished:!0})}),Og(n,"handleAnimationStart",function(){n.setState({isAnimationFinished:!1})}),Og(n,"id",wx("recharts-scatter-")),n}return Yet(e,t),Vet(e,[{key:"renderSymbolsStatically",value:function(r){var s=this,a=this.props,o=a.shape,l=a.activeShape,c=a.activeIndex,u=Yt(this.props,!1);return r.map(function(d,h){var f=c===h,A=f?l:o,v=Cu(Cu({},u),d);return pe.createElement(Rn,h_({className:"recharts-scatter-symbol",key:"symbol-".concat(d==null?void 0:d.cx,"-").concat(d==null?void 0:d.cy,"-").concat(d==null?void 0:d.size,"-").concat(h)},ax(s.props,d,h),{role:"img"}),pe.createElement(Wet,h_({option:A,isActive:f,key:"symbol-".concat(h)},v)))})}},{key:"renderSymbolsWithAnimation",value:function(){var r=this,s=this.props,a=s.points,o=s.isAnimationActive,l=s.animationBegin,c=s.animationDuration,u=s.animationEasing,d=s.animationId,h=this.state.prevPoints;return pe.createElement(Yc,{begin:l,duration:c,isActive:o,easing:u,from:{t:0},to:{t:1},key:"pie-".concat(d),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(f){var A=f.t,v=a.map(function(p,m){var g=h&&h[m];if(g){var x=mi(g.cx,p.cx),b=mi(g.cy,p.cy),j=mi(g.size,p.size);return Cu(Cu({},p),{},{cx:x(A),cy:b(A),size:j(A)})}var N=mi(0,p.size);return Cu(Cu({},p),{},{size:N(A)})});return pe.createElement(Rn,null,r.renderSymbolsStatically(v))})}},{key:"renderSymbols",value:function(){var r=this.props,s=r.points,a=r.isAnimationActive,o=this.state.prevPoints;return a&&s&&s.length&&(!o||!Pp(o,s))?this.renderSymbolsWithAnimation():this.renderSymbolsStatically(s)}},{key:"renderErrorBar",value:function(){var r=this.props.isAnimationActive;if(r&&!this.state.isAnimationFinished)return null;var s=this.props,a=s.points,o=s.xAxis,l=s.yAxis,c=s.children,u=Bl(c,aj);return u?u.map(function(d,h){var f=d.props,A=f.direction,v=f.dataKey;return pe.cloneElement(d,{key:"".concat(A,"-").concat(v,"-").concat(a[h]),data:a,xAxis:o,yAxis:l,layout:A==="x"?"vertical":"horizontal",dataPointFormatter:function(m,g){return{x:m.cx,y:m.cy,value:A==="x"?+m.node.x:+m.node.y,errorVal:gi(m,g)}}})}):null}},{key:"renderLine",value:function(){var r=this.props,s=r.points,a=r.line,o=r.lineType,l=r.lineJointType,c=Yt(this.props,!1),u=Yt(a,!1),d,h;if(o==="joint")d=s.map(function(b){return{x:b.cx,y:b.cy}});else if(o==="fitting"){var f=vRe(s),A=f.xmin,v=f.xmax,p=f.a,m=f.b,g=function(j){return p*j+m};d=[{x:A,y:g(A)},{x:v,y:g(v)}]}var x=Cu(Cu(Cu({},c),{},{fill:"none",stroke:c&&c.fill},u),{},{points:d});return pe.isValidElement(a)?h=pe.cloneElement(a,x):gn(a)?h=a(x):h=pe.createElement(Wg,h_({},x,{type:l})),pe.createElement(Rn,{className:"recharts-scatter-line",key:"recharts-scatter-line"},h)}},{key:"render",value:function(){var r=this.props,s=r.hide,a=r.points,o=r.line,l=r.className,c=r.xAxis,u=r.yAxis,d=r.left,h=r.top,f=r.width,A=r.height,v=r.id,p=r.isAnimationActive;if(s||!a||!a.length)return null;var m=this.state.isAnimationFinished,g=Dn("recharts-scatter",l),x=c&&c.allowDataOverflow,b=u&&u.allowDataOverflow,j=x||b,N=vn(v)?this.id:v;return pe.createElement(Rn,{className:g,clipPath:j?"url(#clipPath-".concat(N,")"):null},x||b?pe.createElement("defs",null,pe.createElement("clipPath",{id:"clipPath-".concat(N)},pe.createElement("rect",{x:x?d:d-f/2,y:b?h:h-A/2,width:x?f:f*2,height:b?A:A*2}))):null,o&&this.renderLine(),this.renderErrorBar(),pe.createElement(Rn,{key:"recharts-scatter-symbols"},this.renderSymbols()),(!p||m)&&Vu.renderCallByParent(this.props,a))}}],[{key:"getDerivedStateFromProps",value:function(r,s){return r.animationId!==s.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,prevPoints:s.curPoints}:r.points!==s.curPoints?{curPoints:r.points}:null}}])}(E.PureComponent);Og(cj,"displayName","Scatter");Og(cj,"defaultProps",{xAxisId:0,yAxisId:0,zAxisId:0,legendType:"circle",lineType:"joint",lineJointType:"linear",data:[],shape:"circle",hide:!1,isAnimationActive:!Qf.isSsr,animationBegin:0,animationDuration:400,animationEasing:"linear"});Og(cj,"getComposedData",function(t){var e=t.xAxis,n=t.yAxis,r=t.zAxis,s=t.item,a=t.displayedData,o=t.xAxisTicks,l=t.yAxisTicks,c=t.offset,u=s.props.tooltipType,d=Bl(s.props.children,jx),h=vn(e.dataKey)?s.props.dataKey:e.dataKey,f=vn(n.dataKey)?s.props.dataKey:n.dataKey,A=r&&r.dataKey,v=r?r.range:VS.defaultProps.range,p=v&&v[0],m=e.scale.bandwidth?e.scale.bandwidth():0,g=n.scale.bandwidth?n.scale.bandwidth():0,x=a.map(function(b,j){var N=gi(b,h),_=gi(b,f),C=!vn(A)&&gi(b,A)||"-",k=[{name:vn(e.dataKey)?s.props.name:e.name||e.dataKey,unit:e.unit||"",value:N,payload:b,dataKey:h,type:u},{name:vn(n.dataKey)?s.props.name:n.name||n.dataKey,unit:n.unit||"",value:_,payload:b,dataKey:f,type:u}];C!=="-"&&k.push({name:r.name||r.dataKey,unit:r.unit||"",value:C,payload:b,dataKey:A,type:u});var T=i2({axis:e,ticks:o,bandSize:m,entry:b,index:j,dataKey:h}),O=i2({axis:n,ticks:l,bandSize:g,entry:b,index:j,dataKey:f}),I=C!=="-"?r.scale(C):p,F=Math.sqrt(Math.max(I,0)/Math.PI);return Cu(Cu({},b),{},{cx:T,cy:O,x:T-F,y:O-F,xAxis:e,yAxis:n,zAxis:r,width:2*F,height:2*F,size:I,node:{x:N,y:_,z:C},tooltipPayload:k,tooltipPosition:{x:T,y:O},payload:b},d&&d[j]&&d[j].props)});return Cu({points:x},c)});function b2(t){"@babel/helpers - typeof";return b2=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},b2(t)}function Zet(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ett(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Ebe(r.key),r)}}function ttt(t,e,n){return e&&ett(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function ntt(t,e,n){return e=uT(e),rtt(t,Cbe()?Reflect.construct(e,n||[],uT(t).constructor):e.apply(t,n))}function rtt(t,e){if(e&&(b2(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return itt(t)}function itt(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Cbe(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Cbe=function(){return!!t})()}function uT(t){return uT=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},uT(t)}function stt(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&RQ(t,e)}function RQ(t,e){return RQ=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},RQ(t,e)}function Sbe(t,e,n){return e=Ebe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ebe(t){var e=att(t,"string");return b2(e)=="symbol"?e:e+""}function att(t,e){if(b2(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(b2(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function QQ(){return QQ=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},QQ.apply(this,arguments)}function ott(t){var e=t.xAxisId,n=Aq(),r=pq(),s=rbe(e);return s==null?null:pe.createElement(lj,QQ({},s,{className:Dn("recharts-".concat(s.axisType," ").concat(s.axisType),s.className),viewBox:{x:0,y:0,width:n,height:r},ticksGenerator:function(o){return Ap(o,!0)}}))}var Tr=function(t){function e(){return Zet(this,e),ntt(this,e,arguments)}return stt(e,t),ttt(e,[{key:"render",value:function(){return pe.createElement(ott,this.props)}}])}(pe.Component);Sbe(Tr,"displayName","XAxis");Sbe(Tr,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function w2(t){"@babel/helpers - typeof";return w2=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},w2(t)}function ltt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ctt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Tbe(r.key),r)}}function utt(t,e,n){return e&&ctt(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function dtt(t,e,n){return e=dT(e),htt(t,Bbe()?Reflect.construct(e,n||[],dT(t).constructor):e.apply(t,n))}function htt(t,e){if(e&&(w2(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ftt(t)}function ftt(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Bbe(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Bbe=function(){return!!t})()}function dT(t){return dT=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},dT(t)}function Att(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&HQ(t,e)}function HQ(t,e){return HQ=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},HQ(t,e)}function Dbe(t,e,n){return e=Tbe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Tbe(t){var e=ptt(t,"string");return w2(e)=="symbol"?e:e+""}function ptt(t,e){if(w2(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(w2(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function zQ(){return zQ=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},zQ.apply(this,arguments)}var mtt=function(e){var n=e.yAxisId,r=Aq(),s=pq(),a=ibe(n);return a==null?null:pe.createElement(lj,zQ({},a,{className:Dn("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:r,height:s},ticksGenerator:function(l){return Ap(l,!0)}}))},ur=function(t){function e(){return ltt(this,e),dtt(this,e,arguments)}return Att(e,t),utt(e,[{key:"render",value:function(){return pe.createElement(mtt,this.props)}}])}(pe.Component);Dbe(ur,"displayName","YAxis");Dbe(ur,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function Bae(t){return ytt(t)||vtt(t)||xtt(t)||gtt()}function gtt(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xtt(t,e){if(t){if(typeof t=="string")return $Q(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return $Q(t,e)}}function vtt(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function ytt(t){if(Array.isArray(t))return $Q(t)}function $Q(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var WQ=function(e,n,r,s,a){var o=Bl(e,LF),l=Bl(e,QF),c=[].concat(Bae(o),Bae(l)),u=Bl(e,zF),d="".concat(s,"Id"),h=s[0],f=n;if(c.length&&(f=c.reduce(function(p,m){if(m.props[d]===r&&kf(m.props,"extendDomain")&&Tt(m.props[h])){var g=m.props[h];return[Math.min(p[0],g),Math.max(p[1],g)]}return p},f)),u.length){var A="".concat(h,"1"),v="".concat(h,"2");f=u.reduce(function(p,m){if(m.props[d]===r&&kf(m.props,"extendDomain")&&Tt(m.props[A])&&Tt(m.props[v])){var g=m.props[A],x=m.props[v];return[Math.min(p[0],g,x),Math.max(p[1],g,x)]}return p},f)}return a&&a.length&&(f=a.reduce(function(p,m){return Tt(m)?[Math.min(p[0],m),Math.max(p[1],m)]:p},f)),f},cL={exports:{}},Dae;function btt(){return Dae||(Dae=1,function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function s(c,u,d){this.fn=c,this.context=u,this.once=d||!1}function a(c,u,d,h,f){if(typeof d!="function")throw new TypeError("The listener must be a function");var A=new s(d,h||c,f),v=n?n+u:u;return c._events[v]?c._events[v].fn?c._events[v]=[c._events[v],A]:c._events[v].push(A):(c._events[v]=A,c._eventsCount++),c}function o(c,u){--c._eventsCount===0?c._events=new r:delete c._events[u]}function l(){this._events=new r,this._eventsCount=0}l.prototype.eventNames=function(){var u=[],d,h;if(this._eventsCount===0)return u;for(h in d=this._events)e.call(d,h)&&u.push(n?h.slice(1):h);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},l.prototype.listeners=function(u){var d=n?n+u:u,h=this._events[d];if(!h)return[];if(h.fn)return[h.fn];for(var f=0,A=h.length,v=new Array(A);f<A;f++)v[f]=h[f].fn;return v},l.prototype.listenerCount=function(u){var d=n?n+u:u,h=this._events[d];return h?h.fn?1:h.length:0},l.prototype.emit=function(u,d,h,f,A,v){var p=n?n+u:u;if(!this._events[p])return!1;var m=this._events[p],g=arguments.length,x,b;if(m.fn){switch(m.once&&this.removeListener(u,m.fn,void 0,!0),g){case 1:return m.fn.call(m.context),!0;case 2:return m.fn.call(m.context,d),!0;case 3:return m.fn.call(m.context,d,h),!0;case 4:return m.fn.call(m.context,d,h,f),!0;case 5:return m.fn.call(m.context,d,h,f,A),!0;case 6:return m.fn.call(m.context,d,h,f,A,v),!0}for(b=1,x=new Array(g-1);b<g;b++)x[b-1]=arguments[b];m.fn.apply(m.context,x)}else{var j=m.length,N;for(b=0;b<j;b++)switch(m[b].once&&this.removeListener(u,m[b].fn,void 0,!0),g){case 1:m[b].fn.call(m[b].context);break;case 2:m[b].fn.call(m[b].context,d);break;case 3:m[b].fn.call(m[b].context,d,h);break;case 4:m[b].fn.call(m[b].context,d,h,f);break;default:if(!x)for(N=1,x=new Array(g-1);N<g;N++)x[N-1]=arguments[N];m[b].fn.apply(m[b].context,x)}}return!0},l.prototype.on=function(u,d,h){return a(this,u,d,h,!1)},l.prototype.once=function(u,d,h){return a(this,u,d,h,!0)},l.prototype.removeListener=function(u,d,h,f){var A=n?n+u:u;if(!this._events[A])return this;if(!d)return o(this,A),this;var v=this._events[A];if(v.fn)v.fn===d&&(!f||v.once)&&(!h||v.context===h)&&o(this,A);else{for(var p=0,m=[],g=v.length;p<g;p++)(v[p].fn!==d||f&&!v[p].once||h&&v[p].context!==h)&&m.push(v[p]);m.length?this._events[A]=m.length===1?m[0]:m:o(this,A)}return this},l.prototype.removeAllListeners=function(u){var d;return u?(d=n?n+u:u,this._events[d]&&o(this,d)):(this._events=new r,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=n,l.EventEmitter=l,t.exports=l}(cL)),cL.exports}var wtt=btt();const jtt=wr(wtt);var uL=new jtt,dL="recharts.syncMouseEvents";function S5(t){"@babel/helpers - typeof";return S5=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},S5(t)}function Ntt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _tt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,kbe(r.key),r)}}function Ctt(t,e,n){return e&&_tt(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function hL(t,e,n){return e=kbe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function kbe(t){var e=Stt(t,"string");return S5(e)=="symbol"?e:e+""}function Stt(t,e){if(S5(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(S5(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Ett=function(){function t(){Ntt(this,t),hL(this,"activeIndex",0),hL(this,"coordinateList",[]),hL(this,"layout","horizontal")}return Ctt(t,[{key:"setDetails",value:function(n){var r,s=n.coordinateList,a=s===void 0?null:s,o=n.container,l=o===void 0?null:o,c=n.layout,u=c===void 0?null:c,d=n.offset,h=d===void 0?null:d,f=n.mouseHandlerCallback,A=f===void 0?null:f;this.coordinateList=(r=a??this.coordinateList)!==null&&r!==void 0?r:[],this.container=l??this.container,this.layout=u??this.layout,this.offset=h??this.offset,this.mouseHandlerCallback=A??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(n){if(this.coordinateList.length!==0)switch(n.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(n){this.activeIndex=n}},{key:"spoofMouse",value:function(){var n,r;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var s=this.container.getBoundingClientRect(),a=s.x,o=s.y,l=s.height,c=this.coordinateList[this.activeIndex].coordinate,u=((n=window)===null||n===void 0?void 0:n.scrollX)||0,d=((r=window)===null||r===void 0?void 0:r.scrollY)||0,h=a+c+u,f=o+this.offset.top+l/2+d;this.mouseHandlerCallback({pageX:h,pageY:f})}}}])}();function Btt(t,e,n){if(n==="number"&&e===!0&&Array.isArray(t)){var r=t==null?void 0:t[0],s=t==null?void 0:t[1];if(r&&s&&Tt(r)&&Tt(s))return!0}return!1}function Dtt(t,e,n,r){var s=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-s:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-s,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function Fbe(t){var e=t.cx,n=t.cy,r=t.radius,s=t.startAngle,a=t.endAngle,o=Rr(e,n,r,s),l=Rr(e,n,r,a);return{points:[o,l],cx:e,cy:n,radius:r,startAngle:s,endAngle:a}}function Ttt(t,e,n){var r,s,a,o;if(t==="horizontal")r=e.x,a=r,s=n.top,o=n.top+n.height;else if(t==="vertical")s=e.y,o=s,r=n.left,a=n.left+n.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var l=e.cx,c=e.cy,u=e.innerRadius,d=e.outerRadius,h=e.angle,f=Rr(l,c,u,h),A=Rr(l,c,d,h);r=f.x,s=f.y,a=A.x,o=A.y}else return Fbe(e);return[{x:r,y:s},{x:a,y:o}]}function E5(t){"@babel/helpers - typeof";return E5=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},E5(t)}function Tae(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function j4(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Tae(Object(n),!0).forEach(function(r){ktt(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Tae(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ktt(t,e,n){return e=Ftt(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ftt(t){var e=Ptt(t,"string");return E5(e)=="symbol"?e:e+""}function Ptt(t,e){if(E5(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(E5(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Utt(t){var e,n,r=t.element,s=t.tooltipEventType,a=t.isActive,o=t.activeCoordinate,l=t.activePayload,c=t.offset,u=t.activeTooltipIndex,d=t.tooltipAxisBandSize,h=t.layout,f=t.chartName,A=(e=r.props.cursor)!==null&&e!==void 0?e:(n=r.type.defaultProps)===null||n===void 0?void 0:n.cursor;if(!r||!A||!a||!o||f!=="ScatterChart"&&s!=="axis")return null;var v,p=Wg;if(f==="ScatterChart")v=o,p=eXe;else if(f==="BarChart")v=Dtt(h,o,c,d),p=uq;else if(h==="radial"){var m=Fbe(o),g=m.cx,x=m.cy,b=m.radius,j=m.startAngle,N=m.endAngle;v={cx:g,cy:x,startAngle:j,endAngle:N,innerRadius:b,outerRadius:b},p=Nye}else v={points:Ttt(h,o,c)},p=Wg;var _=j4(j4(j4(j4({stroke:"#ccc",pointerEvents:"none"},c),v),Yt(A,!1)),{},{payload:l,payloadIndex:u,className:Dn("recharts-tooltip-cursor",A.className)});return E.isValidElement(A)?E.cloneElement(A,_):E.createElement(p,_)}var Itt=["item"],Ott=["children","className","width","height","style","compact","title","desc"];function j2(t){"@babel/helpers - typeof";return j2=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},j2(t)}function l1(){return l1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},l1.apply(this,arguments)}function kae(t,e){return Rtt(t)||Ltt(t,e)||Ube(t,e)||Mtt()}function Mtt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ltt(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,s,a,o,l=[],c=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function Rtt(t){if(Array.isArray(t))return t}function Fae(t,e){if(t==null)return{};var n=Qtt(t,e),r,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(s=0;s<a.length;s++)r=a[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Qtt(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Htt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ztt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Ibe(r.key),r)}}function $tt(t,e,n){return e&&ztt(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Wtt(t,e,n){return e=hT(e),qtt(t,Pbe()?Reflect.construct(e,n||[],hT(t).constructor):e.apply(t,n))}function qtt(t,e){if(e&&(j2(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Vtt(t)}function Vtt(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Pbe(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Pbe=function(){return!!t})()}function hT(t){return hT=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},hT(t)}function Ktt(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&qQ(t,e)}function qQ(t,e){return qQ=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},qQ(t,e)}function N2(t){return Ytt(t)||Xtt(t)||Ube(t)||Gtt()}function Gtt(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ube(t,e){if(t){if(typeof t=="string")return VQ(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return VQ(t,e)}}function Xtt(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Ytt(t){if(Array.isArray(t))return VQ(t)}function VQ(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Pae(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function vt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Pae(Object(n),!0).forEach(function(r){Sn(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Pae(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Sn(t,e,n){return e=Ibe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ibe(t){var e=Jtt(t,"string");return j2(e)=="symbol"?e:e+""}function Jtt(t,e){if(j2(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(j2(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ztt={xAxis:["bottom","top"],yAxis:["left","right"]},ent={width:"100%",height:"100%"},Obe={x:0,y:0};function N4(t){return t}var tnt=function(e,n){return n==="horizontal"?e.x:n==="vertical"?e.y:n==="centric"?e.angle:e.radius},nnt=function(e,n,r,s){var a=n.find(function(d){return d&&d.index===r});if(a){if(e==="horizontal")return{x:a.coordinate,y:s.y};if(e==="vertical")return{x:s.x,y:a.coordinate};if(e==="centric"){var o=a.coordinate,l=s.radius;return vt(vt(vt({},s),Rr(s.cx,s.cy,l,o)),{},{angle:o,radius:l})}var c=a.coordinate,u=s.angle;return vt(vt(vt({},s),Rr(s.cx,s.cy,c,u)),{},{angle:u,radius:c})}return Obe},$F=function(e,n){var r=n.graphicalItems,s=n.dataStartIndex,a=n.dataEndIndex,o=(r??[]).reduce(function(l,c){var u=c.props.data;return u&&u.length?[].concat(N2(l),N2(u)):l},[]);return o.length>0?o:e&&e.length&&Tt(s)&&Tt(a)?e.slice(s,a+1):[]};function Mbe(t){return t==="number"?[0,"auto"]:void 0}var KQ=function(e,n,r,s){var a=e.graphicalItems,o=e.tooltipAxis,l=$F(n,e);return r<0||!a||!a.length||r>=l.length?null:a.reduce(function(c,u){var d,h=(d=u.props.data)!==null&&d!==void 0?d:n;h&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=r&&(h=h.slice(e.dataStartIndex,e.dataEndIndex+1));var f;if(o.dataKey&&!o.allowDuplicatedCategory){var A=h===void 0?l:h;f=u3(A,o.dataKey,s)}else f=h&&h[r]||l[r];return f?[].concat(N2(c),[mye(u,f)]):c},[])},Uae=function(e,n,r,s){var a=s||{x:e.chartX,y:e.chartY},o=tnt(a,r),l=e.orderedTooltipTicks,c=e.tooltipAxis,u=e.tooltipTicks,d=kqe(o,l,u,c);if(d>=0&&u){var h=u[d]&&u[d].value,f=KQ(e,n,d,h),A=nnt(r,l,d,a);return{activeTooltipIndex:d,activeLabel:h,activePayload:f,activeCoordinate:A}}return null},rnt=function(e,n){var r=n.axes,s=n.graphicalItems,a=n.axisType,o=n.axisIdKey,l=n.stackGroups,c=n.dataStartIndex,u=n.dataEndIndex,d=e.layout,h=e.children,f=e.stackOffset,A=uye(d,a);return r.reduce(function(v,p){var m,g=p.type.defaultProps!==void 0?vt(vt({},p.type.defaultProps),p.props):p.props,x=g.type,b=g.dataKey,j=g.allowDataOverflow,N=g.allowDuplicatedCategory,_=g.scale,C=g.ticks,k=g.includeHidden,T=g[o];if(v[T])return v;var O=$F(e.data,{graphicalItems:s.filter(function(H){var W,Y=o in H.props?H.props[o]:(W=H.type.defaultProps)===null||W===void 0?void 0:W[o];return Y===T}),dataStartIndex:c,dataEndIndex:u}),I=O.length,F,M,S;Btt(g.domain,j,x)&&(F=iQ(g.domain,null,j),A&&(x==="number"||_!=="auto")&&(S=a_(O,b,"category")));var q=Mbe(x);if(!F||F.length===0){var U,L=(U=g.domain)!==null&&U!==void 0?U:q;if(b){if(F=a_(O,b,x),x==="category"&&A){var z=xRe(F);N&&z?(M=F,F=X3(0,I)):N||(F=Bie(L,F,p).reduce(function(H,W){return H.indexOf(W)>=0?H:[].concat(N2(H),[W])},[]))}else if(x==="category")N?F=F.filter(function(H){return H!==""&&!vn(H)}):F=Bie(L,F,p).reduce(function(H,W){return H.indexOf(W)>=0||W===""||vn(W)?H:[].concat(N2(H),[W])},[]);else if(x==="number"){var $=Oqe(O,s.filter(function(H){var W,Y,ee=o in H.props?H.props[o]:(W=H.type.defaultProps)===null||W===void 0?void 0:W[o],ie="hide"in H.props?H.props.hide:(Y=H.type.defaultProps)===null||Y===void 0?void 0:Y.hide;return ee===T&&(k||!ie)}),b,a,d);$&&(F=$)}A&&(x==="number"||_!=="auto")&&(S=a_(O,b,"category"))}else A?F=X3(0,I):l&&l[T]&&l[T].hasStack&&x==="number"?F=f==="expand"?[0,1]:pye(l[T].stackGroups,c,u):F=cye(O,s.filter(function(H){var W=o in H.props?H.props[o]:H.type.defaultProps[o],Y="hide"in H.props?H.props.hide:H.type.defaultProps.hide;return W===T&&(k||!Y)}),x,d,!0);if(x==="number")F=WQ(h,F,T,a,C),L&&(F=iQ(L,F,j));else if(x==="category"&&L){var K=L,V=F.every(function(H){return K.indexOf(H)>=0});V&&(F=K)}}return vt(vt({},v),{},Sn({},T,vt(vt({},g),{},{axisType:a,domain:F,categoricalDomain:S,duplicateDomain:M,originalDomain:(m=g.domain)!==null&&m!==void 0?m:q,isCategorical:A,layout:d})))},{})},int=function(e,n){var r=n.graphicalItems,s=n.Axis,a=n.axisType,o=n.axisIdKey,l=n.stackGroups,c=n.dataStartIndex,u=n.dataEndIndex,d=e.layout,h=e.children,f=$F(e.data,{graphicalItems:r,dataStartIndex:c,dataEndIndex:u}),A=f.length,v=uye(d,a),p=-1;return r.reduce(function(m,g){var x=g.type.defaultProps!==void 0?vt(vt({},g.type.defaultProps),g.props):g.props,b=x[o],j=Mbe("number");if(!m[b]){p++;var N;return v?N=X3(0,A):l&&l[b]&&l[b].hasStack?(N=pye(l[b].stackGroups,c,u),N=WQ(h,N,b,a)):(N=iQ(j,cye(f,r.filter(function(_){var C,k,T=o in _.props?_.props[o]:(C=_.type.defaultProps)===null||C===void 0?void 0:C[o],O="hide"in _.props?_.props.hide:(k=_.type.defaultProps)===null||k===void 0?void 0:k.hide;return T===b&&!O}),"number",d),s.defaultProps.allowDataOverflow),N=WQ(h,N,b,a)),vt(vt({},m),{},Sn({},b,vt(vt({axisType:a},s.defaultProps),{},{hide:!0,orientation:Kc(Ztt,"".concat(a,".").concat(p%2),null),domain:N,originalDomain:j,isCategorical:v,layout:d})))}return m},{})},snt=function(e,n){var r=n.axisType,s=r===void 0?"xAxis":r,a=n.AxisComp,o=n.graphicalItems,l=n.stackGroups,c=n.dataStartIndex,u=n.dataEndIndex,d=e.children,h="".concat(s,"Id"),f=Bl(d,a),A={};return f&&f.length?A=rnt(e,{axes:f,graphicalItems:o,axisType:s,axisIdKey:h,stackGroups:l,dataStartIndex:c,dataEndIndex:u}):o&&o.length&&(A=int(e,{Axis:a,graphicalItems:o,axisType:s,axisIdKey:h,stackGroups:l,dataStartIndex:c,dataEndIndex:u})),A},ant=function(e){var n=tg(e),r=Ap(n,!1,!0);return{tooltipTicks:r,orderedTooltipTicks:OW(r,function(s){return s.coordinate}),tooltipAxis:n,tooltipAxisBandSize:U3(n,r)}},Iae=function(e){var n=e.children,r=e.defaultShowTooltip,s=Rc(n,d2),a=0,o=0;return e.data&&e.data.length!==0&&(o=e.data.length-1),s&&s.props&&(s.props.startIndex>=0&&(a=s.props.startIndex),s.props.endIndex>=0&&(o=s.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:a,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!r}},ont=function(e){return!e||!e.length?!1:e.some(function(n){var r=gp(n&&n.type);return r&&r.indexOf("Bar")>=0})},Oae=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},lnt=function(e,n){var r=e.props,s=e.graphicalItems,a=e.xAxisMap,o=a===void 0?{}:a,l=e.yAxisMap,c=l===void 0?{}:l,u=r.width,d=r.height,h=r.children,f=r.margin||{},A=Rc(h,d2),v=Rc(h,Ji),p=Object.keys(c).reduce(function(N,_){var C=c[_],k=C.orientation;return!C.mirror&&!C.hide?vt(vt({},N),{},Sn({},k,N[k]+C.width)):N},{left:f.left||0,right:f.right||0}),m=Object.keys(o).reduce(function(N,_){var C=o[_],k=C.orientation;return!C.mirror&&!C.hide?vt(vt({},N),{},Sn({},k,Kc(N,"".concat(k))+C.height)):N},{top:f.top||0,bottom:f.bottom||0}),g=vt(vt({},m),p),x=g.bottom;A&&(g.bottom+=A.props.height||d2.defaultProps.height),v&&n&&(g=Uqe(g,s,r,n));var b=u-g.left-g.right,j=d-g.top-g.bottom;return vt(vt({brushBottom:x},g),{},{width:Math.max(b,0),height:Math.max(j,0)})},cnt=function(e,n){if(n==="xAxis")return e[n].width;if(n==="yAxis")return e[n].height},Ly=function(e){var n=e.chartName,r=e.GraphicalChild,s=e.defaultTooltipEventType,a=s===void 0?"axis":s,o=e.validateTooltipEventTypes,l=o===void 0?["axis"]:o,c=e.axisComponents,u=e.legendContent,d=e.formatAxisMap,h=e.defaultProps,f=function(g,x){var b=x.graphicalItems,j=x.stackGroups,N=x.offset,_=x.updateId,C=x.dataStartIndex,k=x.dataEndIndex,T=g.barSize,O=g.layout,I=g.barGap,F=g.barCategoryGap,M=g.maxBarSize,S=Oae(O),q=S.numericAxisName,U=S.cateAxisName,L=ont(b),z=[];return b.forEach(function($,K){var V=$F(g.data,{graphicalItems:[$],dataStartIndex:C,dataEndIndex:k}),H=$.type.defaultProps!==void 0?vt(vt({},$.type.defaultProps),$.props):$.props,W=H.dataKey,Y=H.maxBarSize,ee=H["".concat(q,"Id")],ie=H["".concat(U,"Id")],se={},Ae=c.reduce(function(ze,Fe){var De=x["".concat(Fe.axisType,"Map")],Ce=H["".concat(Fe.axisType,"Id")];De&&De[Ce]||Fe.axisType==="zAxis"||xy();var Oe=De[Ce];return vt(vt({},ze),{},Sn(Sn({},Fe.axisType,Oe),"".concat(Fe.axisType,"Ticks"),Ap(Oe)))},se),he=Ae[U],Be=Ae["".concat(U,"Ticks")],Me=j&&j[ee]&&j[ee].hasStack&&qqe($,j[ee].stackGroups),Ie=gp($.type).indexOf("Bar")>=0,Ye=U3(he,Be),X=[],ue=L&&Fqe({barSize:T,stackGroups:j,totalSize:cnt(Ae,U)});if(Ie){var re,de,ce=vn(Y)?M:Y,Ne=(re=(de=U3(he,Be,!0))!==null&&de!==void 0?de:ce)!==null&&re!==void 0?re:0;X=Pqe({barGap:I,barCategoryGap:F,bandSize:Ne!==Ye?Ne:Ye,sizeList:ue[ie],maxBarSize:ce}),Ne!==Ye&&(X=X.map(function(ze){return vt(vt({},ze),{},{position:vt(vt({},ze.position),{},{offset:ze.position.offset-Ne/2})})}))}var $e=$&&$.type&&$.type.getComposedData;$e&&z.push({props:vt(vt({},$e(vt(vt({},Ae),{},{displayedData:V,props:g,dataKey:W,item:$,bandSize:Ye,barPosition:X,offset:N,stackedData:Me,layout:O,dataStartIndex:C,dataEndIndex:k}))),{},Sn(Sn(Sn({key:$.key||"item-".concat(K)},q,Ae[q]),U,Ae[U]),"animationId",_)),childIndex:TRe($,g.children),item:$})}),z},A=function(g,x){var b=g.props,j=g.dataStartIndex,N=g.dataEndIndex,_=g.updateId;if(!zee({props:b}))return null;var C=b.children,k=b.layout,T=b.stackOffset,O=b.data,I=b.reverseStackOrder,F=Oae(k),M=F.numericAxisName,S=F.cateAxisName,q=Bl(C,r),U=$qe(O,q,"".concat(M,"Id"),"".concat(S,"Id"),T,I),L=c.reduce(function(H,W){var Y="".concat(W.axisType,"Map");return vt(vt({},H),{},Sn({},Y,snt(b,vt(vt({},W),{},{graphicalItems:q,stackGroups:W.axisType===M&&U,dataStartIndex:j,dataEndIndex:N}))))},{}),z=lnt(vt(vt({},L),{},{props:b,graphicalItems:q}),x==null?void 0:x.legendBBox);Object.keys(L).forEach(function(H){L[H]=d(b,L[H],z,H.replace("Map",""),n)});var $=L["".concat(S,"Map")],K=ant($),V=f(b,vt(vt({},L),{},{dataStartIndex:j,dataEndIndex:N,updateId:_,graphicalItems:q,stackGroups:U,offset:z}));return vt(vt({formattedGraphicalItems:V,graphicalItems:q,offset:z,stackGroups:U},K),L)},v=function(m){function g(x){var b,j,N;return Htt(this,g),N=Wtt(this,g,[x]),Sn(N,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),Sn(N,"accessibilityManager",new Ett),Sn(N,"handleLegendBBoxUpdate",function(_){if(_){var C=N.state,k=C.dataStartIndex,T=C.dataEndIndex,O=C.updateId;N.setState(vt({legendBBox:_},A({props:N.props,dataStartIndex:k,dataEndIndex:T,updateId:O},vt(vt({},N.state),{},{legendBBox:_}))))}}),Sn(N,"handleReceiveSyncEvent",function(_,C,k){if(N.props.syncId===_){if(k===N.eventEmitterSymbol&&typeof N.props.syncMethod!="function")return;N.applySyncEvent(C)}}),Sn(N,"handleBrushChange",function(_){var C=_.startIndex,k=_.endIndex;if(C!==N.state.dataStartIndex||k!==N.state.dataEndIndex){var T=N.state.updateId;N.setState(function(){return vt({dataStartIndex:C,dataEndIndex:k},A({props:N.props,dataStartIndex:C,dataEndIndex:k,updateId:T},N.state))}),N.triggerSyncEvent({dataStartIndex:C,dataEndIndex:k})}}),Sn(N,"handleMouseEnter",function(_){var C=N.getMouseInfo(_);if(C){var k=vt(vt({},C),{},{isTooltipActive:!0});N.setState(k),N.triggerSyncEvent(k);var T=N.props.onMouseEnter;gn(T)&&T(k,_)}}),Sn(N,"triggeredAfterMouseMove",function(_){var C=N.getMouseInfo(_),k=C?vt(vt({},C),{},{isTooltipActive:!0}):{isTooltipActive:!1};N.setState(k),N.triggerSyncEvent(k);var T=N.props.onMouseMove;gn(T)&&T(k,_)}),Sn(N,"handleItemMouseEnter",function(_){N.setState(function(){return{isTooltipActive:!0,activeItem:_,activePayload:_.tooltipPayload,activeCoordinate:_.tooltipPosition||{x:_.cx,y:_.cy}}})}),Sn(N,"handleItemMouseLeave",function(){N.setState(function(){return{isTooltipActive:!1}})}),Sn(N,"handleMouseMove",function(_){_.persist(),N.throttleTriggeredAfterMouseMove(_)}),Sn(N,"handleMouseLeave",function(_){N.throttleTriggeredAfterMouseMove.cancel();var C={isTooltipActive:!1};N.setState(C),N.triggerSyncEvent(C);var k=N.props.onMouseLeave;gn(k)&&k(C,_)}),Sn(N,"handleOuterEvent",function(_){var C=DRe(_),k=Kc(N.props,"".concat(C));if(C&&gn(k)){var T,O;/.*touch.*/i.test(C)?O=N.getMouseInfo(_.changedTouches[0]):O=N.getMouseInfo(_),k((T=O)!==null&&T!==void 0?T:{},_)}}),Sn(N,"handleClick",function(_){var C=N.getMouseInfo(_);if(C){var k=vt(vt({},C),{},{isTooltipActive:!0});N.setState(k),N.triggerSyncEvent(k);var T=N.props.onClick;gn(T)&&T(k,_)}}),Sn(N,"handleMouseDown",function(_){var C=N.props.onMouseDown;if(gn(C)){var k=N.getMouseInfo(_);C(k,_)}}),Sn(N,"handleMouseUp",function(_){var C=N.props.onMouseUp;if(gn(C)){var k=N.getMouseInfo(_);C(k,_)}}),Sn(N,"handleTouchMove",function(_){_.changedTouches!=null&&_.changedTouches.length>0&&N.throttleTriggeredAfterMouseMove(_.changedTouches[0])}),Sn(N,"handleTouchStart",function(_){_.changedTouches!=null&&_.changedTouches.length>0&&N.handleMouseDown(_.changedTouches[0])}),Sn(N,"handleTouchEnd",function(_){_.changedTouches!=null&&_.changedTouches.length>0&&N.handleMouseUp(_.changedTouches[0])}),Sn(N,"handleDoubleClick",function(_){var C=N.props.onDoubleClick;if(gn(C)){var k=N.getMouseInfo(_);C(k,_)}}),Sn(N,"handleContextMenu",function(_){var C=N.props.onContextMenu;if(gn(C)){var k=N.getMouseInfo(_);C(k,_)}}),Sn(N,"triggerSyncEvent",function(_){N.props.syncId!==void 0&&uL.emit(dL,N.props.syncId,_,N.eventEmitterSymbol)}),Sn(N,"applySyncEvent",function(_){var C=N.props,k=C.layout,T=C.syncMethod,O=N.state.updateId,I=_.dataStartIndex,F=_.dataEndIndex;if(_.dataStartIndex!==void 0||_.dataEndIndex!==void 0)N.setState(vt({dataStartIndex:I,dataEndIndex:F},A({props:N.props,dataStartIndex:I,dataEndIndex:F,updateId:O},N.state)));else if(_.activeTooltipIndex!==void 0){var M=_.chartX,S=_.chartY,q=_.activeTooltipIndex,U=N.state,L=U.offset,z=U.tooltipTicks;if(!L)return;if(typeof T=="function")q=T(z,_);else if(T==="value"){q=-1;for(var $=0;$<z.length;$++)if(z[$].value===_.activeLabel){q=$;break}}var K=vt(vt({},L),{},{x:L.left,y:L.top}),V=Math.min(M,K.x+K.width),H=Math.min(S,K.y+K.height),W=z[q]&&z[q].value,Y=KQ(N.state,N.props.data,q),ee=z[q]?{x:k==="horizontal"?z[q].coordinate:V,y:k==="horizontal"?H:z[q].coordinate}:Obe;N.setState(vt(vt({},_),{},{activeLabel:W,activeCoordinate:ee,activePayload:Y,activeTooltipIndex:q}))}else N.setState(_)}),Sn(N,"renderCursor",function(_){var C,k=N.state,T=k.isTooltipActive,O=k.activeCoordinate,I=k.activePayload,F=k.offset,M=k.activeTooltipIndex,S=k.tooltipAxisBandSize,q=N.getTooltipEventType(),U=(C=_.props.active)!==null&&C!==void 0?C:T,L=N.props.layout,z=_.key||"_recharts-cursor";return pe.createElement(Utt,{key:z,activeCoordinate:O,activePayload:I,activeTooltipIndex:M,chartName:n,element:_,isActive:U,layout:L,offset:F,tooltipAxisBandSize:S,tooltipEventType:q})}),Sn(N,"renderPolarAxis",function(_,C,k){var T=Kc(_,"type.axisType"),O=Kc(N.state,"".concat(T,"Map")),I=_.type.defaultProps,F=I!==void 0?vt(vt({},I),_.props):_.props,M=O&&O[F["".concat(T,"Id")]];return E.cloneElement(_,vt(vt({},M),{},{className:Dn(T,M.className),key:_.key||"".concat(C,"-").concat(k),ticks:Ap(M,!0)}))}),Sn(N,"renderPolarGrid",function(_){var C=_.props,k=C.radialLines,T=C.polarAngles,O=C.polarRadius,I=N.state,F=I.radiusAxisMap,M=I.angleAxisMap,S=tg(F),q=tg(M),U=q.cx,L=q.cy,z=q.innerRadius,$=q.outerRadius;return E.cloneElement(_,{polarAngles:Array.isArray(T)?T:Ap(q,!0).map(function(K){return K.coordinate}),polarRadius:Array.isArray(O)?O:Ap(S,!0).map(function(K){return K.coordinate}),cx:U,cy:L,innerRadius:z,outerRadius:$,key:_.key||"polar-grid",radialLines:k})}),Sn(N,"renderLegend",function(){var _=N.state.formattedGraphicalItems,C=N.props,k=C.children,T=C.width,O=C.height,I=N.props.margin||{},F=T-(I.left||0)-(I.right||0),M=oye({children:k,formattedGraphicalItems:_,legendWidth:F,legendContent:u});if(!M)return null;var S=M.item,q=Fae(M,Itt);return E.cloneElement(S,vt(vt({},q),{},{chartWidth:T,chartHeight:O,margin:I,onBBoxUpdate:N.handleLegendBBoxUpdate}))}),Sn(N,"renderTooltip",function(){var _,C=N.props,k=C.children,T=C.accessibilityLayer,O=Rc(k,er);if(!O)return null;var I=N.state,F=I.isTooltipActive,M=I.activeCoordinate,S=I.activePayload,q=I.activeLabel,U=I.offset,L=(_=O.props.active)!==null&&_!==void 0?_:F;return E.cloneElement(O,{viewBox:vt(vt({},U),{},{x:U.left,y:U.top}),active:L,label:q,payload:L?S:[],coordinate:M,accessibilityLayer:T})}),Sn(N,"renderBrush",function(_){var C=N.props,k=C.margin,T=C.data,O=N.state,I=O.offset,F=O.dataStartIndex,M=O.dataEndIndex,S=O.updateId;return E.cloneElement(_,{key:_.key||"_recharts-brush",onChange:v4(N.handleBrushChange,_.props.onChange),data:T,x:Tt(_.props.x)?_.props.x:I.left,y:Tt(_.props.y)?_.props.y:I.top+I.height+I.brushBottom-(k.bottom||0),width:Tt(_.props.width)?_.props.width:I.width,startIndex:F,endIndex:M,updateId:"brush-".concat(S)})}),Sn(N,"renderReferenceElement",function(_,C,k){if(!_)return null;var T=N,O=T.clipPathId,I=N.state,F=I.xAxisMap,M=I.yAxisMap,S=I.offset,q=_.type.defaultProps||{},U=_.props,L=U.xAxisId,z=L===void 0?q.xAxisId:L,$=U.yAxisId,K=$===void 0?q.yAxisId:$;return E.cloneElement(_,{key:_.key||"".concat(C,"-").concat(k),xAxis:F[z],yAxis:M[K],viewBox:{x:S.left,y:S.top,width:S.width,height:S.height},clipPathId:O})}),Sn(N,"renderActivePoints",function(_){var C=_.item,k=_.activePoint,T=_.basePoint,O=_.childIndex,I=_.isRange,F=[],M=C.props.key,S=C.item.type.defaultProps!==void 0?vt(vt({},C.item.type.defaultProps),C.item.props):C.item.props,q=S.activeDot,U=S.dataKey,L=vt(vt({index:O,dataKey:U,cx:k.x,cy:k.y,r:4,fill:cq(C.item),strokeWidth:2,stroke:"#fff",payload:k.payload,value:k.value},Yt(q,!1)),d3(q));return F.push(g.renderActiveDot(q,L,"".concat(M,"-activePoint-").concat(O))),T?F.push(g.renderActiveDot(q,vt(vt({},L),{},{cx:T.x,cy:T.y}),"".concat(M,"-basePoint-").concat(O))):I&&F.push(null),F}),Sn(N,"renderGraphicChild",function(_,C,k){var T=N.filterFormatItem(_,C,k);if(!T)return null;var O=N.getTooltipEventType(),I=N.state,F=I.isTooltipActive,M=I.tooltipAxis,S=I.activeTooltipIndex,q=I.activeLabel,U=N.props.children,L=Rc(U,er),z=T.props,$=z.points,K=z.isRange,V=z.baseLine,H=T.item.type.defaultProps!==void 0?vt(vt({},T.item.type.defaultProps),T.item.props):T.item.props,W=H.activeDot,Y=H.hide,ee=H.activeBar,ie=H.activeShape,se=!!(!Y&&F&&L&&(W||ee||ie)),Ae={};O!=="axis"&&L&&L.props.trigger==="click"?Ae={onClick:v4(N.handleItemMouseEnter,_.props.onClick)}:O!=="axis"&&(Ae={onMouseLeave:v4(N.handleItemMouseLeave,_.props.onMouseLeave),onMouseEnter:v4(N.handleItemMouseEnter,_.props.onMouseEnter)});var he=E.cloneElement(_,vt(vt({},T.props),Ae));function Be(Fe){return typeof M.dataKey=="function"?M.dataKey(Fe.payload):null}if(se)if(S>=0){var Me,Ie;if(M.dataKey&&!M.allowDuplicatedCategory){var Ye=typeof M.dataKey=="function"?Be:"payload.".concat(M.dataKey.toString());Me=u3($,Ye,q),Ie=K&&V&&u3(V,Ye,q)}else Me=$==null?void 0:$[S],Ie=K&&V&&V[S];if(ie||ee){var X=_.props.activeIndex!==void 0?_.props.activeIndex:S;return[E.cloneElement(_,vt(vt(vt({},T.props),Ae),{},{activeIndex:X})),null,null]}if(!vn(Me))return[he].concat(N2(N.renderActivePoints({item:T,activePoint:Me,basePoint:Ie,childIndex:S,isRange:K})))}else{var ue,re=(ue=N.getItemByXY(N.state.activeCoordinate))!==null&&ue!==void 0?ue:{graphicalItem:he},de=re.graphicalItem,ce=de.item,Ne=ce===void 0?_:ce,$e=de.childIndex,ze=vt(vt(vt({},T.props),Ae),{},{activeIndex:$e});return[E.cloneElement(Ne,ze),null,null]}return K?[he,null,null]:[he,null]}),Sn(N,"renderCustomized",function(_,C,k){return E.cloneElement(_,vt(vt({key:"recharts-customized-".concat(k)},N.props),N.state))}),Sn(N,"renderMap",{CartesianGrid:{handler:N4,once:!0},ReferenceArea:{handler:N.renderReferenceElement},ReferenceLine:{handler:N4},ReferenceDot:{handler:N.renderReferenceElement},XAxis:{handler:N4},YAxis:{handler:N4},Brush:{handler:N.renderBrush,once:!0},Bar:{handler:N.renderGraphicChild},Line:{handler:N.renderGraphicChild},Area:{handler:N.renderGraphicChild},Radar:{handler:N.renderGraphicChild},RadialBar:{handler:N.renderGraphicChild},Scatter:{handler:N.renderGraphicChild},Pie:{handler:N.renderGraphicChild},Funnel:{handler:N.renderGraphicChild},Tooltip:{handler:N.renderCursor,once:!0},PolarGrid:{handler:N.renderPolarGrid,once:!0},PolarAngleAxis:{handler:N.renderPolarAxis},PolarRadiusAxis:{handler:N.renderPolarAxis},Customized:{handler:N.renderCustomized}}),N.clipPathId="".concat((b=x.id)!==null&&b!==void 0?b:wx("recharts"),"-clip"),N.throttleTriggeredAfterMouseMove=r0e(N.triggeredAfterMouseMove,(j=x.throttleDelay)!==null&&j!==void 0?j:1e3/60),N.state={},N}return Ktt(g,m),$tt(g,[{key:"componentDidMount",value:function(){var b,j;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(b=this.props.margin.left)!==null&&b!==void 0?b:0,top:(j=this.props.margin.top)!==null&&j!==void 0?j:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var b=this.props,j=b.children,N=b.data,_=b.height,C=b.layout,k=Rc(j,er);if(k){var T=k.props.defaultIndex;if(!(typeof T!="number"||T<0||T>this.state.tooltipTicks.length-1)){var O=this.state.tooltipTicks[T]&&this.state.tooltipTicks[T].value,I=KQ(this.state,N,T,O),F=this.state.tooltipTicks[T].coordinate,M=(this.state.offset.top+_)/2,S=C==="horizontal",q=S?{x:F,y:M}:{y:F,x:M},U=this.state.formattedGraphicalItems.find(function(z){var $=z.item;return $.type.name==="Scatter"});U&&(q=vt(vt({},q),U.props.points[T].tooltipPosition),I=U.props.points[T].tooltipPayload);var L={activeTooltipIndex:T,isTooltipActive:!0,activeLabel:O,activePayload:I,activeCoordinate:q};this.setState(L),this.renderCursor(k),this.accessibilityManager.setIndex(T)}}}},{key:"getSnapshotBeforeUpdate",value:function(b,j){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==j.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==b.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==b.margin){var N,_;this.accessibilityManager.setDetails({offset:{left:(N=this.props.margin.left)!==null&&N!==void 0?N:0,top:(_=this.props.margin.top)!==null&&_!==void 0?_:0}})}return null}},{key:"componentDidUpdate",value:function(b){_9([Rc(b.children,er)],[Rc(this.props.children,er)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var b=Rc(this.props.children,er);if(b&&typeof b.props.shared=="boolean"){var j=b.props.shared?"axis":"item";return l.indexOf(j)>=0?j:a}return a}},{key:"getMouseInfo",value:function(b){if(!this.container)return null;var j=this.container,N=j.getBoundingClientRect(),_=gHe(N),C={chartX:Math.round(b.pageX-_.left),chartY:Math.round(b.pageY-_.top)},k=N.width/j.offsetWidth||1,T=this.inRange(C.chartX,C.chartY,k);if(!T)return null;var O=this.state,I=O.xAxisMap,F=O.yAxisMap,M=this.getTooltipEventType(),S=Uae(this.state,this.props.data,this.props.layout,T);if(M!=="axis"&&I&&F){var q=tg(I).scale,U=tg(F).scale,L=q&&q.invert?q.invert(C.chartX):null,z=U&&U.invert?U.invert(C.chartY):null;return vt(vt({},C),{},{xValue:L,yValue:z},S)}return S?vt(vt({},C),S):null}},{key:"inRange",value:function(b,j){var N=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,_=this.props.layout,C=b/N,k=j/N;if(_==="horizontal"||_==="vertical"){var T=this.state.offset,O=C>=T.left&&C<=T.left+T.width&&k>=T.top&&k<=T.top+T.height;return O?{x:C,y:k}:null}var I=this.state,F=I.angleAxisMap,M=I.radiusAxisMap;if(F&&M){var S=tg(F);return kie({x:C,y:k},S)}return null}},{key:"parseEventsOfWrapper",value:function(){var b=this.props.children,j=this.getTooltipEventType(),N=Rc(b,er),_={};N&&j==="axis"&&(N.props.trigger==="click"?_={onClick:this.handleClick}:_={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var C=d3(this.props,this.handleOuterEvent);return vt(vt({},C),_)}},{key:"addListener",value:function(){uL.on(dL,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){uL.removeListener(dL,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(b,j,N){for(var _=this.state.formattedGraphicalItems,C=0,k=_.length;C<k;C++){var T=_[C];if(T.item===b||T.props.key===b.key||j===gp(T.item.type)&&N===T.childIndex)return T}return null}},{key:"renderClipPath",value:function(){var b=this.clipPathId,j=this.state.offset,N=j.left,_=j.top,C=j.height,k=j.width;return pe.createElement("defs",null,pe.createElement("clipPath",{id:b},pe.createElement("rect",{x:N,y:_,height:C,width:k})))}},{key:"getXScales",value:function(){var b=this.state.xAxisMap;return b?Object.entries(b).reduce(function(j,N){var _=kae(N,2),C=_[0],k=_[1];return vt(vt({},j),{},Sn({},C,k.scale))},{}):null}},{key:"getYScales",value:function(){var b=this.state.yAxisMap;return b?Object.entries(b).reduce(function(j,N){var _=kae(N,2),C=_[0],k=_[1];return vt(vt({},j),{},Sn({},C,k.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(b){var j;return(j=this.state.xAxisMap)===null||j===void 0||(j=j[b])===null||j===void 0?void 0:j.scale}},{key:"getYScaleByAxisId",value:function(b){var j;return(j=this.state.yAxisMap)===null||j===void 0||(j=j[b])===null||j===void 0?void 0:j.scale}},{key:"getItemByXY",value:function(b){var j=this.state,N=j.formattedGraphicalItems,_=j.activeItem;if(N&&N.length)for(var C=0,k=N.length;C<k;C++){var T=N[C],O=T.props,I=T.item,F=I.type.defaultProps!==void 0?vt(vt({},I.type.defaultProps),I.props):I.props,M=gp(I.type);if(M==="Bar"){var S=(O.data||[]).find(function(z){return UGe(b,z)});if(S)return{graphicalItem:T,payload:S}}else if(M==="RadialBar"){var q=(O.data||[]).find(function(z){return kie(b,z)});if(q)return{graphicalItem:T,payload:q}}else if(IF(T,_)||OF(T,_)||w5(T,_)){var U=pYe({graphicalItem:T,activeTooltipItem:_,itemData:F.data}),L=F.activeIndex===void 0?U:F.activeIndex;return{graphicalItem:vt(vt({},T),{},{childIndex:L}),payload:w5(T,_)?F.data[U]:T.props.data[U]}}}return null}},{key:"render",value:function(){var b=this;if(!zee(this))return null;var j=this.props,N=j.children,_=j.className,C=j.width,k=j.height,T=j.style,O=j.compact,I=j.title,F=j.desc,M=Fae(j,Ott),S=Yt(M,!1);if(O)return pe.createElement(cae,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},pe.createElement(S9,l1({},S,{width:C,height:k,title:I,desc:F}),this.renderClipPath(),Wee(N,this.renderMap)));if(this.props.accessibilityLayer){var q,U;S.tabIndex=(q=this.props.tabIndex)!==null&&q!==void 0?q:0,S.role=(U=this.props.role)!==null&&U!==void 0?U:"application",S.onKeyDown=function(z){b.accessibilityManager.keyboardEvent(z)},S.onFocus=function(){b.accessibilityManager.focus()}}var L=this.parseEventsOfWrapper();return pe.createElement(cae,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},pe.createElement("div",l1({className:Dn("recharts-wrapper",_),style:vt({position:"relative",cursor:"default",width:C,height:k},T)},L,{ref:function($){b.container=$}}),pe.createElement(S9,l1({},S,{width:C,height:k,title:I,desc:F,style:ent}),this.renderClipPath(),Wee(N,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(E.Component);Sn(v,"displayName",n),Sn(v,"defaultProps",vt({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},h)),Sn(v,"getDerivedStateFromProps",function(m,g){var x=m.dataKey,b=m.data,j=m.children,N=m.width,_=m.height,C=m.layout,k=m.stackOffset,T=m.margin,O=g.dataStartIndex,I=g.dataEndIndex;if(g.updateId===void 0){var F=Iae(m);return vt(vt(vt({},F),{},{updateId:0},A(vt(vt({props:m},F),{},{updateId:0}),g)),{},{prevDataKey:x,prevData:b,prevWidth:N,prevHeight:_,prevLayout:C,prevStackOffset:k,prevMargin:T,prevChildren:j})}if(x!==g.prevDataKey||b!==g.prevData||N!==g.prevWidth||_!==g.prevHeight||C!==g.prevLayout||k!==g.prevStackOffset||!_1(T,g.prevMargin)){var M=Iae(m),S={chartX:g.chartX,chartY:g.chartY,isTooltipActive:g.isTooltipActive},q=vt(vt({},Uae(g,b,C)),{},{updateId:g.updateId+1}),U=vt(vt(vt({},M),S),q);return vt(vt(vt({},U),A(vt({props:m},U),g)),{},{prevDataKey:x,prevData:b,prevWidth:N,prevHeight:_,prevLayout:C,prevStackOffset:k,prevMargin:T,prevChildren:j})}if(!_9(j,g.prevChildren)){var L,z,$,K,V=Rc(j,d2),H=V&&(L=(z=V.props)===null||z===void 0?void 0:z.startIndex)!==null&&L!==void 0?L:O,W=V&&($=(K=V.props)===null||K===void 0?void 0:K.endIndex)!==null&&$!==void 0?$:I,Y=H!==O||W!==I,ee=!vn(b),ie=ee&&!Y?g.updateId:g.updateId+1;return vt(vt({updateId:ie},A(vt(vt({props:m},g),{},{updateId:ie,dataStartIndex:H,dataEndIndex:W}),g)),{},{prevChildren:j,dataStartIndex:H,dataEndIndex:W})}return null}),Sn(v,"renderActiveDot",function(m,g,x){var b;return E.isValidElement(m)?b=E.cloneElement(m,g):gn(m)?b=m(g):b=pe.createElement(oj,g),pe.createElement(Rn,{className:"recharts-active-dot",key:x},b)});var p=E.forwardRef(function(g,x){return pe.createElement(v,l1({},g,{ref:x}))});return p.displayName=v.displayName,p},If=Ly({chartName:"LineChart",GraphicalChild:Kr,axisComponents:[{axisType:"xAxis",AxisComp:Tr},{axisType:"yAxis",AxisComp:ur}],formatAxisMap:qS}),uj=Ly({chartName:"BarChart",GraphicalChild:Ys,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:Tr},{axisType:"yAxis",AxisComp:ur}],formatAxisMap:qS}),WF=Ly({chartName:"PieChart",GraphicalChild:ed,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:qp},{axisType:"radiusAxis",AxisComp:Wp}],formatAxisMap:vye,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}}),qF=Ly({chartName:"RadarChart",GraphicalChild:ph,axisComponents:[{axisType:"angleAxis",AxisComp:qp},{axisType:"radiusAxis",AxisComp:Wp}],formatAxisMap:vye,defaultProps:{layout:"centric",startAngle:90,endAngle:-270,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}}),unt=Ly({chartName:"ScatterChart",GraphicalChild:cj,defaultTooltipEventType:"item",validateTooltipEventTypes:["item"],axisComponents:[{axisType:"xAxis",AxisComp:Tr},{axisType:"yAxis",AxisComp:ur},{axisType:"zAxis",AxisComp:VS}],formatAxisMap:qS}),B5=Ly({chartName:"AreaChart",GraphicalChild:Is,axisComponents:[{axisType:"xAxis",AxisComp:Tr},{axisType:"yAxis",AxisComp:ur}],formatAxisMap:qS}),GQ=Ly({chartName:"ComposedChart",GraphicalChild:[Kr,Is,Ys,cj],axisComponents:[{axisType:"xAxis",AxisComp:Tr},{axisType:"yAxis",AxisComp:ur},{axisType:"zAxis",AxisComp:VS}],formatAxisMap:qS});const dnt=()=>{const[t,e]=E.useState(null),[n,r]=E.useState(null),[s,a]=E.useState(!0),[o,l]=E.useState(!1),[c,u]=E.useState("overview"),{toast:d}=ki();E.useEffect(()=>{h(),f()},[]);const h=async()=>{try{const x=await(await fetch("/api/style/profile")).json();x.success?e(x.profile):e(A())}catch(g){console.error("خطأ في تحميل الملف الشخصي:",g),e(A()),d({title:"تحذير",description:"تم تحميل الإعدادات الافتراضية",variant:"default"})}finally{a(!1)}},f=async()=>{try{const x=await(await fetch("/api/style/insights")).json();x.success&&r(x.insights)}catch(g){console.error("خطأ في تحميل رؤى التعلم:",g)}},A=()=>({user_id:"guest",jattlaoui_adaptation_level:.5,preferred_vocabulary_complexity:.7,preferred_sentence_length:.6,preferred_cultural_depth:.8,style_preferences:{dialogue_style:"balanced",description_detail:.7,narrative_pace:.6,emotional_depth:.8,philosophical_focus:.6,sensory_description_intensity:.7},writing_habits:{preferred_chapter_length:3e3,writing_sessions_per_week:3,favorite_writing_time:"evening"},learning_stats:{total_interactions:0,improvement_rate:0,content_satisfaction:3.5,last_activity:new Date().toISOString()}}),v=async()=>{if(t){l(!0);try{const x=await(await fetch("/api/style/profile",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)})).json();if(x.success)d({title:"تم الحفظ",description:"تم حفظ تفضيلاتك بنجاح",variant:"default"});else throw new Error(x.error)}catch{d({title:"خطأ في الحفظ",description:"فشل في حفظ التفضيلات",variant:"destructive"})}finally{l(!1)}}},p=(g,x)=>{t&&e({...t,style_preferences:{...t.style_preferences,[g]:x}})},m=(g,x)=>{t&&e({...t,[g]:x})};return s?i.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Ar,{className:"h-5 w-5 animate-spin"}),i.jsx("span",{children:"تحميل لوحة التحكم الشخصية..."})]})}):t?i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex justify-between items-start",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"لوحة التحكم الشخصية"}),i.jsx("p",{className:"text-gray-600 mt-2",children:"خصص أسلوب الكتابة ليناسب تفضيلاتك الشخصية"})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsxs(xe,{variant:"outline",onClick:f,children:[i.jsx(Ar,{className:"h-4 w-4 mr-2"}),"تحديث البيانات"]}),i.jsxs(xe,{onClick:v,disabled:o,children:[i.jsx(Ko,{className:"h-4 w-4 mr-2"}),o?"جاري الحفظ...":"حفظ التفضيلات"]})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[i.jsx(ae,{children:i.jsxs(oe,{className:"p-4",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-gray-600",children:"مستوى التكيف"}),i.jsxs("p",{className:"text-2xl font-bold",children:[Math.round(t.jattlaoui_adaptation_level*100),"%"]})]}),i.jsx(Ace,{className:"h-8 w-8 text-blue-500"})]}),i.jsx(tt,{value:t.jattlaoui_adaptation_level*100,className:"mt-2"})]})}),i.jsx(ae,{children:i.jsxs(oe,{className:"p-4",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-gray-600",children:"رضا المحتوى"}),i.jsxs("p",{className:"text-2xl font-bold",children:[t.learning_stats.content_satisfaction.toFixed(1),"/5"]})]}),i.jsx(ta,{className:"h-8 w-8 text-red-500"})]}),i.jsx(tt,{value:t.learning_stats.content_satisfaction*20,className:"mt-2"})]})}),i.jsx(ae,{children:i.jsx(oe,{className:"p-4",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-gray-600",children:"التفاعلات الإجمالية"}),i.jsx("p",{className:"text-2xl font-bold",children:t.learning_stats.total_interactions})]}),i.jsx(Rs,{className:"h-8 w-8 text-green-500"})]})})}),i.jsx(ae,{children:i.jsx(oe,{className:"p-4",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-gray-600",children:"معدل التحسن"}),i.jsxs("p",{className:"text-2xl font-bold",children:[Math.round(t.learning_stats.improvement_rate*100),"%"]})]}),i.jsx(Hn,{className:"h-8 w-8 text-purple-500"})]})})})]}),i.jsxs(zn,{value:c,onValueChange:u,className:"space-y-4",children:[i.jsxs(On,{className:"grid w-full grid-cols-4",children:[i.jsx(nt,{value:"overview",children:"نظرة عامة"}),i.jsx(nt,{value:"style-settings",children:"إعدادات الأسلوب"}),i.jsx(nt,{value:"learning-insights",children:"رؤى التعلم"}),i.jsx(nt,{value:"advanced",children:"الإعدادات المتقدمة"})]}),i.jsx(rt,{value:"overview",className:"space-y-6",children:i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[i.jsxs(ae,{children:[i.jsxs(Te,{children:[i.jsxs(ke,{className:"flex items-center gap-2",children:[i.jsx(zt,{className:"h-5 w-5"}),"الملف الأسلوبي الحالي"]}),i.jsx(Pt,{children:"تفضيلاتك الأسلوبية كما تعلمها النظام"})]}),i.jsxs(oe,{className:"space-y-4",children:[i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("span",{className:"text-sm font-medium",children:"تعقيد المفردات"}),i.jsx(He,{variant:"secondary",children:t.preferred_vocabulary_complexity>.8?"متقدم":t.preferred_vocabulary_complexity>.6?"متوسط":"بسيط"})]}),i.jsx(tt,{value:t.preferred_vocabulary_complexity*100})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("span",{className:"text-sm font-medium",children:"طول الجمل"}),i.jsx(He,{variant:"secondary",children:t.preferred_sentence_length>.7?"طويلة":t.preferred_sentence_length>.4?"متوسطة":"قصيرة"})]}),i.jsx(tt,{value:t.preferred_sentence_length*100})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("span",{className:"text-sm font-medium",children:"العمق الثقافي"}),i.jsx(He,{variant:"secondary",children:t.preferred_cultural_depth>.8?"عميق":t.preferred_cultural_depth>.5?"متوسط":"سطحي"})]}),i.jsx(tt,{value:t.preferred_cultural_depth*100})]}),i.jsx("div",{className:"space-y-3",children:i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("span",{className:"text-sm font-medium",children:"نمط الحوار"}),i.jsx(He,{variant:"outline",children:t.style_preferences.dialogue_style==="concise"?"مقتضب":t.style_preferences.dialogue_style==="elaborate"?"مفصل":"متوازن"})]})})]})]}),i.jsxs(ae,{children:[i.jsxs(Te,{children:[i.jsxs(ke,{className:"flex items-center gap-2",children:[i.jsx(hs,{className:"h-5 w-5"}),"نشاط التعلم الأخير"]}),i.jsx(Pt,{children:"ملخص تفاعلاتك الأخيرة مع النظام"})]}),i.jsx(oe,{children:n!=null&&n.weekly_stats?i.jsx("div",{className:"space-y-4",children:i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{className:"text-center p-3 bg-blue-50 rounded-lg",children:[i.jsx("div",{className:"text-2xl font-bold text-blue-600",children:n.weekly_stats.content_generated}),i.jsx("div",{className:"text-sm text-blue-600",children:"محتوى مُولد"})]}),i.jsxs("div",{className:"text-center p-3 bg-green-50 rounded-lg",children:[i.jsx("div",{className:"text-2xl font-bold text-green-600",children:n.weekly_stats.content_expanded}),i.jsx("div",{className:"text-sm text-green-600",children:"محتوى موسع"})]}),i.jsxs("div",{className:"text-center p-3 bg-purple-50 rounded-lg",children:[i.jsx("div",{className:"text-2xl font-bold text-purple-600",children:n.weekly_stats.content_refined}),i.jsx("div",{className:"text-sm text-purple-600",children:"محتوى محسن"})]}),i.jsxs("div",{className:"text-center p-3 bg-orange-50 rounded-lg",children:[i.jsx("div",{className:"text-2xl font-bold text-orange-600",children:n.weekly_stats.avg_satisfaction.toFixed(1)}),i.jsx("div",{className:"text-sm text-orange-600",children:"متوسط الرضا"})]})]})}):i.jsxs("div",{className:"text-center py-8 text-gray-500",children:[i.jsx(Rs,{className:"h-12 w-12 mx-auto mb-2 opacity-50"}),i.jsx("p",{children:"لا توجد بيانات نشاط كافية"}),i.jsx("p",{className:"text-sm mt-1",children:"ابدأ بالكتابة لرؤية إحصائياتك"})]})})]})]})}),i.jsx(rt,{value:"style-settings",className:"space-y-6",children:i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[i.jsxs(ae,{children:[i.jsxs(Te,{children:[i.jsxs(ke,{className:"flex items-center gap-2",children:[i.jsx(Wa,{className:"h-5 w-5"}),"ضبط أسلوب الجطلاوي"]}),i.jsx(Pt,{children:"خصص كثافة العناصر الأسلوبية المختلفة"})]}),i.jsxs(oe,{className:"space-y-6",children:[i.jsxs("div",{className:"space-y-3",children:[i.jsxs(Dt,{className:"text-sm font-medium flex items-center gap-2",children:[i.jsx(Vn,{className:"h-4 w-4"}),"كثافة الوصف الحسي (",Math.round(t.style_preferences.sensory_description_intensity*100),"%)"]}),i.jsx(pi,{value:[t.style_preferences.sensory_description_intensity*100],onValueChange:([g])=>p("sensory_description_intensity",g/100),max:100,step:5,className:"w-full"}),i.jsx("p",{className:"text-xs text-gray-600",children:t.style_preferences.sensory_description_intensity>.8?"وصف حسي غني ومكثف":t.style_preferences.sensory_description_intensity>.5?"وصف حسي متوازن":"وصف حسي خفيف"})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs(Dt,{className:"text-sm font-medium flex items-center gap-2",children:[i.jsx(nr,{className:"h-4 w-4"}),"التركيز الفلسفي (",Math.round(t.style_preferences.philosophical_focus*100),"%)"]}),i.jsx(pi,{value:[t.style_preferences.philosophical_focus*100],onValueChange:([g])=>p("philosophical_focus",g/100),max:100,step:5,className:"w-full"}),i.jsx("p",{className:"text-xs text-gray-600",children:t.style_preferences.philosophical_focus>.7?"تأملات فلسفية عميقة":t.style_preferences.philosophical_focus>.4?"لمسات فلسفية متوازنة":"تركيز على الحدث"})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs(Dt,{className:"text-sm font-medium flex items-center gap-2",children:[i.jsx(JH,{className:"h-4 w-4"}),"مستوى التعقيد اللغوي (",Math.round(t.preferred_vocabulary_complexity*100),"%)"]}),i.jsx(pi,{value:[t.preferred_vocabulary_complexity*100],onValueChange:([g])=>m("preferred_vocabulary_complexity",g/100),max:100,step:5,className:"w-full"}),i.jsx("p",{className:"text-xs text-gray-600",children:t.preferred_vocabulary_complexity>.8?"مفردات أدبية راقية":t.preferred_vocabulary_complexity>.5?"مفردات متوسطة التعقيد":"مفردات بسيطة وواضحة"})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs(Dt,{className:"text-sm font-medium",children:["العمق العاطفي (",Math.round(t.style_preferences.emotional_depth*100),"%)"]}),i.jsx(pi,{value:[t.style_preferences.emotional_depth*100],onValueChange:([g])=>p("emotional_depth",g/100),max:100,step:5,className:"w-full"})]})]})]}),i.jsxs(ae,{children:[i.jsxs(Te,{children:[i.jsxs(ke,{className:"flex items-center gap-2",children:[i.jsx(Qr,{className:"h-5 w-5"}),"تفضيلات السرد العامة"]}),i.jsx(Pt,{children:"ضبط خصائص السرد والحوار"})]}),i.jsxs(oe,{className:"space-y-6",children:[i.jsxs("div",{className:"space-y-3",children:[i.jsx(Dt,{className:"text-sm font-medium",children:"نمط الحوار"}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx(xe,{variant:t.style_preferences.dialogue_style==="concise"?"default":"outline",size:"sm",onClick:()=>p("dialogue_style","concise"),children:"مقتضب"}),i.jsx(xe,{variant:t.style_preferences.dialogue_style==="balanced"?"default":"outline",size:"sm",onClick:()=>p("dialogue_style","balanced"),children:"متوازن"}),i.jsx(xe,{variant:t.style_preferences.dialogue_style==="elaborate"?"default":"outline",size:"sm",onClick:()=>p("dialogue_style","elaborate"),children:"مفصل"})]})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs(Dt,{className:"text-sm font-medium",children:["تفصيل الوصف (",Math.round(t.style_preferences.description_detail*100),"%)"]}),i.jsx(pi,{value:[t.style_preferences.description_detail*100],onValueChange:([g])=>p("description_detail",g/100),max:100,step:5,className:"w-full"})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs(Dt,{className:"text-sm font-medium",children:["إيقاع السرد (",Math.round(t.style_preferences.narrative_pace*100),"%)"]}),i.jsx(pi,{value:[t.style_preferences.narrative_pace*100],onValueChange:([g])=>p("narrative_pace",g/100),max:100,step:5,className:"w-full"}),i.jsx("p",{className:"text-xs text-gray-600",children:t.style_preferences.narrative_pace>.7?"إيقاع سريع ومتدفق":t.style_preferences.narrative_pace>.4?"إيقاع متوازن":"إيقاع هادئ ومتأن"})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs(Dt,{className:"text-sm font-medium",children:["طول الجمل المفضل (",Math.round(t.preferred_sentence_length*100),"%)"]}),i.jsx(pi,{value:[t.preferred_sentence_length*100],onValueChange:([g])=>m("preferred_sentence_length",g/100),max:100,step:5,className:"w-full"})]})]})]})]})}),i.jsx(rt,{value:"learning-insights",className:"space-y-6",children:n?i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[i.jsxs(ae,{children:[i.jsxs(Te,{children:[i.jsx(ke,{children:"تطور الأسلوب عبر الوقت"}),i.jsx(Pt,{children:"كيف تطورت تفضيلاتك الأسلوبية"})]}),i.jsx(oe,{children:i.jsx(Cr,{width:"100%",height:300,children:i.jsxs(If,{data:n.style_evolution,children:[i.jsx(Hi,{strokeDasharray:"3 3"}),i.jsx(Tr,{dataKey:"date"}),i.jsx(ur,{}),i.jsx(er,{}),i.jsx(Kr,{type:"monotone",dataKey:"vocabulary_complexity",stroke:"#8884d8",name:"تعقيد المفردات"}),i.jsx(Kr,{type:"monotone",dataKey:"sentence_length",stroke:"#82ca9d",name:"طول الجمل"}),i.jsx(Kr,{type:"monotone",dataKey:"cultural_depth",stroke:"#ffc658",name:"العمق الثقافي"})]})})})]}),i.jsxs(ae,{children:[i.jsxs(Te,{children:[i.jsx(ke,{children:"توزيع أنواع المحتوى"}),i.jsx(Pt,{children:"أنواع المحتوى التي تنتجها أكثر"})]}),i.jsx(oe,{children:i.jsx(Cr,{width:"100%",height:300,children:i.jsxs(uj,{data:n.content_distribution,children:[i.jsx(Hi,{strokeDasharray:"3 3"}),i.jsx(Tr,{dataKey:"type"}),i.jsx(ur,{}),i.jsx(er,{}),i.jsx(Ys,{dataKey:"count",fill:"#8884d8",name:"العدد"})]})})})]}),i.jsxs(ae,{children:[i.jsxs(Te,{children:[i.jsx(ke,{children:"أنماط التحسين"}),i.jsx(Pt,{children:"المجالات التي تركز على تحسينها"})]}),i.jsx(oe,{children:i.jsx(Cr,{width:"100%",height:300,children:i.jsxs(qF,{data:n.improvement_patterns,children:[i.jsx(WS,{}),i.jsx(qp,{dataKey:"area"}),i.jsx(Wp,{}),i.jsx(ph,{name:"المستوى الحالي",dataKey:"current",stroke:"#8884d8",fill:"#8884d8",fillOpacity:.6}),i.jsx(ph,{name:"الهدف",dataKey:"target",stroke:"#82ca9d",fill:"#82ca9d",fillOpacity:.6}),i.jsx(er,{})]})})})]})]}):i.jsx(fh,{children:i.jsx(Ah,{children:"لا توجد بيانات تعلم كافية لعرض الرؤى. استمر في استخدام النظام لرؤية تحليلات مفصلة."})})}),i.jsx(rt,{value:"advanced",className:"space-y-6",children:i.jsxs(ae,{children:[i.jsxs(Te,{children:[i.jsxs(ke,{className:"flex items-center gap-2",children:[i.jsx(En,{className:"h-5 w-5"}),"الإعدادات المتقدمة"]}),i.jsx(Pt,{children:"إعدادات تفصيلية لتخصيص تجربة التعلم"})]}),i.jsxs(oe,{className:"space-y-6",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("div",{className:"space-y-4",children:[i.jsx("h4",{className:"font-medium",children:"عادات الكتابة"}),i.jsxs("div",{className:"space-y-3",children:[i.jsx(Dt,{className:"text-sm",children:"طول الفصل المفضل (كلمة)"}),i.jsx(pi,{value:[t.writing_habits.preferred_chapter_length],onValueChange:([g])=>e({...t,writing_habits:{...t.writing_habits,preferred_chapter_length:g}}),min:1e3,max:8e3,step:500,className:"w-full"}),i.jsxs("p",{className:"text-xs text-gray-600",children:[t.writing_habits.preferred_chapter_length," كلمة"]})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsx(Dt,{className:"text-sm",children:"جلسات الكتابة أسبوعياً"}),i.jsx(pi,{value:[t.writing_habits.writing_sessions_per_week],onValueChange:([g])=>e({...t,writing_habits:{...t.writing_habits,writing_sessions_per_week:g}}),min:1,max:14,step:1,className:"w-full"}),i.jsxs("p",{className:"text-xs text-gray-600",children:[t.writing_habits.writing_sessions_per_week," جلسة"]})]})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsx("h4",{className:"font-medium",children:"إعدادات التعلم"}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs(Dt,{className:"text-sm",children:["مستوى تكيف الجطلاوي (",Math.round(t.jattlaoui_adaptation_level*100),"%)"]}),i.jsx(pi,{value:[t.jattlaoui_adaptation_level*100],onValueChange:([g])=>m("jattlaoui_adaptation_level",g/100),max:100,step:5,className:"w-full"}),i.jsx("p",{className:"text-xs text-gray-600",children:t.jattlaoui_adaptation_level>.8?"تكيف عالي مع الأسلوب":t.jattlaoui_adaptation_level>.5?"تكيف متوسط":"تكيف محدود"})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsx(Dt,{className:"text-sm",children:"العمق الثقافي المطلوب"}),i.jsx(pi,{value:[t.preferred_cultural_depth*100],onValueChange:([g])=>m("preferred_cultural_depth",g/100),max:100,step:5,className:"w-full"}),i.jsxs("p",{className:"text-xs text-gray-600",children:[Math.round(t.preferred_cultural_depth*100),"% عمق ثقافي"]})]})]})]}),i.jsx("div",{className:"pt-4 border-t",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("h4",{className:"font-medium",children:"إعادة تعيين التفضيلات"}),i.jsx("p",{className:"text-sm text-gray-600",children:"إعادة جميع الإعدادات إلى القيم الافتراضية"})]}),i.jsx(xe,{variant:"outline",onClick:()=>e(A()),children:"إعادة تعيين"})]})})]})]})})]})]}):i.jsx(fh,{children:i.jsx(Ah,{children:"لم يتم العثور على بيانات المستخدم. يرجى المحاولة مرة أخرى."})})},hnt=()=>i.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-purple-50",children:i.jsx("div",{className:"container mx-auto px-4 py-8",children:i.jsx(dnt,{})})});var[VF,Omt]=qa("Tooltip",[V2]),KF=V2(),Lbe="TooltipProvider",fnt=700,XQ="tooltip.open",[Ant,vq]=VF(Lbe),Rbe=t=>{const{__scopeTooltip:e,delayDuration:n=fnt,skipDelayDuration:r=300,disableHoverableContent:s=!1,children:a}=t,o=E.useRef(!0),l=E.useRef(!1),c=E.useRef(0);return E.useEffect(()=>{const u=c.current;return()=>window.clearTimeout(u)},[]),i.jsx(Ant,{scope:e,isOpenDelayedRef:o,delayDuration:n,onOpen:E.useCallback(()=>{window.clearTimeout(c.current),o.current=!1},[]),onClose:E.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>o.current=!0,r)},[r]),isPointerInTransitRef:l,onPointerInTransitChange:E.useCallback(u=>{l.current=u},[]),disableHoverableContent:s,children:a})};Rbe.displayName=Lbe;var D5="Tooltip",[pnt,KS]=VF(D5),Qbe=t=>{const{__scopeTooltip:e,children:n,open:r,defaultOpen:s,onOpenChange:a,disableHoverableContent:o,delayDuration:l}=t,c=vq(D5,t.__scopeTooltip),u=KF(e),[d,h]=E.useState(null),f=Cf(),A=E.useRef(0),v=o??c.disableHoverableContent,p=l??c.delayDuration,m=E.useRef(!1),[g,x]=Xu({prop:r,defaultProp:s??!1,onChange:C=>{C?(c.onOpen(),document.dispatchEvent(new CustomEvent(XQ))):c.onClose(),a==null||a(C)},caller:D5}),b=E.useMemo(()=>g?m.current?"delayed-open":"instant-open":"closed",[g]),j=E.useCallback(()=>{window.clearTimeout(A.current),A.current=0,m.current=!1,x(!0)},[x]),N=E.useCallback(()=>{window.clearTimeout(A.current),A.current=0,x(!1)},[x]),_=E.useCallback(()=>{window.clearTimeout(A.current),A.current=window.setTimeout(()=>{m.current=!0,x(!0),A.current=0},p)},[p,x]);return E.useEffect(()=>()=>{A.current&&(window.clearTimeout(A.current),A.current=0)},[]),i.jsx(D$,{...u,children:i.jsx(pnt,{scope:e,contentId:f,open:g,stateAttribute:b,trigger:d,onTriggerChange:h,onTriggerEnter:E.useCallback(()=>{c.isOpenDelayedRef.current?_():j()},[c.isOpenDelayedRef,_,j]),onTriggerLeave:E.useCallback(()=>{v?N():(window.clearTimeout(A.current),A.current=0)},[N,v]),onOpen:j,onClose:N,disableHoverableContent:v,children:n})})};Qbe.displayName=D5;var YQ="TooltipTrigger",Hbe=E.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=KS(YQ,n),a=vq(YQ,n),o=KF(n),l=E.useRef(null),c=Tn(e,l,s.onTriggerChange),u=E.useRef(!1),d=E.useRef(!1),h=E.useCallback(()=>u.current=!1,[]);return E.useEffect(()=>()=>document.removeEventListener("pointerup",h),[h]),i.jsx(eF,{asChild:!0,...o,children:i.jsx(Jt.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...r,ref:c,onPointerMove:Ht(t.onPointerMove,f=>{f.pointerType!=="touch"&&!d.current&&!a.isPointerInTransitRef.current&&(s.onTriggerEnter(),d.current=!0)}),onPointerLeave:Ht(t.onPointerLeave,()=>{s.onTriggerLeave(),d.current=!1}),onPointerDown:Ht(t.onPointerDown,()=>{s.open&&s.onClose(),u.current=!0,document.addEventListener("pointerup",h,{once:!0})}),onFocus:Ht(t.onFocus,()=>{u.current||s.onOpen()}),onBlur:Ht(t.onBlur,s.onClose),onClick:Ht(t.onClick,s.onClose)})})});Hbe.displayName=YQ;var yq="TooltipPortal",[mnt,gnt]=VF(yq,{forceMount:void 0}),zbe=t=>{const{__scopeTooltip:e,forceMount:n,children:r,container:s}=t,a=KS(yq,e);return i.jsx(mnt,{scope:e,forceMount:n,children:i.jsx(Jo,{present:n||a.open,children:i.jsx(Q2,{asChild:!0,container:s,children:r})})})};zbe.displayName=yq;var _2="TooltipContent",$be=E.forwardRef((t,e)=>{const n=gnt(_2,t.__scopeTooltip),{forceMount:r=n.forceMount,side:s="top",...a}=t,o=KS(_2,t.__scopeTooltip);return i.jsx(Jo,{present:r||o.open,children:o.disableHoverableContent?i.jsx(Wbe,{side:s,...a,ref:e}):i.jsx(xnt,{side:s,...a,ref:e})})}),xnt=E.forwardRef((t,e)=>{const n=KS(_2,t.__scopeTooltip),r=vq(_2,t.__scopeTooltip),s=E.useRef(null),a=Tn(e,s),[o,l]=E.useState(null),{trigger:c,onClose:u}=n,d=s.current,{onPointerInTransitChange:h}=r,f=E.useCallback(()=>{l(null),h(!1)},[h]),A=E.useCallback((v,p)=>{const m=v.currentTarget,g={x:v.clientX,y:v.clientY},x=jnt(g,m.getBoundingClientRect()),b=Nnt(g,x),j=_nt(p.getBoundingClientRect()),N=Snt([...b,...j]);l(N),h(!0)},[h]);return E.useEffect(()=>()=>f(),[f]),E.useEffect(()=>{if(c&&d){const v=m=>A(m,d),p=m=>A(m,c);return c.addEventListener("pointerleave",v),d.addEventListener("pointerleave",p),()=>{c.removeEventListener("pointerleave",v),d.removeEventListener("pointerleave",p)}}},[c,d,A,f]),E.useEffect(()=>{if(o){const v=p=>{const m=p.target,g={x:p.clientX,y:p.clientY},x=(c==null?void 0:c.contains(m))||(d==null?void 0:d.contains(m)),b=!Cnt(g,o);x?f():b&&(f(),u())};return document.addEventListener("pointermove",v),()=>document.removeEventListener("pointermove",v)}},[c,d,o,u,f]),i.jsx(Wbe,{...t,ref:a})}),[vnt,ynt]=VF(D5,{isInside:!1}),bnt=_ce("TooltipContent"),Wbe=E.forwardRef((t,e)=>{const{__scopeTooltip:n,children:r,"aria-label":s,onEscapeKeyDown:a,onPointerDownOutside:o,...l}=t,c=KS(_2,n),u=KF(n),{onClose:d}=c;return E.useEffect(()=>(document.addEventListener(XQ,d),()=>document.removeEventListener(XQ,d)),[d]),E.useEffect(()=>{if(c.trigger){const h=f=>{const A=f.target;A!=null&&A.contains(c.trigger)&&d()};return window.addEventListener("scroll",h,{capture:!0}),()=>window.removeEventListener("scroll",h,{capture:!0})}},[c.trigger,d]),i.jsx(R2,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:a,onPointerDownOutside:o,onFocusOutside:h=>h.preventDefault(),onDismiss:d,children:i.jsxs(T$,{"data-state":c.stateAttribute,...u,...l,ref:e,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[i.jsx(bnt,{children:r}),i.jsx(vnt,{scope:n,isInside:!0,children:i.jsx(XCe,{id:c.contentId,role:"tooltip",children:s||r})})]})})});$be.displayName=_2;var qbe="TooltipArrow",wnt=E.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=KF(n);return ynt(qbe,n).isInside?null:i.jsx(k$,{...s,...r,ref:e})});wnt.displayName=qbe;function jnt(t,e){const n=Math.abs(e.top-t.y),r=Math.abs(e.bottom-t.y),s=Math.abs(e.right-t.x),a=Math.abs(e.left-t.x);switch(Math.min(n,r,s,a)){case a:return"left";case s:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function Nnt(t,e,n=5){const r=[];switch(e){case"top":r.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":r.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":r.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":r.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return r}function _nt(t){const{top:e,right:n,bottom:r,left:s}=t;return[{x:s,y:e},{x:n,y:e},{x:n,y:r},{x:s,y:r}]}function Cnt(t,e){const{x:n,y:r}=t;let s=!1;for(let a=0,o=e.length-1;a<e.length;o=a++){const l=e[a],c=e[o],u=l.x,d=l.y,h=c.x,f=c.y;d>r!=f>r&&n<(h-u)*(r-d)/(f-d)+u&&(s=!s)}return s}function Snt(t){const e=t.slice();return e.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),Ent(e)}function Ent(t){if(t.length<=1)return t.slice();const e=[];for(let r=0;r<t.length;r++){const s=t[r];for(;e.length>=2;){const a=e[e.length-1],o=e[e.length-2];if((a.x-o.x)*(s.y-o.y)>=(a.y-o.y)*(s.x-o.x))e.pop();else break}e.push(s)}e.pop();const n=[];for(let r=t.length-1;r>=0;r--){const s=t[r];for(;n.length>=2;){const a=n[n.length-1],o=n[n.length-2];if((a.x-o.x)*(s.y-o.y)>=(a.y-o.y)*(s.x-o.x))n.pop();else break}n.push(s)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var Bnt=Rbe,Dnt=Qbe,Tnt=Hbe,knt=zbe,Vbe=$be;const Ry=Bnt,ti=Dnt,ni=Tnt,Vr=E.forwardRef(({className:t,sideOffset:e=4,...n},r)=>i.jsx(knt,{children:i.jsx(Vbe,{ref:r,sideOffset:e,className:Vt("z-50 overflow-hidden rounded-md bg-zinc-900 px-3 py-1.5 text-xs text-zinc-50 animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 dark:bg-zinc-50 dark:text-zinc-900",t),...n})}));Vr.displayName=Vbe.displayName;const Fnt=()=>{const[t,e]=E.useState(`في ظلال الليل الهادئ، جلس أحمد يتأمل النجوم المتلألئة في السماء الصافية. كانت الليلة باردة، والنسيم العليل يداعب وجهه برفق.

تذكر أحمد طفولته في القرية الصغيرة، حيث كان يقضي ساعات طويلة مع جده تحت نفس النجوم. كان جده يحكي له قصصاً عن الأسلاف الشجعان والحكماء.

الآن، وبعد سنوات طويلة في المدينة، يجد أحمد نفسه يشتاق لتلك الليالي البسيطة والذكريات الجميلة.`),[n,r]=E.useState(null),[s,a]=E.useState(null),[o,l]=E.useState([]),[c,u]=E.useState({x:0,y:0,visible:!1,selectionId:""}),[d,h]=E.useState(!1),[f,A]=E.useState(null),v=E.useRef(null),{toast:p}=ki();E.useEffect(()=>{m()},[]),E.useEffect(()=>{t.trim()&&g(t)},[t]);const m=async()=>{try{const F=await(await fetch("/api/style/profile")).json();F.success&&A(F.profile)}catch(I){console.error("خطأ في تحميل الملف الشخصي:",I)}},g=E.useCallback(async I=>{if(!(!I.trim()||d)){h(!0);try{const M=await(await fetch("/api/smart-editor/analyze",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({text:I,user_profile:f,analysis_type:"comprehensive"})})).json();M.success&&(a(M.analysis),_(M.analysis.issues))}catch(F){console.error("خطأ في تحليل النص:",F)}finally{h(!1)}}},[f,d]),x=()=>{var U;const I=window.getSelection();if(!I||I.isCollapsed){r(null),u(L=>({...L,visible:!1}));return}const F=I.getRangeAt(0),M=I.toString().trim();if(M.length<5)return;const S=F.getBoundingClientRect(),q=(U=v.current)==null?void 0:U.getBoundingClientRect();if(q){const L={start:F.startOffset,end:F.endOffset,text:M,element:F.commonAncestorContainer.parentElement||void 0};r(L),u({x:S.left-q.left+S.width/2,y:S.top-q.top-10,visible:!0,selectionId:Date.now().toString()}),b(M,L)}},b=async(I,F)=>{try{const S=await(await fetch("/api/smart-editor/suggestions",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({selected_text:I,full_text:t,selection_context:F,user_profile:f})})).json();S.success&&l(S.suggestions)}catch(M){console.error("خطأ في جلب الاقتراحات:",M)}},j=async I=>{if(n)try{const M=await(await fetch("/api/smart-editor/apply-suggestion",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({original_text:t,selection:n,suggestion:I,user_profile:f})})).json();M.success&&(e(M.modified_text),k("suggestion_applied",{suggestion_type:I.type,original_text:n.text,modified_text:M.modification,user_satisfaction:"pending"}),p({title:"تم تطبيق الاقتراح",description:`تم ${I.title} بنجاح`,variant:"default"}),r(null),u(S=>({...S,visible:!1})))}catch{p({title:"خطأ في تطبيق الاقتراح",description:"حدث خطأ أثناء تطبيق التحسين",variant:"destructive"})}},N=async I=>{if(n)try{await fetch("/api/style/rate-content",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({content_type:"text_selection",content:n.text,rating:typeof I=="number"?I:I==="positive"?5:2,specific_feedback:{selection_context:n,rating_type:I}})}),p({title:"شكراً لتقييمك",description:"سيساعد تقييمك في تحسين اقتراحات الذكاء الاصطناعي",variant:"default"}),u(F=>({...F,visible:!1}))}catch(F){console.error("خطأ في حفظ التقييم:",F)}},_=I=>{if(!v.current)return;v.current.querySelectorAll(".text-issue-highlight").forEach(M=>{M.classList.remove("text-issue-highlight","issue-repetition","issue-contradiction","issue-unclear")}),I.forEach(M=>{const S=C(v.current);let q=0;for(const U of S){const L=U.textContent||"",z=q+L.length;if(q<=M.start&&M.end<=z){const $=document.createRange();$.setStart(U,M.start-q),$.setEnd(U,M.end-q);const K=document.createElement("span");K.className=`text-issue-highlight issue-${M.type} severity-${M.severity}`,K.title=M.message;try{$.surroundContents(K)}catch{}break}q=z}})},C=I=>{const F=[],M=document.createTreeWalker(I,NodeFilter.SHOW_TEXT,null);let S;for(;S=M.nextNode();)F.push(S);return F},k=async(I,F)=>{try{await fetch("/api/style/log-interaction",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({interaction_type:I,content_type:"smart_editor",original_content:t,modified_content:t,edit_details:F})})}catch(M){console.error("خطأ في تسجيل التفاعل:",M)}},T=I=>{switch(I){case"improve":return Gu;case"expand":return p1;case"summarize":return oB;case"correct":return O2;case"rephrase":return Ar;case"enhance":return Qn;default:return nr}},O=I=>I>=.8?"bg-green-100 text-green-800 border-green-200":I>=.6?"bg-blue-100 text-blue-800 border-blue-200":"bg-yellow-100 text-yellow-800 border-yellow-200";return i.jsx(Ry,{children:i.jsxs("div",{className:"space-y-6",children:[i.jsx(ae,{children:i.jsx(Te,{children:i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsxs("div",{children:[i.jsxs(ke,{className:"flex items-center gap-2",children:[i.jsx(zt,{className:"h-6 w-6 text-blue-600"}),"المحرر التفاعلي الذكي الفائق"]}),i.jsx("p",{className:"text-gray-600 mt-1",children:"محرر متقدم مع اقتراحات ذكية وتحليل فوري للنص"})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[d&&i.jsxs("div",{className:"flex items-center gap-2 text-blue-600",children:[i.jsx(Ar,{className:"h-4 w-4 animate-spin"}),i.jsx("span",{className:"text-sm",children:"تحليل النص..."})]}),s&&i.jsxs(He,{variant:"outline",className:"bg-green-50",children:["نقاط الجودة: ",Math.round(s.overallScore*100),"%"]})]})]})})}),i.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-4 gap-6",children:[i.jsxs("div",{className:"xl:col-span-3 space-y-4",children:[i.jsx(ae,{className:"relative",children:i.jsxs(oe,{className:"p-6",children:[i.jsx("div",{ref:v,className:`min-h-[500px] p-4 border-2 border-dashed border-gray-200 rounded-lg 
                           focus:border-blue-500 focus:ring-2 focus:ring-blue-200 transition-all
                           text-right leading-relaxed text-gray-800 whitespace-pre-wrap`,contentEditable:!0,dir:"rtl",style:{fontSize:"16px",lineHeight:"1.8"},onInput:I=>e(I.currentTarget.textContent||""),onMouseUp:x,onKeyUp:x,suppressContentEditableWarning:!0,children:t}),c.visible&&n&&i.jsxs("div",{className:"absolute z-50 flex items-center gap-1 bg-white rounded-lg shadow-lg border p-2",style:{left:`${c.x}px`,top:`${c.y}px`,transform:"translateX(-50%)"},children:[i.jsxs(ti,{children:[i.jsx(ni,{asChild:!0,children:i.jsx(xe,{size:"sm",variant:"ghost",onClick:()=>N("positive"),className:"h-8 w-8 p-0 hover:bg-green-100",children:i.jsx(wce,{className:"h-4 w-4 text-green-600"})})}),i.jsx(Vr,{children:"ممتاز"})]}),i.jsxs(ti,{children:[i.jsx(ni,{asChild:!0,children:i.jsx(xe,{size:"sm",variant:"ghost",onClick:()=>N("negative"),className:"h-8 w-8 p-0 hover:bg-red-100",children:i.jsx(bce,{className:"h-4 w-4 text-red-600"})})}),i.jsx(Vr,{children:"يحتاج تحسين"})]}),[1,2,3,4,5].map(I=>i.jsxs(ti,{children:[i.jsx(ni,{asChild:!0,children:i.jsx(xe,{size:"sm",variant:"ghost",onClick:()=>N(I),className:"h-8 w-8 p-0 hover:bg-yellow-100",children:i.jsx(tr,{className:"h-4 w-4 text-yellow-500"})})}),i.jsxs(Vr,{children:[I," نجوم"]})]},I))]})]})}),n&&o.length>0&&i.jsxs(ae,{children:[i.jsx(Te,{children:i.jsxs(ke,{className:"flex items-center gap-2 text-lg",children:[i.jsx(nr,{className:"h-5 w-5 text-yellow-500"}),"اقتراحات ذكية للنص المحدد"]})}),i.jsx(oe,{children:i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:o.map(I=>{const F=T(I.type);return i.jsxs("div",{className:`p-4 rounded-lg border-2 cursor-pointer transition-all hover:shadow-md
                                     ${O(I.confidence)}`,onClick:()=>j(I),children:[i.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[i.jsx(F,{className:"h-4 w-4"}),i.jsx("span",{className:"font-medium",children:I.title}),i.jsxs(He,{variant:"outline",className:"text-xs",children:[Math.round(I.confidence*100),"%"]})]}),i.jsx("p",{className:"text-sm opacity-80 mb-2",children:I.description}),i.jsx("p",{className:"text-xs opacity-60",children:I.reasoning})]},I.id)})})})]})]}),i.jsxs("div",{className:"space-y-4",children:[(s==null?void 0:s.statistics)&&i.jsxs(ae,{children:[i.jsx(Te,{children:i.jsxs(ke,{className:"flex items-center gap-2 text-lg",children:[i.jsx(En,{className:"h-5 w-5 text-purple-600"}),"إحصائيات النص"]})}),i.jsx(oe,{className:"space-y-4",children:i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("span",{className:"text-sm text-gray-600",children:"عدد الكلمات"}),i.jsx(He,{variant:"outline",children:s.statistics.wordCount})]}),i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("span",{className:"text-sm text-gray-600",children:"عدد الجمل"}),i.jsx(He,{variant:"outline",children:s.statistics.sentenceCount})]}),i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("span",{className:"text-sm text-gray-600",children:"عدد الفقرات"}),i.jsx(He,{variant:"outline",children:s.statistics.paragraphCount})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("span",{className:"text-sm text-gray-600",children:"سهولة القراءة"}),i.jsxs("span",{className:"text-sm font-medium",children:[Math.round(s.statistics.readabilityScore*100),"%"]})]}),i.jsx(tt,{value:s.statistics.readabilityScore*100})]}),i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("span",{className:"text-sm text-gray-600",children:"مستوى التعقيد"}),i.jsx(He,{variant:s.statistics.complexityLevel==="متقدم"?"default":"secondary",children:s.statistics.complexityLevel})]})]})})]}),(s==null?void 0:s.issues)&&s.issues.length>0&&i.jsxs(ae,{children:[i.jsx(Te,{children:i.jsxs(ke,{className:"flex items-center gap-2 text-lg",children:[i.jsx($a,{className:"h-5 w-5 text-orange-600"}),"نقاط التحسين"]})}),i.jsx(oe,{children:i.jsx("div",{className:"space-y-3",children:s.issues.slice(0,5).map(I=>i.jsxs("div",{className:`p-3 rounded-lg border-l-4 ${I.severity==="high"?"border-red-500 bg-red-50":I.severity==="medium"?"border-yellow-500 bg-yellow-50":"border-blue-500 bg-blue-50"}`,children:[i.jsx("div",{className:"flex items-center gap-2 mb-1",children:i.jsx(He,{variant:"outline",className:`text-xs ${I.severity==="high"?"border-red-500 text-red-700":I.severity==="medium"?"border-yellow-500 text-yellow-700":"border-blue-500 text-blue-700"}`,children:I.type==="repetition"?"تكرار":I.type==="contradiction"?"تناقض":I.type==="unclear"?"غموض":I.type==="grammar"?"نحو":I.type==="style"?"أسلوب":"تدفق"})}),i.jsx("p",{className:"text-sm font-medium mb-1",children:I.message}),i.jsxs("p",{className:"text-xs text-gray-600",children:['"',I.text,'"']}),I.suggestion&&i.jsxs("p",{className:"text-xs text-green-700 mt-1",children:["💡 ",I.suggestion]})]},I.id))})})]}),(s==null?void 0:s.statistics)&&i.jsxs(ae,{children:[i.jsx(Te,{children:i.jsxs(ke,{className:"flex items-center gap-2 text-lg",children:[i.jsx(Wa,{className:"h-5 w-5 text-indigo-600"}),"تحليل الأسلوب"]})}),i.jsx(oe,{className:"space-y-4",children:i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("span",{className:"text-sm text-gray-600",children:"العمق العاطفي"}),i.jsxs("span",{className:"text-sm font-medium",children:[Math.round(s.statistics.sentimentScore*100),"%"]})]}),i.jsx(tt,{value:s.statistics.sentimentScore*100})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("span",{className:"text-sm text-gray-600",children:"جودة الأسلوب"}),i.jsxs("span",{className:"text-sm font-medium",children:[Math.round(s.statistics.styleScore*100),"%"]})]}),i.jsx(tt,{value:s.statistics.styleScore*100})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("span",{className:"text-sm text-gray-600",children:"النقاط الإجمالية"}),i.jsxs("span",{className:"text-sm font-medium",children:[Math.round(s.overallScore*100),"%"]})]}),i.jsx(tt,{value:s.overallScore*100})]})]})})]})]})]}),i.jsx("style",{children:`
          .text-issue-highlight {
            border-radius: 2px;
            padding: 1px 2px;
            margin: 0 1px;
            cursor: help;
          }
          
          .issue-repetition {
            background-color: rgba(59, 130, 246, 0.1);
            border-bottom: 2px wavy rgba(59, 130, 246, 0.5);
          }
          
          .issue-contradiction {
            background-color: rgba(239, 68, 68, 0.1);
            border-bottom: 2px wavy rgba(239, 68, 68, 0.5);
          }
          
          .issue-unclear {
            background-color: rgba(245, 158, 11, 0.1);
            border-bottom: 2px wavy rgba(245, 158, 11, 0.5);
          }
          
          .issue-grammar {
            background-color: rgba(16, 185, 129, 0.1);
            border-bottom: 2px wavy rgba(16, 185, 129, 0.5);
          }
          
          .issue-style {
            background-color: rgba(139, 92, 246, 0.1);
            border-bottom: 2px wavy rgba(139, 92, 246, 0.5);
          }
          
          .issue-flow {
            background-color: rgba(236, 72, 153, 0.1);
            border-bottom: 2px wavy rgba(236, 72, 153, 0.5);
          }
          
          .severity-high {
            border-bottom-width: 3px;
          }
          
          .severity-medium {
            border-bottom-width: 2px;
          }
          
          .severity-low {
            border-bottom-width: 1px;
          }
        `})]})})},Pnt=()=>i.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 via-blue-50 to-indigo-50",children:i.jsx("div",{className:"container mx-auto px-4 py-8",children:i.jsx(Fnt,{})})}),Unt=({projectId:t,onClose:e})=>{const[n,r]=E.useState(null),[s,a]=E.useState(!0),[o,l]=E.useState(!1),{toast:c}=ki();E.useEffect(()=>{u()},[t]);const u=async()=>{try{const m=await(await fetch(`/api/analytics/personal-report/${t}?user_id=anonymous`)).json();if(m.success)r(m.report);else throw new Error(m.error||"فشل في جلب التقرير")}catch(p){console.error("خطأ في جلب التقرير:",p),c({title:"خطأ",description:"فشل في جلب التقرير الشخصي",variant:"destructive"})}finally{a(!1)}},d=async()=>{l(!0);try{await new Promise(p=>setTimeout(p,2e3)),c({title:"نجح",description:"تم توليد ملف PDF بنجاح"})}catch{c({title:"خطأ",description:"فشل في توليد ملف PDF",variant:"destructive"})}finally{l(!1)}},h=()=>n!=null&&n.style_development?Object.entries(n.style_development).map(([p,m])=>({metric:f(p),initial:m.initial,final:m.final,improvement:m.improvement_percent})):[],f=p=>({metaphor_density:"كثافة الاستعارات",vocabulary_complexity:"تعقد المفردات",formality_score:"درجة الرسمية",creativity_score:"درجة الإبداع"})[p]||p,A=()=>{var m;if(!((m=n==null?void 0:n.statistical_summary)!=null&&m.style_statistics))return[];const p=n.statistical_summary.style_statistics;return[{subject:"الاستعارات",A:p.avg_metaphor_density/5*100,fullMark:100},{subject:"المفردات",A:p.avg_vocabulary_complexity*100,fullMark:100},{subject:"الرسمية",A:p.avg_formality_score/5*100,fullMark:100},{subject:"الإبداع",A:p.avg_creativity_score*100,fullMark:100}]},v=p=>({"✍️":i.jsx(ga,{className:"h-6 w-6"}),"📝":i.jsx(xn,{className:"h-6 w-6"}),"⭐":i.jsx(tr,{className:"h-6 w-6"}),"📅":i.jsx(wp,{className:"h-6 w-6"}),"🏆":i.jsx(Yg,{className:"h-6 w-6"})})[p]||i.jsx(za,{className:"h-6 w-6"});return s?i.jsx("div",{className:"flex items-center justify-center h-96",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),i.jsx("p",{children:"جاري إعداد تقريرك الشخصي..."})]})}):n?i.jsxs("div",{className:"max-w-4xl mx-auto space-y-8 p-6",dir:"rtl",children:[i.jsxs("div",{className:"text-center bg-gradient-to-r from-blue-500 to-purple-600 text-white rounded-lg p-8",children:[i.jsx(dr,{className:"h-16 w-16 mx-auto mb-4 opacity-80"}),i.jsx("h1",{className:"text-3xl font-bold mb-2",children:"تقرير رحلتك الأدبية"}),i.jsx("h2",{className:"text-xl mb-4",children:n.project_info.title}),i.jsxs("div",{className:"flex justify-center gap-6 text-sm opacity-90",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(wp,{className:"h-4 w-4"}),i.jsxs("span",{children:[n.project_info.total_duration.total_days," يوماً"]})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(xr,{className:"h-4 w-4"}),i.jsxs("span",{children:[n.writing_journey.total_writing_time," دقيقة"]})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(ga,{className:"h-4 w-4"}),i.jsxs("span",{children:[n.writing_journey.total_words.toLocaleString()," كلمة"]})]})]}),i.jsxs("div",{className:"flex justify-center gap-4 mt-6",children:[i.jsxs(xe,{onClick:d,disabled:o,className:"bg-white text-blue-600 hover:bg-gray-100",children:[i.jsx(gr,{className:"h-4 w-4 mr-2"}),o?"جاري التوليد...":"تصدير PDF"]}),e&&i.jsx(xe,{onClick:e,variant:"outline",className:"text-white border-white hover:bg-white hover:text-blue-600",children:"إغلاق"})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[i.jsx(ae,{children:i.jsxs(oe,{className:"p-6 text-center",children:[i.jsx("div",{className:"text-3xl font-bold text-blue-600",children:n.writing_journey.total_sessions}),i.jsx("p",{className:"text-sm text-gray-600",children:"جلسة كتابة"})]})}),i.jsx(ae,{children:i.jsxs(oe,{className:"p-6 text-center",children:[i.jsxs("div",{className:"text-3xl font-bold text-green-600",children:[n.writing_journey.average_quality.toFixed(1),"/5"]}),i.jsx("p",{className:"text-sm text-gray-600",children:"متوسط الجودة"})]})}),i.jsx(ae,{children:i.jsxs(oe,{className:"p-6 text-center",children:[i.jsxs("div",{className:"text-3xl font-bold text-purple-600",children:[(n.writing_journey.writing_consistency*100).toFixed(0),"%"]}),i.jsx("p",{className:"text-sm text-gray-600",children:"انتظام الكتابة"})]})}),i.jsx(ae,{children:i.jsxs(oe,{className:"p-6 text-center",children:[i.jsx("div",{className:"text-3xl font-bold text-orange-600",children:n.writing_journey.productivity_stats.words_per_session.toFixed(0)}),i.jsx("p",{className:"text-sm text-gray-600",children:"كلمة/جلسة"})]})})]}),i.jsxs(ae,{children:[i.jsxs(Te,{children:[i.jsxs(ke,{className:"flex items-center gap-2",children:[i.jsx(Hn,{className:"h-5 w-5"}),"تطور أسلوبك الشخصي"]}),i.jsx(Pt,{children:"كيف تطور أسلوبك في الكتابة خلال هذا المشروع"})]}),i.jsx(oe,{children:i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[i.jsx("div",{className:"space-y-4",children:h().map((p,m)=>i.jsxs("div",{className:"border rounded-lg p-4",children:[i.jsxs("div",{className:"flex justify-between items-center mb-2",children:[i.jsx("span",{className:"font-medium",children:p.metric}),i.jsxs(He,{variant:p.improvement>0?"default":"secondary",children:[p.improvement>0?"+":"",p.improvement.toFixed(1),"%"]})]}),i.jsxs("div",{className:"flex justify-between text-sm text-gray-600 mb-2",children:[i.jsxs("span",{children:["البداية: ",p.initial.toFixed(2)]}),i.jsxs("span",{children:["النهاية: ",p.final.toFixed(2)]})]}),i.jsx(tt,{value:((p.final-p.initial)/Math.max(p.initial,.1)+1)*50,className:"w-full h-2"})]},m))}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-medium mb-4 text-center",children:"بصمة أسلوبك النهائية"}),A().length>0&&i.jsx(Cr,{width:"100%",height:250,children:i.jsxs(qF,{data:A(),children:[i.jsx(WS,{}),i.jsx(qp,{dataKey:"subject"}),i.jsx(Wp,{angle:0,domain:[0,100]}),i.jsx(ph,{name:"أسلوبي",dataKey:"A",stroke:"#8884d8",fill:"#8884d8",fillOpacity:.4}),i.jsx(er,{})]})})]})]})})]}),i.jsxs(ae,{children:[i.jsxs(Te,{children:[i.jsxs(ke,{className:"flex items-center gap-2",children:[i.jsx(za,{className:"h-5 w-5"}),"إنجازاتك المميزة"]}),i.jsx(Pt,{children:"المعالم المهمة التي حققتها في هذه الرحلة الأدبية"})]}),i.jsx(oe,{children:n.key_achievements.length>0?i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:n.key_achievements.map((p,m)=>i.jsxs("div",{className:"flex items-start gap-4 p-4 border rounded-lg bg-gradient-to-r from-blue-50 to-purple-50",children:[i.jsx("div",{className:"text-blue-600",children:v(p.icon)}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-semibold text-gray-900",children:p.title}),i.jsx("p",{className:"text-sm text-gray-600",children:p.description}),i.jsx(He,{variant:"outline",className:"mt-2",children:p.type})]})]},m))}):i.jsxs("div",{className:"text-center py-8 text-gray-500",children:[i.jsx(Yg,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),i.jsx("p",{children:"ستحصل على إنجازات مع المزيد من الكتابة!"})]})})]}),i.jsxs(ae,{children:[i.jsxs(Te,{children:[i.jsxs(ke,{className:"flex items-center gap-2",children:[i.jsx(zt,{className:"h-5 w-5"}),"كيف تعلم النظام من أسلوبك"]}),i.jsx(Pt,{children:"الرؤى التي اكتسبها النظام من تحليل كتابتك"})]}),i.jsx(oe,{children:n.learning_insights.length>0?i.jsx("div",{className:"space-y-3",children:n.learning_insights.map((p,m)=>i.jsxs("div",{className:"flex items-start gap-3 p-3 bg-blue-50 rounded-lg",children:[i.jsx(nr,{className:"h-5 w-5 text-blue-600 flex-shrink-0 mt-0.5"}),i.jsx("p",{className:"text-sm text-gray-700",children:p})]},m))}):i.jsxs("div",{className:"text-center py-8 text-gray-500",children:[i.jsx(zt,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),i.jsx("p",{children:"النظام يتعلم من كتابتك تدريجياً"})]})})]}),i.jsxs(ae,{children:[i.jsxs(Te,{children:[i.jsxs(ke,{className:"flex items-center gap-2",children:[i.jsx(En,{className:"h-5 w-5"}),"توصيات للمستقبل"]}),i.jsx(Pt,{children:"نصائح مخصصة لك لتطوير مهاراتك في المشاريع القادمة"})]}),i.jsx(oe,{children:n.recommendations.length>0?i.jsx("div",{className:"space-y-4",children:n.recommendations.map((p,m)=>i.jsxs("div",{className:"border rounded-lg p-4",children:[i.jsxs("div",{className:"flex justify-between items-start mb-2",children:[i.jsx("h4",{className:"font-semibold",children:p.category}),i.jsxs(He,{variant:p.priority==="عالية"?"destructive":"secondary",children:["أولوية ",p.priority]})]}),i.jsx("p",{className:"text-sm text-gray-600",children:p.suggestion})]},m))}):i.jsxs("div",{className:"text-center py-8 text-gray-500",children:[i.jsx(En,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),i.jsx("p",{children:"أسلوبك ممتاز! استمر في الكتابة"})]})})]}),i.jsx(ae,{className:"bg-gradient-to-r from-green-50 to-blue-50",children:i.jsxs(oe,{className:"p-8 text-center",children:[i.jsx(ta,{className:"h-12 w-12 text-red-500 mx-auto mb-4"}),i.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:"تهانينا على إكمال هذه الرحلة الأدبية!"}),i.jsxs("p",{className:"text-gray-700 mb-6",children:["لقد كتبت ",n.writing_journey.total_words.toLocaleString()," كلمة في ",n.project_info.total_duration.total_days," يوماً، وطورت أسلوباً مميزاً يعكس شخصيتك الأدبية. هذه بداية رحلة طويلة في عالم الكتابة الإبداعية."]}),i.jsxs("div",{className:"flex justify-center gap-4",children:[i.jsx(He,{variant:"outline",className:"text-green-600",children:"مشروع مُكتمل"}),i.jsxs(He,{variant:"outline",className:"text-blue-600",children:[n.project_info.current_stage,"/6 مراحل"]})]})]})})]}):i.jsxs("div",{className:"text-center py-12",children:[i.jsx(xn,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),i.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"لا يوجد تقرير متاح"}),i.jsx("p",{className:"text-gray-600",children:"تعذر جلب التقرير الشخصي لهذا المشروع"})]})},Int=({userId:t="current_user",projectId:e,timeRange:n="month"})=>{const[r,s]=E.useState(null),[a,o]=E.useState(!0),[l,c]=E.useState(n),[u,d]=E.useState("quality"),{toast:h}=ki(),f={primary:"#8B5CF6",secondary:"#06B6D4",success:"#10B981",warning:"#F59E0B",danger:"#EF4444",neutral:"#6B7280"},A=["#8B5CF6","#06B6D4","#10B981","#F59E0B","#EF4444","#8B5A2B","#EC4899","#84CC16"];E.useEffect(()=>{v()},[t,e,l]);const v=async()=>{o(!0);try{const x=await fetch("/api/analytics/evolution",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({user_id:t,project_id:e,time_range:l})});if(x.ok){const b=await x.json();s(b.evolution_data)}else s(p())}catch(x){console.error("خطأ في جلب بيانات التطور:",x),s(p()),h({title:"تحذير",description:"تم تحميل بيانات تجريبية للعرض التوضيحي",variant:"default"})}finally{o(!1)}},p=()=>{const b=Array.from({length:24},(N,_)=>({session:_+1,date:new Date(Date.now()-(24-_)*24*60*60*1e3).toISOString().split("T")[0],quality:Math.max(2.5,Math.min(5,3+_*.08+(Math.random()-.5)*.6)),chapter_number:Math.floor(_/3)+1,improvement_rate:Math.max(-10,Math.min(15,(Math.random()-.3)*20))})),j=Array.from({length:12},(N,_)=>({date:new Date(Date.now()-(12-_)*7*24*60*60*1e3).toISOString().split("T")[0],alignment_score:Math.max(60,Math.min(95,70+_*2+(Math.random()-.5)*10)),personal_preference_match:Math.max(65,Math.min(98,75+_*1.8+(Math.random()-.5)*8)),consistency_score:Math.max(70,Math.min(92,75+_*1.5+(Math.random()-.5)*6))}));return{quality_trend:b,style_alignment:j,editing_patterns:{total_edits:1247,edit_types:[{type:"توسيع المحتوى",count:423,percentage:34,trend:"up"},{type:"تحسين الأسلوب",count:356,percentage:28.5,trend:"up"},{type:"تصحيح نحوي",count:298,percentage:24,trend:"down"},{type:"إعادة هيكلة",count:170,percentage:13.5,trend:"stable"}],editing_efficiency:Array.from({length:15},(N,_)=>({session:_+1,edits_per_word:Math.max(.02,Math.min(.12,.08-_*.003+(Math.random()-.5)*.02)),quality_improvement:Math.max(.1,Math.min(.8,.3+_*.02+(Math.random()-.5)*.15))}))},time_distribution:[{stage:"التخطيط",time_spent:18,efficiency_score:85,optimal_time:20},{stage:"الكتابة",time_spent:45,efficiency_score:78,optimal_time:40},{stage:"المراجعة",time_spent:25,efficiency_score:92,optimal_time:25},{stage:"التحرير",time_spent:12,efficiency_score:88,optimal_time:15}],learning_curve:Array.from({length:8},(N,_)=>({week:_+1,ai_suggestions_accepted:Math.max(10,50-_*4+(Math.random()-.5)*8),ai_suggestions_rejected:Math.max(2,15+_*2+(Math.random()-.5)*4),independence_score:Math.max(40,Math.min(95,55+_*5+(Math.random()-.5)*8))})),achievement_milestones:[{date:"2024-05-15",milestone:"تحسن ملحوظ في جودة الحوار",achievement_type:"quality",impact_score:85},{date:"2024-05-22",milestone:"زيادة الإنتاجية بنسبة 40%",achievement_type:"productivity",impact_score:78},{date:"2024-05-28",milestone:"اتساق الأسلوب عبر الفصول",achievement_type:"style",impact_score:92},{date:"2024-06-03",milestone:"انتظام في جلسات الكتابة",achievement_type:"consistency",impact_score:88}]}},m=x=>{switch(x){case"up":return i.jsx(lce,{className:"h-4 w-4 text-green-500"});case"down":return i.jsx(J_e,{className:"h-4 w-4 text-red-500"});default:return i.jsx(YH,{className:"h-4 w-4 text-gray-500"})}},g=x=>{switch(x){case"quality":return i.jsx(tr,{className:"h-5 w-5 text-yellow-500"});case"productivity":return i.jsx(vr,{className:"h-5 w-5 text-blue-500"});case"style":return i.jsx(ga,{className:"h-5 w-5 text-purple-500"});case"consistency":return i.jsx(En,{className:"h-5 w-5 text-green-500"});default:return i.jsx(Yg,{className:"h-5 w-5 text-orange-500"})}};return a?i.jsx("div",{className:"flex items-center justify-center h-96",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-purple-600 mx-auto mb-4"}),i.jsx("p",{className:"text-gray-600",children:"جاري تحليل بيانات تطورك..."})]})}):r?i.jsxs("div",{className:"space-y-6",dir:"rtl",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"لوحة تطوري الشخصي"}),i.jsx("p",{className:"text-gray-600",children:"تتبع مسيرتك الأدبية وتطور أسلوبك عبر الوقت"})]}),i.jsxs("div",{className:"flex items-center space-x-4 space-x-reverse",children:[i.jsxs(vi,{value:l,onValueChange:x=>c(x),children:[i.jsx(li,{className:"w-32",children:i.jsx(yi,{})}),i.jsxs(ci,{children:[i.jsx(Bt,{value:"week",children:"هذا الأسبوع"}),i.jsx(Bt,{value:"month",children:"هذا الشهر"}),i.jsx(Bt,{value:"quarter",children:"هذا الربع"}),i.jsx(Bt,{value:"year",children:"هذا العام"}),i.jsx(Bt,{value:"all",children:"جميع الفترات"})]})]}),i.jsxs(xe,{variant:"outline",size:"sm",children:[i.jsx(gr,{className:"h-4 w-4 ml-2"}),"تصدير التقرير"]})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[i.jsx(ae,{className:"bg-gradient-to-br from-purple-50 to-purple-100",children:i.jsxs(oe,{className:"p-4",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-purple-600",children:"متوسط الجودة"}),i.jsxs("p",{className:"text-2xl font-bold text-purple-900",children:[r.quality_trend.length>0?(r.quality_trend.reduce((x,b)=>x+b.quality,0)/r.quality_trend.length).toFixed(1):"0.0","/5"]})]}),i.jsx(tr,{className:"h-8 w-8 text-purple-500"})]}),i.jsx("div",{className:"mt-2",children:i.jsx(tt,{value:r.quality_trend.length>0?r.quality_trend.reduce((x,b)=>x+b.quality,0)/r.quality_trend.length*20:0,className:"h-2"})})]})}),i.jsx(ae,{className:"bg-gradient-to-br from-blue-50 to-blue-100",children:i.jsxs(oe,{className:"p-4",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-blue-600",children:"توافق الأسلوب"}),i.jsxs("p",{className:"text-2xl font-bold text-blue-900",children:[r.style_alignment.length>0?r.style_alignment[r.style_alignment.length-1].alignment_score.toFixed(0):"0","%"]})]}),i.jsx(En,{className:"h-8 w-8 text-blue-500"})]}),i.jsx("div",{className:"mt-2",children:i.jsx(tt,{value:r.style_alignment.length>0?r.style_alignment[r.style_alignment.length-1].alignment_score:0,className:"h-2"})})]})}),i.jsx(ae,{className:"bg-gradient-to-br from-green-50 to-green-100",children:i.jsxs(oe,{className:"p-4",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-green-600",children:"إجمالي التعديلات"}),i.jsx("p",{className:"text-2xl font-bold text-green-900",children:r.editing_patterns.total_edits.toLocaleString()})]}),i.jsx(Gu,{className:"h-8 w-8 text-green-500"})]}),i.jsxs("div",{className:"mt-2 flex items-center",children:[i.jsx(tt,{value:75,className:"h-2 flex-1"}),i.jsx("span",{className:"ml-2 text-sm text-green-600",children:"+12%"})]})]})}),i.jsx(ae,{className:"bg-gradient-to-br from-orange-50 to-orange-100",children:i.jsxs(oe,{className:"p-4",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-orange-600",children:"مستوى الاستقلالية"}),i.jsxs("p",{className:"text-2xl font-bold text-orange-900",children:[r.learning_curve.length>0?r.learning_curve[r.learning_curve.length-1].independence_score.toFixed(0):"0","%"]})]}),i.jsx(zt,{className:"h-8 w-8 text-orange-500"})]}),i.jsx("div",{className:"mt-2",children:i.jsx(tt,{value:r.learning_curve.length>0?r.learning_curve[r.learning_curve.length-1].independence_score:0,className:"h-2"})})]})})]}),i.jsxs(zn,{value:u,onValueChange:d,className:"space-y-6",children:[i.jsxs(On,{className:"grid w-full grid-cols-5",children:[i.jsx(nt,{value:"quality",children:"تطور الجودة"}),i.jsx(nt,{value:"style",children:"توافق الأسلوب"}),i.jsx(nt,{value:"editing",children:"أنماط التحرير"}),i.jsx(nt,{value:"time",children:"توزيع الوقت"}),i.jsx(nt,{value:"achievements",children:"الإنجازات"})]}),i.jsx(rt,{value:"quality",className:"space-y-6",children:i.jsxs(ae,{children:[i.jsxs(Te,{children:[i.jsxs(ke,{className:"flex items-center",children:[i.jsx(Hn,{className:"h-5 w-5 ml-2"}),"تطور جودة المحتوى عبر الوقت"]}),i.jsx(Pt,{children:"متتبع متوسط جودة الفصول المولدة ومعدل التحسن"})]}),i.jsx(oe,{children:i.jsx("div",{className:"h-80",children:i.jsx(Cr,{width:"100%",height:"100%",children:i.jsxs(GQ,{data:r.quality_trend,children:[i.jsx(Hi,{strokeDasharray:"3 3"}),i.jsx(Tr,{dataKey:"session"}),i.jsx(ur,{yAxisId:"left",domain:[0,5]}),i.jsx(ur,{yAxisId:"right",orientation:"right"}),i.jsx(er,{}),i.jsx(Ji,{}),i.jsx(Is,{yAxisId:"left",type:"monotone",dataKey:"quality",stroke:f.primary,fill:f.primary,fillOpacity:.3,name:"متوسط الجودة"}),i.jsx(Ys,{yAxisId:"right",dataKey:"improvement_rate",fill:f.secondary,name:"معدل التحسن (%)"})]})})})})]})}),i.jsx(rt,{value:"style",className:"space-y-6",children:i.jsxs(ae,{children:[i.jsxs(Te,{children:[i.jsxs(ke,{className:"flex items-center",children:[i.jsx(En,{className:"h-5 w-5 ml-2"}),"مدى توافق الأسلوب مع التفضيلات الشخصية"]}),i.jsx(Pt,{children:"تحليل مدى اقتراب أو ابتعاد الأسلوب من تفضيلاتك الشخصية"})]}),i.jsx(oe,{children:i.jsx("div",{className:"h-80",children:i.jsx(Cr,{width:"100%",height:"100%",children:i.jsxs(If,{data:r.style_alignment,children:[i.jsx(Hi,{strokeDasharray:"3 3"}),i.jsx(Tr,{dataKey:"date"}),i.jsx(ur,{domain:[0,100]}),i.jsx(er,{}),i.jsx(Ji,{}),i.jsx(Kr,{type:"monotone",dataKey:"alignment_score",stroke:f.primary,strokeWidth:3,name:"توافق الأسلوب العام"}),i.jsx(Kr,{type:"monotone",dataKey:"personal_preference_match",stroke:f.secondary,strokeWidth:2,name:"مطابقة التفضيلات الشخصية"}),i.jsx(Kr,{type:"monotone",dataKey:"consistency_score",stroke:f.success,strokeWidth:2,name:"اتساق الأسلوب"})]})})})})]})}),i.jsx(rt,{value:"editing",className:"space-y-6",children:i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[i.jsxs(ae,{children:[i.jsx(Te,{children:i.jsxs(ke,{className:"flex items-center",children:[i.jsx(Gu,{className:"h-5 w-5 ml-2"}),"توزيع أنواع التعديلات"]})}),i.jsxs(oe,{children:[i.jsx("div",{className:"space-y-4",children:r.editing_patterns.edit_types.map((x,b)=>i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center space-x-3 space-x-reverse",children:[m(x.trend),i.jsx("span",{className:"text-sm font-medium",children:x.type})]}),i.jsxs("div",{className:"flex items-center space-x-2 space-x-reverse",children:[i.jsx("span",{className:"text-sm text-gray-500",children:x.count}),i.jsxs(He,{variant:"secondary",children:[x.percentage,"%"]})]})]},x.type))}),i.jsx("div",{className:"mt-6 h-48",children:i.jsx(Cr,{width:"100%",height:"100%",children:i.jsxs(WF,{children:[i.jsx(ed,{data:r.editing_patterns.edit_types,cx:"50%",cy:"50%",outerRadius:80,dataKey:"count",nameKey:"type",children:r.editing_patterns.edit_types.map((x,b)=>i.jsx(jx,{fill:A[b%A.length]},`cell-${b}`))}),i.jsx(er,{})]})})})]})]}),i.jsxs(ae,{children:[i.jsxs(Te,{children:[i.jsxs(ke,{className:"flex items-center",children:[i.jsx(Rs,{className:"h-5 w-5 ml-2"}),"كفاءة التحرير"]}),i.jsx(Pt,{children:"العلاقة بين عدد التعديلات وتحسن الجودة"})]}),i.jsx(oe,{children:i.jsx("div",{className:"h-64",children:i.jsx(Cr,{width:"100%",height:"100%",children:i.jsxs(B5,{data:r.editing_patterns.editing_efficiency,children:[i.jsx(Hi,{strokeDasharray:"3 3"}),i.jsx(Tr,{dataKey:"session"}),i.jsx(ur,{yAxisId:"left"}),i.jsx(ur,{yAxisId:"right",orientation:"right"}),i.jsx(er,{}),i.jsx(Ji,{}),i.jsx(Is,{yAxisId:"left",type:"monotone",dataKey:"edits_per_word",stroke:f.warning,fill:f.warning,fillOpacity:.3,name:"تعديلات/كلمة"}),i.jsx(Is,{yAxisId:"right",type:"monotone",dataKey:"quality_improvement",stroke:f.success,fill:f.success,fillOpacity:.3,name:"تحسن الجودة"})]})})})})]})]})}),i.jsxs(rt,{value:"time",className:"space-y-6",children:[i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[i.jsxs(ae,{children:[i.jsx(Te,{children:i.jsxs(ke,{className:"flex items-center",children:[i.jsx(xr,{className:"h-5 w-5 ml-2"}),"توزيع الوقت عبر مراحل الكتابة"]})}),i.jsx(oe,{children:i.jsx("div",{className:"h-64",children:i.jsx(Cr,{width:"100%",height:"100%",children:i.jsxs(uj,{data:r.time_distribution,children:[i.jsx(Hi,{strokeDasharray:"3 3"}),i.jsx(Tr,{dataKey:"stage"}),i.jsx(ur,{}),i.jsx(er,{}),i.jsx(Ji,{}),i.jsx(Ys,{dataKey:"time_spent",fill:f.primary,name:"الوقت المستغرق"}),i.jsx(Ys,{dataKey:"optimal_time",fill:f.neutral,name:"الوقت الأمثل"})]})})})})]}),i.jsxs(ae,{children:[i.jsx(Te,{children:i.jsxs(ke,{className:"flex items-center",children:[i.jsx(hs,{className:"h-5 w-5 ml-2"}),"مؤشرات الكفاءة"]})}),i.jsx(oe,{children:i.jsx("div",{className:"space-y-4",children:r.time_distribution.map((x,b)=>i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("span",{className:"text-sm font-medium",children:x.stage}),i.jsxs(He,{variant:x.efficiency_score>=85?"default":x.efficiency_score>=70?"secondary":"destructive",children:[x.efficiency_score,"%"]})]}),i.jsx(tt,{value:x.efficiency_score,className:"h-2"})]},x.stage))})})]})]}),i.jsxs(ae,{children:[i.jsxs(Te,{children:[i.jsxs(ke,{className:"flex items-center",children:[i.jsx(zt,{className:"h-5 w-5 ml-2"}),"منحنى التعلم والاستقلالية"]}),i.jsx(Pt,{children:"تطور مستوى الاستقلالية عن اقتراحات الذكاء الاصطناعي"})]}),i.jsx(oe,{children:i.jsx("div",{className:"h-80",children:i.jsx(Cr,{width:"100%",height:"100%",children:i.jsxs(GQ,{data:r.learning_curve,children:[i.jsx(Hi,{strokeDasharray:"3 3"}),i.jsx(Tr,{dataKey:"week"}),i.jsx(ur,{yAxisId:"left"}),i.jsx(ur,{yAxisId:"right",orientation:"right"}),i.jsx(er,{}),i.jsx(Ji,{}),i.jsx(Ys,{yAxisId:"left",dataKey:"ai_suggestions_accepted",fill:f.secondary,name:"اقتراحات مقبولة"}),i.jsx(Ys,{yAxisId:"left",dataKey:"ai_suggestions_rejected",fill:f.danger,name:"اقتراحات مرفوضة"}),i.jsx(Kr,{yAxisId:"right",type:"monotone",dataKey:"independence_score",stroke:f.success,strokeWidth:3,name:"مستوى الاستقلالية (%)"})]})})})})]})]}),i.jsx(rt,{value:"achievements",className:"space-y-6",children:i.jsxs(ae,{children:[i.jsxs(Te,{children:[i.jsxs(ke,{className:"flex items-center",children:[i.jsx(Yg,{className:"h-5 w-5 ml-2"}),"معالم الإنجاز الشخصي"]}),i.jsx(Pt,{children:"أهم اللحظات في مسيرتك الأدبية"})]}),i.jsx(oe,{children:i.jsx("div",{className:"space-y-4",children:r.achievement_milestones.map((x,b)=>i.jsxs("div",{className:"flex items-start space-x-4 space-x-reverse p-4 border rounded-lg bg-gradient-to-l from-gray-50 to-white",children:[i.jsx("div",{className:"flex-shrink-0",children:g(x.achievement_type)}),i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("h4",{className:"text-sm font-semibold text-gray-900",children:x.milestone}),i.jsx("span",{className:"text-xs text-gray-500",children:new Date(x.date).toLocaleDateString("ar-SA")})]}),i.jsxs("div",{className:"mt-2 flex items-center space-x-2 space-x-reverse",children:[i.jsxs(He,{variant:"outline",children:[x.achievement_type==="quality"&&"جودة",x.achievement_type==="productivity"&&"إنتاجية",x.achievement_type==="style"&&"أسلوب",x.achievement_type==="consistency"&&"اتساق"]}),i.jsxs("div",{className:"flex items-center",children:[i.jsx("span",{className:"text-xs text-gray-600 ml-1",children:"تأثير:"}),i.jsx(tt,{value:x.impact_score,className:"h-2 w-16"}),i.jsxs("span",{className:"text-xs text-gray-600 mr-1",children:[x.impact_score,"%"]})]})]})]})]},b))})})]})})]})]}):i.jsx(ae,{className:"p-8 text-center",children:i.jsxs(oe,{children:[i.jsx(dr,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),i.jsx("h3",{className:"text-lg font-semibold text-gray-700 mb-2",children:"لا توجد بيانات كافية"}),i.jsx("p",{className:"text-gray-600",children:"ابدأ الكتابة لتتبع تطورك الشخصي"})]})})},Ont=({userId:t,projectId:e,timeRange:n="month"})=>{var x,b,j,N,_,C;const[r,s]=E.useState("quality-trends"),[a,o]=E.useState(n),[l,c]=E.useState(null),[u,d]=E.useState(!0),[h,f]=E.useState(!1),{toast:A}=ki(),v={primary:"#8B5CF6",secondary:"#06B6D4",success:"#10B981",warning:"#F59E0B",danger:"#EF4444",info:"#3B82F6"},p={quality_evolution:[{session:1,date:"2024-01-01",quality_score:6.2,chapter_number:1,improvement_rate:0,consistency_score:5.8,creativity_index:6.5,technical_score:6,emotional_impact:6.3},{session:2,date:"2024-01-03",quality_score:6.5,chapter_number:1,improvement_rate:4.8,consistency_score:6.1,creativity_index:6.8,technical_score:6.3,emotional_impact:6.6},{session:3,date:"2024-01-05",quality_score:6.8,chapter_number:1,improvement_rate:4.6,consistency_score:6.5,creativity_index:7.1,technical_score:6.6,emotional_impact:6.9},{session:4,date:"2024-01-08",quality_score:7.1,chapter_number:2,improvement_rate:4.4,consistency_score:6.8,creativity_index:7.4,technical_score:6.9,emotional_impact:7.2},{session:5,date:"2024-01-10",quality_score:7.4,chapter_number:2,improvement_rate:4.2,consistency_score:7.2,creativity_index:7.7,technical_score:7.2,emotional_impact:7.5},{session:6,date:"2024-01-12",quality_score:7.7,chapter_number:2,improvement_rate:4.1,consistency_score:7.5,creativity_index:8,technical_score:7.5,emotional_impact:7.8},{session:7,date:"2024-01-15",quality_score:8,chapter_number:3,improvement_rate:3.9,consistency_score:7.8,creativity_index:8.3,technical_score:7.8,emotional_impact:8.1},{session:8,date:"2024-01-17",quality_score:8.3,chapter_number:3,improvement_rate:3.8,consistency_score:8.1,creativity_index:8.6,technical_score:8.1,emotional_impact:8.4},{session:9,date:"2024-01-20",quality_score:8.6,chapter_number:3,improvement_rate:3.6,consistency_score:8.4,creativity_index:8.9,technical_score:8.4,emotional_impact:8.7},{session:10,date:"2024-01-22",quality_score:8.9,chapter_number:4,improvement_rate:3.5,consistency_score:8.7,creativity_index:9.2,technical_score:8.7,emotional_impact:9}],time_patterns:{productivity_by_hour:[{hour:6,productivity:65,quality:7.2,sessions_count:2},{hour:7,productivity:78,quality:7.8,sessions_count:4},{hour:8,productivity:85,quality:8.1,sessions_count:6},{hour:9,productivity:92,quality:8.5,sessions_count:8},{hour:10,productivity:88,quality:8.3,sessions_count:7},{hour:11,productivity:75,quality:7.9,sessions_count:5},{hour:14,productivity:70,quality:7.6,sessions_count:4},{hour:15,productivity:82,quality:8,sessions_count:6},{hour:16,productivity:86,quality:8.2,sessions_count:7},{hour:20,productivity:79,quality:7.7,sessions_count:5},{hour:21,productivity:73,quality:7.4,sessions_count:4},{hour:22,productivity:68,quality:7.1,sessions_count:3}],weekly_trends:[{day:"الإثنين",total_time:45,average_quality:7.8,sessions:2},{day:"الثلاثاء",total_time:60,average_quality:8.2,sessions:3},{day:"الأربعاء",total_time:50,average_quality:7.9,sessions:2},{day:"الخميس",total_time:65,average_quality:8.4,sessions:3},{day:"الجمعة",total_time:40,average_quality:7.6,sessions:2},{day:"السبت",total_time:75,average_quality:8.6,sessions:4},{day:"الأحد",total_time:55,average_quality:8,sessions:3}],monthly_comparison:[{month:"يناير",words:15e3,quality:7.2,consistency:78},{month:"فبراير",words:18e3,quality:7.8,consistency:82},{month:"مارس",words:22e3,quality:8.1,consistency:85},{month:"أبريل",words:2e4,quality:8.4,consistency:88},{month:"مايو",words:25e3,quality:8.7,consistency:91}]},editing_intelligence:{edit_patterns:[{type:"expansion",count:45,impact_score:8.2,time_trend:[{week:1,frequency:8},{week:2,frequency:12},{week:3,frequency:15},{week:4,frequency:10}]},{type:"refinement",count:38,impact_score:9.1,time_trend:[{week:1,frequency:6},{week:2,frequency:10},{week:3,frequency:12},{week:4,frequency:10}]},{type:"correction",count:22,impact_score:7.8,time_trend:[{week:1,frequency:8},{week:2,frequency:6},{week:3,frequency:5},{week:4,frequency:3}]}],quality_improvement_per_edit:.23,edit_efficiency_score:87.5},personal_insights:{writing_personality:{dominant_traits:[{trait:"الدقة والتفصيل",score:8.7,description:"ميل قوي نحو الكمال والدقة في التعبير"},{trait:"الإبداع والخيال",score:8.2,description:"قدرة عالية على الابتكار والتصور"},{trait:"التماسك السردي",score:7.9,description:"مهارة في بناء القصة بشكل متماسك"},{trait:"العمق العاطفي",score:8.5,description:"قدرة على نقل المشاعر بعمق"}],growth_areas:[{area:"السرعة في الكتابة",current_level:6.2,target_level:8,recommendation:"تقليل الوقت المستغرق في التفكير قبل الكتابة"},{area:"تنويع الأسلوب",current_level:7.1,target_level:8.5,recommendation:"تجريب تقنيات سردية جديدة ومتنوعة"}]},learning_curve:{adaptation_speed:8.3,consistency_level:8.7,innovation_rate:7.8,perfectionism_index:8.9}},predictions:{next_month_projection:{expected_quality:9.1,expected_productivity:92,confidence_level:85},milestone_predictions:[{milestone:"الوصول لجودة 9/10",estimated_date:"2024-07-15",probability:78},{milestone:"إتمام 50,000 كلمة",estimated_date:"2024-08-01",probability:85},{milestone:"تحقيق الثبات الكامل",estimated_date:"2024-07-30",probability:72}]}};E.useEffect(()=>{m()},[t,e,a]);const m=async()=>{d(!0);try{await new Promise(k=>setTimeout(k,1e3)),c(p),A({title:"تم تحميل بيانات التطور",description:"تم تحليل مسيرتك الكتابية بنجاح"})}catch{A({title:"خطأ في تحميل البيانات",description:"فشل في تحميل بيانات التطور",variant:"destructive"})}finally{d(!1)}},g=k=>k>=6&&k<12?i.jsx(_5e,{className:"w-4 h-4 text-yellow-500"}):k>=12&&k<18?i.jsx(N5e,{className:"w-4 h-4 text-orange-500"}):k>=18&&k<22?i.jsx(C5e,{className:"w-4 h-4 text-red-500"}):i.jsx(jv,{className:"w-4 h-4 text-blue-500"});return u?i.jsx("div",{className:"flex items-center justify-center p-8",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-purple-600 mx-auto mb-4"}),i.jsx("p",{className:"text-gray-600",children:"جاري تحليل مسيرتك التطورية..."})]})}):l?i.jsxs("div",{className:"space-y-6",dir:"rtl",children:[i.jsx(ae,{className:"bg-gradient-to-r from-purple-50 to-pink-50 border-2 border-purple-200",children:i.jsx(oe,{className:"p-4",children:i.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Yg,{className:"w-6 h-6 text-purple-600"}),i.jsx("h2",{className:"text-xl font-bold text-purple-900",children:"لوحة تطوري المتقدمة"})]}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsxs(vi,{value:a,onValueChange:k=>o(k),children:[i.jsx(li,{className:"w-32",children:i.jsx(yi,{})}),i.jsxs(ci,{children:[i.jsx(Bt,{value:"week",children:"أسبوع"}),i.jsx(Bt,{value:"month",children:"شهر"}),i.jsx(Bt,{value:"quarter",children:"ربع سنة"}),i.jsx(Bt,{value:"project",children:"المشروع"})]})]}),i.jsxs(xe,{variant:h?"default":"outline",size:"sm",onClick:()=>f(!h),children:[i.jsx(hs,{className:"w-4 h-4 mr-2"}),"المقارنة"]})]})]})})}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[i.jsx(ae,{className:"bg-gradient-to-br from-green-50 to-green-100",children:i.jsx(oe,{className:"p-4",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-green-600",children:"التحسن الشامل"}),i.jsx("p",{className:"text-2xl font-bold text-green-900",children:((((x=l.quality_evolution[l.quality_evolution.length-1])==null?void 0:x.quality_score)||0)-(((b=l.quality_evolution[0])==null?void 0:b.quality_score)||0)).toFixed(1)}),i.jsx("p",{className:"text-xs text-green-600",children:"نقطة تحسن"})]}),i.jsx(Hn,{className:"h-8 w-8 text-green-500"})]})})}),i.jsx(ae,{className:"bg-gradient-to-br from-blue-50 to-blue-100",children:i.jsx(oe,{className:"p-4",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-blue-600",children:"مستوى الثبات"}),i.jsx("p",{className:"text-2xl font-bold text-blue-900",children:l.personal_insights.learning_curve.consistency_level.toFixed(1)}),i.jsx("p",{className:"text-xs text-blue-600",children:"من 10"})]}),i.jsx(En,{className:"h-8 w-8 text-blue-500"})]})})}),i.jsx(ae,{className:"bg-gradient-to-br from-purple-50 to-purple-100",children:i.jsx(oe,{className:"p-4",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-purple-600",children:"معدل الابتكار"}),i.jsx("p",{className:"text-2xl font-bold text-purple-900",children:l.personal_insights.learning_curve.innovation_rate.toFixed(1)}),i.jsx("p",{className:"text-xs text-purple-600",children:"من 10"})]}),i.jsx(nr,{className:"h-8 w-8 text-purple-500"})]})})}),i.jsx(ae,{className:"bg-gradient-to-br from-orange-50 to-orange-100",children:i.jsx(oe,{className:"p-4",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-orange-600",children:"سرعة التكيف"}),i.jsx("p",{className:"text-2xl font-bold text-orange-900",children:l.personal_insights.learning_curve.adaptation_speed.toFixed(1)}),i.jsx("p",{className:"text-xs text-orange-600",children:"من 10"})]}),i.jsx(vr,{className:"h-8 w-8 text-orange-500"})]})})})]}),i.jsxs(zn,{value:r,onValueChange:s,className:"space-y-6",children:[i.jsxs(On,{className:"grid w-full grid-cols-5",children:[i.jsxs(nt,{value:"quality-trends",className:"flex items-center gap-2",children:[i.jsx(Hn,{className:"h-4 w-4"}),"اتجاهات الجودة"]}),i.jsxs(nt,{value:"time-patterns",className:"flex items-center gap-2",children:[i.jsx(xr,{className:"h-4 w-4"}),"أنماط الوقت"]}),i.jsxs(nt,{value:"editing-intelligence",className:"flex items-center gap-2",children:[i.jsx(Gu,{className:"h-4 w-4"}),"ذكاء التحرير"]}),i.jsxs(nt,{value:"personality",className:"flex items-center gap-2",children:[i.jsx(zt,{className:"h-4 w-4"}),"الشخصية الكتابية"]}),i.jsxs(nt,{value:"predictions",className:"flex items-center gap-2",children:[i.jsx(Vn,{className:"h-4 w-4"}),"التنبؤات"]})]}),i.jsx(rt,{value:"quality-trends",className:"space-y-6",children:i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[i.jsxs(ae,{children:[i.jsx(Te,{children:i.jsxs(ke,{className:"flex items-center gap-2",children:[i.jsx(Hn,{className:"w-5 h-5 text-green-600"}),"تطور الجودة الإجمالية"]})}),i.jsx(oe,{children:i.jsx(Cr,{width:"100%",height:300,children:i.jsxs(If,{data:l.quality_evolution,children:[i.jsx(Hi,{strokeDasharray:"3 3"}),i.jsx(Tr,{dataKey:"session",tick:{fontSize:12}}),i.jsx(ur,{domain:[5,10],tick:{fontSize:12}}),i.jsx(er,{labelFormatter:k=>`الجلسة ${k}`,formatter:(k,T)=>[k==null?void 0:k.toFixed(1),T==="quality_score"?"نقاط الجودة":T==="consistency_score"?"الثبات":T==="creativity_index"?"الإبداع":T]}),i.jsx(Ji,{}),i.jsx(Kr,{type:"monotone",dataKey:"quality_score",stroke:v.primary,strokeWidth:3,dot:{fill:v.primary,strokeWidth:2,r:4}}),i.jsx(Kr,{type:"monotone",dataKey:"consistency_score",stroke:v.secondary,strokeWidth:2,dot:{fill:v.secondary,strokeWidth:2,r:3}}),i.jsx(Kr,{type:"monotone",dataKey:"creativity_index",stroke:v.success,strokeWidth:2,dot:{fill:v.success,strokeWidth:2,r:3}})]})})})]}),i.jsxs(ae,{children:[i.jsx(Te,{children:i.jsxs(ke,{className:"flex items-center gap-2",children:[i.jsx(En,{className:"w-5 h-5 text-purple-600"}),"التحليل متعدد الأبعاد"]})}),i.jsx(oe,{children:i.jsx(Cr,{width:"100%",height:300,children:i.jsxs(qF,{data:[{dimension:"الجودة التقنية",current:((j=l.quality_evolution[l.quality_evolution.length-1])==null?void 0:j.technical_score)||0,target:9.5},{dimension:"الإبداع",current:((N=l.quality_evolution[l.quality_evolution.length-1])==null?void 0:N.creativity_index)||0,target:9.5},{dimension:"التأثير العاطفي",current:((_=l.quality_evolution[l.quality_evolution.length-1])==null?void 0:_.emotional_impact)||0,target:9.5},{dimension:"الثبات",current:((C=l.quality_evolution[l.quality_evolution.length-1])==null?void 0:C.consistency_score)||0,target:9.5}],children:[i.jsx(WS,{}),i.jsx(qp,{dataKey:"dimension",tick:{fontSize:12}}),i.jsx(Wp,{domain:[0,10],tick:{fontSize:10}}),i.jsx(ph,{name:"المستوى الحالي",dataKey:"current",stroke:v.primary,fill:v.primary,fillOpacity:.3,strokeWidth:2}),i.jsx(ph,{name:"الهدف",dataKey:"target",stroke:v.warning,fill:"transparent",strokeWidth:2,strokeDasharray:"5 5"}),i.jsx(Ji,{})]})})})]})]})}),i.jsxs(rt,{value:"time-patterns",className:"space-y-6",children:[i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[i.jsxs(ae,{children:[i.jsx(Te,{children:i.jsxs(ke,{className:"flex items-center gap-2",children:[i.jsx(xr,{className:"w-5 h-5 text-blue-600"}),"الإنتاجية حسب وقت اليوم"]})}),i.jsx(oe,{children:i.jsx(Cr,{width:"100%",height:300,children:i.jsxs(GQ,{data:l.time_patterns.productivity_by_hour,children:[i.jsx(Hi,{strokeDasharray:"3 3"}),i.jsx(Tr,{dataKey:"hour",tick:{fontSize:12},tickFormatter:k=>`${k}:00`}),i.jsx(ur,{yAxisId:"left",tick:{fontSize:12}}),i.jsx(ur,{yAxisId:"right",orientation:"right",tick:{fontSize:12}}),i.jsx(er,{labelFormatter:k=>`الساعة ${k}:00`,formatter:(k,T)=>[typeof k=="number"?k.toFixed(1):k,T==="productivity"?"الإنتاجية %":T==="quality"?"الجودة":T==="sessions_count"?"عدد الجلسات":T]}),i.jsx(Ji,{}),i.jsx(Ys,{yAxisId:"left",dataKey:"productivity",fill:v.info,name:"الإنتاجية",opacity:.8}),i.jsx(Kr,{yAxisId:"right",type:"monotone",dataKey:"quality",stroke:v.danger,strokeWidth:3,name:"الجودة"})]})})})]}),i.jsxs(ae,{children:[i.jsx(Te,{children:i.jsxs(ke,{className:"flex items-center gap-2",children:[i.jsx(wp,{className:"w-5 h-5 text-purple-600"}),"التوزيع الأسبوعي"]})}),i.jsx(oe,{children:i.jsx(Cr,{width:"100%",height:300,children:i.jsxs(uj,{data:l.time_patterns.weekly_trends,children:[i.jsx(Hi,{strokeDasharray:"3 3"}),i.jsx(Tr,{dataKey:"day",tick:{fontSize:12}}),i.jsx(ur,{tick:{fontSize:12}}),i.jsx(er,{formatter:(k,T)=>[typeof k=="number"?k.toFixed(1):k,T==="total_time"?"إجمالي الوقت (دقيقة)":T==="average_quality"?"متوسط الجودة":T==="sessions"?"عدد الجلسات":T]}),i.jsx(Ji,{}),i.jsx(Ys,{dataKey:"total_time",fill:v.secondary,name:"الوقت"}),i.jsx(Ys,{dataKey:"sessions",fill:v.success,name:"الجلسات"})]})})})]})]}),i.jsxs(ae,{children:[i.jsx(Te,{children:i.jsxs(ke,{className:"flex items-center gap-2",children:[i.jsx(za,{className:"w-5 h-5 text-yellow-600"}),"أفضل أوقات الإنتاجية"]})}),i.jsx(oe,{children:i.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:l.time_patterns.productivity_by_hour.sort((k,T)=>T.productivity-k.productivity).slice(0,4).map((k,T)=>i.jsxs("div",{className:"text-center p-4 bg-yellow-50 rounded-lg",children:[i.jsxs("div",{className:"flex items-center justify-center mb-2",children:[g(k.hour),i.jsxs("span",{className:"mr-2 font-bold",children:[k.hour,":00"]})]}),i.jsxs("div",{className:"text-sm text-gray-600",children:[i.jsxs("p",{children:["الإنتاجية: ",k.productivity,"%"]}),i.jsxs("p",{children:["الجودة: ",k.quality.toFixed(1)]})]}),i.jsx(He,{variant:T===0?"default":"secondary",className:"mt-2",children:T===0?"الأفضل":`المرتبة ${T+1}`})]},k.hour))})})]})]}),i.jsx(rt,{value:"editing-intelligence",className:"space-y-6",children:i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[i.jsxs(ae,{children:[i.jsx(Te,{children:i.jsxs(ke,{className:"flex items-center gap-2",children:[i.jsx(Gu,{className:"w-5 h-5 text-green-600"}),"أنماط التحرير"]})}),i.jsx(oe,{children:i.jsx(Cr,{width:"100%",height:300,children:i.jsxs(WF,{children:[i.jsx(ed,{data:l.editing_intelligence.edit_patterns.map(k=>({name:k.type==="expansion"?"التوسيع":k.type==="refinement"?"التحسين":k.type==="correction"?"التصحيح":"إعادة الهيكلة",value:k.count,impact:k.impact_score})),cx:"50%",cy:"50%",labelLine:!1,label:k=>`${k.name}: ${k.value}`,outerRadius:100,fill:"#8884d8",dataKey:"value",children:l.editing_intelligence.edit_patterns.map((k,T)=>i.jsx(jx,{fill:[v.primary,v.secondary,v.success,v.warning][T]},`cell-${T}`))}),i.jsx(er,{formatter:(k,T,O)=>{var I,F;return[`${k} تحرير`,`التأثير: ${(F=(I=O.payload)==null?void 0:I.impact)==null?void 0:F.toFixed(1)}/10`]}})]})})})]}),i.jsxs(ae,{children:[i.jsx(Te,{children:i.jsxs(ke,{className:"flex items-center gap-2",children:[i.jsx(vr,{className:"w-5 h-5 text-purple-600"}),"كفاءة التحرير"]})}),i.jsxs(oe,{className:"space-y-4",children:[i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{children:[i.jsxs("div",{className:"flex justify-between items-center mb-2",children:[i.jsx("span",{className:"text-sm font-medium",children:"نقاط التحسن لكل تحرير"}),i.jsx("span",{className:"text-sm text-gray-600",children:l.editing_intelligence.quality_improvement_per_edit.toFixed(2)})]}),i.jsx(tt,{value:l.editing_intelligence.quality_improvement_per_edit*100,className:"h-2"})]}),i.jsxs("div",{children:[i.jsxs("div",{className:"flex justify-between items-center mb-2",children:[i.jsx("span",{className:"text-sm font-medium",children:"مؤشر كفاءة التحرير"}),i.jsxs("span",{className:"text-sm text-gray-600",children:[l.editing_intelligence.edit_efficiency_score.toFixed(1),"%"]})]}),i.jsx(tt,{value:l.editing_intelligence.edit_efficiency_score,className:"h-2"})]})]}),i.jsxs("div",{className:"mt-6 space-y-2",children:[i.jsx("h4",{className:"font-semibold text-sm",children:"نصائح لتحسين كفاءة التحرير:"}),i.jsxs("div",{className:"space-y-2 text-sm text-gray-600",children:[i.jsxs("div",{className:"flex items-start gap-2",children:[i.jsx(He,{variant:"outline",className:"text-xs",children:"نصيحة"}),i.jsx("span",{children:"ركز على التحسين والتنقيح أكثر من التوسيع"})]}),i.jsxs("div",{className:"flex items-start gap-2",children:[i.jsx(He,{variant:"outline",className:"text-xs",children:"نصيحة"}),i.jsx("span",{children:"قلل من عمليات التصحيح بمراجعة أولية أفضل"})]})]})]})]})]})]})}),i.jsxs(rt,{value:"personality",className:"space-y-6",children:[i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[i.jsxs(ae,{children:[i.jsx(Te,{children:i.jsxs(ke,{className:"flex items-center gap-2",children:[i.jsx(Wa,{className:"w-5 h-5 text-purple-600"}),"صفاتك الكتابية المميزة"]})}),i.jsx(oe,{className:"space-y-4",children:l.personal_insights.writing_personality.dominant_traits.map((k,T)=>i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("span",{className:"font-medium",children:k.trait}),i.jsxs("span",{className:"text-sm text-gray-600",children:[k.score.toFixed(1),"/10"]})]}),i.jsx(tt,{value:k.score*10,className:"h-2"}),i.jsx("p",{className:"text-sm text-gray-600",children:k.description})]},T))})]}),i.jsxs(ae,{children:[i.jsx(Te,{children:i.jsxs(ke,{className:"flex items-center gap-2",children:[i.jsx(En,{className:"w-5 h-5 text-green-600"}),"مجالات النمو والتطوير"]})}),i.jsx(oe,{className:"space-y-4",children:l.personal_insights.writing_personality.growth_areas.map((k,T)=>i.jsxs("div",{className:"p-4 border rounded-lg",children:[i.jsx("h4",{className:"font-semibold mb-2",children:k.area}),i.jsxs("div",{className:"space-y-2 mb-3",children:[i.jsxs("div",{className:"flex justify-between text-sm",children:[i.jsx("span",{children:"المستوى الحالي:"}),i.jsxs("span",{children:[k.current_level.toFixed(1),"/10"]})]}),i.jsx(tt,{value:k.current_level*10,className:"h-2"}),i.jsxs("div",{className:"flex justify-between text-sm",children:[i.jsx("span",{children:"الهدف:"}),i.jsxs("span",{children:[k.target_level.toFixed(1),"/10"]})]})]}),i.jsx("div",{className:"bg-blue-50 p-3 rounded",children:i.jsxs("p",{className:"text-sm text-blue-800",children:[i.jsx("strong",{children:"التوصية:"})," ",k.recommendation]})})]},T))})]})]}),i.jsxs(ae,{children:[i.jsx(Te,{children:i.jsxs(ke,{className:"flex items-center gap-2",children:[i.jsx(zt,{className:"w-5 h-5 text-blue-600"}),"منحنى التعلم الشخصي"]})}),i.jsx(oe,{children:i.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6",children:[i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"text-2xl font-bold text-blue-600 mb-1",children:l.personal_insights.learning_curve.adaptation_speed.toFixed(1)}),i.jsx("div",{className:"text-sm text-gray-600 mb-2",children:"سرعة التكيف"}),i.jsx(tt,{value:l.personal_insights.learning_curve.adaptation_speed*10,className:"h-2"})]}),i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"text-2xl font-bold text-green-600 mb-1",children:l.personal_insights.learning_curve.consistency_level.toFixed(1)}),i.jsx("div",{className:"text-sm text-gray-600 mb-2",children:"مستوى الثبات"}),i.jsx(tt,{value:l.personal_insights.learning_curve.consistency_level*10,className:"h-2"})]}),i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"text-2xl font-bold text-purple-600 mb-1",children:l.personal_insights.learning_curve.innovation_rate.toFixed(1)}),i.jsx("div",{className:"text-sm text-gray-600 mb-2",children:"معدل الابتكار"}),i.jsx(tt,{value:l.personal_insights.learning_curve.innovation_rate*10,className:"h-2"})]}),i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"text-2xl font-bold text-orange-600 mb-1",children:l.personal_insights.learning_curve.perfectionism_index.toFixed(1)}),i.jsx("div",{className:"text-sm text-gray-600 mb-2",children:"مؤشر الكمالية"}),i.jsx(tt,{value:l.personal_insights.learning_curve.perfectionism_index*10,className:"h-2"})]})]})})]})]}),i.jsxs(rt,{value:"predictions",className:"space-y-6",children:[i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[i.jsxs(ae,{children:[i.jsx(Te,{children:i.jsxs(ke,{className:"flex items-center gap-2",children:[i.jsx(Vn,{className:"w-5 h-5 text-blue-600"}),"توقعات الشهر القادم"]})}),i.jsxs(oe,{className:"space-y-4",children:[i.jsxs("div",{className:"text-center p-6 bg-gradient-to-r from-blue-50 to-purple-50 rounded-lg",children:[i.jsxs("div",{className:"text-3xl font-bold text-blue-600 mb-2",children:[l.predictions.next_month_projection.expected_quality.toFixed(1),"/10"]}),i.jsx("div",{className:"text-sm text-gray-600 mb-4",children:"الجودة المتوقعة"}),i.jsxs("div",{className:"flex items-center justify-center gap-2",children:[i.jsx("span",{className:"text-sm",children:"مستوى الثقة:"}),i.jsxs(He,{variant:"default",children:[l.predictions.next_month_projection.confidence_level,"%"]})]})]}),i.jsx("div",{className:"space-y-3",children:i.jsxs("div",{children:[i.jsxs("div",{className:"flex justify-between items-center mb-2",children:[i.jsx("span",{className:"text-sm font-medium",children:"الإنتاجية المتوقعة"}),i.jsxs("span",{className:"text-sm text-gray-600",children:[l.predictions.next_month_projection.expected_productivity,"%"]})]}),i.jsx(tt,{value:l.predictions.next_month_projection.expected_productivity,className:"h-2"})]})})]})]}),i.jsxs(ae,{children:[i.jsx(Te,{children:i.jsxs(ke,{className:"flex items-center gap-2",children:[i.jsx(Yg,{className:"w-5 h-5 text-yellow-600"}),"المعالم المتوقعة"]})}),i.jsx(oe,{className:"space-y-4",children:l.predictions.milestone_predictions.map((k,T)=>i.jsxs("div",{className:"p-4 border rounded-lg",children:[i.jsxs("div",{className:"flex justify-between items-start mb-2",children:[i.jsx("h4",{className:"font-semibold",children:k.milestone}),i.jsxs(He,{variant:k.probability>=80?"default":k.probability>=60?"secondary":"outline",children:[k.probability,"%"]})]}),i.jsxs("div",{className:"text-sm text-gray-600 mb-2",children:["التاريخ المتوقع: ",new Date(k.estimated_date).toLocaleDateString("ar-SA")]}),i.jsx(tt,{value:k.probability,className:"h-2"})]},T))})]})]}),i.jsxs(ae,{children:[i.jsx(Te,{children:i.jsxs(ke,{className:"flex items-center gap-2",children:[i.jsx(Rs,{className:"w-5 h-5 text-purple-600"}),"مسار التطور المتوقع"]})}),i.jsx(oe,{children:i.jsx(Cr,{width:"100%",height:300,children:i.jsxs(If,{data:[...l.quality_evolution.slice(-5),{session:l.quality_evolution.length+1,date:"2024-07-01",quality_score:l.predictions.next_month_projection.expected_quality-.2,predicted:!0},{session:l.quality_evolution.length+2,date:"2024-07-15",quality_score:l.predictions.next_month_projection.expected_quality,predicted:!0},{session:l.quality_evolution.length+3,date:"2024-08-01",quality_score:l.predictions.next_month_projection.expected_quality+.1,predicted:!0}],children:[i.jsx(Hi,{strokeDasharray:"3 3"}),i.jsx(Tr,{dataKey:"session",tick:{fontSize:12}}),i.jsx(ur,{domain:[6,10],tick:{fontSize:12}}),i.jsx(er,{labelFormatter:k=>`الجلسة ${k}`,formatter:(k,T)=>[k==null?void 0:k.toFixed(1),"نقاط الجودة"]}),i.jsx(LF,{x:l.quality_evolution.length,stroke:"#ff7300",strokeDasharray:"5 5",label:"التنبؤ"}),i.jsx(Kr,{type:"monotone",dataKey:"quality_score",stroke:v.primary,strokeWidth:3,dot:{fill:v.primary,strokeWidth:2,r:4}})]})})})]})]})]})]}):i.jsx(ae,{className:"p-8 text-center",children:i.jsxs(oe,{children:[i.jsx(zt,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),i.jsx("h3",{className:"text-lg font-semibold text-gray-700 mb-2",children:"لا توجد بيانات تطور"}),i.jsx("p",{className:"text-gray-600",children:"ابدأ الكتابة لرؤية تحليل تطورك الشخصي"})]})})},Mnt=({userId:t="current_user",projectId:e,timeRange:n="project"})=>{const[r,s]=E.useState(null),[a,o]=E.useState(!0),[l,c]=E.useState("metaphors"),[u,d]=E.useState("personal"),{toast:h}=ki(),f={primary:"#8B5CF6",secondary:"#06B6D4",success:"#10B981",purple:"#A855F7",blue:"#3B82F6",green:"#22C55E"},A=["#8B5CF6","#06B6D4","#10B981","#F59E0B","#EF4444"];E.useEffect(()=>{v()},[t,e,n]);const v=async()=>{o(!0);try{const b=await fetch("/api/analytics/style-metrics",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({user_id:t,project_id:e,time_range:n})});if(b.ok){const j=await b.json();s(j.style_metrics)}else s(p())}catch(b){console.error("خطأ في جلب المقاييس الأسلوبية:",b),s(p()),h({title:"تحذير",description:"تم تحميل بيانات تجريبية للعرض التوضيحي",variant:"default"})}finally{o(!1)}},p=()=>({metaphor_analysis:{metaphors_per_1000_words:12.5,metaphor_types:[{type:"استعارات بصرية",count:23,examples:["كانت عيناه نجمتين تضيئان الظلام","انسكب الضوء كالماء الذهبي"]},{type:"استعارات حسية",count:18,examples:["صوت كالرعد","لمسة كالحرير"]},{type:"استعارات عاطفية",count:15,examples:["قلب من حجر","فرح يرقص في عروقه"]},{type:"استعارات طبيعية",count:12,examples:["مثل الجبل الراسخ","انهمرت كلماته كالمطر"]}],creativity_score:8.3,trend_data:Array.from({length:10},(b,j)=>({chapter:j+1,density:Math.max(8,Math.min(18,10+j*.8+(Math.random()-.5)*3)),quality_score:Math.max(6,Math.min(10,7+j*.3+(Math.random()-.5)*1))}))},structure_analysis:{average_paragraph_length:145,average_sentence_length:18.7,sentence_variety_score:7.8,paragraph_consistency:8.5,structure_trend:Array.from({length:15},(b,j)=>({session:j+1,paragraph_length:Math.max(100,Math.min(200,130+j*2+(Math.random()-.5)*30)),sentence_length:Math.max(12,Math.min(25,16+j*.3+(Math.random()-.5)*4)),variety_score:Math.max(6,Math.min(10,7+j*.2+(Math.random()-.5)*1))}))},vocabulary_complexity:{complexity_index:7.2,rare_words_percentage:15.8,vocabulary_diversity:8.9,formality_level:6.5,complexity_trend:Array.from({length:12},(b,j)=>({date:new Date(Date.now()-(12-j)*7*24*60*60*1e3).toISOString().split("T")[0],complexity:Math.max(5,Math.min(10,6+j*.3+(Math.random()-.5)*1)),diversity:Math.max(6,Math.min(10,7+j*.25+(Math.random()-.5)*.8)),sophistication:Math.max(5.5,Math.min(9.5,6.5+j*.2+(Math.random()-.5)*.6))}))},dialogue_narrative_ratio:{dialogue_percentage:28,narrative_percentage:45,description_percentage:20,action_percentage:7,balance_score:8.1,genre_comparison:{your_style:28,genre_average:35,optimal_range:[25,40]},ratio_evolution:Array.from({length:8},(b,j)=>({chapter:j+1,dialogue:Math.max(20,Math.min(40,25+j+(Math.random()-.5)*8)),narrative:Math.max(35,Math.min(55,45+(Math.random()-.5)*10)),description:Math.max(15,Math.min(30,20+(Math.random()-.5)*6))}))},cultural_literary_features:{cultural_references_density:8.7,literary_devices_usage:[{device:"التشبيه",frequency:45,effectiveness:8.2},{device:"الاستعارة",frequency:38,effectiveness:8.8},{device:"الجناس",frequency:12,effectiveness:7.5},{device:"السجع",frequency:8,effectiveness:7.8},{device:"الطباق",frequency:15,effectiveness:8.1},{device:"المقابلة",frequency:9,effectiveness:7.9}],arabic_linguistic_features:{classical_vs_modern_ratio:.65,dialectal_influence:2.3,poetic_elements:6.8}},comparative_analysis:{personal_benchmark:{current_level:7.8,target_level:8.5,improvement_areas:["تنويع طول الجمل","زيادة العمق الثقافي","تحسين توازن الحوار"]},style_signature:{uniqueness_score:8.4,consistency_score:7.9,distinguishing_features:["استخدام غني للاستعارات البصرية","تدفق سردي متوازن","عمق ثقافي ملحوظ"]}}}),m=b=>b>=8?"text-green-600 bg-green-50":b>=6?"text-blue-600 bg-blue-50":b>=4?"text-orange-600 bg-orange-50":"text-red-600 bg-red-50",g=b=>b>=8?"default":b>=6?"secondary":"destructive";if(a)return i.jsx("div",{className:"flex items-center justify-center h-96",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-purple-600 mx-auto mb-4"}),i.jsx("p",{className:"text-gray-600",children:"جاري تحليل الخصائص الأسلوبية..."})]})});if(!r)return i.jsx(ae,{className:"p-8 text-center",children:i.jsxs(oe,{children:[i.jsx(zt,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),i.jsx("h3",{className:"text-lg font-semibold text-gray-700 mb-2",children:"لا توجد بيانات كافية للتحليل"}),i.jsx("p",{className:"text-gray-600",children:"اكتب المزيد لتحليل أسلوبك الشخصي"})]})});const x=[{subject:"الإبداع",current:r.metaphor_analysis.creativity_score,target:9,fullMark:10},{subject:"التنوع",current:r.structure_analysis.sentence_variety_score,target:8.5,fullMark:10},{subject:"التعقيد",current:r.vocabulary_complexity.complexity_index,target:8,fullMark:10},{subject:"التوازن",current:r.dialogue_narrative_ratio.balance_score,target:8.5,fullMark:10},{subject:"الثقافة",current:r.cultural_literary_features.cultural_references_density,target:9,fullMark:10},{subject:"التفرد",current:r.comparative_analysis.style_signature.uniqueness_score,target:8.5,fullMark:10}];return i.jsxs("div",{className:"space-y-6",dir:"rtl",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"محلل المقاييس الأسلوبية"}),i.jsx("p",{className:"text-gray-600",children:"تحليل عميق لخصائص أسلوبك الشخصي وتطوره"})]}),i.jsxs("div",{className:"flex items-center space-x-4 space-x-reverse",children:[i.jsxs(vi,{value:u,onValueChange:b=>d(b),children:[i.jsx(li,{className:"w-32",children:i.jsx(yi,{})}),i.jsxs(ci,{children:[i.jsx(Bt,{value:"personal",children:"مقارنة شخصية"}),i.jsx(Bt,{value:"genre",children:"مقارنة النوع"}),i.jsx(Bt,{value:"literary",children:"مقارنة أدبية"})]})]}),i.jsxs(xe,{variant:"outline",size:"sm",children:[i.jsx(Vn,{className:"h-4 w-4 ml-2"}),"تحليل مفصل"]})]})]}),i.jsxs(ae,{className:"bg-gradient-to-l from-purple-50 to-blue-50",children:[i.jsx(Te,{children:i.jsxs(ke,{className:"flex items-center",children:[i.jsx(za,{className:"h-5 w-5 ml-2"}),"البصمة الأسلوبية الشخصية"]})}),i.jsx(oe,{children:i.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-6 gap-4",children:[i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-medium ${m(r.metaphor_analysis.creativity_score)}`,children:r.metaphor_analysis.creativity_score.toFixed(1)}),i.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"الإبداع"})]}),i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-medium ${m(r.structure_analysis.sentence_variety_score)}`,children:r.structure_analysis.sentence_variety_score.toFixed(1)}),i.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"التنوع"})]}),i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-medium ${m(r.vocabulary_complexity.complexity_index)}`,children:r.vocabulary_complexity.complexity_index.toFixed(1)}),i.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"التعقيد"})]}),i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-medium ${m(r.dialogue_narrative_ratio.balance_score)}`,children:r.dialogue_narrative_ratio.balance_score.toFixed(1)}),i.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"التوازن"})]}),i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-medium ${m(r.cultural_literary_features.cultural_references_density)}`,children:r.cultural_literary_features.cultural_references_density.toFixed(1)}),i.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"الثقافة"})]}),i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-medium ${m(r.comparative_analysis.style_signature.uniqueness_score)}`,children:r.comparative_analysis.style_signature.uniqueness_score.toFixed(1)}),i.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"التفرد"})]})]})})]}),i.jsxs(zn,{value:l,onValueChange:c,className:"space-y-6",children:[i.jsxs(On,{className:"grid w-full grid-cols-5",children:[i.jsx(nt,{value:"metaphors",children:"الاستعارات"}),i.jsx(nt,{value:"structure",children:"البنية"}),i.jsx(nt,{value:"vocabulary",children:"المفردات"}),i.jsx(nt,{value:"dialogue",children:"الحوار/السرد"}),i.jsx(nt,{value:"cultural",children:"الثقافة"})]}),i.jsxs(rt,{value:"metaphors",className:"space-y-6",children:[i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[i.jsxs(ae,{children:[i.jsxs(Te,{children:[i.jsxs(ke,{className:"flex items-center",children:[i.jsx(Qn,{className:"h-5 w-5 ml-2"}),"كثافة الاستعارات"]}),i.jsxs(Pt,{children:[r.metaphor_analysis.metaphors_per_1000_words," استعارة لكل 1000 كلمة"]})]}),i.jsx(oe,{children:i.jsx("div",{className:"h-64",children:i.jsx(Cr,{width:"100%",height:"100%",children:i.jsxs(If,{data:r.metaphor_analysis.trend_data,children:[i.jsx(Hi,{strokeDasharray:"3 3"}),i.jsx(Tr,{dataKey:"chapter"}),i.jsx(ur,{yAxisId:"left"}),i.jsx(ur,{yAxisId:"right",orientation:"right"}),i.jsx(er,{}),i.jsx(Ji,{}),i.jsx(Is,{yAxisId:"left",type:"monotone",dataKey:"density",stroke:f.primary,fill:f.primary,fillOpacity:.3,name:"كثافة الاستعارات"}),i.jsx(Kr,{yAxisId:"right",type:"monotone",dataKey:"quality_score",stroke:f.success,strokeWidth:3,name:"جودة الاستعارات"})]})})})})]}),i.jsxs(ae,{children:[i.jsx(Te,{children:i.jsxs(ke,{className:"flex items-center",children:[i.jsx(m5e,{className:"h-5 w-5 ml-2"}),"توزيع أنواع الاستعارات"]})}),i.jsxs(oe,{children:[i.jsx("div",{className:"h-64",children:i.jsx(Cr,{width:"100%",height:"100%",children:i.jsxs(WF,{children:[i.jsx(ed,{data:r.metaphor_analysis.metaphor_types,cx:"50%",cy:"50%",outerRadius:80,dataKey:"count",nameKey:"type",children:r.metaphor_analysis.metaphor_types.map((b,j)=>i.jsx(jx,{fill:A[j%A.length]},`cell-${j}`))}),i.jsx(er,{})]})})}),i.jsx("div",{className:"mt-4 space-y-2",children:r.metaphor_analysis.metaphor_types.map((b,j)=>i.jsxs("div",{className:"flex items-center justify-between text-sm",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx("div",{className:"w-3 h-3 rounded-full mr-2",style:{backgroundColor:A[j%A.length]}}),i.jsx("span",{children:b.type})]}),i.jsx(He,{variant:"secondary",children:b.count})]},b.type))})]})]})]}),i.jsxs(ae,{children:[i.jsx(Te,{children:i.jsxs(ke,{className:"flex items-center",children:[i.jsx(cR,{className:"h-5 w-5 ml-2"}),"أمثلة الاستعارات المميزة"]})}),i.jsx(oe,{children:i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:r.metaphor_analysis.metaphor_types.map((b,j)=>i.jsxs("div",{className:"space-y-2",children:[i.jsx("h4",{className:"font-semibold text-sm text-gray-800",children:b.type}),b.examples.map((N,_)=>i.jsx("div",{className:"p-3 bg-gray-50 rounded-lg border-r-4 border-purple-500",children:i.jsxs("p",{className:"text-sm italic text-gray-700",children:['"',N,'"']})},_))]},b.type))})})]})]}),i.jsx(rt,{value:"structure",className:"space-y-6",children:i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[i.jsxs(ae,{children:[i.jsx(Te,{children:i.jsxs(ke,{className:"flex items-center",children:[i.jsx(hs,{className:"h-5 w-5 ml-2"}),"مؤشرات البنية النصية"]})}),i.jsx(oe,{children:i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("span",{className:"text-sm",children:"متوسط طول الفقرة"}),i.jsxs("div",{className:"flex items-center",children:[i.jsx("span",{className:"text-lg font-bold ml-2",children:r.structure_analysis.average_paragraph_length}),i.jsx("span",{className:"text-sm text-gray-500",children:"كلمة"})]})]}),i.jsx(tt,{value:r.structure_analysis.average_paragraph_length/200*100,className:"h-2"}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("span",{className:"text-sm",children:"متوسط طول الجملة"}),i.jsxs("div",{className:"flex items-center",children:[i.jsx("span",{className:"text-lg font-bold ml-2",children:r.structure_analysis.average_sentence_length}),i.jsx("span",{className:"text-sm text-gray-500",children:"كلمة"})]})]}),i.jsx(tt,{value:r.structure_analysis.average_sentence_length/30*100,className:"h-2"}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("span",{className:"text-sm",children:"تنوع الجمل"}),i.jsxs(He,{variant:g(r.structure_analysis.sentence_variety_score),children:[r.structure_analysis.sentence_variety_score.toFixed(1),"/10"]})]}),i.jsx(tt,{value:r.structure_analysis.sentence_variety_score*10,className:"h-2"}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("span",{className:"text-sm",children:"اتساق الفقرات"}),i.jsxs(He,{variant:g(r.structure_analysis.paragraph_consistency),children:[r.structure_analysis.paragraph_consistency.toFixed(1),"/10"]})]}),i.jsx(tt,{value:r.structure_analysis.paragraph_consistency*10,className:"h-2"})]})})]}),i.jsxs(ae,{children:[i.jsx(Te,{children:i.jsxs(ke,{className:"flex items-center",children:[i.jsx(Hn,{className:"h-5 w-5 ml-2"}),"تطور البنية عبر الجلسات"]})}),i.jsx(oe,{children:i.jsx("div",{className:"h-64",children:i.jsx(Cr,{width:"100%",height:"100%",children:i.jsxs(If,{data:r.structure_analysis.structure_trend,children:[i.jsx(Hi,{strokeDasharray:"3 3"}),i.jsx(Tr,{dataKey:"session"}),i.jsx(ur,{}),i.jsx(er,{}),i.jsx(Ji,{}),i.jsx(Kr,{type:"monotone",dataKey:"paragraph_length",stroke:f.primary,strokeWidth:2,name:"طول الفقرة"}),i.jsx(Kr,{type:"monotone",dataKey:"sentence_length",stroke:f.secondary,strokeWidth:2,name:"طول الجملة"}),i.jsx(Kr,{type:"monotone",dataKey:"variety_score",stroke:f.success,strokeWidth:2,name:"درجة التنوع"})]})})})})]})]})}),i.jsx(rt,{value:"vocabulary",className:"space-y-6",children:i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[i.jsxs(ae,{children:[i.jsx(Te,{children:i.jsxs(ke,{className:"flex items-center",children:[i.jsx(zt,{className:"h-5 w-5 ml-2"}),"مؤشرات تعقيد المفردات"]})}),i.jsx(oe,{children:i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("span",{className:"text-sm",children:"مؤشر التعقيد العام"}),i.jsxs(He,{variant:g(r.vocabulary_complexity.complexity_index),children:[r.vocabulary_complexity.complexity_index.toFixed(1),"/10"]})]}),i.jsx(tt,{value:r.vocabulary_complexity.complexity_index*10,className:"h-3"})]}),i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("span",{className:"text-sm",children:"نسبة الكلمات النادرة"}),i.jsxs("span",{className:"text-sm font-semibold",children:[r.vocabulary_complexity.rare_words_percentage,"%"]})]}),i.jsx(tt,{value:r.vocabulary_complexity.rare_words_percentage,className:"h-3"})]}),i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("span",{className:"text-sm",children:"تنوع المفردات"}),i.jsxs(He,{variant:g(r.vocabulary_complexity.vocabulary_diversity),children:[r.vocabulary_complexity.vocabulary_diversity.toFixed(1),"/10"]})]}),i.jsx(tt,{value:r.vocabulary_complexity.vocabulary_diversity*10,className:"h-3"})]}),i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("span",{className:"text-sm",children:"مستوى الرسمية"}),i.jsxs(He,{variant:g(r.vocabulary_complexity.formality_level),children:[r.vocabulary_complexity.formality_level.toFixed(1),"/10"]})]}),i.jsx(tt,{value:r.vocabulary_complexity.formality_level*10,className:"h-3"})]})]})})]}),i.jsxs(ae,{children:[i.jsx(Te,{children:i.jsxs(ke,{className:"flex items-center",children:[i.jsx(Rs,{className:"h-5 w-5 ml-2"}),"تطور تعقيد المفردات"]})}),i.jsx(oe,{children:i.jsx("div",{className:"h-64",children:i.jsx(Cr,{width:"100%",height:"100%",children:i.jsxs(B5,{data:r.vocabulary_complexity.complexity_trend,children:[i.jsx(Hi,{strokeDasharray:"3 3"}),i.jsx(Tr,{dataKey:"date"}),i.jsx(ur,{domain:[0,10]}),i.jsx(er,{}),i.jsx(Ji,{}),i.jsx(Is,{type:"monotone",dataKey:"complexity",stackId:"1",stroke:f.primary,fill:f.primary,fillOpacity:.6,name:"التعقيد"}),i.jsx(Is,{type:"monotone",dataKey:"diversity",stackId:"2",stroke:f.secondary,fill:f.secondary,fillOpacity:.6,name:"التنوع"}),i.jsx(Is,{type:"monotone",dataKey:"sophistication",stackId:"3",stroke:f.success,fill:f.success,fillOpacity:.6,name:"التطور"})]})})})})]})]})}),i.jsxs(rt,{value:"dialogue",className:"space-y-6",children:[i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[i.jsxs(ae,{children:[i.jsxs(Te,{children:[i.jsxs(ke,{className:"flex items-center",children:[i.jsx(xce,{className:"h-5 w-5 ml-2"}),"توزيع نوع المحتوى"]}),i.jsxs(Pt,{children:["درجة التوازن: ",r.dialogue_narrative_ratio.balance_score.toFixed(1),"/10"]})]}),i.jsx(oe,{children:i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("span",{className:"text-sm",children:"الحوار"}),i.jsxs("span",{className:"text-sm font-semibold",children:[r.dialogue_narrative_ratio.dialogue_percentage,"%"]})]}),i.jsx(tt,{value:r.dialogue_narrative_ratio.dialogue_percentage,className:"h-3 bg-blue-100",children:i.jsx("div",{className:"h-full bg-blue-500 transition-all",style:{width:`${r.dialogue_narrative_ratio.dialogue_percentage}%`}})}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("span",{className:"text-sm",children:"السرد"}),i.jsxs("span",{className:"text-sm font-semibold",children:[r.dialogue_narrative_ratio.narrative_percentage,"%"]})]}),i.jsx(tt,{value:r.dialogue_narrative_ratio.narrative_percentage,className:"h-3 bg-purple-100",children:i.jsx("div",{className:"h-full bg-purple-500 transition-all",style:{width:`${r.dialogue_narrative_ratio.narrative_percentage}%`}})}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("span",{className:"text-sm",children:"الوصف"}),i.jsxs("span",{className:"text-sm font-semibold",children:[r.dialogue_narrative_ratio.description_percentage,"%"]})]}),i.jsx(tt,{value:r.dialogue_narrative_ratio.description_percentage,className:"h-3 bg-green-100",children:i.jsx("div",{className:"h-full bg-green-500 transition-all",style:{width:`${r.dialogue_narrative_ratio.description_percentage}%`}})}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("span",{className:"text-sm",children:"الحدث"}),i.jsxs("span",{className:"text-sm font-semibold",children:[r.dialogue_narrative_ratio.action_percentage,"%"]})]}),i.jsx(tt,{value:r.dialogue_narrative_ratio.action_percentage,className:"h-3 bg-orange-100",children:i.jsx("div",{className:"h-full bg-orange-500 transition-all",style:{width:`${r.dialogue_narrative_ratio.action_percentage}%`}})})]})})]}),i.jsxs(ae,{children:[i.jsx(Te,{children:i.jsxs(ke,{className:"flex items-center",children:[i.jsx(hs,{className:"h-5 w-5 ml-2"}),"تطور النسب عبر الفصول"]})}),i.jsx(oe,{children:i.jsx("div",{className:"h-64",children:i.jsx(Cr,{width:"100%",height:"100%",children:i.jsxs(B5,{data:r.dialogue_narrative_ratio.ratio_evolution,children:[i.jsx(Hi,{strokeDasharray:"3 3"}),i.jsx(Tr,{dataKey:"chapter"}),i.jsx(ur,{}),i.jsx(er,{}),i.jsx(Ji,{}),i.jsx(Is,{type:"monotone",dataKey:"dialogue",stackId:"1",stroke:f.blue,fill:f.blue,fillOpacity:.6,name:"الحوار"}),i.jsx(Is,{type:"monotone",dataKey:"narrative",stackId:"1",stroke:f.purple,fill:f.purple,fillOpacity:.6,name:"السرد"}),i.jsx(Is,{type:"monotone",dataKey:"description",stackId:"1",stroke:f.green,fill:f.green,fillOpacity:.6,name:"الوصف"})]})})})})]})]}),i.jsxs(ae,{children:[i.jsx(Te,{children:i.jsxs(ke,{className:"flex items-center",children:[i.jsx(En,{className:"h-5 w-5 ml-2"}),"مقارنة مع معايير النوع الأدبي"]})}),i.jsx(oe,{children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[i.jsxs("div",{className:"text-center p-4 bg-blue-50 rounded-lg",children:[i.jsx("h4",{className:"text-sm font-semibold text-blue-800",children:"أسلوبك الحالي"}),i.jsxs("p",{className:"text-2xl font-bold text-blue-900",children:[r.dialogue_narrative_ratio.genre_comparison.your_style,"%"]}),i.jsx("p",{className:"text-xs text-blue-600",children:"نسبة الحوار"})]}),i.jsxs("div",{className:"text-center p-4 bg-gray-50 rounded-lg",children:[i.jsx("h4",{className:"text-sm font-semibold text-gray-800",children:"متوسط النوع"}),i.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:[r.dialogue_narrative_ratio.genre_comparison.genre_average,"%"]}),i.jsx("p",{className:"text-xs text-gray-600",children:"المعدل المتوقع"})]}),i.jsxs("div",{className:"text-center p-4 bg-green-50 rounded-lg",children:[i.jsx("h4",{className:"text-sm font-semibold text-green-800",children:"النطاق الأمثل"}),i.jsxs("p",{className:"text-lg font-bold text-green-900",children:[r.dialogue_narrative_ratio.genre_comparison.optimal_range[0],"% - ",r.dialogue_narrative_ratio.genre_comparison.optimal_range[1],"%"]}),i.jsx("p",{className:"text-xs text-green-600",children:"للنوع الأدبي"})]})]})})]})]}),i.jsxs(rt,{value:"cultural",className:"space-y-6",children:[i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[i.jsxs(ae,{children:[i.jsx(Te,{children:i.jsxs(ke,{className:"flex items-center",children:[i.jsx(Wa,{className:"h-5 w-5 ml-2"}),"استخدام الأدوات الأدبية"]})}),i.jsx(oe,{children:i.jsx("div",{className:"space-y-3",children:r.cultural_literary_features.literary_devices_usage.map((b,j)=>i.jsx("div",{className:"flex items-center justify-between",children:i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-center justify-between mb-1",children:[i.jsx("span",{className:"text-sm font-medium",children:b.device}),i.jsxs("div",{className:"flex items-center space-x-2 space-x-reverse",children:[i.jsx(He,{variant:"outline",className:"text-xs",children:b.frequency}),i.jsx(He,{variant:g(b.effectiveness),className:"text-xs",children:b.effectiveness.toFixed(1)})]})]}),i.jsx(tt,{value:b.frequency/50*100,className:"h-2"})]})},b.device))})})]}),i.jsxs(ae,{children:[i.jsx(Te,{children:i.jsxs(ke,{className:"flex items-center",children:[i.jsx(dr,{className:"h-5 w-5 ml-2"}),"الخصائص اللغوية العربية"]})}),i.jsx(oe,{children:i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("span",{className:"text-sm",children:"الفصحى vs العامية"}),i.jsxs("span",{className:"text-sm font-semibold",children:[(r.cultural_literary_features.arabic_linguistic_features.classical_vs_modern_ratio*100).toFixed(0),"% فصحى"]})]}),i.jsx(tt,{value:r.cultural_literary_features.arabic_linguistic_features.classical_vs_modern_ratio*100,className:"h-3"})]}),i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("span",{className:"text-sm",children:"التأثير اللهجي"}),i.jsxs(He,{variant:r.cultural_literary_features.arabic_linguistic_features.dialectal_influence<=3?"default":r.cultural_literary_features.arabic_linguistic_features.dialectal_influence<=6?"secondary":"destructive",children:[r.cultural_literary_features.arabic_linguistic_features.dialectal_influence.toFixed(1),"/10"]})]}),i.jsx(tt,{value:r.cultural_literary_features.arabic_linguistic_features.dialectal_influence*10,className:"h-3"})]}),i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("span",{className:"text-sm",children:"العناصر الشعرية"}),i.jsxs(He,{variant:g(r.cultural_literary_features.arabic_linguistic_features.poetic_elements),children:[r.cultural_literary_features.arabic_linguistic_features.poetic_elements.toFixed(1),"/10"]})]}),i.jsx(tt,{value:r.cultural_literary_features.arabic_linguistic_features.poetic_elements*10,className:"h-3"})]}),i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("span",{className:"text-sm",children:"كثافة المراجع الثقافية"}),i.jsxs(He,{variant:g(r.cultural_literary_features.cultural_references_density),children:[r.cultural_literary_features.cultural_references_density.toFixed(1),"/10"]})]}),i.jsx(tt,{value:r.cultural_literary_features.cultural_references_density*10,className:"h-3"})]})]})})]})]}),i.jsxs(ae,{children:[i.jsxs(Te,{children:[i.jsxs(ke,{className:"flex items-center",children:[i.jsx(tr,{className:"h-5 w-5 ml-2"}),"البصمة الأسلوبية المقارنة"]}),i.jsx(Pt,{children:"مقارنة شاملة بين أدائك الحالي والأهداف المرجوة"})]}),i.jsx(oe,{children:i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[i.jsx("div",{className:"h-80",children:i.jsx(Cr,{width:"100%",height:"100%",children:i.jsxs(qF,{data:x,children:[i.jsx(WS,{}),i.jsx(qp,{dataKey:"subject"}),i.jsx(Wp,{angle:0,domain:[0,10]}),i.jsx(ph,{name:"المستوى الحالي",dataKey:"current",stroke:f.primary,fill:f.primary,fillOpacity:.3,strokeWidth:2}),i.jsx(ph,{name:"الهدف المرجو",dataKey:"target",stroke:f.success,fill:f.success,fillOpacity:.1,strokeWidth:2,strokeDasharray:"5 5"}),i.jsx(Ji,{})]})})}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("h4",{className:"text-sm font-semibold mb-3",children:"نقاط القوة المميزة"}),i.jsx("div",{className:"space-y-2",children:r.comparative_analysis.style_signature.distinguishing_features.map((b,j)=>i.jsxs("div",{className:"flex items-center p-2 bg-green-50 rounded-lg",children:[i.jsx(tr,{className:"h-4 w-4 text-green-500 ml-2"}),i.jsx("span",{className:"text-sm text-green-800",children:b})]},j))})]}),i.jsxs("div",{children:[i.jsx("h4",{className:"text-sm font-semibold mb-3",children:"مجالات التحسن المقترحة"}),i.jsx("div",{className:"space-y-2",children:r.comparative_analysis.personal_benchmark.improvement_areas.map((b,j)=>i.jsxs("div",{className:"flex items-center p-2 bg-blue-50 rounded-lg",children:[i.jsx(nr,{className:"h-4 w-4 text-blue-500 ml-2"}),i.jsx("span",{className:"text-sm text-blue-800",children:b})]},j))})]})]})]})})]})]})]})]})};function ri(t){"@babel/helpers - typeof";return ri=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ri(t)}var qo=Uint8Array,qc=Uint16Array,bq=Int32Array,GF=new qo([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),XF=new qo([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),JQ=new qo([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Kbe=function(t,e){for(var n=new qc(31),r=0;r<31;++r)n[r]=e+=1<<t[r-1];for(var s=new bq(n[30]),r=1;r<30;++r)for(var a=n[r];a<n[r+1];++a)s[a]=a-n[r]<<5|r;return{b:n,r:s}},Gbe=Kbe(GF,2),Xbe=Gbe.b,ZQ=Gbe.r;Xbe[28]=258,ZQ[258]=28;var Ybe=Kbe(XF,0),Lnt=Ybe.b,Mae=Ybe.r,eH=new qc(32768);for(var zi=0;zi<32768;++zi){var Hm=(zi&43690)>>1|(zi&21845)<<1;Hm=(Hm&52428)>>2|(Hm&13107)<<2,Hm=(Hm&61680)>>4|(Hm&3855)<<4,eH[zi]=((Hm&65280)>>8|(Hm&255)<<8)>>1}var Ff=function(t,e,n){for(var r=t.length,s=0,a=new qc(e);s<r;++s)t[s]&&++a[t[s]-1];var o=new qc(e);for(s=1;s<e;++s)o[s]=o[s-1]+a[s-1]<<1;var l;if(n){l=new qc(1<<e);var c=15-e;for(s=0;s<r;++s)if(t[s])for(var u=s<<4|t[s],d=e-t[s],h=o[t[s]-1]++<<d,f=h|(1<<d)-1;h<=f;++h)l[eH[h]>>c]=u}else for(l=new qc(r),s=0;s<r;++s)t[s]&&(l[s]=eH[o[t[s]-1]++]>>15-t[s]);return l},ox=new qo(288);for(var zi=0;zi<144;++zi)ox[zi]=8;for(var zi=144;zi<256;++zi)ox[zi]=9;for(var zi=256;zi<280;++zi)ox[zi]=7;for(var zi=280;zi<288;++zi)ox[zi]=8;var T5=new qo(32);for(var zi=0;zi<32;++zi)T5[zi]=5;var Rnt=Ff(ox,9,0),Qnt=Ff(ox,9,1),Hnt=Ff(T5,5,0),znt=Ff(T5,5,1),fL=function(t){for(var e=t[0],n=1;n<t.length;++n)t[n]>e&&(e=t[n]);return e},kd=function(t,e,n){var r=e/8|0;return(t[r]|t[r+1]<<8)>>(e&7)&n},AL=function(t,e){var n=e/8|0;return(t[n]|t[n+1]<<8|t[n+2]<<16)>>(e&7)},wq=function(t){return(t+7)/8|0},Jbe=function(t,e,n){return(n==null||n>t.length)&&(n=t.length),new qo(t.subarray(e,n))},$nt=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],Ld=function(t,e,n){var r=new Error(e||$nt[t]);if(r.code=t,Error.captureStackTrace&&Error.captureStackTrace(r,Ld),!n)throw r;return r},Wnt=function(t,e,n,r){var s=t.length,a=0;if(!s||e.f&&!e.l)return n||new qo(0);var o=!n,l=o||e.i!=2,c=e.i;o&&(n=new qo(s*3));var u=function(Me){var Ie=n.length;if(Me>Ie){var Ye=new qo(Math.max(Ie*2,Me));Ye.set(n),n=Ye}},d=e.f||0,h=e.p||0,f=e.b||0,A=e.l,v=e.d,p=e.m,m=e.n,g=s*8;do{if(!A){d=kd(t,h,1);var x=kd(t,h+1,3);if(h+=3,x)if(x==1)A=Qnt,v=znt,p=9,m=5;else if(x==2){var _=kd(t,h,31)+257,C=kd(t,h+10,15)+4,k=_+kd(t,h+5,31)+1;h+=14;for(var T=new qo(k),O=new qo(19),I=0;I<C;++I)O[JQ[I]]=kd(t,h+I*3,7);h+=C*3;for(var F=fL(O),M=(1<<F)-1,S=Ff(O,F,1),I=0;I<k;){var q=S[kd(t,h,M)];h+=q&15;var b=q>>4;if(b<16)T[I++]=b;else{var U=0,L=0;for(b==16?(L=3+kd(t,h,3),h+=2,U=T[I-1]):b==17?(L=3+kd(t,h,7),h+=3):b==18&&(L=11+kd(t,h,127),h+=7);L--;)T[I++]=U}}var z=T.subarray(0,_),$=T.subarray(_);p=fL(z),m=fL($),A=Ff(z,p,1),v=Ff($,m,1)}else Ld(1);else{var b=wq(h)+4,j=t[b-4]|t[b-3]<<8,N=b+j;if(N>s){c&&Ld(0);break}l&&u(f+j),n.set(t.subarray(b,N),f),e.b=f+=j,e.p=h=N*8,e.f=d;continue}if(h>g){c&&Ld(0);break}}l&&u(f+131072);for(var K=(1<<p)-1,V=(1<<m)-1,H=h;;H=h){var U=A[AL(t,h)&K],W=U>>4;if(h+=U&15,h>g){c&&Ld(0);break}if(U||Ld(2),W<256)n[f++]=W;else if(W==256){H=h,A=null;break}else{var Y=W-254;if(W>264){var I=W-257,ee=GF[I];Y=kd(t,h,(1<<ee)-1)+Xbe[I],h+=ee}var ie=v[AL(t,h)&V],se=ie>>4;ie||Ld(3),h+=ie&15;var $=Lnt[se];if(se>3){var ee=XF[se];$+=AL(t,h)&(1<<ee)-1,h+=ee}if(h>g){c&&Ld(0);break}l&&u(f+131072);var Ae=f+Y;if(f<$){var he=a-$,Be=Math.min($,Ae);for(he+f<0&&Ld(3);f<Be;++f)n[f]=r[he+f]}for(;f<Ae;++f)n[f]=n[f-$]}}e.l=A,e.p=H,e.b=f,e.f=d,A&&(d=1,e.m=p,e.d=v,e.n=m)}while(!d);return f!=n.length&&o?Jbe(n,0,f):n.subarray(0,f)},SA=function(t,e,n){n<<=e&7;var r=e/8|0;t[r]|=n,t[r+1]|=n>>8},aN=function(t,e,n){n<<=e&7;var r=e/8|0;t[r]|=n,t[r+1]|=n>>8,t[r+2]|=n>>16},pL=function(t,e){for(var n=[],r=0;r<t.length;++r)t[r]&&n.push({s:r,f:t[r]});var s=n.length,a=n.slice();if(!s)return{t:e1e,l:0};if(s==1){var o=new qo(n[0].s+1);return o[n[0].s]=1,{t:o,l:1}}n.sort(function(N,_){return N.f-_.f}),n.push({s:-1,f:25001});var l=n[0],c=n[1],u=0,d=1,h=2;for(n[0]={s:-1,f:l.f+c.f,l,r:c};d!=s-1;)l=n[n[u].f<n[h].f?u++:h++],c=n[u!=d&&n[u].f<n[h].f?u++:h++],n[d++]={s:-1,f:l.f+c.f,l,r:c};for(var f=a[0].s,r=1;r<s;++r)a[r].s>f&&(f=a[r].s);var A=new qc(f+1),v=tH(n[d-1],A,0);if(v>e){var r=0,p=0,m=v-e,g=1<<m;for(a.sort(function(_,C){return A[C.s]-A[_.s]||_.f-C.f});r<s;++r){var x=a[r].s;if(A[x]>e)p+=g-(1<<v-A[x]),A[x]=e;else break}for(p>>=m;p>0;){var b=a[r].s;A[b]<e?p-=1<<e-A[b]++-1:++r}for(;r>=0&&p;--r){var j=a[r].s;A[j]==e&&(--A[j],++p)}v=e}return{t:new qo(A),l:v}},tH=function(t,e,n){return t.s==-1?Math.max(tH(t.l,e,n+1),tH(t.r,e,n+1)):e[t.s]=n},Lae=function(t){for(var e=t.length;e&&!t[--e];);for(var n=new qc(++e),r=0,s=t[0],a=1,o=function(c){n[r++]=c},l=1;l<=e;++l)if(t[l]==s&&l!=e)++a;else{if(!s&&a>2){for(;a>138;a-=138)o(32754);a>2&&(o(a>10?a-11<<5|28690:a-3<<5|12305),a=0)}else if(a>3){for(o(s),--a;a>6;a-=6)o(8304);a>2&&(o(a-3<<5|8208),a=0)}for(;a--;)o(s);a=1,s=t[l]}return{c:n.subarray(0,r),n:e}},oN=function(t,e){for(var n=0,r=0;r<e.length;++r)n+=t[r]*e[r];return n},Zbe=function(t,e,n){var r=n.length,s=wq(e+2);t[s]=r&255,t[s+1]=r>>8,t[s+2]=t[s]^255,t[s+3]=t[s+1]^255;for(var a=0;a<r;++a)t[s+a+4]=n[a];return(s+4+r)*8},Rae=function(t,e,n,r,s,a,o,l,c,u,d){SA(e,d++,n),++s[256];for(var h=pL(s,15),f=h.t,A=h.l,v=pL(a,15),p=v.t,m=v.l,g=Lae(f),x=g.c,b=g.n,j=Lae(p),N=j.c,_=j.n,C=new qc(19),k=0;k<x.length;++k)++C[x[k]&31];for(var k=0;k<N.length;++k)++C[N[k]&31];for(var T=pL(C,7),O=T.t,I=T.l,F=19;F>4&&!O[JQ[F-1]];--F);var M=u+5<<3,S=oN(s,ox)+oN(a,T5)+o,q=oN(s,f)+oN(a,p)+o+14+3*F+oN(C,O)+2*C[16]+3*C[17]+7*C[18];if(c>=0&&M<=S&&M<=q)return Zbe(e,d,t.subarray(c,c+u));var U,L,z,$;if(SA(e,d,1+(q<S)),d+=2,q<S){U=Ff(f,A,0),L=f,z=Ff(p,m,0),$=p;var K=Ff(O,I,0);SA(e,d,b-257),SA(e,d+5,_-1),SA(e,d+10,F-4),d+=14;for(var k=0;k<F;++k)SA(e,d+3*k,O[JQ[k]]);d+=3*F;for(var V=[x,N],H=0;H<2;++H)for(var W=V[H],k=0;k<W.length;++k){var Y=W[k]&31;SA(e,d,K[Y]),d+=O[Y],Y>15&&(SA(e,d,W[k]>>5&127),d+=W[k]>>12)}}else U=Rnt,L=ox,z=Hnt,$=T5;for(var k=0;k<l;++k){var ee=r[k];if(ee>255){var Y=ee>>18&31;aN(e,d,U[Y+257]),d+=L[Y+257],Y>7&&(SA(e,d,ee>>23&31),d+=GF[Y]);var ie=ee&31;aN(e,d,z[ie]),d+=$[ie],ie>3&&(aN(e,d,ee>>5&8191),d+=XF[ie])}else aN(e,d,U[ee]),d+=L[ee]}return aN(e,d,U[256]),d+L[256]},qnt=new bq([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),e1e=new qo(0),Vnt=function(t,e,n,r,s,a){var o=a.z||t.length,l=new qo(r+o+5*(1+Math.ceil(o/7e3))+s),c=l.subarray(r,l.length-s),u=a.l,d=(a.r||0)&7;if(e){d&&(c[0]=a.r>>3);for(var h=qnt[e-1],f=h>>13,A=h&8191,v=(1<<n)-1,p=a.p||new qc(32768),m=a.h||new qc(v+1),g=Math.ceil(n/3),x=2*g,b=function(X){return(t[X]^t[X+1]<<g^t[X+2]<<x)&v},j=new bq(25e3),N=new qc(288),_=new qc(32),C=0,k=0,T=a.i||0,O=0,I=a.w||0,F=0;T+2<o;++T){var M=b(T),S=T&32767,q=m[M];if(p[S]=q,m[M]=S,I<=T){var U=o-T;if((C>7e3||O>24576)&&(U>423||!u)){d=Rae(t,c,0,j,N,_,k,O,F,T-F,d),O=C=k=0,F=T;for(var L=0;L<286;++L)N[L]=0;for(var L=0;L<30;++L)_[L]=0}var z=2,$=0,K=A,V=S-q&32767;if(U>2&&M==b(T-V))for(var H=Math.min(f,U)-1,W=Math.min(32767,T),Y=Math.min(258,U);V<=W&&--K&&S!=q;){if(t[T+z]==t[T+z-V]){for(var ee=0;ee<Y&&t[T+ee]==t[T+ee-V];++ee);if(ee>z){if(z=ee,$=V,ee>H)break;for(var ie=Math.min(V,ee-2),se=0,L=0;L<ie;++L){var Ae=T-V+L&32767,he=p[Ae],Be=Ae-he&32767;Be>se&&(se=Be,q=Ae)}}}S=q,q=p[S],V+=S-q&32767}if($){j[O++]=268435456|ZQ[z]<<18|Mae[$];var Me=ZQ[z]&31,Ie=Mae[$]&31;k+=GF[Me]+XF[Ie],++N[257+Me],++_[Ie],I=T+z,++C}else j[O++]=t[T],++N[t[T]]}}for(T=Math.max(T,I);T<o;++T)j[O++]=t[T],++N[t[T]];d=Rae(t,c,u,j,N,_,k,O,F,T-F,d),u||(a.r=d&7|c[d/8|0]<<3,d-=7,a.h=m,a.p=p,a.i=T,a.w=I)}else{for(var T=a.w||0;T<o+u;T+=65535){var Ye=T+65535;Ye>=o&&(c[d/8|0]=u,Ye=o),d=Zbe(c,d+1,t.subarray(T,Ye))}a.i=o}return Jbe(l,0,r+wq(d)+s)},t1e=function(){var t=1,e=0;return{p:function(n){for(var r=t,s=e,a=n.length|0,o=0;o!=a;){for(var l=Math.min(o+2655,a);o<l;++o)s+=r+=n[o];r=(r&65535)+15*(r>>16),s=(s&65535)+15*(s>>16)}t=r,e=s},d:function(){return t%=65521,e%=65521,(t&255)<<24|(t&65280)<<8|(e&255)<<8|e>>8}}},Knt=function(t,e,n,r,s){if(!s&&(s={l:1},e.dictionary)){var a=e.dictionary.subarray(-32768),o=new qo(a.length+t.length);o.set(a),o.set(t,a.length),t=o,s.w=a.length}return Vnt(t,e.level==null?6:e.level,e.mem==null?s.l?Math.ceil(Math.max(8,Math.min(13,Math.log(t.length)))*1.5):20:12+e.mem,n,r,s)},n1e=function(t,e,n){for(;n;++e)t[e]=n,n>>>=8},Gnt=function(t,e){var n=e.level,r=n==0?0:n<6?1:n==9?3:2;if(t[0]=120,t[1]=r<<6|(e.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,e.dictionary){var s=t1e();s.p(e.dictionary),n1e(t,2,s.d())}},Xnt=function(t,e){return((t[0]&15)!=8||t[0]>>4>7||(t[0]<<8|t[1])%31)&&Ld(6,"invalid zlib data"),(t[1]>>5&1)==1&&Ld(6,"invalid zlib data: "+(t[1]&32?"need":"unexpected")+" dictionary"),(t[1]>>3&4)+2};function nH(t,e){e||(e={});var n=t1e();n.p(t);var r=Knt(t,e,e.dictionary?6:2,4);return Gnt(r,e),n1e(r,r.length-4,n.d()),r}function Ynt(t,e){return Wnt(t.subarray(Xnt(t),-4),{i:2},e,e)}var Jnt=typeof TextDecoder<"u"&&new TextDecoder,Znt=0;try{Jnt.decode(e1e,{stream:!0}),Znt=1}catch{}var Bn=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function mL(){Bn.console&&typeof Bn.console.log=="function"&&Bn.console.log.apply(Bn.console,arguments)}var Ai={log:mL,warn:function(t){Bn.console&&(typeof Bn.console.warn=="function"?Bn.console.warn.apply(Bn.console,arguments):mL.call(null,arguments))},error:function(t){Bn.console&&(typeof Bn.console.error=="function"?Bn.console.error.apply(Bn.console,arguments):mL(t))}};function gL(t,e,n){var r=new XMLHttpRequest;r.open("GET",t),r.responseType="blob",r.onload=function(){bv(r.response,e,n)},r.onerror=function(){Ai.error("could not download file")},r.send()}function Qae(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function _4(t){try{t.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var f_,rH,bv=Bn.saveAs||((typeof window>"u"?"undefined":ri(window))!=="object"||window!==Bn?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(t,e,n){var r=Bn.URL||Bn.webkitURL,s=document.createElement("a");e=e||t.name||"download",s.download=e,s.rel="noopener",typeof t=="string"?(s.href=t,s.origin!==location.origin?Qae(s.href)?gL(t,e,n):_4(s,s.target="_blank"):_4(s)):(s.href=r.createObjectURL(t),setTimeout(function(){r.revokeObjectURL(s.href)},4e4),setTimeout(function(){_4(s)},0))}:"msSaveOrOpenBlob"in navigator?function(t,e,n){if(e=e||t.name||"download",typeof t=="string")if(Qae(t))gL(t,e,n);else{var r=document.createElement("a");r.href=t,r.target="_blank",setTimeout(function(){_4(r)})}else navigator.msSaveOrOpenBlob(function(s,a){return a===void 0?a={autoBom:!1}:ri(a)!=="object"&&(Ai.warn("Deprecated: Expected third argument to be a object"),a={autoBom:!a}),a.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(s.type)?new Blob(["\uFEFF",s],{type:s.type}):s}(t,n),e)}:function(t,e,n,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),typeof t=="string")return gL(t,e,n);var s=t.type==="application/octet-stream",a=/constructor/i.test(Bn.HTMLElement)||Bn.safari,o=/CriOS\/[\d]+/.test(navigator.userAgent);if((o||s&&a)&&(typeof FileReader>"u"?"undefined":ri(FileReader))==="object"){var l=new FileReader;l.onloadend=function(){var d=l.result;d=o?d:d.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=d:location=d,r=null},l.readAsDataURL(t)}else{var c=Bn.URL||Bn.webkitURL,u=c.createObjectURL(t);r?r.location=u:location.href=u,r=null,setTimeout(function(){c.revokeObjectURL(u)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function r1e(t){var e;t=t||"",this.ok=!1,t.charAt(0)=="#"&&(t=t.substr(1,6)),t={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[t=(t=t.replace(/ /g,"")).toLowerCase()]||t;for(var n=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(l){return[parseInt(l[1]),parseInt(l[2]),parseInt(l[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(l){return[parseInt(l[1],16),parseInt(l[2],16),parseInt(l[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(l){return[parseInt(l[1]+l[1],16),parseInt(l[2]+l[2],16),parseInt(l[3]+l[3],16)]}}],r=0;r<n.length;r++){var s=n[r].re,a=n[r].process,o=s.exec(t);o&&(e=a(o),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var l=this.r.toString(16),c=this.g.toString(16),u=this.b.toString(16);return l.length==1&&(l="0"+l),c.length==1&&(c="0"+c),u.length==1&&(u="0"+u),"#"+l+c+u}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function xL(t,e){var n=t[0],r=t[1],s=t[2],a=t[3];n=So(n,r,s,a,e[0],7,-680876936),a=So(a,n,r,s,e[1],12,-389564586),s=So(s,a,n,r,e[2],17,606105819),r=So(r,s,a,n,e[3],22,-1044525330),n=So(n,r,s,a,e[4],7,-176418897),a=So(a,n,r,s,e[5],12,1200080426),s=So(s,a,n,r,e[6],17,-1473231341),r=So(r,s,a,n,e[7],22,-45705983),n=So(n,r,s,a,e[8],7,1770035416),a=So(a,n,r,s,e[9],12,-1958414417),s=So(s,a,n,r,e[10],17,-42063),r=So(r,s,a,n,e[11],22,-1990404162),n=So(n,r,s,a,e[12],7,1804603682),a=So(a,n,r,s,e[13],12,-40341101),s=So(s,a,n,r,e[14],17,-1502002290),n=Eo(n,r=So(r,s,a,n,e[15],22,1236535329),s,a,e[1],5,-165796510),a=Eo(a,n,r,s,e[6],9,-1069501632),s=Eo(s,a,n,r,e[11],14,643717713),r=Eo(r,s,a,n,e[0],20,-373897302),n=Eo(n,r,s,a,e[5],5,-701558691),a=Eo(a,n,r,s,e[10],9,38016083),s=Eo(s,a,n,r,e[15],14,-660478335),r=Eo(r,s,a,n,e[4],20,-405537848),n=Eo(n,r,s,a,e[9],5,568446438),a=Eo(a,n,r,s,e[14],9,-1019803690),s=Eo(s,a,n,r,e[3],14,-187363961),r=Eo(r,s,a,n,e[8],20,1163531501),n=Eo(n,r,s,a,e[13],5,-1444681467),a=Eo(a,n,r,s,e[2],9,-51403784),s=Eo(s,a,n,r,e[7],14,1735328473),n=Bo(n,r=Eo(r,s,a,n,e[12],20,-1926607734),s,a,e[5],4,-378558),a=Bo(a,n,r,s,e[8],11,-2022574463),s=Bo(s,a,n,r,e[11],16,1839030562),r=Bo(r,s,a,n,e[14],23,-35309556),n=Bo(n,r,s,a,e[1],4,-1530992060),a=Bo(a,n,r,s,e[4],11,1272893353),s=Bo(s,a,n,r,e[7],16,-155497632),r=Bo(r,s,a,n,e[10],23,-1094730640),n=Bo(n,r,s,a,e[13],4,681279174),a=Bo(a,n,r,s,e[0],11,-358537222),s=Bo(s,a,n,r,e[3],16,-722521979),r=Bo(r,s,a,n,e[6],23,76029189),n=Bo(n,r,s,a,e[9],4,-640364487),a=Bo(a,n,r,s,e[12],11,-421815835),s=Bo(s,a,n,r,e[15],16,530742520),n=Do(n,r=Bo(r,s,a,n,e[2],23,-995338651),s,a,e[0],6,-198630844),a=Do(a,n,r,s,e[7],10,1126891415),s=Do(s,a,n,r,e[14],15,-1416354905),r=Do(r,s,a,n,e[5],21,-57434055),n=Do(n,r,s,a,e[12],6,1700485571),a=Do(a,n,r,s,e[3],10,-1894986606),s=Do(s,a,n,r,e[10],15,-1051523),r=Do(r,s,a,n,e[1],21,-2054922799),n=Do(n,r,s,a,e[8],6,1873313359),a=Do(a,n,r,s,e[15],10,-30611744),s=Do(s,a,n,r,e[6],15,-1560198380),r=Do(r,s,a,n,e[13],21,1309151649),n=Do(n,r,s,a,e[4],6,-145523070),a=Do(a,n,r,s,e[11],10,-1120210379),s=Do(s,a,n,r,e[2],15,718787259),r=Do(r,s,a,n,e[9],21,-343485551),t[0]=Mg(n,t[0]),t[1]=Mg(r,t[1]),t[2]=Mg(s,t[2]),t[3]=Mg(a,t[3])}function YF(t,e,n,r,s,a){return e=Mg(Mg(e,t),Mg(r,a)),Mg(e<<s|e>>>32-s,n)}function So(t,e,n,r,s,a,o){return YF(e&n|~e&r,t,e,s,a,o)}function Eo(t,e,n,r,s,a,o){return YF(e&r|n&~r,t,e,s,a,o)}function Bo(t,e,n,r,s,a,o){return YF(e^n^r,t,e,s,a,o)}function Do(t,e,n,r,s,a,o){return YF(n^(e|~r),t,e,s,a,o)}function i1e(t){var e,n=t.length,r=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=t.length;e+=64)xL(r,ert(t.substring(e-64,e)));t=t.substring(e-64);var s=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<t.length;e++)s[e>>2]|=t.charCodeAt(e)<<(e%4<<3);if(s[e>>2]|=128<<(e%4<<3),e>55)for(xL(r,s),e=0;e<16;e++)s[e]=0;return s[14]=8*n,xL(r,s),r}function ert(t){var e,n=[];for(e=0;e<64;e+=4)n[e>>2]=t.charCodeAt(e)+(t.charCodeAt(e+1)<<8)+(t.charCodeAt(e+2)<<16)+(t.charCodeAt(e+3)<<24);return n}f_=Bn.atob.bind(Bn),rH=Bn.btoa.bind(Bn);var Hae="0123456789abcdef".split("");function trt(t){for(var e="",n=0;n<4;n++)e+=Hae[t>>8*n+4&15]+Hae[t>>8*n&15];return e}function nrt(t){return String.fromCharCode((255&t)>>0,(65280&t)>>8,(16711680&t)>>16,(4278190080&t)>>24)}function iH(t){return i1e(t).map(nrt).join("")}var rrt=function(t){for(var e=0;e<t.length;e++)t[e]=trt(t[e]);return t.join("")}(i1e("hello"))!="5d41402abc4b2a76b9719d911017c592";function Mg(t,e){if(rrt){var n=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(n>>16)<<16|65535&n}return t+e&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function sH(t,e){var n,r,s,a;if(t!==n){for(var o=(s=t,a=1+(256/t.length>>0),new Array(a+1).join(s)),l=[],c=0;c<256;c++)l[c]=c;var u=0;for(c=0;c<256;c++){var d=l[c];u=(u+d+o.charCodeAt(c))%256,l[c]=l[u],l[u]=d}n=t,r=l}else l=r;var h=e.length,f=0,A=0,v="";for(c=0;c<h;c++)A=(A+(d=l[f=(f+1)%256]))%256,l[f]=l[A],l[A]=d,o=l[(l[f]+l[A])%256],v+=String.fromCharCode(e.charCodeAt(c)^o);return v}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var zae={print:4,modify:8,copy:16,"annot-forms":32};function Vb(t,e,n,r){this.v=1,this.r=2;var s=192;t.forEach(function(l){if(zae.perm!==void 0)throw new Error("Invalid permission: "+l);s+=zae[l]}),this.padding="(¿N^NuAd\0NVÿú\b..\0¶Ðh>/\f©þdSiz";var a=(e+this.padding).substr(0,32),o=(n+this.padding).substr(0,32);this.O=this.processOwnerPassword(a,o),this.P=-(1+(255^s)),this.encryptionKey=iH(a+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(r)).substr(0,5),this.U=sH(this.encryptionKey,this.padding)}function Kb(t){if(/[^\u0000-\u00ff]/.test(t))throw new Error("Invalid PDF Name Object: "+t+", Only accept ASCII characters.");for(var e="",n=t.length,r=0;r<n;r++){var s=t.charCodeAt(r);s<33||s===35||s===37||s===40||s===41||s===47||s===60||s===62||s===91||s===93||s===123||s===125||s>126?e+="#"+("0"+s.toString(16)).slice(-2):e+=t[r]}return e}function $ae(t){if(ri(t)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(n,r,s){if(s=s||!1,typeof n!="string"||typeof r!="function"||typeof s!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(n)||(e[n]={});var a=Math.random().toString(35);return e[n][a]=[r,!!s],a},this.unsubscribe=function(n){for(var r in e)if(e[r][n])return delete e[r][n],Object.keys(e[r]).length===0&&delete e[r],!0;return!1},this.publish=function(n){if(e.hasOwnProperty(n)){var r=Array.prototype.slice.call(arguments,1),s=[];for(var a in e[n]){var o=e[n][a];try{o[0].apply(t,r)}catch(l){Bn.console&&Ai.error("jsPDF PubSub Error",l.message,l)}o[1]&&s.push(a)}s.length&&s.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function fT(t){if(!(this instanceof fT))return new fT(t);var e="opacity,stroke-opacity".split(",");for(var n in t)t.hasOwnProperty(n)&&e.indexOf(n)>=0&&(this[n]=t[n]);this.id="",this.objectNumber=-1}function s1e(t,e){this.gState=t,this.matrix=e,this.id="",this.objectNumber=-1}function Cv(t,e,n,r,s){if(!(this instanceof Cv))return new Cv(t,e,n,r,s);this.type=t==="axial"?2:3,this.coords=e,this.colors=n,s1e.call(this,r,s)}function c1(t,e,n,r,s){if(!(this instanceof c1))return new c1(t,e,n,r,s);this.boundingBox=t,this.xStep=e,this.yStep=n,this.stream="",this.cloneIndex=0,s1e.call(this,r,s)}function _n(t){var e,n=typeof arguments[0]=="string"?arguments[0]:"p",r=arguments[1],s=arguments[2],a=arguments[3],o=[],l=1,c=16,u="S",d=null;ri(t=t||{})==="object"&&(n=t.orientation,r=t.unit||r,s=t.format||s,a=t.compress||t.compressPdf||a,(d=t.encryption||null)!==null&&(d.userPassword=d.userPassword||"",d.ownerPassword=d.ownerPassword||"",d.userPermissions=d.userPermissions||[]),l=typeof t.userUnit=="number"?Math.abs(t.userUnit):1,t.precision!==void 0&&(e=t.precision),t.floatPrecision!==void 0&&(c=t.floatPrecision),u=t.defaultPathOperation||"S"),o=t.filters||(a===!0?["FlateEncode"]:o),r=r||"mm",n=(""+(n||"P")).toLowerCase();var h=t.putOnlyUsedFonts||!1,f={},A={internal:{},__private__:{}};A.__private__.PubSub=$ae;var v="1.3",p=A.__private__.getPdfVersion=function(){return v};A.__private__.setPdfVersion=function(G){v=G};var m={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};A.__private__.getPageFormats=function(){return m};var g=A.__private__.getPageFormat=function(G){return m[G]};s=s||"a4";var x={COMPAT:"compat",ADVANCED:"advanced"},b=x.COMPAT;function j(){this.saveGraphicsState(),re(new Xt(Ue,0,0,-Ue,0,Ph()*Ue).toString()+" cm"),this.setFontSize(this.getFontSize()/Ue),u="n",b=x.ADVANCED}function N(){this.restoreGraphicsState(),u="S",b=x.COMPAT}var _=A.__private__.combineFontStyleAndFontWeight=function(G,me){if(G=="bold"&&me=="normal"||G=="bold"&&me==400||G=="normal"&&me=="italic"||G=="bold"&&me=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return me&&(G=me==400||me==="normal"?G==="italic"?"italic":"normal":me!=700&&me!=="bold"||G!=="normal"?(me==700?"bold":me)+""+G:"bold"),G};A.advancedAPI=function(G){var me=b===x.COMPAT;return me&&j.call(this),typeof G!="function"||(G(this),me&&N.call(this)),this},A.compatAPI=function(G){var me=b===x.ADVANCED;return me&&N.call(this),typeof G!="function"||(G(this),me&&j.call(this)),this},A.isAdvancedAPI=function(){return b===x.ADVANCED};var C,k=function(G){if(b!==x.ADVANCED)throw new Error(G+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},T=A.roundToPrecision=A.__private__.roundToPrecision=function(G,me){var Le=e||me;if(isNaN(G)||isNaN(Le))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return G.toFixed(Le).replace(/0+$/,"")};C=A.hpf=A.__private__.hpf=typeof c=="number"?function(G){if(isNaN(G))throw new Error("Invalid argument passed to jsPDF.hpf");return T(G,c)}:c==="smart"?function(G){if(isNaN(G))throw new Error("Invalid argument passed to jsPDF.hpf");return T(G,G>-1&&G<1?16:5)}:function(G){if(isNaN(G))throw new Error("Invalid argument passed to jsPDF.hpf");return T(G,16)};var O=A.f2=A.__private__.f2=function(G){if(isNaN(G))throw new Error("Invalid argument passed to jsPDF.f2");return T(G,2)},I=A.__private__.f3=function(G){if(isNaN(G))throw new Error("Invalid argument passed to jsPDF.f3");return T(G,3)},F=A.scale=A.__private__.scale=function(G){if(isNaN(G))throw new Error("Invalid argument passed to jsPDF.scale");return b===x.COMPAT?G*Ue:b===x.ADVANCED?G:void 0},M=function(G){return b===x.COMPAT?Ph()-G:b===x.ADVANCED?G:void 0},S=function(G){return F(M(G))};A.__private__.setPrecision=A.setPrecision=function(G){typeof parseInt(G,10)=="number"&&(e=parseInt(G,10))};var q,U="00000000000000000000000000000000",L=A.__private__.getFileId=function(){return U},z=A.__private__.setFileId=function(G){return U=G!==void 0&&/^[a-fA-F0-9]{32}$/.test(G)?G.toUpperCase():U.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),d!==null&&(Pi=new Vb(d.userPermissions,d.userPassword,d.ownerPassword,U)),U};A.setFileId=function(G){return z(G),this},A.getFileId=function(){return L()};var $=A.__private__.convertDateToPDFDate=function(G){var me=G.getTimezoneOffset(),Le=me<0?"+":"-",qe=Math.floor(Math.abs(me/60)),it=Math.abs(me%60),pt=[Le,Y(qe),"'",Y(it),"'"].join("");return["D:",G.getFullYear(),Y(G.getMonth()+1),Y(G.getDate()),Y(G.getHours()),Y(G.getMinutes()),Y(G.getSeconds()),pt].join("")},K=A.__private__.convertPDFDateToDate=function(G){var me=parseInt(G.substr(2,4),10),Le=parseInt(G.substr(6,2),10)-1,qe=parseInt(G.substr(8,2),10),it=parseInt(G.substr(10,2),10),pt=parseInt(G.substr(12,2),10),_t=parseInt(G.substr(14,2),10);return new Date(me,Le,qe,it,pt,_t,0)},V=A.__private__.setCreationDate=function(G){var me;if(G===void 0&&(G=new Date),G instanceof Date)me=$(G);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(G))throw new Error("Invalid argument passed to jsPDF.setCreationDate");me=G}return q=me},H=A.__private__.getCreationDate=function(G){var me=q;return G==="jsDate"&&(me=K(q)),me};A.setCreationDate=function(G){return V(G),this},A.getCreationDate=function(G){return H(G)};var W,Y=A.__private__.padd2=function(G){return("0"+parseInt(G)).slice(-2)},ee=A.__private__.padd2Hex=function(G){return("00"+(G=G.toString())).substr(G.length)},ie=0,se=[],Ae=[],he=0,Be=[],Me=[],Ie=!1,Ye=Ae,X=function(){ie=0,he=0,Ae=[],se=[],Be=[],Hr=rr(),wa=rr()};A.__private__.setCustomOutputDestination=function(G){Ie=!0,Ye=G};var ue=function(G){Ie||(Ye=G)};A.__private__.resetCustomOutputDestination=function(){Ie=!1,Ye=Ae};var re=A.__private__.out=function(G){return G=G.toString(),he+=G.length+1,Ye.push(G),Ye},de=A.__private__.write=function(G){return re(arguments.length===1?G.toString():Array.prototype.join.call(arguments," "))},ce=A.__private__.getArrayBuffer=function(G){for(var me=G.length,Le=new ArrayBuffer(me),qe=new Uint8Array(Le);me--;)qe[me]=G.charCodeAt(me);return Le},Ne=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];A.__private__.getStandardFonts=function(){return Ne};var $e=t.fontSize||16;A.__private__.setFontSize=A.setFontSize=function(G){return $e=b===x.ADVANCED?G/Ue:G,this};var ze,Fe=A.__private__.getFontSize=A.getFontSize=function(){return b===x.COMPAT?$e:$e*Ue},De=t.R2L||!1;A.__private__.setR2L=A.setR2L=function(G){return De=G,this},A.__private__.getR2L=A.getR2L=function(){return De};var Ce,Oe=A.__private__.setZoomMode=function(G){var me=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(G))ze=G;else if(isNaN(G)){if(me.indexOf(G)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+G+'" is not recognized.');ze=G}else ze=parseInt(G,10)};A.__private__.getZoomMode=function(){return ze};var We,ut=A.__private__.setPageMode=function(G){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(G)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+G+'" is not recognized.');Ce=G};A.__private__.getPageMode=function(){return Ce};var yt=A.__private__.setLayoutMode=function(G){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(G)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+G+'" is not recognized.');We=G};A.__private__.getLayoutMode=function(){return We},A.__private__.setDisplayMode=A.setDisplayMode=function(G,me,Le){return Oe(G),yt(me),ut(Le),this};var Nt={title:"",subject:"",author:"",keywords:"",creator:""};A.__private__.getDocumentProperty=function(G){if(Object.keys(Nt).indexOf(G)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return Nt[G]},A.__private__.getDocumentProperties=function(){return Nt},A.__private__.setDocumentProperties=A.setProperties=A.setDocumentProperties=function(G){for(var me in Nt)Nt.hasOwnProperty(me)&&G[me]&&(Nt[me]=G[me]);return this},A.__private__.setDocumentProperty=function(G,me){if(Object.keys(Nt).indexOf(G)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return Nt[G]=me};var jt,Ue,ct,ht,kt,Ot={},Ut={},mn=[],fn={},wi={},lr={},ge={},Se=null,Re=0,Je=[],wt=new $ae(A),ln=t.hotfixes||[],kn={},Pr={},Fi=[],Xt=function G(me,Le,qe,it,pt,_t){if(!(this instanceof G))return new G(me,Le,qe,it,pt,_t);isNaN(me)&&(me=1),isNaN(Le)&&(Le=0),isNaN(qe)&&(qe=0),isNaN(it)&&(it=1),isNaN(pt)&&(pt=0),isNaN(_t)&&(_t=0),this._matrix=[me,Le,qe,it,pt,_t]};Object.defineProperty(Xt.prototype,"sx",{get:function(){return this._matrix[0]},set:function(G){this._matrix[0]=G}}),Object.defineProperty(Xt.prototype,"shy",{get:function(){return this._matrix[1]},set:function(G){this._matrix[1]=G}}),Object.defineProperty(Xt.prototype,"shx",{get:function(){return this._matrix[2]},set:function(G){this._matrix[2]=G}}),Object.defineProperty(Xt.prototype,"sy",{get:function(){return this._matrix[3]},set:function(G){this._matrix[3]=G}}),Object.defineProperty(Xt.prototype,"tx",{get:function(){return this._matrix[4]},set:function(G){this._matrix[4]=G}}),Object.defineProperty(Xt.prototype,"ty",{get:function(){return this._matrix[5]},set:function(G){this._matrix[5]=G}}),Object.defineProperty(Xt.prototype,"a",{get:function(){return this._matrix[0]},set:function(G){this._matrix[0]=G}}),Object.defineProperty(Xt.prototype,"b",{get:function(){return this._matrix[1]},set:function(G){this._matrix[1]=G}}),Object.defineProperty(Xt.prototype,"c",{get:function(){return this._matrix[2]},set:function(G){this._matrix[2]=G}}),Object.defineProperty(Xt.prototype,"d",{get:function(){return this._matrix[3]},set:function(G){this._matrix[3]=G}}),Object.defineProperty(Xt.prototype,"e",{get:function(){return this._matrix[4]},set:function(G){this._matrix[4]=G}}),Object.defineProperty(Xt.prototype,"f",{get:function(){return this._matrix[5]},set:function(G){this._matrix[5]=G}}),Object.defineProperty(Xt.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Xt.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Xt.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Xt.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),Xt.prototype.join=function(G){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(C).join(G)},Xt.prototype.multiply=function(G){var me=G.sx*this.sx+G.shy*this.shx,Le=G.sx*this.shy+G.shy*this.sy,qe=G.shx*this.sx+G.sy*this.shx,it=G.shx*this.shy+G.sy*this.sy,pt=G.tx*this.sx+G.ty*this.shx+this.tx,_t=G.tx*this.shy+G.ty*this.sy+this.ty;return new Xt(me,Le,qe,it,pt,_t)},Xt.prototype.decompose=function(){var G=this.sx,me=this.shy,Le=this.shx,qe=this.sy,it=this.tx,pt=this.ty,_t=Math.sqrt(G*G+me*me),Qt=(G/=_t)*Le+(me/=_t)*qe;Le-=G*Qt,qe-=me*Qt;var dn=Math.sqrt(Le*Le+qe*qe);return Qt/=dn,G*(qe/=dn)<me*(Le/=dn)&&(G=-G,me=-me,Qt=-Qt,_t=-_t),{scale:new Xt(_t,0,0,dn,0,0),translate:new Xt(1,0,0,1,it,pt),rotate:new Xt(G,me,-me,G,0,0),skew:new Xt(1,0,Qt,1,0,0)}},Xt.prototype.toString=function(G){return this.join(" ")},Xt.prototype.inversed=function(){var G=this.sx,me=this.shy,Le=this.shx,qe=this.sy,it=this.tx,pt=this.ty,_t=1/(G*qe-me*Le),Qt=qe*_t,dn=-me*_t,Ln=-Le*_t,In=G*_t;return new Xt(Qt,dn,Ln,In,-Qt*it-Ln*pt,-dn*it-In*pt)},Xt.prototype.applyToPoint=function(G){var me=G.x*this.sx+G.y*this.shx+this.tx,Le=G.x*this.shy+G.y*this.sy+this.ty;return new ou(me,Le)},Xt.prototype.applyToRectangle=function(G){var me=this.applyToPoint(G),Le=this.applyToPoint(new ou(G.x+G.w,G.y+G.h));return new Fh(me.x,me.y,Le.x-me.x,Le.y-me.y)},Xt.prototype.clone=function(){var G=this.sx,me=this.shy,Le=this.shx,qe=this.sy,it=this.tx,pt=this.ty;return new Xt(G,me,Le,qe,it,pt)},A.Matrix=Xt;var di=A.matrixMult=function(G,me){return me.multiply(G)},ji=new Xt(1,0,0,1,0,0);A.unitMatrix=A.identityMatrix=ji;var Ni=function(G,me){if(!wi[G]){var Le=(me instanceof Cv?"Sh":"P")+(Object.keys(fn).length+1).toString(10);me.id=Le,wi[G]=Le,fn[Le]=me,wt.publish("addPattern",me)}};A.ShadingPattern=Cv,A.TilingPattern=c1,A.addShadingPattern=function(G,me){return k("addShadingPattern()"),Ni(G,me),this},A.beginTilingPattern=function(G){k("beginTilingPattern()"),Ky(G.boundingBox[0],G.boundingBox[1],G.boundingBox[2]-G.boundingBox[0],G.boundingBox[3]-G.boundingBox[1],G.matrix)},A.endTilingPattern=function(G,me){k("endTilingPattern()"),me.stream=Me[W].join(`
`),Ni(G,me),wt.publish("endTilingPattern",me),Fi.pop().restore()};var pr=A.__private__.newObject=function(){var G=rr();return ii(G,!0),G},rr=A.__private__.newObjectDeferred=function(){return ie++,se[ie]=function(){return he},ie},ii=function(G,me){return me=typeof me=="boolean"&&me,se[G]=he,me&&re(G+" 0 obj"),G},ba=A.__private__.newAdditionalObject=function(){var G={objId:rr(),content:""};return Be.push(G),G},Hr=rr(),wa=rr(),ts=A.__private__.decodeColorString=function(G){var me=G.split(" ");if(me.length!==2||me[1]!=="g"&&me[1]!=="G")me.length===5&&(me[4]==="k"||me[4]==="K")&&(me=[(1-me[0])*(1-me[3]),(1-me[1])*(1-me[3]),(1-me[2])*(1-me[3]),"r"]);else{var Le=parseFloat(me[0]);me=[Le,Le,Le,"r"]}for(var qe="#",it=0;it<3;it++)qe+=("0"+Math.floor(255*parseFloat(me[it])).toString(16)).slice(-2);return qe},$i=A.__private__.encodeColorString=function(G){var me;typeof G=="string"&&(G={ch1:G});var Le=G.ch1,qe=G.ch2,it=G.ch3,pt=G.ch4,_t=G.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof Le=="string"&&Le.charAt(0)!=="#"){var Qt=new r1e(Le);if(Qt.ok)Le=Qt.toHex();else if(!/^\d*\.?\d*$/.test(Le))throw new Error('Invalid color "'+Le+'" passed to jsPDF.encodeColorString.')}if(typeof Le=="string"&&/^#[0-9A-Fa-f]{3}$/.test(Le)&&(Le="#"+Le[1]+Le[1]+Le[2]+Le[2]+Le[3]+Le[3]),typeof Le=="string"&&/^#[0-9A-Fa-f]{6}$/.test(Le)){var dn=parseInt(Le.substr(1),16);Le=dn>>16&255,qe=dn>>8&255,it=255&dn}if(qe===void 0||pt===void 0&&Le===qe&&qe===it)if(typeof Le=="string")me=Le+" "+_t[0];else switch(G.precision){case 2:me=O(Le/255)+" "+_t[0];break;case 3:default:me=I(Le/255)+" "+_t[0]}else if(pt===void 0||ri(pt)==="object"){if(pt&&!isNaN(pt.a)&&pt.a===0)return me=["1.","1.","1.",_t[1]].join(" ");if(typeof Le=="string")me=[Le,qe,it,_t[1]].join(" ");else switch(G.precision){case 2:me=[O(Le/255),O(qe/255),O(it/255),_t[1]].join(" ");break;default:case 3:me=[I(Le/255),I(qe/255),I(it/255),_t[1]].join(" ")}}else if(typeof Le=="string")me=[Le,qe,it,pt,_t[2]].join(" ");else switch(G.precision){case 2:me=[O(Le),O(qe),O(it),O(pt),_t[2]].join(" ");break;case 3:default:me=[I(Le),I(qe),I(it),I(pt),_t[2]].join(" ")}return me},el=A.__private__.getFilters=function(){return o},Ga=A.__private__.putStream=function(G){var me=(G=G||{}).data||"",Le=G.filters||el(),qe=G.alreadyAppliedFilters||[],it=G.addLength1||!1,pt=me.length,_t=G.objectId,Qt=function(ja){return ja};if(d!==null&&_t===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");d!==null&&(Qt=Pi.encryptor(_t,0));var dn={};Le===!0&&(Le=["FlateEncode"]);var Ln=G.additionalKeyValues||[],In=(dn=_n.API.processDataByFilters!==void 0?_n.API.processDataByFilters(me,Le):{data:me,reverseChain:[]}).reverseChain+(Array.isArray(qe)?qe.join(" "):qe.toString());if(dn.data.length!==0&&(Ln.push({key:"Length",value:dn.data.length}),it===!0&&Ln.push({key:"Length1",value:pt})),In.length!=0)if(In.split("/").length-1==1)Ln.push({key:"Filter",value:In});else{Ln.push({key:"Filter",value:"["+In+"]"});for(var cr=0;cr<Ln.length;cr+=1)if(Ln[cr].key==="DecodeParms"){for(var Ui=[],Wi=0;Wi<dn.reverseChain.split("/").length-1;Wi+=1)Ui.push("null");Ui.push(Ln[cr].value),Ln[cr].value="["+Ui.join(" ")+"]"}}re("<<");for(var As=0;As<Ln.length;As++)re("/"+Ln[As].key+" "+Ln[As].value);re(">>"),dn.data.length!==0&&(re("stream"),re(Qt(dn.data)),re("endstream"))},Ul=A.__private__.putPage=function(G){var me=G.number,Le=G.data,qe=G.objId,it=G.contentsObjId;ii(qe,!0),re("<</Type /Page"),re("/Parent "+G.rootDictionaryObjId+" 0 R"),re("/Resources "+G.resourceDictionaryObjId+" 0 R"),re("/MediaBox ["+parseFloat(C(G.mediaBox.bottomLeftX))+" "+parseFloat(C(G.mediaBox.bottomLeftY))+" "+C(G.mediaBox.topRightX)+" "+C(G.mediaBox.topRightY)+"]"),G.cropBox!==null&&re("/CropBox ["+C(G.cropBox.bottomLeftX)+" "+C(G.cropBox.bottomLeftY)+" "+C(G.cropBox.topRightX)+" "+C(G.cropBox.topRightY)+"]"),G.bleedBox!==null&&re("/BleedBox ["+C(G.bleedBox.bottomLeftX)+" "+C(G.bleedBox.bottomLeftY)+" "+C(G.bleedBox.topRightX)+" "+C(G.bleedBox.topRightY)+"]"),G.trimBox!==null&&re("/TrimBox ["+C(G.trimBox.bottomLeftX)+" "+C(G.trimBox.bottomLeftY)+" "+C(G.trimBox.topRightX)+" "+C(G.trimBox.topRightY)+"]"),G.artBox!==null&&re("/ArtBox ["+C(G.artBox.bottomLeftX)+" "+C(G.artBox.bottomLeftY)+" "+C(G.artBox.topRightX)+" "+C(G.artBox.topRightY)+"]"),typeof G.userUnit=="number"&&G.userUnit!==1&&re("/UserUnit "+G.userUnit),wt.publish("putPage",{objId:qe,pageContext:Je[me],pageNumber:me,page:Le}),re("/Contents "+it+" 0 R"),re(">>"),re("endobj");var pt=Le.join(`
`);return b===x.ADVANCED&&(pt+=`
Q`),ii(it,!0),Ga({data:pt,filters:el(),objectId:it}),re("endobj"),qe},eu=A.__private__.putPages=function(){var G,me,Le=[];for(G=1;G<=Re;G++)Je[G].objId=rr(),Je[G].contentsObjId=rr();for(G=1;G<=Re;G++)Le.push(Ul({number:G,data:Me[G],objId:Je[G].objId,contentsObjId:Je[G].contentsObjId,mediaBox:Je[G].mediaBox,cropBox:Je[G].cropBox,bleedBox:Je[G].bleedBox,trimBox:Je[G].trimBox,artBox:Je[G].artBox,userUnit:Je[G].userUnit,rootDictionaryObjId:Hr,resourceDictionaryObjId:wa}));ii(Hr,!0),re("<</Type /Pages");var qe="/Kids [";for(me=0;me<Re;me++)qe+=Le[me]+" 0 R ";re(qe+"]"),re("/Count "+Re),re(">>"),re("endobj"),wt.publish("postPutPages")},nd=function(G){wt.publish("putFont",{font:G,out:re,newObject:pr,putStream:Ga}),G.isAlreadyPutted!==!0&&(G.objectNumber=pr(),re("<<"),re("/Type /Font"),re("/BaseFont /"+Kb(G.postScriptName)),re("/Subtype /Type1"),typeof G.encoding=="string"&&re("/Encoding /"+G.encoding),re("/FirstChar 32"),re("/LastChar 255"),re(">>"),re("endobj"))},rd=function(){for(var G in Ot)Ot.hasOwnProperty(G)&&(h===!1||h===!0&&f.hasOwnProperty(G))&&nd(Ot[G])},id=function(G){G.objectNumber=pr();var me=[];me.push({key:"Type",value:"/XObject"}),me.push({key:"Subtype",value:"/Form"}),me.push({key:"BBox",value:"["+[C(G.x),C(G.y),C(G.x+G.width),C(G.y+G.height)].join(" ")+"]"}),me.push({key:"Matrix",value:"["+G.matrix.toString()+"]"});var Le=G.pages[1].join(`
`);Ga({data:Le,additionalKeyValues:me,objectId:G.objectNumber}),re("endobj")},sd=function(){for(var G in kn)kn.hasOwnProperty(G)&&id(kn[G])},Vp=function(G,me){var Le,qe=[],it=1/(me-1);for(Le=0;Le<1;Le+=it)qe.push(Le);if(qe.push(1),G[0].offset!=0){var pt={offset:0,color:G[0].color};G.unshift(pt)}if(G[G.length-1].offset!=1){var _t={offset:1,color:G[G.length-1].color};G.push(_t)}for(var Qt="",dn=0,Ln=0;Ln<qe.length;Ln++){for(Le=qe[Ln];Le>G[dn+1].offset;)dn++;var In=G[dn].offset,cr=(Le-In)/(G[dn+1].offset-In),Ui=G[dn].color,Wi=G[dn+1].color;Qt+=ee(Math.round((1-cr)*Ui[0]+cr*Wi[0]).toString(16))+ee(Math.round((1-cr)*Ui[1]+cr*Wi[1]).toString(16))+ee(Math.round((1-cr)*Ui[2]+cr*Wi[2]).toString(16))}return Qt.trim()},hi=function(G,me){me||(me=21);var Le=pr(),qe=Vp(G.colors,me),it=[];it.push({key:"FunctionType",value:"0"}),it.push({key:"Domain",value:"[0.0 1.0]"}),it.push({key:"Size",value:"["+me+"]"}),it.push({key:"BitsPerSample",value:"8"}),it.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),it.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Ga({data:qe,additionalKeyValues:it,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:Le}),re("endobj"),G.objectNumber=pr(),re("<< /ShadingType "+G.type),re("/ColorSpace /DeviceRGB");var pt="/Coords ["+C(parseFloat(G.coords[0]))+" "+C(parseFloat(G.coords[1]))+" ";G.type===2?pt+=C(parseFloat(G.coords[2]))+" "+C(parseFloat(G.coords[3])):pt+=C(parseFloat(G.coords[2]))+" "+C(parseFloat(G.coords[3]))+" "+C(parseFloat(G.coords[4]))+" "+C(parseFloat(G.coords[5])),re(pt+="]"),G.matrix&&re("/Matrix ["+G.matrix.toString()+"]"),re("/Function "+Le+" 0 R"),re("/Extend [true true]"),re(">>"),re("endobj")},Ex=function(G,me){var Le=rr(),qe=pr();me.push({resourcesOid:Le,objectOid:qe}),G.objectNumber=qe;var it=[];it.push({key:"Type",value:"/Pattern"}),it.push({key:"PatternType",value:"1"}),it.push({key:"PaintType",value:"1"}),it.push({key:"TilingType",value:"1"}),it.push({key:"BBox",value:"["+G.boundingBox.map(C).join(" ")+"]"}),it.push({key:"XStep",value:C(G.xStep)}),it.push({key:"YStep",value:C(G.yStep)}),it.push({key:"Resources",value:Le+" 0 R"}),G.matrix&&it.push({key:"Matrix",value:"["+G.matrix.toString()+"]"}),Ga({data:G.stream,additionalKeyValues:it,objectId:G.objectNumber}),re("endobj")},tu=function(G){var me;for(me in fn)fn.hasOwnProperty(me)&&(fn[me]instanceof Cv?hi(fn[me]):fn[me]instanceof c1&&Ex(fn[me],G))},Vf=function(G){for(var me in G.objectNumber=pr(),re("<<"),G)switch(me){case"opacity":re("/ca "+O(G[me]));break;case"stroke-opacity":re("/CA "+O(G[me]))}re(">>"),re("endobj")},Nh=function(){var G;for(G in lr)lr.hasOwnProperty(G)&&Vf(lr[G])},_h=function(){for(var G in re("/XObject <<"),kn)kn.hasOwnProperty(G)&&kn[G].objectNumber>=0&&re("/"+G+" "+kn[G].objectNumber+" 0 R");wt.publish("putXobjectDict"),re(">>")},Kp=function(){Pi.oid=pr(),re("<<"),re("/Filter /Standard"),re("/V "+Pi.v),re("/R "+Pi.r),re("/U <"+Pi.toHexString(Pi.U)+">"),re("/O <"+Pi.toHexString(Pi.O)+">"),re("/P "+Pi.P),re(">>"),re("endobj")},ad=function(){for(var G in re("/Font <<"),Ot)Ot.hasOwnProperty(G)&&(h===!1||h===!0&&f.hasOwnProperty(G))&&re("/"+G+" "+Ot[G].objectNumber+" 0 R");re(">>")},po=function(){if(Object.keys(fn).length>0){for(var G in re("/Shading <<"),fn)fn.hasOwnProperty(G)&&fn[G]instanceof Cv&&fn[G].objectNumber>=0&&re("/"+G+" "+fn[G].objectNumber+" 0 R");wt.publish("putShadingPatternDict"),re(">>")}},nu=function(G){if(Object.keys(fn).length>0){for(var me in re("/Pattern <<"),fn)fn.hasOwnProperty(me)&&fn[me]instanceof A.TilingPattern&&fn[me].objectNumber>=0&&fn[me].objectNumber<G&&re("/"+me+" "+fn[me].objectNumber+" 0 R");wt.publish("putTilingPatternDict"),re(">>")}},tl=function(){if(Object.keys(lr).length>0){var G;for(G in re("/ExtGState <<"),lr)lr.hasOwnProperty(G)&&lr[G].objectNumber>=0&&re("/"+G+" "+lr[G].objectNumber+" 0 R");wt.publish("putGStateDict"),re(">>")}},ns=function(G){ii(G.resourcesOid,!0),re("<<"),re("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),ad(),po(),nu(G.objectOid),tl(),_h(),re(">>"),re("endobj")},Hy=function(){var G=[];rd(),Nh(),sd(),tu(G),wt.publish("putResources"),G.forEach(ns),ns({resourcesOid:wa,objectOid:Number.MAX_SAFE_INTEGER}),wt.publish("postPutResources")},zy=function(){wt.publish("putAdditionalObjects");for(var G=0;G<Be.length;G++){var me=Be[G];ii(me.objId,!0),re(me.content),re("endobj")}wt.publish("postPutAdditionalObjects")},Kf=function(G){Ut[G.fontName]=Ut[G.fontName]||{},Ut[G.fontName][G.fontStyle]=G.id},Ch=function(G,me,Le,qe,it){var pt={id:"F"+(Object.keys(Ot).length+1).toString(10),postScriptName:G,fontName:me,fontStyle:Le,encoding:qe,isStandardFont:it||!1,metadata:{}};return wt.publish("addFont",{font:pt,instance:this}),Ot[pt.id]=pt,Kf(pt),pt.id},Gf=function(G){for(var me=0,Le=Ne.length;me<Le;me++){var qe=Ch.call(this,G[me][0],G[me][1],G[me][2],Ne[me][3],!0);h===!1&&(f[qe]=!0);var it=G[me][0].split("-");Kf({id:qe,fontName:it[0],fontStyle:it[1]||""})}wt.publish("addFonts",{fonts:Ot,dictionary:Ut})},mo=function(G){return G.foo=function(){try{return G.apply(this,arguments)}catch(qe){var me=qe.stack||"";~me.indexOf(" at ")&&(me=me.split(" at ")[1]);var Le="Error in function "+me.split(`
`)[0].split("<")[0]+": "+qe.message;if(!Bn.console)throw new Error(Le);Bn.console.error(Le,qe),Bn.alert&&alert(Le)}},G.foo.bar=G,G.foo},Gp=function(G,me){var Le,qe,it,pt,_t,Qt,dn,Ln,In;if(it=(me=me||{}).sourceEncoding||"Unicode",_t=me.outputEncoding,(me.autoencode||_t)&&Ot[jt].metadata&&Ot[jt].metadata[it]&&Ot[jt].metadata[it].encoding&&(pt=Ot[jt].metadata[it].encoding,!_t&&Ot[jt].encoding&&(_t=Ot[jt].encoding),!_t&&pt.codePages&&(_t=pt.codePages[0]),typeof _t=="string"&&(_t=pt[_t]),_t)){for(dn=!1,Qt=[],Le=0,qe=G.length;Le<qe;Le++)(Ln=_t[G.charCodeAt(Le)])?Qt.push(String.fromCharCode(Ln)):Qt.push(G[Le]),Qt[Le].charCodeAt(0)>>8&&(dn=!0);G=Qt.join("")}for(Le=G.length;dn===void 0&&Le!==0;)G.charCodeAt(Le-1)>>8&&(dn=!0),Le--;if(!dn)return G;for(Qt=me.noBOM?[]:[254,255],Le=0,qe=G.length;Le<qe;Le++){if((In=(Ln=G.charCodeAt(Le))>>8)>>8)throw new Error("Character at position "+Le+" of string '"+G+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Qt.push(In),Qt.push(Ln-(In<<8))}return String.fromCharCode.apply(void 0,Qt)},go=A.__private__.pdfEscape=A.pdfEscape=function(G,me){return Gp(G,me).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Xf=A.__private__.beginPage=function(G){Me[++Re]=[],Je[Re]={objId:0,contentsObjId:0,userUnit:Number(l),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(G[0]),topRightY:Number(G[1])}},Sh(Re),ue(Me[W])},Bx=function(G,me){var Le,qe,it;switch(n=me||n,typeof G=="string"&&(Le=g(G.toLowerCase()),Array.isArray(Le)&&(qe=Le[0],it=Le[1])),Array.isArray(G)&&(qe=G[0]*Ue,it=G[1]*Ue),isNaN(qe)&&(qe=s[0],it=s[1]),(qe>14400||it>14400)&&(Ai.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),qe=Math.min(14400,qe),it=Math.min(14400,it)),s=[qe,it],n.substr(0,1)){case"l":it>qe&&(s=[it,qe]);break;case"p":qe>it&&(s=[it,qe])}Xf(s),tA(Fx),re(xo),Ux!==0&&re(Ux+" J"),rA!==0&&re(rA+" j"),wt.publish("addPage",{pageNumber:Re})},Dx=function(G){G>0&&G<=Re&&(Me.splice(G,1),Je.splice(G,1),Re--,W>Re&&(W=Re),this.setPage(W))},Sh=function(G){G>0&&G<=Re&&(W=G)},hj=A.__private__.getNumberOfPages=A.getNumberOfPages=function(){return Me.length-1},Xp=function(G,me,Le){var qe,it=void 0;return Le=Le||{},G=G!==void 0?G:Ot[jt].fontName,me=me!==void 0?me:Ot[jt].fontStyle,qe=G.toLowerCase(),Ut[qe]!==void 0&&Ut[qe][me]!==void 0?it=Ut[qe][me]:Ut[G]!==void 0&&Ut[G][me]!==void 0?it=Ut[G][me]:Le.disableWarning===!1&&Ai.warn("Unable to look up font label for font '"+G+"', '"+me+"'. Refer to getFontList() for available fonts."),it||Le.noFallback||(it=Ut.times[me])==null&&(it=Ut.times.normal),it},jr=A.__private__.putInfo=function(){var G=pr(),me=function(qe){return qe};for(var Le in d!==null&&(me=Pi.encryptor(G,0)),re("<<"),re("/Producer ("+go(me("jsPDF "+_n.version))+")"),Nt)Nt.hasOwnProperty(Le)&&Nt[Le]&&re("/"+Le.substr(0,1).toUpperCase()+Le.substr(1)+" ("+go(me(Nt[Le]))+")");re("/CreationDate ("+go(me(q))+")"),re(">>"),re("endobj")},Yp=A.__private__.putCatalog=function(G){var me=(G=G||{}).rootDictionaryObjId||Hr;switch(pr(),re("<<"),re("/Type /Catalog"),re("/Pages "+me+" 0 R"),ze||(ze="fullwidth"),ze){case"fullwidth":re("/OpenAction [3 0 R /FitH null]");break;case"fullheight":re("/OpenAction [3 0 R /FitV null]");break;case"fullpage":re("/OpenAction [3 0 R /Fit]");break;case"original":re("/OpenAction [3 0 R /XYZ null null 1]");break;default:var Le=""+ze;Le.substr(Le.length-1)==="%"&&(ze=parseInt(ze)/100),typeof ze=="number"&&re("/OpenAction [3 0 R /XYZ null null "+O(ze)+"]")}switch(We||(We="continuous"),We){case"continuous":re("/PageLayout /OneColumn");break;case"single":re("/PageLayout /SinglePage");break;case"two":case"twoleft":re("/PageLayout /TwoColumnLeft");break;case"tworight":re("/PageLayout /TwoColumnRight")}Ce&&re("/PageMode /"+Ce),wt.publish("putCatalog"),re(">>"),re("endobj")},$y=A.__private__.putTrailer=function(){re("trailer"),re("<<"),re("/Size "+(ie+1)),re("/Root "+ie+" 0 R"),re("/Info "+(ie-1)+" 0 R"),d!==null&&re("/Encrypt "+Pi.oid+" 0 R"),re("/ID [ <"+U+"> <"+U+"> ]"),re(">>")},Tx=A.__private__.putHeader=function(){re("%PDF-"+v),re("%ºß¬à")},Wy=A.__private__.putXRef=function(){var G="0000000000";re("xref"),re("0 "+(ie+1)),re("0000000000 65535 f ");for(var me=1;me<=ie;me++)typeof se[me]=="function"?re((G+se[me]()).slice(-10)+" 00000 n "):se[me]!==void 0?re((G+se[me]).slice(-10)+" 00000 n "):re("0000000000 00000 n ")},ru=A.__private__.buildDocument=function(){X(),ue(Ae),wt.publish("buildDocument"),Tx(),eu(),zy(),Hy(),d!==null&&Kp(),jr(),Yp();var G=he;return Wy(),$y(),re("startxref"),re(""+G),re("%%EOF"),ue(Me[W]),Ae.join(`
`)},Yf=A.__private__.getBlob=function(G){return new Blob([ce(G)],{type:"application/pdf"})},Eh=A.output=A.__private__.output=mo(function(G,me){switch(typeof(me=me||{})=="string"?me={filename:me}:me.filename=me.filename||"generated.pdf",G){case void 0:return ru();case"save":A.save(me.filename);break;case"arraybuffer":return ce(ru());case"blob":return Yf(ru());case"bloburi":case"bloburl":if(Bn.URL!==void 0&&typeof Bn.URL.createObjectURL=="function")return Bn.URL&&Bn.URL.createObjectURL(Yf(ru()))||void 0;Ai.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var Le="",qe=ru();try{Le=rH(qe)}catch{Le=rH(unescape(encodeURIComponent(qe)))}return"data:application/pdf;filename="+me.filename+";base64,"+Le;case"pdfobjectnewwindow":if(Object.prototype.toString.call(Bn)==="[object Window]"){var it="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",pt=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';me.pdfObjectUrl&&(it=me.pdfObjectUrl,pt="");var _t='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+it+'"'+pt+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(me)+");<\/script></body></html>",Qt=Bn.open();return Qt!==null&&Qt.document.write(_t),Qt}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(Bn)==="[object Window]"){var dn='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(me.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+me.filename+'" width="500px" height="400px" /></body></html>',Ln=Bn.open();if(Ln!==null){Ln.document.write(dn);var In=this;Ln.document.documentElement.querySelector("#pdfViewer").onload=function(){Ln.document.title=me.filename,Ln.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(In.output("bloburl"))}}return Ln}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(Bn)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var cr='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",me)+'"></iframe></body></html>',Ui=Bn.open();if(Ui!==null&&(Ui.document.write(cr),Ui.document.title=me.filename),Ui||typeof safari>"u")return Ui;break;case"datauri":case"dataurl":return Bn.document.location.href=this.output("datauristring",me);default:return null}}),Jf=function(G){return Array.isArray(ln)===!0&&ln.indexOf(G)>-1};switch(r){case"pt":Ue=1;break;case"mm":Ue=72/25.4;break;case"cm":Ue=72/2.54;break;case"in":Ue=72;break;case"px":Ue=Jf("px_scaling")==1?.75:96/72;break;case"pc":case"em":Ue=12;break;case"ex":Ue=6;break;default:if(typeof r!="number")throw new Error("Invalid unit: "+r);Ue=r}var Pi=null;V(),z();var iu=function(G){return d!==null?Pi.encryptor(G,0):function(me){return me}},Ac=A.__private__.getPageInfo=A.getPageInfo=function(G){if(isNaN(G)||G%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Je[G].objId,pageNumber:G,pageContext:Je[G]}},jn=A.__private__.getPageInfoByObjId=function(G){if(isNaN(G)||G%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var me in Je)if(Je[me].objId===G)break;return Ac(me)},Zf=A.__private__.getCurrentPageInfo=A.getCurrentPageInfo=function(){return{objId:Je[W].objId,pageNumber:W,pageContext:Je[W]}};A.addPage=function(){return Bx.apply(this,arguments),this},A.setPage=function(){return Sh.apply(this,arguments),ue.call(this,Me[W]),this},A.insertPage=function(G){return this.addPage(),this.movePage(W,G),this},A.movePage=function(G,me){var Le,qe;if(G>me){Le=Me[G],qe=Je[G];for(var it=G;it>me;it--)Me[it]=Me[it-1],Je[it]=Je[it-1];Me[me]=Le,Je[me]=qe,this.setPage(me)}else if(G<me){Le=Me[G],qe=Je[G];for(var pt=G;pt<me;pt++)Me[pt]=Me[pt+1],Je[pt]=Je[pt+1];Me[me]=Le,Je[me]=qe,this.setPage(me)}return this},A.deletePage=function(){return Dx.apply(this,arguments),this},A.__private__.text=A.text=function(G,me,Le,qe,it){var pt,_t,Qt,dn,Ln,In,cr,Ui,Wi,As=(qe=qe||{}).scope||this;if(typeof G=="number"&&typeof me=="number"&&(typeof Le=="string"||Array.isArray(Le))){var ja=Le;Le=me,me=G,G=ja}if(arguments[3]instanceof Xt?(k("The transform parameter of text() with a Matrix value"),Wi=it):(Qt=arguments[4],dn=arguments[5],ri(cr=arguments[3])==="object"&&cr!==null||(typeof Qt=="string"&&(dn=Qt,Qt=null),typeof cr=="string"&&(dn=cr,cr=null),typeof cr=="number"&&(Qt=cr,cr=null),qe={flags:cr,angle:Qt,align:dn})),isNaN(me)||isNaN(Le)||G==null)throw new Error("Invalid arguments passed to jsPDF.text");if(G.length===0)return As;var $s="",xc=!1,rl=typeof qe.lineHeightFactor=="number"?qe.lineHeightFactor:eA,Ml=As.internal.scaleFactor;function Uh(Xr){return Xr=Xr.split("	").join(Array(qe.TabLen||9).join(" ")),go(Xr,cr)}function Mx(Xr){for(var Ur,Vi=Xr.concat(),ps=[],uu=Vi.length;uu--;)typeof(Ur=Vi.shift())=="string"?ps.push(Ur):Array.isArray(Xr)&&(Ur.length===1||Ur[1]===void 0&&Ur[2]===void 0)?ps.push(Ur[0]):ps.push([Ur[0],Ur[1],Ur[2]]);return ps}function om(Xr,Ur){var Vi;if(typeof Xr=="string")Vi=Ur(Xr)[0];else if(Array.isArray(Xr)){for(var ps,uu,gm=Xr.concat(),dA=[],Qx=gm.length;Qx--;)typeof(ps=gm.shift())=="string"?dA.push(Ur(ps)[0]):Array.isArray(ps)&&typeof ps[0]=="string"&&(uu=Ur(ps[0],ps[1],ps[2]),dA.push([uu[0],uu[1],uu[2]]));Vi=dA}return Vi}var iA=!1,lm=!0;if(typeof G=="string")iA=!0;else if(Array.isArray(G)){var cm=G.concat();_t=[];for(var sA,qi=cm.length;qi--;)(typeof(sA=cm.shift())!="string"||Array.isArray(sA)&&typeof sA[0]!="string")&&(lm=!1);iA=lm}if(iA===!1)throw new Error('Type of text must be string or Array. "'+G+'" is not recognized.');typeof G=="string"&&(G=G.match(/[\r?\n]/)?G.split(/\r\n|\r|\n/g):[G]);var um=$e/As.internal.scaleFactor,dm=um*(rl-1);switch(qe.baseline){case"bottom":Le-=dm;break;case"top":Le+=um-dm;break;case"hanging":Le+=um-2*dm;break;case"middle":Le+=um/2-dm}if((In=qe.maxWidth||0)>0&&(typeof G=="string"?G=As.splitTextToSize(G,In):Object.prototype.toString.call(G)==="[object Array]"&&(G=G.reduce(function(Xr,Ur){return Xr.concat(As.splitTextToSize(Ur,In))},[]))),pt={text:G,x:me,y:Le,options:qe,mutex:{pdfEscape:go,activeFontKey:jt,fonts:Ot,activeFontSize:$e}},wt.publish("preProcessText",pt),G=pt.text,Qt=(qe=pt.options).angle,!(Wi instanceof Xt)&&Qt&&typeof Qt=="number"){Qt*=Math.PI/180,qe.rotationDirection===0&&(Qt=-Qt),b===x.ADVANCED&&(Qt=-Qt);var hm=Math.cos(Qt),fm=Math.sin(Qt);Wi=new Xt(hm,fm,-fm,hm,0,0)}else Qt&&Qt instanceof Xt&&(Wi=Qt);b!==x.ADVANCED||Wi||(Wi=ji),(Ln=qe.charSpace||kh)!==void 0&&($s+=C(F(Ln))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Ui=qe.horizontalScale)!==void 0&&($s+=C(100*Ui)+` Tz
`),qe.lang;var Xa=-1,aA=qe.renderingMode!==void 0?qe.renderingMode:qe.stroke,cd=As.internal.getCurrentPageInfo().pageContext;switch(aA){case 0:case!1:case"fill":Xa=0;break;case 1:case!0:case"stroke":Xa=1;break;case 2:case"fillThenStroke":Xa=2;break;case 3:case"invisible":Xa=3;break;case 4:case"fillAndAddForClipping":Xa=4;break;case 5:case"strokeAndAddPathForClipping":Xa=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Xa=6;break;case 7:case"addToPathForClipping":Xa=7}var Gy=cd.usedRenderingMode!==void 0?cd.usedRenderingMode:-1;Xa!==-1?$s+=Xa+` Tr
`:Gy!==-1&&($s+=`0 Tr
`),Xa!==-1&&(cd.usedRenderingMode=Xa),dn=qe.align||"left";var Ya,Am=$e*rl,Lx=As.internal.pageSize.getWidth(),pm=Ot[jt];Ln=qe.charSpace||kh,In=qe.maxWidth||0,cr=Object.assign({autoencode:!0,noBOM:!0},qe.flags);var lu=[],Ih=function(Xr){return As.getStringUnitWidth(Xr,{font:pm,charSpace:Ln,fontSize:$e,doKerning:!1})*$e/Ml};if(Object.prototype.toString.call(G)==="[object Array]"){var Ja;_t=Mx(G),dn!=="left"&&(Ya=_t.map(Ih));var Na,Oh=0;if(dn==="right"){me-=Ya[0],G=[],qi=_t.length;for(var ud=0;ud<qi;ud++)ud===0?(Na=Il(me),Ja=Ol(Le)):(Na=F(Oh-Ya[ud]),Ja=-Am),G.push([_t[ud],Na,Ja]),Oh=Ya[ud]}else if(dn==="center"){me-=Ya[0]/2,G=[],qi=_t.length;for(var dd=0;dd<qi;dd++)dd===0?(Na=Il(me),Ja=Ol(Le)):(Na=F((Oh-Ya[dd])/2),Ja=-Am),G.push([_t[dd],Na,Ja]),Oh=Ya[dd]}else if(dn==="left"){G=[],qi=_t.length;for(var mm=0;mm<qi;mm++)G.push(_t[mm])}else if(dn==="justify"&&pm.encoding==="Identity-H"){G=[],qi=_t.length,In=In!==0?In:Lx;for(var hd=0,Nr=0;Nr<qi;Nr++)if(Ja=Nr===0?Ol(Le):-Am,Na=Nr===0?Il(me):hd,Nr<qi-1){var fd=F((In-Ya[Nr])/(_t[Nr].split(" ").length-1)),_a=_t[Nr].split(" ");G.push([_a[0]+" ",Na,Ja]),hd=0;for(var il=1;il<_a.length;il++){var oA=(Ih(_a[il-1]+" "+_a[il])-Ih(_a[il]))*Ml+fd;il==_a.length-1?G.push([_a[il],oA,0]):G.push([_a[il]+" ",oA,0]),hd-=oA}}else G.push([_t[Nr],Na,Ja]);G.push(["",hd,0])}else{if(dn!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(G=[],qi=_t.length,In=In!==0?In:Lx,Nr=0;Nr<qi;Nr++)Ja=Nr===0?Ol(Le):-Am,Na=Nr===0?Il(me):0,Nr<qi-1?lu.push(C(F((In-Ya[Nr])/(_t[Nr].split(" ").length-1)))):lu.push(0),G.push([_t[Nr],Na,Ja])}}var Rx=typeof qe.R2L=="boolean"?qe.R2L:De;Rx===!0&&(G=om(G,function(Xr,Ur,Vi){return[Xr.split("").reverse().join(""),Ur,Vi]})),pt={text:G,x:me,y:Le,options:qe,mutex:{pdfEscape:go,activeFontKey:jt,fonts:Ot,activeFontSize:$e}},wt.publish("postProcessText",pt),G=pt.text,xc=pt.mutex.isHex||!1;var lA=Ot[jt].encoding;lA!=="WinAnsiEncoding"&&lA!=="StandardEncoding"||(G=om(G,function(Xr,Ur,Vi){return[Uh(Xr),Ur,Vi]})),_t=Mx(G),G=[];for(var cA,uA,sl,Ad=0,cu=1,pd=Array.isArray(_t[0])?cu:Ad,md="",Mh=function(Xr,Ur,Vi){var ps="";return Vi instanceof Xt?(Vi=typeof qe.angle=="number"?di(Vi,new Xt(1,0,0,1,Xr,Ur)):di(new Xt(1,0,0,1,Xr,Ur),Vi),b===x.ADVANCED&&(Vi=di(new Xt(1,0,0,-1,0,0),Vi)),ps=Vi.join(" ")+` Tm
`):ps=C(Xr)+" "+C(Ur)+` Td
`,ps},ia=0;ia<_t.length;ia++){switch(md="",pd){case cu:sl=(xc?"<":"(")+_t[ia][0]+(xc?">":")"),cA=parseFloat(_t[ia][1]),uA=parseFloat(_t[ia][2]);break;case Ad:sl=(xc?"<":"(")+_t[ia]+(xc?">":")"),cA=Il(me),uA=Ol(Le)}lu!==void 0&&lu[ia]!==void 0&&(md=lu[ia]+` Tw
`),ia===0?G.push(md+Mh(cA,uA,Wi)+sl):pd===Ad?G.push(md+sl):pd===cu&&G.push(md+Mh(cA,uA,Wi)+sl)}G=pd===Ad?G.join(` Tj
T* `):G.join(` Tj
`),G+=` Tj
`;var vo=`BT
/`;return vo+=jt+" "+$e+` Tf
`,vo+=C($e*rl)+` TL
`,vo+=Cs+`
`,vo+=$s,vo+=G,re(vo+="ET"),f[jt]=!0,As};var su=A.__private__.clip=A.clip=function(G){return re(G==="evenodd"?"W*":"W"),this};A.clipEvenOdd=function(){return su("evenodd")},A.__private__.discardPath=A.discardPath=function(){return re("n"),this};var au=A.__private__.isValidStyle=function(G){var me=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(G)!==-1&&(me=!0),me};A.__private__.setDefaultPathOperation=A.setDefaultPathOperation=function(G){return au(G)&&(u=G),this};var kx=A.__private__.getStyle=A.getStyle=function(G){var me=u;switch(G){case"D":case"S":me="S";break;case"F":me="f";break;case"FD":case"DF":me="B";break;case"f":case"f*":case"B":case"B*":me=G}return me},Bh=A.close=function(){return re("h"),this};A.stroke=function(){return re("S"),this},A.fill=function(G){return Jp("f",G),this},A.fillEvenOdd=function(G){return Jp("f*",G),this},A.fillStroke=function(G){return Jp("B",G),this},A.fillStrokeEvenOdd=function(G){return Jp("B*",G),this};var Jp=function(G,me){ri(me)==="object"?qy(me,G):re(G)},Zp=function(G){G===null||b===x.ADVANCED&&G===void 0||(G=kx(G),re(G))};function em(G,me,Le,qe,it){var pt=new c1(me||this.boundingBox,Le||this.xStep,qe||this.yStep,this.gState,it||this.matrix);pt.stream=this.stream;var _t=G+"$$"+this.cloneIndex+++"$$";return Ni(_t,pt),pt}var qy=function(G,me){var Le=wi[G.key],qe=fn[Le];if(qe instanceof Cv)re("q"),re(fj(me)),qe.gState&&A.setGState(qe.gState),re(G.matrix.toString()+" cm"),re("/"+Le+" sh"),re("Q");else if(qe instanceof c1){var it=new Xt(1,0,0,-1,0,Ph());G.matrix&&(it=it.multiply(G.matrix||ji),Le=em.call(qe,G.key,G.boundingBox,G.xStep,G.yStep,it).id),re("q"),re("/Pattern cs"),re("/"+Le+" scn"),qe.gState&&A.setGState(qe.gState),re(me),re("Q")}},fj=function(G){switch(G){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},od=A.moveTo=function(G,me){return re(C(F(G))+" "+C(S(me))+" m"),this},pc=A.lineTo=function(G,me){return re(C(F(G))+" "+C(S(me))+" l"),this},nl=A.curveTo=function(G,me,Le,qe,it,pt){return re([C(F(G)),C(S(me)),C(F(Le)),C(S(qe)),C(F(it)),C(S(pt)),"c"].join(" ")),this};A.__private__.line=A.line=function(G,me,Le,qe,it){if(isNaN(G)||isNaN(me)||isNaN(Le)||isNaN(qe)||!au(it))throw new Error("Invalid arguments passed to jsPDF.line");return b===x.COMPAT?this.lines([[Le-G,qe-me]],G,me,[1,1],it||"S"):this.lines([[Le-G,qe-me]],G,me,[1,1]).stroke()},A.__private__.lines=A.lines=function(G,me,Le,qe,it,pt){var _t,Qt,dn,Ln,In,cr,Ui,Wi,As,ja,$s,xc;if(typeof G=="number"&&(xc=Le,Le=me,me=G,G=xc),qe=qe||[1,1],pt=pt||!1,isNaN(me)||isNaN(Le)||!Array.isArray(G)||!Array.isArray(qe)||!au(it)||typeof pt!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(od(me,Le),_t=qe[0],Qt=qe[1],Ln=G.length,ja=me,$s=Le,dn=0;dn<Ln;dn++)(In=G[dn]).length===2?(ja=In[0]*_t+ja,$s=In[1]*Qt+$s,pc(ja,$s)):(cr=In[0]*_t+ja,Ui=In[1]*Qt+$s,Wi=In[2]*_t+ja,As=In[3]*Qt+$s,ja=In[4]*_t+ja,$s=In[5]*Qt+$s,nl(cr,Ui,Wi,As,ja,$s));return pt&&Bh(),Zp(it),this},A.path=function(G){for(var me=0;me<G.length;me++){var Le=G[me],qe=Le.c;switch(Le.op){case"m":od(qe[0],qe[1]);break;case"l":pc(qe[0],qe[1]);break;case"c":nl.apply(this,qe);break;case"h":Bh()}}return this},A.__private__.rect=A.rect=function(G,me,Le,qe,it){if(isNaN(G)||isNaN(me)||isNaN(Le)||isNaN(qe)||!au(it))throw new Error("Invalid arguments passed to jsPDF.rect");return b===x.COMPAT&&(qe=-qe),re([C(F(G)),C(S(me)),C(F(Le)),C(F(qe)),"re"].join(" ")),Zp(it),this},A.__private__.triangle=A.triangle=function(G,me,Le,qe,it,pt,_t){if(isNaN(G)||isNaN(me)||isNaN(Le)||isNaN(qe)||isNaN(it)||isNaN(pt)||!au(_t))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[Le-G,qe-me],[it-Le,pt-qe],[G-it,me-pt]],G,me,[1,1],_t,!0),this},A.__private__.roundedRect=A.roundedRect=function(G,me,Le,qe,it,pt,_t){if(isNaN(G)||isNaN(me)||isNaN(Le)||isNaN(qe)||isNaN(it)||isNaN(pt)||!au(_t))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Qt=4/3*(Math.SQRT2-1);return it=Math.min(it,.5*Le),pt=Math.min(pt,.5*qe),this.lines([[Le-2*it,0],[it*Qt,0,it,pt-pt*Qt,it,pt],[0,qe-2*pt],[0,pt*Qt,-it*Qt,pt,-it,pt],[2*it-Le,0],[-it*Qt,0,-it,-pt*Qt,-it,-pt],[0,2*pt-qe],[0,-pt*Qt,it*Qt,-pt,it,-pt]],G+it,me,[1,1],_t,!0),this},A.__private__.ellipse=A.ellipse=function(G,me,Le,qe,it){if(isNaN(G)||isNaN(me)||isNaN(Le)||isNaN(qe)||!au(it))throw new Error("Invalid arguments passed to jsPDF.ellipse");var pt=4/3*(Math.SQRT2-1)*Le,_t=4/3*(Math.SQRT2-1)*qe;return od(G+Le,me),nl(G+Le,me-_t,G+pt,me-qe,G,me-qe),nl(G-pt,me-qe,G-Le,me-_t,G-Le,me),nl(G-Le,me+_t,G-pt,me+qe,G,me+qe),nl(G+pt,me+qe,G+Le,me+_t,G+Le,me),Zp(it),this},A.__private__.circle=A.circle=function(G,me,Le,qe){if(isNaN(G)||isNaN(me)||isNaN(Le)||!au(qe))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(G,me,Le,Le,qe)},A.setFont=function(G,me,Le){return Le&&(me=_(me,Le)),jt=Xp(G,me,{disableWarning:!1}),this};var tm=A.__private__.getFont=A.getFont=function(){return Ot[Xp.apply(A,arguments)]};A.__private__.getFontList=A.getFontList=function(){var G,me,Le={};for(G in Ut)if(Ut.hasOwnProperty(G))for(me in Le[G]=[],Ut[G])Ut[G].hasOwnProperty(me)&&Le[G].push(me);return Le},A.addFont=function(G,me,Le,qe,it){var pt=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&pt.indexOf(arguments[3])!==-1?it=arguments[3]:arguments[3]&&pt.indexOf(arguments[3])==-1&&(Le=_(Le,qe)),it=it||"Identity-H",Ch.call(this,G,me,Le,it)};var eA,Fx=t.lineWidth||.200025,Dh=A.__private__.getLineWidth=A.getLineWidth=function(){return Fx},tA=A.__private__.setLineWidth=A.setLineWidth=function(G){return Fx=G,re(C(F(G))+" w"),this};A.__private__.setLineDash=_n.API.setLineDash=_n.API.setLineDashPattern=function(G,me){if(G=G||[],me=me||0,isNaN(me)||!Array.isArray(G))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return G=G.map(function(Le){return C(F(Le))}).join(" "),me=C(F(me)),re("["+G+"] "+me+" d"),this};var nm=A.__private__.getLineHeight=A.getLineHeight=function(){return $e*eA};A.__private__.getLineHeight=A.getLineHeight=function(){return $e*eA};var Px=A.__private__.setLineHeightFactor=A.setLineHeightFactor=function(G){return typeof(G=G||1.15)=="number"&&(eA=G),this},mc=A.__private__.getLineHeightFactor=A.getLineHeightFactor=function(){return eA};Px(t.lineHeight);var Il=A.__private__.getHorizontalCoordinate=function(G){return F(G)},Ol=A.__private__.getVerticalCoordinate=function(G){return b===x.ADVANCED?G:Je[W].mediaBox.topRightY-Je[W].mediaBox.bottomLeftY-F(G)},Vy=A.__private__.getHorizontalCoordinateString=A.getHorizontalCoordinateString=function(G){return C(Il(G))},gc=A.__private__.getVerticalCoordinateString=A.getVerticalCoordinateString=function(G){return C(Ol(G))},xo=t.strokeColor||"0 G";A.__private__.getStrokeColor=A.getDrawColor=function(){return ts(xo)},A.__private__.setStrokeColor=A.setDrawColor=function(G,me,Le,qe){return xo=$i({ch1:G,ch2:me,ch3:Le,ch4:qe,pdfColorType:"draw",precision:2}),re(xo),this};var rm=t.fillColor||"0 g";A.__private__.getFillColor=A.getFillColor=function(){return ts(rm)},A.__private__.setFillColor=A.setFillColor=function(G,me,Le,qe){return rm=$i({ch1:G,ch2:me,ch3:Le,ch4:qe,pdfColorType:"fill",precision:2}),re(rm),this};var Cs=t.textColor||"0 g",Th=A.__private__.getTextColor=A.getTextColor=function(){return ts(Cs)};A.__private__.setTextColor=A.setTextColor=function(G,me,Le,qe){return Cs=$i({ch1:G,ch2:me,ch3:Le,ch4:qe,pdfColorType:"text",precision:3}),this};var kh=t.charSpace,nA=A.__private__.getCharSpace=A.getCharSpace=function(){return parseFloat(kh||0)};A.__private__.setCharSpace=A.setCharSpace=function(G){if(isNaN(G))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return kh=G,this};var Ux=0;A.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},A.__private__.setLineCap=A.setLineCap=function(G){var me=A.CapJoinStyles[G];if(me===void 0)throw new Error("Line cap style of '"+G+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Ux=me,re(me+" J"),this};var rA=0;A.__private__.setLineJoin=A.setLineJoin=function(G){var me=A.CapJoinStyles[G];if(me===void 0)throw new Error("Line join style of '"+G+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return rA=me,re(me+" j"),this},A.__private__.setLineMiterLimit=A.__private__.setMiterLimit=A.setLineMiterLimit=A.setMiterLimit=function(G){if(G=G||0,isNaN(G))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return re(C(F(G))+" M"),this},A.GState=fT,A.setGState=function(G){(G=typeof G=="string"?lr[ge[G]]:im(null,G)).equals(Se)||(re("/"+G.id+" gs"),Se=G)};var im=function(G,me){if(!G||!ge[G]){var Le=!1;for(var qe in lr)if(lr.hasOwnProperty(qe)&&lr[qe].equals(me)){Le=!0;break}if(Le)me=lr[qe];else{var it="GS"+(Object.keys(lr).length+1).toString(10);lr[it]=me,me.id=it}return G&&(ge[G]=me.id),wt.publish("addGState",me),me}};A.addGState=function(G,me){return im(G,me),this},A.saveGraphicsState=function(){return re("q"),mn.push({key:jt,size:$e,color:Cs}),this},A.restoreGraphicsState=function(){re("Q");var G=mn.pop();return jt=G.key,$e=G.size,Cs=G.color,Se=null,this},A.setCurrentTransformationMatrix=function(G){return re(G.toString()+" cm"),this},A.comment=function(G){return re("#"+G),this};var ou=function(G,me){var Le=G||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return Le},set:function(pt){isNaN(pt)||(Le=parseFloat(pt))}});var qe=me||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return qe},set:function(pt){isNaN(pt)||(qe=parseFloat(pt))}});var it="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return it},set:function(pt){it=pt.toString()}}),this},Fh=function(G,me,Le,qe){ou.call(this,G,me),this.type="rect";var it=Le||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return it},set:function(_t){isNaN(_t)||(it=parseFloat(_t))}});var pt=qe||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return pt},set:function(_t){isNaN(_t)||(pt=parseFloat(_t))}}),this},sm=function(){this.page=Re,this.currentPage=W,this.pages=Me.slice(0),this.pagesContext=Je.slice(0),this.x=ct,this.y=ht,this.matrix=kt,this.width=ld(W),this.height=Ph(W),this.outputDestination=Ye,this.id="",this.objectNumber=-1};sm.prototype.restore=function(){Re=this.page,W=this.currentPage,Je=this.pagesContext,Me=this.pages,ct=this.x,ht=this.y,kt=this.matrix,Ix(W,this.width),Ox(W,this.height),Ye=this.outputDestination};var Ky=function(G,me,Le,qe,it){Fi.push(new sm),Re=W=0,Me=[],ct=G,ht=me,kt=it,Xf([Le,qe])},Aj=function(G){if(Pr[G])Fi.pop().restore();else{var me=new sm,Le="Xo"+(Object.keys(kn).length+1).toString(10);me.id=Le,Pr[G]=Le,kn[Le]=me,wt.publish("addFormObject",me),Fi.pop().restore()}};for(var am in A.beginFormObject=function(G,me,Le,qe,it){return Ky(G,me,Le,qe,it),this},A.endFormObject=function(G){return Aj(G),this},A.doFormObject=function(G,me){var Le=kn[Pr[G]];return re("q"),re(me.toString()+" cm"),re("/"+Le.id+" Do"),re("Q"),this},A.getFormObject=function(G){var me=kn[Pr[G]];return{x:me.x,y:me.y,width:me.width,height:me.height,matrix:me.matrix}},A.save=function(G,me){return G=G||"generated.pdf",(me=me||{}).returnPromise=me.returnPromise||!1,me.returnPromise===!1?(bv(Yf(ru()),G),typeof bv.unload=="function"&&Bn.setTimeout&&setTimeout(bv.unload,911),this):new Promise(function(Le,qe){try{var it=bv(Yf(ru()),G);typeof bv.unload=="function"&&Bn.setTimeout&&setTimeout(bv.unload,911),Le(it)}catch(pt){qe(pt.message)}})},_n.API)_n.API.hasOwnProperty(am)&&(am==="events"&&_n.API.events.length?function(G,me){var Le,qe,it;for(it=me.length-1;it!==-1;it--)Le=me[it][0],qe=me[it][1],G.subscribe.apply(G,[Le].concat(typeof qe=="function"?[qe]:qe))}(wt,_n.API.events):A[am]=_n.API[am]);var ld=A.getPageWidth=function(G){return(Je[G=G||W].mediaBox.topRightX-Je[G].mediaBox.bottomLeftX)/Ue},Ix=A.setPageWidth=function(G,me){Je[G].mediaBox.topRightX=me*Ue+Je[G].mediaBox.bottomLeftX},Ph=A.getPageHeight=function(G){return(Je[G=G||W].mediaBox.topRightY-Je[G].mediaBox.bottomLeftY)/Ue},Ox=A.setPageHeight=function(G,me){Je[G].mediaBox.topRightY=me*Ue+Je[G].mediaBox.bottomLeftY};return A.internal={pdfEscape:go,getStyle:kx,getFont:tm,getFontSize:Fe,getCharSpace:nA,getTextColor:Th,getLineHeight:nm,getLineHeightFactor:mc,getLineWidth:Dh,write:de,getHorizontalCoordinate:Il,getVerticalCoordinate:Ol,getCoordinateString:Vy,getVerticalCoordinateString:gc,collections:{},newObject:pr,newAdditionalObject:ba,newObjectDeferred:rr,newObjectDeferredBegin:ii,getFilters:el,putStream:Ga,events:wt,scaleFactor:Ue,pageSize:{getWidth:function(){return ld(W)},setWidth:function(G){Ix(W,G)},getHeight:function(){return Ph(W)},setHeight:function(G){Ox(W,G)}},encryptionOptions:d,encryption:Pi,getEncryptor:iu,output:Eh,getNumberOfPages:hj,pages:Me,out:re,f2:O,f3:I,getPageInfo:Ac,getPageInfoByObjId:jn,getCurrentPageInfo:Zf,getPDFVersion:p,Point:ou,Rectangle:Fh,Matrix:Xt,hasHotfix:Jf},Object.defineProperty(A.internal.pageSize,"width",{get:function(){return ld(W)},set:function(G){Ix(W,G)},enumerable:!0,configurable:!0}),Object.defineProperty(A.internal.pageSize,"height",{get:function(){return Ph(W)},set:function(G){Ox(W,G)},enumerable:!0,configurable:!0}),Gf.call(A,Ne),jt="F1",Bx(s,n),wt.publish("initialized"),A}Vb.prototype.lsbFirstWord=function(t){return String.fromCharCode(t>>0&255,t>>8&255,t>>16&255,t>>24&255)},Vb.prototype.toHexString=function(t){return t.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},Vb.prototype.hexToBytes=function(t){for(var e=[],n=0;n<t.length;n+=2)e.push(String.fromCharCode(parseInt(t.substr(n,2),16)));return e.join("")},Vb.prototype.processOwnerPassword=function(t,e){return sH(iH(e).substr(0,5),t)},Vb.prototype.encryptor=function(t,e){var n=iH(this.encryptionKey+String.fromCharCode(255&t,t>>8&255,t>>16&255,255&e,e>>8&255)).substr(0,10);return function(r){return sH(n,r)}},fT.prototype.equals=function(t){var e,n="id,objectNumber,equals";if(!t||ri(t)!==ri(this))return!1;var r=0;for(e in this)if(!(n.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!t.hasOwnProperty(e)||this[e]!==t[e])return!1;r++}for(e in t)t.hasOwnProperty(e)&&n.indexOf(e)<0&&r--;return r===0},_n.API={events:[]},_n.version="3.0.1";var ys=_n.API,jq=1,Qy=function(t){return t.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Sb=function(t){return t.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},$n=function(t){return t.toFixed(2)},zm=function(t){return t.toFixed(5)};ys.__acroform__={};var fc=function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t},Wae=function(t){return t*jq},Jh=function(t){var e=new o1e,n=sn.internal.getHeight(t)||0,r=sn.internal.getWidth(t)||0;return e.BBox=[0,0,Number($n(r)),Number($n(n))],e},irt=ys.__acroform__.setBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return t|=1<<e},srt=ys.__acroform__.clearBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return t&=~(1<<e)},art=ys.__acroform__.getBit=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return(t&1<<e)==0?0:1},Os=ys.__acroform__.getBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return art(t,e-1)},Ms=ys.__acroform__.setBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return irt(t,e-1)},Ls=ys.__acroform__.clearBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return srt(t,e-1)},ort=ys.__acroform__.calculateCoordinates=function(t,e){var n=e.internal.getHorizontalCoordinate,r=e.internal.getVerticalCoordinate,s=t[0],a=t[1],o=t[2],l=t[3],c={};return c.lowerLeft_X=n(s)||0,c.lowerLeft_Y=r(a+l)||0,c.upperRight_X=n(s+o)||0,c.upperRight_Y=r(a)||0,[Number($n(c.lowerLeft_X)),Number($n(c.lowerLeft_Y)),Number($n(c.upperRight_X)),Number($n(c.upperRight_Y))]},lrt=function(t){if(t.appearanceStreamContent)return t.appearanceStreamContent;if(t.V||t.DV){var e=[],n=t._V||t.DV,r=aH(t,n),s=t.scope.internal.getFont(t.fontName,t.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(t.scope.__private__.encodeColorString(t.color)),e.push("/"+s+" "+$n(r.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(r.text),e.push("ET"),e.push("Q"),e.push("EMC");var a=Jh(t);return a.scope=t.scope,a.stream=e.join(`
`),a}},aH=function(t,e){var n=t.fontSize===0?t.maxFontSize:t.fontSize,r={text:"",fontSize:""},s=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");s=t.multiline?s.map(function(I){return I.split(`
`)}):s.map(function(I){return[I]});var a=n,o=sn.internal.getHeight(t)||0;o=o<0?-o:o;var l=sn.internal.getWidth(t)||0;l=l<0?-l:l;var c=function(I,F,M){if(I+1<s.length){var S=F+" "+s[I+1][0];return C4(S,t,M).width<=l-4}return!1};a++;e:for(;a>0;){e="",a--;var u,d,h=C4("3",t,a).height,f=t.multiline?o-a:(o-h)/2,A=f+=2,v=0,p=0,m=0;if(a<=0){e=`(...) Tj
`,e+="% Width of Text: "+C4(e,t,a=12).width+", FieldWidth:"+l+`
`;break}for(var g="",x=0,b=0;b<s.length;b++)if(s.hasOwnProperty(b)){var j=!1;if(s[b].length!==1&&m!==s[b].length-1){if((h+2)*(x+2)+2>o)continue e;g+=s[b][m],j=!0,p=b,b--}else{g=(g+=s[b][m]+" ").substr(g.length-1)==" "?g.substr(0,g.length-1):g;var N=parseInt(b),_=c(N,g,a),C=b>=s.length-1;if(_&&!C){g+=" ",m=0;continue}if(_||C){if(C)p=N;else if(t.multiline&&(h+2)*(x+2)+2>o)continue e}else{if(!t.multiline||(h+2)*(x+2)+2>o)continue e;p=N}}for(var k="",T=v;T<=p;T++){var O=s[T];if(t.multiline){if(T===p){k+=O[m]+" ",m=(m+1)%O.length;continue}if(T===v){k+=O[O.length-1]+" ";continue}}k+=O[0]+" "}switch(k=k.substr(k.length-1)==" "?k.substr(0,k.length-1):k,d=C4(k,t,a).width,t.textAlign){case"right":u=l-d-2;break;case"center":u=(l-d)/2;break;case"left":default:u=2}e+=$n(u)+" "+$n(A)+` Td
`,e+="("+Qy(k)+`) Tj
`,e+=-$n(u)+` 0 Td
`,A=-(a+2),d=0,v=j?p:p+1,x++,g=""}break}return r.text=e,r.fontSize=a,r},C4=function(t,e,n){var r=e.scope.internal.getFont(e.fontName,e.fontStyle),s=e.scope.getStringUnitWidth(t,{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n);return{height:e.scope.getStringUnitWidth("3",{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n)*1.5,width:s}},crt={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},urt=function(t,e){var n={type:"reference",object:t};e.internal.getPageInfo(t.page).pageContext.annotations.find(function(r){return r.type===n.type&&r.object===n.object})===void 0&&e.internal.getPageInfo(t.page).pageContext.annotations.push(n)},drt=function(t,e){for(var n in t)if(t.hasOwnProperty(n)){var r=n,s=t[n];e.internal.newObjectDeferredBegin(s.objId,!0),ri(s)==="object"&&typeof s.putStream=="function"&&s.putStream(),delete t[r]}},hrt=function(t,e){if(e.scope=t,t.internal!==void 0&&(t.internal.acroformPlugin===void 0||t.internal.acroformPlugin.isInitialized===!1)){if(yh.FieldNum=0,t.internal.acroformPlugin=JSON.parse(JSON.stringify(crt)),t.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");jq=t.internal.scaleFactor,t.internal.acroformPlugin.acroFormDictionaryRoot=new l1e,t.internal.acroformPlugin.acroFormDictionaryRoot.scope=t,t.internal.acroformPlugin.acroFormDictionaryRoot._eventID=t.internal.events.subscribe("postPutResources",function(){(function(n){n.internal.events.unsubscribe(n.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete n.internal.acroformPlugin.acroFormDictionaryRoot._eventID,n.internal.acroformPlugin.printedOut=!0})(t)}),t.internal.events.subscribe("buildDocument",function(){(function(n){n.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var r=n.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var s in r)if(r.hasOwnProperty(s)){var a=r[s];a.objId=void 0,a.hasAnnotation&&urt(a,n)}})(t)}),t.internal.events.subscribe("putCatalog",function(){(function(n){if(n.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");n.internal.write("/AcroForm "+n.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(t)}),t.internal.events.subscribe("postPutPages",function(n){(function(r,s){var a=!r;for(var o in r||(s.internal.newObjectDeferredBegin(s.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),s.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),r=r||s.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(r.hasOwnProperty(o)){var l=r[o],c=[],u=l.Rect;if(l.Rect&&(l.Rect=ort(l.Rect,s)),s.internal.newObjectDeferredBegin(l.objId,!0),l.DA=sn.createDefaultAppearanceStream(l),ri(l)==="object"&&typeof l.getKeyValueListForStream=="function"&&(c=l.getKeyValueListForStream()),l.Rect=u,l.hasAppearanceStream&&!l.appearanceStreamContent){var d=lrt(l);c.push({key:"AP",value:"<</N "+d+">>"}),s.internal.acroformPlugin.xForms.push(d)}if(l.appearanceStreamContent){var h="";for(var f in l.appearanceStreamContent)if(l.appearanceStreamContent.hasOwnProperty(f)){var A=l.appearanceStreamContent[f];if(h+="/"+f+" ",h+="<<",Object.keys(A).length>=1||Array.isArray(A)){for(var o in A)if(A.hasOwnProperty(o)){var v=A[o];typeof v=="function"&&(v=v.call(s,l)),h+="/"+o+" "+v+" ",s.internal.acroformPlugin.xForms.indexOf(v)>=0||s.internal.acroformPlugin.xForms.push(v)}}else typeof(v=A)=="function"&&(v=v.call(s,l)),h+="/"+o+" "+v,s.internal.acroformPlugin.xForms.indexOf(v)>=0||s.internal.acroformPlugin.xForms.push(v);h+=">>"}c.push({key:"AP",value:`<<
`+h+">>"})}s.internal.putStream({additionalKeyValues:c,objectId:l.objId}),s.internal.out("endobj")}a&&drt(s.internal.acroformPlugin.xForms,s)})(n,t)}),t.internal.acroformPlugin.isInitialized=!0}},a1e=ys.__acroform__.arrayToPdfArray=function(t,e,n){var r=function(o){return o};if(Array.isArray(t)){for(var s="[",a=0;a<t.length;a++)switch(a!==0&&(s+=" "),ri(t[a])){case"boolean":case"number":case"object":s+=t[a].toString();break;case"string":t[a].substr(0,1)!=="/"?(e!==void 0&&n&&(r=n.internal.getEncryptor(e)),s+="("+Qy(r(t[a].toString()))+")"):s+=t[a].toString()}return s+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},vL=function(t,e,n){var r=function(s){return s};return e!==void 0&&n&&(r=n.internal.getEncryptor(e)),(t=t||"").toString(),t="("+Qy(r(t))+")"},_f=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(t){this._objId=t}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};_f.prototype.toString=function(){return this.objId+" 0 R"},_f.prototype.putStream=function(){var t=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:t,objectId:this.objId}),this.scope.internal.out("endobj")},_f.prototype.getKeyValueListForStream=function(){var t=[],e=Object.getOwnPropertyNames(this).filter(function(a){return a!="content"&&a!="appearanceStreamContent"&&a!="scope"&&a!="objId"&&a.substring(0,1)!="_"});for(var n in e)if(Object.getOwnPropertyDescriptor(this,e[n]).configurable===!1){var r=e[n],s=this[r];s&&(Array.isArray(s)?t.push({key:r,value:a1e(s,this.objId,this.scope)}):s instanceof _f?(s.scope=this.scope,t.push({key:r,value:s.objId+" 0 R"})):typeof s!="function"&&t.push({key:r,value:s}))}return t};var o1e=function(){_f.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var t,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(n){e=n}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(n){t=n.trim()},get:function(){return t||null}})};fc(o1e,_f);var l1e=function(){_f.call(this);var t,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(t){var n=function(r){return r};return this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),"("+Qy(n(t))+")"}},set:function(n){t=n}})};fc(l1e,_f);var yh=function t(){_f.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(g){if(isNaN(g))throw new Error('Invalid value "'+g+'" for attribute F supplied.');e=g}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Os(e,3)},set:function(g){g?this.F=Ms(e,3):this.F=Ls(e,3)}});var n=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return n},set:function(g){if(isNaN(g))throw new Error('Invalid value "'+g+'" for attribute Ff supplied.');n=g}});var r=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(r.length!==0)return r},set:function(g){r=g!==void 0?g:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[0])?0:r[0]},set:function(g){r[0]=g}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[1])?0:r[1]},set:function(g){r[1]=g}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[2])?0:r[2]},set:function(g){r[2]=g}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[3])?0:r[3]},set:function(g){r[3]=g}});var s="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return s},set:function(g){switch(g){case"/Btn":case"/Tx":case"/Ch":case"/Sig":s=g;break;default:throw new Error('Invalid value "'+g+'" for attribute FT supplied.')}}});var a=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!a||a.length<1){if(this instanceof AT)return;a="FieldObject"+t.FieldNum++}var g=function(x){return x};return this.scope&&(g=this.scope.internal.getEncryptor(this.objId)),"("+Qy(g(a))+")"},set:function(g){a=g.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return a},set:function(g){a=g}});var o="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return o},set:function(g){o=g}});var l="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return l},set:function(g){l=g}});var c=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return c},set:function(g){c=g}});var u=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return u===void 0?50/jq:u},set:function(g){u=g}});var d="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return d},set:function(g){d=g}});var h="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!h||this instanceof AT||this instanceof J0))return vL(h,this.objId,this.scope)},set:function(g){g=g.toString(),h=g}});var f=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(f)return this instanceof Ra?f:vL(f,this.objId,this.scope)},set:function(g){g=g.toString(),f=this instanceof Ra?g:g.substr(0,1)==="("?Sb(g.substr(1,g.length-2)):Sb(g)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Ra?Sb(f.substr(1,f.length-1)):f},set:function(g){g=g.toString(),f=this instanceof Ra?"/"+g:g}});var A=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(A)return A},set:function(g){this.V=g}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(A)return this instanceof Ra?A:vL(A,this.objId,this.scope)},set:function(g){g=g.toString(),A=this instanceof Ra?g:g.substr(0,1)==="("?Sb(g.substr(1,g.length-2)):Sb(g)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Ra?Sb(A.substr(1,A.length-1)):A},set:function(g){g=g.toString(),A=this instanceof Ra?"/"+g:g}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var v,p=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return p},set:function(g){g=!!g,p=g}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(v)return v},set:function(g){v=g}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Os(this.Ff,1)},set:function(g){g?this.Ff=Ms(this.Ff,1):this.Ff=Ls(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Os(this.Ff,2)},set:function(g){g?this.Ff=Ms(this.Ff,2):this.Ff=Ls(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Os(this.Ff,3)},set:function(g){g?this.Ff=Ms(this.Ff,3):this.Ff=Ls(this.Ff,3)}});var m=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(m!==null)return m},set:function(g){if([0,1,2].indexOf(g)===-1)throw new Error('Invalid value "'+g+'" for attribute Q supplied.');m=g}}),Object.defineProperty(this,"textAlign",{get:function(){var g;switch(m){case 0:default:g="left";break;case 1:g="center";break;case 2:g="right"}return g},configurable:!0,enumerable:!0,set:function(g){switch(g){case"right":case 2:m=2;break;case"center":case 1:m=1;break;case"left":case 0:default:m=0}}})};fc(yh,_f);var E1=function(){yh.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var t=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return t},set:function(n){t=n}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return a1e(e,this.objId,this.scope)},set:function(n){var r,s;s=[],typeof(r=n)=="string"&&(s=function(a,o,l){l||(l=1);for(var c,u=[];c=o.exec(a);)u.push(c[l]);return u}(r,/\((.*?)\)/g)),e=s}}),this.getOptions=function(){return e},this.setOptions=function(n){e=n,this.sort&&e.sort()},this.addOption=function(n){n=(n=n||"").toString(),e.push(n),this.sort&&e.sort()},this.removeOption=function(n,r){for(r=r||!1,n=(n=n||"").toString();e.indexOf(n)!==-1&&(e.splice(e.indexOf(n),1),r!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Os(this.Ff,18)},set:function(n){n?this.Ff=Ms(this.Ff,18):this.Ff=Ls(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Os(this.Ff,19)},set:function(n){this.combo===!0&&(n?this.Ff=Ms(this.Ff,19):this.Ff=Ls(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Os(this.Ff,20)},set:function(n){n?(this.Ff=Ms(this.Ff,20),e.sort()):this.Ff=Ls(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Os(this.Ff,22)},set:function(n){n?this.Ff=Ms(this.Ff,22):this.Ff=Ls(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Os(this.Ff,23)},set:function(n){n?this.Ff=Ms(this.Ff,23):this.Ff=Ls(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Os(this.Ff,27)},set:function(n){n?this.Ff=Ms(this.Ff,27):this.Ff=Ls(this.Ff,27)}}),this.hasAppearanceStream=!1};fc(E1,yh);var B1=function(){E1.call(this),this.fontName="helvetica",this.combo=!1};fc(B1,E1);var D1=function(){B1.call(this),this.combo=!0};fc(D1,B1);var pD=function(){D1.call(this),this.edit=!0};fc(pD,D1);var Ra=function(){yh.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Os(this.Ff,15)},set:function(n){n?this.Ff=Ms(this.Ff,15):this.Ff=Ls(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Os(this.Ff,16)},set:function(n){n?this.Ff=Ms(this.Ff,16):this.Ff=Ls(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Os(this.Ff,17)},set:function(n){n?this.Ff=Ms(this.Ff,17):this.Ff=Ls(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Os(this.Ff,26)},set:function(n){n?this.Ff=Ms(this.Ff,26):this.Ff=Ls(this.Ff,26)}});var t,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var n=function(a){return a};if(this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var r,s=[];for(r in s.push("<<"),e)s.push("/"+r+" ("+Qy(n(e[r]))+")");return s.push(">>"),s.join(`
`)}},set:function(n){ri(n)==="object"&&(e=n)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(n){typeof n=="string"&&(e.CA=n)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(n){t="/"+n}})};fc(Ra,yh);var mD=function(){Ra.call(this),this.pushButton=!0};fc(mD,Ra);var T1=function(){Ra.call(this),this.radio=!0,this.pushButton=!1;var t=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e!==void 0?e:[]}})};fc(T1,Ra);var AT=function(){var t,e;yh.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return t},set:function(s){t=s}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(s){e=s}});var n,r={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var s=function(l){return l};this.scope&&(s=this.scope.internal.getEncryptor(this.objId));var a,o=[];for(a in o.push("<<"),r)o.push("/"+a+" ("+Qy(s(r[a]))+")");return o.push(">>"),o.join(`
`)},set:function(s){ri(s)==="object"&&(r=s)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return r.CA||""},set:function(s){typeof s=="string"&&(r.CA=s)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(s){n=s}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(s){n="/"+s}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=sn.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};fc(AT,yh),T1.prototype.setAppearance=function(t){if(!("createAppearanceStream"in t)||!("getCA"in t))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var n=this.Kids[e];n.appearanceStreamContent=t.createAppearanceStream(n.optionName),n.caption=t.getCA()}},T1.prototype.createOption=function(t){var e=new AT;return e.Parent=this,e.optionName=t,this.Kids.push(e),frt.call(this.scope,e),e};var gD=function(){Ra.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=sn.CheckBox.createAppearanceStream()};fc(gD,Ra);var J0=function(){yh.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Os(this.Ff,13)},set:function(e){e?this.Ff=Ms(this.Ff,13):this.Ff=Ls(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Os(this.Ff,21)},set:function(e){e?this.Ff=Ms(this.Ff,21):this.Ff=Ls(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Os(this.Ff,23)},set:function(e){e?this.Ff=Ms(this.Ff,23):this.Ff=Ls(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Os(this.Ff,24)},set:function(e){e?this.Ff=Ms(this.Ff,24):this.Ff=Ls(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Os(this.Ff,25)},set:function(e){e?this.Ff=Ms(this.Ff,25):this.Ff=Ls(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Os(this.Ff,26)},set:function(e){e?this.Ff=Ms(this.Ff,26):this.Ff=Ls(this.Ff,26)}});var t=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return t},set:function(e){Number.isInteger(e)&&(t=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};fc(J0,yh);var xD=function(){J0.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Os(this.Ff,14)},set:function(t){t?this.Ff=Ms(this.Ff,14):this.Ff=Ls(this.Ff,14)}}),this.password=!0};fc(xD,J0);var sn={CheckBox:{createAppearanceStream:function(){return{N:{On:sn.CheckBox.YesNormal},D:{On:sn.CheckBox.YesPushDown,Off:sn.CheckBox.OffPushDown}}},YesPushDown:function(t){var e=Jh(t);e.scope=t.scope;var n=[],r=t.scope.internal.getFont(t.fontName,t.fontStyle).id,s=t.scope.__private__.encodeColorString(t.color),a=aH(t,t.caption);return n.push("0.749023 g"),n.push("0 0 "+$n(sn.internal.getWidth(t))+" "+$n(sn.internal.getHeight(t))+" re"),n.push("f"),n.push("BMC"),n.push("q"),n.push("0 0 1 rg"),n.push("/"+r+" "+$n(a.fontSize)+" Tf "+s),n.push("BT"),n.push(a.text),n.push("ET"),n.push("Q"),n.push("EMC"),e.stream=n.join(`
`),e},YesNormal:function(t){var e=Jh(t);e.scope=t.scope;var n=t.scope.internal.getFont(t.fontName,t.fontStyle).id,r=t.scope.__private__.encodeColorString(t.color),s=[],a=sn.internal.getHeight(t),o=sn.internal.getWidth(t),l=aH(t,t.caption);return s.push("1 g"),s.push("0 0 "+$n(o)+" "+$n(a)+" re"),s.push("f"),s.push("q"),s.push("0 0 1 rg"),s.push("0 0 "+$n(o-1)+" "+$n(a-1)+" re"),s.push("W"),s.push("n"),s.push("0 g"),s.push("BT"),s.push("/"+n+" "+$n(l.fontSize)+" Tf "+r),s.push(l.text),s.push("ET"),s.push("Q"),e.stream=s.join(`
`),e},OffPushDown:function(t){var e=Jh(t);e.scope=t.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+$n(sn.internal.getWidth(t))+" "+$n(sn.internal.getHeight(t))+" re"),n.push("f"),e.stream=n.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(t){var e={D:{Off:sn.RadioButton.Circle.OffPushDown},N:{}};return e.N[t]=sn.RadioButton.Circle.YesNormal,e.D[t]=sn.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(t){var e=Jh(t);e.scope=t.scope;var n=[],r=sn.internal.getWidth(t)<=sn.internal.getHeight(t)?sn.internal.getWidth(t)/4:sn.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var s=sn.internal.Bezier_C,a=Number((r*s).toFixed(5));return n.push("q"),n.push("1 0 0 1 "+zm(sn.internal.getWidth(t)/2)+" "+zm(sn.internal.getHeight(t)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+a+" "+a+" "+r+" 0 "+r+" c"),n.push("-"+a+" "+r+" -"+r+" "+a+" -"+r+" 0 c"),n.push("-"+r+" -"+a+" -"+a+" -"+r+" 0 -"+r+" c"),n.push(a+" -"+r+" "+r+" -"+a+" "+r+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e},YesPushDown:function(t){var e=Jh(t);e.scope=t.scope;var n=[],r=sn.internal.getWidth(t)<=sn.internal.getHeight(t)?sn.internal.getWidth(t)/4:sn.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var s=Number((2*r).toFixed(5)),a=Number((s*sn.internal.Bezier_C).toFixed(5)),o=Number((r*sn.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+zm(sn.internal.getWidth(t)/2)+" "+zm(sn.internal.getHeight(t)/2)+" cm"),n.push(s+" 0 m"),n.push(s+" "+a+" "+a+" "+s+" 0 "+s+" c"),n.push("-"+a+" "+s+" -"+s+" "+a+" -"+s+" 0 c"),n.push("-"+s+" -"+a+" -"+a+" -"+s+" 0 -"+s+" c"),n.push(a+" -"+s+" "+s+" -"+a+" "+s+" 0 c"),n.push("f"),n.push("Q"),n.push("0 g"),n.push("q"),n.push("1 0 0 1 "+zm(sn.internal.getWidth(t)/2)+" "+zm(sn.internal.getHeight(t)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+o+" "+o+" "+r+" 0 "+r+" c"),n.push("-"+o+" "+r+" -"+r+" "+o+" -"+r+" 0 c"),n.push("-"+r+" -"+o+" -"+o+" -"+r+" 0 -"+r+" c"),n.push(o+" -"+r+" "+r+" -"+o+" "+r+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e},OffPushDown:function(t){var e=Jh(t);e.scope=t.scope;var n=[],r=sn.internal.getWidth(t)<=sn.internal.getHeight(t)?sn.internal.getWidth(t)/4:sn.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var s=Number((2*r).toFixed(5)),a=Number((s*sn.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+zm(sn.internal.getWidth(t)/2)+" "+zm(sn.internal.getHeight(t)/2)+" cm"),n.push(s+" 0 m"),n.push(s+" "+a+" "+a+" "+s+" 0 "+s+" c"),n.push("-"+a+" "+s+" -"+s+" "+a+" -"+s+" 0 c"),n.push("-"+s+" -"+a+" -"+a+" -"+s+" 0 -"+s+" c"),n.push(a+" -"+s+" "+s+" -"+a+" "+s+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e}},Cross:{createAppearanceStream:function(t){var e={D:{Off:sn.RadioButton.Cross.OffPushDown},N:{}};return e.N[t]=sn.RadioButton.Cross.YesNormal,e.D[t]=sn.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(t){var e=Jh(t);e.scope=t.scope;var n=[],r=sn.internal.calculateCross(t);return n.push("q"),n.push("1 1 "+$n(sn.internal.getWidth(t)-2)+" "+$n(sn.internal.getHeight(t)-2)+" re"),n.push("W"),n.push("n"),n.push($n(r.x1.x)+" "+$n(r.x1.y)+" m"),n.push($n(r.x2.x)+" "+$n(r.x2.y)+" l"),n.push($n(r.x4.x)+" "+$n(r.x4.y)+" m"),n.push($n(r.x3.x)+" "+$n(r.x3.y)+" l"),n.push("s"),n.push("Q"),e.stream=n.join(`
`),e},YesPushDown:function(t){var e=Jh(t);e.scope=t.scope;var n=sn.internal.calculateCross(t),r=[];return r.push("0.749023 g"),r.push("0 0 "+$n(sn.internal.getWidth(t))+" "+$n(sn.internal.getHeight(t))+" re"),r.push("f"),r.push("q"),r.push("1 1 "+$n(sn.internal.getWidth(t)-2)+" "+$n(sn.internal.getHeight(t)-2)+" re"),r.push("W"),r.push("n"),r.push($n(n.x1.x)+" "+$n(n.x1.y)+" m"),r.push($n(n.x2.x)+" "+$n(n.x2.y)+" l"),r.push($n(n.x4.x)+" "+$n(n.x4.y)+" m"),r.push($n(n.x3.x)+" "+$n(n.x3.y)+" l"),r.push("s"),r.push("Q"),e.stream=r.join(`
`),e},OffPushDown:function(t){var e=Jh(t);e.scope=t.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+$n(sn.internal.getWidth(t))+" "+$n(sn.internal.getHeight(t))+" re"),n.push("f"),e.stream=n.join(`
`),e}}},createDefaultAppearanceStream:function(t){var e=t.scope.internal.getFont(t.fontName,t.fontStyle).id,n=t.scope.__private__.encodeColorString(t.color);return"/"+e+" "+t.fontSize+" Tf "+n}};sn.internal={Bezier_C:.551915024494,calculateCross:function(t){var e=sn.internal.getWidth(t),n=sn.internal.getHeight(t),r=Math.min(e,n);return{x1:{x:(e-r)/2,y:(n-r)/2+r},x2:{x:(e-r)/2+r,y:(n-r)/2},x3:{x:(e-r)/2,y:(n-r)/2},x4:{x:(e-r)/2+r,y:(n-r)/2+r}}}},sn.internal.getWidth=function(t){var e=0;return ri(t)==="object"&&(e=Wae(t.Rect[2])),e},sn.internal.getHeight=function(t){var e=0;return ri(t)==="object"&&(e=Wae(t.Rect[3])),e};var frt=ys.addField=function(t){if(hrt(this,t),!(t instanceof yh))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=t).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),t.page=t.scope.internal.getCurrentPageInfo().pageNumber,this};ys.AcroFormChoiceField=E1,ys.AcroFormListBox=B1,ys.AcroFormComboBox=D1,ys.AcroFormEditBox=pD,ys.AcroFormButton=Ra,ys.AcroFormPushButton=mD,ys.AcroFormRadioButton=T1,ys.AcroFormCheckBox=gD,ys.AcroFormTextField=J0,ys.AcroFormPasswordField=xD,ys.AcroFormAppearance=sn,ys.AcroForm={ChoiceField:E1,ListBox:B1,ComboBox:D1,EditBox:pD,Button:Ra,PushButton:mD,RadioButton:T1,CheckBox:gD,TextField:J0,PasswordField:xD,Appearance:sn},_n.AcroForm={ChoiceField:E1,ListBox:B1,ComboBox:D1,EditBox:pD,Button:Ra,PushButton:mD,RadioButton:T1,CheckBox:gD,TextField:J0,PasswordField:xD,Appearance:sn};_n.AcroForm;function c1e(t){return t.reduce(function(e,n,r){return e[n]=r,e},{})}(function(t){t.__addimage__={};var e="UNKNOWN",n={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},r=t.__addimage__.getImageFileTypeByImageData=function(I,F){var M,S,q,U,L,z=e;if((F=F||e)==="RGBA"||I.data!==void 0&&I.data instanceof Uint8ClampedArray&&"height"in I&&"width"in I)return"RGBA";if(_(I))for(L in n)for(q=n[L],M=0;M<q.length;M+=1){for(U=!0,S=0;S<q[M].length;S+=1)if(q[M][S]!==void 0&&q[M][S]!==I[S]){U=!1;break}if(U===!0){z=L;break}}else for(L in n)for(q=n[L],M=0;M<q.length;M+=1){for(U=!0,S=0;S<q[M].length;S+=1)if(q[M][S]!==void 0&&q[M][S]!==I.charCodeAt(S)){U=!1;break}if(U===!0){z=L;break}}return z===e&&F!==e&&(z=F),z},s=function I(F){for(var M=this.internal.write,S=this.internal.putStream,q=(0,this.internal.getFilters)();q.indexOf("FlateEncode")!==-1;)q.splice(q.indexOf("FlateEncode"),1);F.objectId=this.internal.newObject();var U=[];if(U.push({key:"Type",value:"/XObject"}),U.push({key:"Subtype",value:"/Image"}),U.push({key:"Width",value:F.width}),U.push({key:"Height",value:F.height}),F.colorSpace===m.INDEXED?U.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(F.palette.length/3-1)+" "+("sMask"in F&&F.sMask!==void 0?F.objectId+2:F.objectId+1)+" 0 R]"}):(U.push({key:"ColorSpace",value:"/"+F.colorSpace}),F.colorSpace===m.DEVICE_CMYK&&U.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),U.push({key:"BitsPerComponent",value:F.bitsPerComponent}),"decodeParameters"in F&&F.decodeParameters!==void 0&&U.push({key:"DecodeParms",value:"<<"+F.decodeParameters+">>"}),"transparency"in F&&Array.isArray(F.transparency)){for(var L="",z=0,$=F.transparency.length;z<$;z++)L+=F.transparency[z]+" "+F.transparency[z]+" ";U.push({key:"Mask",value:"["+L+"]"})}F.sMask!==void 0&&U.push({key:"SMask",value:F.objectId+1+" 0 R"});var K=F.filter!==void 0?["/"+F.filter]:void 0;if(S({data:F.data,additionalKeyValues:U,alreadyAppliedFilters:K,objectId:F.objectId}),M("endobj"),"sMask"in F&&F.sMask!==void 0){var V="/Predictor "+F.predictor+" /Colors 1 /BitsPerComponent "+F.bitsPerComponent+" /Columns "+F.width,H={width:F.width,height:F.height,colorSpace:"DeviceGray",bitsPerComponent:F.bitsPerComponent,decodeParameters:V,data:F.sMask};"filter"in F&&(H.filter=F.filter),I.call(this,H)}if(F.colorSpace===m.INDEXED){var W=this.internal.newObject();S({data:k(new Uint8Array(F.palette)),objectId:W}),M("endobj")}},a=function(){var I=this.internal.collections.addImage_images;for(var F in I)s.call(this,I[F])},o=function(){var I,F=this.internal.collections.addImage_images,M=this.internal.write;for(var S in F)M("/I"+(I=F[S]).index,I.objectId,"0","R")},l=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",a),this.internal.events.subscribe("putXobjectDict",o))},c=function(){var I=this.internal.collections.addImage_images;return l.call(this),I},u=function(){return Object.keys(this.internal.collections.addImage_images).length},d=function(I){return typeof t["process"+I.toUpperCase()]=="function"},h=function(I){return ri(I)==="object"&&I.nodeType===1},f=function(I,F){if(I.nodeName==="IMG"&&I.hasAttribute("src")){var M=""+I.getAttribute("src");if(M.indexOf("data:image/")===0)return f_(unescape(M).split("base64,").pop());var S=t.loadFile(M,!0);if(S!==void 0)return S}if(I.nodeName==="CANVAS"){if(I.width===0||I.height===0)throw new Error("Given canvas must have data. Canvas width: "+I.width+", height: "+I.height);var q;switch(F){case"PNG":q="image/png";break;case"WEBP":q="image/webp";break;case"JPEG":case"JPG":default:q="image/jpeg"}return f_(I.toDataURL(q,1).split("base64,").pop())}},A=function(I){var F=this.internal.collections.addImage_images;if(F){for(var M in F)if(I===F[M].alias)return F[M]}},v=function(I,F,M){return I||F||(I=-96,F=-96),I<0&&(I=-1*M.width*72/I/this.internal.scaleFactor),F<0&&(F=-1*M.height*72/F/this.internal.scaleFactor),I===0&&(I=F*M.width/M.height),F===0&&(F=I*M.height/M.width),[I,F]},p=function(I,F,M,S,q,U){var L=v.call(this,M,S,q),z=this.internal.getCoordinateString,$=this.internal.getVerticalCoordinateString,K=c.call(this);if(M=L[0],S=L[1],K[q.index]=q,U){U*=Math.PI/180;var V=Math.cos(U),H=Math.sin(U),W=function(ee){return ee.toFixed(4)},Y=[W(V),W(H),W(-1*H),W(V),0,0,"cm"]}this.internal.write("q"),U?(this.internal.write([1,"0","0",1,z(I),$(F+S),"cm"].join(" ")),this.internal.write(Y.join(" ")),this.internal.write([z(M),"0","0",z(S),"0","0","cm"].join(" "))):this.internal.write([z(M),"0","0",z(S),z(I),$(F+S),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+q.index+" Do"),this.internal.write("Q")},m=t.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};t.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var g=t.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},x=t.__addimage__.sHashCode=function(I){var F,M,S=0;if(typeof I=="string")for(M=I.length,F=0;F<M;F++)S=(S<<5)-S+I.charCodeAt(F),S|=0;else if(_(I))for(M=I.byteLength/2,F=0;F<M;F++)S=(S<<5)-S+I[F],S|=0;return S},b=t.__addimage__.validateStringAsBase64=function(I){(I=I||"").toString().trim();var F=!0;return I.length===0&&(F=!1),I.length%4!=0&&(F=!1),/^[A-Za-z0-9+/]+$/.test(I.substr(0,I.length-2))===!1&&(F=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(I.substr(-2))===!1&&(F=!1),F},j=t.__addimage__.extractImageFromDataUrl=function(I){if(I==null||!(I=I.trim()).startsWith("data:"))return null;var F=I.indexOf(",");return F<0?null:I.substring(0,F).trim().endsWith("base64")?I.substring(F+1):null},N=t.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};t.__addimage__.isArrayBuffer=function(I){return N()&&I instanceof ArrayBuffer};var _=t.__addimage__.isArrayBufferView=function(I){return N()&&typeof Uint32Array<"u"&&(I instanceof Int8Array||I instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&I instanceof Uint8ClampedArray||I instanceof Int16Array||I instanceof Uint16Array||I instanceof Int32Array||I instanceof Uint32Array||I instanceof Float32Array||I instanceof Float64Array)},C=t.__addimage__.binaryStringToUint8Array=function(I){for(var F=I.length,M=new Uint8Array(F),S=0;S<F;S++)M[S]=I.charCodeAt(S);return M},k=t.__addimage__.arrayBufferToBinaryString=function(I){for(var F="",M=_(I)?I:new Uint8Array(I),S=0;S<M.length;S+=8192)F+=String.fromCharCode.apply(null,M.subarray(S,S+8192));return F};t.addImage=function(){var I,F,M,S,q,U,L,z,$;if(typeof arguments[1]=="number"?(F=e,M=arguments[1],S=arguments[2],q=arguments[3],U=arguments[4],L=arguments[5],z=arguments[6],$=arguments[7]):(F=arguments[1],M=arguments[2],S=arguments[3],q=arguments[4],U=arguments[5],L=arguments[6],z=arguments[7],$=arguments[8]),ri(I=arguments[0])==="object"&&!h(I)&&"imageData"in I){var K=I;I=K.imageData,F=K.format||F||e,M=K.x||M||0,S=K.y||S||0,q=K.w||K.width||q,U=K.h||K.height||U,L=K.alias||L,z=K.compression||z,$=K.rotation||K.angle||$}var V=this.internal.getFilters();if(z===void 0&&V.indexOf("FlateEncode")!==-1&&(z="SLOW"),isNaN(M)||isNaN(S))throw new Error("Invalid coordinates passed to jsPDF.addImage");l.call(this);var H=T.call(this,I,F,L,z);return p.call(this,M,S,q,U,H,$),this};var T=function(I,F,M,S){var q,U,L;if(typeof I=="string"&&r(I)===e){I=unescape(I);var z=O(I,!1);(z!==""||(z=t.loadFile(I,!0))!==void 0)&&(I=z)}if(h(I)&&(I=f(I,F)),F=r(I,F),!d(F))throw new Error("addImage does not support files of type '"+F+"', please ensure that a plugin for '"+F+"' support is added.");if(((L=M)==null||L.length===0)&&(M=function($){return typeof $=="string"||_($)?x($):_($.data)?x($.data):null}(I)),(q=A.call(this,M))||(N()&&(I instanceof Uint8Array||F==="RGBA"||(U=I,I=C(I))),q=this["process"+F.toUpperCase()](I,u.call(this),M,function($){return $&&typeof $=="string"&&($=$.toUpperCase()),$ in t.image_compression?$:g.NONE}(S),U)),!q)throw new Error("An unknown error occurred whilst processing the image.");return q},O=t.__addimage__.convertBase64ToBinaryString=function(I,F){F=typeof F!="boolean"||F;var M,S="";if(typeof I=="string"){var q;M=(q=j(I))!==null&&q!==void 0?q:I;try{S=f_(M)}catch(U){if(F)throw b(M)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+U.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return S};t.getImageProperties=function(I){var F,M,S="";if(h(I)&&(I=f(I)),typeof I=="string"&&r(I)===e&&((S=O(I,!1))===""&&(S=t.loadFile(I)||""),I=S),M=r(I),!d(M))throw new Error("addImage does not support files of type '"+M+"', please ensure that a plugin for '"+M+"' support is added.");if(!N()||I instanceof Uint8Array||(I=C(I)),!(F=this["process"+M.toUpperCase()](I)))throw new Error("An unknown error occurred whilst processing the image");return F.fileType=M,F}})(_n.API),function(t){var e=function(n){if(n!==void 0&&n!="")return!0};_n.API.events.push(["addPage",function(n){this.internal.getPageInfo(n.pageNumber).pageContext.annotations=[]}]),t.events.push(["putPage",function(n){for(var r,s,a,o=this.internal.getCoordinateString,l=this.internal.getVerticalCoordinateString,c=this.internal.getPageInfoByObjId(n.objId),u=n.pageContext.annotations,d=!1,h=0;h<u.length&&!d;h++)switch((r=u[h]).type){case"link":(e(r.options.url)||e(r.options.pageNumber))&&(d=!0);break;case"reference":case"text":case"freetext":d=!0}if(d!=0){this.internal.write("/Annots [");for(var f=0;f<u.length;f++){r=u[f];var A=this.internal.pdfEscape,v=this.internal.getEncryptor(n.objId);switch(r.type){case"reference":this.internal.write(" "+r.object.objId+" 0 R ");break;case"text":var p=this.internal.newAdditionalObject(),m=this.internal.newAdditionalObject(),g=this.internal.getEncryptor(p.objId),x=r.title||"Note";a="<</Type /Annot /Subtype /Text "+(s="/Rect ["+o(r.bounds.x)+" "+l(r.bounds.y+r.bounds.h)+" "+o(r.bounds.x+r.bounds.w)+" "+l(r.bounds.y)+"] ")+"/Contents ("+A(g(r.contents))+")",a+=" /Popup "+m.objId+" 0 R",a+=" /P "+c.objId+" 0 R",a+=" /T ("+A(g(x))+") >>",p.content=a;var b=p.objId+" 0 R";a="<</Type /Annot /Subtype /Popup "+(s="/Rect ["+o(r.bounds.x+30)+" "+l(r.bounds.y+r.bounds.h)+" "+o(r.bounds.x+r.bounds.w+30)+" "+l(r.bounds.y)+"] ")+" /Parent "+b,r.open&&(a+=" /Open true"),a+=" >>",m.content=a,this.internal.write(p.objId,"0 R",m.objId,"0 R");break;case"freetext":s="/Rect ["+o(r.bounds.x)+" "+l(r.bounds.y)+" "+o(r.bounds.x+r.bounds.w)+" "+l(r.bounds.y+r.bounds.h)+"] ";var j=r.color||"#000000";a="<</Type /Annot /Subtype /FreeText "+s+"/Contents ("+A(v(r.contents))+")",a+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+j+")",a+=" /Border [0 0 0]",a+=" >>",this.internal.write(a);break;case"link":if(r.options.name){var N=this.annotations._nameMap[r.options.name];r.options.pageNumber=N.page,r.options.top=N.y}else r.options.top||(r.options.top=0);if(s="/Rect ["+r.finalBounds.x+" "+r.finalBounds.y+" "+r.finalBounds.w+" "+r.finalBounds.h+"] ",a="",r.options.url)a="<</Type /Annot /Subtype /Link "+s+"/Border [0 0 0] /A <</S /URI /URI ("+A(v(r.options.url))+") >>";else if(r.options.pageNumber)switch(a="<</Type /Annot /Subtype /Link "+s+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(r.options.pageNumber).objId+" 0 R",r.options.magFactor=r.options.magFactor||"XYZ",r.options.magFactor){case"Fit":a+=" /Fit]";break;case"FitH":a+=" /FitH "+r.options.top+"]";break;case"FitV":r.options.left=r.options.left||0,a+=" /FitV "+r.options.left+"]";break;case"XYZ":default:var _=l(r.options.top);r.options.left=r.options.left||0,r.options.zoom===void 0&&(r.options.zoom=0),a+=" /XYZ "+r.options.left+" "+_+" "+r.options.zoom+"]"}a!=""&&(a+=" >>",this.internal.write(a))}}this.internal.write("]")}}]),t.createAnnotation=function(n){var r=this.internal.getCurrentPageInfo();switch(n.type){case"link":this.link(n.bounds.x,n.bounds.y,n.bounds.w,n.bounds.h,n);break;case"text":case"freetext":r.pageContext.annotations.push(n)}},t.link=function(n,r,s,a,o){var l=this.internal.getCurrentPageInfo(),c=this.internal.getCoordinateString,u=this.internal.getVerticalCoordinateString;l.pageContext.annotations.push({finalBounds:{x:c(n),y:u(r),w:c(n+s),h:u(r+a)},options:o,type:"link"})},t.textWithLink=function(n,r,s,a){var o,l,c=this.getTextWidth(n),u=this.internal.getLineHeight()/this.internal.scaleFactor;if(a.maxWidth!==void 0){l=a.maxWidth;var d=this.splitTextToSize(n,l).length;o=Math.ceil(u*d)}else l=c,o=u;return this.text(n,r,s,a),s+=.2*u,a.align==="center"&&(r-=c/2),a.align==="right"&&(r-=c),this.link(r,s-u,l,o,a),c},t.getTextWidth=function(n){var r=this.internal.getFontSize();return this.getStringUnitWidth(n)*r/this.internal.scaleFactor}}(_n.API),function(t){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},n={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},r={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},s=[1570,1571,1573,1575];t.__arabicParser__={};var a=t.__arabicParser__.isInArabicSubstitutionA=function(p){return e[p.charCodeAt(0)]!==void 0},o=t.__arabicParser__.isArabicLetter=function(p){return typeof p=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(p)},l=t.__arabicParser__.isArabicEndLetter=function(p){return o(p)&&a(p)&&e[p.charCodeAt(0)].length<=2},c=t.__arabicParser__.isArabicAlfLetter=function(p){return o(p)&&s.indexOf(p.charCodeAt(0))>=0};t.__arabicParser__.arabicLetterHasIsolatedForm=function(p){return o(p)&&a(p)&&e[p.charCodeAt(0)].length>=1};var u=t.__arabicParser__.arabicLetterHasFinalForm=function(p){return o(p)&&a(p)&&e[p.charCodeAt(0)].length>=2};t.__arabicParser__.arabicLetterHasInitialForm=function(p){return o(p)&&a(p)&&e[p.charCodeAt(0)].length>=3};var d=t.__arabicParser__.arabicLetterHasMedialForm=function(p){return o(p)&&a(p)&&e[p.charCodeAt(0)].length==4},h=t.__arabicParser__.resolveLigatures=function(p){var m=0,g=n,x="",b=0;for(m=0;m<p.length;m+=1)g[p.charCodeAt(m)]!==void 0?(b++,typeof(g=g[p.charCodeAt(m)])=="number"&&(x+=String.fromCharCode(g),g=n,b=0),m===p.length-1&&(g=n,x+=p.charAt(m-(b-1)),m-=b-1,b=0)):(g=n,x+=p.charAt(m-b),m-=b,b=0);return x};t.__arabicParser__.isArabicDiacritic=function(p){return p!==void 0&&r[p.charCodeAt(0)]!==void 0};var f=t.__arabicParser__.getCorrectForm=function(p,m,g){return o(p)?a(p)===!1?-1:!u(p)||!o(m)&&!o(g)||!o(g)&&l(m)||l(p)&&!o(m)||l(p)&&c(m)||l(p)&&l(m)?0:d(p)&&o(m)&&!l(m)&&o(g)&&u(g)?3:l(p)||!o(g)?1:2:-1},A=function(p){var m=0,g=0,x=0,b="",j="",N="",_=(p=p||"").split("\\s+"),C=[];for(m=0;m<_.length;m+=1){for(C.push(""),g=0;g<_[m].length;g+=1)b=_[m][g],j=_[m][g-1],N=_[m][g+1],o(b)?(x=f(b,j,N),C[m]+=x!==-1?String.fromCharCode(e[b.charCodeAt(0)][x]):b):C[m]+=b;C[m]=h(C[m])}return C.join(" ")},v=t.__arabicParser__.processArabic=t.processArabic=function(){var p,m=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,g=[];if(Array.isArray(m)){var x=0;for(g=[],x=0;x<m.length;x+=1)Array.isArray(m[x])?g.push([A(m[x][0]),m[x][1],m[x][2]]):g.push([A(m[x])]);p=g}else p=A(m);return typeof arguments[0]=="string"?p:(arguments[0].text=p,arguments[0])};t.events.push(["preProcessText",v])}(_n.API),_n.API.autoPrint=function(t){var e;switch((t=t||{}).variant=t.variant||"non-conform",t.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})}return this},function(t){var e=function(){var n=void 0;Object.defineProperty(this,"pdf",{get:function(){return n},set:function(l){n=l}});var r=150;Object.defineProperty(this,"width",{get:function(){return r},set:function(l){r=isNaN(l)||Number.isInteger(l)===!1||l<0?150:l,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=r+1)}});var s=300;Object.defineProperty(this,"height",{get:function(){return s},set:function(l){s=isNaN(l)||Number.isInteger(l)===!1||l<0?300:l,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=s+1)}});var a=[];Object.defineProperty(this,"childNodes",{get:function(){return a},set:function(l){a=l}});var o={};Object.defineProperty(this,"style",{get:function(){return o},set:function(l){o=l}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(n,r){var s;if((n=n||"2d")!=="2d")return null;for(s in r)this.pdf.context2d.hasOwnProperty(s)&&(this.pdf.context2d[s]=r[s]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},t.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])}(_n.API),function(t){var e={left:0,top:0,bottom:0,right:0},n=!1,r=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),s.call(this))},s=function(){this.internal.__cell__.lastCell=new a,this.internal.__cell__.pages=1},a=function(){var c=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return c},set:function(p){c=p}});var u=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return u},set:function(p){u=p}});var d=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return d},set:function(p){d=p}});var h=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return h},set:function(p){h=p}});var f=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return f},set:function(p){f=p}});var A=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return A},set:function(p){A=p}});var v=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return v},set:function(p){v=p}}),this};a.prototype.clone=function(){return new a(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},a.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},t.setHeaderFunction=function(c){return r.call(this),this.internal.__cell__.headerFunction=typeof c=="function"?c:void 0,this},t.getTextDimensions=function(c,u){r.call(this);var d=(u=u||{}).fontSize||this.getFontSize(),h=u.font||this.getFont(),f=u.scaleFactor||this.internal.scaleFactor,A=0,v=0,p=0,m=this;if(!Array.isArray(c)&&typeof c!="string"){if(typeof c!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");c=String(c)}var g=u.maxWidth;g>0?typeof c=="string"?c=this.splitTextToSize(c,g):Object.prototype.toString.call(c)==="[object Array]"&&(c=c.reduce(function(b,j){return b.concat(m.splitTextToSize(j,g))},[])):c=Array.isArray(c)?c:[c];for(var x=0;x<c.length;x++)A<(p=this.getStringUnitWidth(c[x],{font:h})*d)&&(A=p);return A!==0&&(v=c.length),{w:A/=f,h:Math.max((v*d*this.getLineHeightFactor()-d*(this.getLineHeightFactor()-1))/f,0)}},t.cellAddPage=function(){r.call(this),this.addPage();var c=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new a(c.left,c.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var o=t.cell=function(){var c;c=arguments[0]instanceof a?arguments[0]:new a(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),r.call(this);var u=this.internal.__cell__.lastCell,d=this.internal.__cell__.padding,h=this.internal.__cell__.margins||e,f=this.internal.__cell__.tableHeaderRow,A=this.internal.__cell__.printHeaders;return u.lineNumber!==void 0&&(u.lineNumber===c.lineNumber?(c.x=(u.x||0)+(u.width||0),c.y=u.y||0):u.y+u.height+c.height+h.bottom>this.getPageHeight()?(this.cellAddPage(),c.y=h.top,A&&f&&(this.printHeaderRow(c.lineNumber,!0),c.y+=f[0].height)):c.y=u.y+u.height||c.y),c.text[0]!==void 0&&(this.rect(c.x,c.y,c.width,c.height,n===!0?"FD":void 0),c.align==="right"?this.text(c.text,c.x+c.width-d,c.y+d,{align:"right",baseline:"top"}):c.align==="center"?this.text(c.text,c.x+c.width/2,c.y+d,{align:"center",baseline:"top",maxWidth:c.width-d-d}):this.text(c.text,c.x+d,c.y+d,{align:"left",baseline:"top",maxWidth:c.width-d-d})),this.internal.__cell__.lastCell=c,this};t.table=function(c,u,d,h,f){if(r.call(this),!d)throw new Error("No data for PDF table.");var A,v,p,m,g=[],x=[],b=[],j={},N={},_=[],C=[],k=(f=f||{}).autoSize||!1,T=f.printHeaders!==!1,O=f.css&&f.css["font-size"]!==void 0?16*f.css["font-size"]:f.fontSize||12,I=f.margins||Object.assign({width:this.getPageWidth()},e),F=typeof f.padding=="number"?f.padding:3,M=f.headerBackgroundColor||"#c8c8c8",S=f.headerTextColor||"#000";if(s.call(this),this.internal.__cell__.printHeaders=T,this.internal.__cell__.margins=I,this.internal.__cell__.table_font_size=O,this.internal.__cell__.padding=F,this.internal.__cell__.headerBackgroundColor=M,this.internal.__cell__.headerTextColor=S,this.setFontSize(O),h==null)x=g=Object.keys(d[0]),b=g.map(function(){return"left"});else if(Array.isArray(h)&&ri(h[0])==="object")for(g=h.map(function(K){return K.name}),x=h.map(function(K){return K.prompt||K.name||""}),b=h.map(function(K){return K.align||"left"}),A=0;A<h.length;A+=1)N[h[A].name]=h[A].width*(19.049976/25.4);else Array.isArray(h)&&typeof h[0]=="string"&&(x=g=h,b=g.map(function(){return"left"}));if(k||Array.isArray(h)&&typeof h[0]=="string")for(A=0;A<g.length;A+=1){for(j[m=g[A]]=d.map(function(K){return K[m]}),this.setFont(void 0,"bold"),_.push(this.getTextDimensions(x[A],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),v=j[m],this.setFont(void 0,"normal"),p=0;p<v.length;p+=1)_.push(this.getTextDimensions(v[p],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);N[m]=Math.max.apply(null,_)+F+F,_=[]}if(T){var q={};for(A=0;A<g.length;A+=1)q[g[A]]={},q[g[A]].text=x[A],q[g[A]].align=b[A];var U=l.call(this,q,N);C=g.map(function(K){return new a(c,u,N[K],U,q[K].text,void 0,q[K].align)}),this.setTableHeaderRow(C),this.printHeaderRow(1,!1)}var L=h.reduce(function(K,V){return K[V.name]=V.align,K},{});for(A=0;A<d.length;A+=1){"rowStart"in f&&f.rowStart instanceof Function&&f.rowStart({row:A,data:d[A]},this);var z=l.call(this,d[A],N);for(p=0;p<g.length;p+=1){var $=d[A][g[p]];"cellStart"in f&&f.cellStart instanceof Function&&f.cellStart({row:A,col:p,data:$},this),o.call(this,new a(c,u,N[g[p]],z,$,A+2,L[g[p]]))}}return this.internal.__cell__.table_x=c,this.internal.__cell__.table_y=u,this};var l=function(c,u){var d=this.internal.__cell__.padding,h=this.internal.__cell__.table_font_size,f=this.internal.scaleFactor;return Object.keys(c).map(function(A){var v=c[A];return this.splitTextToSize(v.hasOwnProperty("text")?v.text:v,u[A]-d-d)},this).map(function(A){return this.getLineHeightFactor()*A.length*h/f+d+d},this).reduce(function(A,v){return Math.max(A,v)},0)};t.setTableHeaderRow=function(c){r.call(this),this.internal.__cell__.tableHeaderRow=c},t.printHeaderRow=function(c,u){if(r.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var d;if(n=!0,typeof this.internal.__cell__.headerFunction=="function"){var h=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new a(h[0],h[1],h[2],h[3],void 0,-1)}this.setFont(void 0,"bold");for(var f=[],A=0;A<this.internal.__cell__.tableHeaderRow.length;A+=1){d=this.internal.__cell__.tableHeaderRow[A].clone(),u&&(d.y=this.internal.__cell__.margins.top||0,f.push(d)),d.lineNumber=c;var v=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),o.call(this,d),this.setTextColor(v)}f.length>0&&this.setTableHeaderRow(f),this.setFont(void 0,"normal"),n=!1}}(_n.API);var u1e={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},d1e=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],oH=c1e(d1e),h1e=[100,200,300,400,500,600,700,800,900],Art=c1e(h1e);function lH(t){var e=t.family.replace(/"|'/g,"").toLowerCase(),n=function(a){return u1e[a=a||"normal"]?a:"normal"}(t.style),r=function(a){if(!a)return 400;if(typeof a=="number")return a>=100&&a<=900&&a%100==0?a:400;if(/^\d00$/.test(a))return parseInt(a);switch(a){case"bold":return 700;case"normal":default:return 400}}(t.weight),s=function(a){return typeof oH[a=a||"normal"]=="number"?a:"normal"}(t.stretch);return{family:e,style:n,weight:r,stretch:s,src:t.src||[],ref:t.ref||{name:e,style:[s,n,r].join(" ")}}}function qae(t,e,n,r){var s;for(s=n;s>=0&&s<e.length;s+=r)if(t[e[s]])return t[e[s]];for(s=n;s>=0&&s<e.length;s-=r)if(t[e[s]])return t[e[s]]}var prt={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},Vae={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function Kae(t){return[t.stretch,t.style,t.weight,t.family].join(" ")}function mrt(t,e,n){for(var r=(n=n||{}).defaultFontFamily||"times",s=Object.assign({},prt,n.genericFontFamilies||{}),a=null,o=null,l=0;l<e.length;++l)if(s[(a=lH(e[l])).family]&&(a.family=s[a.family]),t.hasOwnProperty(a.family)){o=t[a.family];break}if(!(o=o||t[r]))throw new Error("Could not find a font-family for the rule '"+Kae(a)+"' and default family '"+r+"'.");if(o=function(c,u){if(u[c])return u[c];var d=oH[c],h=d<=oH.normal?-1:1,f=qae(u,d1e,d,h);if(!f)throw new Error("Could not find a matching font-stretch value for "+c);return f}(a.stretch,o),o=function(c,u){if(u[c])return u[c];for(var d=u1e[c],h=0;h<d.length;++h)if(u[d[h]])return u[d[h]];throw new Error("Could not find a matching font-style for "+c)}(a.style,o),!(o=function(c,u){if(u[c])return u[c];if(c===400&&u[500])return u[500];if(c===500&&u[400])return u[400];var d=Art[c],h=qae(u,h1e,d,c<400?-1:1);if(!h)throw new Error("Could not find a matching font-weight for value "+c);return h}(a.weight,o)))throw new Error("Failed to resolve a font for the rule '"+Kae(a)+"'.");return o}function Gae(t){return t.trimLeft()}function grt(t,e){for(var n=0;n<t.length;){if(t.charAt(n)===e)return[t.substring(0,n),t.substring(n+1)];n+=1}return null}function xrt(t){var e=t.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],t.substring(e[0].length)]}var S4,Xae,Yae,yL=["times"];(function(t){var e,n,r,s,a,o,l,c,u,d=function(H){return H=H||{},this.isStrokeTransparent=H.isStrokeTransparent||!1,this.strokeOpacity=H.strokeOpacity||1,this.strokeStyle=H.strokeStyle||"#000000",this.fillStyle=H.fillStyle||"#000000",this.isFillTransparent=H.isFillTransparent||!1,this.fillOpacity=H.fillOpacity||1,this.font=H.font||"10px sans-serif",this.textBaseline=H.textBaseline||"alphabetic",this.textAlign=H.textAlign||"left",this.lineWidth=H.lineWidth||1,this.lineJoin=H.lineJoin||"miter",this.lineCap=H.lineCap||"butt",this.path=H.path||[],this.transform=H.transform!==void 0?H.transform.clone():new c,this.globalCompositeOperation=H.globalCompositeOperation||"normal",this.globalAlpha=H.globalAlpha||1,this.clip_path=H.clip_path||[],this.currentPoint=H.currentPoint||new o,this.miterLimit=H.miterLimit||10,this.lastPoint=H.lastPoint||new o,this.lineDashOffset=H.lineDashOffset||0,this.lineDash=H.lineDash||[],this.margin=H.margin||[0,0,0,0],this.prevPageLastElemOffset=H.prevPageLastElemOffset||0,this.ignoreClearRect=typeof H.ignoreClearRect!="boolean"||H.ignoreClearRect,this};t.events.push(["initialized",function(){this.context2d=new h(this),e=this.internal.f2,n=this.internal.getCoordinateString,r=this.internal.getVerticalCoordinateString,s=this.internal.getHorizontalCoordinate,a=this.internal.getVerticalCoordinate,o=this.internal.Point,l=this.internal.Rectangle,c=this.internal.Matrix,u=new d}]);var h=function(H){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var W=H;Object.defineProperty(this,"pdf",{get:function(){return W}});var Y=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return Y},set:function(ue){Y=!!ue}});var ee=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return ee},set:function(ue){ee=!!ue}});var ie=0;Object.defineProperty(this,"posX",{get:function(){return ie},set:function(ue){isNaN(ue)||(ie=ue)}});var se=0;Object.defineProperty(this,"posY",{get:function(){return se},set:function(ue){isNaN(ue)||(se=ue)}}),Object.defineProperty(this,"margin",{get:function(){return u.margin},set:function(ue){var re;typeof ue=="number"?re=[ue,ue,ue,ue]:((re=new Array(4))[0]=ue[0],re[1]=ue.length>=2?ue[1]:re[0],re[2]=ue.length>=3?ue[2]:re[0],re[3]=ue.length>=4?ue[3]:re[1]),u.margin=re}});var Ae=!1;Object.defineProperty(this,"autoPaging",{get:function(){return Ae},set:function(ue){Ae=ue}});var he=0;Object.defineProperty(this,"lastBreak",{get:function(){return he},set:function(ue){he=ue}});var Be=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Be},set:function(ue){Be=ue}}),Object.defineProperty(this,"ctx",{get:function(){return u},set:function(ue){ue instanceof d&&(u=ue)}}),Object.defineProperty(this,"path",{get:function(){return u.path},set:function(ue){u.path=ue}});var Me=[];Object.defineProperty(this,"ctxStack",{get:function(){return Me},set:function(ue){Me=ue}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(ue){var re;re=f(ue),this.ctx.fillStyle=re.style,this.ctx.isFillTransparent=re.a===0,this.ctx.fillOpacity=re.a,this.pdf.setFillColor(re.r,re.g,re.b,{a:re.a}),this.pdf.setTextColor(re.r,re.g,re.b,{a:re.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(ue){var re=f(ue);this.ctx.strokeStyle=re.style,this.ctx.isStrokeTransparent=re.a===0,this.ctx.strokeOpacity=re.a,re.a===0?this.pdf.setDrawColor(255,255,255):(re.a,this.pdf.setDrawColor(re.r,re.g,re.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(ue){["butt","round","square"].indexOf(ue)!==-1&&(this.ctx.lineCap=ue,this.pdf.setLineCap(ue))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(ue){isNaN(ue)||(this.ctx.lineWidth=ue,this.pdf.setLineWidth(ue))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(ue){["bevel","round","miter"].indexOf(ue)!==-1&&(this.ctx.lineJoin=ue,this.pdf.setLineJoin(ue))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(ue){isNaN(ue)||(this.ctx.miterLimit=ue,this.pdf.setMiterLimit(ue))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(ue){this.ctx.textBaseline=ue}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(ue){["right","end","center","left","start"].indexOf(ue)!==-1&&(this.ctx.textAlign=ue)}});var Ie=null;function Ye(ue,re){if(Ie===null){var de=function(ce){var Ne=[];return Object.keys(ce).forEach(function($e){ce[$e].forEach(function(ze){var Fe=null;switch(ze){case"bold":Fe={family:$e,weight:"bold"};break;case"italic":Fe={family:$e,style:"italic"};break;case"bolditalic":Fe={family:$e,weight:"bold",style:"italic"};break;case"":case"normal":Fe={family:$e}}Fe!==null&&(Fe.ref={name:$e,style:ze},Ne.push(Fe))})}),Ne}(ue.getFontList());Ie=function(ce){for(var Ne={},$e=0;$e<ce.length;++$e){var ze=lH(ce[$e]),Fe=ze.family,De=ze.stretch,Ce=ze.style,Oe=ze.weight;Ne[Fe]=Ne[Fe]||{},Ne[Fe][De]=Ne[Fe][De]||{},Ne[Fe][De][Ce]=Ne[Fe][De][Ce]||{},Ne[Fe][De][Ce][Oe]=ze}return Ne}(de.concat(re))}return Ie}var X=null;Object.defineProperty(this,"fontFaces",{get:function(){return X},set:function(ue){Ie=null,X=ue}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(ue){var re;if(this.ctx.font=ue,(re=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(ue))!==null){var de=re[1];re[2];var ce=re[3],Ne=re[4];re[5];var $e=re[6],ze=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Ne)[2];Ne=Math.floor(ze==="px"?parseFloat(Ne)*this.pdf.internal.scaleFactor:ze==="em"?parseFloat(Ne)*this.pdf.getFontSize():parseFloat(Ne)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Ne);var Fe=function(Nt){var jt,Ue,ct=[],ht=Nt.trim();if(ht==="")return yL;if(ht in Vae)return[Vae[ht]];for(;ht!=="";){switch(Ue=null,jt=(ht=Gae(ht)).charAt(0)){case'"':case"'":Ue=grt(ht.substring(1),jt);break;default:Ue=xrt(ht)}if(Ue===null||(ct.push(Ue[0]),(ht=Gae(Ue[1]))!==""&&ht.charAt(0)!==","))return yL;ht=ht.replace(/^,/,"")}return ct}($e);if(this.fontFaces){var De=mrt(Ye(this.pdf,this.fontFaces),Fe.map(function(Nt){return{family:Nt,stretch:"normal",weight:ce,style:de}}));this.pdf.setFont(De.ref.name,De.ref.style)}else{var Ce="";(ce==="bold"||parseInt(ce,10)>=700||de==="bold")&&(Ce="bold"),de==="italic"&&(Ce+="italic"),Ce.length===0&&(Ce="normal");for(var Oe="",We={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},ut=0;ut<Fe.length;ut++){if(this.pdf.internal.getFont(Fe[ut],Ce,{noFallback:!0,disableWarning:!0})!==void 0){Oe=Fe[ut];break}if(Ce==="bolditalic"&&this.pdf.internal.getFont(Fe[ut],"bold",{noFallback:!0,disableWarning:!0})!==void 0)Oe=Fe[ut],Ce="bold";else if(this.pdf.internal.getFont(Fe[ut],"normal",{noFallback:!0,disableWarning:!0})!==void 0){Oe=Fe[ut],Ce="normal";break}}if(Oe===""){for(var yt=0;yt<Fe.length;yt++)if(We[Fe[yt]]){Oe=We[Fe[yt]];break}}Oe=Oe===""?"Times":Oe,this.pdf.setFont(Oe,Ce)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(ue){this.ctx.globalCompositeOperation=ue}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(ue){this.ctx.globalAlpha=ue}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(ue){this.ctx.lineDashOffset=ue,V.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(ue){this.ctx.lineDash=ue,V.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(ue){this.ctx.ignoreClearRect=!!ue}})};h.prototype.setLineDash=function(H){this.lineDash=H},h.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},h.prototype.fill=function(){j.call(this,"fill",!1)},h.prototype.stroke=function(){j.call(this,"stroke",!1)},h.prototype.beginPath=function(){this.path=[{type:"begin"}]},h.prototype.moveTo=function(H,W){if(isNaN(H)||isNaN(W))throw Ai.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var Y=this.ctx.transform.applyToPoint(new o(H,W));this.path.push({type:"mt",x:Y.x,y:Y.y}),this.ctx.lastPoint=new o(H,W)},h.prototype.closePath=function(){var H=new o(0,0),W=0;for(W=this.path.length-1;W!==-1;W--)if(this.path[W].type==="begin"&&ri(this.path[W+1])==="object"&&typeof this.path[W+1].x=="number"){H=new o(this.path[W+1].x,this.path[W+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new o(H.x,H.y)},h.prototype.lineTo=function(H,W){if(isNaN(H)||isNaN(W))throw Ai.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var Y=this.ctx.transform.applyToPoint(new o(H,W));this.path.push({type:"lt",x:Y.x,y:Y.y}),this.ctx.lastPoint=new o(Y.x,Y.y)},h.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),j.call(this,null,!0)},h.prototype.quadraticCurveTo=function(H,W,Y,ee){if(isNaN(Y)||isNaN(ee)||isNaN(H)||isNaN(W))throw Ai.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var ie=this.ctx.transform.applyToPoint(new o(Y,ee)),se=this.ctx.transform.applyToPoint(new o(H,W));this.path.push({type:"qct",x1:se.x,y1:se.y,x:ie.x,y:ie.y}),this.ctx.lastPoint=new o(ie.x,ie.y)},h.prototype.bezierCurveTo=function(H,W,Y,ee,ie,se){if(isNaN(ie)||isNaN(se)||isNaN(H)||isNaN(W)||isNaN(Y)||isNaN(ee))throw Ai.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var Ae=this.ctx.transform.applyToPoint(new o(ie,se)),he=this.ctx.transform.applyToPoint(new o(H,W)),Be=this.ctx.transform.applyToPoint(new o(Y,ee));this.path.push({type:"bct",x1:he.x,y1:he.y,x2:Be.x,y2:Be.y,x:Ae.x,y:Ae.y}),this.ctx.lastPoint=new o(Ae.x,Ae.y)},h.prototype.arc=function(H,W,Y,ee,ie,se){if(isNaN(H)||isNaN(W)||isNaN(Y)||isNaN(ee)||isNaN(ie))throw Ai.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(se=!!se,!this.ctx.transform.isIdentity){var Ae=this.ctx.transform.applyToPoint(new o(H,W));H=Ae.x,W=Ae.y;var he=this.ctx.transform.applyToPoint(new o(0,Y)),Be=this.ctx.transform.applyToPoint(new o(0,0));Y=Math.sqrt(Math.pow(he.x-Be.x,2)+Math.pow(he.y-Be.y,2))}Math.abs(ie-ee)>=2*Math.PI&&(ee=0,ie=2*Math.PI),this.path.push({type:"arc",x:H,y:W,radius:Y,startAngle:ee,endAngle:ie,counterclockwise:se})},h.prototype.arcTo=function(H,W,Y,ee,ie){throw new Error("arcTo not implemented.")},h.prototype.rect=function(H,W,Y,ee){if(isNaN(H)||isNaN(W)||isNaN(Y)||isNaN(ee))throw Ai.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(H,W),this.lineTo(H+Y,W),this.lineTo(H+Y,W+ee),this.lineTo(H,W+ee),this.lineTo(H,W),this.lineTo(H+Y,W),this.lineTo(H,W)},h.prototype.fillRect=function(H,W,Y,ee){if(isNaN(H)||isNaN(W)||isNaN(Y)||isNaN(ee))throw Ai.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!A.call(this)){var ie={};this.lineCap!=="butt"&&(ie.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(ie.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(H,W,Y,ee),this.fill(),ie.hasOwnProperty("lineCap")&&(this.lineCap=ie.lineCap),ie.hasOwnProperty("lineJoin")&&(this.lineJoin=ie.lineJoin)}},h.prototype.strokeRect=function(H,W,Y,ee){if(isNaN(H)||isNaN(W)||isNaN(Y)||isNaN(ee))throw Ai.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");v.call(this)||(this.beginPath(),this.rect(H,W,Y,ee),this.stroke())},h.prototype.clearRect=function(H,W,Y,ee){if(isNaN(H)||isNaN(W)||isNaN(Y)||isNaN(ee))throw Ai.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(H,W,Y,ee))},h.prototype.save=function(H){H=typeof H!="boolean"||H;for(var W=this.pdf.internal.getCurrentPageInfo().pageNumber,Y=0;Y<this.pdf.internal.getNumberOfPages();Y++)this.pdf.setPage(Y+1),this.pdf.internal.out("q");if(this.pdf.setPage(W),H){this.ctx.fontSize=this.pdf.internal.getFontSize();var ee=new d(this.ctx);this.ctxStack.push(this.ctx),this.ctx=ee}},h.prototype.restore=function(H){H=typeof H!="boolean"||H;for(var W=this.pdf.internal.getCurrentPageInfo().pageNumber,Y=0;Y<this.pdf.internal.getNumberOfPages();Y++)this.pdf.setPage(Y+1),this.pdf.internal.out("Q");this.pdf.setPage(W),H&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},h.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var f=function(H){var W,Y,ee,ie;if(H.isCanvasGradient===!0&&(H=H.getColor()),!H)return{r:0,g:0,b:0,a:0,style:H};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(H))W=0,Y=0,ee=0,ie=0;else{var se=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(H);if(se!==null)W=parseInt(se[1]),Y=parseInt(se[2]),ee=parseInt(se[3]),ie=1;else if((se=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(H))!==null)W=parseInt(se[1]),Y=parseInt(se[2]),ee=parseInt(se[3]),ie=parseFloat(se[4]);else{if(ie=1,typeof H=="string"&&H.charAt(0)!=="#"){var Ae=new r1e(H);H=Ae.ok?Ae.toHex():"#000000"}H.length===4?(W=H.substring(1,2),W+=W,Y=H.substring(2,3),Y+=Y,ee=H.substring(3,4),ee+=ee):(W=H.substring(1,3),Y=H.substring(3,5),ee=H.substring(5,7)),W=parseInt(W,16),Y=parseInt(Y,16),ee=parseInt(ee,16)}}return{r:W,g:Y,b:ee,a:ie,style:H}},A=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},v=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};h.prototype.fillText=function(H,W,Y,ee){if(isNaN(W)||isNaN(Y)||typeof H!="string")throw Ai.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(ee=isNaN(ee)?void 0:ee,!A.call(this)){var ie=z(this.ctx.transform.rotation),se=this.ctx.transform.scaleX;F.call(this,{text:H,x:W,y:Y,scale:se,angle:ie,align:this.textAlign,maxWidth:ee})}},h.prototype.strokeText=function(H,W,Y,ee){if(isNaN(W)||isNaN(Y)||typeof H!="string")throw Ai.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!v.call(this)){ee=isNaN(ee)?void 0:ee;var ie=z(this.ctx.transform.rotation),se=this.ctx.transform.scaleX;F.call(this,{text:H,x:W,y:Y,scale:se,renderingMode:"stroke",angle:ie,align:this.textAlign,maxWidth:ee})}},h.prototype.measureText=function(H){if(typeof H!="string")throw Ai.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var W=this.pdf,Y=this.pdf.internal.scaleFactor,ee=W.internal.getFontSize(),ie=W.getStringUnitWidth(H)*ee/W.internal.scaleFactor,se=function(Ae){var he=(Ae=Ae||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return he}}),this};return new se({width:ie*=Math.round(96*Y/72*1e4)/1e4})},h.prototype.scale=function(H,W){if(isNaN(H)||isNaN(W))throw Ai.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var Y=new c(H,0,0,W,0,0);this.ctx.transform=this.ctx.transform.multiply(Y)},h.prototype.rotate=function(H){if(isNaN(H))throw Ai.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var W=new c(Math.cos(H),Math.sin(H),-Math.sin(H),Math.cos(H),0,0);this.ctx.transform=this.ctx.transform.multiply(W)},h.prototype.translate=function(H,W){if(isNaN(H)||isNaN(W))throw Ai.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var Y=new c(1,0,0,1,H,W);this.ctx.transform=this.ctx.transform.multiply(Y)},h.prototype.transform=function(H,W,Y,ee,ie,se){if(isNaN(H)||isNaN(W)||isNaN(Y)||isNaN(ee)||isNaN(ie)||isNaN(se))throw Ai.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var Ae=new c(H,W,Y,ee,ie,se);this.ctx.transform=this.ctx.transform.multiply(Ae)},h.prototype.setTransform=function(H,W,Y,ee,ie,se){H=isNaN(H)?1:H,W=isNaN(W)?0:W,Y=isNaN(Y)?0:Y,ee=isNaN(ee)?1:ee,ie=isNaN(ie)?0:ie,se=isNaN(se)?0:se,this.ctx.transform=new c(H,W,Y,ee,ie,se)};var p=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};h.prototype.drawImage=function(H,W,Y,ee,ie,se,Ae,he,Be){var Me=this.pdf.getImageProperties(H),Ie=1,Ye=1,X=1,ue=1;ee!==void 0&&he!==void 0&&(X=he/ee,ue=Be/ie,Ie=Me.width/ee*he/ee,Ye=Me.height/ie*Be/ie),se===void 0&&(se=W,Ae=Y,W=0,Y=0),ee!==void 0&&he===void 0&&(he=ee,Be=ie),ee===void 0&&he===void 0&&(he=Me.width,Be=Me.height);for(var re,de=this.ctx.transform.decompose(),ce=z(de.rotate.shx),Ne=new c,$e=(Ne=(Ne=(Ne=Ne.multiply(de.translate)).multiply(de.skew)).multiply(de.scale)).applyToRectangle(new l(se-W*X,Ae-Y*ue,ee*Ie,ie*Ye)),ze=m.call(this,$e),Fe=[],De=0;De<ze.length;De+=1)Fe.indexOf(ze[De])===-1&&Fe.push(ze[De]);if(b(Fe),this.autoPaging)for(var Ce=Fe[0],Oe=Fe[Fe.length-1],We=Ce;We<Oe+1;We++){this.pdf.setPage(We);var ut=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],yt=We===1?this.posY+this.margin[0]:this.margin[0],Nt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],jt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Ue=We===1?0:Nt+(We-2)*jt;if(this.ctx.clip_path.length!==0){var ct=this.path;re=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=x(re,this.posX+this.margin[3],-Ue+yt+this.ctx.prevPageLastElemOffset),N.call(this,"fill",!0),this.path=ct}var ht=JSON.parse(JSON.stringify($e));ht=x([ht],this.posX+this.margin[3],-Ue+yt+this.ctx.prevPageLastElemOffset)[0];var kt=(We>Ce||We<Oe)&&p.call(this);kt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],ut,jt,null).clip().discardPath()),this.pdf.addImage(H,"JPEG",ht.x,ht.y,ht.w,ht.h,null,null,ce),kt&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(H,"JPEG",$e.x,$e.y,$e.w,$e.h,null,null,ce)};var m=function(H,W,Y){var ee=[];W=W||this.pdf.internal.pageSize.width,Y=Y||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var ie=this.posY+this.ctx.prevPageLastElemOffset;switch(H.type){default:case"mt":case"lt":ee.push(Math.floor((H.y+ie)/Y)+1);break;case"arc":ee.push(Math.floor((H.y+ie-H.radius)/Y)+1),ee.push(Math.floor((H.y+ie+H.radius)/Y)+1);break;case"qct":var se=$(this.ctx.lastPoint.x,this.ctx.lastPoint.y,H.x1,H.y1,H.x,H.y);ee.push(Math.floor((se.y+ie)/Y)+1),ee.push(Math.floor((se.y+se.h+ie)/Y)+1);break;case"bct":var Ae=K(this.ctx.lastPoint.x,this.ctx.lastPoint.y,H.x1,H.y1,H.x2,H.y2,H.x,H.y);ee.push(Math.floor((Ae.y+ie)/Y)+1),ee.push(Math.floor((Ae.y+Ae.h+ie)/Y)+1);break;case"rect":ee.push(Math.floor((H.y+ie)/Y)+1),ee.push(Math.floor((H.y+H.h+ie)/Y)+1)}for(var he=0;he<ee.length;he+=1)for(;this.pdf.internal.getNumberOfPages()<ee[he];)g.call(this);return ee},g=function(){var H=this.fillStyle,W=this.strokeStyle,Y=this.font,ee=this.lineCap,ie=this.lineWidth,se=this.lineJoin;this.pdf.addPage(),this.fillStyle=H,this.strokeStyle=W,this.font=Y,this.lineCap=ee,this.lineWidth=ie,this.lineJoin=se},x=function(H,W,Y){for(var ee=0;ee<H.length;ee++)switch(H[ee].type){case"bct":H[ee].x2+=W,H[ee].y2+=Y;case"qct":H[ee].x1+=W,H[ee].y1+=Y;case"mt":case"lt":case"arc":default:H[ee].x+=W,H[ee].y+=Y}return H},b=function(H){return H.sort(function(W,Y){return W-Y})},j=function(H,W){for(var Y,ee,ie=this.fillStyle,se=this.strokeStyle,Ae=this.lineCap,he=this.lineWidth,Be=Math.abs(he*this.ctx.transform.scaleX),Me=this.lineJoin,Ie=JSON.parse(JSON.stringify(this.path)),Ye=JSON.parse(JSON.stringify(this.path)),X=[],ue=0;ue<Ye.length;ue++)if(Ye[ue].x!==void 0)for(var re=m.call(this,Ye[ue]),de=0;de<re.length;de+=1)X.indexOf(re[de])===-1&&X.push(re[de]);for(var ce=0;ce<X.length;ce++)for(;this.pdf.internal.getNumberOfPages()<X[ce];)g.call(this);if(b(X),this.autoPaging)for(var Ne=X[0],$e=X[X.length-1],ze=Ne;ze<$e+1;ze++){this.pdf.setPage(ze),this.fillStyle=ie,this.strokeStyle=se,this.lineCap=Ae,this.lineWidth=Be,this.lineJoin=Me;var Fe=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],De=ze===1?this.posY+this.margin[0]:this.margin[0],Ce=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Oe=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],We=ze===1?0:Ce+(ze-2)*Oe;if(this.ctx.clip_path.length!==0){var ut=this.path;Y=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=x(Y,this.posX+this.margin[3],-We+De+this.ctx.prevPageLastElemOffset),N.call(this,H,!0),this.path=ut}if(ee=JSON.parse(JSON.stringify(Ie)),this.path=x(ee,this.posX+this.margin[3],-We+De+this.ctx.prevPageLastElemOffset),W===!1||ze===0){var yt=(ze>Ne||ze<$e)&&p.call(this);yt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Fe,Oe,null).clip().discardPath()),N.call(this,H,W),yt&&this.pdf.restoreGraphicsState()}this.lineWidth=he}else this.lineWidth=Be,N.call(this,H,W),this.lineWidth=he;this.path=Ie},N=function(H,W){if((H!=="stroke"||W||!v.call(this))&&(H==="stroke"||W||!A.call(this))){for(var Y,ee,ie=[],se=this.path,Ae=0;Ae<se.length;Ae++){var he=se[Ae];switch(he.type){case"begin":ie.push({begin:!0});break;case"close":ie.push({close:!0});break;case"mt":ie.push({start:he,deltas:[],abs:[]});break;case"lt":var Be=ie.length;if(se[Ae-1]&&!isNaN(se[Ae-1].x)&&(Y=[he.x-se[Ae-1].x,he.y-se[Ae-1].y],Be>0)){for(;Be>=0;Be--)if(ie[Be-1].close!==!0&&ie[Be-1].begin!==!0){ie[Be-1].deltas.push(Y),ie[Be-1].abs.push(he);break}}break;case"bct":Y=[he.x1-se[Ae-1].x,he.y1-se[Ae-1].y,he.x2-se[Ae-1].x,he.y2-se[Ae-1].y,he.x-se[Ae-1].x,he.y-se[Ae-1].y],ie[ie.length-1].deltas.push(Y);break;case"qct":var Me=se[Ae-1].x+2/3*(he.x1-se[Ae-1].x),Ie=se[Ae-1].y+2/3*(he.y1-se[Ae-1].y),Ye=he.x+2/3*(he.x1-he.x),X=he.y+2/3*(he.y1-he.y),ue=he.x,re=he.y;Y=[Me-se[Ae-1].x,Ie-se[Ae-1].y,Ye-se[Ae-1].x,X-se[Ae-1].y,ue-se[Ae-1].x,re-se[Ae-1].y],ie[ie.length-1].deltas.push(Y);break;case"arc":ie.push({deltas:[],abs:[],arc:!0}),Array.isArray(ie[ie.length-1].abs)&&ie[ie.length-1].abs.push(he)}}ee=W?null:H==="stroke"?"stroke":"fill";for(var de=!1,ce=0;ce<ie.length;ce++)if(ie[ce].arc)for(var Ne=ie[ce].abs,$e=0;$e<Ne.length;$e++){var ze=Ne[$e];ze.type==="arc"?k.call(this,ze.x,ze.y,ze.radius,ze.startAngle,ze.endAngle,ze.counterclockwise,void 0,W,!de):M.call(this,ze.x,ze.y),de=!0}else if(ie[ce].close===!0)this.pdf.internal.out("h"),de=!1;else if(ie[ce].begin!==!0){var Fe=ie[ce].start.x,De=ie[ce].start.y;S.call(this,ie[ce].deltas,Fe,De),de=!0}ee&&T.call(this,ee),W&&O.call(this)}},_=function(H){var W=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,Y=W*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return H-Y;case"top":return H+W-Y;case"hanging":return H+W-2*Y;case"middle":return H+W/2-Y;case"ideographic":return H;case"alphabetic":default:return H}},C=function(H){return H+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};h.prototype.createLinearGradient=function(){var H=function(){};return H.colorStops=[],H.addColorStop=function(W,Y){this.colorStops.push([W,Y])},H.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},H.isCanvasGradient=!0,H},h.prototype.createPattern=function(){return this.createLinearGradient()},h.prototype.createRadialGradient=function(){return this.createLinearGradient()};var k=function(H,W,Y,ee,ie,se,Ae,he,Be){for(var Me=U.call(this,Y,ee,ie,se),Ie=0;Ie<Me.length;Ie++){var Ye=Me[Ie];Ie===0&&(Be?I.call(this,Ye.x1+H,Ye.y1+W):M.call(this,Ye.x1+H,Ye.y1+W)),q.call(this,H,W,Ye.x2,Ye.y2,Ye.x3,Ye.y3,Ye.x4,Ye.y4)}he?O.call(this):T.call(this,Ae)},T=function(H){switch(H){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},O=function(){this.pdf.clip(),this.pdf.discardPath()},I=function(H,W){this.pdf.internal.out(n(H)+" "+r(W)+" m")},F=function(H){var W;switch(H.align){case"right":case"end":W="right";break;case"center":W="center";break;case"left":case"start":default:W="left"}var Y=this.pdf.getTextDimensions(H.text),ee=_.call(this,H.y),ie=C.call(this,ee)-Y.h,se=this.ctx.transform.applyToPoint(new o(H.x,ee)),Ae=this.ctx.transform.decompose(),he=new c;he=(he=(he=he.multiply(Ae.translate)).multiply(Ae.skew)).multiply(Ae.scale);for(var Be,Me,Ie,Ye=this.ctx.transform.applyToRectangle(new l(H.x,ee,Y.w,Y.h)),X=he.applyToRectangle(new l(H.x,ie,Y.w,Y.h)),ue=m.call(this,X),re=[],de=0;de<ue.length;de+=1)re.indexOf(ue[de])===-1&&re.push(ue[de]);if(b(re),this.autoPaging)for(var ce=re[0],Ne=re[re.length-1],$e=ce;$e<Ne+1;$e++){this.pdf.setPage($e);var ze=$e===1?this.posY+this.margin[0]:this.margin[0],Fe=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],De=this.pdf.internal.pageSize.height-this.margin[2],Ce=De-this.margin[0],Oe=this.pdf.internal.pageSize.width-this.margin[1],We=Oe-this.margin[3],ut=$e===1?0:Fe+($e-2)*Ce;if(this.ctx.clip_path.length!==0){var yt=this.path;Be=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=x(Be,this.posX+this.margin[3],-1*ut+ze),N.call(this,"fill",!0),this.path=yt}var Nt=x([JSON.parse(JSON.stringify(X))],this.posX+this.margin[3],-ut+ze+this.ctx.prevPageLastElemOffset)[0];H.scale>=.01&&(Me=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Me*H.scale),Ie=this.lineWidth,this.lineWidth=Ie*H.scale);var jt=this.autoPaging!=="text";if(jt||Nt.y+Nt.h<=De){if(jt||Nt.y>=ze&&Nt.x<=Oe){var Ue=jt?H.text:this.pdf.splitTextToSize(H.text,H.maxWidth||Oe-Nt.x)[0],ct=x([JSON.parse(JSON.stringify(Ye))],this.posX+this.margin[3],-ut+ze+this.ctx.prevPageLastElemOffset)[0],ht=jt&&($e>ce||$e<Ne)&&p.call(this);ht&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],We,Ce,null).clip().discardPath()),this.pdf.text(Ue,ct.x,ct.y,{angle:H.angle,align:W,renderingMode:H.renderingMode}),ht&&this.pdf.restoreGraphicsState()}}else Nt.y<De&&(this.ctx.prevPageLastElemOffset+=De-Nt.y);H.scale>=.01&&(this.pdf.setFontSize(Me),this.lineWidth=Ie)}else H.scale>=.01&&(Me=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Me*H.scale),Ie=this.lineWidth,this.lineWidth=Ie*H.scale),this.pdf.text(H.text,se.x+this.posX,se.y+this.posY,{angle:H.angle,align:W,renderingMode:H.renderingMode,maxWidth:H.maxWidth}),H.scale>=.01&&(this.pdf.setFontSize(Me),this.lineWidth=Ie)},M=function(H,W,Y,ee){Y=Y||0,ee=ee||0,this.pdf.internal.out(n(H+Y)+" "+r(W+ee)+" l")},S=function(H,W,Y){return this.pdf.lines(H,W,Y,null,null)},q=function(H,W,Y,ee,ie,se,Ae,he){this.pdf.internal.out([e(s(Y+H)),e(a(ee+W)),e(s(ie+H)),e(a(se+W)),e(s(Ae+H)),e(a(he+W)),"c"].join(" "))},U=function(H,W,Y,ee){for(var ie=2*Math.PI,se=Math.PI/2;W>Y;)W-=ie;var Ae=Math.abs(Y-W);Ae<ie&&ee&&(Ae=ie-Ae);for(var he=[],Be=ee?-1:1,Me=W;Ae>1e-5;){var Ie=Me+Be*Math.min(Ae,se);he.push(L.call(this,H,Me,Ie)),Ae-=Math.abs(Ie-Me),Me=Ie}return he},L=function(H,W,Y){var ee=(Y-W)/2,ie=H*Math.cos(ee),se=H*Math.sin(ee),Ae=ie,he=-se,Be=Ae*Ae+he*he,Me=Be+Ae*ie+he*se,Ie=4/3*(Math.sqrt(2*Be*Me)-Me)/(Ae*se-he*ie),Ye=Ae-Ie*he,X=he+Ie*Ae,ue=Ye,re=-X,de=ee+W,ce=Math.cos(de),Ne=Math.sin(de);return{x1:H*Math.cos(W),y1:H*Math.sin(W),x2:Ye*ce-X*Ne,y2:Ye*Ne+X*ce,x3:ue*ce-re*Ne,y3:ue*Ne+re*ce,x4:H*Math.cos(Y),y4:H*Math.sin(Y)}},z=function(H){return 180*H/Math.PI},$=function(H,W,Y,ee,ie,se){var Ae=H+.5*(Y-H),he=W+.5*(ee-W),Be=ie+.5*(Y-ie),Me=se+.5*(ee-se),Ie=Math.min(H,ie,Ae,Be),Ye=Math.max(H,ie,Ae,Be),X=Math.min(W,se,he,Me),ue=Math.max(W,se,he,Me);return new l(Ie,X,Ye-Ie,ue-X)},K=function(H,W,Y,ee,ie,se,Ae,he){var Be,Me,Ie,Ye,X,ue,re,de,ce,Ne,$e,ze,Fe,De,Ce=Y-H,Oe=ee-W,We=ie-Y,ut=se-ee,yt=Ae-ie,Nt=he-se;for(Me=0;Me<41;Me++)ce=(re=(Ie=H+(Be=Me/40)*Ce)+Be*((X=Y+Be*We)-Ie))+Be*(X+Be*(ie+Be*yt-X)-re),Ne=(de=(Ye=W+Be*Oe)+Be*((ue=ee+Be*ut)-Ye))+Be*(ue+Be*(se+Be*Nt-ue)-de),Me==0?($e=ce,ze=Ne,Fe=ce,De=Ne):($e=Math.min($e,ce),ze=Math.min(ze,Ne),Fe=Math.max(Fe,ce),De=Math.max(De,Ne));return new l(Math.round($e),Math.round(ze),Math.round(Fe-$e),Math.round(De-ze))},V=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var H,W,Y=(H=this.ctx.lineDash,W=this.ctx.lineDashOffset,JSON.stringify({lineDash:H,lineDashOffset:W}));this.prevLineDash!==Y&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=Y)}}})(_n.API),function(t){var e=function(a){var o,l,c,u,d,h,f,A,v,p;for(l=[],c=0,u=(a+=o="\0\0\0\0".slice(a.length%4||4)).length;u>c;c+=4)(d=(a.charCodeAt(c)<<24)+(a.charCodeAt(c+1)<<16)+(a.charCodeAt(c+2)<<8)+a.charCodeAt(c+3))!==0?(h=(d=((d=((d=((d=(d-(p=d%85))/85)-(v=d%85))/85)-(A=d%85))/85)-(f=d%85))/85)%85,l.push(h+33,f+33,A+33,v+33,p+33)):l.push(122);return function(m,g){for(var x=g;x>0;x--)m.pop()}(l,o.length),String.fromCharCode.apply(String,l)+"~>"},n=function(a){var o,l,c,u,d,h=String,f="length",A=255,v="charCodeAt",p="slice",m="replace";for(a[p](-2),a=a[p](0,-2)[m](/\s/g,"")[m]("z","!!!!!"),c=[],u=0,d=(a+=o="uuuuu"[p](a[f]%5||5))[f];d>u;u+=5)l=52200625*(a[v](u)-33)+614125*(a[v](u+1)-33)+7225*(a[v](u+2)-33)+85*(a[v](u+3)-33)+(a[v](u+4)-33),c.push(A&l>>24,A&l>>16,A&l>>8,A&l);return function(g,x){for(var b=x;b>0;b--)g.pop()}(c,o[f]),h.fromCharCode.apply(h,c)},r=function(a){var o=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((a=a.replace(/\s/g,"")).indexOf(">")!==-1&&(a=a.substr(0,a.indexOf(">"))),a.length%2&&(a+="0"),o.test(a)===!1)return"";for(var l="",c=0;c<a.length;c+=2)l+=String.fromCharCode("0x"+(a[c]+a[c+1]));return l},s=function(a){for(var o=new Uint8Array(a.length),l=a.length;l--;)o[l]=a.charCodeAt(l);return a=(o=nH(o)).reduce(function(c,u){return c+String.fromCharCode(u)},"")};t.processDataByFilters=function(a,o){var l=0,c=a||"",u=[];for(typeof(o=o||[])=="string"&&(o=[o]),l=0;l<o.length;l+=1)switch(o[l]){case"ASCII85Decode":case"/ASCII85Decode":c=n(c),u.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":c=e(c),u.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":c=r(c),u.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":c=c.split("").map(function(d){return("0"+d.charCodeAt().toString(16)).slice(-2)}).join("")+">",u.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":c=s(c),u.push("/FlateDecode");break;default:throw new Error('The filter: "'+o[l]+'" is not implemented')}return{data:c,reverseChain:u.reverse().join(" ")}}}(_n.API),function(t){t.loadFile=function(e,n,r){return function(s,a,o){a=a!==!1,o=typeof o=="function"?o:function(){};var l=void 0;try{l=function(c,u,d){var h=new XMLHttpRequest,f=0,A=function(v){var p=v.length,m=[],g=String.fromCharCode;for(f=0;f<p;f+=1)m.push(g(255&v.charCodeAt(f)));return m.join("")};if(h.open("GET",c,!u),h.overrideMimeType("text/plain; charset=x-user-defined"),u===!1&&(h.onload=function(){h.status===200?d(A(this.responseText)):d(void 0)}),h.send(null),u&&h.status===200)return A(h.responseText)}(s,a,o)}catch{}return l}(e,n,r)},t.loadImageFile=t.loadFile}(_n.API),function(t){function e(){return(Bn.html2canvas?Promise.resolve(Bn.html2canvas):c3(()=>Promise.resolve().then(()=>oct),void 0)).catch(function(o){return Promise.reject(new Error("Could not load html2canvas: "+o))}).then(function(o){return o.default?o.default:o})}function n(){return(Bn.DOMPurify?Promise.resolve(Bn.DOMPurify):c3(()=>import("./purify.es-CQJ0hv7W.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load dompurify: "+o))}).then(function(o){return o.default?o.default:o})}var r=function(o){var l=ri(o);return l==="undefined"?"undefined":l==="string"||o instanceof String?"string":l==="number"||o instanceof Number?"number":l==="function"||o instanceof Function?"function":o&&o.constructor===Array?"array":o&&o.nodeType===1?"element":l==="object"?"object":"unknown"},s=function(o,l){var c=document.createElement(o);for(var u in l.className&&(c.className=l.className),l.innerHTML&&l.dompurify&&(c.innerHTML=l.dompurify.sanitize(l.innerHTML)),l.style)c.style[u]=l.style[u];return c},a=function o(l){var c=Object.assign(o.convert(Promise.resolve()),JSON.parse(JSON.stringify(o.template))),u=o.convert(Promise.resolve(),c);return u=(u=u.setProgress(1,o,1,[o])).set(l)};(a.prototype=Object.create(Promise.prototype)).constructor=a,a.convert=function(o,l){return o.__proto__=l||a.prototype,o},a.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},a.prototype.from=function(o,l){return this.then(function(){switch(l=l||function(c){switch(r(c)){case"string":return"string";case"element":return c.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(o)){case"string":return this.then(n).then(function(c){return this.set({src:s("div",{innerHTML:o,dompurify:c})})});case"element":return this.set({src:o});case"canvas":return this.set({canvas:o});case"img":return this.set({img:o});default:return this.error("Unknown source type.")}})},a.prototype.to=function(o){switch(o){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},a.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var o={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},l=function c(u,d){for(var h=u.nodeType===3?document.createTextNode(u.nodeValue):u.cloneNode(!1),f=u.firstChild;f;f=f.nextSibling)d!==!0&&f.nodeType===1&&f.nodeName==="SCRIPT"||h.appendChild(c(f,d));return u.nodeType===1&&(u.nodeName==="CANVAS"?(h.width=u.width,h.height=u.height,h.getContext("2d").drawImage(u,0,0)):u.nodeName!=="TEXTAREA"&&u.nodeName!=="SELECT"||(h.value=u.value),h.addEventListener("load",function(){h.scrollTop=u.scrollTop,h.scrollLeft=u.scrollLeft},!0)),h}(this.prop.src,this.opt.html2canvas.javascriptEnabled);l.tagName==="BODY"&&(o.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=s("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=s("div",{className:"html2pdf__container",style:o}),this.prop.container.appendChild(l),this.prop.container.firstChild.appendChild(s("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},a.prototype.toCanvas=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(e).then(function(l){var c=Object.assign({},this.opt.html2canvas);return delete c.onrendered,l(this.prop.container,c)}).then(function(l){(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},a.prototype.toContext2d=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(e).then(function(l){var c=this.opt.jsPDF,u=this.opt.fontFaces,d=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,h=Object.assign({async:!0,allowTaint:!0,scale:d,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete h.onrendered,c.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,c.context2d.posX=this.opt.x,c.context2d.posY=this.opt.y,c.context2d.margin=this.opt.margin,c.context2d.fontFaces=u,u)for(var f=0;f<u.length;++f){var A=u[f],v=A.src.find(function(p){return p.format==="truetype"});v&&c.addFont(v.url,A.ref.name,A.ref.style)}return h.windowHeight=h.windowHeight||0,h.windowHeight=h.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):h.windowHeight,c.context2d.save(!0),l(this.prop.container,h)}).then(function(l){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},a.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var o=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=o})},a.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},a.prototype.output=function(o,l,c){return(c=c||"pdf").toLowerCase()==="img"||c.toLowerCase()==="image"?this.outputImg(o,l):this.outputPdf(o,l)},a.prototype.outputPdf=function(o,l){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(o,l)})},a.prototype.outputImg=function(o){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(o){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+o+'" is not supported.'}})},a.prototype.save=function(o){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(o?{filename:o}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},a.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},a.prototype.set=function(o){if(r(o)!=="object")return this;var l=Object.keys(o||{}).map(function(c){if(c in a.template.prop)return function(){this.prop[c]=o[c]};switch(c){case"margin":return this.setMargin.bind(this,o.margin);case"jsPDF":return function(){return this.opt.jsPDF=o.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,o.pageSize);default:return function(){this.opt[c]=o[c]}}},this);return this.then(function(){return this.thenList(l)})},a.prototype.get=function(o,l){return this.then(function(){var c=o in a.template.prop?this.prop[o]:this.opt[o];return l?l(c):c})},a.prototype.setMargin=function(o){return this.then(function(){switch(r(o)){case"number":o=[o,o,o,o];case"array":if(o.length===2&&(o=[o[0],o[1],o[0],o[1]]),o.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=o}).then(this.setPageSize)},a.prototype.setPageSize=function(o){function l(c,u){return Math.floor(c*u/72*96)}return this.then(function(){(o=o||_n.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(o.inner={width:o.width-this.opt.margin[1]-this.opt.margin[3],height:o.height-this.opt.margin[0]-this.opt.margin[2]},o.inner.px={width:l(o.inner.width,o.k),height:l(o.inner.height,o.k)},o.inner.ratio=o.inner.height/o.inner.width),this.prop.pageSize=o})},a.prototype.setProgress=function(o,l,c,u){return o!=null&&(this.progress.val=o),l!=null&&(this.progress.state=l),c!=null&&(this.progress.n=c),u!=null&&(this.progress.stack=u),this.progress.ratio=this.progress.val/this.progress.state,this},a.prototype.updateProgress=function(o,l,c,u){return this.setProgress(o?this.progress.val+o:null,l||null,c?this.progress.n+c:null,u?this.progress.stack.concat(u):null)},a.prototype.then=function(o,l){var c=this;return this.thenCore(o,l,function(u,d){return c.updateProgress(null,null,1,[u]),Promise.prototype.then.call(this,function(h){return c.updateProgress(null,u),h}).then(u,d).then(function(h){return c.updateProgress(1),h})})},a.prototype.thenCore=function(o,l,c){c=c||Promise.prototype.then,o&&(o=o.bind(this)),l&&(l=l.bind(this));var u=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:a.convert(Object.assign({},this),Promise.prototype),d=c.call(u,o,l);return a.convert(d,this.__proto__)},a.prototype.thenExternal=function(o,l){return Promise.prototype.then.call(this,o,l)},a.prototype.thenList=function(o){var l=this;return o.forEach(function(c){l=l.thenCore(c)}),l},a.prototype.catch=function(o){o&&(o=o.bind(this));var l=Promise.prototype.catch.call(this,o);return a.convert(l,this)},a.prototype.catchExternal=function(o){return Promise.prototype.catch.call(this,o)},a.prototype.error=function(o){return this.then(function(){throw new Error(o)})},a.prototype.using=a.prototype.set,a.prototype.saveAs=a.prototype.save,a.prototype.export=a.prototype.output,a.prototype.run=a.prototype.then,_n.getPageSize=function(o,l,c){if(ri(o)==="object"){var u=o;o=u.orientation,l=u.unit||l,c=u.format||c}l=l||"mm",c=c||"a4",o=(""+(o||"P")).toLowerCase();var d,h=(""+c).toLowerCase(),f={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(l){case"pt":d=1;break;case"mm":d=72/25.4;break;case"cm":d=72/2.54;break;case"in":d=72;break;case"px":d=.75;break;case"pc":case"em":d=12;break;case"ex":d=6;break;default:throw"Invalid unit: "+l}var A,v=0,p=0;if(f.hasOwnProperty(h))v=f[h][1]/d,p=f[h][0]/d;else try{v=c[1],p=c[0]}catch{throw new Error("Invalid format: "+c)}if(o==="p"||o==="portrait")o="p",p>v&&(A=p,p=v,v=A);else{if(o!=="l"&&o!=="landscape")throw"Invalid orientation: "+o;o="l",v>p&&(A=p,p=v,v=A)}return{width:p,height:v,unit:l,k:d,orientation:o}},t.html=function(o,l){(l=l||{}).callback=l.callback||function(){},l.html2canvas=l.html2canvas||{},l.html2canvas.canvas=l.html2canvas.canvas||this.canvas,l.jsPDF=l.jsPDF||this,l.fontFaces=l.fontFaces?l.fontFaces.map(lH):null;var c=new a(l);return l.worker?c:c.from(o).doCallback()}}(_n.API),_n.API.addJS=function(t){return Yae=t,this.internal.events.subscribe("postPutResources",function(){S4=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(S4+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),Xae=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+Yae+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){S4!==void 0&&Xae!==void 0&&this.internal.out("/Names <</JavaScript "+S4+" 0 R>>")}),this},function(t){var e;t.events.push(["postPutResources",function(){var n=this,r=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var s=n.outline.render().split(/\r\n/),a=0;a<s.length;a++){var o=s[a],l=r.exec(o);if(l!=null){var c=l[1];n.internal.newObjectDeferredBegin(c,!1)}n.internal.write(o)}if(this.outline.createNamedDestinations){var u=this.internal.pages.length,d=[];for(a=0;a<u;a++){var h=n.internal.newObject();d.push(h);var f=n.internal.getPageInfo(a+1);n.internal.write("<< /D["+f.objId+" 0 R /XYZ null null null]>> endobj")}var A=n.internal.newObject();for(n.internal.write("<< /Names [ "),a=0;a<d.length;a++)n.internal.write("(page_"+(a+1)+")"+d[a]+" 0 R");n.internal.write(" ] >>","endobj"),e=n.internal.newObject(),n.internal.write("<< /Dests "+A+" 0 R"),n.internal.write(">>","endobj")}}]),t.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+e+" 0 R"))}]),t.events.push(["initialized",function(){var n=this;n.outline={createNamedDestinations:!1,root:{children:[]}},n.outline.add=function(r,s,a){var o={title:s,options:a,children:[]};return r==null&&(r=this.root),r.children.push(o),o},n.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=n,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},n.outline.genIds_r=function(r){r.id=n.internal.newObjectDeferred();for(var s=0;s<r.children.length;s++)this.genIds_r(r.children[s])},n.outline.renderRoot=function(r){this.objStart(r),this.line("/Type /Outlines"),r.children.length>0&&(this.line("/First "+this.makeRef(r.children[0])),this.line("/Last "+this.makeRef(r.children[r.children.length-1]))),this.line("/Count "+this.count_r({count:0},r)),this.objEnd()},n.outline.renderItems=function(r){for(var s=this.ctx.pdf.internal.getVerticalCoordinateString,a=0;a<r.children.length;a++){var o=r.children[a];this.objStart(o),this.line("/Title "+this.makeString(o.title)),this.line("/Parent "+this.makeRef(r)),a>0&&this.line("/Prev "+this.makeRef(r.children[a-1])),a<r.children.length-1&&this.line("/Next "+this.makeRef(r.children[a+1])),o.children.length>0&&(this.line("/First "+this.makeRef(o.children[0])),this.line("/Last "+this.makeRef(o.children[o.children.length-1])));var l=this.count=this.count_r({count:0},o);if(l>0&&this.line("/Count "+l),o.options&&o.options.pageNumber){var c=n.internal.getPageInfo(o.options.pageNumber);this.line("/Dest ["+c.objId+" 0 R /XYZ 0 "+s(0)+" 0]")}this.objEnd()}for(var u=0;u<r.children.length;u++)this.renderItems(r.children[u])},n.outline.line=function(r){this.ctx.val+=r+`\r
`},n.outline.makeRef=function(r){return r.id+" 0 R"},n.outline.makeString=function(r){return"("+n.internal.pdfEscape(r)+")"},n.outline.objStart=function(r){this.ctx.val+=`\r
`+r.id+` 0 obj\r
<<\r
`},n.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},n.outline.count_r=function(r,s){for(var a=0;a<s.children.length;a++)r.count++,this.count_r(r,s.children[a]);return r.count}}])}(_n.API),function(t){var e=[192,193,194,195,196,197,198,199];t.processJPEG=function(n,r,s,a,o,l){var c,u=this.decode.DCT_DECODE,d=null;if(typeof n=="string"||this.__addimage__.isArrayBuffer(n)||this.__addimage__.isArrayBufferView(n)){switch(n=o||n,n=this.__addimage__.isArrayBuffer(n)?new Uint8Array(n):n,(c=function(h){for(var f,A=256*h.charCodeAt(4)+h.charCodeAt(5),v=h.length,p={width:0,height:0,numcomponents:1},m=4;m<v;m+=2){if(m+=A,e.indexOf(h.charCodeAt(m+1))!==-1){f=256*h.charCodeAt(m+5)+h.charCodeAt(m+6),p={width:256*h.charCodeAt(m+7)+h.charCodeAt(m+8),height:f,numcomponents:h.charCodeAt(m+9)};break}A=256*h.charCodeAt(m+2)+h.charCodeAt(m+3)}return p}(n=this.__addimage__.isArrayBufferView(n)?this.__addimage__.arrayBufferToBinaryString(n):n)).numcomponents){case 1:l=this.color_spaces.DEVICE_GRAY;break;case 4:l=this.color_spaces.DEVICE_CMYK;break;case 3:l=this.color_spaces.DEVICE_RGB}d={data:n,width:c.width,height:c.height,colorSpace:l,bitsPerComponent:8,filter:u,index:r,alias:s}}return d}}(_n.API);var Eb,E4,Jae,Zae,eoe,vrt=function(){var t,e,n;function r(a){var o,l,c,u,d,h,f,A,v,p,m,g,x,b;for(this.data=a,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},h=null;;){switch(o=this.readUInt32(),v=(function(){var j,N;for(N=[],j=0;j<4;++j)N.push(String.fromCharCode(this.data[this.pos++]));return N}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(o);break;case"fcTL":h&&this.animation.frames.push(h),this.pos+=4,h={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},d=this.readUInt16(),u=this.readUInt16()||100,h.delay=1e3*d/u,h.disposeOp=this.data[this.pos++],h.blendOp=this.data[this.pos++],h.data=[];break;case"IDAT":case"fdAT":for(v==="fdAT"&&(this.pos+=4,o-=4),a=(h!=null?h.data:void 0)||this.imgData,g=0;0<=o?g<o:g>o;0<=o?++g:--g)a.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(c=this.palette.length/3,this.transparency.indexed=this.read(o),this.transparency.indexed.length>c)throw new Error("More transparent colors than palette size");if((p=c-this.transparency.indexed.length)>0)for(x=0;0<=p?x<p:x>p;0<=p?++x:--x)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(o)[0];break;case 2:this.transparency.rgb=this.read(o)}break;case"tEXt":f=(m=this.read(o)).indexOf(0),A=String.fromCharCode.apply(String,m.slice(0,f)),this.text[A]=String.fromCharCode.apply(String,m.slice(f+1));break;case"IEND":return h&&this.animation.frames.push(h),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(b=this.colorType)===4||b===6,l=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*l,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=o}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}r.prototype.read=function(a){var o,l;for(l=[],o=0;0<=a?o<a:o>a;0<=a?++o:--o)l.push(this.data[this.pos++]);return l},r.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.decodePixels=function(a){var o=this.pixelBitlength/8,l=new Uint8Array(this.width*this.height*o),c=0,u=this;if(a==null&&(a=this.imgData),a.length===0)return new Uint8Array(0);function d(h,f,A,v){var p,m,g,x,b,j,N,_,C,k,T,O,I,F,M,S,q,U,L,z,$,K=Math.ceil((u.width-h)/A),V=Math.ceil((u.height-f)/v),H=u.width==K&&u.height==V;for(F=o*K,O=H?l:new Uint8Array(F*V),j=a.length,I=0,m=0;I<V&&c<j;){switch(a[c++]){case 0:for(x=q=0;q<F;x=q+=1)O[m++]=a[c++];break;case 1:for(x=U=0;U<F;x=U+=1)p=a[c++],b=x<o?0:O[m-o],O[m++]=(p+b)%256;break;case 2:for(x=L=0;L<F;x=L+=1)p=a[c++],g=(x-x%o)/o,M=I&&O[(I-1)*F+g*o+x%o],O[m++]=(M+p)%256;break;case 3:for(x=z=0;z<F;x=z+=1)p=a[c++],g=(x-x%o)/o,b=x<o?0:O[m-o],M=I&&O[(I-1)*F+g*o+x%o],O[m++]=(p+Math.floor((b+M)/2))%256;break;case 4:for(x=$=0;$<F;x=$+=1)p=a[c++],g=(x-x%o)/o,b=x<o?0:O[m-o],I===0?M=S=0:(M=O[(I-1)*F+g*o+x%o],S=g&&O[(I-1)*F+(g-1)*o+x%o]),N=b+M-S,_=Math.abs(N-b),k=Math.abs(N-M),T=Math.abs(N-S),C=_<=k&&_<=T?b:k<=T?M:S,O[m++]=(p+C)%256;break;default:throw new Error("Invalid filter algorithm: "+a[c-1])}if(!H){var W=((f+I*v)*u.width+h)*o,Y=I*F;for(x=0;x<K;x+=1){for(var ee=0;ee<o;ee+=1)l[W++]=O[Y++];W+=(A-1)*o}}I++}}return a=Ynt(a),u.interlaceMethod==1?(d(0,0,8,8),d(4,0,8,8),d(0,4,4,8),d(2,0,4,4),d(0,2,2,4),d(1,0,2,2),d(0,1,1,2)):d(0,0,1,1),l},r.prototype.decodePalette=function(){var a,o,l,c,u,d,h,f,A;for(l=this.palette,d=this.transparency.indexed||[],u=new Uint8Array((d.length||0)+l.length),c=0,a=0,o=h=0,f=l.length;h<f;o=h+=3)u[c++]=l[o],u[c++]=l[o+1],u[c++]=l[o+2],u[c++]=(A=d[a++])!=null?A:255;return u},r.prototype.copyToImageData=function(a,o){var l,c,u,d,h,f,A,v,p,m,g;if(c=this.colors,p=null,l=this.hasAlphaChannel,this.palette.length&&(p=(g=this._decodedPalette)!=null?g:this._decodedPalette=this.decodePalette(),c=4,l=!0),v=(u=a.data||a).length,h=p||o,d=f=0,c===1)for(;d<v;)A=p?4*o[d/4]:f,m=h[A++],u[d++]=m,u[d++]=m,u[d++]=m,u[d++]=l?h[A++]:255,f=A;else for(;d<v;)A=p?4*o[d/4]:f,u[d++]=h[A++],u[d++]=h[A++],u[d++]=h[A++],u[d++]=l?h[A++]:255,f=A},r.prototype.decode=function(){var a;return a=new Uint8Array(this.width*this.height*4),this.copyToImageData(a,this.decodePixels()),a};var s=function(){if(Object.prototype.toString.call(Bn)==="[object Window]"){try{e=Bn.document.createElement("canvas"),n=e.getContext("2d")}catch{return!1}return!0}return!1};return s(),t=function(a){var o;if(s()===!0)return n.width=a.width,n.height=a.height,n.clearRect(0,0,a.width,a.height),n.putImageData(a,0,0),(o=new Image).src=e.toDataURL(),o;throw new Error("This method requires a Browser with Canvas-capability.")},r.prototype.decodeFrames=function(a){var o,l,c,u,d,h,f,A;if(this.animation){for(A=[],l=d=0,h=(f=this.animation.frames).length;d<h;l=++d)o=f[l],c=a.createImageData(o.width,o.height),u=this.decodePixels(new Uint8Array(o.data)),this.copyToImageData(c,u),o.imageData=c,A.push(o.image=t(c));return A}},r.prototype.renderFrame=function(a,o){var l,c,u;return l=(c=this.animation.frames)[o],u=c[o-1],o===0&&a.clearRect(0,0,this.width,this.height),(u!=null?u.disposeOp:void 0)===1?a.clearRect(u.xOffset,u.yOffset,u.width,u.height):(u!=null?u.disposeOp:void 0)===2&&a.putImageData(u.imageData,u.xOffset,u.yOffset),l.blendOp===0&&a.clearRect(l.xOffset,l.yOffset,l.width,l.height),a.drawImage(l.image,l.xOffset,l.yOffset)},r.prototype.animate=function(a){var o,l,c,u,d,h,f=this;return l=0,h=this.animation,u=h.numFrames,c=h.frames,d=h.numPlays,(o=function(){var A,v;if(A=l++%u,v=c[A],f.renderFrame(a,A),u>1&&l/u<d)return f.animation._timeout=setTimeout(o,v.delay)})()},r.prototype.stopAnimation=function(){var a;return clearTimeout((a=this.animation)!=null?a._timeout:void 0)},r.prototype.render=function(a){var o,l;return a._png&&a._png.stopAnimation(),a._png=this,a.width=this.width,a.height=this.height,o=a.getContext("2d"),this.animation?(this.decodeFrames(o),this.animate(o)):(l=o.createImageData(this.width,this.height),this.copyToImageData(l,this.decodePixels()),o.putImageData(l,0,0))},r}();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function yrt(t){var e=0;if(t[e++]!==71||t[e++]!==73||t[e++]!==70||t[e++]!==56||(t[e++]+1&253)!=56||t[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var n=t[e++]|t[e++]<<8,r=t[e++]|t[e++]<<8,s=t[e++],a=s>>7,o=1<<(7&s)+1;t[e++],t[e++];var l=null,c=null;a&&(l=e,c=o,e+=3*o);var u=!0,d=[],h=0,f=null,A=0,v=null;for(this.width=n,this.height=r;u&&e<t.length;)switch(t[e++]){case 33:switch(t[e++]){case 255:if(t[e]!==11||t[e+1]==78&&t[e+2]==69&&t[e+3]==84&&t[e+4]==83&&t[e+5]==67&&t[e+6]==65&&t[e+7]==80&&t[e+8]==69&&t[e+9]==50&&t[e+10]==46&&t[e+11]==48&&t[e+12]==3&&t[e+13]==1&&t[e+16]==0)e+=14,v=t[e++]|t[e++]<<8,e++;else for(e+=12;;){if(!((I=t[e++])>=0))throw Error("Invalid block size");if(I===0)break;e+=I}break;case 249:if(t[e++]!==4||t[e+4]!==0)throw new Error("Invalid graphics extension block.");var p=t[e++];h=t[e++]|t[e++]<<8,f=t[e++],(1&p)==0&&(f=null),A=p>>2&7,e++;break;case 254:for(;;){if(!((I=t[e++])>=0))throw Error("Invalid block size");if(I===0)break;e+=I}break;default:throw new Error("Unknown graphic control label: 0x"+t[e-1].toString(16))}break;case 44:var m=t[e++]|t[e++]<<8,g=t[e++]|t[e++]<<8,x=t[e++]|t[e++]<<8,b=t[e++]|t[e++]<<8,j=t[e++],N=j>>6&1,_=1<<(7&j)+1,C=l,k=c,T=!1;j>>7&&(T=!0,C=e,k=_,e+=3*_);var O=e;for(e++;;){var I;if(!((I=t[e++])>=0))throw Error("Invalid block size");if(I===0)break;e+=I}d.push({x:m,y:g,width:x,height:b,has_local_palette:T,palette_offset:C,palette_size:k,data_offset:O,data_length:e-O,transparent_index:f,interlaced:!!N,delay:h,disposal:A});break;case 59:u=!1;break;default:throw new Error("Unknown gif block: 0x"+t[e-1].toString(16))}this.numFrames=function(){return d.length},this.loopCount=function(){return v},this.frameInfo=function(F){if(F<0||F>=d.length)throw new Error("Frame index out of range.");return d[F]},this.decodeAndBlitFrameBGRA=function(F,M){var S=this.frameInfo(F),q=S.width*S.height,U=new Uint8Array(q);toe(t,S.data_offset,U,q);var L=S.palette_offset,z=S.transparent_index;z===null&&(z=256);var $=S.width,K=n-$,V=$,H=4*(S.y*n+S.x),W=4*((S.y+S.height)*n+S.x),Y=H,ee=4*K;S.interlaced===!0&&(ee+=4*n*7);for(var ie=8,se=0,Ae=U.length;se<Ae;++se){var he=U[se];if(V===0&&(V=$,(Y+=ee)>=W&&(ee=4*K+4*n*(ie-1),Y=H+($+K)*(ie<<1),ie>>=1)),he===z)Y+=4;else{var Be=t[L+3*he],Me=t[L+3*he+1],Ie=t[L+3*he+2];M[Y++]=Ie,M[Y++]=Me,M[Y++]=Be,M[Y++]=255}--V}},this.decodeAndBlitFrameRGBA=function(F,M){var S=this.frameInfo(F),q=S.width*S.height,U=new Uint8Array(q);toe(t,S.data_offset,U,q);var L=S.palette_offset,z=S.transparent_index;z===null&&(z=256);var $=S.width,K=n-$,V=$,H=4*(S.y*n+S.x),W=4*((S.y+S.height)*n+S.x),Y=H,ee=4*K;S.interlaced===!0&&(ee+=4*n*7);for(var ie=8,se=0,Ae=U.length;se<Ae;++se){var he=U[se];if(V===0&&(V=$,(Y+=ee)>=W&&(ee=4*K+4*n*(ie-1),Y=H+($+K)*(ie<<1),ie>>=1)),he===z)Y+=4;else{var Be=t[L+3*he],Me=t[L+3*he+1],Ie=t[L+3*he+2];M[Y++]=Be,M[Y++]=Me,M[Y++]=Ie,M[Y++]=255}--V}}}function toe(t,e,n,r){for(var s=t[e++],a=1<<s,o=a+1,l=o+1,c=s+1,u=(1<<c)-1,d=0,h=0,f=0,A=t[e++],v=new Int32Array(4096),p=null;;){for(;d<16&&A!==0;)h|=t[e++]<<d,d+=8,A===1?A=t[e++]:--A;if(d<c)break;var m=h&u;if(h>>=c,d-=c,m!==a){if(m===o)break;for(var g=m<l?m:p,x=0,b=g;b>a;)b=v[b]>>8,++x;var j=b;if(f+x+(g!==m?1:0)>r)return void Ai.log("Warning, gif stream longer than expected.");n[f++]=j;var N=f+=x;for(g!==m&&(n[f++]=j),b=g;x--;)b=v[b],n[--N]=255&b,b>>=8;p!==null&&l<4096&&(v[l++]=p<<8|j,l>=u+1&&c<12&&(++c,u=u<<1|1)),p=m}else l=o+1,u=(1<<(c=s+1))-1,p=null}return f!==r&&Ai.log("Warning, gif stream shorter than expected."),n}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function bL(t){var e,n,r,s,a,o=Math.floor,l=new Array(64),c=new Array(64),u=new Array(64),d=new Array(64),h=new Array(65535),f=new Array(65535),A=new Array(64),v=new Array(64),p=[],m=0,g=7,x=new Array(64),b=new Array(64),j=new Array(64),N=new Array(256),_=new Array(2048),C=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],k=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],T=[0,1,2,3,4,5,6,7,8,9,10,11],O=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],I=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],F=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],M=[0,1,2,3,4,5,6,7,8,9,10,11],S=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],q=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function U(H,W){for(var Y=0,ee=0,ie=new Array,se=1;se<=16;se++){for(var Ae=1;Ae<=H[se];Ae++)ie[W[ee]]=[],ie[W[ee]][0]=Y,ie[W[ee]][1]=se,ee++,Y++;Y*=2}return ie}function L(H){for(var W=H[0],Y=H[1]-1;Y>=0;)W&1<<Y&&(m|=1<<g),Y--,--g<0&&(m==255?(z(255),z(0)):z(m),g=7,m=0)}function z(H){p.push(H)}function $(H){z(H>>8&255),z(255&H)}function K(H,W,Y,ee,ie){for(var se,Ae=ie[0],he=ie[240],Be=function(Ne,$e){var ze,Fe,De,Ce,Oe,We,ut,yt,Nt,jt,Ue=0;for(Nt=0;Nt<8;++Nt){ze=Ne[Ue],Fe=Ne[Ue+1],De=Ne[Ue+2],Ce=Ne[Ue+3],Oe=Ne[Ue+4],We=Ne[Ue+5],ut=Ne[Ue+6];var ct=ze+(yt=Ne[Ue+7]),ht=ze-yt,kt=Fe+ut,Ot=Fe-ut,Ut=De+We,mn=De-We,fn=Ce+Oe,wi=Ce-Oe,lr=ct+fn,ge=ct-fn,Se=kt+Ut,Re=kt-Ut;Ne[Ue]=lr+Se,Ne[Ue+4]=lr-Se;var Je=.707106781*(Re+ge);Ne[Ue+2]=ge+Je,Ne[Ue+6]=ge-Je;var wt=.382683433*((lr=wi+mn)-(Re=Ot+ht)),ln=.5411961*lr+wt,kn=1.306562965*Re+wt,Pr=.707106781*(Se=mn+Ot),Fi=ht+Pr,Xt=ht-Pr;Ne[Ue+5]=Xt+ln,Ne[Ue+3]=Xt-ln,Ne[Ue+1]=Fi+kn,Ne[Ue+7]=Fi-kn,Ue+=8}for(Ue=0,Nt=0;Nt<8;++Nt){ze=Ne[Ue],Fe=Ne[Ue+8],De=Ne[Ue+16],Ce=Ne[Ue+24],Oe=Ne[Ue+32],We=Ne[Ue+40],ut=Ne[Ue+48];var di=ze+(yt=Ne[Ue+56]),ji=ze-yt,Ni=Fe+ut,pr=Fe-ut,rr=De+We,ii=De-We,ba=Ce+Oe,Hr=Ce-Oe,wa=di+ba,ts=di-ba,$i=Ni+rr,el=Ni-rr;Ne[Ue]=wa+$i,Ne[Ue+32]=wa-$i;var Ga=.707106781*(el+ts);Ne[Ue+16]=ts+Ga,Ne[Ue+48]=ts-Ga;var Ul=.382683433*((wa=Hr+ii)-(el=pr+ji)),eu=.5411961*wa+Ul,nd=1.306562965*el+Ul,rd=.707106781*($i=ii+pr),id=ji+rd,sd=ji-rd;Ne[Ue+40]=sd+eu,Ne[Ue+24]=sd-eu,Ne[Ue+8]=id+nd,Ne[Ue+56]=id-nd,Ue++}for(Nt=0;Nt<64;++Nt)jt=Ne[Nt]*$e[Nt],A[Nt]=jt>0?jt+.5|0:jt-.5|0;return A}(H,W),Me=0;Me<64;++Me)v[C[Me]]=Be[Me];var Ie=v[0]-Y;Y=v[0],Ie==0?L(ee[0]):(L(ee[f[se=32767+Ie]]),L(h[se]));for(var Ye=63;Ye>0&&v[Ye]==0;)Ye--;if(Ye==0)return L(Ae),Y;for(var X,ue=1;ue<=Ye;){for(var re=ue;v[ue]==0&&ue<=Ye;)++ue;var de=ue-re;if(de>=16){X=de>>4;for(var ce=1;ce<=X;++ce)L(he);de&=15}se=32767+v[ue],L(ie[(de<<4)+f[se]]),L(h[se]),ue++}return Ye!=63&&L(Ae),Y}function V(H){H=Math.min(Math.max(H,1),100),a!=H&&(function(W){for(var Y=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],ee=0;ee<64;ee++){var ie=o((Y[ee]*W+50)/100);ie=Math.min(Math.max(ie,1),255),l[C[ee]]=ie}for(var se=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],Ae=0;Ae<64;Ae++){var he=o((se[Ae]*W+50)/100);he=Math.min(Math.max(he,1),255),c[C[Ae]]=he}for(var Be=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Me=0,Ie=0;Ie<8;Ie++)for(var Ye=0;Ye<8;Ye++)u[Me]=1/(l[C[Me]]*Be[Ie]*Be[Ye]*8),d[Me]=1/(c[C[Me]]*Be[Ie]*Be[Ye]*8),Me++}(H<50?Math.floor(5e3/H):Math.floor(200-2*H)),a=H)}this.encode=function(H,W){W&&V(W),p=new Array,m=0,g=7,$(65496),$(65504),$(16),z(74),z(70),z(73),z(70),z(0),z(1),z(1),z(0),$(1),$(1),z(0),z(0),function(){$(65499),$(132),z(0);for(var Fe=0;Fe<64;Fe++)z(l[Fe]);z(1);for(var De=0;De<64;De++)z(c[De])}(),function(Fe,De){$(65472),$(17),z(8),$(De),$(Fe),z(3),z(1),z(17),z(0),z(2),z(17),z(1),z(3),z(17),z(1)}(H.width,H.height),function(){$(65476),$(418),z(0);for(var Fe=0;Fe<16;Fe++)z(k[Fe+1]);for(var De=0;De<=11;De++)z(T[De]);z(16);for(var Ce=0;Ce<16;Ce++)z(O[Ce+1]);for(var Oe=0;Oe<=161;Oe++)z(I[Oe]);z(1);for(var We=0;We<16;We++)z(F[We+1]);for(var ut=0;ut<=11;ut++)z(M[ut]);z(17);for(var yt=0;yt<16;yt++)z(S[yt+1]);for(var Nt=0;Nt<=161;Nt++)z(q[Nt])}(),$(65498),$(12),z(3),z(1),z(0),z(2),z(17),z(3),z(17),z(0),z(63),z(0);var Y=0,ee=0,ie=0;m=0,g=7,this.encode.displayName="_encode_";for(var se,Ae,he,Be,Me,Ie,Ye,X,ue,re=H.data,de=H.width,ce=H.height,Ne=4*de,$e=0;$e<ce;){for(se=0;se<Ne;){for(Me=Ne*$e+se,Ye=-1,X=0,ue=0;ue<64;ue++)Ie=Me+(X=ue>>3)*Ne+(Ye=4*(7&ue)),$e+X>=ce&&(Ie-=Ne*($e+1+X-ce)),se+Ye>=Ne&&(Ie-=se+Ye-Ne+4),Ae=re[Ie++],he=re[Ie++],Be=re[Ie++],x[ue]=(_[Ae]+_[he+256>>0]+_[Be+512>>0]>>16)-128,b[ue]=(_[Ae+768>>0]+_[he+1024>>0]+_[Be+1280>>0]>>16)-128,j[ue]=(_[Ae+1280>>0]+_[he+1536>>0]+_[Be+1792>>0]>>16)-128;Y=K(x,u,Y,e,r),ee=K(b,d,ee,n,s),ie=K(j,d,ie,n,s),se+=32}$e+=8}if(g>=0){var ze=[];ze[1]=g+1,ze[0]=(1<<g+1)-1,L(ze)}return $(65497),new Uint8Array(p)},t=t||50,function(){for(var H=String.fromCharCode,W=0;W<256;W++)N[W]=H(W)}(),e=U(k,T),n=U(F,M),r=U(O,I),s=U(S,q),function(){for(var H=1,W=2,Y=1;Y<=15;Y++){for(var ee=H;ee<W;ee++)f[32767+ee]=Y,h[32767+ee]=[],h[32767+ee][1]=Y,h[32767+ee][0]=ee;for(var ie=-(W-1);ie<=-H;ie++)f[32767+ie]=Y,h[32767+ie]=[],h[32767+ie][1]=Y,h[32767+ie][0]=W-1+ie;H<<=1,W<<=1}}(),function(){for(var H=0;H<256;H++)_[H]=19595*H,_[H+256>>0]=38470*H,_[H+512>>0]=7471*H+32768,_[H+768>>0]=-11059*H,_[H+1024>>0]=-21709*H,_[H+1280>>0]=32768*H+8421375,_[H+1536>>0]=-27439*H,_[H+1792>>0]=-5329*H}(),V(t)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function Fd(t,e){if(this.pos=0,this.buffer=t,this.datav=new DataView(t.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function noe(t){function e(k){if(!k)throw Error("assert :P")}function n(k,T,O){for(var I=0;4>I;I++)if(k[T+I]!=O.charCodeAt(I))return!0;return!1}function r(k,T,O,I,F){for(var M=0;M<F;M++)k[T+M]=O[I+M]}function s(k,T,O,I){for(var F=0;F<I;F++)k[T+F]=O}function a(k){return new Int32Array(k)}function o(k,T){for(var O=[],I=0;I<k;I++)O.push(new T);return O}function l(k,T){var O=[];return function I(F,M,S){for(var q=S[M],U=0;U<q&&(F.push(S.length>M+1?[]:new T),!(S.length<M+1));U++)I(F[U],M+1,S)}(O,0,k),O}var c=function(){var k=this;function T(P,Q){for(var Z=1<<Q-1>>>0;P&Z;)Z>>>=1;return Z?(P&Z-1)+Z:P}function O(P,Q,Z,ne,fe){e(!(ne%Z));do P[Q+(ne-=Z)]=fe;while(0<ne)}function I(P,Q,Z,ne,fe){if(e(2328>=fe),512>=fe)var ve=a(512);else if((ve=a(fe))==null)return 0;return function(we,_e,Ee,Pe,Ve,st){var at,et,bt=_e,ft=1<<Ee,Ge=a(16),Xe=a(16);for(e(Ve!=0),e(Pe!=null),e(we!=null),e(0<Ee),et=0;et<Ve;++et){if(15<Pe[et])return 0;++Ge[Pe[et]]}if(Ge[0]==Ve)return 0;for(Xe[1]=0,at=1;15>at;++at){if(Ge[at]>1<<at)return 0;Xe[at+1]=Xe[at]+Ge[at]}for(et=0;et<Ve;++et)at=Pe[et],0<Pe[et]&&(st[Xe[at]++]=et);if(Xe[15]==1)return(Pe=new F).g=0,Pe.value=st[0],O(we,bt,1,ft,Pe),ft;var gt,mt=-1,xt=ft-1,$t=0,It=1,An=1,Mt=1<<Ee;for(et=0,at=1,Ve=2;at<=Ee;++at,Ve<<=1){if(It+=An<<=1,0>(An-=Ge[at]))return 0;for(;0<Ge[at];--Ge[at])(Pe=new F).g=at,Pe.value=st[et++],O(we,bt+$t,Ve,Mt,Pe),$t=T($t,at)}for(at=Ee+1,Ve=2;15>=at;++at,Ve<<=1){if(It+=An<<=1,0>(An-=Ge[at]))return 0;for(;0<Ge[at];--Ge[at]){if(Pe=new F,($t&xt)!=mt){for(bt+=Mt,gt=1<<(mt=at)-Ee;15>mt&&!(0>=(gt-=Ge[mt]));)++mt,gt<<=1;ft+=Mt=1<<(gt=mt-Ee),we[_e+(mt=$t&xt)].g=gt+Ee,we[_e+mt].value=bt-_e-mt}Pe.g=at-Ee,Pe.value=st[et++],O(we,bt+($t>>Ee),Ve,Mt,Pe),$t=T($t,at)}}return It!=2*Xe[15]-1?0:ft}(P,Q,Z,ne,fe,ve)}function F(){this.value=this.g=0}function M(){this.value=this.g=0}function S(){this.G=o(5,F),this.H=a(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=o(qi,M)}function q(P,Q,Z,ne){e(P!=null),e(Q!=null),e(2147483648>ne),P.Ca=254,P.I=0,P.b=-8,P.Ka=0,P.oa=Q,P.pa=Z,P.Jd=Q,P.Yc=Z+ne,P.Zc=4<=ne?Z+ne-4+1:Z,se(P)}function U(P,Q){for(var Z=0;0<Q--;)Z|=he(P,128)<<Q;return Z}function L(P,Q){var Z=U(P,Q);return Ae(P)?-Z:Z}function z(P,Q,Z,ne){var fe,ve=0;for(e(P!=null),e(Q!=null),e(4294967288>ne),P.Sb=ne,P.Ra=0,P.u=0,P.h=0,4<ne&&(ne=4),fe=0;fe<ne;++fe)ve+=Q[Z+fe]<<8*fe;P.Ra=ve,P.bb=ne,P.oa=Q,P.pa=Z}function $(P){for(;8<=P.u&&P.bb<P.Sb;)P.Ra>>>=8,P.Ra+=P.oa[P.pa+P.bb]<<hm-8>>>0,++P.bb,P.u-=8;Y(P)&&(P.h=1,P.u=0)}function K(P,Q){if(e(0<=Q),!P.h&&Q<=dm){var Z=W(P)&um[Q];return P.u+=Q,$(P),Z}return P.h=1,P.u=0}function V(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function H(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function W(P){return P.Ra>>>(P.u&hm-1)>>>0}function Y(P){return e(P.bb<=P.Sb),P.h||P.bb==P.Sb&&P.u>hm}function ee(P,Q){P.u=Q,P.h=Y(P)}function ie(P){P.u>=fm&&(e(P.u>=fm),$(P))}function se(P){e(P!=null&&P.oa!=null),P.pa<P.Zc?(P.I=(P.oa[P.pa++]|P.I<<8)>>>0,P.b+=8):(e(P!=null&&P.oa!=null),P.pa<P.Yc?(P.b+=8,P.I=P.oa[P.pa++]|P.I<<8):P.Ka?P.b=0:(P.I<<=8,P.b+=8,P.Ka=1))}function Ae(P){return U(P,1)}function he(P,Q){var Z=P.Ca;0>P.b&&se(P);var ne=P.b,fe=Z*Q>>>8,ve=(P.I>>>ne>fe)+0;for(ve?(Z-=fe,P.I-=fe+1<<ne>>>0):Z=fe+1,ne=Z,fe=0;256<=ne;)fe+=8,ne>>=8;return ne=7^fe+Xa[ne],P.b-=ne,P.Ca=(Z<<ne)-1,ve}function Be(P,Q,Z){P[Q+0]=Z>>24&255,P[Q+1]=Z>>16&255,P[Q+2]=Z>>8&255,P[Q+3]=Z>>0&255}function Me(P,Q){return P[Q+0]<<0|P[Q+1]<<8}function Ie(P,Q){return Me(P,Q)|P[Q+2]<<16}function Ye(P,Q){return Me(P,Q)|Me(P,Q+2)<<16}function X(P,Q){var Z=1<<Q;return e(P!=null),e(0<Q),P.X=a(Z),P.X==null?0:(P.Mb=32-Q,P.Xa=Q,1)}function ue(P,Q){e(P!=null),e(Q!=null),e(P.Xa==Q.Xa),r(Q.X,0,P.X,0,1<<Q.Xa)}function re(){this.X=[],this.Xa=this.Mb=0}function de(P,Q,Z,ne){e(Z!=null),e(ne!=null);var fe=Z[0],ve=ne[0];return fe==0&&(fe=(P*ve+Q/2)/Q),ve==0&&(ve=(Q*fe+P/2)/P),0>=fe||0>=ve?0:(Z[0]=fe,ne[0]=ve,1)}function ce(P,Q){return P+(1<<Q)-1>>>Q}function Ne(P,Q){return((4278255360&P)+(4278255360&Q)>>>0&4278255360)+((16711935&P)+(16711935&Q)>>>0&16711935)>>>0}function $e(P,Q){k[Q]=function(Z,ne,fe,ve,we,_e,Ee){var Pe;for(Pe=0;Pe<we;++Pe){var Ve=k[P](_e[Ee+Pe-1],fe,ve+Pe);_e[Ee+Pe]=Ne(Z[ne+Pe],Ve)}}}function ze(){this.ud=this.hd=this.jd=0}function Fe(P,Q){return((4278124286&(P^Q))>>>1)+(P&Q)>>>0}function De(P){return 0<=P&&256>P?P:0>P?0:255<P?255:void 0}function Ce(P,Q){return De(P+(P-Q+.5>>1))}function Oe(P,Q,Z){return Math.abs(Q-Z)-Math.abs(P-Z)}function We(P,Q,Z,ne,fe,ve,we){for(ne=ve[we-1],Z=0;Z<fe;++Z)ve[we+Z]=ne=Ne(P[Q+Z],ne)}function ut(P,Q,Z,ne,fe){var ve;for(ve=0;ve<Z;++ve){var we=P[Q+ve],_e=we>>8&255,Ee=16711935&(Ee=(Ee=16711935&we)+((_e<<16)+_e));ne[fe+ve]=(4278255360&we)+Ee>>>0}}function yt(P,Q){Q.jd=P>>0&255,Q.hd=P>>8&255,Q.ud=P>>16&255}function Nt(P,Q,Z,ne,fe,ve){var we;for(we=0;we<ne;++we){var _e=Q[Z+we],Ee=_e>>>8,Pe=_e,Ve=255&(Ve=(Ve=_e>>>16)+((P.jd<<24>>24)*(Ee<<24>>24)>>>5));Pe=255&(Pe=(Pe=Pe+((P.hd<<24>>24)*(Ee<<24>>24)>>>5))+((P.ud<<24>>24)*(Ve<<24>>24)>>>5)),fe[ve+we]=(4278255360&_e)+(Ve<<16)+Pe}}function jt(P,Q,Z,ne,fe){k[Q]=function(ve,we,_e,Ee,Pe,Ve,st,at,et){for(Ee=st;Ee<at;++Ee)for(st=0;st<et;++st)Pe[Ve++]=fe(_e[ne(ve[we++])])},k[P]=function(ve,we,_e,Ee,Pe,Ve,st){var at=8>>ve.b,et=ve.Ea,bt=ve.K[0],ft=ve.w;if(8>at)for(ve=(1<<ve.b)-1,ft=(1<<at)-1;we<_e;++we){var Ge,Xe=0;for(Ge=0;Ge<et;++Ge)Ge&ve||(Xe=ne(Ee[Pe++])),Ve[st++]=fe(bt[Xe&ft]),Xe>>=at}else k["VP8LMapColor"+Z](Ee,Pe,bt,ft,Ve,st,we,_e,et)}}function Ue(P,Q,Z,ne,fe){for(Z=Q+Z;Q<Z;){var ve=P[Q++];ne[fe++]=ve>>16&255,ne[fe++]=ve>>8&255,ne[fe++]=ve>>0&255}}function ct(P,Q,Z,ne,fe){for(Z=Q+Z;Q<Z;){var ve=P[Q++];ne[fe++]=ve>>16&255,ne[fe++]=ve>>8&255,ne[fe++]=ve>>0&255,ne[fe++]=ve>>24&255}}function ht(P,Q,Z,ne,fe){for(Z=Q+Z;Q<Z;){var ve=(we=P[Q++])>>16&240|we>>12&15,we=we>>0&240|we>>28&15;ne[fe++]=ve,ne[fe++]=we}}function kt(P,Q,Z,ne,fe){for(Z=Q+Z;Q<Z;){var ve=(we=P[Q++])>>16&248|we>>13&7,we=we>>5&224|we>>3&31;ne[fe++]=ve,ne[fe++]=we}}function Ot(P,Q,Z,ne,fe){for(Z=Q+Z;Q<Z;){var ve=P[Q++];ne[fe++]=ve>>0&255,ne[fe++]=ve>>8&255,ne[fe++]=ve>>16&255}}function Ut(P,Q,Z,ne,fe,ve){if(ve==0)for(Z=Q+Z;Q<Z;)Be(ne,((ve=P[Q++])[0]>>24|ve[1]>>8&65280|ve[2]<<8&16711680|ve[3]<<24)>>>0),fe+=32;else r(ne,fe,P,Q,Z)}function mn(P,Q){k[Q][0]=k[P+"0"],k[Q][1]=k[P+"1"],k[Q][2]=k[P+"2"],k[Q][3]=k[P+"3"],k[Q][4]=k[P+"4"],k[Q][5]=k[P+"5"],k[Q][6]=k[P+"6"],k[Q][7]=k[P+"7"],k[Q][8]=k[P+"8"],k[Q][9]=k[P+"9"],k[Q][10]=k[P+"10"],k[Q][11]=k[P+"11"],k[Q][12]=k[P+"12"],k[Q][13]=k[P+"13"],k[Q][14]=k[P+"0"],k[Q][15]=k[P+"0"]}function fn(P){return P==vm||P==hA||P==$x||P==Wx}function wi(){this.eb=[],this.size=this.A=this.fb=0}function lr(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function ge(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new wi,this.f.kb=new lr,this.sd=null}function Se(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Re(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Je(P){return alert("todo:WebPSamplerProcessPlane"),P.T}function wt(P,Q){var Z=P.T,ne=Q.ba.f.RGBA,fe=ne.eb,ve=ne.fb+P.ka*ne.A,we=bo[Q.ba.S],_e=P.y,Ee=P.O,Pe=P.f,Ve=P.N,st=P.ea,at=P.W,et=Q.cc,bt=Q.dc,ft=Q.Mc,Ge=Q.Nc,Xe=P.ka,gt=P.ka+P.T,mt=P.U,xt=mt+1>>1;for(Xe==0?we(_e,Ee,null,null,Pe,Ve,st,at,Pe,Ve,st,at,fe,ve,null,null,mt):(we(Q.ec,Q.fc,_e,Ee,et,bt,ft,Ge,Pe,Ve,st,at,fe,ve-ne.A,fe,ve,mt),++Z);Xe+2<gt;Xe+=2)et=Pe,bt=Ve,ft=st,Ge=at,Ve+=P.Rc,at+=P.Rc,ve+=2*ne.A,we(_e,(Ee+=2*P.fa)-P.fa,_e,Ee,et,bt,ft,Ge,Pe,Ve,st,at,fe,ve-ne.A,fe,ve,mt);return Ee+=P.fa,P.j+gt<P.o?(r(Q.ec,Q.fc,_e,Ee,mt),r(Q.cc,Q.dc,Pe,Ve,xt),r(Q.Mc,Q.Nc,st,at,xt),Z--):1&gt||we(_e,Ee,null,null,Pe,Ve,st,at,Pe,Ve,st,at,fe,ve+ne.A,null,null,mt),Z}function ln(P,Q,Z){var ne=P.F,fe=[P.J];if(ne!=null){var ve=P.U,we=Q.ba.S,_e=we==zx||we==$x;Q=Q.ba.f.RGBA;var Ee=[0],Pe=P.ka;Ee[0]=P.T,P.Kb&&(Pe==0?--Ee[0]:(--Pe,fe[0]-=P.width),P.j+P.ka+P.T==P.o&&(Ee[0]=P.o-P.j-Pe));var Ve=Q.eb;Pe=Q.fb+Pe*Q.A,P=Ur(ne,fe[0],P.width,ve,Ee,Ve,Pe+(_e?0:3),Q.A),e(Z==Ee),P&&fn(we)&&vo(Ve,Pe,_e,ve,Ee,Q.A)}return 0}function kn(P){var Q=P.ma,Z=Q.ba.S,ne=11>Z,fe=Z==Lh||Z==Hx||Z==zx||Z==Yr||Z==12||fn(Z);if(Q.memory=null,Q.Ib=null,Q.Jb=null,Q.Nd=null,!lm(Q.Oa,P,fe?11:12))return 0;if(fe&&fn(Z)&&_t(),P.da)alert("todo:use_scaling");else{if(ne){if(Q.Ib=Je,P.Kb){if(Z=P.U+1>>1,Q.memory=a(P.U+2*Z),Q.memory==null)return 0;Q.ec=Q.memory,Q.fc=0,Q.cc=Q.ec,Q.dc=Q.fc+P.U,Q.Mc=Q.cc,Q.Nc=Q.dc+Z,Q.Ib=wt,_t()}}else alert("todo:EmitYUV");fe&&(Q.Jb=ln,ne&&it())}if(ne&&!sa){for(P=0;256>P;++P)wo[P]=89858*(P-128)+vc>>gd,jo[P]=-22014*(P-128)+vc,jm[P]=-45773*(P-128),mA[P]=113618*(P-128)+vc>>gd;for(P=Ir;P<zr;++P)Q=76283*(P-16)+vc>>gd,eb[P-Ir]=rl(Q,255),sE[P-Ir]=rl(Q+8>>4,15);sa=1}return 1}function Pr(P){var Q=P.ma,Z=P.U,ne=P.T;return e(!(1&P.ka)),0>=Z||0>=ne?0:(Z=Q.Ib(P,Q),Q.Jb!=null&&Q.Jb(P,Q,Z),Q.Dc+=Z,1)}function Fi(P){P.ma.memory=null}function Xt(P,Q,Z,ne){return K(P,8)!=47?0:(Q[0]=K(P,14)+1,Z[0]=K(P,14)+1,ne[0]=K(P,1),K(P,3)!=0?0:!P.h)}function di(P,Q){if(4>P)return P+1;var Z=P-2>>1;return(2+(1&P)<<Z)+K(Q,Z)+1}function ji(P,Q){return 120<Q?Q-120:1<=(Z=((Z=N6[Q-1])>>4)*P+(8-(15&Z)))?Z:1;var Z}function Ni(P,Q,Z){var ne=W(Z),fe=P[Q+=255&ne].g-8;return 0<fe&&(ee(Z,Z.u+8),ne=W(Z),Q+=P[Q].value,Q+=ne&(1<<fe)-1),ee(Z,Z.u+P[Q].g),P[Q].value}function pr(P,Q,Z){return Z.g+=P.g,Z.value+=P.value<<Q>>>0,e(8>=Z.g),P.g}function rr(P,Q,Z){var ne=P.xc;return e((Q=ne==0?0:P.vc[P.md*(Z>>ne)+(Q>>ne)])<P.Wb),P.Ya[Q]}function ii(P,Q,Z,ne){var fe=P.ab,ve=P.c*Q,we=P.C;Q=we+Q;var _e=Z,Ee=ne;for(ne=P.Ta,Z=P.Ua;0<fe--;){var Pe=P.gc[fe],Ve=we,st=Q,at=_e,et=Ee,bt=(Ee=ne,_e=Z,Pe.Ea);switch(e(Ve<st),e(st<=Pe.nc),Pe.hc){case 2:Gy(at,et,(st-Ve)*bt,Ee,_e);break;case 0:var ft=Ve,Ge=st,Xe=Ee,gt=_e,mt=(Mt=Pe).Ea;ft==0&&(aA(at,et,null,null,1,Xe,gt),We(at,et+1,0,0,mt-1,Xe,gt+1),et+=mt,gt+=mt,++ft);for(var xt=1<<Mt.b,$t=xt-1,It=ce(mt,Mt.b),An=Mt.K,Mt=Mt.w+(ft>>Mt.b)*It;ft<Ge;){var yr=An,br=Mt,hr=1;for(cd(at,et,Xe,gt-mt,1,Xe,gt);hr<mt;){var qn=(hr&~$t)+xt;qn>mt&&(qn=mt),(0,lu[yr[br++]>>8&15])(at,et+ +hr,Xe,gt+hr-mt,qn-hr,Xe,gt+hr),hr=qn}et+=mt,gt+=mt,++ft&$t||(Mt+=It)}st!=Pe.nc&&r(Ee,_e-bt,Ee,_e+(st-Ve-1)*bt,bt);break;case 1:for(bt=at,Ge=et,mt=(at=Pe.Ea)-(gt=at&~(Xe=(et=1<<Pe.b)-1)),ft=ce(at,Pe.b),xt=Pe.K,Pe=Pe.w+(Ve>>Pe.b)*ft;Ve<st;){for($t=xt,It=Pe,An=new ze,Mt=Ge+gt,yr=Ge+at;Ge<Mt;)yt($t[It++],An),Ih(An,bt,Ge,et,Ee,_e),Ge+=et,_e+=et;Ge<yr&&(yt($t[It++],An),Ih(An,bt,Ge,mt,Ee,_e),Ge+=mt,_e+=mt),++Ve&Xe||(Pe+=ft)}break;case 3:if(at==Ee&&et==_e&&0<Pe.b){for(Ge=Ee,at=bt=_e+(st-Ve)*bt-(gt=(st-Ve)*ce(Pe.Ea,Pe.b)),et=Ee,Xe=_e,ft=[],gt=(mt=gt)-1;0<=gt;--gt)ft[gt]=et[Xe+gt];for(gt=mt-1;0<=gt;--gt)Ge[at+gt]=ft[gt];Ya(Pe,Ve,st,Ee,bt,Ee,_e)}else Ya(Pe,Ve,st,at,et,Ee,_e)}_e=ne,Ee=Z}Ee!=Z&&r(ne,Z,_e,Ee,ve)}function ba(P,Q){var Z=P.V,ne=P.Ba+P.c*P.C,fe=Q-P.C;if(e(Q<=P.l.o),e(16>=fe),0<fe){var ve=P.l,we=P.Ta,_e=P.Ua,Ee=ve.width;if(ii(P,fe,Z,ne),fe=_e=[_e],e((Z=P.C)<(ne=Q)),e(ve.v<ve.va),ne>ve.o&&(ne=ve.o),Z<ve.j){var Pe=ve.j-Z;Z=ve.j,fe[0]+=Pe*Ee}if(Z>=ne?Z=0:(fe[0]+=4*ve.v,ve.ka=Z-ve.j,ve.U=ve.va-ve.v,ve.T=ne-Z,Z=1),Z){if(_e=_e[0],11>(Z=P.ca).S){var Ve=Z.f.RGBA,st=(ne=Z.S,fe=ve.U,ve=ve.T,Pe=Ve.eb,Ve.A),at=ve;for(Ve=Ve.fb+P.Ma*Ve.A;0<at--;){var et=we,bt=_e,ft=fe,Ge=Pe,Xe=Ve;switch(ne){case Xy:Ja(et,bt,ft,Ge,Xe);break;case Lh:Na(et,bt,ft,Ge,Xe);break;case vm:Na(et,bt,ft,Ge,Xe),vo(Ge,Xe,0,ft,1,0);break;case eE:dd(et,bt,ft,Ge,Xe);break;case Hx:Ut(et,bt,ft,Ge,Xe,1);break;case hA:Ut(et,bt,ft,Ge,Xe,1),vo(Ge,Xe,0,ft,1,0);break;case zx:Ut(et,bt,ft,Ge,Xe,0);break;case $x:Ut(et,bt,ft,Ge,Xe,0),vo(Ge,Xe,1,ft,1,0);break;case Yr:Oh(et,bt,ft,Ge,Xe);break;case Wx:Oh(et,bt,ft,Ge,Xe),Xr(Ge,Xe,ft,1,0);break;case Yy:ud(et,bt,ft,Ge,Xe);break;default:e(0)}_e+=Ee,Ve+=st}P.Ma+=ve}else alert("todo:EmitRescaledRowsYUVA");e(P.Ma<=Z.height)}}P.C=Q,e(P.C<=P.i)}function Hr(P){var Q;if(0<P.ua)return 0;for(Q=0;Q<P.Wb;++Q){var Z=P.Ya[Q].G,ne=P.Ya[Q].H;if(0<Z[1][ne[1]+0].g||0<Z[2][ne[2]+0].g||0<Z[3][ne[3]+0].g)return 0}return 1}function wa(P,Q,Z,ne,fe,ve){if(P.Z!=0){var we=P.qd,_e=P.rd;for(e(Ca[P.Z]!=null);Q<Z;++Q)Ca[P.Z](we,_e,ne,fe,ne,fe,ve),we=ne,_e=fe,fe+=ve;P.qd=we,P.rd=_e}}function ts(P,Q){var Z=P.l.ma,ne=Z.Z==0||Z.Z==1?P.l.j:P.C;if(ne=P.C<ne?ne:P.C,e(Q<=P.l.o),Q>ne){var fe=P.l.width,ve=Z.ca,we=Z.tb+fe*ne,_e=P.V,Ee=P.Ba+P.c*ne,Pe=P.gc;e(P.ab==1),e(Pe[0].hc==3),Lx(Pe[0],ne,Q,_e,Ee,ve,we),wa(Z,ne,Q,ve,we,fe)}P.C=P.Ma=Q}function $i(P,Q,Z,ne,fe,ve,we){var _e=P.$/ne,Ee=P.$%ne,Pe=P.m,Ve=P.s,st=Z+P.$,at=st;fe=Z+ne*fe;var et=Z+ne*ve,bt=280+Ve.ua,ft=P.Pb?_e:16777216,Ge=0<Ve.ua?Ve.Wa:null,Xe=Ve.wc,gt=st<et?rr(Ve,Ee,_e):null;e(P.C<ve),e(et<=fe);var mt=!1;e:for(;;){for(;mt||st<et;){var xt=0;if(_e>=ft){var $t=st-Z;e((ft=P).Pb),ft.wd=ft.m,ft.xd=$t,0<ft.s.ua&&ue(ft.s.Wa,ft.s.vb),ft=_e+Zy}if(Ee&Xe||(gt=rr(Ve,Ee,_e)),e(gt!=null),gt.Qb&&(Q[st]=gt.qb,mt=!0),!mt)if(ie(Pe),gt.jc){xt=Pe,$t=Q;var It=st,An=gt.pd[W(xt)&qi-1];e(gt.jc),256>An.g?(ee(xt,xt.u+An.g),$t[It]=An.value,xt=0):(ee(xt,xt.u+An.g-256),e(256<=An.value),xt=An.value),xt==0&&(mt=!0)}else xt=Ni(gt.G[0],gt.H[0],Pe);if(Pe.h)break;if(mt||256>xt){if(!mt)if(gt.nd)Q[st]=(gt.qb|xt<<8)>>>0;else{if(ie(Pe),mt=Ni(gt.G[1],gt.H[1],Pe),ie(Pe),$t=Ni(gt.G[2],gt.H[2],Pe),It=Ni(gt.G[3],gt.H[3],Pe),Pe.h)break;Q[st]=(It<<24|mt<<16|xt<<8|$t)>>>0}if(mt=!1,++st,++Ee>=ne&&(Ee=0,++_e,we!=null&&_e<=ve&&!(_e%16)&&we(P,_e),Ge!=null))for(;at<st;)xt=Q[at++],Ge.X[(506832829*xt&4294967295)>>>Ge.Mb]=xt}else if(280>xt){if(xt=di(xt-256,Pe),$t=Ni(gt.G[4],gt.H[4],Pe),ie(Pe),$t=ji(ne,$t=di($t,Pe)),Pe.h)break;if(st-Z<$t||fe-st<xt)break e;for(It=0;It<xt;++It)Q[st+It]=Q[st+It-$t];for(st+=xt,Ee+=xt;Ee>=ne;)Ee-=ne,++_e,we!=null&&_e<=ve&&!(_e%16)&&we(P,_e);if(e(st<=fe),Ee&Xe&&(gt=rr(Ve,Ee,_e)),Ge!=null)for(;at<st;)xt=Q[at++],Ge.X[(506832829*xt&4294967295)>>>Ge.Mb]=xt}else{if(!(xt<bt))break e;for(mt=xt-280,e(Ge!=null);at<st;)xt=Q[at++],Ge.X[(506832829*xt&4294967295)>>>Ge.Mb]=xt;xt=st,e(!(mt>>>($t=Ge).Xa)),Q[xt]=$t.X[mt],mt=!0}mt||e(Pe.h==Y(Pe))}if(P.Pb&&Pe.h&&st<fe)e(P.m.h),P.a=5,P.m=P.wd,P.$=P.xd,0<P.s.ua&&ue(P.s.vb,P.s.Wa);else{if(Pe.h)break e;we!=null&&we(P,_e>ve?ve:_e),P.a=0,P.$=st-Z}return 1}return P.a=3,0}function el(P){e(P!=null),P.vc=null,P.yc=null,P.Ya=null;var Q=P.Wa;Q!=null&&(Q.X=null),P.vb=null,e(P!=null)}function Ga(){var P=new Aj;return P==null?null:(P.a=0,P.xb=bm,mn("Predictor","VP8LPredictors"),mn("Predictor","VP8LPredictors_C"),mn("PredictorAdd","VP8LPredictorsAdd"),mn("PredictorAdd","VP8LPredictorsAdd_C"),Gy=ut,Ih=Nt,Ja=Ue,Na=ct,Oh=ht,ud=kt,dd=Ot,k.VP8LMapColor32b=Am,k.VP8LMapColor8b=pm,P)}function Ul(P,Q,Z,ne,fe){var ve=1,we=[P],_e=[Q],Ee=ne.m,Pe=ne.s,Ve=null,st=0;e:for(;;){if(Z)for(;ve&&K(Ee,1);){var at=we,et=_e,bt=ne,ft=1,Ge=bt.m,Xe=bt.gc[bt.ab],gt=K(Ge,2);if(bt.Oc&1<<gt)ve=0;else{switch(bt.Oc|=1<<gt,Xe.hc=gt,Xe.Ea=at[0],Xe.nc=et[0],Xe.K=[null],++bt.ab,e(4>=bt.ab),gt){case 0:case 1:Xe.b=K(Ge,3)+2,ft=Ul(ce(Xe.Ea,Xe.b),ce(Xe.nc,Xe.b),0,bt,Xe.K),Xe.K=Xe.K[0];break;case 3:var mt,xt=K(Ge,8)+1,$t=16<xt?0:4<xt?1:2<xt?2:3;if(at[0]=ce(Xe.Ea,$t),Xe.b=$t,mt=ft=Ul(xt,1,0,bt,Xe.K)){var It,An=xt,Mt=Xe,yr=1<<(8>>Mt.b),br=a(yr);if(br==null)mt=0;else{var hr=Mt.K[0],qn=Mt.w;for(br[0]=Mt.K[0][0],It=1;It<1*An;++It)br[It]=Ne(hr[qn+It],br[It-1]);for(;It<4*yr;++It)br[It]=0;Mt.K[0]=null,Mt.K[0]=br,mt=1}}ft=mt;break;case 2:break;default:e(0)}ve=ft}}if(we=we[0],_e=_e[0],ve&&K(Ee,1)&&!(ve=1<=(st=K(Ee,4))&&11>=st)){ne.a=3;break e}var Or;if(Or=ve)t:{var $r,Fn,Ii,to=ne,rs=we,Ss=_e,Er=st,Sa=Z,Ea=to.m,Oi=to.s,Es=[null],aa=1,No=0,Ql=nE[Er];n:for(;;){if(Sa&&K(Ea,1)){var Mi=K(Ea,3)+2,ms=ce(rs,Mi),al=ce(Ss,Mi),Hh=ms*al;if(!Ul(ms,al,0,to,Es))break n;for(Es=Es[0],Oi.xc=Mi,$r=0;$r<Hh;++$r){var vd=Es[$r]>>8&65535;Es[$r]=vd,vd>=aa&&(aa=vd+1)}}if(Ea.h)break n;for(Fn=0;5>Fn;++Fn){var Br=fA[Fn];!Fn&&0<Er&&(Br+=1<<Er),No<Br&&(No=Br)}var fu=o(aa*Ql,F),tb=aa,yj=o(tb,S);if(yj==null)var Hl=null;else e(65536>=tb),Hl=yj;var zl=a(No);if(Hl==null||zl==null||fu==null){to.a=1;break n}var xA=fu;for($r=Ii=0;$r<aa;++$r){var $l=Hl[$r],yd=$l.G,vA=$l.H,Nm=0,ol=1,_m=0;for(Fn=0;5>Fn;++Fn){Br=fA[Fn],yd[Fn]=xA,vA[Fn]=Ii,!Fn&&0<Er&&(Br+=1<<Er);i:{var zh,bd=Br,Cm=to,Au=zl,oE=xA,bj=Ii,fi=0,yc=Cm.m,wj=K(yc,1);if(s(Au,0,0,bd),wj){var jj=K(yc,1)+1,nb=K(yc,1),rb=K(yc,nb==0?1:8);Au[rb]=1,jj==2&&(Au[rb=K(yc,8)]=1);var pu=1}else{var _i=a(19),gs=K(yc,4)+4;if(19<gs){Cm.a=3;var is=0;break i}for(zh=0;zh<gs;++zh)_i[j6[zh]]=K(yc,3);var Sm=void 0,wd=void 0,Em=Cm,B6=_i,Bs=bd,ib=Au,Xx=0,mu=Em.m,bc=8,ll=o(128,F);r:for(;I(ll,0,7,B6,19);){if(K(mu,1)){var Yx=2+2*K(mu,3);if((Sm=2+K(mu,Yx))>Bs)break r}else Sm=Bs;for(wd=0;wd<Bs&&Sm--;){ie(mu);var sb=ll[0+(127&W(mu))];ee(mu,mu.u+sb.g);var $h=sb.value;if(16>$h)ib[wd++]=$h,$h!=0&&(bc=$h);else{var lE=$h==16,Nj=$h-16,cE=Jy[Nj],_j=K(mu,qx[Nj])+cE;if(wd+_j>Bs)break r;for(var uE=lE?bc:0;0<_j--;)ib[wd++]=uE}}Xx=1;break r}Xx||(Em.a=3),pu=Xx}(pu=pu&&!yc.h)&&(fi=I(oE,bj,8,Au,bd)),pu&&fi!=0?is=fi:(Cm.a=3,is=0)}if(is==0)break n;if(ol&&tE[Fn]==1&&(ol=xA[Ii].g==0),Nm+=xA[Ii].g,Ii+=is,3>=Fn){var Bm,ab=zl[0];for(Bm=1;Bm<Br;++Bm)zl[Bm]>ab&&(ab=zl[Bm]);_m+=ab}}if($l.nd=ol,$l.Qb=0,ol&&($l.qb=(yd[3][vA[3]+0].value<<24|yd[1][vA[1]+0].value<<16|yd[2][vA[2]+0].value)>>>0,Nm==0&&256>yd[0][vA[0]+0].value&&($l.Qb=1,$l.qb+=yd[0][vA[0]+0].value<<8)),$l.jc=!$l.Qb&&6>_m,$l.jc){var Jx,cl=$l;for(Jx=0;Jx<qi;++Jx){var jd=Jx,wc=cl.pd[jd],yA=cl.G[0][cl.H[0]+jd];256<=yA.value?(wc.g=yA.g+256,wc.value=yA.value):(wc.g=0,wc.value=0,jd>>=pr(yA,8,wc),jd>>=pr(cl.G[1][cl.H[1]+jd],16,wc),jd>>=pr(cl.G[2][cl.H[2]+jd],0,wc),pr(cl.G[3][cl.H[3]+jd],24,wc))}}}Oi.vc=Es,Oi.Wb=aa,Oi.Ya=Hl,Oi.yc=fu,Or=1;break t}Or=0}if(!(ve=Or)){ne.a=3;break e}if(0<st){if(Pe.ua=1<<st,!X(Pe.Wa,st)){ne.a=1,ve=0;break e}}else Pe.ua=0;var ob=ne,lb=we,dE=_e,cb=ob.s,ub=cb.xc;if(ob.c=lb,ob.i=dE,cb.md=ce(lb,ub),cb.wc=ub==0?-1:(1<<ub)-1,Z){ne.xb=hu;break e}if((Ve=a(we*_e))==null){ne.a=1,ve=0;break e}ve=(ve=$i(ne,Ve,0,we,_e,_e,null))&&!Ee.h;break e}return ve?(fe!=null?fe[0]=Ve:(e(Ve==null),e(Z)),ne.$=0,Z||el(Pe)):el(Pe),ve}function eu(P,Q){var Z=P.c*P.i,ne=Z+Q+16*Q;return e(P.c<=Q),P.V=a(ne),P.V==null?(P.Ta=null,P.Ua=0,P.a=1,0):(P.Ta=P.V,P.Ua=P.Ba+Z+Q,1)}function nd(P,Q){var Z=P.C,ne=Q-Z,fe=P.V,ve=P.Ba+P.c*Z;for(e(Q<=P.l.o);0<ne;){var we=16<ne?16:ne,_e=P.l.ma,Ee=P.l.width,Pe=Ee*we,Ve=_e.ca,st=_e.tb+Ee*Z,at=P.Ta,et=P.Ua;ii(P,we,fe,ve),Vi(at,et,Ve,st,Pe),wa(_e,Z,Z+we,Ve,st,Ee),ne-=we,fe+=we*P.c,Z+=we}e(Z==Q),P.C=P.Ma=Q}function rd(){this.ub=this.yd=this.td=this.Rb=0}function id(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function sd(){this.Fb=this.Bb=this.Cb=0,this.Zb=a(4),this.Lb=a(4)}function Vp(){this.Yb=function(){var P=[];return function Q(Z,ne,fe){for(var ve=fe[ne],we=0;we<ve&&(Z.push(fe.length>ne+1?[]:0),!(fe.length<ne+1));we++)Q(Z[we],ne+1,fe)}(P,0,[3,11]),P}()}function hi(){this.jb=a(3),this.Wc=l([4,8],Vp),this.Xc=l([4,17],Vp)}function Ex(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new a(4),this.od=new a(4)}function tu(){this.ld=this.La=this.dd=this.tc=0}function Vf(){this.Na=this.la=0}function Nh(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function _h(){this.ad=a(384),this.Za=0,this.Ob=a(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Kp(){this.uc=this.M=this.Nb=0,this.wa=Array(new tu),this.Y=0,this.ya=Array(new _h),this.aa=0,this.l=new nu}function ad(){this.y=a(16),this.f=a(8),this.ea=a(8)}function po(){this.cb=this.a=0,this.sc="",this.m=new V,this.Od=new rd,this.Kc=new id,this.ed=new Ex,this.Qa=new sd,this.Ic=this.$c=this.Aa=0,this.D=new Kp,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=o(8,V),this.ia=0,this.pb=o(4,Nh),this.Pa=new hi,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new ad),this.Hd=0,this.rb=Array(new Vf),this.sb=0,this.wa=Array(new tu),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new _h),this.L=this.aa=0,this.gd=l([4,2],tu),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function nu(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function tl(){var P=new po;return P!=null&&(P.a=0,P.sc="OK",P.cb=0,P.Xb=0,AA||(AA=Kf)),P}function ns(P,Q,Z){return P.a==0&&(P.a=Q,P.sc=Z,P.cb=0),0}function Hy(P,Q,Z){return 3<=Z&&P[Q+0]==157&&P[Q+1]==1&&P[Q+2]==42}function zy(P,Q){if(P==null)return 0;if(P.a=0,P.sc="OK",Q==null)return ns(P,2,"null VP8Io passed to VP8GetHeaders()");var Z=Q.data,ne=Q.w,fe=Q.ha;if(4>fe)return ns(P,7,"Truncated header.");var ve=Z[ne+0]|Z[ne+1]<<8|Z[ne+2]<<16,we=P.Od;if(we.Rb=!(1&ve),we.td=ve>>1&7,we.yd=ve>>4&1,we.ub=ve>>5,3<we.td)return ns(P,3,"Incorrect keyframe parameters.");if(!we.yd)return ns(P,4,"Frame not displayable.");ne+=3,fe-=3;var _e=P.Kc;if(we.Rb){if(7>fe)return ns(P,7,"cannot parse picture header");if(!Hy(Z,ne,fe))return ns(P,3,"Bad code word");_e.c=16383&(Z[ne+4]<<8|Z[ne+3]),_e.Td=Z[ne+4]>>6,_e.i=16383&(Z[ne+6]<<8|Z[ne+5]),_e.Ud=Z[ne+6]>>6,ne+=7,fe-=7,P.za=_e.c+15>>4,P.Ub=_e.i+15>>4,Q.width=_e.c,Q.height=_e.i,Q.Da=0,Q.j=0,Q.v=0,Q.va=Q.width,Q.o=Q.height,Q.da=0,Q.ib=Q.width,Q.hb=Q.height,Q.U=Q.width,Q.T=Q.height,s((ve=P.Pa).jb,0,255,ve.jb.length),e((ve=P.Qa)!=null),ve.Cb=0,ve.Bb=0,ve.Fb=1,s(ve.Zb,0,0,ve.Zb.length),s(ve.Lb,0,0,ve.Lb)}if(we.ub>fe)return ns(P,7,"bad partition length");q(ve=P.m,Z,ne,we.ub),ne+=we.ub,fe-=we.ub,we.Rb&&(_e.Ld=Ae(ve),_e.Kd=Ae(ve)),_e=P.Qa;var Ee,Pe=P.Pa;if(e(ve!=null),e(_e!=null),_e.Cb=Ae(ve),_e.Cb){if(_e.Bb=Ae(ve),Ae(ve)){for(_e.Fb=Ae(ve),Ee=0;4>Ee;++Ee)_e.Zb[Ee]=Ae(ve)?L(ve,7):0;for(Ee=0;4>Ee;++Ee)_e.Lb[Ee]=Ae(ve)?L(ve,6):0}if(_e.Bb)for(Ee=0;3>Ee;++Ee)Pe.jb[Ee]=Ae(ve)?U(ve,8):255}else _e.Bb=0;if(ve.Ka)return ns(P,3,"cannot parse segment header");if((_e=P.ed).zd=Ae(ve),_e.Tb=U(ve,6),_e.wb=U(ve,3),_e.Pc=Ae(ve),_e.Pc&&Ae(ve)){for(Pe=0;4>Pe;++Pe)Ae(ve)&&(_e.vd[Pe]=L(ve,6));for(Pe=0;4>Pe;++Pe)Ae(ve)&&(_e.od[Pe]=L(ve,6))}if(P.L=_e.Tb==0?0:_e.zd?1:2,ve.Ka)return ns(P,3,"cannot parse filter header");var Ve=fe;if(fe=Ee=ne,ne=Ee+Ve,_e=Ve,P.Xb=(1<<U(P.m,2))-1,Ve<3*(Pe=P.Xb))Z=7;else{for(Ee+=3*Pe,_e-=3*Pe,Ve=0;Ve<Pe;++Ve){var st=Z[fe+0]|Z[fe+1]<<8|Z[fe+2]<<16;st>_e&&(st=_e),q(P.Jc[+Ve],Z,Ee,st),Ee+=st,_e-=st,fe+=3}q(P.Jc[+Pe],Z,Ee,_e),Z=Ee<ne?0:5}if(Z!=0)return ns(P,Z,"cannot parse partitions");for(Z=U(Ee=P.m,7),fe=Ae(Ee)?L(Ee,4):0,ne=Ae(Ee)?L(Ee,4):0,_e=Ae(Ee)?L(Ee,4):0,Pe=Ae(Ee)?L(Ee,4):0,Ee=Ae(Ee)?L(Ee,4):0,Ve=P.Qa,st=0;4>st;++st){if(Ve.Cb){var at=Ve.Zb[st];Ve.Fb||(at+=Z)}else{if(0<st){P.pb[st]=P.pb[0];continue}at=Z}var et=P.pb[st];et.Sc[0]=ym[rl(at+fe,127)],et.Sc[1]=Vx[rl(at+0,127)],et.Eb[0]=2*ym[rl(at+ne,127)],et.Eb[1]=101581*Vx[rl(at+_e,127)]>>16,8>et.Eb[1]&&(et.Eb[1]=8),et.Qc[0]=ym[rl(at+Pe,117)],et.Qc[1]=Vx[rl(at+Ee,127)],et.lc=at+Ee}if(!we.Rb)return ns(P,4,"Not a key frame.");for(Ae(ve),we=P.Pa,Z=0;4>Z;++Z){for(fe=0;8>fe;++fe)for(ne=0;3>ne;++ne)for(_e=0;11>_e;++_e)Pe=he(ve,C6[Z][fe][ne][_e])?U(ve,8):iE[Z][fe][ne][_e],we.Wc[Z][fe].Yb[ne][_e]=Pe;for(fe=0;17>fe;++fe)we.Xc[Z][fe]=we.Wc[Z][gj[fe]]}return P.kc=Ae(ve),P.kc&&(P.Bd=U(ve,8)),P.cb=1}function Kf(P,Q,Z,ne,fe,ve,we){var _e=Q[fe].Yb[Z];for(Z=0;16>fe;++fe){if(!he(P,_e[Z+0]))return fe;for(;!he(P,_e[Z+1]);)if(_e=Q[++fe].Yb[0],Z=0,fe==16)return 16;var Ee=Q[fe+1].Yb;if(he(P,_e[Z+2])){var Pe=P,Ve=0;if(he(Pe,(at=_e)[(st=Z)+3]))if(he(Pe,at[st+6])){for(_e=0,st=2*(Ve=he(Pe,at[st+8]))+(at=he(Pe,at[st+9+Ve])),Ve=0,at=pj[st];at[_e];++_e)Ve+=Ve+he(Pe,at[_e]);Ve+=3+(8<<st)}else he(Pe,at[st+7])?(Ve=7+2*he(Pe,165),Ve+=he(Pe,145)):Ve=5+he(Pe,159);else Ve=he(Pe,at[st+4])?3+he(Pe,at[st+5]):2;_e=Ee[2]}else Ve=1,_e=Ee[1];Ee=we+mj[fe],0>(Pe=P).b&&se(Pe);var st,at=Pe.b,et=(st=Pe.Ca>>1)-(Pe.I>>at)>>31;--Pe.b,Pe.Ca+=et,Pe.Ca|=1,Pe.I-=(st+1&et)<<at,ve[Ee]=((Ve^et)-et)*ne[(0<fe)+0]}return 16}function Ch(P){var Q=P.rb[P.sb-1];Q.la=0,Q.Na=0,s(P.zc,0,0,P.zc.length),P.ja=0}function Gf(P,Q){if(P==null)return 0;if(Q==null)return ns(P,2,"NULL VP8Io parameter in VP8Decode().");if(!P.cb&&!zy(P,Q))return 0;if(e(P.cb),Q.ac==null||Q.ac(Q)){Q.ob&&(P.L=0);var Z=gA[P.L];if(P.L==2?(P.yb=0,P.zb=0):(P.yb=Q.v-Z>>4,P.zb=Q.j-Z>>4,0>P.yb&&(P.yb=0),0>P.zb&&(P.zb=0)),P.Va=Q.o+15+Z>>4,P.Hb=Q.va+15+Z>>4,P.Hb>P.za&&(P.Hb=P.za),P.Va>P.Ub&&(P.Va=P.Ub),0<P.L){var ne=P.ed;for(Z=0;4>Z;++Z){var fe;if(P.Qa.Cb){var ve=P.Qa.Lb[Z];P.Qa.Fb||(ve+=ne.Tb)}else ve=ne.Tb;for(fe=0;1>=fe;++fe){var we=P.gd[Z][fe],_e=ve;if(ne.Pc&&(_e+=ne.vd[0],fe&&(_e+=ne.od[0])),0<(_e=0>_e?0:63<_e?63:_e)){var Ee=_e;0<ne.wb&&(Ee=4<ne.wb?Ee>>2:Ee>>1)>9-ne.wb&&(Ee=9-ne.wb),1>Ee&&(Ee=1),we.dd=Ee,we.tc=2*_e+Ee,we.ld=40<=_e?2:15<=_e?1:0}else we.tc=0;we.La=fe}}}Z=0}else ns(P,6,"Frame setup failed"),Z=P.a;if(Z=Z==0){if(Z){P.$c=0,0<P.Aa||(P.Ic=xd);e:{Z=P.Ic,ne=4*(Ee=P.za);var Pe=32*Ee,Ve=Ee+1,st=0<P.L?Ee*(0<P.Aa?2:1):0,at=(P.Aa==2?2:1)*Ee;if((we=ne+832+(fe=3*(16*Z+gA[P.L])/2*Pe)+(ve=P.Fa!=null&&0<P.Fa.length?P.Kc.c*P.Kc.i:0))!=we)Z=0;else{if(we>P.Vb){if(P.Vb=0,P.Ec=a(we),P.Fc=0,P.Ec==null){Z=ns(P,1,"no memory during frame initialization.");break e}P.Vb=we}we=P.Ec,_e=P.Fc,P.Ac=we,P.Bc=_e,_e+=ne,P.Gd=o(Pe,ad),P.Hd=0,P.rb=o(Ve+1,Vf),P.sb=1,P.wa=st?o(st,tu):null,P.Y=0,P.D.Nb=0,P.D.wa=P.wa,P.D.Y=P.Y,0<P.Aa&&(P.D.Y+=Ee),e(!0),P.oc=we,P.pc=_e,_e+=832,P.ya=o(at,_h),P.aa=0,P.D.ya=P.ya,P.D.aa=P.aa,P.Aa==2&&(P.D.aa+=Ee),P.R=16*Ee,P.B=8*Ee,Ee=(Pe=gA[P.L])*P.R,Pe=Pe/2*P.B,P.sa=we,P.ta=_e+Ee,P.qa=P.sa,P.ra=P.ta+16*Z*P.R+Pe,P.Ha=P.qa,P.Ia=P.ra+8*Z*P.B+Pe,P.$c=0,_e+=fe,P.mb=ve?we:null,P.nb=ve?_e:null,e(_e+ve<=P.Fc+P.Vb),Ch(P),s(P.Ac,P.Bc,0,ne),Z=1}}if(Z){if(Q.ka=0,Q.y=P.sa,Q.O=P.ta,Q.f=P.qa,Q.N=P.ra,Q.ea=P.Ha,Q.Vd=P.Ia,Q.fa=P.R,Q.Rc=P.B,Q.F=null,Q.J=0,!Qx){for(Z=-255;255>=Z;++Z)ps[255+Z]=0>Z?-Z:Z;for(Z=-1020;1020>=Z;++Z)uu[1020+Z]=-128>Z?-128:127<Z?127:Z;for(Z=-112;112>=Z;++Z)gm[112+Z]=-16>Z?-16:15<Z?15:Z;for(Z=-255;510>=Z;++Z)dA[255+Z]=0>Z?0:255<Z?255:Z;Qx=1}mm=jr,hd=Dx,fd=Sh,_a=hj,il=Xp,Nr=Bx,oA=rm,Rx=Cs,lA=nA,cA=Ux,uA=Th,sl=kh,Ad=rA,cu=im,pd=mc,md=Il,Mh=Ol,ia=Vy,Rl[0]=au,Rl[1]=$y,Rl[2]=Zf,Rl[3]=su,Rl[4]=kx,Rl[5]=Jp,Rl[6]=Bh,Rl[7]=Zp,Rl[8]=qy,Rl[9]=em,eo[0]=Jf,eo[1]=Wy,eo[2]=ru,eo[3]=Yf,eo[4]=Pi,eo[5]=iu,eo[6]=Ac,yo[0]=nl,yo[1]=Tx,yo[2]=fj,yo[3]=od,yo[4]=eA,yo[5]=tm,yo[6]=Fx,Z=1}else Z=0}Z&&(Z=function(et,bt){for(et.M=0;et.M<et.Va;++et.M){var ft,Ge=et.Jc[et.M&et.Xb],Xe=et.m,gt=et;for(ft=0;ft<gt.za;++ft){var mt=Xe,xt=gt,$t=xt.Ac,It=xt.Bc+4*ft,An=xt.zc,Mt=xt.ya[xt.aa+ft];if(xt.Qa.Bb?Mt.$b=he(mt,xt.Pa.jb[0])?2+he(mt,xt.Pa.jb[2]):he(mt,xt.Pa.jb[1]):Mt.$b=0,xt.kc&&(Mt.Ad=he(mt,xt.Bd)),Mt.Za=!he(mt,145)+0,Mt.Za){var yr=Mt.Ob,br=0;for(xt=0;4>xt;++xt){var hr,qn=An[0+xt];for(hr=0;4>hr;++hr){qn=_6[$t[It+hr]][qn];for(var Or=rE[he(mt,qn[0])];0<Or;)Or=rE[2*Or+he(mt,qn[Or])];qn=-Or,$t[It+hr]=qn}r(yr,br,$t,It,4),br+=4,An[0+xt]=qn}}else qn=he(mt,156)?he(mt,128)?1:3:he(mt,163)?2:0,Mt.Ob[0]=qn,s($t,It,qn,4),s(An,0,qn,4);Mt.Dd=he(mt,142)?he(mt,114)?he(mt,183)?1:3:2:0}if(gt.m.Ka)return ns(et,7,"Premature end-of-partition0 encountered.");for(;et.ja<et.za;++et.ja){if(gt=Ge,mt=(Xe=et).rb[Xe.sb-1],$t=Xe.rb[Xe.sb+Xe.ja],ft=Xe.ya[Xe.aa+Xe.ja],It=Xe.kc?ft.Ad:0)mt.la=$t.la=0,ft.Za||(mt.Na=$t.Na=0),ft.Hc=0,ft.Gc=0,ft.ia=0;else{var $r,Fn;if(mt=$t,$t=gt,It=Xe.Pa.Xc,An=Xe.ya[Xe.aa+Xe.ja],Mt=Xe.pb[An.$b],xt=An.ad,yr=0,br=Xe.rb[Xe.sb-1],qn=hr=0,s(xt,yr,0,384),An.Za)var Ii=0,to=It[3];else{Or=a(16);var rs=mt.Na+br.Na;if(rs=AA($t,It[1],rs,Mt.Eb,0,Or,0),mt.Na=br.Na=(0<rs)+0,1<rs)mm(Or,0,xt,yr);else{var Ss=Or[0]+3>>3;for(Or=0;256>Or;Or+=16)xt[yr+Or]=Ss}Ii=1,to=It[0]}var Er=15&mt.la,Sa=15&br.la;for(Or=0;4>Or;++Or){var Ea=1&Sa;for(Ss=Fn=0;4>Ss;++Ss)Er=Er>>1|(Ea=(rs=AA($t,to,rs=Ea+(1&Er),Mt.Sc,Ii,xt,yr))>Ii)<<7,Fn=Fn<<2|(3<rs?3:1<rs?2:xt[yr+0]!=0),yr+=16;Er>>=4,Sa=Sa>>1|Ea<<7,hr=(hr<<8|Fn)>>>0}for(to=Er,Ii=Sa>>4,$r=0;4>$r;$r+=2){for(Fn=0,Er=mt.la>>4+$r,Sa=br.la>>4+$r,Or=0;2>Or;++Or){for(Ea=1&Sa,Ss=0;2>Ss;++Ss)rs=Ea+(1&Er),Er=Er>>1|(Ea=0<(rs=AA($t,It[2],rs,Mt.Qc,0,xt,yr)))<<3,Fn=Fn<<2|(3<rs?3:1<rs?2:xt[yr+0]!=0),yr+=16;Er>>=2,Sa=Sa>>1|Ea<<5}qn|=Fn<<4*$r,to|=Er<<4<<$r,Ii|=(240&Sa)<<$r}mt.la=to,br.la=Ii,An.Hc=hr,An.Gc=qn,An.ia=43690&qn?0:Mt.ia,It=!(hr|qn)}if(0<Xe.L&&(Xe.wa[Xe.Y+Xe.ja]=Xe.gd[ft.$b][ft.Za],Xe.wa[Xe.Y+Xe.ja].La|=!It),gt.Ka)return ns(et,7,"Premature end-of-file encountered.")}if(Ch(et),Xe=bt,gt=1,ft=(Ge=et).D,mt=0<Ge.L&&Ge.M>=Ge.zb&&Ge.M<=Ge.Va,Ge.Aa==0)e:{if(ft.M=Ge.M,ft.uc=mt,om(Ge,ft),gt=1,ft=(Fn=Ge.D).Nb,mt=(qn=gA[Ge.L])*Ge.R,$t=qn/2*Ge.B,Or=16*ft*Ge.R,Ss=8*ft*Ge.B,It=Ge.sa,An=Ge.ta-mt+Or,Mt=Ge.qa,xt=Ge.ra-$t+Ss,yr=Ge.Ha,br=Ge.Ia-$t+Ss,Sa=(Er=Fn.M)==0,hr=Er>=Ge.Va-1,Ge.Aa==2&&om(Ge,Fn),Fn.uc)for(Ea=(rs=Ge).D.M,e(rs.D.uc),Fn=rs.yb;Fn<rs.Hb;++Fn){Ii=Fn,to=Ea;var Oi=(Es=(Br=rs).D).Nb;$r=Br.R;var Es=Es.wa[Es.Y+Ii],aa=Br.sa,No=Br.ta+16*Oi*$r+16*Ii,Ql=Es.dd,Mi=Es.tc;if(Mi!=0)if(e(3<=Mi),Br.L==1)0<Ii&&md(aa,No,$r,Mi+4),Es.La&&ia(aa,No,$r,Mi),0<to&&pd(aa,No,$r,Mi+4),Es.La&&Mh(aa,No,$r,Mi);else{var ms=Br.B,al=Br.qa,Hh=Br.ra+8*Oi*ms+8*Ii,vd=Br.Ha,Br=Br.Ia+8*Oi*ms+8*Ii;Oi=Es.ld,0<Ii&&(Rx(aa,No,$r,Mi+4,Ql,Oi),cA(al,Hh,vd,Br,ms,Mi+4,Ql,Oi)),Es.La&&(sl(aa,No,$r,Mi,Ql,Oi),cu(al,Hh,vd,Br,ms,Mi,Ql,Oi)),0<to&&(oA(aa,No,$r,Mi+4,Ql,Oi),lA(al,Hh,vd,Br,ms,Mi+4,Ql,Oi)),Es.La&&(uA(aa,No,$r,Mi,Ql,Oi),Ad(al,Hh,vd,Br,ms,Mi,Ql,Oi))}}if(Ge.ia&&alert("todo:DitherRow"),Xe.put!=null){if(Fn=16*Er,Er=16*(Er+1),Sa?(Xe.y=Ge.sa,Xe.O=Ge.ta+Or,Xe.f=Ge.qa,Xe.N=Ge.ra+Ss,Xe.ea=Ge.Ha,Xe.W=Ge.Ia+Ss):(Fn-=qn,Xe.y=It,Xe.O=An,Xe.f=Mt,Xe.N=xt,Xe.ea=yr,Xe.W=br),hr||(Er-=qn),Er>Xe.o&&(Er=Xe.o),Xe.F=null,Xe.J=null,Ge.Fa!=null&&0<Ge.Fa.length&&Fn<Er&&(Xe.J=Ox(Ge,Xe,Fn,Er-Fn),Xe.F=Ge.mb,Xe.F==null&&Xe.F.length==0)){gt=ns(Ge,3,"Could not decode alpha data.");break e}Fn<Xe.j&&(qn=Xe.j-Fn,Fn=Xe.j,e(!(1&qn)),Xe.O+=Ge.R*qn,Xe.N+=Ge.B*(qn>>1),Xe.W+=Ge.B*(qn>>1),Xe.F!=null&&(Xe.J+=Xe.width*qn)),Fn<Er&&(Xe.O+=Xe.v,Xe.N+=Xe.v>>1,Xe.W+=Xe.v>>1,Xe.F!=null&&(Xe.J+=Xe.v),Xe.ka=Fn-Xe.j,Xe.U=Xe.va-Xe.v,Xe.T=Er-Fn,gt=Xe.put(Xe))}ft+1!=Ge.Ic||hr||(r(Ge.sa,Ge.ta-mt,It,An+16*Ge.R,mt),r(Ge.qa,Ge.ra-$t,Mt,xt+8*Ge.B,$t),r(Ge.Ha,Ge.Ia-$t,yr,br+8*Ge.B,$t))}if(!gt)return ns(et,6,"Output aborted.")}return 1}(P,Q)),Q.bc!=null&&Q.bc(Q),Z&=1}return Z?(P.cb=0,Z):0}function mo(P,Q,Z,ne,fe){fe=P[Q+Z+32*ne]+(fe>>3),P[Q+Z+32*ne]=-256&fe?0>fe?0:255:fe}function Gp(P,Q,Z,ne,fe,ve){mo(P,Q,0,Z,ne+fe),mo(P,Q,1,Z,ne+ve),mo(P,Q,2,Z,ne-ve),mo(P,Q,3,Z,ne-fe)}function go(P){return(20091*P>>16)+P}function Xf(P,Q,Z,ne){var fe,ve=0,we=a(16);for(fe=0;4>fe;++fe){var _e=P[Q+0]+P[Q+8],Ee=P[Q+0]-P[Q+8],Pe=(35468*P[Q+4]>>16)-go(P[Q+12]),Ve=go(P[Q+4])+(35468*P[Q+12]>>16);we[ve+0]=_e+Ve,we[ve+1]=Ee+Pe,we[ve+2]=Ee-Pe,we[ve+3]=_e-Ve,ve+=4,Q++}for(fe=ve=0;4>fe;++fe)_e=(P=we[ve+0]+4)+we[ve+8],Ee=P-we[ve+8],Pe=(35468*we[ve+4]>>16)-go(we[ve+12]),mo(Z,ne,0,0,_e+(Ve=go(we[ve+4])+(35468*we[ve+12]>>16))),mo(Z,ne,1,0,Ee+Pe),mo(Z,ne,2,0,Ee-Pe),mo(Z,ne,3,0,_e-Ve),ve++,ne+=32}function Bx(P,Q,Z,ne){var fe=P[Q+0]+4,ve=35468*P[Q+4]>>16,we=go(P[Q+4]),_e=35468*P[Q+1]>>16;Gp(Z,ne,0,fe+we,P=go(P[Q+1]),_e),Gp(Z,ne,1,fe+ve,P,_e),Gp(Z,ne,2,fe-ve,P,_e),Gp(Z,ne,3,fe-we,P,_e)}function Dx(P,Q,Z,ne,fe){Xf(P,Q,Z,ne),fe&&Xf(P,Q+16,Z,ne+4)}function Sh(P,Q,Z,ne){hd(P,Q+0,Z,ne,1),hd(P,Q+32,Z,ne+128,1)}function hj(P,Q,Z,ne){var fe;for(P=P[Q+0]+4,fe=0;4>fe;++fe)for(Q=0;4>Q;++Q)mo(Z,ne,Q,fe,P)}function Xp(P,Q,Z,ne){P[Q+0]&&_a(P,Q+0,Z,ne),P[Q+16]&&_a(P,Q+16,Z,ne+4),P[Q+32]&&_a(P,Q+32,Z,ne+128),P[Q+48]&&_a(P,Q+48,Z,ne+128+4)}function jr(P,Q,Z,ne){var fe,ve=a(16);for(fe=0;4>fe;++fe){var we=P[Q+0+fe]+P[Q+12+fe],_e=P[Q+4+fe]+P[Q+8+fe],Ee=P[Q+4+fe]-P[Q+8+fe],Pe=P[Q+0+fe]-P[Q+12+fe];ve[0+fe]=we+_e,ve[8+fe]=we-_e,ve[4+fe]=Pe+Ee,ve[12+fe]=Pe-Ee}for(fe=0;4>fe;++fe)we=(P=ve[0+4*fe]+3)+ve[3+4*fe],_e=ve[1+4*fe]+ve[2+4*fe],Ee=ve[1+4*fe]-ve[2+4*fe],Pe=P-ve[3+4*fe],Z[ne+0]=we+_e>>3,Z[ne+16]=Pe+Ee>>3,Z[ne+32]=we-_e>>3,Z[ne+48]=Pe-Ee>>3,ne+=64}function Yp(P,Q,Z){var ne,fe=Q-32,ve=Za,we=255-P[fe-1];for(ne=0;ne<Z;++ne){var _e,Ee=ve,Pe=we+P[Q-1];for(_e=0;_e<Z;++_e)P[Q+_e]=Ee[Pe+P[fe+_e]];Q+=32}}function $y(P,Q){Yp(P,Q,4)}function Tx(P,Q){Yp(P,Q,8)}function Wy(P,Q){Yp(P,Q,16)}function ru(P,Q){var Z;for(Z=0;16>Z;++Z)r(P,Q+32*Z,P,Q-32,16)}function Yf(P,Q){var Z;for(Z=16;0<Z;--Z)s(P,Q,P[Q-1],16),Q+=32}function Eh(P,Q,Z){var ne;for(ne=0;16>ne;++ne)s(Q,Z+32*ne,P,16)}function Jf(P,Q){var Z,ne=16;for(Z=0;16>Z;++Z)ne+=P[Q-1+32*Z]+P[Q+Z-32];Eh(ne>>5,P,Q)}function Pi(P,Q){var Z,ne=8;for(Z=0;16>Z;++Z)ne+=P[Q-1+32*Z];Eh(ne>>4,P,Q)}function iu(P,Q){var Z,ne=8;for(Z=0;16>Z;++Z)ne+=P[Q+Z-32];Eh(ne>>4,P,Q)}function Ac(P,Q){Eh(128,P,Q)}function jn(P,Q,Z){return P+2*Q+Z+2>>2}function Zf(P,Q){var Z,ne=Q-32;for(ne=new Uint8Array([jn(P[ne-1],P[ne+0],P[ne+1]),jn(P[ne+0],P[ne+1],P[ne+2]),jn(P[ne+1],P[ne+2],P[ne+3]),jn(P[ne+2],P[ne+3],P[ne+4])]),Z=0;4>Z;++Z)r(P,Q+32*Z,ne,0,ne.length)}function su(P,Q){var Z=P[Q-1],ne=P[Q-1+32],fe=P[Q-1+64],ve=P[Q-1+96];Be(P,Q+0,16843009*jn(P[Q-1-32],Z,ne)),Be(P,Q+32,16843009*jn(Z,ne,fe)),Be(P,Q+64,16843009*jn(ne,fe,ve)),Be(P,Q+96,16843009*jn(fe,ve,ve))}function au(P,Q){var Z,ne=4;for(Z=0;4>Z;++Z)ne+=P[Q+Z-32]+P[Q-1+32*Z];for(ne>>=3,Z=0;4>Z;++Z)s(P,Q+32*Z,ne,4)}function kx(P,Q){var Z=P[Q-1+0],ne=P[Q-1+32],fe=P[Q-1+64],ve=P[Q-1-32],we=P[Q+0-32],_e=P[Q+1-32],Ee=P[Q+2-32],Pe=P[Q+3-32];P[Q+0+96]=jn(ne,fe,P[Q-1+96]),P[Q+1+96]=P[Q+0+64]=jn(Z,ne,fe),P[Q+2+96]=P[Q+1+64]=P[Q+0+32]=jn(ve,Z,ne),P[Q+3+96]=P[Q+2+64]=P[Q+1+32]=P[Q+0+0]=jn(we,ve,Z),P[Q+3+64]=P[Q+2+32]=P[Q+1+0]=jn(_e,we,ve),P[Q+3+32]=P[Q+2+0]=jn(Ee,_e,we),P[Q+3+0]=jn(Pe,Ee,_e)}function Bh(P,Q){var Z=P[Q+1-32],ne=P[Q+2-32],fe=P[Q+3-32],ve=P[Q+4-32],we=P[Q+5-32],_e=P[Q+6-32],Ee=P[Q+7-32];P[Q+0+0]=jn(P[Q+0-32],Z,ne),P[Q+1+0]=P[Q+0+32]=jn(Z,ne,fe),P[Q+2+0]=P[Q+1+32]=P[Q+0+64]=jn(ne,fe,ve),P[Q+3+0]=P[Q+2+32]=P[Q+1+64]=P[Q+0+96]=jn(fe,ve,we),P[Q+3+32]=P[Q+2+64]=P[Q+1+96]=jn(ve,we,_e),P[Q+3+64]=P[Q+2+96]=jn(we,_e,Ee),P[Q+3+96]=jn(_e,Ee,Ee)}function Jp(P,Q){var Z=P[Q-1+0],ne=P[Q-1+32],fe=P[Q-1+64],ve=P[Q-1-32],we=P[Q+0-32],_e=P[Q+1-32],Ee=P[Q+2-32],Pe=P[Q+3-32];P[Q+0+0]=P[Q+1+64]=ve+we+1>>1,P[Q+1+0]=P[Q+2+64]=we+_e+1>>1,P[Q+2+0]=P[Q+3+64]=_e+Ee+1>>1,P[Q+3+0]=Ee+Pe+1>>1,P[Q+0+96]=jn(fe,ne,Z),P[Q+0+64]=jn(ne,Z,ve),P[Q+0+32]=P[Q+1+96]=jn(Z,ve,we),P[Q+1+32]=P[Q+2+96]=jn(ve,we,_e),P[Q+2+32]=P[Q+3+96]=jn(we,_e,Ee),P[Q+3+32]=jn(_e,Ee,Pe)}function Zp(P,Q){var Z=P[Q+0-32],ne=P[Q+1-32],fe=P[Q+2-32],ve=P[Q+3-32],we=P[Q+4-32],_e=P[Q+5-32],Ee=P[Q+6-32],Pe=P[Q+7-32];P[Q+0+0]=Z+ne+1>>1,P[Q+1+0]=P[Q+0+64]=ne+fe+1>>1,P[Q+2+0]=P[Q+1+64]=fe+ve+1>>1,P[Q+3+0]=P[Q+2+64]=ve+we+1>>1,P[Q+0+32]=jn(Z,ne,fe),P[Q+1+32]=P[Q+0+96]=jn(ne,fe,ve),P[Q+2+32]=P[Q+1+96]=jn(fe,ve,we),P[Q+3+32]=P[Q+2+96]=jn(ve,we,_e),P[Q+3+64]=jn(we,_e,Ee),P[Q+3+96]=jn(_e,Ee,Pe)}function em(P,Q){var Z=P[Q-1+0],ne=P[Q-1+32],fe=P[Q-1+64],ve=P[Q-1+96];P[Q+0+0]=Z+ne+1>>1,P[Q+2+0]=P[Q+0+32]=ne+fe+1>>1,P[Q+2+32]=P[Q+0+64]=fe+ve+1>>1,P[Q+1+0]=jn(Z,ne,fe),P[Q+3+0]=P[Q+1+32]=jn(ne,fe,ve),P[Q+3+32]=P[Q+1+64]=jn(fe,ve,ve),P[Q+3+64]=P[Q+2+64]=P[Q+0+96]=P[Q+1+96]=P[Q+2+96]=P[Q+3+96]=ve}function qy(P,Q){var Z=P[Q-1+0],ne=P[Q-1+32],fe=P[Q-1+64],ve=P[Q-1+96],we=P[Q-1-32],_e=P[Q+0-32],Ee=P[Q+1-32],Pe=P[Q+2-32];P[Q+0+0]=P[Q+2+32]=Z+we+1>>1,P[Q+0+32]=P[Q+2+64]=ne+Z+1>>1,P[Q+0+64]=P[Q+2+96]=fe+ne+1>>1,P[Q+0+96]=ve+fe+1>>1,P[Q+3+0]=jn(_e,Ee,Pe),P[Q+2+0]=jn(we,_e,Ee),P[Q+1+0]=P[Q+3+32]=jn(Z,we,_e),P[Q+1+32]=P[Q+3+64]=jn(ne,Z,we),P[Q+1+64]=P[Q+3+96]=jn(fe,ne,Z),P[Q+1+96]=jn(ve,fe,ne)}function fj(P,Q){var Z;for(Z=0;8>Z;++Z)r(P,Q+32*Z,P,Q-32,8)}function od(P,Q){var Z;for(Z=0;8>Z;++Z)s(P,Q,P[Q-1],8),Q+=32}function pc(P,Q,Z){var ne;for(ne=0;8>ne;++ne)s(Q,Z+32*ne,P,8)}function nl(P,Q){var Z,ne=8;for(Z=0;8>Z;++Z)ne+=P[Q+Z-32]+P[Q-1+32*Z];pc(ne>>4,P,Q)}function tm(P,Q){var Z,ne=4;for(Z=0;8>Z;++Z)ne+=P[Q+Z-32];pc(ne>>3,P,Q)}function eA(P,Q){var Z,ne=4;for(Z=0;8>Z;++Z)ne+=P[Q-1+32*Z];pc(ne>>3,P,Q)}function Fx(P,Q){pc(128,P,Q)}function Dh(P,Q,Z){var ne=P[Q-Z],fe=P[Q+0],ve=3*(fe-ne)+du[1020+P[Q-2*Z]-P[Q+Z]],we=xm[112+(ve+4>>3)];P[Q-Z]=Za[255+ne+xm[112+(ve+3>>3)]],P[Q+0]=Za[255+fe-we]}function tA(P,Q,Z,ne){var fe=P[Q+0],ve=P[Q+Z];return Ll[255+P[Q-2*Z]-P[Q-Z]]>ne||Ll[255+ve-fe]>ne}function nm(P,Q,Z,ne){return 4*Ll[255+P[Q-Z]-P[Q+0]]+Ll[255+P[Q-2*Z]-P[Q+Z]]<=ne}function Px(P,Q,Z,ne,fe){var ve=P[Q-3*Z],we=P[Q-2*Z],_e=P[Q-Z],Ee=P[Q+0],Pe=P[Q+Z],Ve=P[Q+2*Z],st=P[Q+3*Z];return 4*Ll[255+_e-Ee]+Ll[255+we-Pe]>ne?0:Ll[255+P[Q-4*Z]-ve]<=fe&&Ll[255+ve-we]<=fe&&Ll[255+we-_e]<=fe&&Ll[255+st-Ve]<=fe&&Ll[255+Ve-Pe]<=fe&&Ll[255+Pe-Ee]<=fe}function mc(P,Q,Z,ne){var fe=2*ne+1;for(ne=0;16>ne;++ne)nm(P,Q+ne,Z,fe)&&Dh(P,Q+ne,Z)}function Il(P,Q,Z,ne){var fe=2*ne+1;for(ne=0;16>ne;++ne)nm(P,Q+ne*Z,1,fe)&&Dh(P,Q+ne*Z,1)}function Ol(P,Q,Z,ne){var fe;for(fe=3;0<fe;--fe)mc(P,Q+=4*Z,Z,ne)}function Vy(P,Q,Z,ne){var fe;for(fe=3;0<fe;--fe)Il(P,Q+=4,Z,ne)}function gc(P,Q,Z,ne,fe,ve,we,_e){for(ve=2*ve+1;0<fe--;){if(Px(P,Q,Z,ve,we))if(tA(P,Q,Z,_e))Dh(P,Q,Z);else{var Ee=P,Pe=Q,Ve=Z,st=Ee[Pe-2*Ve],at=Ee[Pe-Ve],et=Ee[Pe+0],bt=Ee[Pe+Ve],ft=Ee[Pe+2*Ve],Ge=27*(gt=du[1020+3*(et-at)+du[1020+st-bt]])+63>>7,Xe=18*gt+63>>7,gt=9*gt+63>>7;Ee[Pe-3*Ve]=Za[255+Ee[Pe-3*Ve]+gt],Ee[Pe-2*Ve]=Za[255+st+Xe],Ee[Pe-Ve]=Za[255+at+Ge],Ee[Pe+0]=Za[255+et-Ge],Ee[Pe+Ve]=Za[255+bt-Xe],Ee[Pe+2*Ve]=Za[255+ft-gt]}Q+=ne}}function xo(P,Q,Z,ne,fe,ve,we,_e){for(ve=2*ve+1;0<fe--;){if(Px(P,Q,Z,ve,we))if(tA(P,Q,Z,_e))Dh(P,Q,Z);else{var Ee=P,Pe=Q,Ve=Z,st=Ee[Pe-Ve],at=Ee[Pe+0],et=Ee[Pe+Ve],bt=xm[112+((ft=3*(at-st))+4>>3)],ft=xm[112+(ft+3>>3)],Ge=bt+1>>1;Ee[Pe-2*Ve]=Za[255+Ee[Pe-2*Ve]+Ge],Ee[Pe-Ve]=Za[255+st+ft],Ee[Pe+0]=Za[255+at-bt],Ee[Pe+Ve]=Za[255+et-Ge]}Q+=ne}}function rm(P,Q,Z,ne,fe,ve){gc(P,Q,Z,1,16,ne,fe,ve)}function Cs(P,Q,Z,ne,fe,ve){gc(P,Q,1,Z,16,ne,fe,ve)}function Th(P,Q,Z,ne,fe,ve){var we;for(we=3;0<we;--we)xo(P,Q+=4*Z,Z,1,16,ne,fe,ve)}function kh(P,Q,Z,ne,fe,ve){var we;for(we=3;0<we;--we)xo(P,Q+=4,1,Z,16,ne,fe,ve)}function nA(P,Q,Z,ne,fe,ve,we,_e){gc(P,Q,fe,1,8,ve,we,_e),gc(Z,ne,fe,1,8,ve,we,_e)}function Ux(P,Q,Z,ne,fe,ve,we,_e){gc(P,Q,1,fe,8,ve,we,_e),gc(Z,ne,1,fe,8,ve,we,_e)}function rA(P,Q,Z,ne,fe,ve,we,_e){xo(P,Q+4*fe,fe,1,8,ve,we,_e),xo(Z,ne+4*fe,fe,1,8,ve,we,_e)}function im(P,Q,Z,ne,fe,ve,we,_e){xo(P,Q+4,1,fe,8,ve,we,_e),xo(Z,ne+4,1,fe,8,ve,we,_e)}function ou(){this.ba=new ge,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Re,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Fh(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function sm(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function Ky(){this.ua=0,this.Wa=new re,this.vb=new re,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new S,this.yc=new F}function Aj(){this.xb=this.a=0,this.l=new nu,this.ca=new ge,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new H,this.Pb=0,this.wd=new H,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new Ky,this.ab=0,this.gc=o(4,sm),this.Oc=0}function am(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new nu,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function ld(P,Q,Z,ne,fe,ve,we){for(P=P==null?0:P[Q+0],Q=0;Q<we;++Q)fe[ve+Q]=P+Z[ne+Q]&255,P=fe[ve+Q]}function Ix(P,Q,Z,ne,fe,ve,we){var _e;if(P==null)ld(null,null,Z,ne,fe,ve,we);else for(_e=0;_e<we;++_e)fe[ve+_e]=P[Q+_e]+Z[ne+_e]&255}function Ph(P,Q,Z,ne,fe,ve,we){if(P==null)ld(null,null,Z,ne,fe,ve,we);else{var _e,Ee=P[Q+0],Pe=Ee,Ve=Ee;for(_e=0;_e<we;++_e)Pe=Ve+(Ee=P[Q+_e])-Pe,Ve=Z[ne+_e]+(-256&Pe?0>Pe?0:255:Pe)&255,Pe=Ee,fe[ve+_e]=Ve}}function Ox(P,Q,Z,ne){var fe=Q.width,ve=Q.o;if(e(P!=null&&Q!=null),0>Z||0>=ne||Z+ne>ve)return null;if(!P.Cc){if(P.ga==null){var we;if(P.ga=new am,(we=P.ga==null)||(we=Q.width*Q.o,e(P.Gb.length==0),P.Gb=a(we),P.Uc=0,P.Gb==null?we=0:(P.mb=P.Gb,P.nb=P.Uc,P.rc=null,we=1),we=!we),!we){we=P.ga;var _e=P.Fa,Ee=P.P,Pe=P.qc,Ve=P.mb,st=P.nb,at=Ee+1,et=Pe-1,bt=we.l;if(e(_e!=null&&Ve!=null&&Q!=null),Ca[0]=null,Ca[1]=ld,Ca[2]=Ix,Ca[3]=Ph,we.ca=Ve,we.tb=st,we.c=Q.width,we.i=Q.height,e(0<we.c&&0<we.i),1>=Pe)Q=0;else if(we.$a=_e[Ee+0]>>0&3,we.Z=_e[Ee+0]>>2&3,we.Lc=_e[Ee+0]>>4&3,Ee=_e[Ee+0]>>6&3,0>we.$a||1<we.$a||4<=we.Z||1<we.Lc||Ee)Q=0;else if(bt.put=Pr,bt.ac=kn,bt.bc=Fi,bt.ma=we,bt.width=Q.width,bt.height=Q.height,bt.Da=Q.Da,bt.v=Q.v,bt.va=Q.va,bt.j=Q.j,bt.o=Q.o,we.$a)e:{e(we.$a==1),Q=Ga();t:for(;;){if(Q==null){Q=0;break e}if(e(we!=null),we.mc=Q,Q.c=we.c,Q.i=we.i,Q.l=we.l,Q.l.ma=we,Q.l.width=we.c,Q.l.height=we.i,Q.a=0,z(Q.m,_e,at,et),!Ul(we.c,we.i,1,Q,null)||(Q.ab==1&&Q.gc[0].hc==3&&Hr(Q.s)?(we.ic=1,_e=Q.c*Q.i,Q.Ta=null,Q.Ua=0,Q.V=a(_e),Q.Ba=0,Q.V==null?(Q.a=1,Q=0):Q=1):(we.ic=0,Q=eu(Q,we.c)),!Q))break t;Q=1;break e}we.mc=null,Q=0}else Q=et>=we.c*we.i;we=!Q}if(we)return null;P.ga.Lc!=1?P.Ga=0:ne=ve-Z}e(P.ga!=null),e(Z+ne<=ve);e:{if(Q=(_e=P.ga).c,ve=_e.l.o,_e.$a==0){if(at=P.rc,et=P.Vc,bt=P.Fa,Ee=P.P+1+Z*Q,Pe=P.mb,Ve=P.nb+Z*Q,e(Ee<=P.P+P.qc),_e.Z!=0)for(e(Ca[_e.Z]!=null),we=0;we<ne;++we)Ca[_e.Z](at,et,bt,Ee,Pe,Ve,Q),at=Pe,et=Ve,Ve+=Q,Ee+=Q;else for(we=0;we<ne;++we)r(Pe,Ve,bt,Ee,Q),at=Pe,et=Ve,Ve+=Q,Ee+=Q;P.rc=at,P.Vc=et}else{if(e(_e.mc!=null),Q=Z+ne,e((we=_e.mc)!=null),e(Q<=we.i),we.C>=Q)Q=1;else if(_e.ic||it(),_e.ic){_e=we.V,at=we.Ba,et=we.c;var ft=we.i,Ge=(bt=1,Ee=we.$/et,Pe=we.$%et,Ve=we.m,st=we.s,we.$),Xe=et*ft,gt=et*Q,mt=st.wc,xt=Ge<gt?rr(st,Pe,Ee):null;e(Ge<=Xe),e(Q<=ft),e(Hr(st));t:for(;;){for(;!Ve.h&&Ge<gt;){if(Pe&mt||(xt=rr(st,Pe,Ee)),e(xt!=null),ie(Ve),256>(ft=Ni(xt.G[0],xt.H[0],Ve)))_e[at+Ge]=ft,++Ge,++Pe>=et&&(Pe=0,++Ee<=Q&&!(Ee%16)&&ts(we,Ee));else{if(!(280>ft)){bt=0;break t}ft=di(ft-256,Ve);var $t,It=Ni(xt.G[4],xt.H[4],Ve);if(ie(Ve),!(Ge>=(It=ji(et,It=di(It,Ve)))&&Xe-Ge>=ft)){bt=0;break t}for($t=0;$t<ft;++$t)_e[at+Ge+$t]=_e[at+Ge+$t-It];for(Ge+=ft,Pe+=ft;Pe>=et;)Pe-=et,++Ee<=Q&&!(Ee%16)&&ts(we,Ee);Ge<gt&&Pe&mt&&(xt=rr(st,Pe,Ee))}e(Ve.h==Y(Ve))}ts(we,Ee>Q?Q:Ee);break t}!bt||Ve.h&&Ge<Xe?(bt=0,we.a=Ve.h?5:3):we.$=Ge,Q=bt}else Q=$i(we,we.V,we.Ba,we.c,we.i,Q,nd);if(!Q){ne=0;break e}}Z+ne>=ve&&(P.Cc=1),ne=1}if(!ne)return null;if(P.Cc&&((ne=P.ga)!=null&&(ne.mc=null),P.ga=null,0<P.Ga))return alert("todo:WebPDequantizeLevels"),null}return P.nb+Z*fe}function G(P,Q,Z,ne,fe,ve){for(;0<fe--;){var we,_e=P,Ee=Q+(Z?1:0),Pe=P,Ve=Q+(Z?0:3);for(we=0;we<ne;++we){var st=Pe[Ve+4*we];st!=255&&(st*=32897,_e[Ee+4*we+0]=_e[Ee+4*we+0]*st>>23,_e[Ee+4*we+1]=_e[Ee+4*we+1]*st>>23,_e[Ee+4*we+2]=_e[Ee+4*we+2]*st>>23)}Q+=ve}}function me(P,Q,Z,ne,fe){for(;0<ne--;){var ve;for(ve=0;ve<Z;++ve){var we=P[Q+2*ve+0],_e=15&(Pe=P[Q+2*ve+1]),Ee=4369*_e,Pe=(240&Pe|Pe>>4)*Ee>>16;P[Q+2*ve+0]=(240&we|we>>4)*Ee>>16&240|(15&we|we<<4)*Ee>>16>>4&15,P[Q+2*ve+1]=240&Pe|_e}Q+=fe}}function Le(P,Q,Z,ne,fe,ve,we,_e){var Ee,Pe,Ve=255;for(Pe=0;Pe<fe;++Pe){for(Ee=0;Ee<ne;++Ee){var st=P[Q+Ee];ve[we+4*Ee]=st,Ve&=st}Q+=Z,we+=_e}return Ve!=255}function qe(P,Q,Z,ne,fe){var ve;for(ve=0;ve<fe;++ve)Z[ne+ve]=P[Q+ve]>>8}function it(){vo=G,Xr=me,Ur=Le,Vi=qe}function pt(P,Q,Z){k[P]=function(ne,fe,ve,we,_e,Ee,Pe,Ve,st,at,et,bt,ft,Ge,Xe,gt,mt){var xt,$t=mt-1>>1,It=_e[Ee+0]|Pe[Ve+0]<<16,An=st[at+0]|et[bt+0]<<16;e(ne!=null);var Mt=3*It+An+131074>>2;for(Q(ne[fe+0],255&Mt,Mt>>16,ft,Ge),ve!=null&&(Mt=3*An+It+131074>>2,Q(ve[we+0],255&Mt,Mt>>16,Xe,gt)),xt=1;xt<=$t;++xt){var yr=_e[Ee+xt]|Pe[Ve+xt]<<16,br=st[at+xt]|et[bt+xt]<<16,hr=It+yr+An+br+524296,qn=hr+2*(yr+An)>>3;Mt=qn+It>>1,It=(hr=hr+2*(It+br)>>3)+yr>>1,Q(ne[fe+2*xt-1],255&Mt,Mt>>16,ft,Ge+(2*xt-1)*Z),Q(ne[fe+2*xt-0],255&It,It>>16,ft,Ge+(2*xt-0)*Z),ve!=null&&(Mt=hr+An>>1,It=qn+br>>1,Q(ve[we+2*xt-1],255&Mt,Mt>>16,Xe,gt+(2*xt-1)*Z),Q(ve[we+2*xt+0],255&It,It>>16,Xe,gt+(2*xt+0)*Z)),It=yr,An=br}1&mt||(Mt=3*It+An+131074>>2,Q(ne[fe+mt-1],255&Mt,Mt>>16,ft,Ge+(mt-1)*Z),ve!=null&&(Mt=3*An+It+131074>>2,Q(ve[we+mt-1],255&Mt,Mt>>16,Xe,gt+(mt-1)*Z)))}}function _t(){bo[Xy]=S6,bo[Lh]=Rh,bo[eE]=E6,bo[Hx]=wm,bo[zx]=pA,bo[Yr]=Kx,bo[Yy]=xj,bo[vm]=Rh,bo[hA]=wm,bo[$x]=pA,bo[Wx]=Kx}function Qt(P){return P&-16384?0>P?0:255:P>>Qh}function dn(P,Q){return Qt((19077*P>>8)+(26149*Q>>8)-14234)}function Ln(P,Q,Z){return Qt((19077*P>>8)-(6419*Q>>8)-(13320*Z>>8)+8708)}function In(P,Q){return Qt((19077*P>>8)+(33050*Q>>8)-17685)}function cr(P,Q,Z,ne,fe){ne[fe+0]=dn(P,Z),ne[fe+1]=Ln(P,Q,Z),ne[fe+2]=In(P,Q)}function Ui(P,Q,Z,ne,fe){ne[fe+0]=In(P,Q),ne[fe+1]=Ln(P,Q,Z),ne[fe+2]=dn(P,Z)}function Wi(P,Q,Z,ne,fe){var ve=Ln(P,Q,Z);Q=ve<<3&224|In(P,Q)>>3,ne[fe+0]=248&dn(P,Z)|ve>>5,ne[fe+1]=Q}function As(P,Q,Z,ne,fe){var ve=240&In(P,Q)|15;ne[fe+0]=240&dn(P,Z)|Ln(P,Q,Z)>>4,ne[fe+1]=ve}function ja(P,Q,Z,ne,fe){ne[fe+0]=255,cr(P,Q,Z,ne,fe+1)}function $s(P,Q,Z,ne,fe){Ui(P,Q,Z,ne,fe),ne[fe+3]=255}function xc(P,Q,Z,ne,fe){cr(P,Q,Z,ne,fe),ne[fe+3]=255}function rl(P,Q){return 0>P?0:P>Q?Q:P}function Ml(P,Q,Z){k[P]=function(ne,fe,ve,we,_e,Ee,Pe,Ve,st){for(var at=Ve+(-2&st)*Z;Ve!=at;)Q(ne[fe+0],ve[we+0],_e[Ee+0],Pe,Ve),Q(ne[fe+1],ve[we+0],_e[Ee+0],Pe,Ve+Z),fe+=2,++we,++Ee,Ve+=2*Z;1&st&&Q(ne[fe+0],ve[we+0],_e[Ee+0],Pe,Ve)}}function Uh(P,Q,Z){return Z==0?P==0?Q==0?6:5:Q==0?4:0:Z}function Mx(P,Q,Z,ne,fe){switch(P>>>30){case 3:hd(Q,Z,ne,fe,0);break;case 2:Nr(Q,Z,ne,fe);break;case 1:_a(Q,Z,ne,fe)}}function om(P,Q){var Z,ne,fe=Q.M,ve=Q.Nb,we=P.oc,_e=P.pc+40,Ee=P.oc,Pe=P.pc+584,Ve=P.oc,st=P.pc+600;for(Z=0;16>Z;++Z)we[_e+32*Z-1]=129;for(Z=0;8>Z;++Z)Ee[Pe+32*Z-1]=129,Ve[st+32*Z-1]=129;for(0<fe?we[_e-1-32]=Ee[Pe-1-32]=Ve[st-1-32]=129:(s(we,_e-32-1,127,21),s(Ee,Pe-32-1,127,9),s(Ve,st-32-1,127,9)),ne=0;ne<P.za;++ne){var at=Q.ya[Q.aa+ne];if(0<ne){for(Z=-1;16>Z;++Z)r(we,_e+32*Z-4,we,_e+32*Z+12,4);for(Z=-1;8>Z;++Z)r(Ee,Pe+32*Z-4,Ee,Pe+32*Z+4,4),r(Ve,st+32*Z-4,Ve,st+32*Z+4,4)}var et=P.Gd,bt=P.Hd+ne,ft=at.ad,Ge=at.Hc;if(0<fe&&(r(we,_e-32,et[bt].y,0,16),r(Ee,Pe-32,et[bt].f,0,8),r(Ve,st-32,et[bt].ea,0,8)),at.Za){var Xe=we,gt=_e-32+16;for(0<fe&&(ne>=P.za-1?s(Xe,gt,et[bt].y[15],4):r(Xe,gt,et[bt+1].y,0,4)),Z=0;4>Z;Z++)Xe[gt+128+Z]=Xe[gt+256+Z]=Xe[gt+384+Z]=Xe[gt+0+Z];for(Z=0;16>Z;++Z,Ge<<=2)Xe=we,gt=_e+vj[Z],Rl[at.Ob[Z]](Xe,gt),Mx(Ge,ft,16*+Z,Xe,gt)}else if(Xe=Uh(ne,fe,at.Ob[0]),eo[Xe](we,_e),Ge!=0)for(Z=0;16>Z;++Z,Ge<<=2)Mx(Ge,ft,16*+Z,we,_e+vj[Z]);for(Z=at.Gc,Xe=Uh(ne,fe,at.Dd),yo[Xe](Ee,Pe),yo[Xe](Ve,st),Ge=ft,Xe=Ee,gt=Pe,255&(at=Z>>0)&&(170&at?fd(Ge,256,Xe,gt):il(Ge,256,Xe,gt)),at=Ve,Ge=st,255&(Z>>=8)&&(170&Z?fd(ft,320,at,Ge):il(ft,320,at,Ge)),fe<P.Ub-1&&(r(et[bt].y,0,we,_e+480,16),r(et[bt].f,0,Ee,Pe+224,8),r(et[bt].ea,0,Ve,st+224,8)),Z=8*ve*P.B,et=P.sa,bt=P.ta+16*ne+16*ve*P.R,ft=P.qa,at=P.ra+8*ne+Z,Ge=P.Ha,Xe=P.Ia+8*ne+Z,Z=0;16>Z;++Z)r(et,bt+Z*P.R,we,_e+32*Z,16);for(Z=0;8>Z;++Z)r(ft,at+Z*P.B,Ee,Pe+32*Z,8),r(Ge,Xe+Z*P.B,Ve,st+32*Z,8)}}function iA(P,Q,Z,ne,fe,ve,we,_e,Ee){var Pe=[0],Ve=[0],st=0,at=Ee!=null?Ee.kd:0,et=Ee??new Fh;if(P==null||12>Z)return 7;et.data=P,et.w=Q,et.ha=Z,Q=[Q],Z=[Z],et.gb=[et.gb];e:{var bt=Q,ft=Z,Ge=et.gb;if(e(P!=null),e(ft!=null),e(Ge!=null),Ge[0]=0,12<=ft[0]&&!n(P,bt[0],"RIFF")){if(n(P,bt[0]+8,"WEBP")){Ge=3;break e}var Xe=Ye(P,bt[0]+4);if(12>Xe||4294967286<Xe){Ge=3;break e}if(at&&Xe>ft[0]-8){Ge=7;break e}Ge[0]=Xe,bt[0]+=12,ft[0]-=12}Ge=0}if(Ge!=0)return Ge;for(Xe=0<et.gb[0],Z=Z[0];;){e:{var gt=P;ft=Q,Ge=Z;var mt=Pe,xt=Ve,$t=bt=[0];if((Mt=st=[st])[0]=0,8>Ge[0])Ge=7;else{if(!n(gt,ft[0],"VP8X")){if(Ye(gt,ft[0]+4)!=10){Ge=3;break e}if(18>Ge[0]){Ge=7;break e}var It=Ye(gt,ft[0]+8),An=1+Ie(gt,ft[0]+12);if(2147483648<=An*(gt=1+Ie(gt,ft[0]+15))){Ge=3;break e}$t!=null&&($t[0]=It),mt!=null&&(mt[0]=An),xt!=null&&(xt[0]=gt),ft[0]+=18,Ge[0]-=18,Mt[0]=1}Ge=0}}if(st=st[0],bt=bt[0],Ge!=0)return Ge;if(ft=!!(2&bt),!Xe&&st)return 3;if(ve!=null&&(ve[0]=!!(16&bt)),we!=null&&(we[0]=ft),_e!=null&&(_e[0]=0),we=Pe[0],bt=Ve[0],st&&ft&&Ee==null){Ge=0;break}if(4>Z){Ge=7;break}if(Xe&&st||!Xe&&!st&&!n(P,Q[0],"ALPH")){Z=[Z],et.na=[et.na],et.P=[et.P],et.Sa=[et.Sa];e:{It=P,Ge=Q,Xe=Z;var Mt=et.gb;mt=et.na,xt=et.P,$t=et.Sa,An=22,e(It!=null),e(Xe!=null),gt=Ge[0];var yr=Xe[0];for(e(mt!=null),e($t!=null),mt[0]=null,xt[0]=null,$t[0]=0;;){if(Ge[0]=gt,Xe[0]=yr,8>yr){Ge=7;break e}var br=Ye(It,gt+4);if(4294967286<br){Ge=3;break e}var hr=8+br+1&-2;if(An+=hr,0<Mt&&An>Mt){Ge=3;break e}if(!n(It,gt,"VP8 ")||!n(It,gt,"VP8L")){Ge=0;break e}if(yr[0]<hr){Ge=7;break e}n(It,gt,"ALPH")||(mt[0]=It,xt[0]=gt+8,$t[0]=br),gt+=hr,yr-=hr}}if(Z=Z[0],et.na=et.na[0],et.P=et.P[0],et.Sa=et.Sa[0],Ge!=0)break}Z=[Z],et.Ja=[et.Ja],et.xa=[et.xa];e:if(Mt=P,Ge=Q,Xe=Z,mt=et.gb[0],xt=et.Ja,$t=et.xa,It=Ge[0],gt=!n(Mt,It,"VP8 "),An=!n(Mt,It,"VP8L"),e(Mt!=null),e(Xe!=null),e(xt!=null),e($t!=null),8>Xe[0])Ge=7;else{if(gt||An){if(Mt=Ye(Mt,It+4),12<=mt&&Mt>mt-12){Ge=3;break e}if(at&&Mt>Xe[0]-8){Ge=7;break e}xt[0]=Mt,Ge[0]+=8,Xe[0]-=8,$t[0]=An}else $t[0]=5<=Xe[0]&&Mt[It+0]==47&&!(Mt[It+4]>>5),xt[0]=Xe[0];Ge=0}if(Z=Z[0],et.Ja=et.Ja[0],et.xa=et.xa[0],Q=Q[0],Ge!=0)break;if(4294967286<et.Ja)return 3;if(_e==null||ft||(_e[0]=et.xa?2:1),we=[we],bt=[bt],et.xa){if(5>Z){Ge=7;break}_e=we,at=bt,ft=ve,P==null||5>Z?P=0:5<=Z&&P[Q+0]==47&&!(P[Q+4]>>5)?(Xe=[0],Mt=[0],mt=[0],z(xt=new H,P,Q,Z),Xt(xt,Xe,Mt,mt)?(_e!=null&&(_e[0]=Xe[0]),at!=null&&(at[0]=Mt[0]),ft!=null&&(ft[0]=mt[0]),P=1):P=0):P=0}else{if(10>Z){Ge=7;break}_e=bt,P==null||10>Z||!Hy(P,Q+3,Z-3)?P=0:(at=P[Q+0]|P[Q+1]<<8|P[Q+2]<<16,ft=16383&(P[Q+7]<<8|P[Q+6]),P=16383&(P[Q+9]<<8|P[Q+8]),1&at||3<(at>>1&7)||!(at>>4&1)||at>>5>=et.Ja||!ft||!P?P=0:(we&&(we[0]=ft),_e&&(_e[0]=P),P=1))}if(!P||(we=we[0],bt=bt[0],st&&(Pe[0]!=we||Ve[0]!=bt)))return 3;Ee!=null&&(Ee[0]=et,Ee.offset=Q-Ee.w,e(4294967286>Q-Ee.w),e(Ee.offset==Ee.ha-Z));break}return Ge==0||Ge==7&&st&&Ee==null?(ve!=null&&(ve[0]|=et.na!=null&&0<et.na.length),ne!=null&&(ne[0]=we),fe!=null&&(fe[0]=bt),0):Ge}function lm(P,Q,Z){var ne=Q.width,fe=Q.height,ve=0,we=0,_e=ne,Ee=fe;if(Q.Da=P!=null&&0<P.Da,Q.Da&&(_e=P.cd,Ee=P.bd,ve=P.v,we=P.j,11>Z||(ve&=-2,we&=-2),0>ve||0>we||0>=_e||0>=Ee||ve+_e>ne||we+Ee>fe))return 0;if(Q.v=ve,Q.j=we,Q.va=ve+_e,Q.o=we+Ee,Q.U=_e,Q.T=Ee,Q.da=P!=null&&0<P.da,Q.da){if(!de(_e,Ee,Z=[P.ib],ve=[P.hb]))return 0;Q.ib=Z[0],Q.hb=ve[0]}return Q.ob=P!=null&&P.ob,Q.Kb=P==null||!P.Sd,Q.da&&(Q.ob=Q.ib<3*ne/4&&Q.hb<3*fe/4,Q.Kb=0),1}function cm(P){if(P==null)return 2;if(11>P.S){var Q=P.f.RGBA;Q.fb+=(P.height-1)*Q.A,Q.A=-Q.A}else Q=P.f.kb,P=P.height,Q.O+=(P-1)*Q.fa,Q.fa=-Q.fa,Q.N+=(P-1>>1)*Q.Ab,Q.Ab=-Q.Ab,Q.W+=(P-1>>1)*Q.Db,Q.Db=-Q.Db,Q.F!=null&&(Q.J+=(P-1)*Q.lb,Q.lb=-Q.lb);return 0}function sA(P,Q,Z,ne){if(ne==null||0>=P||0>=Q)return 2;if(Z!=null){if(Z.Da){var fe=Z.cd,ve=Z.bd,we=-2&Z.v,_e=-2&Z.j;if(0>we||0>_e||0>=fe||0>=ve||we+fe>P||_e+ve>Q)return 2;P=fe,Q=ve}if(Z.da){if(!de(P,Q,fe=[Z.ib],ve=[Z.hb]))return 2;P=fe[0],Q=ve[0]}}ne.width=P,ne.height=Q;e:{var Ee=ne.width,Pe=ne.height;if(P=ne.S,0>=Ee||0>=Pe||!(P>=Xy&&13>P))P=2;else{if(0>=ne.Rd&&ne.sd==null){we=ve=fe=Q=0;var Ve=(_e=Ee*Gx[P])*Pe;if(11>P||(ve=(Pe+1)/2*(Q=(Ee+1)/2),P==12&&(we=(fe=Ee)*Pe)),(Pe=a(Ve+2*ve+we))==null){P=1;break e}ne.sd=Pe,11>P?((Ee=ne.f.RGBA).eb=Pe,Ee.fb=0,Ee.A=_e,Ee.size=Ve):((Ee=ne.f.kb).y=Pe,Ee.O=0,Ee.fa=_e,Ee.Fd=Ve,Ee.f=Pe,Ee.N=0+Ve,Ee.Ab=Q,Ee.Cd=ve,Ee.ea=Pe,Ee.W=0+Ve+ve,Ee.Db=Q,Ee.Ed=ve,P==12&&(Ee.F=Pe,Ee.J=0+Ve+2*ve),Ee.Tc=we,Ee.lb=fe)}if(Q=1,fe=ne.S,ve=ne.width,we=ne.height,fe>=Xy&&13>fe)if(11>fe)P=ne.f.RGBA,Q&=(_e=Math.abs(P.A))*(we-1)+ve<=P.size,Q&=_e>=ve*Gx[fe],Q&=P.eb!=null;else{P=ne.f.kb,_e=(ve+1)/2,Ve=(we+1)/2,Ee=Math.abs(P.fa),Pe=Math.abs(P.Ab);var st=Math.abs(P.Db),at=Math.abs(P.lb),et=at*(we-1)+ve;Q&=Ee*(we-1)+ve<=P.Fd,Q&=Pe*(Ve-1)+_e<=P.Cd,Q=(Q&=st*(Ve-1)+_e<=P.Ed)&Ee>=ve&Pe>=_e&st>=_e,Q&=P.y!=null,Q&=P.f!=null,Q&=P.ea!=null,fe==12&&(Q&=at>=ve,Q&=et<=P.Tc,Q&=P.F!=null)}else Q=0;P=Q?0:2}}return P!=0||Z!=null&&Z.fd&&(P=cm(ne)),P}var qi=64,um=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],dm=24,hm=32,fm=8,Xa=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];$e("Predictor0","PredictorAdd0"),k.Predictor0=function(){return 4278190080},k.Predictor1=function(P){return P},k.Predictor2=function(P,Q,Z){return Q[Z+0]},k.Predictor3=function(P,Q,Z){return Q[Z+1]},k.Predictor4=function(P,Q,Z){return Q[Z-1]},k.Predictor5=function(P,Q,Z){return Fe(Fe(P,Q[Z+1]),Q[Z+0])},k.Predictor6=function(P,Q,Z){return Fe(P,Q[Z-1])},k.Predictor7=function(P,Q,Z){return Fe(P,Q[Z+0])},k.Predictor8=function(P,Q,Z){return Fe(Q[Z-1],Q[Z+0])},k.Predictor9=function(P,Q,Z){return Fe(Q[Z+0],Q[Z+1])},k.Predictor10=function(P,Q,Z){return Fe(Fe(P,Q[Z-1]),Fe(Q[Z+0],Q[Z+1]))},k.Predictor11=function(P,Q,Z){var ne=Q[Z+0];return 0>=Oe(ne>>24&255,P>>24&255,(Q=Q[Z-1])>>24&255)+Oe(ne>>16&255,P>>16&255,Q>>16&255)+Oe(ne>>8&255,P>>8&255,Q>>8&255)+Oe(255&ne,255&P,255&Q)?ne:P},k.Predictor12=function(P,Q,Z){var ne=Q[Z+0];return(De((P>>24&255)+(ne>>24&255)-((Q=Q[Z-1])>>24&255))<<24|De((P>>16&255)+(ne>>16&255)-(Q>>16&255))<<16|De((P>>8&255)+(ne>>8&255)-(Q>>8&255))<<8|De((255&P)+(255&ne)-(255&Q)))>>>0},k.Predictor13=function(P,Q,Z){var ne=Q[Z-1];return(Ce((P=Fe(P,Q[Z+0]))>>24&255,ne>>24&255)<<24|Ce(P>>16&255,ne>>16&255)<<16|Ce(P>>8&255,ne>>8&255)<<8|Ce(P>>0&255,ne>>0&255))>>>0};var aA=k.PredictorAdd0;k.PredictorAdd1=We,$e("Predictor2","PredictorAdd2"),$e("Predictor3","PredictorAdd3"),$e("Predictor4","PredictorAdd4"),$e("Predictor5","PredictorAdd5"),$e("Predictor6","PredictorAdd6"),$e("Predictor7","PredictorAdd7"),$e("Predictor8","PredictorAdd8"),$e("Predictor9","PredictorAdd9"),$e("Predictor10","PredictorAdd10"),$e("Predictor11","PredictorAdd11"),$e("Predictor12","PredictorAdd12"),$e("Predictor13","PredictorAdd13");var cd=k.PredictorAdd2;jt("ColorIndexInverseTransform","MapARGB","32b",function(P){return P>>8&255},function(P){return P}),jt("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(P){return P},function(P){return P>>8&255});var Gy,Ya=k.ColorIndexInverseTransform,Am=k.MapARGB,Lx=k.VP8LColorIndexInverseTransformAlpha,pm=k.MapAlpha,lu=k.VP8LPredictorsAdd=[];lu.length=16,(k.VP8LPredictors=[]).length=16,(k.VP8LPredictorsAdd_C=[]).length=16,(k.VP8LPredictors_C=[]).length=16;var Ih,Ja,Na,Oh,ud,dd,mm,hd,Nr,fd,_a,il,oA,Rx,lA,cA,uA,sl,Ad,cu,pd,md,Mh,ia,vo,Xr,Ur,Vi,ps=a(511),uu=a(2041),gm=a(225),dA=a(767),Qx=0,du=uu,xm=gm,Za=dA,Ll=ps,Xy=0,Lh=1,eE=2,Hx=3,zx=4,Yr=5,Yy=6,vm=7,hA=8,$x=9,Wx=10,qx=[2,3,7],Jy=[3,3,11],fA=[280,256,256,256,40],tE=[0,1,1,1,0],j6=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],N6=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],nE=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],Zy=8,ym=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],Vx=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],AA=null,pj=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],mj=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],rE=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],iE=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],_6=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],C6=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],gj=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],eo=[],Rl=[],yo=[],hu=1,bm=2,Ca=[],bo=[];pt("UpsampleRgbLinePair",cr,3),pt("UpsampleBgrLinePair",Ui,3),pt("UpsampleRgbaLinePair",xc,4),pt("UpsampleBgraLinePair",$s,4),pt("UpsampleArgbLinePair",ja,4),pt("UpsampleRgba4444LinePair",As,2),pt("UpsampleRgb565LinePair",Wi,2);var S6=k.UpsampleRgbLinePair,E6=k.UpsampleBgrLinePair,Rh=k.UpsampleRgbaLinePair,wm=k.UpsampleBgraLinePair,pA=k.UpsampleArgbLinePair,Kx=k.UpsampleRgba4444LinePair,xj=k.UpsampleRgb565LinePair,gd=16,vc=1<<gd-1,Ir=-227,zr=482,Qh=6,sa=0,wo=a(256),mA=a(256),jm=a(256),jo=a(256),eb=a(zr-Ir),sE=a(zr-Ir);Ml("YuvToRgbRow",cr,3),Ml("YuvToBgrRow",Ui,3),Ml("YuvToRgbaRow",xc,4),Ml("YuvToBgraRow",$s,4),Ml("YuvToArgbRow",ja,4),Ml("YuvToRgba4444Row",As,2),Ml("YuvToRgb565Row",Wi,2);var vj=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],gA=[0,2,8],aE=[8,7,6,4,4,2,2,2,1,1,1,1],xd=1;this.WebPDecodeRGBA=function(P,Q,Z,ne,fe){var ve=Lh,we=new ou,_e=new ge;we.ba=_e,_e.S=ve,_e.width=[_e.width],_e.height=[_e.height];var Ee=_e.width,Pe=_e.height,Ve=new Se;if(Ve==null||P==null)var st=2;else e(Ve!=null),st=iA(P,Q,Z,Ve.width,Ve.height,Ve.Pd,Ve.Qd,Ve.format,null);if(st!=0?Ee=0:(Ee!=null&&(Ee[0]=Ve.width[0]),Pe!=null&&(Pe[0]=Ve.height[0]),Ee=1),Ee){_e.width=_e.width[0],_e.height=_e.height[0],ne!=null&&(ne[0]=_e.width),fe!=null&&(fe[0]=_e.height);e:{if(ne=new nu,(fe=new Fh).data=P,fe.w=Q,fe.ha=Z,fe.kd=1,Q=[0],e(fe!=null),((P=iA(fe.data,fe.w,fe.ha,null,null,null,Q,null,fe))==0||P==7)&&Q[0]&&(P=4),(Q=P)==0){if(e(we!=null),ne.data=fe.data,ne.w=fe.w+fe.offset,ne.ha=fe.ha-fe.offset,ne.put=Pr,ne.ac=kn,ne.bc=Fi,ne.ma=we,fe.xa){if((P=Ga())==null){we=1;break e}if(function(at,et){var bt=[0],ft=[0],Ge=[0];t:for(;;){if(at==null)return 0;if(et==null)return at.a=2,0;if(at.l=et,at.a=0,z(at.m,et.data,et.w,et.ha),!Xt(at.m,bt,ft,Ge)){at.a=3;break t}if(at.xb=bm,et.width=bt[0],et.height=ft[0],!Ul(bt[0],ft[0],1,at,null))break t;return 1}return e(at.a!=0),0}(P,ne)){if(ne=(Q=sA(ne.width,ne.height,we.Oa,we.ba))==0){t:{ne=P;n:for(;;){if(ne==null){ne=0;break t}if(e(ne.s.yc!=null),e(ne.s.Ya!=null),e(0<ne.s.Wb),e((Z=ne.l)!=null),e((fe=Z.ma)!=null),ne.xb!=0){if(ne.ca=fe.ba,ne.tb=fe.tb,e(ne.ca!=null),!lm(fe.Oa,Z,Hx)){ne.a=2;break n}if(!eu(ne,Z.width)||Z.da)break n;if((Z.da||fn(ne.ca.S))&&it(),11>ne.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),ne.ca.f.kb.F!=null&&it()),ne.Pb&&0<ne.s.ua&&ne.s.vb.X==null&&!X(ne.s.vb,ne.s.Wa.Xa)){ne.a=1;break n}ne.xb=0}if(!$i(ne,ne.V,ne.Ba,ne.c,ne.i,Z.o,ba))break n;fe.Dc=ne.Ma,ne=1;break t}e(ne.a!=0),ne=0}ne=!ne}ne&&(Q=P.a)}else Q=P.a}else{if((P=new tl)==null){we=1;break e}if(P.Fa=fe.na,P.P=fe.P,P.qc=fe.Sa,zy(P,ne)){if((Q=sA(ne.width,ne.height,we.Oa,we.ba))==0){if(P.Aa=0,Z=we.Oa,e((fe=P)!=null),Z!=null){if(0<(Ee=0>(Ee=Z.Md)?0:100<Ee?255:255*Ee/100)){for(Pe=Ve=0;4>Pe;++Pe)12>(st=fe.pb[Pe]).lc&&(st.ia=Ee*aE[0>st.lc?0:st.lc]>>3),Ve|=st.ia;Ve&&(alert("todo:VP8InitRandom"),fe.ia=1)}fe.Ga=Z.Id,100<fe.Ga?fe.Ga=100:0>fe.Ga&&(fe.Ga=0)}Gf(P,ne)||(Q=P.a)}}else Q=P.a}Q==0&&we.Oa!=null&&we.Oa.fd&&(Q=cm(we.ba))}we=Q}ve=we!=0?null:11>ve?_e.f.RGBA.eb:_e.f.kb.y}else ve=null;return ve};var Gx=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function u(k,T){for(var O="",I=0;I<4;I++)O+=String.fromCharCode(k[T++]);return O}function d(k,T){return(k[T+0]<<0|k[T+1]<<8|k[T+2]<<16)>>>0}function h(k,T){return(k[T+0]<<0|k[T+1]<<8|k[T+2]<<16|k[T+3]<<24)>>>0}new c;var f=[0],A=[0],v=[],p=new c,m=t,g=function(k,T){var O={},I=0,F=!1,M=0,S=0;if(O.frames=[],!function(W,Y,ee,ie){for(var se=0;se<ie;se++)if(W[Y+se]!=ee.charCodeAt(se))return!0;return!1}(k,T,"RIFF",4)){for(h(k,T+=4),T+=8;T<k.length;){var q=u(k,T),U=h(k,T+=4);T+=4;var L=U+(1&U);switch(q){case"VP8 ":case"VP8L":O.frames[I]===void 0&&(O.frames[I]={}),(K=O.frames[I]).src_off=F?S:T-8,K.src_size=M+U+8,I++,F&&(F=!1,M=0,S=0);break;case"VP8X":(K=O.header={}).feature_flags=k[T];var z=T+4;K.canvas_width=1+d(k,z),z+=3,K.canvas_height=1+d(k,z),z+=3;break;case"ALPH":F=!0,M=L+8,S=T-8;break;case"ANIM":(K=O.header).bgcolor=h(k,T),z=T+4,K.loop_count=(V=k)[(H=z)+0]<<0|V[H+1]<<8,z+=2;break;case"ANMF":var $,K;(K=O.frames[I]={}).offset_x=2*d(k,T),T+=3,K.offset_y=2*d(k,T),T+=3,K.width=1+d(k,T),T+=3,K.height=1+d(k,T),T+=3,K.duration=d(k,T),T+=3,$=k[T++],K.dispose=1&$,K.blend=$>>1&1}q!="ANMF"&&(T+=L)}var V,H;return O}}(m,0);g.response=m,g.rgbaoutput=!0,g.dataurl=!1;var x=g.header?g.header:null,b=g.frames?g.frames:null;if(x){x.loop_counter=x.loop_count,f=[x.canvas_height],A=[x.canvas_width];for(var j=0;j<b.length&&b[j].blend!=0;j++);}var N=b[0],_=p.WebPDecodeRGBA(m,N.src_off,N.src_size,A,f);N.rgba=_,N.imgwidth=A[0],N.imgheight=f[0];for(var C=0;C<A[0]*f[0]*4;C++)v[C]=_[C];return this.width=A,this.height=f,this.data=v,this}(function(t){var e=function(){return typeof nH=="function"},n=function(f,A,v,p){var m=4,g=o;switch(p){case t.image_compression.FAST:m=1,g=a;break;case t.image_compression.MEDIUM:m=6,g=l;break;case t.image_compression.SLOW:m=9,g=c}f=r(f,A,v,g);var x=nH(f,{level:m});return t.__addimage__.arrayBufferToBinaryString(x)},r=function(f,A,v,p){for(var m,g,x,b=f.length/A,j=new Uint8Array(f.length+b),N=d(),_=0;_<b;_+=1){if(x=_*A,m=f.subarray(x,x+A),p)j.set(p(m,v,g),x+_);else{for(var C,k=N.length,T=[];C<k;C+=1)T[C]=N[C](m,v,g);var O=h(T.concat());j.set(T[O],x+_)}g=m}return j},s=function(f){var A=Array.apply([],f);return A.unshift(0),A},a=function(f,A){var v,p=[],m=f.length;p[0]=1;for(var g=0;g<m;g+=1)v=f[g-A]||0,p[g+1]=f[g]-v+256&255;return p},o=function(f,A,v){var p,m=[],g=f.length;m[0]=2;for(var x=0;x<g;x+=1)p=v&&v[x]||0,m[x+1]=f[x]-p+256&255;return m},l=function(f,A,v){var p,m,g=[],x=f.length;g[0]=3;for(var b=0;b<x;b+=1)p=f[b-A]||0,m=v&&v[b]||0,g[b+1]=f[b]+256-(p+m>>>1)&255;return g},c=function(f,A,v){var p,m,g,x,b=[],j=f.length;b[0]=4;for(var N=0;N<j;N+=1)p=f[N-A]||0,m=v&&v[N]||0,g=v&&v[N-A]||0,x=u(p,m,g),b[N+1]=f[N]-x+256&255;return b},u=function(f,A,v){if(f===A&&A===v)return f;var p=Math.abs(A-v),m=Math.abs(f-v),g=Math.abs(f+A-v-v);return p<=m&&p<=g?f:m<=g?A:v},d=function(){return[s,a,o,l,c]},h=function(f){var A=f.map(function(v){return v.reduce(function(p,m){return p+Math.abs(m)},0)});return A.indexOf(Math.min.apply(null,A))};t.processPNG=function(f,A,v,p){var m,g,x,b,j,N,_,C,k,T,O,I,F,M,S,q=this.decode.FLATE_DECODE,U="";if(this.__addimage__.isArrayBuffer(f)&&(f=new Uint8Array(f)),this.__addimage__.isArrayBufferView(f)){if(f=(x=new vrt(f)).imgData,g=x.bits,m=x.colorSpace,j=x.colors,[4,6].indexOf(x.colorType)!==-1){if(x.bits===8){k=(C=x.pixelBitlength==32?new Uint32Array(x.decodePixels().buffer):x.pixelBitlength==16?new Uint16Array(x.decodePixels().buffer):new Uint8Array(x.decodePixels().buffer)).length,O=new Uint8Array(k*x.colors),T=new Uint8Array(k);var L,z=x.pixelBitlength-x.bits;for(M=0,S=0;M<k;M++){for(F=C[M],L=0;L<z;)O[S++]=F>>>L&255,L+=x.bits;T[M]=F>>>L&255}}if(x.bits===16){k=(C=new Uint32Array(x.decodePixels().buffer)).length,O=new Uint8Array(k*(32/x.pixelBitlength)*x.colors),T=new Uint8Array(k*(32/x.pixelBitlength)),I=x.colors>1,M=0,S=0;for(var $=0;M<k;)F=C[M++],O[S++]=F>>>0&255,I&&(O[S++]=F>>>16&255,F=C[M++],O[S++]=F>>>0&255),T[$++]=F>>>16&255;g=8}p!==t.image_compression.NONE&&e()?(f=n(O,x.width*x.colors,x.colors,p),_=n(T,x.width,1,p)):(f=O,_=T,q=void 0)}if(x.colorType===3&&(m=this.color_spaces.INDEXED,N=x.palette,x.transparency.indexed)){var K=x.transparency.indexed,V=0;for(M=0,k=K.length;M<k;++M)V+=K[M];if((V/=255)===k-1&&K.indexOf(0)!==-1)b=[K.indexOf(0)];else if(V!==k){for(C=x.decodePixels(),T=new Uint8Array(C.length),M=0,k=C.length;M<k;M++)T[M]=K[C[M]];_=n(T,x.width,1)}}var H=function(W){var Y;switch(W){case t.image_compression.FAST:Y=11;break;case t.image_compression.MEDIUM:Y=13;break;case t.image_compression.SLOW:Y=14;break;default:Y=12}return Y}(p);return q===this.decode.FLATE_DECODE&&(U="/Predictor "+H+" "),U+="/Colors "+j+" /BitsPerComponent "+g+" /Columns "+x.width,(this.__addimage__.isArrayBuffer(f)||this.__addimage__.isArrayBufferView(f))&&(f=this.__addimage__.arrayBufferToBinaryString(f)),(_&&this.__addimage__.isArrayBuffer(_)||this.__addimage__.isArrayBufferView(_))&&(_=this.__addimage__.arrayBufferToBinaryString(_)),{alias:v,data:f,index:A,filter:q,decodeParameters:U,transparency:b,palette:N,sMask:_,predictor:H,width:x.width,height:x.height,bitsPerComponent:g,colorSpace:m}}}})(_n.API),function(t){t.processGIF89A=function(e,n,r,s){var a=new yrt(e),o=a.width,l=a.height,c=[];a.decodeAndBlitFrameRGBA(0,c);var u={data:c,width:o,height:l},d=new bL(100).encode(u,100);return t.processJPEG.call(this,d,n,r,s)},t.processGIF87A=t.processGIF89A}(_n.API),Fd.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var t=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(t);for(var e=0;e<t;e++){var n=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:s,green:r,blue:n,quad:a}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Fd.prototype.parseBGR=function(){this.pos=this.offset;try{var t="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[t]()}catch(n){Ai.log("bit decode error:"+n)}},Fd.prototype.bit1=function(){var t,e=Math.ceil(this.width/8),n=e%4;for(t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,s=0;s<e;s++)for(var a=this.datav.getUint8(this.pos++,!0),o=r*this.width*4+8*s*4,l=0;l<8&&8*s+l<this.width;l++){var c=this.palette[a>>7-l&1];this.data[o+4*l]=c.blue,this.data[o+4*l+1]=c.green,this.data[o+4*l+2]=c.red,this.data[o+4*l+3]=255}n!==0&&(this.pos+=4-n)}},Fd.prototype.bit4=function(){for(var t=Math.ceil(this.width/2),e=t%4,n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,s=0;s<t;s++){var a=this.datav.getUint8(this.pos++,!0),o=r*this.width*4+2*s*4,l=a>>4,c=15&a,u=this.palette[l];if(this.data[o]=u.blue,this.data[o+1]=u.green,this.data[o+2]=u.red,this.data[o+3]=255,2*s+1>=this.width)break;u=this.palette[c],this.data[o+4]=u.blue,this.data[o+4+1]=u.green,this.data[o+4+2]=u.red,this.data[o+4+3]=255}e!==0&&(this.pos+=4-e)}},Fd.prototype.bit8=function(){for(var t=this.width%4,e=this.height-1;e>=0;e--){for(var n=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var s=this.datav.getUint8(this.pos++,!0),a=n*this.width*4+4*r;if(s<this.palette.length){var o=this.palette[s];this.data[a]=o.red,this.data[a+1]=o.green,this.data[a+2]=o.blue,this.data[a+3]=255}else this.data[a]=255,this.data[a+1]=255,this.data[a+2]=255,this.data[a+3]=255}t!==0&&(this.pos+=4-t)}},Fd.prototype.bit15=function(){for(var t=this.width%3,e=parseInt("11111",2),n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,s=0;s<this.width;s++){var a=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(a&e)/e*255|0,l=(a>>5&e)/e*255|0,c=(a>>10&e)/e*255|0,u=a>>15?255:0,d=r*this.width*4+4*s;this.data[d]=c,this.data[d+1]=l,this.data[d+2]=o,this.data[d+3]=u}this.pos+=t}},Fd.prototype.bit16=function(){for(var t=this.width%3,e=parseInt("11111",2),n=parseInt("111111",2),r=this.height-1;r>=0;r--){for(var s=this.bottom_up?r:this.height-1-r,a=0;a<this.width;a++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var l=(o&e)/e*255|0,c=(o>>5&n)/n*255|0,u=(o>>11)/e*255|0,d=s*this.width*4+4*a;this.data[d]=u,this.data[d+1]=c,this.data[d+2]=l,this.data[d+3]=255}this.pos+=t}},Fd.prototype.bit24=function(){for(var t=this.height-1;t>=0;t--){for(var e=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),o=e*this.width*4+4*n;this.data[o]=a,this.data[o+1]=s,this.data[o+2]=r,this.data[o+3]=255}this.pos+=this.width%4}},Fd.prototype.bit32=function(){for(var t=this.height-1;t>=0;t--)for(var e=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),l=e*this.width*4+4*n;this.data[l]=a,this.data[l+1]=s,this.data[l+2]=r,this.data[l+3]=o}},Fd.prototype.getData=function(){return this.data},function(t){t.processBMP=function(e,n,r,s){var a=new Fd(e,!1),o=a.width,l=a.height,c={data:a.getData(),width:o,height:l},u=new bL(100).encode(c,100);return t.processJPEG.call(this,u,n,r,s)}}(_n.API),noe.prototype.getData=function(){return this.data},function(t){t.processWEBP=function(e,n,r,s){var a=new noe(e),o=a.width,l=a.height,c={data:a.getData(),width:o,height:l},u=new bL(100).encode(c,100);return t.processJPEG.call(this,u,n,r,s)}}(_n.API),_n.API.processRGBA=function(t,e,n){for(var r=t.data,s=r.length,a=new Uint8Array(s/4*3),o=new Uint8Array(s/4),l=0,c=0,u=0;u<s;u+=4){var d=r[u],h=r[u+1],f=r[u+2],A=r[u+3];a[l++]=d,a[l++]=h,a[l++]=f,o[c++]=A}var v=this.__addimage__.arrayBufferToBinaryString(a);return{alpha:this.__addimage__.arrayBufferToBinaryString(o),data:v,index:e,alias:n,colorSpace:"DeviceRGB",bitsPerComponent:8,width:t.width,height:t.height}},_n.API.setLanguage=function(t){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[t]!==void 0&&(this.internal.languageSettings.languageCode=t,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Eb=_n.API,E4=Eb.getCharWidthsArray=function(t,e){var n,r,s=(e=e||{}).font||this.internal.getFont(),a=e.fontSize||this.internal.getFontSize(),o=e.charSpace||this.internal.getCharSpace(),l=e.widths?e.widths:s.metadata.Unicode.widths,c=l.fof?l.fof:1,u=e.kerning?e.kerning:s.metadata.Unicode.kerning,d=u.fof?u.fof:1,h=e.doKerning!==!1,f=0,A=t.length,v=0,p=l[0]||c,m=[];for(n=0;n<A;n++)r=t.charCodeAt(n),typeof s.metadata.widthOfString=="function"?m.push((s.metadata.widthOfGlyph(s.metadata.characterToGlyph(r))+o*(1e3/a)||0)/1e3):(f=h&&ri(u[r])==="object"&&!isNaN(parseInt(u[r][v],10))?u[r][v]/d:0,m.push((l[r]||p)/c+f)),v=r;return m},Jae=Eb.getStringUnitWidth=function(t,e){var n=(e=e||{}).fontSize||this.internal.getFontSize(),r=e.font||this.internal.getFont(),s=e.charSpace||this.internal.getCharSpace();return Eb.processArabic&&(t=Eb.processArabic(t)),typeof r.metadata.widthOfString=="function"?r.metadata.widthOfString(t,n,s)/n:E4.apply(this,arguments).reduce(function(a,o){return a+o},0)},Zae=function(t,e,n,r){for(var s=[],a=0,o=t.length,l=0;a!==o&&l+e[a]<n;)l+=e[a],a++;s.push(t.slice(0,a));var c=a;for(l=0;a!==o;)l+e[a]>r&&(s.push(t.slice(c,a)),l=0,c=a),l+=e[a],a++;return c!==a&&s.push(t.slice(c,a)),s},eoe=function(t,e,n){n||(n={});var r,s,a,o,l,c,u,d=[],h=[d],f=n.textIndent||0,A=0,v=0,p=t.split(" "),m=E4.apply(this,[" ",n])[0];if(c=n.lineIndent===-1?p[0].length+2:n.lineIndent||0){var g=Array(c).join(" "),x=[];p.map(function(j){(j=j.split(/\s*\n/)).length>1?x=x.concat(j.map(function(N,_){return(_&&N.length?`
`:"")+N})):x.push(j[0])}),p=x,c=Jae.apply(this,[g,n])}for(a=0,o=p.length;a<o;a++){var b=0;if(r=p[a],c&&r[0]==`
`&&(r=r.substr(1),b=1),f+A+(v=(s=E4.apply(this,[r,n])).reduce(function(j,N){return j+N},0))>e||b){if(v>e){for(l=Zae.apply(this,[r,s,e-(f+A),e]),d.push(l.shift()),d=[l.pop()];l.length;)h.push([l.shift()]);v=s.slice(r.length-(d[0]?d[0].length:0)).reduce(function(j,N){return j+N},0)}else d=[r];h.push(d),f=v+c,A=m}else d.push(r),f+=A+v,A=m}return u=c?function(j,N){return(N?g:"")+j.join(" ")}:function(j){return j.join(" ")},h.map(u)},Eb.splitTextToSize=function(t,e,n){var r,s=(n=n||{}).fontSize||this.internal.getFontSize(),a=(function(d){if(d.widths&&d.kerning)return{widths:d.widths,kerning:d.kerning};var h=this.internal.getFont(d.fontName,d.fontStyle);return h.metadata.Unicode?{widths:h.metadata.Unicode.widths||{0:1},kerning:h.metadata.Unicode.kerning||{}}:{font:h.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,n);r=Array.isArray(t)?t:String(t).split(/\r?\n/);var o=1*this.internal.scaleFactor*e/s;a.textIndent=n.textIndent?1*n.textIndent*this.internal.scaleFactor/s:0,a.lineIndent=n.lineIndent;var l,c,u=[];for(l=0,c=r.length;l<c;l++)u=u.concat(eoe.apply(this,[r[l],o,a]));return u},function(t){t.__fontmetrics__=t.__fontmetrics__||{};for(var e="klmnopqrstuvwxyz",n={},r={},s=0;s<e.length;s++)n[e[s]]="0123456789abcdef"[s],r["0123456789abcdef"[s]]=e[s];var a=function(h){return"0x"+parseInt(h,10).toString(16)},o=t.__fontmetrics__.compress=function(h){var f,A,v,p,m=["{"];for(var g in h){if(f=h[g],isNaN(parseInt(g,10))?A="'"+g+"'":(g=parseInt(g,10),A=(A=a(g).slice(2)).slice(0,-1)+r[A.slice(-1)]),typeof f=="number")f<0?(v=a(f).slice(3),p="-"):(v=a(f).slice(2),p=""),v=p+v.slice(0,-1)+r[v.slice(-1)];else{if(ri(f)!=="object")throw new Error("Don't know what to do with value type "+ri(f)+".");v=o(f)}m.push(A+v)}return m.push("}"),m.join("")},l=t.__fontmetrics__.uncompress=function(h){if(typeof h!="string")throw new Error("Invalid argument passed to uncompress.");for(var f,A,v,p,m={},g=1,x=m,b=[],j="",N="",_=h.length-1,C=1;C<_;C+=1)(p=h[C])=="'"?f?(v=f.join(""),f=void 0):f=[]:f?f.push(p):p=="{"?(b.push([x,v]),x={},v=void 0):p=="}"?((A=b.pop())[0][A[1]]=x,v=void 0,x=A[0]):p=="-"?g=-1:v===void 0?n.hasOwnProperty(p)?(j+=n[p],v=parseInt(j,16)*g,g=1,j=""):j+=p:n.hasOwnProperty(p)?(N+=n[p],x[v]=parseInt(N,16)*g,g=1,v=void 0,N=""):N+=p;return m},c={codePages:["WinAnsiEncoding"],WinAnsiEncoding:l("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},u={Unicode:{Courier:c,"Courier-Bold":c,"Courier-BoldOblique":c,"Courier-Oblique":c,Helvetica:c,"Helvetica-Bold":c,"Helvetica-BoldOblique":c,"Helvetica-Oblique":c,"Times-Roman":c,"Times-Bold":c,"Times-BoldItalic":c,"Times-Italic":c}},d={Unicode:{"Courier-Oblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":l("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":l("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:l("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:l("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":l("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":l("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};t.events.push(["addFont",function(h){var f=h.font,A=d.Unicode[f.postScriptName];A&&(f.metadata.Unicode={},f.metadata.Unicode.widths=A.widths,f.metadata.Unicode.kerning=A.kerning);var v=u.Unicode[f.postScriptName];v&&(f.metadata.Unicode.encoding=v,f.encoding=v.codePages[0])}])}(_n.API),function(t){var e=function(n){for(var r=n.length,s=new Uint8Array(r),a=0;a<r;a++)s[a]=n.charCodeAt(a);return s};t.API.events.push(["addFont",function(n){var r=void 0,s=n.font,a=n.instance;if(!s.isStandardFont){if(a===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+s.postScriptName+"').");if(typeof(r=a.existsFileInVFS(s.postScriptName)===!1?a.loadFile(s.postScriptName):a.getFileFromVFS(s.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+s.postScriptName+"').");(function(o,l){l=/^\x00\x01\x00\x00/.test(l)?e(l):e(f_(l)),o.metadata=t.API.TTFFont.open(l),o.metadata.Unicode=o.metadata.Unicode||{encoding:{},kerning:{},widths:[]},o.metadata.glyIdsUsed=[0]})(s,r)}}])}(_n),function(t){function e(){return(Bn.canvg?Promise.resolve(Bn.canvg):c3(()=>import("./index.es-j_4mD6li.js"),[])).catch(function(n){return Promise.reject(new Error("Could not load canvg: "+n))}).then(function(n){return n.default?n.default:n})}_n.API.addSvgAsImage=function(n,r,s,a,o,l,c,u){if(isNaN(r)||isNaN(s))throw Ai.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(a)||isNaN(o))throw Ai.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var d=document.createElement("canvas");d.width=a,d.height=o;var h=d.getContext("2d");h.fillStyle="#fff",h.fillRect(0,0,d.width,d.height);var f={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},A=this;return e().then(function(v){return v.fromString(h,n,f)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(v){return v.render(f)}).then(function(){A.addImage(d.toDataURL("image/jpeg",1),r,s,a,o,c,u)})}}(),_n.API.putTotalPages=function(t){var e,n=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(t,"g"),n=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(t,this.internal.getFont()),"g"),n=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var r=1;r<=this.internal.getNumberOfPages();r++)for(var s=0;s<this.internal.pages[r].length;s++)this.internal.pages[r][s]=this.internal.pages[r][s].replace(e,n);return this},_n.API.viewerPreferences=function(t,e){var n;t=t||{},e=e||!1;var r,s,a,o={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},l=Object.keys(o),c=[],u=0,d=0,h=0;function f(v,p){var m,g=!1;for(m=0;m<v.length;m+=1)v[m]===p&&(g=!0);return g}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(o)),this.internal.viewerpreferences.isSubscribed=!1),n=this.internal.viewerpreferences.configuration,t==="reset"||e===!0){var A=l.length;for(h=0;h<A;h+=1)n[l[h]].value=n[l[h]].defaultValue,n[l[h]].explicitSet=!1}if(ri(t)==="object"){for(s in t)if(a=t[s],f(l,s)&&a!==void 0){if(n[s].type==="boolean"&&typeof a=="boolean")n[s].value=a;else if(n[s].type==="name"&&f(n[s].valueSet,a))n[s].value=a;else if(n[s].type==="integer"&&Number.isInteger(a))n[s].value=a;else if(n[s].type==="array"){for(u=0;u<a.length;u+=1)if(r=!0,a[u].length===1&&typeof a[u][0]=="number")c.push(String(a[u]-1));else if(a[u].length>1){for(d=0;d<a[u].length;d+=1)typeof a[u][d]!="number"&&(r=!1);r===!0&&c.push([a[u][0]-1,a[u][1]-1].join(" "))}n[s].value="["+c.join(" ")+"]"}else n[s].value=n[s].defaultValue;n[s].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var v,p=[];for(v in n)n[v].explicitSet===!0&&(n[v].type==="name"?p.push("/"+v+" /"+n[v].value):p.push("/"+v+" "+n[v].value));p.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+p.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=n,this},function(t){var e=function(){var r='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',s=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),a=unescape(encodeURIComponent(r)),o=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),l=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),c=unescape(encodeURIComponent("</x:xmpmeta>")),u=a.length+o.length+l.length+s.length+c.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+u+" >>"),this.internal.write("stream"),this.internal.write(s+a+o+l+c),this.internal.write("endstream"),this.internal.write("endobj")},n=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};t.addMetadata=function(r,s){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:r,namespaceuri:s||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",n),this.internal.events.subscribe("postPutResources",e)),this}}(_n.API),function(t){var e=t.API,n=e.pdfEscape16=function(a,o){for(var l,c=o.metadata.Unicode.widths,u=["","0","00","000","0000"],d=[""],h=0,f=a.length;h<f;++h){if(l=o.metadata.characterToGlyph(a.charCodeAt(h)),o.metadata.glyIdsUsed.push(l),o.metadata.toUnicode[l]=a.charCodeAt(h),c.indexOf(l)==-1&&(c.push(l),c.push([parseInt(o.metadata.widthOfGlyph(l),10)])),l=="0")return d.join("");l=l.toString(16),d.push(u[4-l.length],l)}return d.join("")},r=function(a){var o,l,c,u,d,h,f;for(d=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,c=[],h=0,f=(l=Object.keys(a).sort(function(A,v){return A-v})).length;h<f;h++)o=l[h],c.length>=100&&(d+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar`,c=[]),a[o]!==void 0&&a[o]!==null&&typeof a[o].toString=="function"&&(u=("0000"+a[o].toString(16)).slice(-4),o=("0000"+(+o).toString(16)).slice(-4),c.push("<"+o+"><"+u+">"));return c.length&&(d+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar
`),d+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(a){(function(o){var l=o.font,c=o.out,u=o.newObject,d=o.putStream;if(l.metadata instanceof t.API.TTFFont&&l.encoding==="Identity-H"){for(var h=l.metadata.Unicode.widths,f=l.metadata.subset.encode(l.metadata.glyIdsUsed,1),A="",v=0;v<f.length;v++)A+=String.fromCharCode(f[v]);var p=u();d({data:A,addLength1:!0,objectId:p}),c("endobj");var m=u();d({data:r(l.metadata.toUnicode),addLength1:!0,objectId:m}),c("endobj");var g=u();c("<<"),c("/Type /FontDescriptor"),c("/FontName /"+Kb(l.fontName)),c("/FontFile2 "+p+" 0 R"),c("/FontBBox "+t.API.PDFObject.convert(l.metadata.bbox)),c("/Flags "+l.metadata.flags),c("/StemV "+l.metadata.stemV),c("/ItalicAngle "+l.metadata.italicAngle),c("/Ascent "+l.metadata.ascender),c("/Descent "+l.metadata.decender),c("/CapHeight "+l.metadata.capHeight),c(">>"),c("endobj");var x=u();c("<<"),c("/Type /Font"),c("/BaseFont /"+Kb(l.fontName)),c("/FontDescriptor "+g+" 0 R"),c("/W "+t.API.PDFObject.convert(h)),c("/CIDToGIDMap /Identity"),c("/DW 1000"),c("/Subtype /CIDFontType2"),c("/CIDSystemInfo"),c("<<"),c("/Supplement 0"),c("/Registry (Adobe)"),c("/Ordering ("+l.encoding+")"),c(">>"),c(">>"),c("endobj"),l.objectNumber=u(),c("<<"),c("/Type /Font"),c("/Subtype /Type0"),c("/ToUnicode "+m+" 0 R"),c("/BaseFont /"+Kb(l.fontName)),c("/Encoding /"+l.encoding),c("/DescendantFonts ["+x+" 0 R]"),c(">>"),c("endobj"),l.isAlreadyPutted=!0}})(a)}]),e.events.push(["putFont",function(a){(function(o){var l=o.font,c=o.out,u=o.newObject,d=o.putStream;if(l.metadata instanceof t.API.TTFFont&&l.encoding==="WinAnsiEncoding"){for(var h=l.metadata.rawData,f="",A=0;A<h.length;A++)f+=String.fromCharCode(h[A]);var v=u();d({data:f,addLength1:!0,objectId:v}),c("endobj");var p=u();d({data:r(l.metadata.toUnicode),addLength1:!0,objectId:p}),c("endobj");var m=u();c("<<"),c("/Descent "+l.metadata.decender),c("/CapHeight "+l.metadata.capHeight),c("/StemV "+l.metadata.stemV),c("/Type /FontDescriptor"),c("/FontFile2 "+v+" 0 R"),c("/Flags 96"),c("/FontBBox "+t.API.PDFObject.convert(l.metadata.bbox)),c("/FontName /"+Kb(l.fontName)),c("/ItalicAngle "+l.metadata.italicAngle),c("/Ascent "+l.metadata.ascender),c(">>"),c("endobj"),l.objectNumber=u();for(var g=0;g<l.metadata.hmtx.widths.length;g++)l.metadata.hmtx.widths[g]=parseInt(l.metadata.hmtx.widths[g]*(1e3/l.metadata.head.unitsPerEm));c("<</Subtype/TrueType/Type/Font/ToUnicode "+p+" 0 R/BaseFont/"+Kb(l.fontName)+"/FontDescriptor "+m+" 0 R/Encoding/"+l.encoding+" /FirstChar 29 /LastChar 255 /Widths "+t.API.PDFObject.convert(l.metadata.hmtx.widths)+">>"),c("endobj"),l.isAlreadyPutted=!0}})(a)}]);var s=function(a){var o,l=a.text||"",c=a.x,u=a.y,d=a.options||{},h=a.mutex||{},f=h.pdfEscape,A=h.activeFontKey,v=h.fonts,p=A,m="",g=0,x="",b=v[p].encoding;if(v[p].encoding!=="Identity-H")return{text:l,x:c,y:u,options:d,mutex:h};for(x=l,p=A,Array.isArray(l)&&(x=l[0]),g=0;g<x.length;g+=1)v[p].metadata.hasOwnProperty("cmap")&&(o=v[p].metadata.cmap.unicode.codeMap[x[g].charCodeAt(0)]),o||x[g].charCodeAt(0)<256&&v[p].metadata.hasOwnProperty("Unicode")?m+=x[g]:m+="";var j="";return parseInt(p.slice(1))<14||b==="WinAnsiEncoding"?j=f(m,p).split("").map(function(N){return N.charCodeAt(0).toString(16)}).join(""):b==="Identity-H"&&(j=n(m,v[p])),h.isHex=!0,{text:j,x:c,y:u,options:d,mutex:h}};e.events.push(["postProcessText",function(a){var o=a.text||"",l=[],c={text:o,x:a.x,y:a.y,options:a.options,mutex:a.mutex};if(Array.isArray(o)){var u=0;for(u=0;u<o.length;u+=1)Array.isArray(o[u])&&o[u].length===3?l.push([s(Object.assign({},c,{text:o[u][0]})).text,o[u][1],o[u][2]]):l.push(s(Object.assign({},c,{text:o[u]})).text);a.text=l}else a.text=s(Object.assign({},c,{text:o})).text}])}(_n),function(t){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};t.existsFileInVFS=function(n){return e.call(this),this.internal.vFS[n]!==void 0},t.addFileToVFS=function(n,r){return e.call(this),this.internal.vFS[n]=r,this},t.getFileFromVFS=function(n){return e.call(this),this.internal.vFS[n]!==void 0?this.internal.vFS[n]:null}}(_n.API),function(t){t.__bidiEngine__=t.prototype.__bidiEngine__=function(r){var s,a,o,l,c,u,d,h=e,f=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],A=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],v={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},p={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},m=["(",")","(","<",">","<","[","]","[","{","}","{","«","»","«","‹","›","‹","⁅","⁆","⁅","⁽","⁾","⁽","₍","₎","₍","≤","≥","≤","〈","〉","〈","﹙","﹚","﹙","﹛","﹜","﹛","﹝","﹞","﹝","﹤","﹥","﹤"],g=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),x=!1,b=0;this.__bidiEngine__={};var j=function(I){var F=I.charCodeAt(),M=F>>8,S=p[M];return S!==void 0?h[256*S+(255&F)]:M===252||M===253?"AL":g.test(M)?"L":M===8?"R":"N"},N=function(I){for(var F,M=0;M<I.length;M++){if((F=j(I.charAt(M)))==="L")return!1;if(F==="R")return!0}return!1},_=function(I,F,M,S){var q,U,L,z,$=F[S];switch($){case"L":case"R":x=!1;break;case"N":case"AN":break;case"EN":x&&($="AN");break;case"AL":x=!0,$="R";break;case"WS":$="N";break;case"CS":S<1||S+1>=F.length||(q=M[S-1])!=="EN"&&q!=="AN"||(U=F[S+1])!=="EN"&&U!=="AN"?$="N":x&&(U="AN"),$=U===q?U:"N";break;case"ES":$=(q=S>0?M[S-1]:"B")==="EN"&&S+1<F.length&&F[S+1]==="EN"?"EN":"N";break;case"ET":if(S>0&&M[S-1]==="EN"){$="EN";break}if(x){$="N";break}for(L=S+1,z=F.length;L<z&&F[L]==="ET";)L++;$=L<z&&F[L]==="EN"?"EN":"N";break;case"NSM":if(o&&!l){for(z=F.length,L=S+1;L<z&&F[L]==="NSM";)L++;if(L<z){var K=I[S],V=K>=1425&&K<=2303||K===64286;if(q=F[L],V&&(q==="R"||q==="AL")){$="R";break}}}$=S<1||(q=F[S-1])==="B"?"N":M[S-1];break;case"B":x=!1,s=!0,$=b;break;case"S":a=!0,$="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":x=!1;break;case"BN":$="N"}return $},C=function(I,F,M){var S=I.split("");return M&&k(S,M,{hiLevel:b}),S.reverse(),F&&F.reverse(),S.join("")},k=function(I,F,M){var S,q,U,L,z,$=-1,K=I.length,V=0,H=[],W=b?A:f,Y=[];for(x=!1,s=!1,a=!1,q=0;q<K;q++)Y[q]=j(I[q]);for(U=0;U<K;U++){if(z=V,H[U]=_(I,Y,H,U),S=240&(V=W[z][v[H[U]]]),V&=15,F[U]=L=W[V][5],S>0)if(S===16){for(q=$;q<U;q++)F[q]=1;$=-1}else $=-1;if(W[V][6])$===-1&&($=U);else if($>-1){for(q=$;q<U;q++)F[q]=L;$=-1}Y[U]==="B"&&(F[U]=0),M.hiLevel|=L}a&&function(ee,ie,se){for(var Ae=0;Ae<se;Ae++)if(ee[Ae]==="S"){ie[Ae]=b;for(var he=Ae-1;he>=0&&ee[he]==="WS";he--)ie[he]=b}}(Y,F,K)},T=function(I,F,M,S,q){if(!(q.hiLevel<I)){if(I===1&&b===1&&!s)return F.reverse(),void(M&&M.reverse());for(var U,L,z,$,K=F.length,V=0;V<K;){if(S[V]>=I){for(z=V+1;z<K&&S[z]>=I;)z++;for($=V,L=z-1;$<L;$++,L--)U=F[$],F[$]=F[L],F[L]=U,M&&(U=M[$],M[$]=M[L],M[L]=U);V=z}V++}}},O=function(I,F,M){var S=I.split(""),q={hiLevel:b};return M||(M=[]),k(S,M,q),function(U,L,z){if(z.hiLevel!==0&&d)for(var $,K=0;K<U.length;K++)L[K]===1&&($=m.indexOf(U[K]))>=0&&(U[K]=m[$+1])}(S,M,q),T(2,S,F,M,q),T(1,S,F,M,q),S.join("")};return this.__bidiEngine__.doBidiReorder=function(I,F,M){if(function(q,U){if(U)for(var L=0;L<q.length;L++)U[L]=L;l===void 0&&(l=N(q)),u===void 0&&(u=N(q))}(I,F),o||!c||u)if(o&&c&&l^u)b=l?1:0,I=C(I,F,M);else if(!o&&c&&u)b=l?1:0,I=O(I,F,M),I=C(I,F);else if(!o||l||c||u){if(o&&!c&&l^u)I=C(I,F),l?(b=0,I=O(I,F,M)):(b=1,I=O(I,F,M),I=C(I,F));else if(o&&l&&!c&&u)b=1,I=O(I,F,M),I=C(I,F);else if(!o&&!c&&l^u){var S=d;l?(b=1,I=O(I,F,M),b=0,d=!1,I=O(I,F,M),d=S):(b=0,I=O(I,F,M),I=C(I,F),b=1,d=!1,I=O(I,F,M),d=S,I=C(I,F))}}else b=0,I=O(I,F,M);else b=l?1:0,I=O(I,F,M);return I},this.__bidiEngine__.setOptions=function(I){I&&(o=I.isInputVisual,c=I.isOutputVisual,l=I.isInputRtl,u=I.isOutputRtl,d=I.isSymmetricSwapping)},this.__bidiEngine__.setOptions(r),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],n=new t.__bidiEngine__({isInputVisual:!0});t.API.events.push(["postProcessText",function(r){var s=r.text;r.x,r.y;var a=r.options||{};r.mutex,a.lang;var o=[];if(a.isInputVisual=typeof a.isInputVisual!="boolean"||a.isInputVisual,n.setOptions(a),Object.prototype.toString.call(s)==="[object Array]"){var l=0;for(o=[],l=0;l<s.length;l+=1)Object.prototype.toString.call(s[l])==="[object Array]"?o.push([n.doBidiReorder(s[l][0]),s[l][1],s[l][2]]):o.push([n.doBidiReorder(s[l])]);r.text=o}else r.text=n.doBidiReorder(s);n.setOptions({isInputVisual:!0})}])}(_n),_n.API.TTFFont=function(){function t(e){var n;if(this.rawData=e,n=this.contents=new lx(e),this.contents.pos=4,n.readString(4)==="ttcf")throw new Error("TTCF not supported.");n.pos=0,this.parse(),this.subset=new Urt(this),this.registerTTF()}return t.open=function(e){return new t(e)},t.prototype.parse=function(){return this.directory=new brt(this.contents),this.head=new jrt(this),this.name=new Ert(this),this.cmap=new f1e(this),this.toUnicode={},this.hhea=new Nrt(this),this.maxp=new Brt(this),this.hmtx=new Drt(this),this.post=new Crt(this),this.os2=new _rt(this),this.loca=new Prt(this),this.glyf=new Trt(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},t.prototype.registerTTF=function(){var e,n,r,s,a;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var o,l,c,u;for(u=[],o=0,l=(c=this.bbox).length;o<l;o++)e=c[o],u.push(Math.round(e*this.scaleFactor));return u}).call(this),this.stemV=0,this.post.exists?(r=255&(s=this.post.italic_angle),(32768&(n=s>>16))!=0&&(n=-(1+(65535^n))),this.italicAngle=+(n+"."+r)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(a=this.familyClass)===1||a===2||a===3||a===4||a===5||a===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},t.prototype.characterToGlyph=function(e){var n;return((n=this.cmap.unicode)!=null?n.codeMap[e]:void 0)||0},t.prototype.widthOfGlyph=function(e){var n;return n=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*n},t.prototype.widthOfString=function(e,n,r){var s,a,o,l;for(o=0,a=0,l=(e=""+e).length;0<=l?a<l:a>l;a=0<=l?++a:--a)s=e.charCodeAt(a),o+=this.widthOfGlyph(this.characterToGlyph(s))+r*(1e3/n)||0;return o*(n/1e3)},t.prototype.lineHeight=function(e,n){var r;return n==null&&(n=!1),r=n?this.lineGap:0,(this.ascender+r-this.decender)/1e3*e},t}();var bh,lx=function(){function t(e){this.data=e??[],this.pos=0,this.length=this.data.length}return t.prototype.readByte=function(){return this.data[this.pos++]},t.prototype.writeByte=function(e){return this.data[this.pos++]=e},t.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},t.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},t.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},t.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},t.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},t.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},t.prototype.readString=function(e){var n,r;for(r=[],n=0;0<=e?n<e:n>e;n=0<=e?++n:--n)r[n]=String.fromCharCode(this.readByte());return r.join("")},t.prototype.writeString=function(e){var n,r,s;for(s=[],n=0,r=e.length;0<=r?n<r:n>r;n=0<=r?++n:--n)s.push(this.writeByte(e.charCodeAt(n)));return s},t.prototype.readShort=function(){return this.readInt16()},t.prototype.writeShort=function(e){return this.writeInt16(e)},t.prototype.readLongLong=function(){var e,n,r,s,a,o,l,c;return e=this.readByte(),n=this.readByte(),r=this.readByte(),s=this.readByte(),a=this.readByte(),o=this.readByte(),l=this.readByte(),c=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^n)+1099511627776*(255^r)+4294967296*(255^s)+16777216*(255^a)+65536*(255^o)+256*(255^l)+(255^c)+1):72057594037927940*e+281474976710656*n+1099511627776*r+4294967296*s+16777216*a+65536*o+256*l+c},t.prototype.writeLongLong=function(e){var n,r;return n=Math.floor(e/4294967296),r=4294967295&e,this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n),this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r)},t.prototype.readInt=function(){return this.readInt32()},t.prototype.writeInt=function(e){return this.writeInt32(e)},t.prototype.read=function(e){var n,r;for(n=[],r=0;0<=e?r<e:r>e;r=0<=e?++r:--r)n.push(this.readByte());return n},t.prototype.write=function(e){var n,r,s,a;for(a=[],r=0,s=e.length;r<s;r++)n=e[r],a.push(this.writeByte(n));return a},t}(),brt=function(){var t;function e(n){var r,s,a;for(this.scalarType=n.readInt(),this.tableCount=n.readShort(),this.searchRange=n.readShort(),this.entrySelector=n.readShort(),this.rangeShift=n.readShort(),this.tables={},s=0,a=this.tableCount;0<=a?s<a:s>a;s=0<=a?++s:--s)r={tag:n.readString(4),checksum:n.readInt(),offset:n.readInt(),length:n.readInt()},this.tables[r.tag]=r}return e.prototype.encode=function(n){var r,s,a,o,l,c,u,d,h,f,A,v,p;for(p in A=Object.keys(n).length,c=Math.log(2),h=16*Math.floor(Math.log(A)/c),o=Math.floor(h/c),d=16*A-h,(s=new lx).writeInt(this.scalarType),s.writeShort(A),s.writeShort(h),s.writeShort(o),s.writeShort(d),a=16*A,u=s.pos+a,l=null,v=[],n)for(f=n[p],s.writeString(p),s.writeInt(t(f)),s.writeInt(u),s.writeInt(f.length),v=v.concat(f),p==="head"&&(l=u),u+=f.length;u%4;)v.push(0),u++;return s.write(v),r=2981146554-t(s.data),s.pos=l+8,s.writeUInt32(r),s.data},t=function(n){var r,s,a,o;for(n=A1e.call(n);n.length%4;)n.push(0);for(a=new lx(n),s=0,r=0,o=n.length;r<o;r=r+=4)s+=a.readUInt32();return 4294967295&s},e}(),wrt={}.hasOwnProperty,Hf=function(t,e){for(var n in e)wrt.call(e,n)&&(t[n]=e[n]);function r(){this.constructor=t}return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t};bh=function(){function t(e){var n;this.file=e,n=this.file.directory.tables[this.tag],this.exists=!!n,n&&(this.offset=n.offset,this.length=n.length,this.parse(this.file.contents))}return t.prototype.parse=function(){},t.prototype.encode=function(){},t.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},t}();var jrt=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Hf(e,bh),e.prototype.tag="head",e.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.revision=n.readInt(),this.checkSumAdjustment=n.readInt(),this.magicNumber=n.readInt(),this.flags=n.readShort(),this.unitsPerEm=n.readShort(),this.created=n.readLongLong(),this.modified=n.readLongLong(),this.xMin=n.readShort(),this.yMin=n.readShort(),this.xMax=n.readShort(),this.yMax=n.readShort(),this.macStyle=n.readShort(),this.lowestRecPPEM=n.readShort(),this.fontDirectionHint=n.readShort(),this.indexToLocFormat=n.readShort(),this.glyphDataFormat=n.readShort()},e.prototype.encode=function(n){var r;return(r=new lx).writeInt(this.version),r.writeInt(this.revision),r.writeInt(this.checkSumAdjustment),r.writeInt(this.magicNumber),r.writeShort(this.flags),r.writeShort(this.unitsPerEm),r.writeLongLong(this.created),r.writeLongLong(this.modified),r.writeShort(this.xMin),r.writeShort(this.yMin),r.writeShort(this.xMax),r.writeShort(this.yMax),r.writeShort(this.macStyle),r.writeShort(this.lowestRecPPEM),r.writeShort(this.fontDirectionHint),r.writeShort(n),r.writeShort(this.glyphDataFormat),r.data},e}(),roe=function(){function t(e,n){var r,s,a,o,l,c,u,d,h,f,A,v,p,m,g,x,b;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=n+e.readInt(),h=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(c=0;c<256;++c)this.codeMap[c]=e.readByte();break;case 4:for(A=e.readUInt16(),f=A/2,e.pos+=6,a=function(){var j,N;for(N=[],c=j=0;0<=f?j<f:j>f;c=0<=f?++j:--j)N.push(e.readUInt16());return N}(),e.pos+=2,p=function(){var j,N;for(N=[],c=j=0;0<=f?j<f:j>f;c=0<=f?++j:--j)N.push(e.readUInt16());return N}(),u=function(){var j,N;for(N=[],c=j=0;0<=f?j<f:j>f;c=0<=f?++j:--j)N.push(e.readUInt16());return N}(),d=function(){var j,N;for(N=[],c=j=0;0<=f?j<f:j>f;c=0<=f?++j:--j)N.push(e.readUInt16());return N}(),s=(this.length-e.pos+this.offset)/2,l=function(){var j,N;for(N=[],c=j=0;0<=s?j<s:j>s;c=0<=s?++j:--j)N.push(e.readUInt16());return N}(),c=g=0,b=a.length;g<b;c=++g)for(m=a[c],r=x=v=p[c];v<=m?x<=m:x>=m;r=v<=m?++x:--x)d[c]===0?o=r+u[c]:(o=l[d[c]/2+(r-v)-(f-c)]||0)!==0&&(o+=u[c]),this.codeMap[r]=65535&o}e.pos=h}return t.encode=function(e,n){var r,s,a,o,l,c,u,d,h,f,A,v,p,m,g,x,b,j,N,_,C,k,T,O,I,F,M,S,q,U,L,z,$,K,V,H,W,Y,ee,ie,se,Ae,he,Be,Me,Ie;switch(S=new lx,o=Object.keys(e).sort(function(Ye,X){return Ye-X}),n){case"macroman":for(p=0,m=function(){var Ye=[];for(v=0;v<256;++v)Ye.push(0);return Ye}(),x={0:0},a={},q=0,$=o.length;q<$;q++)x[he=e[s=o[q]]]==null&&(x[he]=++p),a[s]={old:e[s],new:x[e[s]]},m[s]=x[e[s]];return S.writeUInt16(1),S.writeUInt16(0),S.writeUInt32(12),S.writeUInt16(0),S.writeUInt16(262),S.writeUInt16(0),S.write(m),{charMap:a,subtable:S.data,maxGlyphID:p+1};case"unicode":for(F=[],h=[],b=0,x={},r={},g=u=null,U=0,K=o.length;U<K;U++)x[N=e[s=o[U]]]==null&&(x[N]=++b),r[s]={old:N,new:x[N]},l=x[N]-s,g!=null&&l===u||(g&&h.push(g),F.push(s),u=l),g=s;for(g&&h.push(g),h.push(65535),F.push(65535),O=2*(T=F.length),k=2*Math.pow(Math.log(T)/Math.LN2,2),f=Math.log(k/2)/Math.LN2,C=2*T-k,c=[],_=[],A=[],v=L=0,V=F.length;L<V;v=++L){if(I=F[v],d=h[v],I===65535){c.push(0),_.push(0);break}if(I-(M=r[I].new)>=32768)for(c.push(0),_.push(2*(A.length+T-v)),s=z=I;I<=d?z<=d:z>=d;s=I<=d?++z:--z)A.push(r[s].new);else c.push(M-I),_.push(0)}for(S.writeUInt16(3),S.writeUInt16(1),S.writeUInt32(12),S.writeUInt16(4),S.writeUInt16(16+8*T+2*A.length),S.writeUInt16(0),S.writeUInt16(O),S.writeUInt16(k),S.writeUInt16(f),S.writeUInt16(C),se=0,H=h.length;se<H;se++)s=h[se],S.writeUInt16(s);for(S.writeUInt16(0),Ae=0,W=F.length;Ae<W;Ae++)s=F[Ae],S.writeUInt16(s);for(Be=0,Y=c.length;Be<Y;Be++)l=c[Be],S.writeUInt16(l);for(Me=0,ee=_.length;Me<ee;Me++)j=_[Me],S.writeUInt16(j);for(Ie=0,ie=A.length;Ie<ie;Ie++)p=A[Ie],S.writeUInt16(p);return{charMap:r,subtable:S.data,maxGlyphID:b+1}}},t}(),f1e=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Hf(e,bh),e.prototype.tag="cmap",e.prototype.parse=function(n){var r,s,a;for(n.pos=this.offset,this.version=n.readUInt16(),a=n.readUInt16(),this.tables=[],this.unicode=null,s=0;0<=a?s<a:s>a;s=0<=a?++s:--s)r=new roe(n,this.offset),this.tables.push(r),r.isUnicode&&this.unicode==null&&(this.unicode=r);return!0},e.encode=function(n,r){var s,a;return r==null&&(r="macroman"),s=roe.encode(n,r),(a=new lx).writeUInt16(0),a.writeUInt16(1),s.table=a.data.concat(s.subtable),s},e}(),Nrt=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Hf(e,bh),e.prototype.tag="hhea",e.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.ascender=n.readShort(),this.decender=n.readShort(),this.lineGap=n.readShort(),this.advanceWidthMax=n.readShort(),this.minLeftSideBearing=n.readShort(),this.minRightSideBearing=n.readShort(),this.xMaxExtent=n.readShort(),this.caretSlopeRise=n.readShort(),this.caretSlopeRun=n.readShort(),this.caretOffset=n.readShort(),n.pos+=8,this.metricDataFormat=n.readShort(),this.numberOfMetrics=n.readUInt16()},e}(),_rt=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Hf(e,bh),e.prototype.tag="OS/2",e.prototype.parse=function(n){if(n.pos=this.offset,this.version=n.readUInt16(),this.averageCharWidth=n.readShort(),this.weightClass=n.readUInt16(),this.widthClass=n.readUInt16(),this.type=n.readShort(),this.ySubscriptXSize=n.readShort(),this.ySubscriptYSize=n.readShort(),this.ySubscriptXOffset=n.readShort(),this.ySubscriptYOffset=n.readShort(),this.ySuperscriptXSize=n.readShort(),this.ySuperscriptYSize=n.readShort(),this.ySuperscriptXOffset=n.readShort(),this.ySuperscriptYOffset=n.readShort(),this.yStrikeoutSize=n.readShort(),this.yStrikeoutPosition=n.readShort(),this.familyClass=n.readShort(),this.panose=function(){var r,s;for(s=[],r=0;r<10;++r)s.push(n.readByte());return s}(),this.charRange=function(){var r,s;for(s=[],r=0;r<4;++r)s.push(n.readInt());return s}(),this.vendorID=n.readString(4),this.selection=n.readShort(),this.firstCharIndex=n.readShort(),this.lastCharIndex=n.readShort(),this.version>0&&(this.ascent=n.readShort(),this.descent=n.readShort(),this.lineGap=n.readShort(),this.winAscent=n.readShort(),this.winDescent=n.readShort(),this.codePageRange=function(){var r,s;for(s=[],r=0;r<2;r=++r)s.push(n.readInt());return s}(),this.version>1))return this.xHeight=n.readShort(),this.capHeight=n.readShort(),this.defaultChar=n.readShort(),this.breakChar=n.readShort(),this.maxContext=n.readShort()},e}(),Crt=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Hf(e,bh),e.prototype.tag="post",e.prototype.parse=function(n){var r,s,a;switch(n.pos=this.offset,this.format=n.readInt(),this.italicAngle=n.readInt(),this.underlinePosition=n.readShort(),this.underlineThickness=n.readShort(),this.isFixedPitch=n.readInt(),this.minMemType42=n.readInt(),this.maxMemType42=n.readInt(),this.minMemType1=n.readInt(),this.maxMemType1=n.readInt(),this.format){case 65536:break;case 131072:var o;for(s=n.readUInt16(),this.glyphNameIndex=[],o=0;0<=s?o<s:o>s;o=0<=s?++o:--o)this.glyphNameIndex.push(n.readUInt16());for(this.names=[],a=[];n.pos<this.offset+this.length;)r=n.readByte(),a.push(this.names.push(n.readString(r)));return a;case 151552:return s=n.readUInt16(),this.offsets=n.read(s);case 196608:break;case 262144:return this.map=(function(){var l,c,u;for(u=[],o=l=0,c=this.file.maxp.numGlyphs;0<=c?l<c:l>c;o=0<=c?++l:--l)u.push(n.readUInt32());return u}).call(this)}},e}(),Srt=function(t,e){this.raw=t,this.length=t.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},Ert=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Hf(e,bh),e.prototype.tag="name",e.prototype.parse=function(n){var r,s,a,o,l,c,u,d,h,f,A;for(n.pos=this.offset,n.readShort(),r=n.readShort(),c=n.readShort(),s=[],o=0;0<=r?o<r:o>r;o=0<=r?++o:--o)s.push({platformID:n.readShort(),encodingID:n.readShort(),languageID:n.readShort(),nameID:n.readShort(),length:n.readShort(),offset:this.offset+c+n.readShort()});for(u={},o=h=0,f=s.length;h<f;o=++h)a=s[o],n.pos=a.offset,d=n.readString(a.length),l=new Srt(d,a),u[A=a.nameID]==null&&(u[A]=[]),u[a.nameID].push(l);this.strings=u,this.copyright=u[0],this.fontFamily=u[1],this.fontSubfamily=u[2],this.uniqueSubfamily=u[3],this.fontName=u[4],this.version=u[5];try{this.postscriptName=u[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=u[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=u[7],this.manufacturer=u[8],this.designer=u[9],this.description=u[10],this.vendorUrl=u[11],this.designerUrl=u[12],this.license=u[13],this.licenseUrl=u[14],this.preferredFamily=u[15],this.preferredSubfamily=u[17],this.compatibleFull=u[18],this.sampleText=u[19]},e}(),Brt=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Hf(e,bh),e.prototype.tag="maxp",e.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.numGlyphs=n.readUInt16(),this.maxPoints=n.readUInt16(),this.maxContours=n.readUInt16(),this.maxCompositePoints=n.readUInt16(),this.maxComponentContours=n.readUInt16(),this.maxZones=n.readUInt16(),this.maxTwilightPoints=n.readUInt16(),this.maxStorage=n.readUInt16(),this.maxFunctionDefs=n.readUInt16(),this.maxInstructionDefs=n.readUInt16(),this.maxStackElements=n.readUInt16(),this.maxSizeOfInstructions=n.readUInt16(),this.maxComponentElements=n.readUInt16(),this.maxComponentDepth=n.readUInt16()},e}(),Drt=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Hf(e,bh),e.prototype.tag="hmtx",e.prototype.parse=function(n){var r,s,a,o,l,c,u;for(n.pos=this.offset,this.metrics=[],r=0,c=this.file.hhea.numberOfMetrics;0<=c?r<c:r>c;r=0<=c?++r:--r)this.metrics.push({advance:n.readUInt16(),lsb:n.readInt16()});for(a=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var d,h;for(h=[],r=d=0;0<=a?d<a:d>a;r=0<=a?++d:--d)h.push(n.readInt16());return h}(),this.widths=(function(){var d,h,f,A;for(A=[],d=0,h=(f=this.metrics).length;d<h;d++)o=f[d],A.push(o.advance);return A}).call(this),s=this.widths[this.widths.length-1],u=[],r=l=0;0<=a?l<a:l>a;r=0<=a?++l:--l)u.push(this.widths.push(s));return u},e.prototype.forGlyph=function(n){return n in this.metrics?this.metrics[n]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[n-this.metrics.length]}},e}(),A1e=[].slice,Trt=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Hf(e,bh),e.prototype.tag="glyf",e.prototype.parse=function(){return this.cache={}},e.prototype.glyphFor=function(n){var r,s,a,o,l,c,u,d,h,f;return n in this.cache?this.cache[n]:(o=this.file.loca,r=this.file.contents,s=o.indexOf(n),(a=o.lengthOf(n))===0?this.cache[n]=null:(r.pos=this.offset+s,l=(c=new lx(r.read(a))).readShort(),d=c.readShort(),f=c.readShort(),u=c.readShort(),h=c.readShort(),this.cache[n]=l===-1?new Frt(c,d,f,u,h):new krt(c,l,d,f,u,h),this.cache[n]))},e.prototype.encode=function(n,r,s){var a,o,l,c,u;for(l=[],o=[],c=0,u=r.length;c<u;c++)a=n[r[c]],o.push(l.length),a&&(l=l.concat(a.encode(s)));return o.push(l.length),{table:l,offsets:o}},e}(),krt=function(){function t(e,n,r,s,a,o){this.raw=e,this.numberOfContours=n,this.xMin=r,this.yMin=s,this.xMax=a,this.yMax=o,this.compound=!1}return t.prototype.encode=function(){return this.raw.data},t}(),Frt=function(){function t(e,n,r,s,a){var o,l;for(this.raw=e,this.xMin=n,this.yMin=r,this.xMax=s,this.yMax=a,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],o=this.raw;l=o.readShort(),this.glyphOffsets.push(o.pos),this.glyphIDs.push(o.readUInt16()),32&l;)o.pos+=1&l?4:2,128&l?o.pos+=8:64&l?o.pos+=4:8&l&&(o.pos+=2)}return t.prototype.encode=function(){var e,n,r;for(n=new lx(A1e.call(this.raw.data)),e=0,r=this.glyphIDs.length;e<r;++e)n.pos=this.glyphOffsets[e];return n.data},t}(),Prt=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Hf(e,bh),e.prototype.tag="loca",e.prototype.parse=function(n){var r,s;return n.pos=this.offset,r=this.file.head.indexToLocFormat,this.offsets=r===0?(function(){var a,o;for(o=[],s=0,a=this.length;s<a;s+=2)o.push(2*n.readUInt16());return o}).call(this):(function(){var a,o;for(o=[],s=0,a=this.length;s<a;s+=4)o.push(n.readUInt32());return o}).call(this)},e.prototype.indexOf=function(n){return this.offsets[n]},e.prototype.lengthOf=function(n){return this.offsets[n+1]-this.offsets[n]},e.prototype.encode=function(n,r){for(var s=new Uint32Array(this.offsets.length),a=0,o=0,l=0;l<s.length;++l)if(s[l]=a,o<r.length&&r[o]==l){++o,s[l]=a;var c=this.offsets[l],u=this.offsets[l+1]-c;u>0&&(a+=u)}for(var d=new Array(4*s.length),h=0;h<s.length;++h)d[4*h+3]=255&s[h],d[4*h+2]=(65280&s[h])>>8,d[4*h+1]=(16711680&s[h])>>16,d[4*h]=(4278190080&s[h])>>24;return d},e}(),Urt=function(){function t(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return t.prototype.generateCmap=function(){var e,n,r,s,a;for(n in s=this.font.cmap.tables[0].codeMap,e={},a=this.subset)r=a[n],e[n]=s[r];return e},t.prototype.glyphsFor=function(e){var n,r,s,a,o,l,c;for(s={},o=0,l=e.length;o<l;o++)s[a=e[o]]=this.font.glyf.glyphFor(a);for(a in n=[],s)(r=s[a])!=null&&r.compound&&n.push.apply(n,r.glyphIDs);if(n.length>0)for(a in c=this.glyphsFor(n))r=c[a],s[a]=r;return s},t.prototype.encode=function(e,n){var r,s,a,o,l,c,u,d,h,f,A,v,p,m,g;for(s in r=f1e.encode(this.generateCmap(),"unicode"),o=this.glyphsFor(e),A={0:0},g=r.charMap)A[(c=g[s]).old]=c.new;for(v in f=r.maxGlyphID,o)v in A||(A[v]=f++);return d=function(x){var b,j;for(b in j={},x)j[x[b]]=b;return j}(A),h=Object.keys(d).sort(function(x,b){return x-b}),p=function(){var x,b,j;for(j=[],x=0,b=h.length;x<b;x++)l=h[x],j.push(d[l]);return j}(),a=this.font.glyf.encode(o,p,A),u=this.font.loca.encode(a.offsets,p),m={cmap:this.font.cmap.raw(),glyf:a.table,loca:u,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(n)},this.font.os2.exists&&(m["OS/2"]=this.font.os2.raw()),this.font.directory.encode(m)},t}();_n.API.PDFObject=function(){var t;function e(){}return t=function(n,r){return(Array(r+1).join("0")+n).slice(-r)},e.convert=function(n){var r,s,a,o;if(Array.isArray(n))return"["+function(){var l,c,u;for(u=[],l=0,c=n.length;l<c;l++)r=n[l],u.push(e.convert(r));return u}().join(" ")+"]";if(typeof n=="string")return"/"+n;if(n!=null&&n.isString)return"("+n+")";if(n instanceof Date)return"(D:"+t(n.getUTCFullYear(),4)+t(n.getUTCMonth(),2)+t(n.getUTCDate(),2)+t(n.getUTCHours(),2)+t(n.getUTCMinutes(),2)+t(n.getUTCSeconds(),2)+"Z)";if({}.toString.call(n)==="[object Object]"){for(s in a=["<<"],n)o=n[s],a.push("/"+s+" "+e.convert(o));return a.push(">>"),a.join(`
`)}return""+n},e}();const Irt=({projectId:t,userId:e="current_user",onReportGenerated:n})=>{const[r,s]=E.useState(null),[a,o]=E.useState(!1),[l,c]=E.useState(!1),[u,d]=E.useState(0);E.useRef(null);const{toast:h}=ki(),f=async()=>{c(!0),d(10);try{const x=await fetch("/api/analytics/novel-report",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({project_id:t,user_id:e})});if(d(30),x.ok){const b=await x.json();s(b.report_data)}else s(A());d(50)}catch(x){console.error("خطأ في جلب بيانات التقرير:",x),s(A()),h({title:"تحذير",description:"تم تحميل بيانات تجريبية للعرض التوضيحي",variant:"default"})}finally{c(!1),d(100)}},A=()=>({project_info:{title:"رواية الأحلام المفقودة",author:"الكاتب المبدع",created_at:"2024-03-15",completed_at:"2024-06-05",total_chapters:12,total_words:85670,total_sessions:47,total_writing_time:2340,genre:"أدب معاصر"},journey_summary:{writing_consistency:8.7,average_session_length:95,most_productive_time:"صباحاً (9-11 ص)",total_edits:1247,ai_assistance_usage:72,personal_growth_score:8.9},style_evolution:{initial_style_score:6.2,final_style_score:8.6,improvement_percentage:38.7,key_developments:[{chapter:3,milestone:"تحسن ملحوظ في بناء الحوار",impact:8.5},{chapter:6,milestone:"تطور الوصف والسرد البصري",impact:9.1},{chapter:9,milestone:"إتقان التنقل بين الأزمنة",impact:8.8},{chapter:12,milestone:"تماسك الأسلوب والهوية الأدبية",impact:9.3}],consistency_trend:Array.from({length:12},(x,b)=>({chapter:b+1,consistency_score:Math.max(6,Math.min(9.5,6.2+b*.28+(Math.random()-.5)*.6)),quality_score:Math.max(6.5,Math.min(9.8,6.5+b*.26+(Math.random()-.5)*.5))}))},learning_insights:{ai_adaptation_timeline:Array.from({length:12},(x,b)=>({week:b+1,understanding_level:Math.max(4,Math.min(10,5+b*.4+(Math.random()-.5)*.8)),personalization_score:Math.max(5,Math.min(9.5,5.5+b*.35+(Math.random()-.5)*.6))})),preference_learning:{vocabulary_preferences:["مفردات غنية وشاعرية","تجنب التكرار المملل","استخدام المترادفات بذكاء"],style_preferences:["السرد بضمير الغائب","الوصف التدريجي","الحوار الطبيعي المتدفق"],structural_preferences:["فقرات متوسطة الطول","تنوع في طول الجمل","انتقالات سلسة بين المشاهد"]},collaboration_effectiveness:8.4},achievements:[{date:"2024-03-28",achievement:"أول فصل مكتمل بجودة عالية",category:"quality",significance:7.5,description:"تحقيق معدل جودة 8.2/10 لأول مرة"},{date:"2024-04-15",achievement:"انتظام في الكتابة لأسبوعين متتاليين",category:"consistency",significance:8.1,description:"كتابة يومية لمدة 14 يوم متتالي"},{date:"2024-05-02",achievement:"تجاوز 50,000 كلمة",category:"productivity",significance:8.8,description:"إنجاز كبير في رحلة الكتابة"},{date:"2024-05-20",achievement:"تطور ملحوظ في الأسلوب الشخصي",category:"style",significance:9.2,description:"ظهور بصمة أدبية مميزة وواضحة"}],strengths_analysis:{core_strengths:[{strength:"الإبداع في الاستعارات",score:9.1,evidence:["استعارات بصرية قوية","تشبيهات مبتكرة","صور شعرية متميزة"]},{strength:"بناء الشخصيات",score:8.7,evidence:["عمق نفسي واضح","تطور طبيعي للشخصيات","حوارات مميزة"]},{strength:"السرد البصري",score:8.9,evidence:["وصف حي ومتحرك","قدرة على رسم المشاهد","إيقاع سردي متوازن"]}],unique_characteristics:["أسلوب شاعري راقي","قدرة على المزج بين الواقعية والخيال","استخدام متميز للرمزية","عمق ثقافي واضح"],signature_elements:["الاستعارات البصرية الغنية","الحوار الداخلي المؤثر","الوصف التدريجي المتدفق","النهايات المفتوحة المثيرة للتفكير"]},improvement_recommendations:{immediate_focus:[{area:"تنويع طول الجمل",priority:"high",specific_suggestions:["استخدام جمل قصيرة للتأثير الدرامي","تجنب الجمل الطويلة المعقدة","التوازن بين البساطة والتعقيد"],expected_impact:8.2},{area:"تطوير الحبكة الفرعية",priority:"medium",specific_suggestions:["إضافة خيوط سردية متوازية","ربط الأحداث بشكل أقوى","تعميق الصراع الداخلي"],expected_impact:7.8}],long_term_goals:[{goal:"تطوير صوت أدبي فريد",timeline:"6-12 شهر",steps:["دراسة الكتاب المفضلين","تجريب أساليب سردية مختلفة","الاستمرار في الممارسة المنتظمة"]},{goal:"إتقان التقنيات السردية المتقدمة",timeline:"12-18 شهر",steps:["دراسة تقنيات السرد الحديثة","تطبيق التقنيات في مشاريع جديدة","الحصول على ردود فعل متخصصة"]}]},comparative_analysis:{genre_benchmark:{your_score:8.6,genre_average:7.2,percentile:78},personal_progress:{starting_point:6.2,current_level:8.6,growth_rate:.2}}}),v=async()=>{if(!r){h({title:"خطأ",description:"لا توجد بيانات للتقرير",variant:"destructive"});return}o(!0),d(0);try{d(20);const x=new _n({orientation:"portrait",unit:"mm",format:"a4"});x.setFont("helvetica"),x.setFontSize(16),d(40);const b=x.internal.pageSize.getWidth(),j=x.internal.pageSize.getHeight();x.setFontSize(24),x.text("تقرير مسيرة الكتابة الشخصية",b/2,40,{align:"center"}),x.setFontSize(18),x.text(r.project_info.title,b/2,60,{align:"center"}),x.setFontSize(14),x.text(`الكاتب: ${r.project_info.author}`,b/2,80,{align:"center"}),x.text(`تاريخ التقرير: ${new Date().toLocaleDateString("ar-SA")}`,b/2,100,{align:"center"}),d(60);let N=140;const _=8,C=20;x.setFontSize(16),x.text("معلومات المشروع",C,N),N+=_*2,x.setFontSize(12),[`العنوان: ${r.project_info.title}`,`النوع: ${r.project_info.genre}`,`عدد الفصول: ${r.project_info.total_chapters}`,`إجمالي الكلمات: ${r.project_info.total_words.toLocaleString()}`,`عدد الجلسات: ${r.project_info.total_sessions}`,`مدة الكتابة: ${Math.floor(r.project_info.total_writing_time/60)} ساعة`].forEach(F=>{x.text(F,C,N),N+=_}),d(70),x.addPage(),N=30,x.setFontSize(16),x.text("ملخص رحلة الكتابة",C,N),N+=_*2,x.setFontSize(12),[`درجة الانتظام: ${r.journey_summary.writing_consistency}/10`,`متوسط طول الجلسة: ${r.journey_summary.average_session_length} دقيقة`,`الوقت الأكثر إنتاجية: ${r.journey_summary.most_productive_time}`,`إجمالي التعديلات: ${r.journey_summary.total_edits}`,`درجة النمو الشخصي: ${r.journey_summary.personal_growth_score}/10`].forEach(F=>{x.text(F,C,N),N+=_}),d(80),N+=_,x.setFontSize(16),x.text("تطور الأسلوب",C,N),N+=_*2,x.setFontSize(12),[`الدرجة الأولية: ${r.style_evolution.initial_style_score}/10`,`الدرجة النهائية: ${r.style_evolution.final_style_score}/10`,`نسبة التحسن: ${r.style_evolution.improvement_percentage}%`].forEach(F=>{x.text(F,C,N),N+=_}),d(90),N+=_,x.setFontSize(16),x.text("نقاط القوة الأساسية",C,N),N+=_*2,x.setFontSize(12),r.strengths_analysis.core_strengths.forEach(F=>{x.text(`• ${F.strength}: ${F.score}/10`,C,N),N+=_});const I=`تقرير-${r.project_info.title}-${new Date().toISOString().split("T")[0]}.pdf`;x.save(I),d(100),h({title:"تم إنشاء التقرير بنجاح",description:`تم حفظ التقرير: ${I}`,variant:"default"}),n&&n(I)}catch(x){console.error("خطأ في إنشاء التقرير:",x),h({title:"خطأ في إنشاء التقرير",description:"حدث خطأ أثناء إنشاء تقرير PDF",variant:"destructive"})}finally{o(!1),d(0)}},p=x=>{switch(x){case"style":return i.jsx(Wa,{className:"h-4 w-4"});case"productivity":return i.jsx(vr,{className:"h-4 w-4"});case"quality":return i.jsx(tr,{className:"h-4 w-4"});case"consistency":return i.jsx(En,{className:"h-4 w-4"});default:return i.jsx(za,{className:"h-4 w-4"})}},m=x=>{switch(x){case"style":return"bg-purple-50 text-purple-700 border-purple-200";case"productivity":return"bg-blue-50 text-blue-700 border-blue-200";case"quality":return"bg-yellow-50 text-yellow-700 border-yellow-200";case"consistency":return"bg-green-50 text-green-700 border-green-200";default:return"bg-gray-50 text-gray-700 border-gray-200"}},g=x=>{switch(x){case"high":return"bg-red-50 text-red-700 border-red-200";case"medium":return"bg-orange-50 text-orange-700 border-orange-200";case"low":return"bg-blue-50 text-blue-700 border-blue-200";default:return"bg-gray-50 text-gray-700 border-gray-200"}};return!r&&!l?i.jsx(ae,{className:"p-8 text-center",children:i.jsxs(oe,{children:[i.jsx(xn,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),i.jsx("h3",{className:"text-lg font-semibold text-gray-700 mb-4",children:"إنشاء تقرير نهاية الرواية"}),i.jsx("p",{className:"text-gray-600 mb-6",children:"اكتب تحليلاً شاملاً عن مسيرتك مع هذه الرواية"}),i.jsxs(xe,{onClick:f,className:"bg-purple-600 hover:bg-purple-700",children:[i.jsx(Vn,{className:"h-4 w-4 ml-2"}),"إنشاء التقرير"]})]})}):i.jsxs("div",{className:"space-y-6",dir:"rtl",children:[(l||a)&&i.jsx(ae,{children:i.jsxs(oe,{className:"p-6",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("span",{className:"text-sm font-medium",children:l?"جاري تحليل البيانات...":"جاري إنشاء تقرير PDF..."}),i.jsxs("span",{className:"text-sm text-gray-500",children:[u,"%"]})]}),i.jsx(tt,{value:u,className:"h-2"})]})}),r&&i.jsxs(i.Fragment,{children:[i.jsxs(ae,{className:"bg-gradient-to-l from-purple-50 to-blue-50",children:[i.jsx(Te,{children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsxs(ke,{className:"flex items-center text-2xl",children:[i.jsx(dr,{className:"h-6 w-6 ml-3"}),"تقرير مسيرة الكتابة الشخصية"]}),i.jsx(Pt,{className:"text-lg mt-2",children:r.project_info.title})]}),i.jsxs(xe,{onClick:v,disabled:a,className:"bg-purple-600 hover:bg-purple-700",children:[i.jsx(gr,{className:"h-4 w-4 ml-2"}),"تحميل PDF"]})]})}),i.jsx(oe,{children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[i.jsxs("div",{className:"text-center",children:[i.jsx("p",{className:"text-2xl font-bold text-purple-900",children:r.project_info.total_chapters}),i.jsx("p",{className:"text-sm text-purple-600",children:"فصل"})]}),i.jsxs("div",{className:"text-center",children:[i.jsx("p",{className:"text-2xl font-bold text-blue-900",children:r.project_info.total_words.toLocaleString()}),i.jsx("p",{className:"text-sm text-blue-600",children:"كلمة"})]}),i.jsxs("div",{className:"text-center",children:[i.jsx("p",{className:"text-2xl font-bold text-green-900",children:Math.floor(r.project_info.total_writing_time/60)}),i.jsx("p",{className:"text-sm text-green-600",children:"ساعة كتابة"})]}),i.jsxs("div",{className:"text-center",children:[i.jsx("p",{className:"text-2xl font-bold text-orange-900",children:r.journey_summary.personal_growth_score.toFixed(1)}),i.jsx("p",{className:"text-sm text-orange-600",children:"درجة النمو"})]})]})})]}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[i.jsxs(ae,{children:[i.jsx(Te,{children:i.jsxs(ke,{className:"flex items-center",children:[i.jsx(wp,{className:"h-5 w-5 ml-2"}),"معلومات المشروع"]})}),i.jsxs(oe,{className:"space-y-4",children:[i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-600",children:"النوع الأدبي"}),i.jsx("p",{className:"font-semibold",children:r.project_info.genre})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-600",children:"تاريخ البداية"}),i.jsx("p",{className:"font-semibold",children:new Date(r.project_info.created_at).toLocaleDateString("ar-SA")})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-600",children:"عدد الجلسات"}),i.jsx("p",{className:"font-semibold",children:r.project_info.total_sessions})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-600",children:"متوسط الجلسة"}),i.jsxs("p",{className:"font-semibold",children:[r.journey_summary.average_session_length," دقيقة"]})]})]}),i.jsx(Ns,{}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"الوقت الأكثر إنتاجية"}),i.jsxs(He,{variant:"outline",className:"bg-blue-50",children:[i.jsx(xr,{className:"h-3 w-3 ml-1"}),r.journey_summary.most_productive_time]})]})]})]}),i.jsxs(ae,{children:[i.jsx(Te,{children:i.jsxs(ke,{className:"flex items-center",children:[i.jsx(Hn,{className:"h-5 w-5 ml-2"}),"تطور الأسلوب"]})}),i.jsxs(oe,{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("span",{className:"text-sm",children:"النقطة الأولية"}),i.jsxs(He,{variant:"secondary",children:[r.style_evolution.initial_style_score,"/10"]})]}),i.jsx(tt,{value:r.style_evolution.initial_style_score*10,className:"h-2"}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("span",{className:"text-sm",children:"المستوى الحالي"}),i.jsxs(He,{variant:"default",children:[r.style_evolution.final_style_score,"/10"]})]}),i.jsx(tt,{value:r.style_evolution.final_style_score*10,className:"h-2"}),i.jsxs("div",{className:"bg-green-50 p-3 rounded-lg",children:[i.jsxs("div",{className:"flex items-center justify-center",children:[i.jsx(Hn,{className:"h-5 w-5 text-green-600 ml-2"}),i.jsxs("span",{className:"text-lg font-bold text-green-800",children:["+",r.style_evolution.improvement_percentage.toFixed(1),"%"]})]}),i.jsx("p",{className:"text-sm text-green-600 text-center mt-1",children:"تحسن إجمالي"})]})]})]})]}),i.jsxs(ae,{children:[i.jsx(Te,{children:i.jsxs(ke,{className:"flex items-center",children:[i.jsx(Yg,{className:"h-5 w-5 ml-2"}),"معالم الإنجاز في المسيرة"]})}),i.jsx(oe,{children:i.jsx("div",{className:"space-y-4",children:r.achievements.map((x,b)=>i.jsxs("div",{className:`flex items-start p-4 rounded-lg border ${m(x.category)}`,children:[i.jsx("div",{className:"flex-shrink-0 ml-3",children:p(x.category)}),i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("h4",{className:"font-semibold",children:x.achievement}),i.jsx("span",{className:"text-sm",children:new Date(x.date).toLocaleDateString("ar-SA")})]}),i.jsx("p",{className:"text-sm mt-1",children:x.description}),i.jsxs("div",{className:"mt-2 flex items-center",children:[i.jsx("span",{className:"text-xs ml-1",children:"الأهمية:"}),i.jsx(tt,{value:x.significance*10,className:"h-1 w-20"}),i.jsxs("span",{className:"text-xs mr-1",children:[x.significance,"/10"]})]})]})]},b))})})]}),i.jsxs(ae,{children:[i.jsx(Te,{children:i.jsxs(ke,{className:"flex items-center",children:[i.jsx(tr,{className:"h-5 w-5 ml-2"}),"نقاط القوة الأساسية"]})}),i.jsx(oe,{children:i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:r.strengths_analysis.core_strengths.map((x,b)=>i.jsxs("div",{className:"p-4 bg-gradient-to-br from-purple-50 to-blue-50 rounded-lg",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("h4",{className:"font-semibold text-purple-900",children:x.strength}),i.jsxs(He,{variant:"default",children:[x.score,"/10"]})]}),i.jsx(tt,{value:x.score*10,className:"h-2 mb-3"}),i.jsx("div",{className:"space-y-1",children:x.evidence.map((j,N)=>i.jsxs("div",{className:"flex items-center text-sm text-purple-700",children:[i.jsx("div",{className:"w-1 h-1 bg-purple-500 rounded-full ml-2"}),j]},N))})]},b))})})]}),i.jsxs(ae,{children:[i.jsx(Te,{children:i.jsxs(ke,{className:"flex items-center",children:[i.jsx(nr,{className:"h-5 w-5 ml-2"}),"توصيات التحسن"]})}),i.jsx(oe,{children:i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{children:[i.jsx("h4",{className:"font-semibold mb-4",children:"التركيز الفوري"}),i.jsx("div",{className:"space-y-3",children:r.improvement_recommendations.immediate_focus.map((x,b)=>i.jsxs("div",{className:`p-4 rounded-lg border ${g(x.priority)}`,children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("h5",{className:"font-semibold",children:x.area}),i.jsx(He,{variant:"outline",children:x.priority==="high"?"عالي":x.priority==="medium"?"متوسط":"منخفض"})]}),i.jsx("ul",{className:"space-y-1",children:x.specific_suggestions.map((j,N)=>i.jsxs("li",{className:"text-sm flex items-center",children:[i.jsx("div",{className:"w-1 h-1 bg-current rounded-full ml-2"}),j]},N))}),i.jsxs("div",{className:"mt-3 flex items-center",children:[i.jsx("span",{className:"text-xs ml-1",children:"التأثير المتوقع:"}),i.jsx(tt,{value:x.expected_impact*10,className:"h-1 w-20"}),i.jsxs("span",{className:"text-xs mr-1",children:[x.expected_impact,"/10"]})]})]},b))})]}),i.jsx(Ns,{}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-semibold mb-4",children:"الأهداف طويلة المدى"}),i.jsx("div",{className:"space-y-3",children:r.improvement_recommendations.long_term_goals.map((x,b)=>i.jsxs("div",{className:"p-4 bg-blue-50 rounded-lg border border-blue-200",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("h5",{className:"font-semibold text-blue-900",children:x.goal}),i.jsx(He,{variant:"outline",className:"bg-blue-100",children:x.timeline})]}),i.jsx("ul",{className:"space-y-1",children:x.steps.map((j,N)=>i.jsxs("li",{className:"text-sm text-blue-800 flex items-center",children:[i.jsx("div",{className:"w-1 h-1 bg-blue-600 rounded-full ml-2"}),j]},N))})]},b))})]})]})})]}),i.jsxs(ae,{children:[i.jsx(Te,{children:i.jsxs(ke,{className:"flex items-center",children:[i.jsx(hs,{className:"h-5 w-5 ml-2"}),"التحليل المقارن"]})}),i.jsx(oe,{children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("div",{className:"space-y-4",children:[i.jsx("h4",{className:"font-semibold",children:"مقارنة مع النوع الأدبي"}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("span",{className:"text-sm",children:"مستواك"}),i.jsxs(He,{variant:"default",children:[r.comparative_analysis.genre_benchmark.your_score,"/10"]})]}),i.jsx(tt,{value:r.comparative_analysis.genre_benchmark.your_score*10,className:"h-2"}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("span",{className:"text-sm",children:"متوسط النوع"}),i.jsxs(He,{variant:"secondary",children:[r.comparative_analysis.genre_benchmark.genre_average,"/10"]})]}),i.jsx(tt,{value:r.comparative_analysis.genre_benchmark.genre_average*10,className:"h-2"}),i.jsxs("div",{className:"bg-green-50 p-3 rounded-lg text-center",children:[i.jsx("p",{className:"text-sm text-green-600",children:"أنت في المئين"}),i.jsx("p",{className:"text-2xl font-bold text-green-800",children:r.comparative_analysis.genre_benchmark.percentile})]})]})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsx("h4",{className:"font-semibold",children:"التقدم الشخصي"}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("span",{className:"text-sm",children:"نقطة البداية"}),i.jsxs(He,{variant:"outline",children:[r.comparative_analysis.personal_progress.starting_point,"/10"]})]}),i.jsx(tt,{value:r.comparative_analysis.personal_progress.starting_point*10,className:"h-2"}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("span",{className:"text-sm",children:"المستوى الحالي"}),i.jsxs(He,{variant:"default",children:[r.comparative_analysis.personal_progress.current_level,"/10"]})]}),i.jsx(tt,{value:r.comparative_analysis.personal_progress.current_level*10,className:"h-2"}),i.jsxs("div",{className:"bg-purple-50 p-3 rounded-lg text-center",children:[i.jsx("p",{className:"text-sm text-purple-600",children:"معدل النمو"}),i.jsxs("p",{className:"text-2xl font-bold text-purple-800",children:["+",r.comparative_analysis.personal_progress.growth_rate,"/أسبوع"]})]})]})]})]})})]}),i.jsx(ae,{children:i.jsx(oe,{className:"p-6",children:i.jsxs("div",{className:"flex items-center justify-center space-x-4 space-x-reverse",children:[i.jsxs(xe,{onClick:v,disabled:a,className:"bg-purple-600 hover:bg-purple-700",children:[i.jsx(gr,{className:"h-4 w-4 ml-2"}),"تحميل التقرير الكامل PDF"]}),i.jsxs(xe,{variant:"outline",onClick:f,children:[i.jsx(Rs,{className:"h-4 w-4 ml-2"}),"تحديث البيانات"]})]})})})]})]})};/*!
 * html2canvas 1.4.1 <https://html2canvas.hertzen.com>
 * Copyright (c) 2022 Niklas von Hertzen <https://hertzen.com>
 * Released under MIT License
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var cH=function(t,e){return cH=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(n[s]=r[s])},cH(t,e)};function wh(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");cH(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var uH=function(){return uH=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},uH.apply(this,arguments)};function yl(t,e,n,r){function s(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function l(d){try{u(r.next(d))}catch(h){o(h)}}function c(d){try{u(r.throw(d))}catch(h){o(h)}}function u(d){d.done?a(d.value):s(d.value).then(l,c)}u((r=r.apply(t,[])).next())})}function Mo(t,e){var n={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},r,s,a,o;return o={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function l(u){return function(d){return c([u,d])}}function c(u){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,s&&(a=u[0]&2?s.return:u[0]?s.throw||((a=s.return)&&a.call(s),0):s.next)&&!(a=a.call(s,u[1])).done)return a;switch(s=0,a&&(u=[u[0]&2,a.value]),u[0]){case 0:case 1:a=u;break;case 4:return n.label++,{value:u[1],done:!1};case 5:n.label++,s=u[1],u=[0];continue;case 7:u=n.ops.pop(),n.trys.pop();continue;default:if(a=n.trys,!(a=a.length>0&&a[a.length-1])&&(u[0]===6||u[0]===2)){n=0;continue}if(u[0]===3&&(!a||u[1]>a[0]&&u[1]<a[3])){n.label=u[1];break}if(u[0]===6&&n.label<a[1]){n.label=a[1],a=u;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(u);break}a[2]&&n.ops.pop(),n.trys.pop();continue}u=e.call(t,n)}catch(d){u=[6,d],s=0}finally{r=a=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}function B4(t,e,n){if(arguments.length===2)for(var r=0,s=e.length,a;r<s;r++)(a||!(r in e))&&(a||(a=Array.prototype.slice.call(e,0,r)),a[r]=e[r]);return t.concat(a||e)}var Ip=function(){function t(e,n,r,s){this.left=e,this.top=n,this.width=r,this.height=s}return t.prototype.add=function(e,n,r,s){return new t(this.left+e,this.top+n,this.width+r,this.height+s)},t.fromClientRect=function(e,n){return new t(n.left+e.windowBounds.left,n.top+e.windowBounds.top,n.width,n.height)},t.fromDOMRectList=function(e,n){var r=Array.from(n).find(function(s){return s.width!==0});return r?new t(r.left+e.windowBounds.left,r.top+e.windowBounds.top,r.width,r.height):t.EMPTY},t.EMPTY=new t(0,0,0,0),t}(),JF=function(t,e){return Ip.fromClientRect(t,e.getBoundingClientRect())},Ort=function(t){var e=t.body,n=t.documentElement;if(!e||!n)throw new Error("Unable to get document size");var r=Math.max(Math.max(e.scrollWidth,n.scrollWidth),Math.max(e.offsetWidth,n.offsetWidth),Math.max(e.clientWidth,n.clientWidth)),s=Math.max(Math.max(e.scrollHeight,n.scrollHeight),Math.max(e.offsetHeight,n.offsetHeight),Math.max(e.clientHeight,n.clientHeight));return new Ip(0,0,r,s)},ZF=function(t){for(var e=[],n=0,r=t.length;n<r;){var s=t.charCodeAt(n++);if(s>=55296&&s<=56319&&n<r){var a=t.charCodeAt(n++);(a&64512)===56320?e.push(((s&1023)<<10)+(a&1023)+65536):(e.push(s),n--)}else e.push(s)}return e},Us=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(String.fromCodePoint)return String.fromCodePoint.apply(String,t);var n=t.length;if(!n)return"";for(var r=[],s=-1,a="";++s<n;){var o=t[s];o<=65535?r.push(o):(o-=65536,r.push((o>>10)+55296,o%1024+56320)),(s+1===n||r.length>16384)&&(a+=String.fromCharCode.apply(String,r),r.length=0)}return a},ioe="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Mrt=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var D4=0;D4<ioe.length;D4++)Mrt[ioe.charCodeAt(D4)]=D4;var soe="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",MN=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var T4=0;T4<soe.length;T4++)MN[soe.charCodeAt(T4)]=T4;var Lrt=function(t){var e=t.length*.75,n=t.length,r,s=0,a,o,l,c;t[t.length-1]==="="&&(e--,t[t.length-2]==="="&&e--);var u=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(e):new Array(e),d=Array.isArray(u)?u:new Uint8Array(u);for(r=0;r<n;r+=4)a=MN[t.charCodeAt(r)],o=MN[t.charCodeAt(r+1)],l=MN[t.charCodeAt(r+2)],c=MN[t.charCodeAt(r+3)],d[s++]=a<<2|o>>4,d[s++]=(o&15)<<4|l>>2,d[s++]=(l&3)<<6|c&63;return u},Rrt=function(t){for(var e=t.length,n=[],r=0;r<e;r+=2)n.push(t[r+1]<<8|t[r]);return n},Qrt=function(t){for(var e=t.length,n=[],r=0;r<e;r+=4)n.push(t[r+3]<<24|t[r+2]<<16|t[r+1]<<8|t[r]);return n},Z0=5,Nq=11,wL=2,Hrt=Nq-Z0,p1e=65536>>Z0,zrt=1<<Z0,jL=zrt-1,$rt=1024>>Z0,Wrt=p1e+$rt,qrt=Wrt,Vrt=32,Krt=qrt+Vrt,Grt=65536>>Nq,Xrt=1<<Hrt,Yrt=Xrt-1,aoe=function(t,e,n){return t.slice?t.slice(e,n):new Uint16Array(Array.prototype.slice.call(t,e,n))},Jrt=function(t,e,n){return t.slice?t.slice(e,n):new Uint32Array(Array.prototype.slice.call(t,e,n))},Zrt=function(t,e){var n=Lrt(t),r=Array.isArray(n)?Qrt(n):new Uint32Array(n),s=Array.isArray(n)?Rrt(n):new Uint16Array(n),a=24,o=aoe(s,a/2,r[4]/2),l=r[5]===2?aoe(s,(a+r[4])/2):Jrt(r,Math.ceil((a+r[4])/4));return new eit(r[0],r[1],r[2],r[3],o,l)},eit=function(){function t(e,n,r,s,a,o){this.initialValue=e,this.errorValue=n,this.highStart=r,this.highValueIndex=s,this.index=a,this.data=o}return t.prototype.get=function(e){var n;if(e>=0){if(e<55296||e>56319&&e<=65535)return n=this.index[e>>Z0],n=(n<<wL)+(e&jL),this.data[n];if(e<=65535)return n=this.index[p1e+(e-55296>>Z0)],n=(n<<wL)+(e&jL),this.data[n];if(e<this.highStart)return n=Krt-Grt+(e>>Nq),n=this.index[n],n+=e>>Z0&Yrt,n=this.index[n],n=(n<<wL)+(e&jL),this.data[n];if(e<=1114111)return this.data[this.highValueIndex]}return this.errorValue},t}(),ooe="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",tit=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var k4=0;k4<ooe.length;k4++)tit[ooe.charCodeAt(k4)]=k4;var nit="KwAAAAAAAAAACA4AUD0AADAgAAACAAAAAAAIABAAGABAAEgAUABYAGAAaABgAGgAYgBqAF8AZwBgAGgAcQB5AHUAfQCFAI0AlQCdAKIAqgCyALoAYABoAGAAaABgAGgAwgDKAGAAaADGAM4A0wDbAOEA6QDxAPkAAQEJAQ8BFwF1AH0AHAEkASwBNAE6AUIBQQFJAVEBWQFhAWgBcAF4ATAAgAGGAY4BlQGXAZ8BpwGvAbUBvQHFAc0B0wHbAeMB6wHxAfkBAQIJAvEBEQIZAiECKQIxAjgCQAJGAk4CVgJeAmQCbAJ0AnwCgQKJApECmQKgAqgCsAK4ArwCxAIwAMwC0wLbAjAA4wLrAvMC+AIAAwcDDwMwABcDHQMlAy0DNQN1AD0DQQNJA0kDSQNRA1EDVwNZA1kDdQB1AGEDdQBpA20DdQN1AHsDdQCBA4kDkQN1AHUAmQOhA3UAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AKYDrgN1AHUAtgO+A8YDzgPWAxcD3gPjA+sD8wN1AHUA+wMDBAkEdQANBBUEHQQlBCoEFwMyBDgEYABABBcDSARQBFgEYARoBDAAcAQzAXgEgASIBJAEdQCXBHUAnwSnBK4EtgS6BMIEyAR1AHUAdQB1AHUAdQCVANAEYABgAGAAYABgAGAAYABgANgEYADcBOQEYADsBPQE/AQEBQwFFAUcBSQFLAU0BWQEPAVEBUsFUwVbBWAAYgVgAGoFcgV6BYIFigWRBWAAmQWfBaYFYABgAGAAYABgAKoFYACxBbAFuQW6BcEFwQXHBcEFwQXPBdMF2wXjBeoF8gX6BQIGCgYSBhoGIgYqBjIGOgZgAD4GRgZMBmAAUwZaBmAAYABgAGAAYABgAGAAYABgAGAAYABgAGIGYABpBnAGYABgAGAAYABgAGAAYABgAGAAYAB4Bn8GhQZgAGAAYAB1AHcDFQSLBmAAYABgAJMGdQA9A3UAmwajBqsGqwaVALMGuwbDBjAAywbSBtIG1QbSBtIG0gbSBtIG0gbdBuMG6wbzBvsGAwcLBxMHAwcbByMHJwcsBywHMQcsB9IGOAdAB0gHTgfSBkgHVgfSBtIG0gbSBtIG0gbSBtIG0gbSBiwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdgAGAALAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdbB2MHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB2kH0gZwB64EdQB1AHUAdQB1AHUAdQB1AHUHfQdgAIUHjQd1AHUAlQedB2AAYAClB6sHYACzB7YHvgfGB3UAzgfWBzMB3gfmB1EB7gf1B/0HlQENAQUIDQh1ABUIHQglCBcDLQg1CD0IRQhNCEEDUwh1AHUAdQBbCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIcAh3CHoIMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIgggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAALAcsBywHLAcsBywHLAcsBywHLAcsB4oILAcsB44I0gaWCJ4Ipgh1AHUAqgiyCHUAdQB1AHUAdQB1AHUAdQB1AHUAtwh8AXUAvwh1AMUIyQjRCNkI4AjoCHUAdQB1AO4I9gj+CAYJDgkTCS0HGwkjCYIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiAAIAAAAFAAYABgAGIAXwBgAHEAdQBFAJUAogCyAKAAYABgAEIA4ABGANMA4QDxAMEBDwE1AFwBLAE6AQEBUQF4QkhCmEKoQrhCgAHIQsAB0MLAAcABwAHAAeDC6ABoAHDCwMMAAcABwAHAAdDDGMMAAcAB6MM4wwjDWMNow3jDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEjDqABWw6bDqABpg6gAaABoAHcDvwOPA+gAaABfA/8DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DpcPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB9cPKwkyCToJMAB1AHUAdQBCCUoJTQl1AFUJXAljCWcJawkwADAAMAAwAHMJdQB2CX4JdQCECYoJjgmWCXUAngkwAGAAYABxAHUApgn3A64JtAl1ALkJdQDACTAAMAAwADAAdQB1AHUAdQB1AHUAdQB1AHUAowYNBMUIMAAwADAAMADICcsJ0wnZCRUE4QkwAOkJ8An4CTAAMAB1AAAKvwh1AAgKDwoXCh8KdQAwACcKLgp1ADYKqAmICT4KRgowADAAdQB1AE4KMAB1AFYKdQBeCnUAZQowADAAMAAwADAAMAAwADAAMAAVBHUAbQowADAAdQC5CXUKMAAwAHwBxAijBogEMgF9CoQKiASMCpQKmgqIBKIKqgquCogEDQG2Cr4KxgrLCjAAMADTCtsKCgHjCusK8Qr5CgELMAAwADAAMAB1AIsECQsRC3UANAEZCzAAMAAwADAAMAB1ACELKQswAHUANAExCzkLdQBBC0kLMABRC1kLMAAwADAAMAAwADAAdQBhCzAAMAAwAGAAYABpC3ELdwt/CzAAMACHC4sLkwubC58Lpwt1AK4Ltgt1APsDMAAwADAAMAAwADAAMAAwAL4LwwvLC9IL1wvdCzAAMADlC+kL8Qv5C/8LSQswADAAMAAwADAAMAAwADAAMAAHDDAAMAAwADAAMAAODBYMHgx1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1ACYMMAAwADAAdQB1AHUALgx1AHUAdQB1AHUAdQA2DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AD4MdQBGDHUAdQB1AHUAdQB1AEkMdQB1AHUAdQB1AFAMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQBYDHUAdQB1AF8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUA+wMVBGcMMAAwAHwBbwx1AHcMfwyHDI8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAYABgAJcMMAAwADAAdQB1AJ8MlQClDDAAMACtDCwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB7UMLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AA0EMAC9DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAsBywHLAcsBywHLAcsBywHLQcwAMEMyAwsBywHLAcsBywHLAcsBywHLAcsBywHzAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1ANQM2QzhDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMABgAGAAYABgAGAAYABgAOkMYADxDGAA+AwADQYNYABhCWAAYAAODTAAMAAwADAAFg1gAGAAHg37AzAAMAAwADAAYABgACYNYAAsDTQNPA1gAEMNPg1LDWAAYABgAGAAYABgAGAAYABgAGAAUg1aDYsGVglhDV0NcQBnDW0NdQ15DWAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAlQCBDZUAiA2PDZcNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAnw2nDTAAMAAwADAAMAAwAHUArw23DTAAMAAwADAAMAAwADAAMAAwADAAMAB1AL8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQDHDTAAYABgAM8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA1w11ANwNMAAwAD0B5A0wADAAMAAwADAAMADsDfQN/A0EDgwOFA4wABsOMAAwADAAMAAwADAAMAAwANIG0gbSBtIG0gbSBtIG0gYjDigOwQUuDsEFMw7SBjoO0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGQg5KDlIOVg7SBtIGXg5lDm0OdQ7SBtIGfQ6EDooOjQ6UDtIGmg6hDtIG0gaoDqwO0ga0DrwO0gZgAGAAYADEDmAAYAAkBtIGzA5gANIOYADaDokO0gbSBt8O5w7SBu8O0gb1DvwO0gZgAGAAxA7SBtIG0gbSBtIGYABgAGAAYAAED2AAsAUMD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHJA8sBywHLAcsBywHLAccDywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywPLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAc0D9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHPA/SBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gYUD0QPlQCVAJUAMAAwADAAMACVAJUAlQCVAJUAlQCVAEwPMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA//8EAAQABAAEAAQABAAEAAQABAANAAMAAQABAAIABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQACgATABcAHgAbABoAHgAXABYAEgAeABsAGAAPABgAHABLAEsASwBLAEsASwBLAEsASwBLABgAGAAeAB4AHgATAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAGwASAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWAA0AEQAeAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAFAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJABYAGgAbABsAGwAeAB0AHQAeAE8AFwAeAA0AHgAeABoAGwBPAE8ADgBQAB0AHQAdAE8ATwAXAE8ATwBPABYAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwBWAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsABAAbABsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEAA0ADQBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABABQACsAKwArACsAKwArACsAKwAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUAAaABoAUABQAFAAUABQAEwAHgAbAFAAHgAEACsAKwAEAAQABAArAFAAUABQAFAAUABQACsAKwArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQACsAUABQACsAKwAEACsABAAEAAQABAAEACsAKwArACsABAAEACsAKwAEAAQABAArACsAKwAEACsAKwArACsAKwArACsAUABQAFAAUAArAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAAQABABQAFAAUAAEAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAArACsAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AGwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAKwArACsAKwArAAQABAAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAAQAUAArAFAAUABQAFAAUABQACsAKwArAFAAUABQACsAUABQAFAAUAArACsAKwBQAFAAKwBQACsAUABQACsAKwArAFAAUAArACsAKwBQAFAAUAArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAArACsAKwAEAAQABAArAAQABAAEAAQAKwArAFAAKwArACsAKwArACsABAArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAHgAeAB4AHgAeAB4AGwAeACsAKwArACsAKwAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAUABQAFAAKwArACsAKwArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwAOAFAAUABQAFAAUABQAFAAHgBQAAQABAAEAA4AUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAKwArAAQAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAKwArACsAKwArACsAUAArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAXABcAFwAXABcACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAXAArAFwAXABcAFwAXABcAFwAXABcAFwAKgBcAFwAKgAqACoAKgAqACoAKgAqACoAXAArACsAXABcAFwAXABcACsAXAArACoAKgAqACoAKgAqACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwBcAFwAXABcAFAADgAOAA4ADgAeAA4ADgAJAA4ADgANAAkAEwATABMAEwATAAkAHgATAB4AHgAeAAQABAAeAB4AHgAeAB4AHgBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAADQAEAB4ABAAeAAQAFgARABYAEQAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAAQABAAEAAQADQAEAAQAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAA0ADQAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeACsAHgAeAA4ADgANAA4AHgAeAB4AHgAeAAkACQArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgBcAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4AHgAeAB4AXABcAFwAXABcAFwAKgAqACoAKgBcAFwAXABcACoAKgAqAFwAKgAqACoAXABcACoAKgAqACoAKgAqACoAXABcAFwAKgAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwAKgBLAEsASwBLAEsASwBLAEsASwBLACoAKgAqACoAKgAqAFAAUABQAFAAUABQACsAUAArACsAKwArACsAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAKwBQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsABAAEAAQAHgANAB4AHgAeAB4AHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUAArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWABEAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAANAA0AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUAArAAQABAArACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAA0ADQAVAFwADQAeAA0AGwBcACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwAeAB4AEwATAA0ADQAOAB4AEwATAB4ABAAEAAQACQArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAHgArACsAKwATABMASwBLAEsASwBLAEsASwBLAEsASwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAXABcAFwAXABcACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXAArACsAKwAqACoAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsAHgAeAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKwArAAQASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACoAKgAqACoAKgAqACoAXAAqACoAKgAqACoAKgArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABABQAFAAUABQAFAAUABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgANAA0ADQANAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwAeAB4AHgAeAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArAA0ADQANAA0ADQBLAEsASwBLAEsASwBLAEsASwBLACsAKwArAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUAAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAAQAUABQAFAAUABQAFAABABQAFAABAAEAAQAUAArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQACsAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQACsAKwAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQACsAHgAeAB4AHgAeAB4AHgAOAB4AKwANAA0ADQANAA0ADQANAAkADQANAA0ACAAEAAsABAAEAA0ACQANAA0ADAAdAB0AHgAXABcAFgAXABcAFwAWABcAHQAdAB4AHgAUABQAFAANAAEAAQAEAAQABAAEAAQACQAaABoAGgAaABoAGgAaABoAHgAXABcAHQAVABUAHgAeAB4AHgAeAB4AGAAWABEAFQAVABUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ADQAeAA0ADQANAA0AHgANAA0ADQAHAB4AHgAeAB4AKwAEAAQABAAEAAQABAAEAAQABAAEAFAAUAArACsATwBQAFAAUABQAFAAHgAeAB4AFgARAE8AUABPAE8ATwBPAFAAUABQAFAAUAAeAB4AHgAWABEAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArABsAGwAbABsAGwAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGgAbABsAGwAbABoAGwAbABoAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAFAAGgAeAB0AHgBQAB4AGgAeAB4AHgAeAB4AHgAeAB4AHgBPAB4AUAAbAB4AHgBQAFAAUABQAFAAHgAeAB4AHQAdAB4AUAAeAFAAHgBQAB4AUABPAFAAUAAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgBQAFAAUABQAE8ATwBQAFAAUABQAFAATwBQAFAATwBQAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAUABQAFAATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABPAB4AHgArACsAKwArAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAdAB4AHgAeAB0AHQAeAB4AHQAeAB4AHgAdAB4AHQAbABsAHgAdAB4AHgAeAB4AHQAeAB4AHQAdAB0AHQAeAB4AHQAeAB0AHgAdAB0AHQAdAB0AHQAeAB0AHgAeAB4AHgAeAB0AHQAdAB0AHgAeAB4AHgAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB0AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAdAB0AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHQAdAB0AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHQAdAB4AHgAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AJQAlAB0AHQAlAB4AJQAlACUAIAAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAeAB0AJQAdAB0AHgAdAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAdAB0AHQAdACUAHgAlACUAJQAdACUAJQAdAB0AHQAlACUAHQAdACUAHQAdACUAJQAlAB4AHQAeAB4AHgAeAB0AHQAlAB0AHQAdAB0AHQAdACUAJQAlACUAJQAdACUAJQAgACUAHQAdACUAJQAlACUAJQAlACUAJQAeAB4AHgAlACUAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AFwAXABcAFwAXABcAHgATABMAJQAeAB4AHgAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARABYAEQAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANAA0AHgANAB4ADQANAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwAlACUAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACsAKwArACsAKwArACsAKwArACsAKwArAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBPAE8ATwBPAE8ATwBPAE8AJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeAAQAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUABQAAQAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAUABQAFAAUABQAAQABAAEACsABAAEACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAKwBQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAA0ADQANAA0ADQANAA0ADQAeACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAArACsAKwArAFAAUABQAFAAUAANAA0ADQANAA0ADQAUACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQANAA0ADQANAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAANACsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAB4AHgAeAB4AHgArACsAKwArACsAKwAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANAFAABAAEAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAEAAQABAAEAB4ABAAEAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsABAAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLAA0ADQArAB4ABABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUAAeAFAAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAAEAAQADgANAA0AEwATAB4AHgAeAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAFAAUABQAFAABAAEACsAKwAEAA0ADQAeAFAAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcAFwADQANAA0AKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQAKwAEAAQAKwArAAQABAAEAAQAUAAEAFAABAAEAA0ADQANACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABABQAA4AUAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANAFAADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAaABoAGgAaAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAJAAkACQAJAAkACQAJABYAEQArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AHgAeACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAARwBHABUARwAJACsAKwArACsAKwArACsAKwArACsAKwAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAKwArACsAKwArACsAKwArACsAKwArACsAKwBRAFEAUQBRACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAHgAEAAQADQAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAeAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQAHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAKwArAFAAKwArAFAAUAArACsAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAHgAeAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeACsAKwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4ABAAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAHgAeAA0ADQANAA0AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArAAQABAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwBQAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArABsAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAB4AHgAeAB4ABAAEAAQABAAEAAQABABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArABYAFgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAGgBQAFAAUAAaAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUAArACsAKwArACsAKwBQACsAKwArACsAUAArAFAAKwBQACsAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUAArAFAAKwBQACsAUAArAFAAUAArAFAAKwArAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAKwBQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeACUAJQAlAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAHgAlACUAJQAlACUAIAAgACAAJQAlACAAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACEAIQAhACEAIQAlACUAIAAgACUAJQAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAlACUAJQAlACAAIAAgACUAIAAgACAAJQAlACUAJQAlACUAJQAgACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAlAB4AJQAeACUAJQAlACUAJQAgACUAJQAlACUAHgAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACAAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABcAFwAXABUAFQAVAB4AHgAeAB4AJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAgACUAJQAgACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAIAAgACUAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACAAIAAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACAAIAAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAA==",loe=50,rit=1,m1e=2,g1e=3,iit=4,sit=5,coe=7,x1e=8,uoe=9,Lg=10,dH=11,doe=12,hH=13,ait=14,LN=15,fH=16,F4=17,lN=18,oit=19,hoe=20,AH=21,cN=22,NL=23,Bb=24,_c=25,RN=26,QN=27,Db=28,lit=29,Sv=30,cit=31,P4=32,U4=33,pH=34,mH=35,gH=36,k5=37,xH=38,vD=39,yD=40,_L=41,v1e=42,uit=43,dit=[9001,65288],y1e="!",fr="×",I4="÷",vH=Zrt(nit),EA=[Sv,gH],yH=[rit,m1e,g1e,sit],b1e=[Lg,x1e],foe=[QN,RN],hit=yH.concat(b1e),Aoe=[xH,vD,yD,pH,mH],fit=[LN,hH],Ait=function(t,e){e===void 0&&(e="strict");var n=[],r=[],s=[];return t.forEach(function(a,o){var l=vH.get(a);if(l>loe?(s.push(!0),l-=loe):s.push(!1),["normal","auto","loose"].indexOf(e)!==-1&&[8208,8211,12316,12448].indexOf(a)!==-1)return r.push(o),n.push(fH);if(l===iit||l===dH){if(o===0)return r.push(o),n.push(Sv);var c=n[o-1];return hit.indexOf(c)===-1?(r.push(r[o-1]),n.push(c)):(r.push(o),n.push(Sv))}if(r.push(o),l===cit)return n.push(e==="strict"?AH:k5);if(l===v1e||l===lit)return n.push(Sv);if(l===uit)return a>=131072&&a<=196605||a>=196608&&a<=262141?n.push(k5):n.push(Sv);n.push(l)}),[r,n,s]},CL=function(t,e,n,r){var s=r[n];if(Array.isArray(t)?t.indexOf(s)!==-1:t===s)for(var a=n;a<=r.length;){a++;var o=r[a];if(o===e)return!0;if(o!==Lg)break}if(s===Lg)for(var a=n;a>0;){a--;var l=r[a];if(Array.isArray(t)?t.indexOf(l)!==-1:t===l)for(var c=n;c<=r.length;){c++;var o=r[c];if(o===e)return!0;if(o!==Lg)break}if(l!==Lg)break}return!1},poe=function(t,e){for(var n=t;n>=0;){var r=e[n];if(r===Lg)n--;else return r}return 0},pit=function(t,e,n,r,s){if(n[r]===0)return fr;var a=r-1;if(Array.isArray(s)&&s[a]===!0)return fr;var o=a-1,l=a+1,c=e[a],u=o>=0?e[o]:0,d=e[l];if(c===m1e&&d===g1e)return fr;if(yH.indexOf(c)!==-1)return y1e;if(yH.indexOf(d)!==-1||b1e.indexOf(d)!==-1)return fr;if(poe(a,e)===x1e)return I4;if(vH.get(t[a])===dH||(c===P4||c===U4)&&vH.get(t[l])===dH||c===coe||d===coe||c===uoe||[Lg,hH,LN].indexOf(c)===-1&&d===uoe||[F4,lN,oit,Bb,Db].indexOf(d)!==-1||poe(a,e)===cN||CL(NL,cN,a,e)||CL([F4,lN],AH,a,e)||CL(doe,doe,a,e))return fr;if(c===Lg)return I4;if(c===NL||d===NL)return fr;if(d===fH||c===fH)return I4;if([hH,LN,AH].indexOf(d)!==-1||c===ait||u===gH&&fit.indexOf(c)!==-1||c===Db&&d===gH||d===hoe||EA.indexOf(d)!==-1&&c===_c||EA.indexOf(c)!==-1&&d===_c||c===QN&&[k5,P4,U4].indexOf(d)!==-1||[k5,P4,U4].indexOf(c)!==-1&&d===RN||EA.indexOf(c)!==-1&&foe.indexOf(d)!==-1||foe.indexOf(c)!==-1&&EA.indexOf(d)!==-1||[QN,RN].indexOf(c)!==-1&&(d===_c||[cN,LN].indexOf(d)!==-1&&e[l+1]===_c)||[cN,LN].indexOf(c)!==-1&&d===_c||c===_c&&[_c,Db,Bb].indexOf(d)!==-1)return fr;if([_c,Db,Bb,F4,lN].indexOf(d)!==-1)for(var h=a;h>=0;){var f=e[h];if(f===_c)return fr;if([Db,Bb].indexOf(f)!==-1)h--;else break}if([QN,RN].indexOf(d)!==-1)for(var h=[F4,lN].indexOf(c)!==-1?o:a;h>=0;){var f=e[h];if(f===_c)return fr;if([Db,Bb].indexOf(f)!==-1)h--;else break}if(xH===c&&[xH,vD,pH,mH].indexOf(d)!==-1||[vD,pH].indexOf(c)!==-1&&[vD,yD].indexOf(d)!==-1||[yD,mH].indexOf(c)!==-1&&d===yD||Aoe.indexOf(c)!==-1&&[hoe,RN].indexOf(d)!==-1||Aoe.indexOf(d)!==-1&&c===QN||EA.indexOf(c)!==-1&&EA.indexOf(d)!==-1||c===Bb&&EA.indexOf(d)!==-1||EA.concat(_c).indexOf(c)!==-1&&d===cN&&dit.indexOf(t[l])===-1||EA.concat(_c).indexOf(d)!==-1&&c===lN)return fr;if(c===_L&&d===_L){for(var A=n[a],v=1;A>0&&(A--,e[A]===_L);)v++;if(v%2!==0)return fr}return c===P4&&d===U4?fr:I4},mit=function(t,e){e||(e={lineBreak:"normal",wordBreak:"normal"});var n=Ait(t,e.lineBreak),r=n[0],s=n[1],a=n[2];(e.wordBreak==="break-all"||e.wordBreak==="break-word")&&(s=s.map(function(l){return[_c,Sv,v1e].indexOf(l)!==-1?k5:l}));var o=e.wordBreak==="keep-all"?a.map(function(l,c){return l&&t[c]>=19968&&t[c]<=40959}):void 0;return[r,s,o]},git=function(){function t(e,n,r,s){this.codePoints=e,this.required=n===y1e,this.start=r,this.end=s}return t.prototype.slice=function(){return Us.apply(void 0,this.codePoints.slice(this.start,this.end))},t}(),xit=function(t,e){var n=ZF(t),r=mit(n,e),s=r[0],a=r[1],o=r[2],l=n.length,c=0,u=0;return{next:function(){if(u>=l)return{done:!0,value:null};for(var d=fr;u<l&&(d=pit(n,a,s,++u,o))===fr;);if(d!==fr||u===l){var h=new git(n,d,c,u);return c=u,{value:h,done:!1}}return{done:!0,value:null}}}},vit=1,yit=2,GS=4,moe=8,pT=10,goe=47,A_=92,bit=9,wit=32,O4=34,uN=61,jit=35,Nit=36,_it=37,M4=39,L4=40,dN=41,Cit=95,nc=45,Sit=33,Eit=60,Bit=62,Dit=64,Tit=91,kit=93,Fit=61,Pit=123,R4=63,Uit=125,xoe=124,Iit=126,Oit=128,voe=65533,SL=42,Rv=43,Mit=44,Lit=58,Rit=59,F5=46,Qit=0,Hit=8,zit=11,$it=14,Wit=31,qit=127,Xh=-1,w1e=48,j1e=97,N1e=101,Vit=102,Kit=117,Git=122,_1e=65,C1e=69,S1e=70,Xit=85,Yit=90,Ho=function(t){return t>=w1e&&t<=57},Jit=function(t){return t>=55296&&t<=57343},Tb=function(t){return Ho(t)||t>=_1e&&t<=S1e||t>=j1e&&t<=Vit},Zit=function(t){return t>=j1e&&t<=Git},est=function(t){return t>=_1e&&t<=Yit},tst=function(t){return Zit(t)||est(t)},nst=function(t){return t>=Oit},Q4=function(t){return t===pT||t===bit||t===wit},mT=function(t){return tst(t)||nst(t)||t===Cit},yoe=function(t){return mT(t)||Ho(t)||t===nc},rst=function(t){return t>=Qit&&t<=Hit||t===zit||t>=$it&&t<=Wit||t===qit},Jm=function(t,e){return t!==A_?!1:e!==pT},H4=function(t,e,n){return t===nc?mT(e)||Jm(e,n):mT(t)?!0:!!(t===A_&&Jm(t,e))},EL=function(t,e,n){return t===Rv||t===nc?Ho(e)?!0:e===F5&&Ho(n):Ho(t===F5?e:t)},ist=function(t){var e=0,n=1;(t[e]===Rv||t[e]===nc)&&(t[e]===nc&&(n=-1),e++);for(var r=[];Ho(t[e]);)r.push(t[e++]);var s=r.length?parseInt(Us.apply(void 0,r),10):0;t[e]===F5&&e++;for(var a=[];Ho(t[e]);)a.push(t[e++]);var o=a.length,l=o?parseInt(Us.apply(void 0,a),10):0;(t[e]===C1e||t[e]===N1e)&&e++;var c=1;(t[e]===Rv||t[e]===nc)&&(t[e]===nc&&(c=-1),e++);for(var u=[];Ho(t[e]);)u.push(t[e++]);var d=u.length?parseInt(Us.apply(void 0,u),10):0;return n*(s+l*Math.pow(10,-o))*Math.pow(10,c*d)},sst={type:2},ast={type:3},ost={type:4},lst={type:13},cst={type:8},ust={type:21},dst={type:9},hst={type:10},fst={type:11},Ast={type:12},pst={type:14},z4={type:23},mst={type:1},gst={type:25},xst={type:24},vst={type:26},yst={type:27},bst={type:28},wst={type:29},jst={type:31},bH={type:32},E1e=function(){function t(){this._value=[]}return t.prototype.write=function(e){this._value=this._value.concat(ZF(e))},t.prototype.read=function(){for(var e=[],n=this.consumeToken();n!==bH;)e.push(n),n=this.consumeToken();return e},t.prototype.consumeToken=function(){var e=this.consumeCodePoint();switch(e){case O4:return this.consumeStringToken(O4);case jit:var n=this.peekCodePoint(0),r=this.peekCodePoint(1),s=this.peekCodePoint(2);if(yoe(n)||Jm(r,s)){var a=H4(n,r,s)?yit:vit,o=this.consumeName();return{type:5,value:o,flags:a}}break;case Nit:if(this.peekCodePoint(0)===uN)return this.consumeCodePoint(),lst;break;case M4:return this.consumeStringToken(M4);case L4:return sst;case dN:return ast;case SL:if(this.peekCodePoint(0)===uN)return this.consumeCodePoint(),pst;break;case Rv:if(EL(e,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(e),this.consumeNumericToken();break;case Mit:return ost;case nc:var l=e,c=this.peekCodePoint(0),u=this.peekCodePoint(1);if(EL(l,c,u))return this.reconsumeCodePoint(e),this.consumeNumericToken();if(H4(l,c,u))return this.reconsumeCodePoint(e),this.consumeIdentLikeToken();if(c===nc&&u===Bit)return this.consumeCodePoint(),this.consumeCodePoint(),xst;break;case F5:if(EL(e,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(e),this.consumeNumericToken();break;case goe:if(this.peekCodePoint(0)===SL)for(this.consumeCodePoint();;){var d=this.consumeCodePoint();if(d===SL&&(d=this.consumeCodePoint(),d===goe))return this.consumeToken();if(d===Xh)return this.consumeToken()}break;case Lit:return vst;case Rit:return yst;case Eit:if(this.peekCodePoint(0)===Sit&&this.peekCodePoint(1)===nc&&this.peekCodePoint(2)===nc)return this.consumeCodePoint(),this.consumeCodePoint(),gst;break;case Dit:var h=this.peekCodePoint(0),f=this.peekCodePoint(1),A=this.peekCodePoint(2);if(H4(h,f,A)){var o=this.consumeName();return{type:7,value:o}}break;case Tit:return bst;case A_:if(Jm(e,this.peekCodePoint(0)))return this.reconsumeCodePoint(e),this.consumeIdentLikeToken();break;case kit:return wst;case Fit:if(this.peekCodePoint(0)===uN)return this.consumeCodePoint(),cst;break;case Pit:return fst;case Uit:return Ast;case Kit:case Xit:var v=this.peekCodePoint(0),p=this.peekCodePoint(1);return v===Rv&&(Tb(p)||p===R4)&&(this.consumeCodePoint(),this.consumeUnicodeRangeToken()),this.reconsumeCodePoint(e),this.consumeIdentLikeToken();case xoe:if(this.peekCodePoint(0)===uN)return this.consumeCodePoint(),dst;if(this.peekCodePoint(0)===xoe)return this.consumeCodePoint(),ust;break;case Iit:if(this.peekCodePoint(0)===uN)return this.consumeCodePoint(),hst;break;case Xh:return bH}return Q4(e)?(this.consumeWhiteSpace(),jst):Ho(e)?(this.reconsumeCodePoint(e),this.consumeNumericToken()):mT(e)?(this.reconsumeCodePoint(e),this.consumeIdentLikeToken()):{type:6,value:Us(e)}},t.prototype.consumeCodePoint=function(){var e=this._value.shift();return typeof e>"u"?-1:e},t.prototype.reconsumeCodePoint=function(e){this._value.unshift(e)},t.prototype.peekCodePoint=function(e){return e>=this._value.length?-1:this._value[e]},t.prototype.consumeUnicodeRangeToken=function(){for(var e=[],n=this.consumeCodePoint();Tb(n)&&e.length<6;)e.push(n),n=this.consumeCodePoint();for(var r=!1;n===R4&&e.length<6;)e.push(n),n=this.consumeCodePoint(),r=!0;if(r){var s=parseInt(Us.apply(void 0,e.map(function(c){return c===R4?w1e:c})),16),a=parseInt(Us.apply(void 0,e.map(function(c){return c===R4?S1e:c})),16);return{type:30,start:s,end:a}}var o=parseInt(Us.apply(void 0,e),16);if(this.peekCodePoint(0)===nc&&Tb(this.peekCodePoint(1))){this.consumeCodePoint(),n=this.consumeCodePoint();for(var l=[];Tb(n)&&l.length<6;)l.push(n),n=this.consumeCodePoint();var a=parseInt(Us.apply(void 0,l),16);return{type:30,start:o,end:a}}else return{type:30,start:o,end:o}},t.prototype.consumeIdentLikeToken=function(){var e=this.consumeName();return e.toLowerCase()==="url"&&this.peekCodePoint(0)===L4?(this.consumeCodePoint(),this.consumeUrlToken()):this.peekCodePoint(0)===L4?(this.consumeCodePoint(),{type:19,value:e}):{type:20,value:e}},t.prototype.consumeUrlToken=function(){var e=[];if(this.consumeWhiteSpace(),this.peekCodePoint(0)===Xh)return{type:22,value:""};var n=this.peekCodePoint(0);if(n===M4||n===O4){var r=this.consumeStringToken(this.consumeCodePoint());return r.type===0&&(this.consumeWhiteSpace(),this.peekCodePoint(0)===Xh||this.peekCodePoint(0)===dN)?(this.consumeCodePoint(),{type:22,value:r.value}):(this.consumeBadUrlRemnants(),z4)}for(;;){var s=this.consumeCodePoint();if(s===Xh||s===dN)return{type:22,value:Us.apply(void 0,e)};if(Q4(s))return this.consumeWhiteSpace(),this.peekCodePoint(0)===Xh||this.peekCodePoint(0)===dN?(this.consumeCodePoint(),{type:22,value:Us.apply(void 0,e)}):(this.consumeBadUrlRemnants(),z4);if(s===O4||s===M4||s===L4||rst(s))return this.consumeBadUrlRemnants(),z4;if(s===A_)if(Jm(s,this.peekCodePoint(0)))e.push(this.consumeEscapedCodePoint());else return this.consumeBadUrlRemnants(),z4;else e.push(s)}},t.prototype.consumeWhiteSpace=function(){for(;Q4(this.peekCodePoint(0));)this.consumeCodePoint()},t.prototype.consumeBadUrlRemnants=function(){for(;;){var e=this.consumeCodePoint();if(e===dN||e===Xh)return;Jm(e,this.peekCodePoint(0))&&this.consumeEscapedCodePoint()}},t.prototype.consumeStringSlice=function(e){for(var n=5e4,r="";e>0;){var s=Math.min(n,e);r+=Us.apply(void 0,this._value.splice(0,s)),e-=s}return this._value.shift(),r},t.prototype.consumeStringToken=function(e){var n="",r=0;do{var s=this._value[r];if(s===Xh||s===void 0||s===e)return n+=this.consumeStringSlice(r),{type:0,value:n};if(s===pT)return this._value.splice(0,r),mst;if(s===A_){var a=this._value[r+1];a!==Xh&&a!==void 0&&(a===pT?(n+=this.consumeStringSlice(r),r=-1,this._value.shift()):Jm(s,a)&&(n+=this.consumeStringSlice(r),n+=Us(this.consumeEscapedCodePoint()),r=-1))}r++}while(!0)},t.prototype.consumeNumber=function(){var e=[],n=GS,r=this.peekCodePoint(0);for((r===Rv||r===nc)&&e.push(this.consumeCodePoint());Ho(this.peekCodePoint(0));)e.push(this.consumeCodePoint());r=this.peekCodePoint(0);var s=this.peekCodePoint(1);if(r===F5&&Ho(s))for(e.push(this.consumeCodePoint(),this.consumeCodePoint()),n=moe;Ho(this.peekCodePoint(0));)e.push(this.consumeCodePoint());r=this.peekCodePoint(0),s=this.peekCodePoint(1);var a=this.peekCodePoint(2);if((r===C1e||r===N1e)&&((s===Rv||s===nc)&&Ho(a)||Ho(s)))for(e.push(this.consumeCodePoint(),this.consumeCodePoint()),n=moe;Ho(this.peekCodePoint(0));)e.push(this.consumeCodePoint());return[ist(e),n]},t.prototype.consumeNumericToken=function(){var e=this.consumeNumber(),n=e[0],r=e[1],s=this.peekCodePoint(0),a=this.peekCodePoint(1),o=this.peekCodePoint(2);if(H4(s,a,o)){var l=this.consumeName();return{type:15,number:n,flags:r,unit:l}}return s===_it?(this.consumeCodePoint(),{type:16,number:n,flags:r}):{type:17,number:n,flags:r}},t.prototype.consumeEscapedCodePoint=function(){var e=this.consumeCodePoint();if(Tb(e)){for(var n=Us(e);Tb(this.peekCodePoint(0))&&n.length<6;)n+=Us(this.consumeCodePoint());Q4(this.peekCodePoint(0))&&this.consumeCodePoint();var r=parseInt(n,16);return r===0||Jit(r)||r>1114111?voe:r}return e===Xh?voe:e},t.prototype.consumeName=function(){for(var e="";;){var n=this.consumeCodePoint();if(yoe(n))e+=Us(n);else if(Jm(n,this.peekCodePoint(0)))e+=Us(this.consumeEscapedCodePoint());else return this.reconsumeCodePoint(n),e}},t}(),B1e=function(){function t(e){this._tokens=e}return t.create=function(e){var n=new E1e;return n.write(e),new t(n.read())},t.parseValue=function(e){return t.create(e).parseComponentValue()},t.parseValues=function(e){return t.create(e).parseComponentValues()},t.prototype.parseComponentValue=function(){for(var e=this.consumeToken();e.type===31;)e=this.consumeToken();if(e.type===32)throw new SyntaxError("Error parsing CSS component value, unexpected EOF");this.reconsumeToken(e);var n=this.consumeComponentValue();do e=this.consumeToken();while(e.type===31);if(e.type===32)return n;throw new SyntaxError("Error parsing CSS component value, multiple values found when expecting only one")},t.prototype.parseComponentValues=function(){for(var e=[];;){var n=this.consumeComponentValue();if(n.type===32)return e;e.push(n),e.push()}},t.prototype.consumeComponentValue=function(){var e=this.consumeToken();switch(e.type){case 11:case 28:case 2:return this.consumeSimpleBlock(e.type);case 19:return this.consumeFunction(e)}return e},t.prototype.consumeSimpleBlock=function(e){for(var n={type:e,values:[]},r=this.consumeToken();;){if(r.type===32||_st(r,e))return n;this.reconsumeToken(r),n.values.push(this.consumeComponentValue()),r=this.consumeToken()}},t.prototype.consumeFunction=function(e){for(var n={name:e.value,values:[],type:18};;){var r=this.consumeToken();if(r.type===32||r.type===3)return n;this.reconsumeToken(r),n.values.push(this.consumeComponentValue())}},t.prototype.consumeToken=function(){var e=this._tokens.shift();return typeof e>"u"?bH:e},t.prototype.reconsumeToken=function(e){this._tokens.unshift(e)},t}(),XS=function(t){return t.type===15},dj=function(t){return t.type===17},oi=function(t){return t.type===20},Nst=function(t){return t.type===0},wH=function(t,e){return oi(t)&&t.value===e},D1e=function(t){return t.type!==31},C2=function(t){return t.type!==31&&t.type!==4},zf=function(t){var e=[],n=[];return t.forEach(function(r){if(r.type===4){if(n.length===0)throw new Error("Error parsing function args, zero tokens for arg");e.push(n),n=[];return}r.type!==31&&n.push(r)}),n.length&&e.push(n),e},_st=function(t,e){return e===11&&t.type===12||e===28&&t.type===29?!0:e===2&&t.type===3},cx=function(t){return t.type===17||t.type===15},Ks=function(t){return t.type===16||cx(t)},T1e=function(t){return t.length>1?[t[0],t[1]]:[t[0]]},Ao={type:17,number:0,flags:GS},_q={type:16,number:50,flags:GS},Rg={type:16,number:100,flags:GS},HN=function(t,e,n){var r=t[0],s=t[1];return[Di(r,e),Di(typeof s<"u"?s:r,n)]},Di=function(t,e){if(t.type===16)return t.number/100*e;if(XS(t))switch(t.unit){case"rem":case"em":return 16*t.number;case"px":default:return t.number}return t.number},k1e="deg",F1e="grad",P1e="rad",U1e="turn",e6={name:"angle",parse:function(t,e){if(e.type===15)switch(e.unit){case k1e:return Math.PI*e.number/180;case F1e:return Math.PI/200*e.number;case P1e:return e.number;case U1e:return Math.PI*2*e.number}throw new Error("Unsupported angle type")}},I1e=function(t){return t.type===15&&(t.unit===k1e||t.unit===F1e||t.unit===P1e||t.unit===U1e)},O1e=function(t){var e=t.filter(oi).map(function(n){return n.value}).join(" ");switch(e){case"to bottom right":case"to right bottom":case"left top":case"top left":return[Ao,Ao];case"to top":case"bottom":return Qu(0);case"to bottom left":case"to left bottom":case"right top":case"top right":return[Ao,Rg];case"to right":case"left":return Qu(90);case"to top left":case"to left top":case"right bottom":case"bottom right":return[Rg,Rg];case"to bottom":case"top":return Qu(180);case"to top right":case"to right top":case"left bottom":case"bottom left":return[Rg,Ao];case"to left":case"right":return Qu(270)}return 0},Qu=function(t){return Math.PI*t/180},qg={name:"color",parse:function(t,e){if(e.type===18){var n=Cst[e.name];if(typeof n>"u")throw new Error('Attempting to parse an unsupported color function "'+e.name+'"');return n(t,e.values)}if(e.type===5){if(e.value.length===3){var r=e.value.substring(0,1),s=e.value.substring(1,2),a=e.value.substring(2,3);return Qg(parseInt(r+r,16),parseInt(s+s,16),parseInt(a+a,16),1)}if(e.value.length===4){var r=e.value.substring(0,1),s=e.value.substring(1,2),a=e.value.substring(2,3),o=e.value.substring(3,4);return Qg(parseInt(r+r,16),parseInt(s+s,16),parseInt(a+a,16),parseInt(o+o,16)/255)}if(e.value.length===6){var r=e.value.substring(0,2),s=e.value.substring(2,4),a=e.value.substring(4,6);return Qg(parseInt(r,16),parseInt(s,16),parseInt(a,16),1)}if(e.value.length===8){var r=e.value.substring(0,2),s=e.value.substring(2,4),a=e.value.substring(4,6),o=e.value.substring(6,8);return Qg(parseInt(r,16),parseInt(s,16),parseInt(a,16),parseInt(o,16)/255)}}if(e.type===20){var l=vp[e.value.toUpperCase()];if(typeof l<"u")return l}return vp.TRANSPARENT}},Vg=function(t){return(255&t)===0},ka=function(t){var e=255&t,n=255&t>>8,r=255&t>>16,s=255&t>>24;return e<255?"rgba("+s+","+r+","+n+","+e/255+")":"rgb("+s+","+r+","+n+")"},Qg=function(t,e,n,r){return(t<<24|e<<16|n<<8|Math.round(r*255)<<0)>>>0},boe=function(t,e){if(t.type===17)return t.number;if(t.type===16){var n=e===3?1:255;return e===3?t.number/100*n:Math.round(t.number/100*n)}return 0},woe=function(t,e){var n=e.filter(C2);if(n.length===3){var r=n.map(boe),s=r[0],a=r[1],o=r[2];return Qg(s,a,o,1)}if(n.length===4){var l=n.map(boe),s=l[0],a=l[1],o=l[2],c=l[3];return Qg(s,a,o,c)}return 0};function BL(t,e,n){return n<0&&(n+=1),n>=1&&(n-=1),n<1/6?(e-t)*n*6+t:n<1/2?e:n<2/3?(e-t)*6*(2/3-n)+t:t}var joe=function(t,e){var n=e.filter(C2),r=n[0],s=n[1],a=n[2],o=n[3],l=(r.type===17?Qu(r.number):e6.parse(t,r))/(Math.PI*2),c=Ks(s)?s.number/100:0,u=Ks(a)?a.number/100:0,d=typeof o<"u"&&Ks(o)?Di(o,1):1;if(c===0)return Qg(u*255,u*255,u*255,1);var h=u<=.5?u*(c+1):u+c-u*c,f=u*2-h,A=BL(f,h,l+1/3),v=BL(f,h,l),p=BL(f,h,l-1/3);return Qg(A*255,v*255,p*255,d)},Cst={hsl:joe,hsla:joe,rgb:woe,rgba:woe},p_=function(t,e){return qg.parse(t,B1e.create(e).parseComponentValue())},vp={ALICEBLUE:4042850303,ANTIQUEWHITE:4209760255,AQUA:16777215,AQUAMARINE:2147472639,AZURE:4043309055,BEIGE:4126530815,BISQUE:4293182719,BLACK:255,BLANCHEDALMOND:4293643775,BLUE:65535,BLUEVIOLET:2318131967,BROWN:2771004159,BURLYWOOD:3736635391,CADETBLUE:1604231423,CHARTREUSE:2147418367,CHOCOLATE:3530104575,CORAL:4286533887,CORNFLOWERBLUE:1687547391,CORNSILK:4294499583,CRIMSON:3692313855,CYAN:16777215,DARKBLUE:35839,DARKCYAN:9145343,DARKGOLDENROD:3095837695,DARKGRAY:2846468607,DARKGREEN:6553855,DARKGREY:2846468607,DARKKHAKI:3182914559,DARKMAGENTA:2332068863,DARKOLIVEGREEN:1433087999,DARKORANGE:4287365375,DARKORCHID:2570243327,DARKRED:2332033279,DARKSALMON:3918953215,DARKSEAGREEN:2411499519,DARKSLATEBLUE:1211993087,DARKSLATEGRAY:793726975,DARKSLATEGREY:793726975,DARKTURQUOISE:13554175,DARKVIOLET:2483082239,DEEPPINK:4279538687,DEEPSKYBLUE:12582911,DIMGRAY:1768516095,DIMGREY:1768516095,DODGERBLUE:512819199,FIREBRICK:2988581631,FLORALWHITE:4294635775,FORESTGREEN:579543807,FUCHSIA:4278255615,GAINSBORO:3705462015,GHOSTWHITE:4177068031,GOLD:4292280575,GOLDENROD:3668254975,GRAY:2155905279,GREEN:8388863,GREENYELLOW:2919182335,GREY:2155905279,HONEYDEW:4043305215,HOTPINK:4285117695,INDIANRED:3445382399,INDIGO:1258324735,IVORY:4294963455,KHAKI:4041641215,LAVENDER:3873897215,LAVENDERBLUSH:4293981695,LAWNGREEN:2096890111,LEMONCHIFFON:4294626815,LIGHTBLUE:2916673279,LIGHTCORAL:4034953471,LIGHTCYAN:3774873599,LIGHTGOLDENRODYELLOW:4210742015,LIGHTGRAY:3553874943,LIGHTGREEN:2431553791,LIGHTGREY:3553874943,LIGHTPINK:4290167295,LIGHTSALMON:4288707327,LIGHTSEAGREEN:548580095,LIGHTSKYBLUE:2278488831,LIGHTSLATEGRAY:2005441023,LIGHTSLATEGREY:2005441023,LIGHTSTEELBLUE:2965692159,LIGHTYELLOW:4294959359,LIME:16711935,LIMEGREEN:852308735,LINEN:4210091775,MAGENTA:4278255615,MAROON:2147483903,MEDIUMAQUAMARINE:1724754687,MEDIUMBLUE:52735,MEDIUMORCHID:3126187007,MEDIUMPURPLE:2473647103,MEDIUMSEAGREEN:1018393087,MEDIUMSLATEBLUE:2070474495,MEDIUMSPRINGGREEN:16423679,MEDIUMTURQUOISE:1221709055,MEDIUMVIOLETRED:3340076543,MIDNIGHTBLUE:421097727,MINTCREAM:4127193855,MISTYROSE:4293190143,MOCCASIN:4293178879,NAVAJOWHITE:4292783615,NAVY:33023,OLDLACE:4260751103,OLIVE:2155872511,OLIVEDRAB:1804477439,ORANGE:4289003775,ORANGERED:4282712319,ORCHID:3664828159,PALEGOLDENROD:4008225535,PALEGREEN:2566625535,PALETURQUOISE:2951671551,PALEVIOLETRED:3681588223,PAPAYAWHIP:4293907967,PEACHPUFF:4292524543,PERU:3448061951,PINK:4290825215,PLUM:3718307327,POWDERBLUE:2967529215,PURPLE:2147516671,REBECCAPURPLE:1714657791,RED:4278190335,ROSYBROWN:3163525119,ROYALBLUE:1097458175,SADDLEBROWN:2336560127,SALMON:4202722047,SANDYBROWN:4104413439,SEAGREEN:780883967,SEASHELL:4294307583,SIENNA:2689740287,SILVER:3233857791,SKYBLUE:2278484991,SLATEBLUE:1784335871,SLATEGRAY:1887473919,SLATEGREY:1887473919,SNOW:4294638335,SPRINGGREEN:16744447,STEELBLUE:1182971135,TAN:3535047935,TEAL:8421631,THISTLE:3636451583,TOMATO:4284696575,TRANSPARENT:0,TURQUOISE:1088475391,VIOLET:4001558271,WHEAT:4125012991,WHITE:4294967295,WHITESMOKE:4126537215,YELLOW:4294902015,YELLOWGREEN:2597139199},Sst={name:"background-clip",initialValue:"border-box",prefix:!1,type:1,parse:function(t,e){return e.map(function(n){if(oi(n))switch(n.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},Est={name:"background-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},t6=function(t,e){var n=qg.parse(t,e[0]),r=e[1];return r&&Ks(r)?{color:n,stop:r}:{color:n,stop:null}},Noe=function(t,e){var n=t[0],r=t[t.length-1];n.stop===null&&(n.stop=Ao),r.stop===null&&(r.stop=Rg);for(var s=[],a=0,o=0;o<t.length;o++){var l=t[o].stop;if(l!==null){var c=Di(l,e);c>a?s.push(c):s.push(a),a=c}else s.push(null)}for(var u=null,o=0;o<s.length;o++){var d=s[o];if(d===null)u===null&&(u=o);else if(u!==null){for(var h=o-u,f=s[u-1],A=(d-f)/(h+1),v=1;v<=h;v++)s[u+v-1]=A*v;u=null}}return t.map(function(p,m){var g=p.color;return{color:g,stop:Math.max(Math.min(1,s[m]/e),0)}})},Bst=function(t,e,n){var r=e/2,s=n/2,a=Di(t[0],e)-r,o=s-Di(t[1],n);return(Math.atan2(o,a)+Math.PI*2)%(Math.PI*2)},Dst=function(t,e,n){var r=typeof t=="number"?t:Bst(t,e,n),s=Math.abs(e*Math.sin(r))+Math.abs(n*Math.cos(r)),a=e/2,o=n/2,l=s/2,c=Math.sin(r-Math.PI/2)*l,u=Math.cos(r-Math.PI/2)*l;return[s,a-u,a+u,o-c,o+c]},Pd=function(t,e){return Math.sqrt(t*t+e*e)},_oe=function(t,e,n,r,s){var a=[[0,0],[0,e],[t,0],[t,e]];return a.reduce(function(o,l){var c=l[0],u=l[1],d=Pd(n-c,r-u);return(s?d<o.optimumDistance:d>o.optimumDistance)?{optimumCorner:l,optimumDistance:d}:o},{optimumDistance:s?1/0:-1/0,optimumCorner:null}).optimumCorner},Tst=function(t,e,n,r,s){var a=0,o=0;switch(t.size){case 0:t.shape===0?a=o=Math.min(Math.abs(e),Math.abs(e-r),Math.abs(n),Math.abs(n-s)):t.shape===1&&(a=Math.min(Math.abs(e),Math.abs(e-r)),o=Math.min(Math.abs(n),Math.abs(n-s)));break;case 2:if(t.shape===0)a=o=Math.min(Pd(e,n),Pd(e,n-s),Pd(e-r,n),Pd(e-r,n-s));else if(t.shape===1){var l=Math.min(Math.abs(n),Math.abs(n-s))/Math.min(Math.abs(e),Math.abs(e-r)),c=_oe(r,s,e,n,!0),u=c[0],d=c[1];a=Pd(u-e,(d-n)/l),o=l*a}break;case 1:t.shape===0?a=o=Math.max(Math.abs(e),Math.abs(e-r),Math.abs(n),Math.abs(n-s)):t.shape===1&&(a=Math.max(Math.abs(e),Math.abs(e-r)),o=Math.max(Math.abs(n),Math.abs(n-s)));break;case 3:if(t.shape===0)a=o=Math.max(Pd(e,n),Pd(e,n-s),Pd(e-r,n),Pd(e-r,n-s));else if(t.shape===1){var l=Math.max(Math.abs(n),Math.abs(n-s))/Math.max(Math.abs(e),Math.abs(e-r)),h=_oe(r,s,e,n,!1),u=h[0],d=h[1];a=Pd(u-e,(d-n)/l),o=l*a}break}return Array.isArray(t.size)&&(a=Di(t.size[0],r),o=t.size.length===2?Di(t.size[1],s):a),[a,o]},kst=function(t,e){var n=Qu(180),r=[];return zf(e).forEach(function(s,a){if(a===0){var o=s[0];if(o.type===20&&o.value==="to"){n=O1e(s);return}else if(I1e(o)){n=e6.parse(t,o);return}}var l=t6(t,s);r.push(l)}),{angle:n,stops:r,type:1}},$4=function(t,e){var n=Qu(180),r=[];return zf(e).forEach(function(s,a){if(a===0){var o=s[0];if(o.type===20&&["top","left","right","bottom"].indexOf(o.value)!==-1){n=O1e(s);return}else if(I1e(o)){n=(e6.parse(t,o)+Qu(270))%Qu(360);return}}var l=t6(t,s);r.push(l)}),{angle:n,stops:r,type:1}},Fst=function(t,e){var n=Qu(180),r=[],s=1,a=0,o=3,l=[];return zf(e).forEach(function(c,u){var d=c[0];if(u===0){if(oi(d)&&d.value==="linear"){s=1;return}else if(oi(d)&&d.value==="radial"){s=2;return}}if(d.type===18){if(d.name==="from"){var h=qg.parse(t,d.values[0]);r.push({stop:Ao,color:h})}else if(d.name==="to"){var h=qg.parse(t,d.values[0]);r.push({stop:Rg,color:h})}else if(d.name==="color-stop"){var f=d.values.filter(C2);if(f.length===2){var h=qg.parse(t,f[1]),A=f[0];dj(A)&&r.push({stop:{type:16,number:A.number*100,flags:A.flags},color:h})}}}}),s===1?{angle:(n+Qu(180))%Qu(360),stops:r,type:s}:{size:o,shape:a,stops:r,position:l,type:s}},M1e="closest-side",L1e="farthest-side",R1e="closest-corner",Q1e="farthest-corner",H1e="circle",z1e="ellipse",$1e="cover",W1e="contain",Pst=function(t,e){var n=0,r=3,s=[],a=[];return zf(e).forEach(function(o,l){var c=!0;if(l===0){var u=!1;c=o.reduce(function(h,f){if(u)if(oi(f))switch(f.value){case"center":return a.push(_q),h;case"top":case"left":return a.push(Ao),h;case"right":case"bottom":return a.push(Rg),h}else(Ks(f)||cx(f))&&a.push(f);else if(oi(f))switch(f.value){case H1e:return n=0,!1;case z1e:return n=1,!1;case"at":return u=!0,!1;case M1e:return r=0,!1;case $1e:case L1e:return r=1,!1;case W1e:case R1e:return r=2,!1;case Q1e:return r=3,!1}else if(cx(f)||Ks(f))return Array.isArray(r)||(r=[]),r.push(f),!1;return h},c)}if(c){var d=t6(t,o);s.push(d)}}),{size:r,shape:n,stops:s,position:a,type:2}},W4=function(t,e){var n=0,r=3,s=[],a=[];return zf(e).forEach(function(o,l){var c=!0;if(l===0?c=o.reduce(function(d,h){if(oi(h))switch(h.value){case"center":return a.push(_q),!1;case"top":case"left":return a.push(Ao),!1;case"right":case"bottom":return a.push(Rg),!1}else if(Ks(h)||cx(h))return a.push(h),!1;return d},c):l===1&&(c=o.reduce(function(d,h){if(oi(h))switch(h.value){case H1e:return n=0,!1;case z1e:return n=1,!1;case W1e:case M1e:return r=0,!1;case L1e:return r=1,!1;case R1e:return r=2,!1;case $1e:case Q1e:return r=3,!1}else if(cx(h)||Ks(h))return Array.isArray(r)||(r=[]),r.push(h),!1;return d},c)),c){var u=t6(t,o);s.push(u)}}),{size:r,shape:n,stops:s,position:a,type:2}},Ust=function(t){return t.type===1},Ist=function(t){return t.type===2},Cq={name:"image",parse:function(t,e){if(e.type===22){var n={url:e.value,type:0};return t.cache.addImage(e.value),n}if(e.type===18){var r=q1e[e.name];if(typeof r>"u")throw new Error('Attempting to parse an unsupported image function "'+e.name+'"');return r(t,e.values)}throw new Error("Unsupported image type "+e.type)}};function Ost(t){return!(t.type===20&&t.value==="none")&&(t.type!==18||!!q1e[t.name])}var q1e={"linear-gradient":kst,"-moz-linear-gradient":$4,"-ms-linear-gradient":$4,"-o-linear-gradient":$4,"-webkit-linear-gradient":$4,"radial-gradient":Pst,"-moz-radial-gradient":W4,"-ms-radial-gradient":W4,"-o-radial-gradient":W4,"-webkit-radial-gradient":W4,"-webkit-gradient":Fst},Mst={name:"background-image",initialValue:"none",type:1,prefix:!1,parse:function(t,e){if(e.length===0)return[];var n=e[0];return n.type===20&&n.value==="none"?[]:e.filter(function(r){return C2(r)&&Ost(r)}).map(function(r){return Cq.parse(t,r)})}},Lst={name:"background-origin",initialValue:"border-box",prefix:!1,type:1,parse:function(t,e){return e.map(function(n){if(oi(n))switch(n.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},Rst={name:"background-position",initialValue:"0% 0%",type:1,prefix:!1,parse:function(t,e){return zf(e).map(function(n){return n.filter(Ks)}).map(T1e)}},Qst={name:"background-repeat",initialValue:"repeat",prefix:!1,type:1,parse:function(t,e){return zf(e).map(function(n){return n.filter(oi).map(function(r){return r.value}).join(" ")}).map(Hst)}},Hst=function(t){switch(t){case"no-repeat":return 1;case"repeat-x":case"repeat no-repeat":return 2;case"repeat-y":case"no-repeat repeat":return 3;case"repeat":default:return 0}},k1;(function(t){t.AUTO="auto",t.CONTAIN="contain",t.COVER="cover"})(k1||(k1={}));var zst={name:"background-size",initialValue:"0",prefix:!1,type:1,parse:function(t,e){return zf(e).map(function(n){return n.filter($st)})}},$st=function(t){return oi(t)||Ks(t)},n6=function(t){return{name:"border-"+t+"-color",initialValue:"transparent",prefix:!1,type:3,format:"color"}},Wst=n6("top"),qst=n6("right"),Vst=n6("bottom"),Kst=n6("left"),r6=function(t){return{name:"border-radius-"+t,initialValue:"0 0",prefix:!1,type:1,parse:function(e,n){return T1e(n.filter(Ks))}}},Gst=r6("top-left"),Xst=r6("top-right"),Yst=r6("bottom-right"),Jst=r6("bottom-left"),i6=function(t){return{name:"border-"+t+"-style",initialValue:"solid",prefix:!1,type:2,parse:function(e,n){switch(n){case"none":return 0;case"dashed":return 2;case"dotted":return 3;case"double":return 4}return 1}}},Zst=i6("top"),eat=i6("right"),tat=i6("bottom"),nat=i6("left"),s6=function(t){return{name:"border-"+t+"-width",initialValue:"0",type:0,prefix:!1,parse:function(e,n){return XS(n)?n.number:0}}},rat=s6("top"),iat=s6("right"),sat=s6("bottom"),aat=s6("left"),oat={name:"color",initialValue:"transparent",prefix:!1,type:3,format:"color"},lat={name:"direction",initialValue:"ltr",prefix:!1,type:2,parse:function(t,e){switch(e){case"rtl":return 1;case"ltr":default:return 0}}},cat={name:"display",initialValue:"inline-block",prefix:!1,type:1,parse:function(t,e){return e.filter(oi).reduce(function(n,r){return n|uat(r.value)},0)}},uat=function(t){switch(t){case"block":case"-webkit-box":return 2;case"inline":return 4;case"run-in":return 8;case"flow":return 16;case"flow-root":return 32;case"table":return 64;case"flex":case"-webkit-flex":return 128;case"grid":case"-ms-grid":return 256;case"ruby":return 512;case"subgrid":return 1024;case"list-item":return 2048;case"table-row-group":return 4096;case"table-header-group":return 8192;case"table-footer-group":return 16384;case"table-row":return 32768;case"table-cell":return 65536;case"table-column-group":return 131072;case"table-column":return 262144;case"table-caption":return 524288;case"ruby-base":return 1048576;case"ruby-text":return 2097152;case"ruby-base-container":return 4194304;case"ruby-text-container":return 8388608;case"contents":return 16777216;case"inline-block":return 33554432;case"inline-list-item":return 67108864;case"inline-table":return 134217728;case"inline-flex":return 268435456;case"inline-grid":return 536870912}return 0},dat={name:"float",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"left":return 1;case"right":return 2;case"inline-start":return 3;case"inline-end":return 4}return 0}},hat={name:"letter-spacing",initialValue:"0",prefix:!1,type:0,parse:function(t,e){return e.type===20&&e.value==="normal"?0:e.type===17||e.type===15?e.number:0}},gT;(function(t){t.NORMAL="normal",t.STRICT="strict"})(gT||(gT={}));var fat={name:"line-break",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"strict":return gT.STRICT;case"normal":default:return gT.NORMAL}}},Aat={name:"line-height",initialValue:"normal",prefix:!1,type:4},Coe=function(t,e){return oi(t)&&t.value==="normal"?1.2*e:t.type===17?e*t.number:Ks(t)?Di(t,e):e},pat={name:"list-style-image",initialValue:"none",type:0,prefix:!1,parse:function(t,e){return e.type===20&&e.value==="none"?null:Cq.parse(t,e)}},mat={name:"list-style-position",initialValue:"outside",prefix:!1,type:2,parse:function(t,e){switch(e){case"inside":return 0;case"outside":default:return 1}}},jH={name:"list-style-type",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"disc":return 0;case"circle":return 1;case"square":return 2;case"decimal":return 3;case"cjk-decimal":return 4;case"decimal-leading-zero":return 5;case"lower-roman":return 6;case"upper-roman":return 7;case"lower-greek":return 8;case"lower-alpha":return 9;case"upper-alpha":return 10;case"arabic-indic":return 11;case"armenian":return 12;case"bengali":return 13;case"cambodian":return 14;case"cjk-earthly-branch":return 15;case"cjk-heavenly-stem":return 16;case"cjk-ideographic":return 17;case"devanagari":return 18;case"ethiopic-numeric":return 19;case"georgian":return 20;case"gujarati":return 21;case"gurmukhi":return 22;case"hebrew":return 22;case"hiragana":return 23;case"hiragana-iroha":return 24;case"japanese-formal":return 25;case"japanese-informal":return 26;case"kannada":return 27;case"katakana":return 28;case"katakana-iroha":return 29;case"khmer":return 30;case"korean-hangul-formal":return 31;case"korean-hanja-formal":return 32;case"korean-hanja-informal":return 33;case"lao":return 34;case"lower-armenian":return 35;case"malayalam":return 36;case"mongolian":return 37;case"myanmar":return 38;case"oriya":return 39;case"persian":return 40;case"simp-chinese-formal":return 41;case"simp-chinese-informal":return 42;case"tamil":return 43;case"telugu":return 44;case"thai":return 45;case"tibetan":return 46;case"trad-chinese-formal":return 47;case"trad-chinese-informal":return 48;case"upper-armenian":return 49;case"disclosure-open":return 50;case"disclosure-closed":return 51;case"none":default:return-1}}},a6=function(t){return{name:"margin-"+t,initialValue:"0",prefix:!1,type:4}},gat=a6("top"),xat=a6("right"),vat=a6("bottom"),yat=a6("left"),bat={name:"overflow",initialValue:"visible",prefix:!1,type:1,parse:function(t,e){return e.filter(oi).map(function(n){switch(n.value){case"hidden":return 1;case"scroll":return 2;case"clip":return 3;case"auto":return 4;case"visible":default:return 0}})}},wat={name:"overflow-wrap",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"break-word":return"break-word";case"normal":default:return"normal"}}},o6=function(t){return{name:"padding-"+t,initialValue:"0",prefix:!1,type:3,format:"length-percentage"}},jat=o6("top"),Nat=o6("right"),_at=o6("bottom"),Cat=o6("left"),Sat={name:"text-align",initialValue:"left",prefix:!1,type:2,parse:function(t,e){switch(e){case"right":return 2;case"center":case"justify":return 1;case"left":default:return 0}}},Eat={name:"position",initialValue:"static",prefix:!1,type:2,parse:function(t,e){switch(e){case"relative":return 1;case"absolute":return 2;case"fixed":return 3;case"sticky":return 4}return 0}},Bat={name:"text-shadow",initialValue:"none",type:1,prefix:!1,parse:function(t,e){return e.length===1&&wH(e[0],"none")?[]:zf(e).map(function(n){for(var r={color:vp.TRANSPARENT,offsetX:Ao,offsetY:Ao,blur:Ao},s=0,a=0;a<n.length;a++){var o=n[a];cx(o)?(s===0?r.offsetX=o:s===1?r.offsetY=o:r.blur=o,s++):r.color=qg.parse(t,o)}return r})}},Dat={name:"text-transform",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"uppercase":return 2;case"lowercase":return 1;case"capitalize":return 3}return 0}},Tat={name:"transform",initialValue:"none",prefix:!0,type:0,parse:function(t,e){if(e.type===20&&e.value==="none")return null;if(e.type===18){var n=Pat[e.name];if(typeof n>"u")throw new Error('Attempting to parse an unsupported transform function "'+e.name+'"');return n(e.values)}return null}},kat=function(t){var e=t.filter(function(n){return n.type===17}).map(function(n){return n.number});return e.length===6?e:null},Fat=function(t){var e=t.filter(function(c){return c.type===17}).map(function(c){return c.number}),n=e[0],r=e[1];e[2],e[3];var s=e[4],a=e[5];e[6],e[7],e[8],e[9],e[10],e[11];var o=e[12],l=e[13];return e[14],e[15],e.length===16?[n,r,s,a,o,l]:null},Pat={matrix:kat,matrix3d:Fat},Soe={type:16,number:50,flags:GS},Uat=[Soe,Soe],Iat={name:"transform-origin",initialValue:"50% 50%",prefix:!0,type:1,parse:function(t,e){var n=e.filter(Ks);return n.length!==2?Uat:[n[0],n[1]]}},Oat={name:"visible",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"hidden":return 1;case"collapse":return 2;case"visible":default:return 0}}},m_;(function(t){t.NORMAL="normal",t.BREAK_ALL="break-all",t.KEEP_ALL="keep-all"})(m_||(m_={}));var Mat={name:"word-break",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"break-all":return m_.BREAK_ALL;case"keep-all":return m_.KEEP_ALL;case"normal":default:return m_.NORMAL}}},Lat={name:"z-index",initialValue:"auto",prefix:!1,type:0,parse:function(t,e){if(e.type===20)return{auto:!0,order:0};if(dj(e))return{auto:!1,order:e.number};throw new Error("Invalid z-index number parsed")}},V1e={name:"time",parse:function(t,e){if(e.type===15)switch(e.unit.toLowerCase()){case"s":return 1e3*e.number;case"ms":return e.number}throw new Error("Unsupported time type")}},Rat={name:"opacity",initialValue:"1",type:0,prefix:!1,parse:function(t,e){return dj(e)?e.number:1}},Qat={name:"text-decoration-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},Hat={name:"text-decoration-line",initialValue:"none",prefix:!1,type:1,parse:function(t,e){return e.filter(oi).map(function(n){switch(n.value){case"underline":return 1;case"overline":return 2;case"line-through":return 3;case"none":return 4}return 0}).filter(function(n){return n!==0})}},zat={name:"font-family",initialValue:"",prefix:!1,type:1,parse:function(t,e){var n=[],r=[];return e.forEach(function(s){switch(s.type){case 20:case 0:n.push(s.value);break;case 17:n.push(s.number.toString());break;case 4:r.push(n.join(" ")),n.length=0;break}}),n.length&&r.push(n.join(" ")),r.map(function(s){return s.indexOf(" ")===-1?s:"'"+s+"'"})}},$at={name:"font-size",initialValue:"0",prefix:!1,type:3,format:"length"},Wat={name:"font-weight",initialValue:"normal",type:0,prefix:!1,parse:function(t,e){if(dj(e))return e.number;if(oi(e))switch(e.value){case"bold":return 700;case"normal":default:return 400}return 400}},qat={name:"font-variant",initialValue:"none",type:1,prefix:!1,parse:function(t,e){return e.filter(oi).map(function(n){return n.value})}},Vat={name:"font-style",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"oblique":return"oblique";case"italic":return"italic";case"normal":default:return"normal"}}},Aa=function(t,e){return(t&e)!==0},Kat={name:"content",initialValue:"none",type:1,prefix:!1,parse:function(t,e){if(e.length===0)return[];var n=e[0];return n.type===20&&n.value==="none"?[]:e}},Gat={name:"counter-increment",initialValue:"none",prefix:!0,type:1,parse:function(t,e){if(e.length===0)return null;var n=e[0];if(n.type===20&&n.value==="none")return null;for(var r=[],s=e.filter(D1e),a=0;a<s.length;a++){var o=s[a],l=s[a+1];if(o.type===20){var c=l&&dj(l)?l.number:1;r.push({counter:o.value,increment:c})}}return r}},Xat={name:"counter-reset",initialValue:"none",prefix:!0,type:1,parse:function(t,e){if(e.length===0)return[];for(var n=[],r=e.filter(D1e),s=0;s<r.length;s++){var a=r[s],o=r[s+1];if(oi(a)&&a.value!=="none"){var l=o&&dj(o)?o.number:0;n.push({counter:a.value,reset:l})}}return n}},Yat={name:"duration",initialValue:"0s",prefix:!1,type:1,parse:function(t,e){return e.filter(XS).map(function(n){return V1e.parse(t,n)})}},Jat={name:"quotes",initialValue:"none",prefix:!0,type:1,parse:function(t,e){if(e.length===0)return null;var n=e[0];if(n.type===20&&n.value==="none")return null;var r=[],s=e.filter(Nst);if(s.length%2!==0)return null;for(var a=0;a<s.length;a+=2){var o=s[a].value,l=s[a+1].value;r.push({open:o,close:l})}return r}},Eoe=function(t,e,n){if(!t)return"";var r=t[Math.min(e,t.length-1)];return r?n?r.open:r.close:""},Zat={name:"box-shadow",initialValue:"none",type:1,prefix:!1,parse:function(t,e){return e.length===1&&wH(e[0],"none")?[]:zf(e).map(function(n){for(var r={color:255,offsetX:Ao,offsetY:Ao,blur:Ao,spread:Ao,inset:!1},s=0,a=0;a<n.length;a++){var o=n[a];wH(o,"inset")?r.inset=!0:cx(o)?(s===0?r.offsetX=o:s===1?r.offsetY=o:s===2?r.blur=o:r.spread=o,s++):r.color=qg.parse(t,o)}return r})}},eot={name:"paint-order",initialValue:"normal",prefix:!1,type:1,parse:function(t,e){var n=[0,1,2],r=[];return e.filter(oi).forEach(function(s){switch(s.value){case"stroke":r.push(1);break;case"fill":r.push(0);break;case"markers":r.push(2);break}}),n.forEach(function(s){r.indexOf(s)===-1&&r.push(s)}),r}},tot={name:"-webkit-text-stroke-color",initialValue:"currentcolor",prefix:!1,type:3,format:"color"},not={name:"-webkit-text-stroke-width",initialValue:"0",type:0,prefix:!1,parse:function(t,e){return XS(e)?e.number:0}},rot=function(){function t(e,n){var r,s;this.animationDuration=Kt(e,Yat,n.animationDuration),this.backgroundClip=Kt(e,Sst,n.backgroundClip),this.backgroundColor=Kt(e,Est,n.backgroundColor),this.backgroundImage=Kt(e,Mst,n.backgroundImage),this.backgroundOrigin=Kt(e,Lst,n.backgroundOrigin),this.backgroundPosition=Kt(e,Rst,n.backgroundPosition),this.backgroundRepeat=Kt(e,Qst,n.backgroundRepeat),this.backgroundSize=Kt(e,zst,n.backgroundSize),this.borderTopColor=Kt(e,Wst,n.borderTopColor),this.borderRightColor=Kt(e,qst,n.borderRightColor),this.borderBottomColor=Kt(e,Vst,n.borderBottomColor),this.borderLeftColor=Kt(e,Kst,n.borderLeftColor),this.borderTopLeftRadius=Kt(e,Gst,n.borderTopLeftRadius),this.borderTopRightRadius=Kt(e,Xst,n.borderTopRightRadius),this.borderBottomRightRadius=Kt(e,Yst,n.borderBottomRightRadius),this.borderBottomLeftRadius=Kt(e,Jst,n.borderBottomLeftRadius),this.borderTopStyle=Kt(e,Zst,n.borderTopStyle),this.borderRightStyle=Kt(e,eat,n.borderRightStyle),this.borderBottomStyle=Kt(e,tat,n.borderBottomStyle),this.borderLeftStyle=Kt(e,nat,n.borderLeftStyle),this.borderTopWidth=Kt(e,rat,n.borderTopWidth),this.borderRightWidth=Kt(e,iat,n.borderRightWidth),this.borderBottomWidth=Kt(e,sat,n.borderBottomWidth),this.borderLeftWidth=Kt(e,aat,n.borderLeftWidth),this.boxShadow=Kt(e,Zat,n.boxShadow),this.color=Kt(e,oat,n.color),this.direction=Kt(e,lat,n.direction),this.display=Kt(e,cat,n.display),this.float=Kt(e,dat,n.cssFloat),this.fontFamily=Kt(e,zat,n.fontFamily),this.fontSize=Kt(e,$at,n.fontSize),this.fontStyle=Kt(e,Vat,n.fontStyle),this.fontVariant=Kt(e,qat,n.fontVariant),this.fontWeight=Kt(e,Wat,n.fontWeight),this.letterSpacing=Kt(e,hat,n.letterSpacing),this.lineBreak=Kt(e,fat,n.lineBreak),this.lineHeight=Kt(e,Aat,n.lineHeight),this.listStyleImage=Kt(e,pat,n.listStyleImage),this.listStylePosition=Kt(e,mat,n.listStylePosition),this.listStyleType=Kt(e,jH,n.listStyleType),this.marginTop=Kt(e,gat,n.marginTop),this.marginRight=Kt(e,xat,n.marginRight),this.marginBottom=Kt(e,vat,n.marginBottom),this.marginLeft=Kt(e,yat,n.marginLeft),this.opacity=Kt(e,Rat,n.opacity);var a=Kt(e,bat,n.overflow);this.overflowX=a[0],this.overflowY=a[a.length>1?1:0],this.overflowWrap=Kt(e,wat,n.overflowWrap),this.paddingTop=Kt(e,jat,n.paddingTop),this.paddingRight=Kt(e,Nat,n.paddingRight),this.paddingBottom=Kt(e,_at,n.paddingBottom),this.paddingLeft=Kt(e,Cat,n.paddingLeft),this.paintOrder=Kt(e,eot,n.paintOrder),this.position=Kt(e,Eat,n.position),this.textAlign=Kt(e,Sat,n.textAlign),this.textDecorationColor=Kt(e,Qat,(r=n.textDecorationColor)!==null&&r!==void 0?r:n.color),this.textDecorationLine=Kt(e,Hat,(s=n.textDecorationLine)!==null&&s!==void 0?s:n.textDecoration),this.textShadow=Kt(e,Bat,n.textShadow),this.textTransform=Kt(e,Dat,n.textTransform),this.transform=Kt(e,Tat,n.transform),this.transformOrigin=Kt(e,Iat,n.transformOrigin),this.visibility=Kt(e,Oat,n.visibility),this.webkitTextStrokeColor=Kt(e,tot,n.webkitTextStrokeColor),this.webkitTextStrokeWidth=Kt(e,not,n.webkitTextStrokeWidth),this.wordBreak=Kt(e,Mat,n.wordBreak),this.zIndex=Kt(e,Lat,n.zIndex)}return t.prototype.isVisible=function(){return this.display>0&&this.opacity>0&&this.visibility===0},t.prototype.isTransparent=function(){return Vg(this.backgroundColor)},t.prototype.isTransformed=function(){return this.transform!==null},t.prototype.isPositioned=function(){return this.position!==0},t.prototype.isPositionedWithZIndex=function(){return this.isPositioned()&&!this.zIndex.auto},t.prototype.isFloating=function(){return this.float!==0},t.prototype.isInlineLevel=function(){return Aa(this.display,4)||Aa(this.display,33554432)||Aa(this.display,268435456)||Aa(this.display,536870912)||Aa(this.display,67108864)||Aa(this.display,134217728)},t}(),iot=function(){function t(e,n){this.content=Kt(e,Kat,n.content),this.quotes=Kt(e,Jat,n.quotes)}return t}(),Boe=function(){function t(e,n){this.counterIncrement=Kt(e,Gat,n.counterIncrement),this.counterReset=Kt(e,Xat,n.counterReset)}return t}(),Kt=function(t,e,n){var r=new E1e,s=n!==null&&typeof n<"u"?n.toString():e.initialValue;r.write(s);var a=new B1e(r.read());switch(e.type){case 2:var o=a.parseComponentValue();return e.parse(t,oi(o)?o.value:e.initialValue);case 0:return e.parse(t,a.parseComponentValue());case 1:return e.parse(t,a.parseComponentValues());case 4:return a.parseComponentValue();case 3:switch(e.format){case"angle":return e6.parse(t,a.parseComponentValue());case"color":return qg.parse(t,a.parseComponentValue());case"image":return Cq.parse(t,a.parseComponentValue());case"length":var l=a.parseComponentValue();return cx(l)?l:Ao;case"length-percentage":var c=a.parseComponentValue();return Ks(c)?c:Ao;case"time":return V1e.parse(t,a.parseComponentValue())}break}},sot="data-html2canvas-debug",aot=function(t){var e=t.getAttribute(sot);switch(e){case"all":return 1;case"clone":return 2;case"parse":return 3;case"render":return 4;default:return 0}},NH=function(t,e){var n=aot(t);return n===1||e===n},$f=function(){function t(e,n){if(this.context=e,this.textNodes=[],this.elements=[],this.flags=0,NH(n,3))debugger;this.styles=new rot(e,window.getComputedStyle(n,null)),SH(n)&&(this.styles.animationDuration.some(function(r){return r>0})&&(n.style.animationDuration="0s"),this.styles.transform!==null&&(n.style.transform="none")),this.bounds=JF(this.context,n),NH(n,4)&&(this.flags|=16)}return t}(),oot="AAAAAAAAAAAAEA4AGBkAAFAaAAACAAAAAAAIABAAGAAwADgACAAQAAgAEAAIABAACAAQAAgAEAAIABAACAAQAAgAEAAIABAAQABIAEQATAAIABAACAAQAAgAEAAIABAAVABcAAgAEAAIABAACAAQAGAAaABwAHgAgACIAI4AlgAIABAAmwCjAKgAsAC2AL4AvQDFAMoA0gBPAVYBWgEIAAgACACMANoAYgFkAWwBdAF8AX0BhQGNAZUBlgGeAaMBlQGWAasBswF8AbsBwwF0AcsBYwHTAQgA2wG/AOMBdAF8AekB8QF0AfkB+wHiAHQBfAEIAAMC5gQIAAsCEgIIAAgAFgIeAggAIgIpAggAMQI5AkACygEIAAgASAJQAlgCYAIIAAgACAAKBQoFCgUTBRMFGQUrBSsFCAAIAAgACAAIAAgACAAIAAgACABdAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABoAmgCrwGvAQgAbgJ2AggAHgEIAAgACADnAXsCCAAIAAgAgwIIAAgACAAIAAgACACKAggAkQKZAggAPADJAAgAoQKkAqwCsgK6AsICCADJAggA0AIIAAgACAAIANYC3gIIAAgACAAIAAgACABAAOYCCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAkASoB+QIEAAgACAA8AEMCCABCBQgACABJBVAFCAAIAAgACAAIAAgACAAIAAgACABTBVoFCAAIAFoFCABfBWUFCAAIAAgACAAIAAgAbQUIAAgACAAIAAgACABzBXsFfQWFBYoFigWKBZEFigWKBYoFmAWfBaYFrgWxBbkFCAAIAAgACAAIAAgACAAIAAgACAAIAMEFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAMgFCADQBQgACAAIAAgACAAIAAgACAAIAAgACAAIAO4CCAAIAAgAiQAIAAgACABAAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAD0AggACAD8AggACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIANYFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAMDvwAIAAgAJAIIAAgACAAIAAgACAAIAAgACwMTAwgACAB9BOsEGwMjAwgAKwMyAwsFYgE3A/MEPwMIAEUDTQNRAwgAWQOsAGEDCAAIAAgACAAIAAgACABpAzQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFIQUoBSwFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABtAwgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABMAEwACAAIAAgACAAIABgACAAIAAgACAC/AAgACAAyAQgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACAAIAAwAAgACAAIAAgACAAIAAgACAAIAAAARABIAAgACAAIABQASAAIAAgAIABwAEAAjgCIABsAqAC2AL0AigDQAtwC+IJIQqVAZUBWQqVAZUBlQGVAZUBlQGrC5UBlQGVAZUBlQGVAZUBlQGVAXsKlQGVAbAK6wsrDGUMpQzlDJUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAfAKAAuZA64AtwCJALoC6ADwAAgAuACgA/oEpgO6AqsD+AAIAAgAswMIAAgACAAIAIkAuwP5AfsBwwPLAwgACAAIAAgACADRA9kDCAAIAOED6QMIAAgACAAIAAgACADuA/YDCAAIAP4DyQAIAAgABgQIAAgAXQAOBAgACAAIAAgACAAIABMECAAIAAgACAAIAAgACAD8AAQBCAAIAAgAGgQiBCoECAExBAgAEAEIAAgACAAIAAgACAAIAAgACAAIAAgACAA4BAgACABABEYECAAIAAgATAQYAQgAVAQIAAgACAAIAAgACAAIAAgACAAIAFoECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAOQEIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAB+BAcACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAEABhgSMBAgACAAIAAgAlAQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAwAEAAQABAADAAMAAwADAAQABAAEAAQABAAEAAQABHATAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAdQMIAAgACAAIAAgACAAIAMkACAAIAAgAfQMIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACFA4kDCAAIAAgACAAIAOcBCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAIcDCAAIAAgACAAIAAgACAAIAAgACAAIAJEDCAAIAAgACADFAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABgBAgAZgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAbAQCBXIECAAIAHkECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABAAJwEQACjBKoEsgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAC6BMIECAAIAAgACAAIAAgACABmBAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAxwQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAGYECAAIAAgAzgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBd0FXwUIAOIF6gXxBYoF3gT5BQAGCAaKBYoFigWKBYoFigWKBYoFigWKBYoFigXWBIoFigWKBYoFigWKBYoFigWKBYsFEAaKBYoFigWKBYoFigWKBRQGCACKBYoFigWKBQgACAAIANEECAAIABgGigUgBggAJgYIAC4GMwaKBYoF0wQ3Bj4GigWKBYoFigWKBYoFigWKBYoFigWKBYoFigUIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWLBf///////wQABAAEAAQABAAEAAQABAAEAAQAAwAEAAQAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAQADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUAAAAFAAUAAAAFAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAQAAAAUABQAFAAUABQAFAAAAAAAFAAUAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAFAAUAAQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAAABwAHAAcAAAAHAAcABwAFAAEAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAcABwAFAAUAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAQABAAAAAAAAAAAAAAAFAAUABQAFAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAHAAcAAAAHAAcAAAAAAAUABQAHAAUAAQAHAAEABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwABAAUABQAFAAUAAAAAAAAAAAAAAAEAAQABAAEAAQABAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABQANAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAABQAHAAUABQAFAAAAAAAAAAcABQAFAAUABQAFAAQABAAEAAQABAAEAAQABAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUAAAAFAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAUAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAcABwAFAAcABwAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUABwAHAAUABQAFAAUAAAAAAAcABwAAAAAABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAAAAAAAAAAABQAFAAAAAAAFAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAFAAUABQAFAAUAAAAFAAUABwAAAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABwAFAAUABQAFAAAAAAAHAAcAAAAAAAcABwAFAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAAAAAAAAAHAAcABwAAAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAUABQAFAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAHAAcABQAHAAcAAAAFAAcABwAAAAcABwAFAAUAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAFAAcABwAFAAUABQAAAAUAAAAHAAcABwAHAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAHAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUAAAAFAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAUAAAAFAAUAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABwAFAAUABQAFAAUABQAAAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABQAFAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAFAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAHAAUABQAFAAUABQAFAAUABwAHAAcABwAHAAcABwAHAAUABwAHAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABwAHAAcABwAFAAUABwAHAAcAAAAAAAAAAAAHAAcABQAHAAcABwAHAAcABwAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAUABQAFAAUABQAFAAUAAAAFAAAABQAAAAAABQAFAAUABQAFAAUABQAFAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAUABQAFAAUABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABwAFAAcABwAHAAcABwAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAUABQAFAAUABwAHAAUABQAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABQAFAAcABwAHAAUABwAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAcABQAFAAUABQAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAAAAAABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAAAAAAAAAFAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAUABQAHAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAFAAUABQAFAAcABwAFAAUABwAHAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAcABwAFAAUABwAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABQAAAAAABQAFAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAcABwAAAAAAAAAAAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAcABwAFAAcABwAAAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAFAAUABQAAAAUABQAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABwAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAHAAcABQAHAAUABQAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAAABwAHAAAAAAAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAFAAUABwAFAAcABwAFAAcABQAFAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAAAAAABwAHAAcABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAFAAcABwAFAAUABQAFAAUABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAUABQAFAAcABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABQAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAAAAAAFAAUABwAHAAcABwAFAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAHAAUABQAFAAUABQAFAAUABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAABQAAAAUABQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAHAAcAAAAFAAUAAAAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABQAFAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAABQAFAAUABQAFAAUABQAAAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAFAAUABQAFAAUADgAOAA4ADgAOAA4ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAMAAwADAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAAAAsADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwACwAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAADgAOAA4AAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAAAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4AAAAOAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAAAAAAAAAAAA4AAAAOAAAAAAAAAAAADgAOAA4AAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAA=",Doe="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",zN=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var q4=0;q4<Doe.length;q4++)zN[Doe.charCodeAt(q4)]=q4;var lot=function(t){var e=t.length*.75,n=t.length,r,s=0,a,o,l,c;t[t.length-1]==="="&&(e--,t[t.length-2]==="="&&e--);var u=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(e):new Array(e),d=Array.isArray(u)?u:new Uint8Array(u);for(r=0;r<n;r+=4)a=zN[t.charCodeAt(r)],o=zN[t.charCodeAt(r+1)],l=zN[t.charCodeAt(r+2)],c=zN[t.charCodeAt(r+3)],d[s++]=a<<2|o>>4,d[s++]=(o&15)<<4|l>>2,d[s++]=(l&3)<<6|c&63;return u},cot=function(t){for(var e=t.length,n=[],r=0;r<e;r+=2)n.push(t[r+1]<<8|t[r]);return n},uot=function(t){for(var e=t.length,n=[],r=0;r<e;r+=4)n.push(t[r+3]<<24|t[r+2]<<16|t[r+1]<<8|t[r]);return n},ey=5,Sq=11,DL=2,dot=Sq-ey,K1e=65536>>ey,hot=1<<ey,TL=hot-1,fot=1024>>ey,Aot=K1e+fot,pot=Aot,mot=32,got=pot+mot,xot=65536>>Sq,vot=1<<dot,yot=vot-1,Toe=function(t,e,n){return t.slice?t.slice(e,n):new Uint16Array(Array.prototype.slice.call(t,e,n))},bot=function(t,e,n){return t.slice?t.slice(e,n):new Uint32Array(Array.prototype.slice.call(t,e,n))},wot=function(t,e){var n=lot(t),r=Array.isArray(n)?uot(n):new Uint32Array(n),s=Array.isArray(n)?cot(n):new Uint16Array(n),a=24,o=Toe(s,a/2,r[4]/2),l=r[5]===2?Toe(s,(a+r[4])/2):bot(r,Math.ceil((a+r[4])/4));return new jot(r[0],r[1],r[2],r[3],o,l)},jot=function(){function t(e,n,r,s,a,o){this.initialValue=e,this.errorValue=n,this.highStart=r,this.highValueIndex=s,this.index=a,this.data=o}return t.prototype.get=function(e){var n;if(e>=0){if(e<55296||e>56319&&e<=65535)return n=this.index[e>>ey],n=(n<<DL)+(e&TL),this.data[n];if(e<=65535)return n=this.index[K1e+(e-55296>>ey)],n=(n<<DL)+(e&TL),this.data[n];if(e<this.highStart)return n=got-xot+(e>>Sq),n=this.index[n],n+=e>>ey&yot,n=this.index[n],n=(n<<DL)+(e&TL),this.data[n];if(e<=1114111)return this.data[this.highValueIndex]}return this.errorValue},t}(),koe="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Not=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var V4=0;V4<koe.length;V4++)Not[koe.charCodeAt(V4)]=V4;var _ot=1,kL=2,FL=3,Foe=4,Poe=5,Cot=7,Uoe=8,PL=9,UL=10,Ioe=11,Ooe=12,Moe=13,Loe=14,IL=15,Sot=function(t){for(var e=[],n=0,r=t.length;n<r;){var s=t.charCodeAt(n++);if(s>=55296&&s<=56319&&n<r){var a=t.charCodeAt(n++);(a&64512)===56320?e.push(((s&1023)<<10)+(a&1023)+65536):(e.push(s),n--)}else e.push(s)}return e},Eot=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(String.fromCodePoint)return String.fromCodePoint.apply(String,t);var n=t.length;if(!n)return"";for(var r=[],s=-1,a="";++s<n;){var o=t[s];o<=65535?r.push(o):(o-=65536,r.push((o>>10)+55296,o%1024+56320)),(s+1===n||r.length>16384)&&(a+=String.fromCharCode.apply(String,r),r.length=0)}return a},Bot=wot(oot),Su="×",OL="÷",Dot=function(t){return Bot.get(t)},Tot=function(t,e,n){var r=n-2,s=e[r],a=e[n-1],o=e[n];if(a===kL&&o===FL)return Su;if(a===kL||a===FL||a===Foe||o===kL||o===FL||o===Foe)return OL;if(a===Uoe&&[Uoe,PL,Ioe,Ooe].indexOf(o)!==-1||(a===Ioe||a===PL)&&(o===PL||o===UL)||(a===Ooe||a===UL)&&o===UL||o===Moe||o===Poe||o===Cot||a===_ot)return Su;if(a===Moe&&o===Loe){for(;s===Poe;)s=e[--r];if(s===Loe)return Su}if(a===IL&&o===IL){for(var l=0;s===IL;)l++,s=e[--r];if(l%2===0)return Su}return OL},kot=function(t){var e=Sot(t),n=e.length,r=0,s=0,a=e.map(Dot);return{next:function(){if(r>=n)return{done:!0,value:null};for(var o=Su;r<n&&(o=Tot(e,a,++r))===Su;);if(o!==Su||r===n){var l=Eot.apply(null,e.slice(s,r));return s=r,{value:l,done:!1}}return{done:!0,value:null}}}},Fot=function(t){for(var e=kot(t),n=[],r;!(r=e.next()).done;)r.value&&n.push(r.value.slice());return n},Pot=function(t){var e=123;if(t.createRange){var n=t.createRange();if(n.getBoundingClientRect){var r=t.createElement("boundtest");r.style.height=e+"px",r.style.display="block",t.body.appendChild(r),n.selectNode(r);var s=n.getBoundingClientRect(),a=Math.round(s.height);if(t.body.removeChild(r),a===e)return!0}}return!1},Uot=function(t){var e=t.createElement("boundtest");e.style.width="50px",e.style.display="block",e.style.fontSize="12px",e.style.letterSpacing="0px",e.style.wordSpacing="0px",t.body.appendChild(e);var n=t.createRange();e.innerHTML=typeof"".repeat=="function"?"&#128104;".repeat(10):"";var r=e.firstChild,s=ZF(r.data).map(function(c){return Us(c)}),a=0,o={},l=s.every(function(c,u){n.setStart(r,a),n.setEnd(r,a+c.length);var d=n.getBoundingClientRect();a+=c.length;var h=d.x>o.x||d.y>o.y;return o=d,u===0?!0:h});return t.body.removeChild(e),l},Iot=function(){return typeof new Image().crossOrigin<"u"},Oot=function(){return typeof new XMLHttpRequest().responseType=="string"},Mot=function(t){var e=new Image,n=t.createElement("canvas"),r=n.getContext("2d");if(!r)return!1;e.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{r.drawImage(e,0,0),n.toDataURL()}catch{return!1}return!0},Roe=function(t){return t[0]===0&&t[1]===255&&t[2]===0&&t[3]===255},Lot=function(t){var e=t.createElement("canvas"),n=100;e.width=n,e.height=n;var r=e.getContext("2d");if(!r)return Promise.reject(!1);r.fillStyle="rgb(0, 255, 0)",r.fillRect(0,0,n,n);var s=new Image,a=e.toDataURL();s.src=a;var o=_H(n,n,0,0,s);return r.fillStyle="red",r.fillRect(0,0,n,n),Qoe(o).then(function(l){r.drawImage(l,0,0);var c=r.getImageData(0,0,n,n).data;r.fillStyle="red",r.fillRect(0,0,n,n);var u=t.createElement("div");return u.style.backgroundImage="url("+a+")",u.style.height=n+"px",Roe(c)?Qoe(_H(n,n,0,0,u)):Promise.reject(!1)}).then(function(l){return r.drawImage(l,0,0),Roe(r.getImageData(0,0,n,n).data)}).catch(function(){return!1})},_H=function(t,e,n,r,s){var a="http://www.w3.org/2000/svg",o=document.createElementNS(a,"svg"),l=document.createElementNS(a,"foreignObject");return o.setAttributeNS(null,"width",t.toString()),o.setAttributeNS(null,"height",e.toString()),l.setAttributeNS(null,"width","100%"),l.setAttributeNS(null,"height","100%"),l.setAttributeNS(null,"x",n.toString()),l.setAttributeNS(null,"y",r.toString()),l.setAttributeNS(null,"externalResourcesRequired","true"),o.appendChild(l),l.appendChild(s),o},Qoe=function(t){return new Promise(function(e,n){var r=new Image;r.onload=function(){return e(r)},r.onerror=n,r.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(t))})},ho={get SUPPORT_RANGE_BOUNDS(){var t=Pot(document);return Object.defineProperty(ho,"SUPPORT_RANGE_BOUNDS",{value:t}),t},get SUPPORT_WORD_BREAKING(){var t=ho.SUPPORT_RANGE_BOUNDS&&Uot(document);return Object.defineProperty(ho,"SUPPORT_WORD_BREAKING",{value:t}),t},get SUPPORT_SVG_DRAWING(){var t=Mot(document);return Object.defineProperty(ho,"SUPPORT_SVG_DRAWING",{value:t}),t},get SUPPORT_FOREIGNOBJECT_DRAWING(){var t=typeof Array.from=="function"&&typeof window.fetch=="function"?Lot(document):Promise.resolve(!1);return Object.defineProperty(ho,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:t}),t},get SUPPORT_CORS_IMAGES(){var t=Iot();return Object.defineProperty(ho,"SUPPORT_CORS_IMAGES",{value:t}),t},get SUPPORT_RESPONSE_TYPE(){var t=Oot();return Object.defineProperty(ho,"SUPPORT_RESPONSE_TYPE",{value:t}),t},get SUPPORT_CORS_XHR(){var t="withCredentials"in new XMLHttpRequest;return Object.defineProperty(ho,"SUPPORT_CORS_XHR",{value:t}),t},get SUPPORT_NATIVE_TEXT_SEGMENTATION(){var t=!!(typeof Intl<"u"&&Intl.Segmenter);return Object.defineProperty(ho,"SUPPORT_NATIVE_TEXT_SEGMENTATION",{value:t}),t}},g_=function(){function t(e,n){this.text=e,this.bounds=n}return t}(),Rot=function(t,e,n,r){var s=zot(e,n),a=[],o=0;return s.forEach(function(l){if(n.textDecorationLine.length||l.trim().length>0)if(ho.SUPPORT_RANGE_BOUNDS){var c=Hoe(r,o,l.length).getClientRects();if(c.length>1){var u=Eq(l),d=0;u.forEach(function(f){a.push(new g_(f,Ip.fromDOMRectList(t,Hoe(r,d+o,f.length).getClientRects()))),d+=f.length})}else a.push(new g_(l,Ip.fromDOMRectList(t,c)))}else{var h=r.splitText(l.length);a.push(new g_(l,Qot(t,r))),r=h}else ho.SUPPORT_RANGE_BOUNDS||(r=r.splitText(l.length));o+=l.length}),a},Qot=function(t,e){var n=e.ownerDocument;if(n){var r=n.createElement("html2canvaswrapper");r.appendChild(e.cloneNode(!0));var s=e.parentNode;if(s){s.replaceChild(r,e);var a=JF(t,r);return r.firstChild&&s.replaceChild(r.firstChild,r),a}}return Ip.EMPTY},Hoe=function(t,e,n){var r=t.ownerDocument;if(!r)throw new Error("Node has no owner document");var s=r.createRange();return s.setStart(t,e),s.setEnd(t,e+n),s},Eq=function(t){if(ho.SUPPORT_NATIVE_TEXT_SEGMENTATION){var e=new Intl.Segmenter(void 0,{granularity:"grapheme"});return Array.from(e.segment(t)).map(function(n){return n.segment})}return Fot(t)},Hot=function(t,e){if(ho.SUPPORT_NATIVE_TEXT_SEGMENTATION){var n=new Intl.Segmenter(void 0,{granularity:"word"});return Array.from(n.segment(t)).map(function(r){return r.segment})}return Wot(t,e)},zot=function(t,e){return e.letterSpacing!==0?Eq(t):Hot(t,e)},$ot=[32,160,4961,65792,65793,4153,4241],Wot=function(t,e){for(var n=xit(t,{lineBreak:e.lineBreak,wordBreak:e.overflowWrap==="break-word"?"break-word":e.wordBreak}),r=[],s,a=function(){if(s.value){var o=s.value.slice(),l=ZF(o),c="";l.forEach(function(u){$ot.indexOf(u)===-1?c+=Us(u):(c.length&&r.push(c),r.push(Us(u)),c="")}),c.length&&r.push(c)}};!(s=n.next()).done;)a();return r},qot=function(){function t(e,n,r){this.text=Vot(n.data,r.textTransform),this.textBounds=Rot(e,this.text,r,n)}return t}(),Vot=function(t,e){switch(e){case 1:return t.toLowerCase();case 3:return t.replace(Kot,Got);case 2:return t.toUpperCase();default:return t}},Kot=/(^|\s|:|-|\(|\))([a-z])/g,Got=function(t,e,n){return t.length>0?e+n.toUpperCase():t},G1e=function(t){wh(e,t);function e(n,r){var s=t.call(this,n,r)||this;return s.src=r.currentSrc||r.src,s.intrinsicWidth=r.naturalWidth,s.intrinsicHeight=r.naturalHeight,s.context.cache.addImage(s.src),s}return e}($f),X1e=function(t){wh(e,t);function e(n,r){var s=t.call(this,n,r)||this;return s.canvas=r,s.intrinsicWidth=r.width,s.intrinsicHeight=r.height,s}return e}($f),Y1e=function(t){wh(e,t);function e(n,r){var s=t.call(this,n,r)||this,a=new XMLSerializer,o=JF(n,r);return r.setAttribute("width",o.width+"px"),r.setAttribute("height",o.height+"px"),s.svg="data:image/svg+xml,"+encodeURIComponent(a.serializeToString(r)),s.intrinsicWidth=r.width.baseVal.value,s.intrinsicHeight=r.height.baseVal.value,s.context.cache.addImage(s.svg),s}return e}($f),J1e=function(t){wh(e,t);function e(n,r){var s=t.call(this,n,r)||this;return s.value=r.value,s}return e}($f),CH=function(t){wh(e,t);function e(n,r){var s=t.call(this,n,r)||this;return s.start=r.start,s.reversed=typeof r.reversed=="boolean"&&r.reversed===!0,s}return e}($f),Xot=[{type:15,flags:0,unit:"px",number:3}],Yot=[{type:16,flags:0,number:50}],Jot=function(t){return t.width>t.height?new Ip(t.left+(t.width-t.height)/2,t.top,t.height,t.height):t.width<t.height?new Ip(t.left,t.top+(t.height-t.width)/2,t.width,t.width):t},Zot=function(t){var e=t.type===elt?new Array(t.value.length+1).join("•"):t.value;return e.length===0?t.placeholder||"":e},xT="checkbox",vT="radio",elt="password",zoe=707406591,Bq=function(t){wh(e,t);function e(n,r){var s=t.call(this,n,r)||this;switch(s.type=r.type.toLowerCase(),s.checked=r.checked,s.value=Zot(r),(s.type===xT||s.type===vT)&&(s.styles.backgroundColor=3739148031,s.styles.borderTopColor=s.styles.borderRightColor=s.styles.borderBottomColor=s.styles.borderLeftColor=2779096575,s.styles.borderTopWidth=s.styles.borderRightWidth=s.styles.borderBottomWidth=s.styles.borderLeftWidth=1,s.styles.borderTopStyle=s.styles.borderRightStyle=s.styles.borderBottomStyle=s.styles.borderLeftStyle=1,s.styles.backgroundClip=[0],s.styles.backgroundOrigin=[0],s.bounds=Jot(s.bounds)),s.type){case xT:s.styles.borderTopRightRadius=s.styles.borderTopLeftRadius=s.styles.borderBottomRightRadius=s.styles.borderBottomLeftRadius=Xot;break;case vT:s.styles.borderTopRightRadius=s.styles.borderTopLeftRadius=s.styles.borderBottomRightRadius=s.styles.borderBottomLeftRadius=Yot;break}return s}return e}($f),Z1e=function(t){wh(e,t);function e(n,r){var s=t.call(this,n,r)||this,a=r.options[r.selectedIndex||0];return s.value=a&&a.text||"",s}return e}($f),ewe=function(t){wh(e,t);function e(n,r){var s=t.call(this,n,r)||this;return s.value=r.value,s}return e}($f),twe=function(t){wh(e,t);function e(n,r){var s=t.call(this,n,r)||this;s.src=r.src,s.width=parseInt(r.width,10)||0,s.height=parseInt(r.height,10)||0,s.backgroundColor=s.styles.backgroundColor;try{if(r.contentWindow&&r.contentWindow.document&&r.contentWindow.document.documentElement){s.tree=rwe(n,r.contentWindow.document.documentElement);var a=r.contentWindow.document.documentElement?p_(n,getComputedStyle(r.contentWindow.document.documentElement).backgroundColor):vp.TRANSPARENT,o=r.contentWindow.document.body?p_(n,getComputedStyle(r.contentWindow.document.body).backgroundColor):vp.TRANSPARENT;s.backgroundColor=Vg(a)?Vg(o)?s.styles.backgroundColor:o:a}}catch{}return s}return e}($f),tlt=["OL","UL","MENU"],bD=function(t,e,n,r){for(var s=e.firstChild,a=void 0;s;s=a)if(a=s.nextSibling,iwe(s)&&s.data.trim().length>0)n.textNodes.push(new qot(t,s,n.styles));else if(u1(s))if(lwe(s)&&s.assignedNodes)s.assignedNodes().forEach(function(l){return bD(t,l,n,r)});else{var o=nwe(t,s);o.styles.isVisible()&&(nlt(s,o,r)?o.flags|=4:rlt(o.styles)&&(o.flags|=2),tlt.indexOf(s.tagName)!==-1&&(o.flags|=8),n.elements.push(o),s.slot,s.shadowRoot?bD(t,s.shadowRoot,o,r):!yT(s)&&!swe(s)&&!bT(s)&&bD(t,s,o,r))}},nwe=function(t,e){return EH(e)?new G1e(t,e):awe(e)?new X1e(t,e):swe(e)?new Y1e(t,e):ilt(e)?new J1e(t,e):slt(e)?new CH(t,e):alt(e)?new Bq(t,e):bT(e)?new Z1e(t,e):yT(e)?new ewe(t,e):owe(e)?new twe(t,e):new $f(t,e)},rwe=function(t,e){var n=nwe(t,e);return n.flags|=4,bD(t,e,n,n),n},nlt=function(t,e,n){return e.styles.isPositionedWithZIndex()||e.styles.opacity<1||e.styles.isTransformed()||Dq(t)&&n.styles.isTransparent()},rlt=function(t){return t.isPositioned()||t.isFloating()},iwe=function(t){return t.nodeType===Node.TEXT_NODE},u1=function(t){return t.nodeType===Node.ELEMENT_NODE},SH=function(t){return u1(t)&&typeof t.style<"u"&&!wD(t)},wD=function(t){return typeof t.className=="object"},ilt=function(t){return t.tagName==="LI"},slt=function(t){return t.tagName==="OL"},alt=function(t){return t.tagName==="INPUT"},olt=function(t){return t.tagName==="HTML"},swe=function(t){return t.tagName==="svg"},Dq=function(t){return t.tagName==="BODY"},awe=function(t){return t.tagName==="CANVAS"},$oe=function(t){return t.tagName==="VIDEO"},EH=function(t){return t.tagName==="IMG"},owe=function(t){return t.tagName==="IFRAME"},Woe=function(t){return t.tagName==="STYLE"},llt=function(t){return t.tagName==="SCRIPT"},yT=function(t){return t.tagName==="TEXTAREA"},bT=function(t){return t.tagName==="SELECT"},lwe=function(t){return t.tagName==="SLOT"},qoe=function(t){return t.tagName.indexOf("-")>0},clt=function(){function t(){this.counters={}}return t.prototype.getCounterValue=function(e){var n=this.counters[e];return n&&n.length?n[n.length-1]:1},t.prototype.getCounterValues=function(e){var n=this.counters[e];return n||[]},t.prototype.pop=function(e){var n=this;e.forEach(function(r){return n.counters[r].pop()})},t.prototype.parse=function(e){var n=this,r=e.counterIncrement,s=e.counterReset,a=!0;r!==null&&r.forEach(function(l){var c=n.counters[l.counter];c&&l.increment!==0&&(a=!1,c.length||c.push(1),c[Math.max(0,c.length-1)]+=l.increment)});var o=[];return a&&s.forEach(function(l){var c=n.counters[l.counter];o.push(l.counter),c||(c=n.counters[l.counter]=[]),c.push(l.reset)}),o},t}(),Voe={integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]},Koe={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["Ք","Փ","Ւ","Ց","Ր","Տ","Վ","Ս","Ռ","Ջ","Պ","Չ","Ո","Շ","Ն","Յ","Մ","Ճ","Ղ","Ձ","Հ","Կ","Ծ","Խ","Լ","Ի","Ժ","Թ","Ը","Է","Զ","Ե","Դ","Գ","Բ","Ա"]},ult={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["י׳","ט׳","ח׳","ז׳","ו׳","ה׳","ד׳","ג׳","ב׳","א׳","ת","ש","ר","ק","צ","פ","ע","ס","נ","מ","ל","כ","יט","יח","יז","טז","טו","י","ט","ח","ז","ו","ה","ד","ג","ב","א"]},dlt={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["ჵ","ჰ","ჯ","ჴ","ხ","ჭ","წ","ძ","ც","ჩ","შ","ყ","ღ","ქ","ფ","ჳ","ტ","ს","რ","ჟ","პ","ო","ჲ","ნ","მ","ლ","კ","ი","თ","ჱ","ზ","ვ","ე","დ","გ","ბ","ა"]},kb=function(t,e,n,r,s,a){return t<e||t>n?P5(t,s,a.length>0):r.integers.reduce(function(o,l,c){for(;t>=l;)t-=l,o+=r.values[c];return o},"")+a},cwe=function(t,e,n,r){var s="";do n||t--,s=r(t)+s,t/=e;while(t*e>=e);return s},Ts=function(t,e,n,r,s){var a=n-e+1;return(t<0?"-":"")+(cwe(Math.abs(t),a,r,function(o){return Us(Math.floor(o%a)+e)})+s)},hv=function(t,e,n){n===void 0&&(n=". ");var r=e.length;return cwe(Math.abs(t),r,!1,function(s){return e[Math.floor(s%r)]})+n},Gb=1,Gm=2,Xm=4,$N=8,BA=function(t,e,n,r,s,a){if(t<-9999||t>9999)return P5(t,4,s.length>0);var o=Math.abs(t),l=s;if(o===0)return e[0]+l;for(var c=0;o>0&&c<=4;c++){var u=o%10;u===0&&Aa(a,Gb)&&l!==""?l=e[u]+l:u>1||u===1&&c===0||u===1&&c===1&&Aa(a,Gm)||u===1&&c===1&&Aa(a,Xm)&&t>100||u===1&&c>1&&Aa(a,$N)?l=e[u]+(c>0?n[c-1]:"")+l:u===1&&c>0&&(l=n[c-1]+l),o=Math.floor(o/10)}return(t<0?r:"")+l},Goe="十百千萬",Xoe="拾佰仟萬",Yoe="マイナス",ML="마이너스",P5=function(t,e,n){var r=n?". ":"",s=n?"、":"",a=n?", ":"",o=n?" ":"";switch(e){case 0:return"•"+o;case 1:return"◦"+o;case 2:return"◾"+o;case 5:var l=Ts(t,48,57,!0,r);return l.length<4?"0"+l:l;case 4:return hv(t,"〇一二三四五六七八九",s);case 6:return kb(t,1,3999,Voe,3,r).toLowerCase();case 7:return kb(t,1,3999,Voe,3,r);case 8:return Ts(t,945,969,!1,r);case 9:return Ts(t,97,122,!1,r);case 10:return Ts(t,65,90,!1,r);case 11:return Ts(t,1632,1641,!0,r);case 12:case 49:return kb(t,1,9999,Koe,3,r);case 35:return kb(t,1,9999,Koe,3,r).toLowerCase();case 13:return Ts(t,2534,2543,!0,r);case 14:case 30:return Ts(t,6112,6121,!0,r);case 15:return hv(t,"子丑寅卯辰巳午未申酉戌亥",s);case 16:return hv(t,"甲乙丙丁戊己庚辛壬癸",s);case 17:case 48:return BA(t,"零一二三四五六七八九",Goe,"負",s,Gm|Xm|$N);case 47:return BA(t,"零壹貳參肆伍陸柒捌玖",Xoe,"負",s,Gb|Gm|Xm|$N);case 42:return BA(t,"零一二三四五六七八九",Goe,"负",s,Gm|Xm|$N);case 41:return BA(t,"零壹贰叁肆伍陆柒捌玖",Xoe,"负",s,Gb|Gm|Xm|$N);case 26:return BA(t,"〇一二三四五六七八九","十百千万",Yoe,s,0);case 25:return BA(t,"零壱弐参四伍六七八九","拾百千万",Yoe,s,Gb|Gm|Xm);case 31:return BA(t,"영일이삼사오육칠팔구","십백천만",ML,a,Gb|Gm|Xm);case 33:return BA(t,"零一二三四五六七八九","十百千萬",ML,a,0);case 32:return BA(t,"零壹貳參四五六七八九","拾百千",ML,a,Gb|Gm|Xm);case 18:return Ts(t,2406,2415,!0,r);case 20:return kb(t,1,19999,dlt,3,r);case 21:return Ts(t,2790,2799,!0,r);case 22:return Ts(t,2662,2671,!0,r);case 22:return kb(t,1,10999,ult,3,r);case 23:return hv(t,"あいうえおかきくけこさしすせそたちつてとなにぬねのはひふへほまみむめもやゆよらりるれろわゐゑをん");case 24:return hv(t,"いろはにほへとちりぬるをわかよたれそつねならむうゐのおくやまけふこえてあさきゆめみしゑひもせす");case 27:return Ts(t,3302,3311,!0,r);case 28:return hv(t,"アイウエオカキクケコサシスセソタチツテトナニヌネノハヒフヘホマミムメモヤユヨラリルレロワヰヱヲン",s);case 29:return hv(t,"イロハニホヘトチリヌルヲワカヨタレソツネナラムウヰノオクヤマケフコエテアサキユメミシヱヒモセス",s);case 34:return Ts(t,3792,3801,!0,r);case 37:return Ts(t,6160,6169,!0,r);case 38:return Ts(t,4160,4169,!0,r);case 39:return Ts(t,2918,2927,!0,r);case 40:return Ts(t,1776,1785,!0,r);case 43:return Ts(t,3046,3055,!0,r);case 44:return Ts(t,3174,3183,!0,r);case 45:return Ts(t,3664,3673,!0,r);case 46:return Ts(t,3872,3881,!0,r);case 3:default:return Ts(t,48,57,!0,r)}},uwe="data-html2canvas-ignore",Joe=function(){function t(e,n,r){if(this.context=e,this.options=r,this.scrolledElements=[],this.referenceElement=n,this.counters=new clt,this.quoteDepth=0,!n.ownerDocument)throw new Error("Cloned element does not have an owner document");this.documentElement=this.cloneNode(n.ownerDocument.documentElement,!1)}return t.prototype.toIFrame=function(e,n){var r=this,s=hlt(e,n);if(!s.contentWindow)return Promise.reject("Unable to find iframe window");var a=e.defaultView.pageXOffset,o=e.defaultView.pageYOffset,l=s.contentWindow,c=l.document,u=plt(s).then(function(){return yl(r,void 0,void 0,function(){var d,h;return Mo(this,function(f){switch(f.label){case 0:return this.scrolledElements.forEach(vlt),l&&(l.scrollTo(n.left,n.top),/(iPad|iPhone|iPod)/g.test(navigator.userAgent)&&(l.scrollY!==n.top||l.scrollX!==n.left)&&(this.context.logger.warn("Unable to restore scroll position for cloned document"),this.context.windowBounds=this.context.windowBounds.add(l.scrollX-n.left,l.scrollY-n.top,0,0))),d=this.options.onclone,h=this.clonedReferenceElement,typeof h>"u"?[2,Promise.reject("Error finding the "+this.referenceElement.nodeName+" in the cloned document")]:c.fonts&&c.fonts.ready?[4,c.fonts.ready]:[3,2];case 1:f.sent(),f.label=2;case 2:return/(AppleWebKit)/g.test(navigator.userAgent)?[4,Alt(c)]:[3,4];case 3:f.sent(),f.label=4;case 4:return typeof d=="function"?[2,Promise.resolve().then(function(){return d(c,h)}).then(function(){return s})]:[2,s]}})})});return c.open(),c.write(glt(document.doctype)+"<html></html>"),xlt(this.referenceElement.ownerDocument,a,o),c.replaceChild(c.adoptNode(this.documentElement),c.documentElement),c.close(),u},t.prototype.createElementClone=function(e){if(NH(e,2))debugger;if(awe(e))return this.createCanvasClone(e);if($oe(e))return this.createVideoClone(e);if(Woe(e))return this.createStyleClone(e);var n=e.cloneNode(!1);return EH(n)&&(EH(e)&&e.currentSrc&&e.currentSrc!==e.src&&(n.src=e.currentSrc,n.srcset=""),n.loading==="lazy"&&(n.loading="eager")),qoe(n)?this.createCustomElementClone(n):n},t.prototype.createCustomElementClone=function(e){var n=document.createElement("html2canvascustomelement");return LL(e.style,n),n},t.prototype.createStyleClone=function(e){try{var n=e.sheet;if(n&&n.cssRules){var r=[].slice.call(n.cssRules,0).reduce(function(a,o){return o&&typeof o.cssText=="string"?a+o.cssText:a},""),s=e.cloneNode(!1);return s.textContent=r,s}}catch(a){if(this.context.logger.error("Unable to access cssRules property",a),a.name!=="SecurityError")throw a}return e.cloneNode(!1)},t.prototype.createCanvasClone=function(e){var n;if(this.options.inlineImages&&e.ownerDocument){var r=e.ownerDocument.createElement("img");try{return r.src=e.toDataURL(),r}catch{this.context.logger.info("Unable to inline canvas contents, canvas is tainted",e)}}var s=e.cloneNode(!1);try{s.width=e.width,s.height=e.height;var a=e.getContext("2d"),o=s.getContext("2d");if(o)if(!this.options.allowTaint&&a)o.putImageData(a.getImageData(0,0,e.width,e.height),0,0);else{var l=(n=e.getContext("webgl2"))!==null&&n!==void 0?n:e.getContext("webgl");if(l){var c=l.getContextAttributes();(c==null?void 0:c.preserveDrawingBuffer)===!1&&this.context.logger.warn("Unable to clone WebGL context as it has preserveDrawingBuffer=false",e)}o.drawImage(e,0,0)}return s}catch{this.context.logger.info("Unable to clone canvas as it is tainted",e)}return s},t.prototype.createVideoClone=function(e){var n=e.ownerDocument.createElement("canvas");n.width=e.offsetWidth,n.height=e.offsetHeight;var r=n.getContext("2d");try{return r&&(r.drawImage(e,0,0,n.width,n.height),this.options.allowTaint||r.getImageData(0,0,n.width,n.height)),n}catch{this.context.logger.info("Unable to clone video as it is tainted",e)}var s=e.ownerDocument.createElement("canvas");return s.width=e.offsetWidth,s.height=e.offsetHeight,s},t.prototype.appendChildNode=function(e,n,r){(!u1(n)||!llt(n)&&!n.hasAttribute(uwe)&&(typeof this.options.ignoreElements!="function"||!this.options.ignoreElements(n)))&&(!this.options.copyStyles||!u1(n)||!Woe(n))&&e.appendChild(this.cloneNode(n,r))},t.prototype.cloneChildNodes=function(e,n,r){for(var s=this,a=e.shadowRoot?e.shadowRoot.firstChild:e.firstChild;a;a=a.nextSibling)if(u1(a)&&lwe(a)&&typeof a.assignedNodes=="function"){var o=a.assignedNodes();o.length&&o.forEach(function(l){return s.appendChildNode(n,l,r)})}else this.appendChildNode(n,a,r)},t.prototype.cloneNode=function(e,n){if(iwe(e))return document.createTextNode(e.data);if(!e.ownerDocument)return e.cloneNode(!1);var r=e.ownerDocument.defaultView;if(r&&u1(e)&&(SH(e)||wD(e))){var s=this.createElementClone(e);s.style.transitionProperty="none";var a=r.getComputedStyle(e),o=r.getComputedStyle(e,":before"),l=r.getComputedStyle(e,":after");this.referenceElement===e&&SH(s)&&(this.clonedReferenceElement=s),Dq(s)&&wlt(s);var c=this.counters.parse(new Boe(this.context,a)),u=this.resolvePseudoContent(e,s,o,x_.BEFORE);qoe(e)&&(n=!0),$oe(e)||this.cloneChildNodes(e,s,n),u&&s.insertBefore(u,s.firstChild);var d=this.resolvePseudoContent(e,s,l,x_.AFTER);return d&&s.appendChild(d),this.counters.pop(c),(a&&(this.options.copyStyles||wD(e))&&!owe(e)||n)&&LL(a,s),(e.scrollTop!==0||e.scrollLeft!==0)&&this.scrolledElements.push([s,e.scrollLeft,e.scrollTop]),(yT(e)||bT(e))&&(yT(s)||bT(s))&&(s.value=e.value),s}return e.cloneNode(!1)},t.prototype.resolvePseudoContent=function(e,n,r,s){var a=this;if(r){var o=r.content,l=n.ownerDocument;if(!(!l||!o||o==="none"||o==="-moz-alt-content"||r.display==="none")){this.counters.parse(new Boe(this.context,r));var c=new iot(this.context,r),u=l.createElement("html2canvaspseudoelement");LL(r,u),c.content.forEach(function(h){if(h.type===0)u.appendChild(l.createTextNode(h.value));else if(h.type===22){var f=l.createElement("img");f.src=h.value,f.style.opacity="1",u.appendChild(f)}else if(h.type===18){if(h.name==="attr"){var A=h.values.filter(oi);A.length&&u.appendChild(l.createTextNode(e.getAttribute(A[0].value)||""))}else if(h.name==="counter"){var v=h.values.filter(C2),p=v[0],m=v[1];if(p&&oi(p)){var g=a.counters.getCounterValue(p.value),x=m&&oi(m)?jH.parse(a.context,m.value):3;u.appendChild(l.createTextNode(P5(g,x,!1)))}}else if(h.name==="counters"){var b=h.values.filter(C2),p=b[0],j=b[1],m=b[2];if(p&&oi(p)){var N=a.counters.getCounterValues(p.value),_=m&&oi(m)?jH.parse(a.context,m.value):3,C=j&&j.type===0?j.value:"",k=N.map(function(I){return P5(I,_,!1)}).join(C);u.appendChild(l.createTextNode(k))}}}else if(h.type===20)switch(h.value){case"open-quote":u.appendChild(l.createTextNode(Eoe(c.quotes,a.quoteDepth++,!0)));break;case"close-quote":u.appendChild(l.createTextNode(Eoe(c.quotes,--a.quoteDepth,!1)));break;default:u.appendChild(l.createTextNode(h.value))}}),u.className=BH+" "+DH;var d=s===x_.BEFORE?" "+BH:" "+DH;return wD(n)?n.className.baseValue+=d:n.className+=d,u}}},t.destroy=function(e){return e.parentNode?(e.parentNode.removeChild(e),!0):!1},t}(),x_;(function(t){t[t.BEFORE=0]="BEFORE",t[t.AFTER=1]="AFTER"})(x_||(x_={}));var hlt=function(t,e){var n=t.createElement("iframe");return n.className="html2canvas-container",n.style.visibility="hidden",n.style.position="fixed",n.style.left="-10000px",n.style.top="0px",n.style.border="0",n.width=e.width.toString(),n.height=e.height.toString(),n.scrolling="no",n.setAttribute(uwe,"true"),t.body.appendChild(n),n},flt=function(t){return new Promise(function(e){if(t.complete){e();return}if(!t.src){e();return}t.onload=e,t.onerror=e})},Alt=function(t){return Promise.all([].slice.call(t.images,0).map(flt))},plt=function(t){return new Promise(function(e,n){var r=t.contentWindow;if(!r)return n("No window assigned for iframe");var s=r.document;r.onload=t.onload=function(){r.onload=t.onload=null;var a=setInterval(function(){s.body.childNodes.length>0&&s.readyState==="complete"&&(clearInterval(a),e(t))},50)}})},mlt=["all","d","content"],LL=function(t,e){for(var n=t.length-1;n>=0;n--){var r=t.item(n);mlt.indexOf(r)===-1&&e.style.setProperty(r,t.getPropertyValue(r))}return e},glt=function(t){var e="";return t&&(e+="<!DOCTYPE ",t.name&&(e+=t.name),t.internalSubset&&(e+=t.internalSubset),t.publicId&&(e+='"'+t.publicId+'"'),t.systemId&&(e+='"'+t.systemId+'"'),e+=">"),e},xlt=function(t,e,n){t&&t.defaultView&&(e!==t.defaultView.pageXOffset||n!==t.defaultView.pageYOffset)&&t.defaultView.scrollTo(e,n)},vlt=function(t){var e=t[0],n=t[1],r=t[2];e.scrollLeft=n,e.scrollTop=r},ylt=":before",blt=":after",BH="___html2canvas___pseudoelement_before",DH="___html2canvas___pseudoelement_after",Zoe=`{
    content: "" !important;
    display: none !important;
}`,wlt=function(t){jlt(t,"."+BH+ylt+Zoe+`
         .`+DH+blt+Zoe)},jlt=function(t,e){var n=t.ownerDocument;if(n){var r=n.createElement("style");r.textContent=e,t.appendChild(r)}},dwe=function(){function t(){}return t.getOrigin=function(e){var n=t._link;return n?(n.href=e,n.href=n.href,n.protocol+n.hostname+n.port):"about:blank"},t.isSameOrigin=function(e){return t.getOrigin(e)===t._origin},t.setContext=function(e){t._link=e.document.createElement("a"),t._origin=t.getOrigin(e.location.href)},t._origin="about:blank",t}(),Nlt=function(){function t(e,n){this.context=e,this._options=n,this._cache={}}return t.prototype.addImage=function(e){var n=Promise.resolve();return this.has(e)||(QL(e)||Elt(e))&&(this._cache[e]=this.loadImage(e)).catch(function(){}),n},t.prototype.match=function(e){return this._cache[e]},t.prototype.loadImage=function(e){return yl(this,void 0,void 0,function(){var n,r,s,a,o=this;return Mo(this,function(l){switch(l.label){case 0:return n=dwe.isSameOrigin(e),r=!RL(e)&&this._options.useCORS===!0&&ho.SUPPORT_CORS_IMAGES&&!n,s=!RL(e)&&!n&&!QL(e)&&typeof this._options.proxy=="string"&&ho.SUPPORT_CORS_XHR&&!r,!n&&this._options.allowTaint===!1&&!RL(e)&&!QL(e)&&!s&&!r?[2]:(a=e,s?[4,this.proxy(a)]:[3,2]);case 1:a=l.sent(),l.label=2;case 2:return this.context.logger.debug("Added image "+e.substring(0,256)),[4,new Promise(function(c,u){var d=new Image;d.onload=function(){return c(d)},d.onerror=u,(Blt(a)||r)&&(d.crossOrigin="anonymous"),d.src=a,d.complete===!0&&setTimeout(function(){return c(d)},500),o._options.imageTimeout>0&&setTimeout(function(){return u("Timed out ("+o._options.imageTimeout+"ms) loading image")},o._options.imageTimeout)})];case 3:return[2,l.sent()]}})})},t.prototype.has=function(e){return typeof this._cache[e]<"u"},t.prototype.keys=function(){return Promise.resolve(Object.keys(this._cache))},t.prototype.proxy=function(e){var n=this,r=this._options.proxy;if(!r)throw new Error("No proxy defined");var s=e.substring(0,256);return new Promise(function(a,o){var l=ho.SUPPORT_RESPONSE_TYPE?"blob":"text",c=new XMLHttpRequest;c.onload=function(){if(c.status===200)if(l==="text")a(c.response);else{var h=new FileReader;h.addEventListener("load",function(){return a(h.result)},!1),h.addEventListener("error",function(f){return o(f)},!1),h.readAsDataURL(c.response)}else o("Failed to proxy resource "+s+" with status code "+c.status)},c.onerror=o;var u=r.indexOf("?")>-1?"&":"?";if(c.open("GET",""+r+u+"url="+encodeURIComponent(e)+"&responseType="+l),l!=="text"&&c instanceof XMLHttpRequest&&(c.responseType=l),n._options.imageTimeout){var d=n._options.imageTimeout;c.timeout=d,c.ontimeout=function(){return o("Timed out ("+d+"ms) proxying "+s)}}c.send()})},t}(),_lt=/^data:image\/svg\+xml/i,Clt=/^data:image\/.*;base64,/i,Slt=/^data:image\/.*/i,Elt=function(t){return ho.SUPPORT_SVG_DRAWING||!Dlt(t)},RL=function(t){return Slt.test(t)},Blt=function(t){return Clt.test(t)},QL=function(t){return t.substr(0,4)==="blob"},Dlt=function(t){return t.substr(-3).toLowerCase()==="svg"||_lt.test(t)},Wt=function(){function t(e,n){this.type=0,this.x=e,this.y=n}return t.prototype.add=function(e,n){return new t(this.x+e,this.y+n)},t}(),Fb=function(t,e,n){return new Wt(t.x+(e.x-t.x)*n,t.y+(e.y-t.y)*n)},K4=function(){function t(e,n,r,s){this.type=1,this.start=e,this.startControl=n,this.endControl=r,this.end=s}return t.prototype.subdivide=function(e,n){var r=Fb(this.start,this.startControl,e),s=Fb(this.startControl,this.endControl,e),a=Fb(this.endControl,this.end,e),o=Fb(r,s,e),l=Fb(s,a,e),c=Fb(o,l,e);return n?new t(this.start,r,o,c):new t(c,l,a,this.end)},t.prototype.add=function(e,n){return new t(this.start.add(e,n),this.startControl.add(e,n),this.endControl.add(e,n),this.end.add(e,n))},t.prototype.reverse=function(){return new t(this.end,this.endControl,this.startControl,this.start)},t}(),Uu=function(t){return t.type===1},Tlt=function(){function t(e){var n=e.styles,r=e.bounds,s=HN(n.borderTopLeftRadius,r.width,r.height),a=s[0],o=s[1],l=HN(n.borderTopRightRadius,r.width,r.height),c=l[0],u=l[1],d=HN(n.borderBottomRightRadius,r.width,r.height),h=d[0],f=d[1],A=HN(n.borderBottomLeftRadius,r.width,r.height),v=A[0],p=A[1],m=[];m.push((a+c)/r.width),m.push((v+h)/r.width),m.push((o+p)/r.height),m.push((u+f)/r.height);var g=Math.max.apply(Math,m);g>1&&(a/=g,o/=g,c/=g,u/=g,h/=g,f/=g,v/=g,p/=g);var x=r.width-c,b=r.height-f,j=r.width-h,N=r.height-p,_=n.borderTopWidth,C=n.borderRightWidth,k=n.borderBottomWidth,T=n.borderLeftWidth,O=Di(n.paddingTop,e.bounds.width),I=Di(n.paddingRight,e.bounds.width),F=Di(n.paddingBottom,e.bounds.width),M=Di(n.paddingLeft,e.bounds.width);this.topLeftBorderDoubleOuterBox=a>0||o>0?Ki(r.left+T/3,r.top+_/3,a-T/3,o-_/3,qr.TOP_LEFT):new Wt(r.left+T/3,r.top+_/3),this.topRightBorderDoubleOuterBox=a>0||o>0?Ki(r.left+x,r.top+_/3,c-C/3,u-_/3,qr.TOP_RIGHT):new Wt(r.left+r.width-C/3,r.top+_/3),this.bottomRightBorderDoubleOuterBox=h>0||f>0?Ki(r.left+j,r.top+b,h-C/3,f-k/3,qr.BOTTOM_RIGHT):new Wt(r.left+r.width-C/3,r.top+r.height-k/3),this.bottomLeftBorderDoubleOuterBox=v>0||p>0?Ki(r.left+T/3,r.top+N,v-T/3,p-k/3,qr.BOTTOM_LEFT):new Wt(r.left+T/3,r.top+r.height-k/3),this.topLeftBorderDoubleInnerBox=a>0||o>0?Ki(r.left+T*2/3,r.top+_*2/3,a-T*2/3,o-_*2/3,qr.TOP_LEFT):new Wt(r.left+T*2/3,r.top+_*2/3),this.topRightBorderDoubleInnerBox=a>0||o>0?Ki(r.left+x,r.top+_*2/3,c-C*2/3,u-_*2/3,qr.TOP_RIGHT):new Wt(r.left+r.width-C*2/3,r.top+_*2/3),this.bottomRightBorderDoubleInnerBox=h>0||f>0?Ki(r.left+j,r.top+b,h-C*2/3,f-k*2/3,qr.BOTTOM_RIGHT):new Wt(r.left+r.width-C*2/3,r.top+r.height-k*2/3),this.bottomLeftBorderDoubleInnerBox=v>0||p>0?Ki(r.left+T*2/3,r.top+N,v-T*2/3,p-k*2/3,qr.BOTTOM_LEFT):new Wt(r.left+T*2/3,r.top+r.height-k*2/3),this.topLeftBorderStroke=a>0||o>0?Ki(r.left+T/2,r.top+_/2,a-T/2,o-_/2,qr.TOP_LEFT):new Wt(r.left+T/2,r.top+_/2),this.topRightBorderStroke=a>0||o>0?Ki(r.left+x,r.top+_/2,c-C/2,u-_/2,qr.TOP_RIGHT):new Wt(r.left+r.width-C/2,r.top+_/2),this.bottomRightBorderStroke=h>0||f>0?Ki(r.left+j,r.top+b,h-C/2,f-k/2,qr.BOTTOM_RIGHT):new Wt(r.left+r.width-C/2,r.top+r.height-k/2),this.bottomLeftBorderStroke=v>0||p>0?Ki(r.left+T/2,r.top+N,v-T/2,p-k/2,qr.BOTTOM_LEFT):new Wt(r.left+T/2,r.top+r.height-k/2),this.topLeftBorderBox=a>0||o>0?Ki(r.left,r.top,a,o,qr.TOP_LEFT):new Wt(r.left,r.top),this.topRightBorderBox=c>0||u>0?Ki(r.left+x,r.top,c,u,qr.TOP_RIGHT):new Wt(r.left+r.width,r.top),this.bottomRightBorderBox=h>0||f>0?Ki(r.left+j,r.top+b,h,f,qr.BOTTOM_RIGHT):new Wt(r.left+r.width,r.top+r.height),this.bottomLeftBorderBox=v>0||p>0?Ki(r.left,r.top+N,v,p,qr.BOTTOM_LEFT):new Wt(r.left,r.top+r.height),this.topLeftPaddingBox=a>0||o>0?Ki(r.left+T,r.top+_,Math.max(0,a-T),Math.max(0,o-_),qr.TOP_LEFT):new Wt(r.left+T,r.top+_),this.topRightPaddingBox=c>0||u>0?Ki(r.left+Math.min(x,r.width-C),r.top+_,x>r.width+C?0:Math.max(0,c-C),Math.max(0,u-_),qr.TOP_RIGHT):new Wt(r.left+r.width-C,r.top+_),this.bottomRightPaddingBox=h>0||f>0?Ki(r.left+Math.min(j,r.width-T),r.top+Math.min(b,r.height-k),Math.max(0,h-C),Math.max(0,f-k),qr.BOTTOM_RIGHT):new Wt(r.left+r.width-C,r.top+r.height-k),this.bottomLeftPaddingBox=v>0||p>0?Ki(r.left+T,r.top+Math.min(N,r.height-k),Math.max(0,v-T),Math.max(0,p-k),qr.BOTTOM_LEFT):new Wt(r.left+T,r.top+r.height-k),this.topLeftContentBox=a>0||o>0?Ki(r.left+T+M,r.top+_+O,Math.max(0,a-(T+M)),Math.max(0,o-(_+O)),qr.TOP_LEFT):new Wt(r.left+T+M,r.top+_+O),this.topRightContentBox=c>0||u>0?Ki(r.left+Math.min(x,r.width+T+M),r.top+_+O,x>r.width+T+M?0:c-T+M,u-(_+O),qr.TOP_RIGHT):new Wt(r.left+r.width-(C+I),r.top+_+O),this.bottomRightContentBox=h>0||f>0?Ki(r.left+Math.min(j,r.width-(T+M)),r.top+Math.min(b,r.height+_+O),Math.max(0,h-(C+I)),f-(k+F),qr.BOTTOM_RIGHT):new Wt(r.left+r.width-(C+I),r.top+r.height-(k+F)),this.bottomLeftContentBox=v>0||p>0?Ki(r.left+T+M,r.top+N,Math.max(0,v-(T+M)),p-(k+F),qr.BOTTOM_LEFT):new Wt(r.left+T+M,r.top+r.height-(k+F))}return t}(),qr;(function(t){t[t.TOP_LEFT=0]="TOP_LEFT",t[t.TOP_RIGHT=1]="TOP_RIGHT",t[t.BOTTOM_RIGHT=2]="BOTTOM_RIGHT",t[t.BOTTOM_LEFT=3]="BOTTOM_LEFT"})(qr||(qr={}));var Ki=function(t,e,n,r,s){var a=4*((Math.sqrt(2)-1)/3),o=n*a,l=r*a,c=t+n,u=e+r;switch(s){case qr.TOP_LEFT:return new K4(new Wt(t,u),new Wt(t,u-l),new Wt(c-o,e),new Wt(c,e));case qr.TOP_RIGHT:return new K4(new Wt(t,e),new Wt(t+o,e),new Wt(c,u-l),new Wt(c,u));case qr.BOTTOM_RIGHT:return new K4(new Wt(c,e),new Wt(c,e+l),new Wt(t+o,u),new Wt(t,u));case qr.BOTTOM_LEFT:default:return new K4(new Wt(c,u),new Wt(c-o,u),new Wt(t,e+l),new Wt(t,e))}},wT=function(t){return[t.topLeftBorderBox,t.topRightBorderBox,t.bottomRightBorderBox,t.bottomLeftBorderBox]},klt=function(t){return[t.topLeftContentBox,t.topRightContentBox,t.bottomRightContentBox,t.bottomLeftContentBox]},jT=function(t){return[t.topLeftPaddingBox,t.topRightPaddingBox,t.bottomRightPaddingBox,t.bottomLeftPaddingBox]},Flt=function(){function t(e,n,r){this.offsetX=e,this.offsetY=n,this.matrix=r,this.type=0,this.target=6}return t}(),G4=function(){function t(e,n){this.path=e,this.target=n,this.type=1}return t}(),Plt=function(){function t(e){this.opacity=e,this.type=2,this.target=6}return t}(),Ult=function(t){return t.type===0},hwe=function(t){return t.type===1},Ilt=function(t){return t.type===2},ele=function(t,e){return t.length===e.length?t.some(function(n,r){return n===e[r]}):!1},Olt=function(t,e,n,r,s){return t.map(function(a,o){switch(o){case 0:return a.add(e,n);case 1:return a.add(e+r,n);case 2:return a.add(e+r,n+s);case 3:return a.add(e,n+s)}return a})},fwe=function(){function t(e){this.element=e,this.inlineLevel=[],this.nonInlineLevel=[],this.negativeZIndex=[],this.zeroOrAutoZIndexOrTransformedOrOpacity=[],this.positiveZIndex=[],this.nonPositionedFloats=[],this.nonPositionedInlineLevel=[]}return t}(),Awe=function(){function t(e,n){if(this.container=e,this.parent=n,this.effects=[],this.curves=new Tlt(this.container),this.container.styles.opacity<1&&this.effects.push(new Plt(this.container.styles.opacity)),this.container.styles.transform!==null){var r=this.container.bounds.left+this.container.styles.transformOrigin[0].number,s=this.container.bounds.top+this.container.styles.transformOrigin[1].number,a=this.container.styles.transform;this.effects.push(new Flt(r,s,a))}if(this.container.styles.overflowX!==0){var o=wT(this.curves),l=jT(this.curves);ele(o,l)?this.effects.push(new G4(o,6)):(this.effects.push(new G4(o,2)),this.effects.push(new G4(l,4)))}}return t.prototype.getEffects=function(e){for(var n=[2,3].indexOf(this.container.styles.position)===-1,r=this.parent,s=this.effects.slice(0);r;){var a=r.effects.filter(function(c){return!hwe(c)});if(n||r.container.styles.position!==0||!r.parent){if(s.unshift.apply(s,a),n=[2,3].indexOf(r.container.styles.position)===-1,r.container.styles.overflowX!==0){var o=wT(r.curves),l=jT(r.curves);ele(o,l)||s.unshift(new G4(l,6))}}else s.unshift.apply(s,a);r=r.parent}return s.filter(function(c){return Aa(c.target,e)})},t}(),TH=function(t,e,n,r){t.container.elements.forEach(function(s){var a=Aa(s.flags,4),o=Aa(s.flags,2),l=new Awe(s,t);Aa(s.styles.display,2048)&&r.push(l);var c=Aa(s.flags,8)?[]:r;if(a||o){var u=a||s.styles.isPositioned()?n:e,d=new fwe(l);if(s.styles.isPositioned()||s.styles.opacity<1||s.styles.isTransformed()){var h=s.styles.zIndex.order;if(h<0){var f=0;u.negativeZIndex.some(function(v,p){return h>v.element.container.styles.zIndex.order?(f=p,!1):f>0}),u.negativeZIndex.splice(f,0,d)}else if(h>0){var A=0;u.positiveZIndex.some(function(v,p){return h>=v.element.container.styles.zIndex.order?(A=p+1,!1):A>0}),u.positiveZIndex.splice(A,0,d)}else u.zeroOrAutoZIndexOrTransformedOrOpacity.push(d)}else s.styles.isFloating()?u.nonPositionedFloats.push(d):u.nonPositionedInlineLevel.push(d);TH(l,d,a?d:n,c)}else s.styles.isInlineLevel()?e.inlineLevel.push(l):e.nonInlineLevel.push(l),TH(l,e,n,c);Aa(s.flags,8)&&pwe(s,c)})},pwe=function(t,e){for(var n=t instanceof CH?t.start:1,r=t instanceof CH?t.reversed:!1,s=0;s<e.length;s++){var a=e[s];a.container instanceof J1e&&typeof a.container.value=="number"&&a.container.value!==0&&(n=a.container.value),a.listValue=P5(n,a.container.styles.listStyleType,!0),n+=r?-1:1}},Mlt=function(t){var e=new Awe(t,null),n=new fwe(e),r=[];return TH(e,n,n,r),pwe(e.container,r),n},tle=function(t,e){switch(e){case 0:return Hu(t.topLeftBorderBox,t.topLeftPaddingBox,t.topRightBorderBox,t.topRightPaddingBox);case 1:return Hu(t.topRightBorderBox,t.topRightPaddingBox,t.bottomRightBorderBox,t.bottomRightPaddingBox);case 2:return Hu(t.bottomRightBorderBox,t.bottomRightPaddingBox,t.bottomLeftBorderBox,t.bottomLeftPaddingBox);case 3:default:return Hu(t.bottomLeftBorderBox,t.bottomLeftPaddingBox,t.topLeftBorderBox,t.topLeftPaddingBox)}},Llt=function(t,e){switch(e){case 0:return Hu(t.topLeftBorderBox,t.topLeftBorderDoubleOuterBox,t.topRightBorderBox,t.topRightBorderDoubleOuterBox);case 1:return Hu(t.topRightBorderBox,t.topRightBorderDoubleOuterBox,t.bottomRightBorderBox,t.bottomRightBorderDoubleOuterBox);case 2:return Hu(t.bottomRightBorderBox,t.bottomRightBorderDoubleOuterBox,t.bottomLeftBorderBox,t.bottomLeftBorderDoubleOuterBox);case 3:default:return Hu(t.bottomLeftBorderBox,t.bottomLeftBorderDoubleOuterBox,t.topLeftBorderBox,t.topLeftBorderDoubleOuterBox)}},Rlt=function(t,e){switch(e){case 0:return Hu(t.topLeftBorderDoubleInnerBox,t.topLeftPaddingBox,t.topRightBorderDoubleInnerBox,t.topRightPaddingBox);case 1:return Hu(t.topRightBorderDoubleInnerBox,t.topRightPaddingBox,t.bottomRightBorderDoubleInnerBox,t.bottomRightPaddingBox);case 2:return Hu(t.bottomRightBorderDoubleInnerBox,t.bottomRightPaddingBox,t.bottomLeftBorderDoubleInnerBox,t.bottomLeftPaddingBox);case 3:default:return Hu(t.bottomLeftBorderDoubleInnerBox,t.bottomLeftPaddingBox,t.topLeftBorderDoubleInnerBox,t.topLeftPaddingBox)}},Qlt=function(t,e){switch(e){case 0:return X4(t.topLeftBorderStroke,t.topRightBorderStroke);case 1:return X4(t.topRightBorderStroke,t.bottomRightBorderStroke);case 2:return X4(t.bottomRightBorderStroke,t.bottomLeftBorderStroke);case 3:default:return X4(t.bottomLeftBorderStroke,t.topLeftBorderStroke)}},X4=function(t,e){var n=[];return Uu(t)?n.push(t.subdivide(.5,!1)):n.push(t),Uu(e)?n.push(e.subdivide(.5,!0)):n.push(e),n},Hu=function(t,e,n,r){var s=[];return Uu(t)?s.push(t.subdivide(.5,!1)):s.push(t),Uu(n)?s.push(n.subdivide(.5,!0)):s.push(n),Uu(r)?s.push(r.subdivide(.5,!0).reverse()):s.push(r),Uu(e)?s.push(e.subdivide(.5,!1).reverse()):s.push(e),s},mwe=function(t){var e=t.bounds,n=t.styles;return e.add(n.borderLeftWidth,n.borderTopWidth,-(n.borderRightWidth+n.borderLeftWidth),-(n.borderTopWidth+n.borderBottomWidth))},NT=function(t){var e=t.styles,n=t.bounds,r=Di(e.paddingLeft,n.width),s=Di(e.paddingRight,n.width),a=Di(e.paddingTop,n.width),o=Di(e.paddingBottom,n.width);return n.add(r+e.borderLeftWidth,a+e.borderTopWidth,-(e.borderRightWidth+e.borderLeftWidth+r+s),-(e.borderTopWidth+e.borderBottomWidth+a+o))},Hlt=function(t,e){return t===0?e.bounds:t===2?NT(e):mwe(e)},zlt=function(t,e){return t===0?e.bounds:t===2?NT(e):mwe(e)},HL=function(t,e,n){var r=Hlt(Xb(t.styles.backgroundOrigin,e),t),s=zlt(Xb(t.styles.backgroundClip,e),t),a=$lt(Xb(t.styles.backgroundSize,e),n,r),o=a[0],l=a[1],c=HN(Xb(t.styles.backgroundPosition,e),r.width-o,r.height-l),u=Wlt(Xb(t.styles.backgroundRepeat,e),c,a,r,s),d=Math.round(r.left+c[0]),h=Math.round(r.top+c[1]);return[u,d,h,o,l]},Pb=function(t){return oi(t)&&t.value===k1.AUTO},Y4=function(t){return typeof t=="number"},$lt=function(t,e,n){var r=e[0],s=e[1],a=e[2],o=t[0],l=t[1];if(!o)return[0,0];if(Ks(o)&&l&&Ks(l))return[Di(o,n.width),Di(l,n.height)];var c=Y4(a);if(oi(o)&&(o.value===k1.CONTAIN||o.value===k1.COVER)){if(Y4(a)){var u=n.width/n.height;return u<a!=(o.value===k1.COVER)?[n.width,n.width/a]:[n.height*a,n.height]}return[n.width,n.height]}var d=Y4(r),h=Y4(s),f=d||h;if(Pb(o)&&(!l||Pb(l))){if(d&&h)return[r,s];if(!c&&!f)return[n.width,n.height];if(f&&c){var A=d?r:s*a,v=h?s:r/a;return[A,v]}var p=d?r:n.width,m=h?s:n.height;return[p,m]}if(c){var g=0,x=0;return Ks(o)?g=Di(o,n.width):Ks(l)&&(x=Di(l,n.height)),Pb(o)?g=x*a:(!l||Pb(l))&&(x=g/a),[g,x]}var b=null,j=null;if(Ks(o)?b=Di(o,n.width):l&&Ks(l)&&(j=Di(l,n.height)),b!==null&&(!l||Pb(l))&&(j=d&&h?b/r*s:n.height),j!==null&&Pb(o)&&(b=d&&h?j/s*r:n.width),b!==null&&j!==null)return[b,j];throw new Error("Unable to calculate background-size for element")},Xb=function(t,e){var n=t[e];return typeof n>"u"?t[0]:n},Wlt=function(t,e,n,r,s){var a=e[0],o=e[1],l=n[0],c=n[1];switch(t){case 2:return[new Wt(Math.round(r.left),Math.round(r.top+o)),new Wt(Math.round(r.left+r.width),Math.round(r.top+o)),new Wt(Math.round(r.left+r.width),Math.round(c+r.top+o)),new Wt(Math.round(r.left),Math.round(c+r.top+o))];case 3:return[new Wt(Math.round(r.left+a),Math.round(r.top)),new Wt(Math.round(r.left+a+l),Math.round(r.top)),new Wt(Math.round(r.left+a+l),Math.round(r.height+r.top)),new Wt(Math.round(r.left+a),Math.round(r.height+r.top))];case 1:return[new Wt(Math.round(r.left+a),Math.round(r.top+o)),new Wt(Math.round(r.left+a+l),Math.round(r.top+o)),new Wt(Math.round(r.left+a+l),Math.round(r.top+o+c)),new Wt(Math.round(r.left+a),Math.round(r.top+o+c))];default:return[new Wt(Math.round(s.left),Math.round(s.top)),new Wt(Math.round(s.left+s.width),Math.round(s.top)),new Wt(Math.round(s.left+s.width),Math.round(s.height+s.top)),new Wt(Math.round(s.left),Math.round(s.height+s.top))]}},qlt="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",nle="Hidden Text",Vlt=function(){function t(e){this._data={},this._document=e}return t.prototype.parseMetrics=function(e,n){var r=this._document.createElement("div"),s=this._document.createElement("img"),a=this._document.createElement("span"),o=this._document.body;r.style.visibility="hidden",r.style.fontFamily=e,r.style.fontSize=n,r.style.margin="0",r.style.padding="0",r.style.whiteSpace="nowrap",o.appendChild(r),s.src=qlt,s.width=1,s.height=1,s.style.margin="0",s.style.padding="0",s.style.verticalAlign="baseline",a.style.fontFamily=e,a.style.fontSize=n,a.style.margin="0",a.style.padding="0",a.appendChild(this._document.createTextNode(nle)),r.appendChild(a),r.appendChild(s);var l=s.offsetTop-a.offsetTop+2;r.removeChild(a),r.appendChild(this._document.createTextNode(nle)),r.style.lineHeight="normal",s.style.verticalAlign="super";var c=s.offsetTop-r.offsetTop+2;return o.removeChild(r),{baseline:l,middle:c}},t.prototype.getMetrics=function(e,n){var r=e+" "+n;return typeof this._data[r]>"u"&&(this._data[r]=this.parseMetrics(e,n)),this._data[r]},t}(),gwe=function(){function t(e,n){this.context=e,this.options=n}return t}(),Klt=1e4,Glt=function(t){wh(e,t);function e(n,r){var s=t.call(this,n,r)||this;return s._activeEffects=[],s.canvas=r.canvas?r.canvas:document.createElement("canvas"),s.ctx=s.canvas.getContext("2d"),r.canvas||(s.canvas.width=Math.floor(r.width*r.scale),s.canvas.height=Math.floor(r.height*r.scale),s.canvas.style.width=r.width+"px",s.canvas.style.height=r.height+"px"),s.fontMetrics=new Vlt(document),s.ctx.scale(s.options.scale,s.options.scale),s.ctx.translate(-r.x,-r.y),s.ctx.textBaseline="bottom",s._activeEffects=[],s.context.logger.debug("Canvas renderer initialized ("+r.width+"x"+r.height+") with scale "+r.scale),s}return e.prototype.applyEffects=function(n){for(var r=this;this._activeEffects.length;)this.popEffect();n.forEach(function(s){return r.applyEffect(s)})},e.prototype.applyEffect=function(n){this.ctx.save(),Ilt(n)&&(this.ctx.globalAlpha=n.opacity),Ult(n)&&(this.ctx.translate(n.offsetX,n.offsetY),this.ctx.transform(n.matrix[0],n.matrix[1],n.matrix[2],n.matrix[3],n.matrix[4],n.matrix[5]),this.ctx.translate(-n.offsetX,-n.offsetY)),hwe(n)&&(this.path(n.path),this.ctx.clip()),this._activeEffects.push(n)},e.prototype.popEffect=function(){this._activeEffects.pop(),this.ctx.restore()},e.prototype.renderStack=function(n){return yl(this,void 0,void 0,function(){var r;return Mo(this,function(s){switch(s.label){case 0:return r=n.element.container.styles,r.isVisible()?[4,this.renderStackContent(n)]:[3,2];case 1:s.sent(),s.label=2;case 2:return[2]}})})},e.prototype.renderNode=function(n){return yl(this,void 0,void 0,function(){return Mo(this,function(r){switch(r.label){case 0:if(Aa(n.container.flags,16))debugger;return n.container.styles.isVisible()?[4,this.renderNodeBackgroundAndBorders(n)]:[3,3];case 1:return r.sent(),[4,this.renderNodeContent(n)];case 2:r.sent(),r.label=3;case 3:return[2]}})})},e.prototype.renderTextWithLetterSpacing=function(n,r,s){var a=this;if(r===0)this.ctx.fillText(n.text,n.bounds.left,n.bounds.top+s);else{var o=Eq(n.text);o.reduce(function(l,c){return a.ctx.fillText(c,l,n.bounds.top+s),l+a.ctx.measureText(c).width},n.bounds.left)}},e.prototype.createFontStyle=function(n){var r=n.fontVariant.filter(function(o){return o==="normal"||o==="small-caps"}).join(""),s=ect(n.fontFamily).join(", "),a=XS(n.fontSize)?""+n.fontSize.number+n.fontSize.unit:n.fontSize.number+"px";return[[n.fontStyle,r,n.fontWeight,a,s].join(" "),s,a]},e.prototype.renderTextNode=function(n,r){return yl(this,void 0,void 0,function(){var s,a,o,l,c,u,d,h,f=this;return Mo(this,function(A){return s=this.createFontStyle(r),a=s[0],o=s[1],l=s[2],this.ctx.font=a,this.ctx.direction=r.direction===1?"rtl":"ltr",this.ctx.textAlign="left",this.ctx.textBaseline="alphabetic",c=this.fontMetrics.getMetrics(o,l),u=c.baseline,d=c.middle,h=r.paintOrder,n.textBounds.forEach(function(v){h.forEach(function(p){switch(p){case 0:f.ctx.fillStyle=ka(r.color),f.renderTextWithLetterSpacing(v,r.letterSpacing,u);var m=r.textShadow;m.length&&v.text.trim().length&&(m.slice(0).reverse().forEach(function(g){f.ctx.shadowColor=ka(g.color),f.ctx.shadowOffsetX=g.offsetX.number*f.options.scale,f.ctx.shadowOffsetY=g.offsetY.number*f.options.scale,f.ctx.shadowBlur=g.blur.number,f.renderTextWithLetterSpacing(v,r.letterSpacing,u)}),f.ctx.shadowColor="",f.ctx.shadowOffsetX=0,f.ctx.shadowOffsetY=0,f.ctx.shadowBlur=0),r.textDecorationLine.length&&(f.ctx.fillStyle=ka(r.textDecorationColor||r.color),r.textDecorationLine.forEach(function(g){switch(g){case 1:f.ctx.fillRect(v.bounds.left,Math.round(v.bounds.top+u),v.bounds.width,1);break;case 2:f.ctx.fillRect(v.bounds.left,Math.round(v.bounds.top),v.bounds.width,1);break;case 3:f.ctx.fillRect(v.bounds.left,Math.ceil(v.bounds.top+d),v.bounds.width,1);break}}));break;case 1:r.webkitTextStrokeWidth&&v.text.trim().length&&(f.ctx.strokeStyle=ka(r.webkitTextStrokeColor),f.ctx.lineWidth=r.webkitTextStrokeWidth,f.ctx.lineJoin=window.chrome?"miter":"round",f.ctx.strokeText(v.text,v.bounds.left,v.bounds.top+u)),f.ctx.strokeStyle="",f.ctx.lineWidth=0,f.ctx.lineJoin="miter";break}})}),[2]})})},e.prototype.renderReplacedElement=function(n,r,s){if(s&&n.intrinsicWidth>0&&n.intrinsicHeight>0){var a=NT(n),o=jT(r);this.path(o),this.ctx.save(),this.ctx.clip(),this.ctx.drawImage(s,0,0,n.intrinsicWidth,n.intrinsicHeight,a.left,a.top,a.width,a.height),this.ctx.restore()}},e.prototype.renderNodeContent=function(n){return yl(this,void 0,void 0,function(){var r,s,a,o,l,c,x,x,u,d,h,f,j,A,v,N,p,m,g,x,b,j,N;return Mo(this,function(_){switch(_.label){case 0:this.applyEffects(n.getEffects(4)),r=n.container,s=n.curves,a=r.styles,o=0,l=r.textNodes,_.label=1;case 1:return o<l.length?(c=l[o],[4,this.renderTextNode(c,a)]):[3,4];case 2:_.sent(),_.label=3;case 3:return o++,[3,1];case 4:if(!(r instanceof G1e))return[3,8];_.label=5;case 5:return _.trys.push([5,7,,8]),[4,this.context.cache.match(r.src)];case 6:return x=_.sent(),this.renderReplacedElement(r,s,x),[3,8];case 7:return _.sent(),this.context.logger.error("Error loading image "+r.src),[3,8];case 8:if(r instanceof X1e&&this.renderReplacedElement(r,s,r.canvas),!(r instanceof Y1e))return[3,12];_.label=9;case 9:return _.trys.push([9,11,,12]),[4,this.context.cache.match(r.svg)];case 10:return x=_.sent(),this.renderReplacedElement(r,s,x),[3,12];case 11:return _.sent(),this.context.logger.error("Error loading svg "+r.svg.substring(0,255)),[3,12];case 12:return r instanceof twe&&r.tree?(u=new e(this.context,{scale:this.options.scale,backgroundColor:r.backgroundColor,x:0,y:0,width:r.width,height:r.height}),[4,u.render(r.tree)]):[3,14];case 13:d=_.sent(),r.width&&r.height&&this.ctx.drawImage(d,0,0,r.width,r.height,r.bounds.left,r.bounds.top,r.bounds.width,r.bounds.height),_.label=14;case 14:if(r instanceof Bq&&(h=Math.min(r.bounds.width,r.bounds.height),r.type===xT?r.checked&&(this.ctx.save(),this.path([new Wt(r.bounds.left+h*.39363,r.bounds.top+h*.79),new Wt(r.bounds.left+h*.16,r.bounds.top+h*.5549),new Wt(r.bounds.left+h*.27347,r.bounds.top+h*.44071),new Wt(r.bounds.left+h*.39694,r.bounds.top+h*.5649),new Wt(r.bounds.left+h*.72983,r.bounds.top+h*.23),new Wt(r.bounds.left+h*.84,r.bounds.top+h*.34085),new Wt(r.bounds.left+h*.39363,r.bounds.top+h*.79)]),this.ctx.fillStyle=ka(zoe),this.ctx.fill(),this.ctx.restore()):r.type===vT&&r.checked&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(r.bounds.left+h/2,r.bounds.top+h/2,h/4,0,Math.PI*2,!0),this.ctx.fillStyle=ka(zoe),this.ctx.fill(),this.ctx.restore())),Xlt(r)&&r.value.length){switch(f=this.createFontStyle(a),j=f[0],A=f[1],v=this.fontMetrics.getMetrics(j,A).baseline,this.ctx.font=j,this.ctx.fillStyle=ka(a.color),this.ctx.textBaseline="alphabetic",this.ctx.textAlign=Jlt(r.styles.textAlign),N=NT(r),p=0,r.styles.textAlign){case 1:p+=N.width/2;break;case 2:p+=N.width;break}m=N.add(p,0,0,-N.height/2+1),this.ctx.save(),this.path([new Wt(N.left,N.top),new Wt(N.left+N.width,N.top),new Wt(N.left+N.width,N.top+N.height),new Wt(N.left,N.top+N.height)]),this.ctx.clip(),this.renderTextWithLetterSpacing(new g_(r.value,m),a.letterSpacing,v),this.ctx.restore(),this.ctx.textBaseline="alphabetic",this.ctx.textAlign="left"}if(!Aa(r.styles.display,2048))return[3,20];if(r.styles.listStyleImage===null)return[3,19];if(g=r.styles.listStyleImage,g.type!==0)return[3,18];x=void 0,b=g.url,_.label=15;case 15:return _.trys.push([15,17,,18]),[4,this.context.cache.match(b)];case 16:return x=_.sent(),this.ctx.drawImage(x,r.bounds.left-(x.width+10),r.bounds.top),[3,18];case 17:return _.sent(),this.context.logger.error("Error loading list-style-image "+b),[3,18];case 18:return[3,20];case 19:n.listValue&&r.styles.listStyleType!==-1&&(j=this.createFontStyle(a)[0],this.ctx.font=j,this.ctx.fillStyle=ka(a.color),this.ctx.textBaseline="middle",this.ctx.textAlign="right",N=new Ip(r.bounds.left,r.bounds.top+Di(r.styles.paddingTop,r.bounds.width),r.bounds.width,Coe(a.lineHeight,a.fontSize.number)/2+1),this.renderTextWithLetterSpacing(new g_(n.listValue,N),a.letterSpacing,Coe(a.lineHeight,a.fontSize.number)/2+2),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"),_.label=20;case 20:return[2]}})})},e.prototype.renderStackContent=function(n){return yl(this,void 0,void 0,function(){var r,s,g,a,o,g,l,c,g,u,d,g,h,f,g,A,v,g,p,m,g;return Mo(this,function(x){switch(x.label){case 0:if(Aa(n.element.container.flags,16))debugger;return[4,this.renderNodeBackgroundAndBorders(n.element)];case 1:x.sent(),r=0,s=n.negativeZIndex,x.label=2;case 2:return r<s.length?(g=s[r],[4,this.renderStack(g)]):[3,5];case 3:x.sent(),x.label=4;case 4:return r++,[3,2];case 5:return[4,this.renderNodeContent(n.element)];case 6:x.sent(),a=0,o=n.nonInlineLevel,x.label=7;case 7:return a<o.length?(g=o[a],[4,this.renderNode(g)]):[3,10];case 8:x.sent(),x.label=9;case 9:return a++,[3,7];case 10:l=0,c=n.nonPositionedFloats,x.label=11;case 11:return l<c.length?(g=c[l],[4,this.renderStack(g)]):[3,14];case 12:x.sent(),x.label=13;case 13:return l++,[3,11];case 14:u=0,d=n.nonPositionedInlineLevel,x.label=15;case 15:return u<d.length?(g=d[u],[4,this.renderStack(g)]):[3,18];case 16:x.sent(),x.label=17;case 17:return u++,[3,15];case 18:h=0,f=n.inlineLevel,x.label=19;case 19:return h<f.length?(g=f[h],[4,this.renderNode(g)]):[3,22];case 20:x.sent(),x.label=21;case 21:return h++,[3,19];case 22:A=0,v=n.zeroOrAutoZIndexOrTransformedOrOpacity,x.label=23;case 23:return A<v.length?(g=v[A],[4,this.renderStack(g)]):[3,26];case 24:x.sent(),x.label=25;case 25:return A++,[3,23];case 26:p=0,m=n.positiveZIndex,x.label=27;case 27:return p<m.length?(g=m[p],[4,this.renderStack(g)]):[3,30];case 28:x.sent(),x.label=29;case 29:return p++,[3,27];case 30:return[2]}})})},e.prototype.mask=function(n){this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(this.canvas.width,0),this.ctx.lineTo(this.canvas.width,this.canvas.height),this.ctx.lineTo(0,this.canvas.height),this.ctx.lineTo(0,0),this.formatPath(n.slice(0).reverse()),this.ctx.closePath()},e.prototype.path=function(n){this.ctx.beginPath(),this.formatPath(n),this.ctx.closePath()},e.prototype.formatPath=function(n){var r=this;n.forEach(function(s,a){var o=Uu(s)?s.start:s;a===0?r.ctx.moveTo(o.x,o.y):r.ctx.lineTo(o.x,o.y),Uu(s)&&r.ctx.bezierCurveTo(s.startControl.x,s.startControl.y,s.endControl.x,s.endControl.y,s.end.x,s.end.y)})},e.prototype.renderRepeat=function(n,r,s,a){this.path(n),this.ctx.fillStyle=r,this.ctx.translate(s,a),this.ctx.fill(),this.ctx.translate(-s,-a)},e.prototype.resizeImage=function(n,r,s){var a;if(n.width===r&&n.height===s)return n;var o=(a=this.canvas.ownerDocument)!==null&&a!==void 0?a:document,l=o.createElement("canvas");l.width=Math.max(1,r),l.height=Math.max(1,s);var c=l.getContext("2d");return c.drawImage(n,0,0,n.width,n.height,0,0,r,s),l},e.prototype.renderBackgroundImage=function(n){return yl(this,void 0,void 0,function(){var r,s,a,o,l,c;return Mo(this,function(u){switch(u.label){case 0:r=n.styles.backgroundImage.length-1,s=function(d){var h,f,A,O,U,L,M,S,k,v,O,U,L,M,S,p,m,g,x,b,j,N,_,C,k,T,O,I,F,M,S,q,U,L,z,$,K,V,H,W,Y,ee;return Mo(this,function(ie){switch(ie.label){case 0:if(d.type!==0)return[3,5];h=void 0,f=d.url,ie.label=1;case 1:return ie.trys.push([1,3,,4]),[4,a.context.cache.match(f)];case 2:return h=ie.sent(),[3,4];case 3:return ie.sent(),a.context.logger.error("Error loading background-image "+f),[3,4];case 4:return h&&(A=HL(n,r,[h.width,h.height,h.width/h.height]),O=A[0],U=A[1],L=A[2],M=A[3],S=A[4],k=a.ctx.createPattern(a.resizeImage(h,M,S),"repeat"),a.renderRepeat(O,k,U,L)),[3,6];case 5:Ust(d)?(v=HL(n,r,[null,null,null]),O=v[0],U=v[1],L=v[2],M=v[3],S=v[4],p=Dst(d.angle,M,S),m=p[0],g=p[1],x=p[2],b=p[3],j=p[4],N=document.createElement("canvas"),N.width=M,N.height=S,_=N.getContext("2d"),C=_.createLinearGradient(g,b,x,j),Noe(d.stops,m).forEach(function(se){return C.addColorStop(se.stop,ka(se.color))}),_.fillStyle=C,_.fillRect(0,0,M,S),M>0&&S>0&&(k=a.ctx.createPattern(N,"repeat"),a.renderRepeat(O,k,U,L))):Ist(d)&&(T=HL(n,r,[null,null,null]),O=T[0],I=T[1],F=T[2],M=T[3],S=T[4],q=d.position.length===0?[_q]:d.position,U=Di(q[0],M),L=Di(q[q.length-1],S),z=Tst(d,U,L,M,S),$=z[0],K=z[1],$>0&&K>0&&(V=a.ctx.createRadialGradient(I+U,F+L,0,I+U,F+L,$),Noe(d.stops,$*2).forEach(function(se){return V.addColorStop(se.stop,ka(se.color))}),a.path(O),a.ctx.fillStyle=V,$!==K?(H=n.bounds.left+.5*n.bounds.width,W=n.bounds.top+.5*n.bounds.height,Y=K/$,ee=1/Y,a.ctx.save(),a.ctx.translate(H,W),a.ctx.transform(1,0,0,Y,0,0),a.ctx.translate(-H,-W),a.ctx.fillRect(I,ee*(F-W)+W,M,S*ee),a.ctx.restore()):a.ctx.fill())),ie.label=6;case 6:return r--,[2]}})},a=this,o=0,l=n.styles.backgroundImage.slice(0).reverse(),u.label=1;case 1:return o<l.length?(c=l[o],[5,s(c)]):[3,4];case 2:u.sent(),u.label=3;case 3:return o++,[3,1];case 4:return[2]}})})},e.prototype.renderSolidBorder=function(n,r,s){return yl(this,void 0,void 0,function(){return Mo(this,function(a){return this.path(tle(s,r)),this.ctx.fillStyle=ka(n),this.ctx.fill(),[2]})})},e.prototype.renderDoubleBorder=function(n,r,s,a){return yl(this,void 0,void 0,function(){var o,l;return Mo(this,function(c){switch(c.label){case 0:return r<3?[4,this.renderSolidBorder(n,s,a)]:[3,2];case 1:return c.sent(),[2];case 2:return o=Llt(a,s),this.path(o),this.ctx.fillStyle=ka(n),this.ctx.fill(),l=Rlt(a,s),this.path(l),this.ctx.fill(),[2]}})})},e.prototype.renderNodeBackgroundAndBorders=function(n){return yl(this,void 0,void 0,function(){var r,s,a,o,l,c,u,d,h=this;return Mo(this,function(f){switch(f.label){case 0:return this.applyEffects(n.getEffects(2)),r=n.container.styles,s=!Vg(r.backgroundColor)||r.backgroundImage.length,a=[{style:r.borderTopStyle,color:r.borderTopColor,width:r.borderTopWidth},{style:r.borderRightStyle,color:r.borderRightColor,width:r.borderRightWidth},{style:r.borderBottomStyle,color:r.borderBottomColor,width:r.borderBottomWidth},{style:r.borderLeftStyle,color:r.borderLeftColor,width:r.borderLeftWidth}],o=Ylt(Xb(r.backgroundClip,0),n.curves),s||r.boxShadow.length?(this.ctx.save(),this.path(o),this.ctx.clip(),Vg(r.backgroundColor)||(this.ctx.fillStyle=ka(r.backgroundColor),this.ctx.fill()),[4,this.renderBackgroundImage(n.container)]):[3,2];case 1:f.sent(),this.ctx.restore(),r.boxShadow.slice(0).reverse().forEach(function(A){h.ctx.save();var v=wT(n.curves),p=A.inset?0:Klt,m=Olt(v,-p+(A.inset?1:-1)*A.spread.number,(A.inset?1:-1)*A.spread.number,A.spread.number*(A.inset?-2:2),A.spread.number*(A.inset?-2:2));A.inset?(h.path(v),h.ctx.clip(),h.mask(m)):(h.mask(v),h.ctx.clip(),h.path(m)),h.ctx.shadowOffsetX=A.offsetX.number+p,h.ctx.shadowOffsetY=A.offsetY.number,h.ctx.shadowColor=ka(A.color),h.ctx.shadowBlur=A.blur.number,h.ctx.fillStyle=A.inset?ka(A.color):"rgba(0,0,0,1)",h.ctx.fill(),h.ctx.restore()}),f.label=2;case 2:l=0,c=0,u=a,f.label=3;case 3:return c<u.length?(d=u[c],d.style!==0&&!Vg(d.color)&&d.width>0?d.style!==2?[3,5]:[4,this.renderDashedDottedBorder(d.color,d.width,l,n.curves,2)]:[3,11]):[3,13];case 4:return f.sent(),[3,11];case 5:return d.style!==3?[3,7]:[4,this.renderDashedDottedBorder(d.color,d.width,l,n.curves,3)];case 6:return f.sent(),[3,11];case 7:return d.style!==4?[3,9]:[4,this.renderDoubleBorder(d.color,d.width,l,n.curves)];case 8:return f.sent(),[3,11];case 9:return[4,this.renderSolidBorder(d.color,l,n.curves)];case 10:f.sent(),f.label=11;case 11:l++,f.label=12;case 12:return c++,[3,3];case 13:return[2]}})})},e.prototype.renderDashedDottedBorder=function(n,r,s,a,o){return yl(this,void 0,void 0,function(){var l,c,u,d,h,f,A,v,p,m,g,x,b,j,N,_,N,_;return Mo(this,function(C){return this.ctx.save(),l=Qlt(a,s),c=tle(a,s),o===2&&(this.path(c),this.ctx.clip()),Uu(c[0])?(u=c[0].start.x,d=c[0].start.y):(u=c[0].x,d=c[0].y),Uu(c[1])?(h=c[1].end.x,f=c[1].end.y):(h=c[1].x,f=c[1].y),s===0||s===2?A=Math.abs(u-h):A=Math.abs(d-f),this.ctx.beginPath(),o===3?this.formatPath(l):this.formatPath(c.slice(0,2)),v=r<3?r*3:r*2,p=r<3?r*2:r,o===3&&(v=r,p=r),m=!0,A<=v*2?m=!1:A<=v*2+p?(g=A/(2*v+p),v*=g,p*=g):(x=Math.floor((A+p)/(v+p)),b=(A-x*v)/(x-1),j=(A-(x+1)*v)/x,p=j<=0||Math.abs(p-b)<Math.abs(p-j)?b:j),m&&(o===3?this.ctx.setLineDash([0,v+p]):this.ctx.setLineDash([v,p])),o===3?(this.ctx.lineCap="round",this.ctx.lineWidth=r):this.ctx.lineWidth=r*2+1.1,this.ctx.strokeStyle=ka(n),this.ctx.stroke(),this.ctx.setLineDash([]),o===2&&(Uu(c[0])&&(N=c[3],_=c[0],this.ctx.beginPath(),this.formatPath([new Wt(N.end.x,N.end.y),new Wt(_.start.x,_.start.y)]),this.ctx.stroke()),Uu(c[1])&&(N=c[1],_=c[2],this.ctx.beginPath(),this.formatPath([new Wt(N.end.x,N.end.y),new Wt(_.start.x,_.start.y)]),this.ctx.stroke())),this.ctx.restore(),[2]})})},e.prototype.render=function(n){return yl(this,void 0,void 0,function(){var r;return Mo(this,function(s){switch(s.label){case 0:return this.options.backgroundColor&&(this.ctx.fillStyle=ka(this.options.backgroundColor),this.ctx.fillRect(this.options.x,this.options.y,this.options.width,this.options.height)),r=Mlt(n),[4,this.renderStack(r)];case 1:return s.sent(),this.applyEffects([]),[2,this.canvas]}})})},e}(gwe),Xlt=function(t){return t instanceof ewe||t instanceof Z1e?!0:t instanceof Bq&&t.type!==vT&&t.type!==xT},Ylt=function(t,e){switch(t){case 0:return wT(e);case 2:return klt(e);case 1:default:return jT(e)}},Jlt=function(t){switch(t){case 1:return"center";case 2:return"right";case 0:default:return"left"}},Zlt=["-apple-system","system-ui"],ect=function(t){return/iPhone OS 15_(0|1)/.test(window.navigator.userAgent)?t.filter(function(e){return Zlt.indexOf(e)===-1}):t},tct=function(t){wh(e,t);function e(n,r){var s=t.call(this,n,r)||this;return s.canvas=r.canvas?r.canvas:document.createElement("canvas"),s.ctx=s.canvas.getContext("2d"),s.options=r,s.canvas.width=Math.floor(r.width*r.scale),s.canvas.height=Math.floor(r.height*r.scale),s.canvas.style.width=r.width+"px",s.canvas.style.height=r.height+"px",s.ctx.scale(s.options.scale,s.options.scale),s.ctx.translate(-r.x,-r.y),s.context.logger.debug("EXPERIMENTAL ForeignObject renderer initialized ("+r.width+"x"+r.height+" at "+r.x+","+r.y+") with scale "+r.scale),s}return e.prototype.render=function(n){return yl(this,void 0,void 0,function(){var r,s;return Mo(this,function(a){switch(a.label){case 0:return r=_H(this.options.width*this.options.scale,this.options.height*this.options.scale,this.options.scale,this.options.scale,n),[4,nct(r)];case 1:return s=a.sent(),this.options.backgroundColor&&(this.ctx.fillStyle=ka(this.options.backgroundColor),this.ctx.fillRect(0,0,this.options.width*this.options.scale,this.options.height*this.options.scale)),this.ctx.drawImage(s,-this.options.x*this.options.scale,-this.options.y*this.options.scale),[2,this.canvas]}})})},e}(gwe),nct=function(t){return new Promise(function(e,n){var r=new Image;r.onload=function(){e(r)},r.onerror=n,r.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(t))})},rct=function(){function t(e){var n=e.id,r=e.enabled;this.id=n,this.enabled=r,this.start=Date.now()}return t.prototype.debug=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this.enabled&&(typeof window<"u"&&window.console&&typeof console.debug=="function"?console.debug.apply(console,B4([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},t.prototype.getTime=function(){return Date.now()-this.start},t.prototype.info=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this.enabled&&typeof window<"u"&&window.console&&typeof console.info=="function"&&console.info.apply(console,B4([this.id,this.getTime()+"ms"],e))},t.prototype.warn=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this.enabled&&(typeof window<"u"&&window.console&&typeof console.warn=="function"?console.warn.apply(console,B4([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},t.prototype.error=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this.enabled&&(typeof window<"u"&&window.console&&typeof console.error=="function"?console.error.apply(console,B4([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},t.instances={},t}(),ict=function(){function t(e,n){var r;this.windowBounds=n,this.instanceName="#"+t.instanceCount++,this.logger=new rct({id:this.instanceName,enabled:e.logging}),this.cache=(r=e.cache)!==null&&r!==void 0?r:new Nlt(this,e)}return t.instanceCount=1,t}(),xwe=function(t,e){return e===void 0&&(e={}),sct(t,e)};typeof window<"u"&&dwe.setContext(window);var sct=function(t,e){return yl(void 0,void 0,void 0,function(){var n,r,s,a,o,l,c,u,d,h,f,A,v,p,m,g,x,b,j,N,C,_,C,k,T,O,I,F,M,S,q,U,L,z,$,K,V,H,W,Y;return Mo(this,function(ee){switch(ee.label){case 0:if(!t||typeof t!="object")return[2,Promise.reject("Invalid element provided as first argument")];if(n=t.ownerDocument,!n)throw new Error("Element is not attached to a Document");if(r=n.defaultView,!r)throw new Error("Document is not attached to a Window");return s={allowTaint:(k=e.allowTaint)!==null&&k!==void 0?k:!1,imageTimeout:(T=e.imageTimeout)!==null&&T!==void 0?T:15e3,proxy:e.proxy,useCORS:(O=e.useCORS)!==null&&O!==void 0?O:!1},a=uH({logging:(I=e.logging)!==null&&I!==void 0?I:!0,cache:e.cache},s),o={windowWidth:(F=e.windowWidth)!==null&&F!==void 0?F:r.innerWidth,windowHeight:(M=e.windowHeight)!==null&&M!==void 0?M:r.innerHeight,scrollX:(S=e.scrollX)!==null&&S!==void 0?S:r.pageXOffset,scrollY:(q=e.scrollY)!==null&&q!==void 0?q:r.pageYOffset},l=new Ip(o.scrollX,o.scrollY,o.windowWidth,o.windowHeight),c=new ict(a,l),u=(U=e.foreignObjectRendering)!==null&&U!==void 0?U:!1,d={allowTaint:(L=e.allowTaint)!==null&&L!==void 0?L:!1,onclone:e.onclone,ignoreElements:e.ignoreElements,inlineImages:u,copyStyles:u},c.logger.debug("Starting document clone with size "+l.width+"x"+l.height+" scrolled to "+-l.left+","+-l.top),h=new Joe(c,t,d),f=h.clonedReferenceElement,f?[4,h.toIFrame(n,l)]:[2,Promise.reject("Unable to find element in cloned iframe")];case 1:return A=ee.sent(),v=Dq(f)||olt(f)?Ort(f.ownerDocument):JF(c,f),p=v.width,m=v.height,g=v.left,x=v.top,b=act(c,f,e.backgroundColor),j={canvas:e.canvas,backgroundColor:b,scale:($=(z=e.scale)!==null&&z!==void 0?z:r.devicePixelRatio)!==null&&$!==void 0?$:1,x:((K=e.x)!==null&&K!==void 0?K:0)+g,y:((V=e.y)!==null&&V!==void 0?V:0)+x,width:(H=e.width)!==null&&H!==void 0?H:Math.ceil(p),height:(W=e.height)!==null&&W!==void 0?W:Math.ceil(m)},u?(c.logger.debug("Document cloned, using foreign object rendering"),C=new tct(c,j),[4,C.render(f)]):[3,3];case 2:return N=ee.sent(),[3,5];case 3:return c.logger.debug("Document cloned, element located at "+g+","+x+" with size "+p+"x"+m+" using computed rendering"),c.logger.debug("Starting DOM parsing"),_=rwe(c,f),b===_.styles.backgroundColor&&(_.styles.backgroundColor=vp.TRANSPARENT),c.logger.debug("Starting renderer for element at "+j.x+","+j.y+" with size "+j.width+"x"+j.height),C=new Glt(c,j),[4,C.render(_)];case 4:N=ee.sent(),ee.label=5;case 5:return(!((Y=e.removeContainer)!==null&&Y!==void 0)||Y)&&(Joe.destroy(A)||c.logger.error("Cannot detach cloned iframe as it is not in the DOM anymore")),c.logger.debug("Finished rendering"),[2,N]}})})},act=function(t,e,n){var r=e.ownerDocument,s=r.documentElement?p_(t,getComputedStyle(r.documentElement).backgroundColor):vp.TRANSPARENT,a=r.body?p_(t,getComputedStyle(r.body).backgroundColor):vp.TRANSPARENT,o=typeof n=="string"?p_(t,n):n===null?vp.TRANSPARENT:4294967295;return e===r.documentElement?Vg(s)?Vg(a)?o:a:s:o};const oct=Object.freeze(Object.defineProperty({__proto__:null,default:xwe},Symbol.toStringTag,{value:"Module"})),lct=({projectId:t=null,reportType:e="full_report"})=>{const[n,r]=E.useState(!1),[s,a]=E.useState(0),[o,l]=E.useState(null),[c,u]=E.useState(t),[d,h]=E.useState(e),f=E.useRef(null),{toast:A}=ki(),v=[{id:1,title:"رواية الحالم المضطرب",status:"مكتملة",chapters:12},{id:2,title:"أسرار المدينة القديمة",status:"قيد التطوير",chapters:8},{id:3,title:"رحلة عبر الزمن",status:"مسودة",chapters:5}],p={project_info:{title:"رواية الحالم المضطرب",author:"الكاتب المتطور",created_at:"2024-01-15",completed_at:"2024-06-01",total_chapters:12,total_words:85e3,total_sessions:64,total_writing_time:1840,genre:"الأدب النفسي"},evolution_summary:{quality_improvement:34.5,style_consistency:87.2,creativity_growth:41.8,productivity_trend:28.3,learning_curve:92.1,personal_growth_score:89.7},style_analysis:{metaphor_density_evolution:[{chapter:1,density:5.2,quality:6.1},{chapter:2,density:6.1,quality:6.8},{chapter:3,density:7.3,quality:7.2},{chapter:4,density:8.1,quality:7.9},{chapter:5,density:8.7,quality:8.3},{chapter:6,density:9.2,quality:8.6},{chapter:7,density:9.8,quality:8.9},{chapter:8,density:10.2,quality:9.1},{chapter:9,density:10.6,quality:9.3},{chapter:10,density:11.1,quality:9.5},{chapter:11,density:11.4,quality:9.7},{chapter:12,density:11.8,quality:9.8}],writing_complexity_trend:[{chapter:1,complexity:6.2,readability:7.8},{chapter:2,complexity:6.7,readability:7.6},{chapter:3,complexity:7.1,readability:7.4},{chapter:4,complexity:7.4,readability:7.3},{chapter:5,complexity:7.8,readability:7.2},{chapter:6,complexity:8.1,readability:7.1},{chapter:7,complexity:8.4,readability:7},{chapter:8,complexity:8.6,readability:6.9},{chapter:9,complexity:8.8,readability:6.8},{chapter:10,complexity:9,readability:6.7},{chapter:11,complexity:9.2,readability:6.6},{chapter:12,complexity:9.4,readability:6.5}],dialogue_narrative_balance:[{chapter:1,dialogue_ratio:25,narrative_ratio:75},{chapter:2,dialogue_ratio:30,narrative_ratio:70},{chapter:3,dialogue_ratio:35,narrative_ratio:65},{chapter:4,dialogue_ratio:32,narrative_ratio:68},{chapter:5,dialogue_ratio:38,narrative_ratio:62},{chapter:6,dialogue_ratio:42,narrative_ratio:58},{chapter:7,dialogue_ratio:45,narrative_ratio:55},{chapter:8,dialogue_ratio:40,narrative_ratio:60},{chapter:9,dialogue_ratio:43,narrative_ratio:57},{chapter:10,dialogue_ratio:46,narrative_ratio:54},{chapter:11,dialogue_ratio:48,narrative_ratio:52},{chapter:12,dialogue_ratio:50,narrative_ratio:50}]},key_insights:[{category:"التطور الأسلوبي",insight:"تطور ملحوظ في استخدام الاستعارات والتشبيهات مع زيادة في الكثافة والجودة",importance:"high",recommendation:"استمر في تطوير هذا الجانب مع التركيز على الأصالة والإبداع"},{category:"التوازن السردي",insight:"تحسن تدريجي في توازن الحوار والسرد مع الوصول لتوازن مثالي في الفصول الأخيرة",importance:"high",recommendation:"حافظ على هذا التوازن في الأعمال القادمة"},{category:"التعقيد اللغوي",insight:"زيادة مدروسة في تعقيد التعبير مع المحافظة على الوضوح",importance:"medium",recommendation:"انتبه لتوازن التعقيد مع سهولة القراءة"}],achievements:[{title:"تحسن الجودة النوعية",description:"تحسن بنسبة 34.5% في جودة الكتابة العامة",date:"2024-06-01",type:"improvement"},{title:"ثبات الأسلوب",description:"تحقيق ثبات أسلوبي بنسبة 87.2%",date:"2024-05-15",type:"milestone"},{title:"نمو إبداعي",description:"نمو إبداعي بنسبة 41.8% مقارنة بالبداية",date:"2024-05-30",type:"breakthrough"}]},m=async j=>{r(!0),a(10);try{a(50),await new Promise(N=>setTimeout(N,1e3)),l(p),a(100),A({title:"تم تحميل بيانات التقرير",description:"جاهز لإنتاج التقرير المخصص"})}catch{A({title:"خطأ في تحميل البيانات",description:"فشل في تحميل بيانات التقرير",variant:"destructive"})}finally{r(!1)}},g=async()=>{if(!o||!f.current){A({title:"لا توجد بيانات للتصدير",description:"يرجى تحميل بيانات التقرير أولاً",variant:"destructive"});return}r(!0),a(0);try{a(20);const j=await xwe(f.current,{allowTaint:!0,useCORS:!0,scale:2,logging:!1,width:f.current.scrollWidth,height:f.current.scrollHeight});a(60);const N=j.toDataURL("image/png"),_=new _n("p","mm","a4"),C=210,k=295,T=j.height*C/j.width;let O=T,I=0;for(_.addImage(N,"PNG",0,I,C,T),O-=k;O>=0;)I=O-T,_.addPage(),_.addImage(N,"PNG",0,I,C,T),O-=k;a(90);const F=`تقرير_${o.project_info.title.replace(/\s+/g,"_")}_${new Date().toISOString().split("T")[0]}.pdf`;_.save(F),a(100),A({title:"تم إنتاج التقرير بنجاح",description:`تم تحميل ${F}`})}catch(j){console.error("خطأ في إنتاج PDF:",j),A({title:"خطأ في إنتاج التقرير",description:"فشل في إنتاج ملف PDF",variant:"destructive"})}finally{r(!1),a(0)}},x=j=>({novel_completion:"تقرير إنجاز الرواية",evolution_summary:"ملخص التطور",style_analysis:"تحليل الأسلوب",full_report:"التقرير الشامل"})[j]||"تقرير مخصص",b=j=>{switch(j){case"milestone":return i.jsx(Yg,{className:"w-5 h-5 text-yellow-500"});case"improvement":return i.jsx(Hn,{className:"w-5 h-5 text-green-500"});case"breakthrough":return i.jsx(vr,{className:"w-5 h-5 text-purple-500"});default:return i.jsx(tr,{className:"w-5 h-5 text-blue-500"})}};return i.jsxs("div",{className:"space-y-6",dir:"rtl",children:[i.jsxs(ae,{className:"border-2 border-gradient-to-r from-purple-200 to-pink-200",children:[i.jsxs(Te,{children:[i.jsxs(ke,{className:"flex items-center gap-2",children:[i.jsx(xn,{className:"w-6 h-6 text-purple-600"}),"مولد التقارير المخصصة المتطور"]}),i.jsx(Pt,{children:"إنتاج تقارير PDF شاملة ومخصصة لتطور الكاتب ومسيرته الأدبية"})]}),i.jsxs(oe,{className:"space-y-4",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium mb-2 block",children:"اختيار المشروع"}),i.jsxs(vi,{value:(c==null?void 0:c.toString())||"",onValueChange:j=>u(parseInt(j)),children:[i.jsx(li,{children:i.jsx(yi,{placeholder:"اختر مشروعاً"})}),i.jsx(ci,{children:v.map(j=>i.jsxs(Bt,{value:j.id.toString(),children:[j.title," (",j.status,")"]},j.id))})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium mb-2 block",children:"نوع التقرير"}),i.jsxs(vi,{value:d,onValueChange:j=>h(j),children:[i.jsx(li,{children:i.jsx(yi,{})}),i.jsxs(ci,{children:[i.jsx(Bt,{value:"novel_completion",children:"تقرير إنجاز الرواية"}),i.jsx(Bt,{value:"evolution_summary",children:"ملخص التطور"}),i.jsx(Bt,{value:"style_analysis",children:"تحليل الأسلوب"}),i.jsx(Bt,{value:"full_report",children:"التقرير الشامل"})]})]})]})]}),i.jsxs("div",{className:"flex flex-wrap gap-3",children:[i.jsxs(xe,{onClick:()=>c&&m(),disabled:n||!c,className:"bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700",children:[i.jsx(zt,{className:"w-4 h-4 mr-2"}),"تحميل بيانات التقرير"]}),i.jsxs(xe,{onClick:g,disabled:n||!o,className:"bg-gradient-to-r from-green-500 to-teal-600 hover:from-green-600 hover:to-teal-700",children:[i.jsx(gr,{className:"w-4 h-4 mr-2"}),"تصدير PDF"]})]}),n&&i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex justify-between text-sm",children:[i.jsx("span",{children:"جاري المعالجة..."}),i.jsxs("span",{children:[s,"%"]})]}),i.jsx(tt,{value:s,className:"w-full"})]})]})]}),o&&i.jsxs("div",{ref:f,className:"space-y-6 bg-white p-8 border rounded-lg print:shadow-none",children:[i.jsxs("div",{className:"text-center border-b pb-6",children:[i.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-2",children:x(d)}),i.jsx("h2",{className:"text-xl text-gray-600 mb-4",children:o.project_info.title}),i.jsxs("div",{className:"flex justify-center items-center gap-6 text-sm text-gray-500",children:[i.jsxs("span",{className:"flex items-center gap-1",children:[i.jsx(wp,{className:"w-4 h-4"}),"تاريخ الإنتاج: ",new Date().toLocaleDateString("ar-SA")]}),i.jsxs("span",{className:"flex items-center gap-1",children:[i.jsx(dr,{className:"w-4 h-4"}),o.project_info.total_chapters," فصل"]}),i.jsxs("span",{className:"flex items-center gap-1",children:[i.jsx(ga,{className:"w-4 h-4"}),o.project_info.total_words.toLocaleString()," كلمة"]})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs(ae,{children:[i.jsx(Te,{className:"pb-3",children:i.jsxs(ke,{className:"text-lg flex items-center gap-2",children:[i.jsx(dr,{className:"w-5 h-5 text-blue-600"}),"معلومات المشروع"]})}),i.jsxs(oe,{className:"space-y-2 text-sm",children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-gray-600",children:"المؤلف:"}),i.jsx("span",{className:"font-medium",children:o.project_info.author})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-gray-600",children:"النوع الأدبي:"}),i.jsx("span",{className:"font-medium",children:o.project_info.genre})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-gray-600",children:"تاريخ البداية:"}),i.jsx("span",{className:"font-medium",children:new Date(o.project_info.created_at).toLocaleDateString("ar-SA")})]}),o.project_info.completed_at&&i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-gray-600",children:"تاريخ الإنجاز:"}),i.jsx("span",{className:"font-medium",children:new Date(o.project_info.completed_at).toLocaleDateString("ar-SA")})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-gray-600",children:"إجمالي الجلسات:"}),i.jsxs("span",{className:"font-medium",children:[o.project_info.total_sessions," جلسة"]})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-gray-600",children:"وقت الكتابة:"}),i.jsxs("span",{className:"font-medium",children:[Math.round(o.project_info.total_writing_time/60)," ساعة"]})]})]})]}),i.jsxs(ae,{children:[i.jsx(Te,{className:"pb-3",children:i.jsxs(ke,{className:"text-lg flex items-center gap-2",children:[i.jsx(Hn,{className:"w-5 h-5 text-green-600"}),"مؤشرات التطور"]})}),i.jsxs(oe,{className:"space-y-3",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("span",{className:"text-sm text-gray-600",children:"تحسن الجودة"}),i.jsxs("span",{className:"text-sm font-medium",children:[o.evolution_summary.quality_improvement,"%"]})]}),i.jsx(tt,{value:o.evolution_summary.quality_improvement,className:"h-2"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("span",{className:"text-sm text-gray-600",children:"ثبات الأسلوب"}),i.jsxs("span",{className:"text-sm font-medium",children:[o.evolution_summary.style_consistency,"%"]})]}),i.jsx(tt,{value:o.evolution_summary.style_consistency,className:"h-2"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("span",{className:"text-sm text-gray-600",children:"النمو الإبداعي"}),i.jsxs("span",{className:"text-sm font-medium",children:[o.evolution_summary.creativity_growth,"%"]})]}),i.jsx(tt,{value:o.evolution_summary.creativity_growth,className:"h-2"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("span",{className:"text-sm text-gray-600",children:"النمو الشخصي"}),i.jsxs("span",{className:"text-sm font-medium",children:[o.evolution_summary.personal_growth_score,"%"]})]}),i.jsx(tt,{value:o.evolution_summary.personal_growth_score,className:"h-2"})]})]})]})]}),i.jsxs(ae,{children:[i.jsx(Te,{children:i.jsxs(ke,{className:"flex items-center gap-2",children:[i.jsx(nr,{className:"w-5 h-5 text-yellow-600"}),"الرؤى والاكتشافات الرئيسية"]})}),i.jsx(oe,{children:i.jsx("div",{className:"space-y-4",children:o.key_insights.map((j,N)=>i.jsxs("div",{className:"border-r-4 border-blue-500 pr-4 py-2",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[i.jsx(He,{variant:j.importance==="high"?"destructive":j.importance==="medium"?"default":"secondary",children:j.category}),i.jsx(He,{variant:"outline",children:j.importance==="high"?"عالي الأهمية":j.importance==="medium"?"متوسط الأهمية":"منخفض الأهمية"})]}),i.jsx("p",{className:"text-gray-700 mb-2",children:j.insight}),i.jsxs("p",{className:"text-sm text-gray-600 bg-blue-50 p-2 rounded",children:[i.jsx("strong",{children:"التوصية:"})," ",j.recommendation]})]},N))})})]}),i.jsxs(ae,{children:[i.jsx(Te,{children:i.jsxs(ke,{className:"flex items-center gap-2",children:[i.jsx(za,{className:"w-5 h-5 text-purple-600"}),"الإنجازات والمعالم"]})}),i.jsx(oe,{children:i.jsx("div",{className:"grid gap-4",children:o.achievements.map((j,N)=>i.jsxs("div",{className:"flex items-start gap-3 p-3 bg-gray-50 rounded-lg",children:[b(j.type),i.jsxs("div",{className:"flex-1",children:[i.jsx("h4",{className:"font-medium text-gray-800",children:j.title}),i.jsx("p",{className:"text-sm text-gray-600 mt-1",children:j.description}),i.jsx("span",{className:"text-xs text-gray-500",children:new Date(j.date).toLocaleDateString("ar-SA")})]})]},N))})})]}),i.jsxs("div",{className:"text-center py-6 border-t",children:[i.jsx("p",{className:"text-gray-600",children:"تم إنتاج هذا التقرير بواسطة النظام الذكي للكتابة العربية"}),i.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:["© ",new Date().getFullYear()," - جميع الحقوق محفوظة"]})]})]})]})},cct=({userId:t="current_user",timeRange:e="month"})=>{const[n,r]=E.useState(null),[s,a]=E.useState(!0),[o,l]=E.useState(e),[c,u]=E.useState("usage"),{toast:d}=ki(),h={primary:"#8B5CF6",secondary:"#06B6D4",success:"#10B981",warning:"#F59E0B",blue:"#3B82F6",green:"#22C55E"};E.useEffect(()=>{f()},[t,o]);const f=async()=>{a(!0);try{const m=await fetch("/api/analytics/behavior",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({user_id:t,time_range:o})});if(m.ok){const g=await m.json();r(g.behavior_data)}else r(A())}catch(m){console.error("خطأ في جلب بيانات السلوك:",m),r(A()),d({title:"تحذير",description:"تم تحميل بيانات تجريبية للعرض التوضيحي",variant:"default"})}finally{a(!1)}},A=()=>({usage_patterns:{tools_usage:[{tool:"مولد الأفكار",usage_count:127,average_duration:8.5,effectiveness_score:8.7,peak_hours:[9,10,14,15],trend:"increasing"},{tool:"محرر النصوص الذكي",usage_count:89,average_duration:25.3,effectiveness_score:9.1,peak_hours:[10,11,16,17],trend:"stable"},{tool:"محلل الأسلوب",usage_count:65,average_duration:12.7,effectiveness_score:8.4,peak_hours:[13,14,18,19],trend:"increasing"},{tool:"مطور الشخصيات",usage_count:43,average_duration:18.9,effectiveness_score:8.9,peak_hours:[11,12,15,16],trend:"decreasing"},{tool:"منظم الحبكة",usage_count:38,average_duration:22.1,effectiveness_score:8.2,peak_hours:[9,10,13,14],trend:"stable"}],agents_interaction:[{agent:"الكاتب الإبداعي",total_interactions:234,acceptance_rate:78,average_response_time:2.3,user_satisfaction:8.6,collaboration_score:8.8},{agent:"محلل النصوص",total_interactions:189,acceptance_rate:85,average_response_time:1.8,user_satisfaction:8.9,collaboration_score:9.1},{agent:"خبير الحوار",total_interactions:156,acceptance_rate:72,average_response_time:2.7,user_satisfaction:8.3,collaboration_score:8.5},{agent:"مصحح الأسلوب",total_interactions:98,acceptance_rate:88,average_response_time:1.5,user_satisfaction:9.2,collaboration_score:9}],feature_adoption:[{feature:"الكتابة التعاونية",adoption_date:"2024-03-20",usage_frequency:85,mastery_level:7.8},{feature:"التحليل الأسلوبي",adoption_date:"2024-04-05",usage_frequency:72,mastery_level:8.2},{feature:"تقييم الجودة التلقائي",adoption_date:"2024-04-18",usage_frequency:91,mastery_level:8.9},{feature:"مولد العناوين",adoption_date:"2024-05-10",usage_frequency:56,mastery_level:6.5}]},time_patterns:{hourly_productivity:Array.from({length:24},(m,g)=>({hour:g,productivity_score:Math.max(2,Math.min(10,g<6?3+Math.random():g<9?4+g*.8+Math.random()*2:g<12?8+Math.random()*2:g<14?6+Math.random()*2:g<17?7.5+Math.random()*1.5:g<20?6+Math.random()*2:g<22?5+Math.random():3+Math.random())),word_count:Math.max(0,Math.min(300,g<6?Math.random()*20:g<9?50+g*10+Math.random()*50:g<12?150+Math.random()*100:g<14?100+Math.random()*80:g<17?120+Math.random()*90:g<20?80+Math.random()*70:g<22?50+Math.random()*40:Math.random()*30)),quality_score:Math.max(5,Math.min(10,6+Math.random()*3)),session_count:Math.max(0,Math.floor(Math.random()*5))})),daily_patterns:[{day:"الأحد",total_time:120,average_quality:7.8,consistency_score:8.2},{day:"الاثنين",total_time:95,average_quality:8.1,consistency_score:7.9},{day:"الثلاثاء",total_time:110,average_quality:8.4,consistency_score:8.6},{day:"الأربعاء",total_time:85,average_quality:7.9,consistency_score:7.5},{day:"الخميس",total_time:105,average_quality:8.3,consistency_score:8.1},{day:"الجمعة",total_time:140,average_quality:8.7,consistency_score:8.9},{day:"السبت",total_time:160,average_quality:8.9,consistency_score:9.2}],seasonal_trends:Array.from({length:12},(m,g)=>({month:["يناير","فبراير","مارس","أبريل","مايو","يونيو","يوليو","أغسطس","سبتمبر","أكتوبر","نوفمبر","ديسمبر"][g],activity_level:Math.max(60,Math.min(95,70+g*2+(Math.random()-.5)*15)),improvement_rate:Math.max(5,Math.min(20,8+g*.8+(Math.random()-.5)*5)),goal_completion:Math.max(65,Math.min(98,75+g*1.5+(Math.random()-.5)*10))})),optimal_session_duration:{current_average:45,optimal_range:[35,60],peak_performance_duration:52}},interaction_behavior:{ai_collaboration_style:{independence_level:7.3,guidance_preference:6.8,experimentation_rate:8.1,feedback_responsiveness:8.7},learning_curve:Array.from({length:12},(m,g)=>({week:g+1,skill_acquisition:Math.max(5,Math.min(10,6+g*.3+(Math.random()-.5)*1)),adaptation_speed:Math.max(6,Math.min(9.5,6.5+g*.25+(Math.random()-.5)*.8)),retention_rate:Math.max(75,Math.min(95,80+g*1.2+(Math.random()-.5)*5))})),help_seeking_patterns:[{category:"مشاكل تقنية",frequency:23,timing:"early",resolution_rate:92},{category:"استفسارات أسلوبية",frequency:45,timing:"middle",resolution_rate:87},{category:"طلب اقتراحات",frequency:67,timing:"middle",resolution_rate:94},{category:"تحسين الجودة",frequency:38,timing:"late",resolution_rate:89}]},focus_productivity:{deep_work_sessions:Array.from({length:30},(m,g)=>({date:new Date(Date.now()-(30-g)*24*60*60*1e3).toISOString().split("T")[0],duration:Math.max(15,Math.min(120,45+(Math.random()-.5)*30)),interruptions:Math.max(0,Math.floor(Math.random()*8)),quality_output:Math.max(6,Math.min(10,7.5+(Math.random()-.5)*2))})),distraction_analysis:{common_distractions:[{type:"إشعارات الهاتف",frequency:34,impact_on_quality:6.2},{type:"مواقع التواصل",frequency:28,impact_on_quality:7.1},{type:"أصوات خارجية",frequency:19,impact_on_quality:4.8},{type:"أفكار جانبية",frequency:42,impact_on_quality:5.5}],focus_score:7.6,improvement_over_time:Array.from({length:12},(m,g)=>({week:g+1,focus_score:Math.max(5,Math.min(9.5,6+g*.3+(Math.random()-.5)*1))}))},flow_state_indicators:{frequency:68,average_duration:38,triggers:["بداية جلسة جديدة","موسيقى هادئة","هدف واضح","بيئة هادئة"],optimal_conditions:["الصباح الباكر","إضاءة طبيعية","مكان مألوف","بدون انقطاعات"]}},skill_development:{writing_skills:[{skill:"بناء الحوار",current_level:8.3,growth_rate:.15,practice_frequency:85,plateau_periods:[3,7]},{skill:"الوصف والسرد",current_level:7.9,growth_rate:.12,practice_frequency:92,plateau_periods:[5]},{skill:"تطوير الشخصيات",current_level:8.6,growth_rate:.08,practice_frequency:78,plateau_periods:[2,9]},{skill:"بناء الحبكة",current_level:7.4,growth_rate:.18,practice_frequency:73,plateau_periods:[4,8]},{skill:"الأسلوب الأدبي",current_level:8.1,growth_rate:.1,practice_frequency:88,plateau_periods:[6]}],tool_mastery:[{tool:"محرر النصوص الذكي",proficiency:8.9,learning_speed:7.8,usage_efficiency:9.1},{tool:"مولد الأفكار",proficiency:8.4,learning_speed:8.2,usage_efficiency:8.7},{tool:"محلل الأسلوب",proficiency:7.6,learning_speed:7.1,usage_efficiency:8},{tool:"منظم المشاريع",proficiency:8.7,learning_speed:8.5,usage_efficiency:8.9}],personalization_evolution:{style_consistency:8.4,preference_stability:7.8,adaptation_to_feedback:8.9}}}),v=m=>{switch(m){case"increasing":return i.jsx(Hn,{className:"h-4 w-4 text-green-500"});case"decreasing":return i.jsx(Hn,{className:"h-4 w-4 text-red-500 transform rotate-180"});default:return i.jsx(YH,{className:"h-4 w-4 text-gray-500"})}},p=m=>m>=8?"text-green-600":m>=6?"text-blue-600":m>=4?"text-orange-600":"text-red-600";return s?i.jsx("div",{className:"flex items-center justify-center h-96",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-purple-600 mx-auto mb-4"}),i.jsx("p",{className:"text-gray-600",children:"جاري تحليل أنماط السلوك..."})]})}):n?i.jsxs("div",{className:"space-y-6",dir:"rtl",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"محلل السلوك والتفاعل"}),i.jsx("p",{className:"text-gray-600",children:"فهم عميق لأنماط استخدامك وتطور مهاراتك"})]}),i.jsxs(vi,{value:o,onValueChange:m=>l(m),children:[i.jsx(li,{className:"w-32",children:i.jsx(yi,{})}),i.jsxs(ci,{children:[i.jsx(Bt,{value:"week",children:"هذا الأسبوع"}),i.jsx(Bt,{value:"month",children:"هذا الشهر"}),i.jsx(Bt,{value:"quarter",children:"هذا الربع"}),i.jsx(Bt,{value:"year",children:"هذا العام"})]})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[i.jsx(ae,{className:"bg-gradient-to-br from-purple-50 to-purple-100",children:i.jsxs(oe,{className:"p-4",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-purple-600",children:"درجة التركيز"}),i.jsxs("p",{className:"text-2xl font-bold text-purple-900",children:[n.focus_productivity.distraction_analysis.focus_score.toFixed(1),"/10"]})]}),i.jsx(PK,{className:"h-8 w-8 text-purple-500"})]}),i.jsx(tt,{value:n.focus_productivity.distraction_analysis.focus_score*10,className:"h-2 mt-2"})]})}),i.jsx(ae,{className:"bg-gradient-to-br from-blue-50 to-blue-100",children:i.jsxs(oe,{className:"p-4",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-blue-600",children:"مستوى الاستقلالية"}),i.jsxs("p",{className:"text-2xl font-bold text-blue-900",children:[n.interaction_behavior.ai_collaboration_style.independence_level.toFixed(1),"/10"]})]}),i.jsx(zt,{className:"h-8 w-8 text-blue-500"})]}),i.jsx(tt,{value:n.interaction_behavior.ai_collaboration_style.independence_level*10,className:"h-2 mt-2"})]})}),i.jsx(ae,{className:"bg-gradient-to-br from-green-50 to-green-100",children:i.jsxs(oe,{className:"p-4",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-green-600",children:"تكرار حالة التدفق"}),i.jsxs("p",{className:"text-2xl font-bold text-green-900",children:[n.focus_productivity.flow_state_indicators.frequency,"%"]})]}),i.jsx(vr,{className:"h-8 w-8 text-green-500"})]}),i.jsx(tt,{value:n.focus_productivity.flow_state_indicators.frequency,className:"h-2 mt-2"})]})}),i.jsx(ae,{className:"bg-gradient-to-br from-orange-50 to-orange-100",children:i.jsx(oe,{className:"p-4",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-orange-600",children:"متوسط جلسة التدفق"}),i.jsx("p",{className:"text-2xl font-bold text-orange-900",children:n.focus_productivity.flow_state_indicators.average_duration}),i.jsx("p",{className:"text-xs text-orange-600",children:"دقيقة"})]}),i.jsx(S5e,{className:"h-8 w-8 text-orange-500"})]})})})]}),i.jsxs(zn,{value:c,onValueChange:u,className:"space-y-6",children:[i.jsxs(On,{className:"grid w-full grid-cols-5",children:[i.jsx(nt,{value:"usage",children:"أنماط الاستخدام"}),i.jsx(nt,{value:"time",children:"الأوقات المفضلة"}),i.jsx(nt,{value:"interaction",children:"التفاعل مع الذكاء الاصطناعي"}),i.jsx(nt,{value:"focus",children:"التركيز والإنتاجية"}),i.jsx(nt,{value:"skills",children:"تطور المهارات"})]}),i.jsxs(rt,{value:"usage",className:"space-y-6",children:[i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[i.jsxs(ae,{children:[i.jsx(Te,{children:i.jsxs(ke,{className:"flex items-center",children:[i.jsx(Qr,{className:"h-5 w-5 ml-2"}),"استخدام الأدوات"]})}),i.jsx(oe,{children:i.jsx("div",{className:"space-y-4",children:n.usage_patterns.tools_usage.map((m,g)=>i.jsx("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-center justify-between mb-1",children:[i.jsx("span",{className:"text-sm font-medium",children:m.tool}),i.jsxs("div",{className:"flex items-center space-x-2 space-x-reverse",children:[v(m.trend),i.jsx(He,{variant:"outline",children:m.usage_count})]})]}),i.jsxs("div",{className:"flex items-center text-xs text-gray-600 mb-2",children:[i.jsx(xr,{className:"h-3 w-3 ml-1"}),m.average_duration," دقيقة في المتوسط"]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("span",{className:"text-xs",children:"الفعالية:"}),i.jsx(tt,{value:m.effectiveness_score*10,className:"h-1 w-16"}),i.jsxs("span",{className:"text-xs",children:[m.effectiveness_score.toFixed(1),"/10"]})]})]})},m.tool))})})]}),i.jsxs(ae,{children:[i.jsx(Te,{children:i.jsxs(ke,{className:"flex items-center",children:[i.jsx(Wn,{className:"h-5 w-5 ml-2"}),"التفاعل مع الوكلاء"]})}),i.jsx(oe,{children:i.jsx("div",{className:"space-y-4",children:n.usage_patterns.agents_interaction.map((m,g)=>i.jsxs("div",{className:"p-3 border rounded-lg",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("span",{className:"text-sm font-medium",children:m.agent}),i.jsx(He,{variant:"default",children:m.total_interactions})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[i.jsxs("div",{children:[i.jsx("span",{className:"text-gray-600",children:"معدل القبول:"}),i.jsxs("span",{className:`font-semibold ${p(m.acceptance_rate/10)}`,children:[m.acceptance_rate,"%"]})]}),i.jsxs("div",{children:[i.jsx("span",{className:"text-gray-600",children:"الرضا:"}),i.jsxs("span",{className:`font-semibold ${p(m.user_satisfaction)}`,children:[m.user_satisfaction.toFixed(1),"/10"]})]})]}),i.jsxs("div",{className:"mt-2",children:[i.jsx(tt,{value:m.collaboration_score*10,className:"h-1"}),i.jsxs("span",{className:"text-xs text-gray-600",children:["درجة التعاون: ",m.collaboration_score.toFixed(1),"/10"]})]})]},m.agent))})})]})]}),i.jsxs(ae,{children:[i.jsx(Te,{children:i.jsxs(ke,{className:"flex items-center",children:[i.jsx(nr,{className:"h-5 w-5 ml-2"}),"تبني المميزات الجديدة"]})}),i.jsx(oe,{children:i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:n.usage_patterns.feature_adoption.map((m,g)=>i.jsxs("div",{className:"p-4 bg-gradient-to-br from-blue-50 to-purple-50 rounded-lg",children:[i.jsx("h4",{className:"font-semibold text-sm mb-2",children:m.feature}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex items-center justify-between text-xs",children:[i.jsx("span",{children:"تاريخ التبني:"}),i.jsx("span",{children:new Date(m.adoption_date).toLocaleDateString("ar-SA")})]}),i.jsxs("div",{className:"flex items-center justify-between text-xs",children:[i.jsx("span",{children:"تكرار الاستخدام:"}),i.jsxs(He,{variant:"outline",children:[m.usage_frequency,"%"]})]}),i.jsxs("div",{children:[i.jsx("span",{className:"text-xs",children:"مستوى الإتقان:"}),i.jsx(tt,{value:m.mastery_level*10,className:"h-2 mt-1"}),i.jsxs("span",{className:"text-xs text-gray-600",children:[m.mastery_level.toFixed(1),"/10"]})]})]})]},m.feature))})})]})]}),i.jsxs(rt,{value:"time",className:"space-y-6",children:[i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[i.jsxs(ae,{children:[i.jsx(Te,{children:i.jsxs(ke,{className:"flex items-center",children:[i.jsx(xr,{className:"h-5 w-5 ml-2"}),"الإنتاجية عبر ساعات اليوم"]})}),i.jsx(oe,{children:i.jsx("div",{className:"h-64",children:i.jsx(Cr,{width:"100%",height:"100%",children:i.jsxs(B5,{data:n.time_patterns.hourly_productivity,children:[i.jsx(Hi,{strokeDasharray:"3 3"}),i.jsx(Tr,{dataKey:"hour"}),i.jsx(ur,{}),i.jsx(er,{}),i.jsx(Ji,{}),i.jsx(Is,{type:"monotone",dataKey:"productivity_score",stroke:h.primary,fill:h.primary,fillOpacity:.3,name:"درجة الإنتاجية"}),i.jsx(Is,{type:"monotone",dataKey:"quality_score",stroke:h.success,fill:h.success,fillOpacity:.3,name:"جودة النتاج"})]})})})})]}),i.jsxs(ae,{children:[i.jsx(Te,{children:i.jsxs(ke,{className:"flex items-center",children:[i.jsx(wp,{className:"h-5 w-5 ml-2"}),"الأنماط الأسبوعية"]})}),i.jsx(oe,{children:i.jsx("div",{className:"h-64",children:i.jsx(Cr,{width:"100%",height:"100%",children:i.jsxs(uj,{data:n.time_patterns.daily_patterns,children:[i.jsx(Hi,{strokeDasharray:"3 3"}),i.jsx(Tr,{dataKey:"day"}),i.jsx(ur,{}),i.jsx(er,{}),i.jsx(Ji,{}),i.jsx(Ys,{dataKey:"total_time",fill:h.blue,name:"وقت الكتابة (دقيقة)"}),i.jsx(Ys,{dataKey:"average_quality",fill:h.green,name:"متوسط الجودة"})]})})})})]})]}),i.jsxs(ae,{children:[i.jsx(Te,{children:i.jsxs(ke,{className:"flex items-center",children:[i.jsx(En,{className:"h-5 w-5 ml-2"}),"التوقيت الأمثل للجلسات"]})}),i.jsx(oe,{children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[i.jsxs("div",{className:"text-center p-4 bg-blue-50 rounded-lg",children:[i.jsx("h4",{className:"text-sm font-semibold text-blue-800 mb-2",children:"المتوسط الحالي"}),i.jsx("p",{className:"text-2xl font-bold text-blue-900",children:n.time_patterns.optimal_session_duration.current_average}),i.jsx("p",{className:"text-sm text-blue-600",children:"دقيقة"})]}),i.jsxs("div",{className:"text-center p-4 bg-green-50 rounded-lg",children:[i.jsx("h4",{className:"text-sm font-semibold text-green-800 mb-2",children:"النطاق الأمثل"}),i.jsxs("p",{className:"text-lg font-bold text-green-900",children:[n.time_patterns.optimal_session_duration.optimal_range[0]," - ",n.time_patterns.optimal_session_duration.optimal_range[1]]}),i.jsx("p",{className:"text-sm text-green-600",children:"دقيقة"})]}),i.jsxs("div",{className:"text-center p-4 bg-purple-50 rounded-lg",children:[i.jsx("h4",{className:"text-sm font-semibold text-purple-800 mb-2",children:"الأداء الذروي"}),i.jsx("p",{className:"text-2xl font-bold text-purple-900",children:n.time_patterns.optimal_session_duration.peak_performance_duration}),i.jsx("p",{className:"text-sm text-purple-600",children:"دقيقة"})]})]})})]}),i.jsxs(ae,{children:[i.jsx(Te,{children:i.jsxs(ke,{className:"flex items-center",children:[i.jsx(hs,{className:"h-5 w-5 ml-2"}),"الاتجاهات الموسمية"]})}),i.jsx(oe,{children:i.jsx("div",{className:"h-80",children:i.jsx(Cr,{width:"100%",height:"100%",children:i.jsxs(If,{data:n.time_patterns.seasonal_trends,children:[i.jsx(Hi,{strokeDasharray:"3 3"}),i.jsx(Tr,{dataKey:"month"}),i.jsx(ur,{}),i.jsx(er,{}),i.jsx(Ji,{}),i.jsx(Kr,{type:"monotone",dataKey:"activity_level",stroke:h.primary,strokeWidth:3,name:"مستوى النشاط"}),i.jsx(Kr,{type:"monotone",dataKey:"improvement_rate",stroke:h.success,strokeWidth:2,name:"معدل التحسن"}),i.jsx(Kr,{type:"monotone",dataKey:"goal_completion",stroke:h.warning,strokeWidth:2,name:"إنجاز الأهداف"})]})})})})]})]}),i.jsxs(rt,{value:"interaction",className:"space-y-6",children:[i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[i.jsxs(ae,{children:[i.jsx(Te,{children:i.jsxs(ke,{className:"flex items-center",children:[i.jsx(zt,{className:"h-5 w-5 ml-2"}),"نمط التعاون مع الذكاء الاصطناعي"]})}),i.jsx(oe,{children:i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("span",{className:"text-sm",children:"مستوى الاستقلالية"}),i.jsxs(He,{variant:"default",children:[n.interaction_behavior.ai_collaboration_style.independence_level.toFixed(1),"/10"]})]}),i.jsx(tt,{value:n.interaction_behavior.ai_collaboration_style.independence_level*10,className:"h-3"})]}),i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("span",{className:"text-sm",children:"تفضيل التوجيه"}),i.jsxs(He,{variant:"secondary",children:[n.interaction_behavior.ai_collaboration_style.guidance_preference.toFixed(1),"/10"]})]}),i.jsx(tt,{value:n.interaction_behavior.ai_collaboration_style.guidance_preference*10,className:"h-3"})]}),i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("span",{className:"text-sm",children:"معدل التجريب"}),i.jsxs(He,{variant:"outline",children:[n.interaction_behavior.ai_collaboration_style.experimentation_rate.toFixed(1),"/10"]})]}),i.jsx(tt,{value:n.interaction_behavior.ai_collaboration_style.experimentation_rate*10,className:"h-3"})]}),i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("span",{className:"text-sm",children:"الاستجابة للتغذية الراجعة"}),i.jsxs(He,{variant:"default",children:[n.interaction_behavior.ai_collaboration_style.feedback_responsiveness.toFixed(1),"/10"]})]}),i.jsx(tt,{value:n.interaction_behavior.ai_collaboration_style.feedback_responsiveness*10,className:"h-3"})]})]})})]}),i.jsxs(ae,{children:[i.jsx(Te,{children:i.jsxs(ke,{className:"flex items-center",children:[i.jsx(Hn,{className:"h-5 w-5 ml-2"}),"منحنى التعلم والتكيف"]})}),i.jsx(oe,{children:i.jsx("div",{className:"h-64",children:i.jsx(Cr,{width:"100%",height:"100%",children:i.jsxs(If,{data:n.interaction_behavior.learning_curve,children:[i.jsx(Hi,{strokeDasharray:"3 3"}),i.jsx(Tr,{dataKey:"week"}),i.jsx(ur,{}),i.jsx(er,{}),i.jsx(Ji,{}),i.jsx(Kr,{type:"monotone",dataKey:"skill_acquisition",stroke:h.primary,strokeWidth:2,name:"اكتساب المهارات"}),i.jsx(Kr,{type:"monotone",dataKey:"adaptation_speed",stroke:h.secondary,strokeWidth:2,name:"سرعة التكيف"}),i.jsx(Kr,{type:"monotone",dataKey:"retention_rate",stroke:h.success,strokeWidth:2,name:"معدل الاحتفاظ"})]})})})})]})]}),i.jsxs(ae,{children:[i.jsx(Te,{children:i.jsxs(ke,{className:"flex items-center",children:[i.jsx(nr,{className:"h-5 w-5 ml-2"}),"أنماط طلب المساعدة"]})}),i.jsx(oe,{children:i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:n.interaction_behavior.help_seeking_patterns.map((m,g)=>i.jsxs("div",{className:"p-4 border rounded-lg",children:[i.jsx("h4",{className:"font-semibold text-sm mb-2",children:m.category}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex items-center justify-between text-xs",children:[i.jsx("span",{children:"التكرار:"}),i.jsx(He,{variant:"outline",children:m.frequency})]}),i.jsxs("div",{className:"flex items-center justify-between text-xs",children:[i.jsx("span",{children:"التوقيت:"}),i.jsx(He,{variant:"secondary",children:m.timing==="early"?"مبكر":m.timing==="middle"?"متوسط":"متأخر"})]}),i.jsxs("div",{children:[i.jsx("span",{className:"text-xs",children:"معدل الحل:"}),i.jsx(tt,{value:m.resolution_rate,className:"h-2 mt-1"}),i.jsxs("span",{className:"text-xs text-gray-600",children:[m.resolution_rate,"%"]})]})]})]},m.category))})})]})]}),i.jsxs(rt,{value:"focus",className:"space-y-6",children:[i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[i.jsxs(ae,{children:[i.jsx(Te,{children:i.jsxs(ke,{className:"flex items-center",children:[i.jsx(PK,{className:"h-5 w-5 ml-2"}),"جلسات العمل العميق"]})}),i.jsx(oe,{children:i.jsx("div",{className:"h-64",children:i.jsx(Cr,{width:"100%",height:"100%",children:i.jsxs(unt,{data:n.focus_productivity.deep_work_sessions,children:[i.jsx(Hi,{strokeDasharray:"3 3"}),i.jsx(Tr,{dataKey:"duration",name:"المدة"}),i.jsx(ur,{dataKey:"quality_output",name:"جودة النتاج"}),i.jsx(er,{cursor:{strokeDasharray:"3 3"}}),i.jsx(cj,{name:"جلسات العمل",data:n.focus_productivity.deep_work_sessions,fill:h.primary})]})})})})]}),i.jsxs(ae,{children:[i.jsx(Te,{children:i.jsxs(ke,{className:"flex items-center",children:[i.jsx(p5e,{className:"h-5 w-5 ml-2"}),"تحليل المشتتات"]})}),i.jsx(oe,{children:i.jsx("div",{className:"space-y-4",children:n.focus_productivity.distraction_analysis.common_distractions.map((m,g)=>i.jsxs("div",{className:"p-3 bg-gray-50 rounded-lg",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("span",{className:"text-sm font-medium",children:m.type}),i.jsx(He,{variant:"outline",children:m.frequency})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("span",{className:"text-xs",children:"التأثير على الجودة:"}),i.jsxs("div",{className:"flex items-center",children:[i.jsx(tt,{value:(10-m.impact_on_quality)*10,className:"h-1 w-16"}),i.jsxs("span",{className:"text-xs mr-1",children:[m.impact_on_quality.toFixed(1),"/10"]})]})]})]},m.type))})})]})]}),i.jsxs(ae,{children:[i.jsx(Te,{children:i.jsxs(ke,{className:"flex items-center",children:[i.jsx(vr,{className:"h-5 w-5 ml-2"}),"مؤشرات حالة التدفق"]})}),i.jsx(oe,{children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("div",{children:[i.jsx("h4",{className:"font-semibold mb-4",children:"محفزات التدفق"}),i.jsx("div",{className:"space-y-2",children:n.focus_productivity.flow_state_indicators.triggers.map((m,g)=>i.jsxs("div",{className:"flex items-center p-2 bg-blue-50 rounded-lg",children:[i.jsx(tr,{className:"h-4 w-4 text-blue-500 ml-2"}),i.jsx("span",{className:"text-sm text-blue-800",children:m})]},g))})]}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-semibold mb-4",children:"الظروف المثلى"}),i.jsx("div",{className:"space-y-2",children:n.focus_productivity.flow_state_indicators.optimal_conditions.map((m,g)=>i.jsxs("div",{className:"flex items-center p-2 bg-green-50 rounded-lg",children:[i.jsx(En,{className:"h-4 w-4 text-green-500 ml-2"}),i.jsx("span",{className:"text-sm text-green-800",children:m})]},g))})]})]})})]}),i.jsxs(ae,{children:[i.jsx(Te,{children:i.jsxs(ke,{className:"flex items-center",children:[i.jsx(Rs,{className:"h-5 w-5 ml-2"}),"تطور درجة التركيز عبر الوقت"]})}),i.jsx(oe,{children:i.jsx("div",{className:"h-64",children:i.jsx(Cr,{width:"100%",height:"100%",children:i.jsxs(B5,{data:n.focus_productivity.distraction_analysis.improvement_over_time,children:[i.jsx(Hi,{strokeDasharray:"3 3"}),i.jsx(Tr,{dataKey:"week"}),i.jsx(ur,{domain:[0,10]}),i.jsx(er,{}),i.jsx(Is,{type:"monotone",dataKey:"focus_score",stroke:h.success,fill:h.success,fillOpacity:.3,name:"درجة التركيز"})]})})})})]})]}),i.jsxs(rt,{value:"skills",className:"space-y-6",children:[i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[i.jsxs(ae,{children:[i.jsx(Te,{children:i.jsxs(ke,{className:"flex items-center",children:[i.jsx(ga,{className:"h-5 w-5 ml-2"}),"تطور مهارات الكتابة"]})}),i.jsx(oe,{children:i.jsx("div",{className:"space-y-4",children:n.skill_development.writing_skills.map((m,g)=>i.jsxs("div",{className:"p-3 border rounded-lg",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("span",{className:"text-sm font-medium",children:m.skill}),i.jsxs(He,{variant:"default",children:[m.current_level.toFixed(1),"/10"]})]}),i.jsx(tt,{value:m.current_level*10,className:"h-2 mb-2"}),i.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-600",children:[i.jsxs("span",{children:["معدل النمو: +",m.growth_rate.toFixed(2),"/أسبوع"]}),i.jsxs("span",{children:["تكرار الممارسة: ",m.practice_frequency,"%"]})]})]},m.skill))})})]}),i.jsxs(ae,{children:[i.jsx(Te,{children:i.jsxs(ke,{className:"flex items-center",children:[i.jsx(Qr,{className:"h-5 w-5 ml-2"}),"إتقان الأدوات"]})}),i.jsx(oe,{children:i.jsx("div",{className:"space-y-4",children:n.skill_development.tool_mastery.map((m,g)=>i.jsxs("div",{className:"p-3 bg-gray-50 rounded-lg",children:[i.jsx("h4",{className:"text-sm font-semibold mb-3",children:m.tool}),i.jsxs("div",{className:"grid grid-cols-3 gap-2 text-xs",children:[i.jsxs("div",{children:[i.jsx("span",{className:"text-gray-600",children:"الإتقان:"}),i.jsxs("div",{className:"flex items-center",children:[i.jsx(tt,{value:m.proficiency*10,className:"h-1 flex-1"}),i.jsx("span",{className:"mr-1",children:m.proficiency.toFixed(1)})]})]}),i.jsxs("div",{children:[i.jsx("span",{className:"text-gray-600",children:"سرعة التعلم:"}),i.jsxs("div",{className:"flex items-center",children:[i.jsx(tt,{value:m.learning_speed*10,className:"h-1 flex-1"}),i.jsx("span",{className:"mr-1",children:m.learning_speed.toFixed(1)})]})]}),i.jsxs("div",{children:[i.jsx("span",{className:"text-gray-600",children:"الكفاءة:"}),i.jsxs("div",{className:"flex items-center",children:[i.jsx(tt,{value:m.usage_efficiency*10,className:"h-1 flex-1"}),i.jsx("span",{className:"mr-1",children:m.usage_efficiency.toFixed(1)})]})]})]})]},m.tool))})})]})]}),i.jsxs(ae,{children:[i.jsx(Te,{children:i.jsxs(ke,{className:"flex items-center",children:[i.jsx(za,{className:"h-5 w-5 ml-2"}),"تطور التخصيص الشخصي"]})}),i.jsx(oe,{children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[i.jsxs("div",{className:"text-center p-4 bg-purple-50 rounded-lg",children:[i.jsx("h4",{className:"text-sm font-semibold text-purple-800 mb-2",children:"اتساق الأسلوب"}),i.jsxs("div",{className:"relative w-20 h-20 mx-auto mb-2",children:[i.jsxs("svg",{className:"w-20 h-20 transform -rotate-90",viewBox:"0 0 36 36",children:[i.jsx("path",{d:"m18,2.0845 a 15.9155,15.9155 0 0,1 0,31.831 a 15.9155,15.9155 0 0,1 0,-31.831",fill:"none",stroke:"#E5E7EB",strokeWidth:"3"}),i.jsx("path",{d:"m18,2.0845 a 15.9155,15.9155 0 0,1 0,31.831 a 15.9155,15.9155 0 0,1 0,-31.831",fill:"none",stroke:"#8B5CF6",strokeWidth:"3",strokeDasharray:`${n.skill_development.personalization_evolution.style_consistency*10}, 100`})]}),i.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:i.jsx("span",{className:"text-lg font-bold text-purple-900",children:n.skill_development.personalization_evolution.style_consistency.toFixed(1)})})]}),i.jsx("p",{className:"text-xs text-purple-600",children:"من 10"})]}),i.jsxs("div",{className:"text-center p-4 bg-blue-50 rounded-lg",children:[i.jsx("h4",{className:"text-sm font-semibold text-blue-800 mb-2",children:"ثبات التفضيلات"}),i.jsxs("div",{className:"relative w-20 h-20 mx-auto mb-2",children:[i.jsxs("svg",{className:"w-20 h-20 transform -rotate-90",viewBox:"0 0 36 36",children:[i.jsx("path",{d:"m18,2.0845 a 15.9155,15.9155 0 0,1 0,31.831 a 15.9155,15.9155 0 0,1 0,-31.831",fill:"none",stroke:"#E5E7EB",strokeWidth:"3"}),i.jsx("path",{d:"m18,2.0845 a 15.9155,15.9155 0 0,1 0,31.831 a 15.9155,15.9155 0 0,1 0,-31.831",fill:"none",stroke:"#06B6D4",strokeWidth:"3",strokeDasharray:`${n.skill_development.personalization_evolution.preference_stability*10}, 100`})]}),i.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:i.jsx("span",{className:"text-lg font-bold text-blue-900",children:n.skill_development.personalization_evolution.preference_stability.toFixed(1)})})]}),i.jsx("p",{className:"text-xs text-blue-600",children:"من 10"})]}),i.jsxs("div",{className:"text-center p-4 bg-green-50 rounded-lg",children:[i.jsx("h4",{className:"text-sm font-semibold text-green-800 mb-2",children:"التكيف مع التغذية الراجعة"}),i.jsxs("div",{className:"relative w-20 h-20 mx-auto mb-2",children:[i.jsxs("svg",{className:"w-20 h-20 transform -rotate-90",viewBox:"0 0 36 36",children:[i.jsx("path",{d:"m18,2.0845 a 15.9155,15.9155 0 0,1 0,31.831 a 15.9155,15.9155 0 0,1 0,-31.831",fill:"none",stroke:"#E5E7EB",strokeWidth:"3"}),i.jsx("path",{d:"m18,2.0845 a 15.9155,15.9155 0 0,1 0,31.831 a 15.9155,15.9155 0 0,1 0,-31.831",fill:"none",stroke:"#10B981",strokeWidth:"3",strokeDasharray:`${n.skill_development.personalization_evolution.adaptation_to_feedback*10}, 100`})]}),i.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:i.jsx("span",{className:"text-lg font-bold text-green-900",children:n.skill_development.personalization_evolution.adaptation_to_feedback.toFixed(1)})})]}),i.jsx("p",{className:"text-xs text-green-600",children:"من 10"})]})]})})]})]})]})]}):i.jsx(ae,{className:"p-8 text-center",children:i.jsxs(oe,{children:[i.jsx(Rs,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),i.jsx("h3",{className:"text-lg font-semibold text-gray-700 mb-2",children:"لا توجد بيانات سلوكية كافية"}),i.jsx("p",{className:"text-gray-600",children:"استخدم النظام أكثر لتحليل أنماط سلوكك"})]})})},uct=()=>{var m;const[t,e]=E.useState("overview"),[n,r]=E.useState(null),[s,a]=E.useState([]),[o,l]=E.useState(null),[c,u]=E.useState(!0),[d,h]=E.useState(!1),{toast:f}=ki();E.useEffect(()=>{A(),v()},[]);const A=async()=>{try{const x=await(await fetch("/api/projects")).json();x.success&&(a(x.projects),x.projects.length>0&&r(x.projects[0].id))}catch(g){console.error("خطأ في جلب المشاريع:",g)}},v=async()=>{try{const x=await(await fetch("/api/analytics/dashboard-stats?user_id=anonymous")).json();if(x.success)l(x.stats);else throw new Error(x.error)}catch(g){console.error("خطأ في جلب إحصائيات لوحة التحكم:",g),f({title:"خطأ",description:"فشل في جلب الإحصائيات",variant:"destructive"})}finally{u(!1)}},p=()=>{n?h(!0):f({title:"تحذير",description:"الرجاء اختيار مشروع أولاً",variant:"destructive"})};return c?i.jsx("div",{className:"flex items-center justify-center h-96",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),i.jsx("p",{children:"جاري تحميل تحليلاتك الشخصية..."})]})}):d&&n?i.jsx(Unt,{projectId:n,onClose:()=>h(!1)}):i.jsxs("div",{className:"space-y-6 p-6",dir:"rtl",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"📊 التحليلات الشخصية"}),i.jsx("p",{className:"text-gray-600",children:"تتبع تطورك وتحليل رحلتك في الكتابة الإبداعية"})]}),i.jsxs("div",{className:"flex gap-4 items-center",children:[s.length>0&&i.jsxs(vi,{value:n==null?void 0:n.toString(),onValueChange:g=>r(parseInt(g)),children:[i.jsx(li,{className:"w-64",children:i.jsx(yi,{placeholder:"اختر مشروعاً للتحليل"})}),i.jsx(ci,{children:s.map(g=>i.jsx(Bt,{value:g.id.toString(),children:g.title},g.id))})]}),i.jsxs(xe,{onClick:p,disabled:!n,className:"bg-gradient-to-r from-purple-500 to-blue-600 text-white",children:[i.jsx(xn,{className:"h-4 w-4 mr-2"}),"التقرير الشخصي"]})]})]}),o&&i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[i.jsx(ae,{className:"bg-gradient-to-br from-blue-50 to-blue-100",children:i.jsxs(oe,{className:"p-6",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-blue-600",children:"جلسات هذا الأسبوع"}),i.jsx("p",{className:"text-2xl font-bold text-blue-900",children:o.current_week.sessions})]}),i.jsx(wp,{className:"h-8 w-8 text-blue-500"})]}),i.jsx("div",{className:"mt-2",children:i.jsxs(He,{variant:"outline",className:"text-blue-600",children:["+",o.current_week.sessions-(o.current_month.sessions-o.current_week.sessions)/3," من الأسبوع الماضي"]})})]})}),i.jsx(ae,{className:"bg-gradient-to-br from-green-50 to-green-100",children:i.jsxs(oe,{className:"p-6",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-green-600",children:"كلمات هذا الأسبوع"}),i.jsx("p",{className:"text-2xl font-bold text-green-900",children:o.current_week.words.toLocaleString()})]}),i.jsx(ga,{className:"h-8 w-8 text-green-500"})]}),i.jsx("div",{className:"mt-2",children:i.jsx(tt,{value:o.current_week.words/Math.max(o.current_month.words,1)*100,className:"h-2"})})]})}),i.jsx(ae,{className:"bg-gradient-to-br from-purple-50 to-purple-100",children:i.jsxs(oe,{className:"p-6",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-purple-600",children:"متوسط الجودة"}),i.jsxs("p",{className:"text-2xl font-bold text-purple-900",children:[o.current_week.quality.toFixed(1),"/5"]})]}),i.jsx(tr,{className:"h-8 w-8 text-purple-500"})]}),i.jsx("div",{className:"mt-2",children:i.jsxs("div",{className:"flex items-center",children:[i.jsx(tt,{value:o.current_week.quality*20,className:"h-2 flex-1"}),i.jsxs("span",{className:"ml-2 text-sm text-purple-600",children:[(o.current_week.quality*20).toFixed(0),"%"]})]})})]})}),i.jsx(ae,{className:"bg-gradient-to-br from-orange-50 to-orange-100",children:i.jsx(oe,{className:"p-6",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-orange-600",children:"الإنتاجية"}),i.jsx("p",{className:"text-2xl font-bold text-orange-900",children:o.productivity.words_per_session.toFixed(0)}),i.jsx("p",{className:"text-xs text-orange-600",children:"كلمة/جلسة"})]}),i.jsx(Rs,{className:"h-8 w-8 text-orange-500"})]})})})]}),i.jsxs(zn,{value:t,onValueChange:e,className:"space-y-6",children:[i.jsxs(On,{className:"grid w-full grid-cols-7",children:[i.jsxs(nt,{value:"overview",className:"flex items-center gap-2",children:[i.jsx(hs,{className:"h-4 w-4"}),"نظرة عامة"]}),i.jsxs(nt,{value:"evolution",className:"flex items-center gap-2",children:[i.jsx(Hn,{className:"h-4 w-4"}),"لوحة تطوري"]}),i.jsxs(nt,{value:"evolution-advanced",className:"flex items-center gap-2",children:[i.jsx(vr,{className:"h-4 w-4"}),"تطوري المتقدم"]}),i.jsxs(nt,{value:"style",className:"flex items-center gap-2",children:[i.jsx(ga,{className:"h-4 w-4"}),"المقاييس الأسلوبية"]}),i.jsxs(nt,{value:"behavior",className:"flex items-center gap-2",children:[i.jsx(Rs,{className:"h-4 w-4"}),"السلوك والتفاعل"]}),i.jsxs(nt,{value:"reports",className:"flex items-center gap-2",children:[i.jsx(xn,{className:"h-4 w-4"}),"التقارير المخصصة"]}),i.jsxs(nt,{value:"insights",className:"flex items-center gap-2",children:[i.jsx(zt,{className:"h-4 w-4"}),"رؤى تفصيلية"]})]}),i.jsxs(rt,{value:"overview",className:"space-y-6",children:[i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[i.jsxs(ae,{children:[i.jsxs(Te,{children:[i.jsxs(ke,{className:"flex items-center gap-2",children:[i.jsx(En,{className:"h-5 w-5"}),"مناطق التحسين"]}),i.jsx(Pt,{children:"أهم النقاط التي يمكن تطويرها في أسلوبك"})]}),i.jsx(oe,{children:(m=o==null?void 0:o.improvement_areas)!=null&&m.length?i.jsx("div",{className:"space-y-4",children:o.improvement_areas.slice(0,3).map((g,x)=>i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("span",{className:"font-medium text-sm",children:g.area}),i.jsxs(He,{variant:"outline",children:[g.current_score.toFixed(1),"/",g.target_score.toFixed(1)]})]}),i.jsx(tt,{value:g.current_score/g.target_score*100,className:"h-2"}),i.jsx("p",{className:"text-xs text-gray-600",children:g.suggestion})]},x))}):i.jsxs("div",{className:"text-center py-8 text-gray-500",children:[i.jsx(za,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),i.jsx("p",{children:"ممتاز! لا توجد مناطق تحسين واضحة"})]})})]}),i.jsxs(ae,{children:[i.jsxs(Te,{children:[i.jsxs(ke,{className:"flex items-center gap-2",children:[i.jsx(vr,{className:"h-5 w-5"}),"مؤشرات الإنتاجية"]}),i.jsx(Pt,{children:"إحصائيات أدائك في الكتابة"})]}),i.jsx(oe,{children:o&&i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("span",{className:"text-sm",children:"كلمات في الدقيقة"}),i.jsx("span",{className:"font-bold",children:o.productivity.words_per_minute.toFixed(1)})]}),i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("span",{className:"text-sm",children:"جلسات في الأسبوع"}),i.jsx("span",{className:"font-bold",children:o.productivity.sessions_per_week.toFixed(1)})]}),i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("span",{className:"text-sm",children:"كلمات في الجلسة"}),i.jsx("span",{className:"font-bold",children:o.productivity.words_per_session.toFixed(0)})]}),i.jsx("div",{className:"mt-4 p-3 bg-blue-50 rounded-lg",children:i.jsxs("p",{className:"text-sm text-blue-700",children:[i.jsx(nr,{className:"h-4 w-4 inline mr-1"}),o.productivity.words_per_minute>15?"إنتاجيتك ممتازة! استمر على هذا الأداء":"يمكنك تحسين إنتاجيتك بالممارسة المستمرة"]})})]})})]})]}),i.jsxs(ae,{children:[i.jsxs(Te,{children:[i.jsxs(ke,{className:"flex items-center gap-2",children:[i.jsx(dr,{className:"h-5 w-5"}),"مشاريعك الحديثة"]}),i.jsx(Pt,{children:"آخر المشاريع التي عملت عليها"})]}),i.jsx(oe,{children:s.length>0?i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:s.slice(0,6).map(g=>i.jsxs("div",{className:`border rounded-lg p-4 cursor-pointer hover:bg-gray-50 transition-colors ${n===g.id?"border-blue-500 bg-blue-50":""}`,onClick:()=>r(g.id),children:[i.jsx("h4",{className:"font-semibold mb-2",children:g.title}),i.jsxs("div",{className:"space-y-1 text-sm text-gray-600",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(En,{className:"h-3 w-3"}),i.jsxs("span",{children:["المرحلة ",g.current_stage,"/6"]})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(xr,{className:"h-3 w-3"}),i.jsx("span",{children:new Date(g.created_at).toLocaleDateString("ar")})]})]}),i.jsx(tt,{value:g.current_stage/6*100,className:"h-2 mt-3"})]},g.id))}):i.jsxs("div",{className:"text-center py-8 text-gray-500",children:[i.jsx(dr,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),i.jsx("p",{children:"لا توجد مشاريع بعد"}),i.jsx("p",{className:"text-sm",children:"ابدأ مشروعاً جديداً لرؤية التحليلات"})]})})]})]}),i.jsx(rt,{value:"evolution",children:i.jsx(Int,{userId:"current_user",projectId:n||void 0,timeRange:"month"})}),i.jsx(rt,{value:"evolution-advanced",children:i.jsx(Ont,{userId:"current_user",projectId:n||void 0,timeRange:"month"})}),i.jsx(rt,{value:"style",children:i.jsx(Mnt,{userId:"current_user",projectId:n||void 0,timeRange:"project"})}),i.jsx(rt,{value:"behavior",children:i.jsx(cct,{userId:"current_user",timeRange:"month"})}),i.jsx(rt,{value:"reports",children:i.jsxs("div",{className:"space-y-6",children:[i.jsx(lct,{projectId:n||void 0,reportType:"full_report"}),i.jsx("div",{className:"my-8 border-t border-gray-200"}),i.jsxs(ae,{className:"border-dashed border-2 border-gray-300",children:[i.jsxs(Te,{children:[i.jsx(ke,{className:"text-lg text-gray-600",children:"التقارير التقليدية"}),i.jsx(Pt,{children:"نظام التقارير القديم (للمقارنة)"})]}),i.jsx(oe,{children:n?i.jsx(Irt,{projectId:n,userId:"current_user",onReportGenerated:g=>{f({title:"تم إنشاء التقرير التقليدي",description:`تم حفظ التقرير: ${g}`,variant:"default"})}}):i.jsxs("div",{className:"text-center py-8 text-gray-500",children:[i.jsx(xn,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),i.jsx("h3",{className:"text-lg font-semibold text-gray-700 mb-2",children:"اختر مشروعاً لإنشاء التقرير"}),i.jsx("p",{className:"text-gray-600",children:'حدد أحد مشاريعك من تبويب "نظرة عامة" لإنشاء تقرير مخصص'})]})})]})]})}),i.jsxs(rt,{value:"insights",className:"space-y-6",children:[i.jsxs(ae,{children:[i.jsxs(Te,{children:[i.jsxs(ke,{className:"flex items-center gap-2",children:[i.jsx(zt,{className:"h-5 w-5"}),"رؤى ذكية حول أسلوبك"]}),i.jsx(Pt,{children:"تحليلات متقدمة مبنية على الذكاء الاصطناعي"})]}),i.jsx(oe,{children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("div",{className:"space-y-4",children:[i.jsx("h4",{className:"font-semibold",children:"نقاط القوة في أسلوبك:"}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex items-center gap-2 p-2 bg-green-50 rounded",children:[i.jsx(tr,{className:"h-4 w-4 text-green-600"}),i.jsx("span",{className:"text-sm",children:"استخدام متميز للصور البلاغية"})]}),i.jsxs("div",{className:"flex items-center gap-2 p-2 bg-blue-50 rounded",children:[i.jsx(nr,{className:"h-4 w-4 text-blue-600"}),i.jsx("span",{className:"text-sm",children:"ثراء في المفردات والتعبيرات"})]}),i.jsxs("div",{className:"flex items-center gap-2 p-2 bg-purple-50 rounded",children:[i.jsx(za,{className:"h-4 w-4 text-purple-600"}),i.jsx("span",{className:"text-sm",children:"تماسك جيد في البناء السردي"})]})]})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsx("h4",{className:"font-semibold",children:"توصيات للتطوير:"}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex items-center gap-2 p-2 bg-orange-50 rounded",children:[i.jsx(En,{className:"h-4 w-4 text-orange-600"}),i.jsx("span",{className:"text-sm",children:"تنويع أطوال الجمل للإيقاع"})]}),i.jsxs("div",{className:"flex items-center gap-2 p-2 bg-red-50 rounded",children:[i.jsx(Hn,{className:"h-4 w-4 text-red-600"}),i.jsx("span",{className:"text-sm",children:"زيادة المراجع الثقافية"})]}),i.jsxs("div",{className:"flex items-center gap-2 p-2 bg-yellow-50 rounded",children:[i.jsx(Wn,{className:"h-4 w-4 text-yellow-600"}),i.jsx("span",{className:"text-sm",children:"تطوير الحوارات الطبيعية"})]})]})]})]})})]}),i.jsxs(ae,{children:[i.jsxs(Te,{children:[i.jsx(ke,{children:"مقارنة مع الكتاب المشهورين"}),i.jsx(Pt,{children:"كيف يقارن أسلوبك مع أساليب الأدباء المعروفين"})]}),i.jsx(oe,{children:i.jsxs("div",{className:"text-center py-8 text-gray-500",children:[i.jsx(zt,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),i.jsx("p",{children:"هذه الميزة قيد التطوير"}),i.jsx("p",{className:"text-sm",children:"ستتمكن قريباً من مقارنة أسلوبك مع أعظم الكتاب"})]})})]})]})]})]})},dct=()=>{const[t,e]=E.useState("overview"),n=[{id:"quick-toolbar",title:"شريط الأدوات السريع",description:"وصول فوري للأدوات والوكلاء المفضلة من أي مكان",icon:bf,status:"active",demo:"شريط عائم في أسفل الشاشة مع أدوات قابلة للتخصيص"},{id:"agent-monitor",title:"مراقب الوكلاء المتقدم",description:"مراقبة حالة وأداء جميع الوكلاء في الوقت الفعلي",icon:Rs,status:"active",demo:"لوحة تحكم شاملة لمراقبة الوكلاء وإدارتها"},{id:"simple-creator",title:"منشئ الوكيل المبسط",description:"إنشاء وكيل مخصص في خطوات بسيطة مع قوالب جاهزة",icon:rh,status:"active",demo:"معالج خطوة بخطوة مع قوالب جاهزة للوكلاء الشائعة"},{id:"contextual-settings",title:"إعدادات السياق",description:"تعديل إعدادات الوكيل أثناء العمل دون مغادرة الصفحة",icon:Qr,status:"active",demo:"نوافذ منبثقة للإعدادات مع تحديث فوري"},{id:"my-tools",title:"قائمة أدواتي",description:"إدارة شخصية للأدوات والوكلاء المخصصة",icon:tr,status:"active",demo:"تنظيم وإدارة الأدوات حسب التفضيلات الشخصية"},{id:"system-health",title:"مراقب صحة النظام",description:"مؤشرات الأداء والحالة العامة للنظام",icon:gP,status:"active",demo:"مقاييس الأداء والذاكرة والمعالج في الوقت الفعلي"}],r=[{name:"الكاتب الإبداعي",status:"working",progress:75,task:"كتابة فصل جديد",performance:{cpu:45,memory:1024}},{name:"محلل المحتوى",status:"idle",progress:0,task:null,performance:{cpu:5,memory:512}},{name:"مساعدي الشخصي",status:"paused",progress:40,task:"مراجعة النص",performance:{cpu:0,memory:256}}],s=[{name:"مولد الأفكار",category:"creativity",usage:47,favorite:!0},{name:"محلل النصوص",category:"analysis",usage:23,favorite:!1},{name:"مدقق الأسلوب",category:"editing",usage:89,favorite:!0},{name:"منشئ القوالب",category:"templates",usage:31,favorite:!1}],a=l=>{switch(l){case"working":return i.jsx(xa,{className:"w-4 h-4 text-green-600"});case"paused":return i.jsx(jp,{className:"w-4 h-4 text-yellow-600"});case"idle":return i.jsx(xr,{className:"w-4 h-4 text-gray-600"});default:return i.jsx(xr,{className:"w-4 h-4 text-gray-600"})}},o=l=>{switch(l){case"working":return"text-green-600 bg-green-100";case"paused":return"text-yellow-600 bg-yellow-100";case"idle":return"text-gray-600 bg-gray-100";default:return"text-gray-600 bg-gray-100"}};return i.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-purple-50 p-6",children:i.jsxs("div",{className:"max-w-7xl mx-auto space-y-8",children:[i.jsxs("div",{className:"text-center",children:[i.jsxs("div",{className:"flex items-center justify-center space-x-3 space-x-reverse mb-4",children:[i.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-blue-600 to-purple-600 rounded-xl flex items-center justify-center",children:i.jsx(vr,{className:"w-6 h-6 text-white"})}),i.jsx("h1",{className:"text-4xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:"نظام الدمج السلس للأدوات والوكلاء"})]}),i.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto",children:"تجربة متكاملة وسلسة للوصول إلى جميع أدوات الكتابة الذكية والوكلاء المساعدة من أي مكان في النظام"})]}),i.jsxs(fh,{className:"border-green-200 bg-green-50",children:[i.jsx(Rt,{className:"h-4 w-4 text-green-600"}),i.jsxs(Ah,{className:"text-green-800",children:[i.jsx("strong",{children:"النظام جاهز للاستخدام!"})," جميع المكونات تعمل بشكل طبيعي ومتكامل."]})]}),i.jsxs(zn,{value:t,onValueChange:e,className:"w-full",children:[i.jsxs(On,{className:"grid w-full grid-cols-4",children:[i.jsxs(nt,{value:"overview",className:"flex items-center space-x-2 space-x-reverse",children:[i.jsx(hs,{className:"w-4 h-4"}),i.jsx("span",{children:"نظرة عامة"})]}),i.jsxs(nt,{value:"features",className:"flex items-center space-x-2 space-x-reverse",children:[i.jsx(tr,{className:"w-4 h-4"}),i.jsx("span",{children:"المميزات"})]}),i.jsxs(nt,{value:"demo",className:"flex items-center space-x-2 space-x-reverse",children:[i.jsx(xa,{className:"w-4 h-4"}),i.jsx("span",{children:"العرض التوضيحي"})]}),i.jsxs(nt,{value:"technical",className:"flex items-center space-x-2 space-x-reverse",children:[i.jsx(w_,{className:"w-4 h-4"}),i.jsx("span",{children:"التفاصيل التقنية"})]})]}),i.jsxs(rt,{value:"overview",className:"space-y-6",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[i.jsx(ae,{className:"bg-gradient-to-br from-blue-500 to-blue-600 text-white",children:i.jsx(oe,{className:"p-6",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-blue-100",children:"الوكلاء النشطة"}),i.jsx("p",{className:"text-3xl font-bold",children:"3/5"})]}),i.jsx(rh,{className:"w-12 h-12 text-blue-200"})]})})}),i.jsx(ae,{className:"bg-gradient-to-br from-green-500 to-green-600 text-white",children:i.jsx(oe,{className:"p-6",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-green-100",children:"الأدوات المتاحة"}),i.jsx("p",{className:"text-3xl font-bold",children:"12"})]}),i.jsx(bf,{className:"w-12 h-12 text-green-200"})]})})}),i.jsx(ae,{className:"bg-gradient-to-br from-purple-500 to-purple-600 text-white",children:i.jsx(oe,{className:"p-6",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-purple-100",children:"معدل الأداء"}),i.jsx("p",{className:"text-3xl font-bold",children:"94%"})]}),i.jsx(Hn,{className:"w-12 h-12 text-purple-200"})]})})})]}),i.jsxs(ae,{children:[i.jsx(Te,{children:i.jsxs(ke,{className:"flex items-center space-x-2 space-x-reverse",children:[i.jsx(mp,{className:"w-5 h-5 text-blue-600"}),i.jsx("span",{children:"مكونات النظام الرئيسية"})]})}),i.jsx(oe,{children:i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:n.map(l=>{const c=l.icon;return i.jsx("div",{className:"p-4 border rounded-lg hover:shadow-md transition-shadow",children:i.jsxs("div",{className:"flex items-start space-x-3 space-x-reverse",children:[i.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center",children:i.jsx(c,{className:"w-5 h-5 text-blue-600"})}),i.jsxs("div",{className:"flex-1",children:[i.jsx("h3",{className:"font-semibold mb-1",children:l.title}),i.jsx("p",{className:"text-sm text-gray-600 mb-2",children:l.description}),i.jsx(He,{className:"text-xs bg-green-100 text-green-800",children:"نشط"})]})]})},l.id)})})})]})]}),i.jsxs(rt,{value:"features",className:"space-y-6",children:[i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[i.jsxs(ae,{children:[i.jsx(Te,{children:i.jsxs(ke,{className:"flex items-center space-x-2 space-x-reverse",children:[i.jsx(tr,{className:"w-5 h-5 text-yellow-500"}),i.jsx("span",{children:'قائمة "أدواتي" المخصصة'})]})}),i.jsx(oe,{children:i.jsx("div",{className:"space-y-3",children:s.map((l,c)=>i.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[i.jsxs("div",{className:"flex items-center space-x-3 space-x-reverse",children:[i.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-lg flex items-center justify-center",children:i.jsx(bf,{className:"w-4 h-4 text-blue-600"})}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-medium",children:l.name}),i.jsxs("p",{className:"text-xs text-gray-500",children:["استخدم ",l.usage," مرة"]})]})]}),i.jsxs("div",{className:"flex items-center space-x-2 space-x-reverse",children:[l.favorite&&i.jsx(tr,{className:"w-4 h-4 fill-yellow-400 text-yellow-400"}),i.jsx(He,{variant:"outline",className:"text-xs",children:l.category})]})]},c))})})]}),i.jsxs(ae,{children:[i.jsx(Te,{children:i.jsxs(ke,{className:"flex items-center space-x-2 space-x-reverse",children:[i.jsx(Rs,{className:"w-5 h-5 text-green-500"}),i.jsx("span",{children:"مراقب الوكلاء"})]})}),i.jsx(oe,{children:i.jsx("div",{className:"space-y-3",children:r.map((l,c)=>i.jsxs("div",{className:"p-3 border rounded-lg",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsxs("div",{className:"flex items-center space-x-2 space-x-reverse",children:[i.jsx(rh,{className:"w-5 h-5 text-blue-600"}),i.jsx("span",{className:"font-medium",children:l.name})]}),i.jsxs("div",{className:"flex items-center space-x-1 space-x-reverse",children:[a(l.status),i.jsx(He,{className:`text-xs ${o(l.status)}`,children:l.status==="working"?"يعمل":l.status==="paused"?"متوقف":"متاح"})]})]}),l.task&&i.jsxs("div",{className:"mb-2",children:[i.jsx("p",{className:"text-sm text-gray-600",children:l.task}),i.jsx("div",{className:"w-full bg-gray-200 rounded-full h-1.5 mt-1",children:i.jsx("div",{className:"bg-blue-500 h-1.5 rounded-full",style:{width:`${l.progress}%`}})})]}),i.jsxs("div",{className:"flex justify-between text-xs text-gray-500",children:[i.jsxs("span",{children:["المعالج: ",l.performance.cpu,"%"]}),i.jsxs("span",{children:["الذاكرة: ",l.performance.memory,"MB"]})]})]},c))})})]})]}),i.jsxs(ae,{children:[i.jsx(Te,{children:i.jsx(ke,{children:"المميزات الجديدة"})}),i.jsx(oe,{children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("div",{className:"space-y-4",children:[i.jsxs("h3",{className:"font-semibold flex items-center space-x-2 space-x-reverse",children:[i.jsx(nr,{className:"w-5 h-5 text-yellow-500"}),i.jsx("span",{children:"إنشاء وكيل مخصص مبسط"})]}),i.jsxs("ul",{className:"space-y-2 text-sm text-gray-600",children:[i.jsx("li",{children:"• معالج خطوة بخطوة سهل الاستخدام"}),i.jsx("li",{children:"• قوالب جاهزة للوكلاء الشائعة"}),i.jsx("li",{children:"• إعدادات مبسطة ومفهومة"}),i.jsx("li",{children:"• معاينة فورية للوكيل"})]})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("h3",{className:"font-semibold flex items-center space-x-2 space-x-reverse",children:[i.jsx(Qr,{className:"w-5 h-5 text-blue-500"}),i.jsx("span",{children:"إعدادات من سياق العمل"})]}),i.jsxs("ul",{className:"space-y-2 text-sm text-gray-600",children:[i.jsx("li",{children:"• نوافذ منبثقة للإعدادات"}),i.jsx("li",{children:"• تحديث فوري دون إعادة تحميل"}),i.jsx("li",{children:"• مؤشرات حالة تفاعلية"}),i.jsx("li",{children:"• وصول سريع من أي صفحة"})]})]})]})})]})]}),i.jsxs(rt,{value:"demo",className:"space-y-6",children:[i.jsxs(fh,{className:"border-blue-200 bg-blue-50",children:[i.jsx(Go,{className:"h-4 w-4 text-blue-600"}),i.jsxs(Ah,{className:"text-blue-800",children:[i.jsx("strong",{children:"جرب النظام الآن!"})," انظر للعناصر العائمة حول الشاشة - شريط الأدوات السريع في الأسفل، مراقب الوكلاء على اليسار، وأدوات التحكم في الأعلى."]})]}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[i.jsxs(ae,{children:[i.jsx(Te,{children:i.jsxs(ke,{className:"flex items-center space-x-2 space-x-reverse",children:[i.jsx(g5e,{className:"w-5 h-5 text-purple-500"}),i.jsx("span",{children:"كيفية الاستخدام"})]})}),i.jsx(oe,{children:i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-start space-x-3 space-x-reverse",children:[i.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center text-blue-600 font-bold text-sm",children:"1"}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-medium",children:"شريط الأدوات السريع"}),i.jsx("p",{className:"text-sm text-gray-600",children:"في أسفل الشاشة - انقر على الأدوات للوصول السريع"})]})]}),i.jsxs("div",{className:"flex items-start space-x-3 space-x-reverse",children:[i.jsx("div",{className:"w-8 h-8 bg-green-100 rounded-full flex items-center justify-center text-green-600 font-bold text-sm",children:"2"}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-medium",children:"مراقب الوكلاء"}),i.jsx("p",{className:"text-sm text-gray-600",children:"على اليسار - راقب حالة الوكلاء وتحكم بها"})]})]}),i.jsxs("div",{className:"flex items-start space-x-3 space-x-reverse",children:[i.jsx("div",{className:"w-8 h-8 bg-purple-100 rounded-full flex items-center justify-center text-purple-600 font-bold text-sm",children:"3"}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-medium",children:"لوحة التحكم"}),i.jsx("p",{className:"text-sm text-gray-600",children:"في الأعلى - إعدادات النظام ومؤشرات الأداء"})]})]}),i.jsxs("div",{className:"flex items-start space-x-3 space-x-reverse",children:[i.jsx("div",{className:"w-8 h-8 bg-yellow-100 rounded-full flex items-center justify-center text-yellow-600 font-bold text-sm",children:"4"}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-medium",children:"إنشاء وكيل جديد"}),i.jsx("p",{className:"text-sm text-gray-600",children:'انقر على زر "+" لإنشاء وكيل مخصص جديد'})]})]})]})})]}),i.jsxs(ae,{children:[i.jsx(Te,{children:i.jsxs(ke,{className:"flex items-center space-x-2 space-x-reverse",children:[i.jsx(c5e,{className:"w-5 h-5 text-green-500"}),i.jsx("span",{children:"اختصارات مفيدة"})]})}),i.jsx(oe,{children:i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex justify-between items-center p-2 border rounded",children:[i.jsx("span",{className:"text-sm",children:"تشغيل الكاتب الإبداعي"}),i.jsx(He,{variant:"outline",children:"Ctrl+Shift+W"})]}),i.jsxs("div",{className:"flex justify-between items-center p-2 border rounded",children:[i.jsx("span",{className:"text-sm",children:"مولد الأفكار"}),i.jsx(He,{variant:"outline",children:"Ctrl+Shift+I"})]}),i.jsxs("div",{className:"flex justify-between items-center p-2 border rounded",children:[i.jsx("span",{className:"text-sm",children:"محلل النصوص"}),i.jsx(He,{variant:"outline",children:"Ctrl+Shift+A"})]}),i.jsxs("div",{className:"flex justify-between items-center p-2 border rounded",children:[i.jsx("span",{className:"text-sm",children:"إنشاء وكيل جديد"}),i.jsx(He,{variant:"outline",children:"Ctrl+Shift+N"})]}),i.jsxs("div",{className:"flex justify-between items-center p-2 border rounded",children:[i.jsx("span",{className:"text-sm",children:"فتح الإعدادات"}),i.jsx(He,{variant:"outline",children:"Ctrl+,"})]})]})})]})]}),i.jsxs(ae,{children:[i.jsx(Te,{children:i.jsx(ke,{children:"عرض تفاعلي للمكونات"})}),i.jsx(oe,{children:i.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[i.jsxs(xe,{variant:"outline",className:"h-20 flex flex-col items-center justify-center space-y-2",onClick:()=>{},children:[i.jsx(Rs,{className:"w-6 h-6 text-green-600"}),i.jsx("span",{className:"text-sm",children:"مراقب الوكلاء"})]}),i.jsxs(xe,{variant:"outline",className:"h-20 flex flex-col items-center justify-center space-y-2",onClick:()=>{},children:[i.jsx(bf,{className:"w-6 h-6 text-blue-600"}),i.jsx("span",{className:"text-sm",children:"شريط الأدوات"})]}),i.jsxs(xe,{variant:"outline",className:"h-20 flex flex-col items-center justify-center space-y-2",onClick:()=>{},children:[i.jsx(rh,{className:"w-6 h-6 text-purple-600"}),i.jsx("span",{className:"text-sm",children:"إنشاء وكيل"})]}),i.jsxs(xe,{variant:"outline",className:"h-20 flex flex-col items-center justify-center space-y-2",onClick:()=>{},children:[i.jsx(Qr,{className:"w-6 h-6 text-gray-600"}),i.jsx("span",{className:"text-sm",children:"الإعدادات"})]})]})})]})]}),i.jsxs(rt,{value:"technical",className:"space-y-6",children:[i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[i.jsxs(ae,{children:[i.jsx(Te,{children:i.jsxs(ke,{className:"flex items-center space-x-2 space-x-reverse",children:[i.jsx(w_,{className:"w-5 h-5 text-blue-600"}),i.jsx("span",{children:"المكونات المطورة"})]})}),i.jsx(oe,{children:i.jsxs("div",{className:"space-y-3 text-sm",children:[i.jsxs("div",{className:"p-3 bg-gray-50 rounded-lg",children:[i.jsx("strong",{children:"SeamlessToolsIntegration.tsx"}),i.jsx("p",{className:"text-gray-600",children:"مكون رئيسي للأدوات مع إدارة الحالة والفلاتر"})]}),i.jsxs("div",{className:"p-3 bg-gray-50 rounded-lg",children:[i.jsx("strong",{children:"QuickAccessToolbar.tsx"}),i.jsx("p",{className:"text-gray-600",children:"شريط أدوات سريع قابل للتخصيص مع أزرار تفاعلية"})]}),i.jsxs("div",{className:"p-3 bg-gray-50 rounded-lg",children:[i.jsx("strong",{children:"AgentStatusMonitor.tsx"}),i.jsx("p",{className:"text-gray-600",children:"مراقب متقدم للوكلاء مع مقاييس الأداء"})]}),i.jsxs("div",{className:"p-3 bg-gray-50 rounded-lg",children:[i.jsx("strong",{children:"SimpleAgentCreator.tsx"}),i.jsx("p",{className:"text-gray-600",children:"معالج مبسط لإنشاء الوكلاء مع قوالب جاهزة"})]}),i.jsxs("div",{className:"p-3 bg-gray-50 rounded-lg",children:[i.jsx("strong",{children:"SeamlessIntegrationHub.tsx"}),i.jsx("p",{className:"text-gray-600",children:"المكون المركزي الذي يدير جميع المكونات"})]})]})})]}),i.jsxs(ae,{children:[i.jsx(Te,{children:i.jsxs(ke,{className:"flex items-center space-x-2 space-x-reverse",children:[i.jsx(gP,{className:"w-5 h-5 text-green-600"}),i.jsx("span",{children:"المواصفات التقنية"})]})}),i.jsx(oe,{children:i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("h4",{className:"font-semibold mb-2",children:"التقنيات المستخدمة"}),i.jsxs("div",{className:"flex flex-wrap gap-2",children:[i.jsx(He,{variant:"outline",children:"React 18"}),i.jsx(He,{variant:"outline",children:"TypeScript"}),i.jsx(He,{variant:"outline",children:"Tailwind CSS"}),i.jsx(He,{variant:"outline",children:"Radix UI"}),i.jsx(He,{variant:"outline",children:"Lucide Icons"})]})]}),i.jsx(Ns,{}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-semibold mb-2",children:"المميزات التقنية"}),i.jsxs("ul",{className:"space-y-1 text-sm text-gray-600",children:[i.jsx("li",{children:"• React Hooks للإدارة الحديثة للحالة"}),i.jsx("li",{children:"• TypeScript للأمان النوعي"}),i.jsx("li",{children:"• مكونات قابلة للإعادة والتخصيص"}),i.jsx("li",{children:"• تصميم متجاوب ومتوافق مع الأجهزة"}),i.jsx("li",{children:"• أداء محسّن مع lazy loading"}),i.jsx("li",{children:"• إدارة ذكية للذاكرة"})]})]}),i.jsx(Ns,{}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-semibold mb-2",children:"البنية المعمارية"}),i.jsxs("ul",{className:"space-y-1 text-sm text-gray-600",children:[i.jsx("li",{children:"• نمط المكونات المركبة"}),i.jsx("li",{children:"• فصل المنطق عن العرض"}),i.jsx("li",{children:"• إدارة الحالة الموزعة"}),i.jsx("li",{children:"• نظام أحداث متقدم"}),i.jsx("li",{children:"• دعم التخصيص والتوسيع"})]})]})]})})]})]}),i.jsxs(ae,{children:[i.jsx(Te,{children:i.jsx(ke,{children:"إحصائيات الأداء"})}),i.jsx(oe,{children:i.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[i.jsxs("div",{className:"text-center p-4 border rounded-lg",children:[i.jsx(Hn,{className:"w-8 h-8 text-green-600 mx-auto mb-2"}),i.jsx("div",{className:"text-2xl font-bold text-green-600",children:"99.2%"}),i.jsx("div",{className:"text-sm text-gray-600",children:"وقت التشغيل"})]}),i.jsxs("div",{className:"text-center p-4 border rounded-lg",children:[i.jsx(vr,{className:"w-8 h-8 text-yellow-600 mx-auto mb-2"}),i.jsx("div",{className:"text-2xl font-bold text-yellow-600",children:"0.3s"}),i.jsx("div",{className:"text-sm text-gray-600",children:"زمن الاستجابة"})]}),i.jsxs("div",{className:"text-center p-4 border rounded-lg",children:[i.jsx(gP,{className:"w-8 h-8 text-blue-600 mx-auto mb-2"}),i.jsx("div",{className:"text-2xl font-bold text-blue-600",children:"2.1GB"}),i.jsx("div",{className:"text-sm text-gray-600",children:"استخدام الذاكرة"})]}),i.jsxs("div",{className:"text-center p-4 border rounded-lg",children:[i.jsx(Rs,{className:"w-8 h-8 text-purple-600 mx-auto mb-2"}),i.jsx("div",{className:"text-2xl font-bold text-purple-600",children:"94%"}),i.jsx("div",{className:"text-sm text-gray-600",children:"كفاءة النظام"})]})]})})]})]})]}),i.jsx(ae,{className:"bg-gradient-to-r from-blue-600 to-purple-600 text-white",children:i.jsxs(oe,{className:"p-6 text-center",children:[i.jsxs("div",{className:"flex items-center justify-center space-x-3 space-x-reverse mb-4",children:[i.jsx(Jb,{className:"w-6 h-6"}),i.jsx("h2",{className:"text-2xl font-bold",children:"نظام متكامل وجاهز للاستخدام"})]}),i.jsx("p",{className:"text-blue-100 max-w-2xl mx-auto",children:"تم تطوير النظام بعناية ليوفر تجربة سلسة ومتكاملة للكتابة الذكية. جميع المكونات تعمل بتناغم لتقديم أفضل تجربة مستخدم ممكنة."}),i.jsxs("div",{className:"flex items-center justify-center space-x-6 space-x-reverse mt-6",children:[i.jsxs("div",{className:"flex items-center space-x-2 space-x-reverse",children:[i.jsx(Rt,{className:"w-5 h-5"}),i.jsx("span",{children:"جاهز للإنتاج"})]}),i.jsxs("div",{className:"flex items-center space-x-2 space-x-reverse",children:[i.jsx(B5e,{className:"w-5 h-5"}),i.jsx("span",{children:"متصل ومتزامن"})]}),i.jsxs("div",{className:"flex items-center space-x-2 space-x-reverse",children:[i.jsx(ta,{className:"w-5 h-5"}),i.jsx("span",{children:"مُطور بعناية"})]})]})]})})]})})},hct=()=>{const[t,e]=E.useState(null),[n,r]=E.useState(!1),[s,a]=E.useState(null),[o,l]=E.useState(null),[c,u]=E.useState({}),[d,h]=E.useState({}),[f,A]=E.useState("upload"),v=E.useRef(null),p=E.useCallback(async N=>{if(!N||N.type!=="application/pdf"){alert("يرجى اختيار ملف PDF صحيح");return}e(N),r(!0),a(null),l(null);try{const _=new FormData;_.append("file",N);const k=await(await fetch("/api/pdf/info",{method:"POST",body:_})).json();if(k.success)a(k),A("info");else throw new Error(k.error||"فشل في تحليل الملف")}catch(_){console.error("خطأ في رفع الملف:",_),alert(`خطأ في معالجة الملف: ${_}`)}finally{r(!1)}},[]),m=E.useCallback(async(N=!0,_=!1,C="auto")=>{if(t){r(!0);try{const k=new FormData;k.append("file",t),k.append("extract_tables",N.toString()),k.append("extract_images",_.toString()),k.append("method",C);const O=await(await fetch("/api/pdf/extract-advanced",{method:"POST",body:k})).json();if(O.success)l(O),A("results");else throw new Error(O.error||"فشل في الاستخراج")}catch(k){console.error("خطأ في الاستخراج المتقدم:",k),alert(`خطأ في الاستخراج: ${k}`)}finally{r(!1)}}},[t]),g=E.useCallback(async()=>{if(t){r(!0);try{const N=new FormData;N.append("file",t);const C=await(await fetch("/api/pdf/test",{method:"POST",body:N})).json();if(C.success)h(C.test_results),A("testing");else throw new Error(C.error||"فشل في الاختبار")}catch(N){console.error("خطأ في اختبار الطرق:",N),alert(`خطأ في الاختبار: ${N}`)}finally{r(!1)}}},[t]),x=E.useCallback(async()=>{try{const _=await(await fetch("/api/pdf/methods")).json();_.success&&u(_.available_methods)}catch(N){console.error("خطأ في جلب الطرق المتاحة:",N)}},[]);pe.useEffect(()=>{x()},[x]);const b=N=>{if(N===0)return"0 بايت";const _=1024,C=["بايت","ك.ب","م.ب","ج.ب"],k=Math.floor(Math.log(N)/Math.log(_));return parseFloat((N/Math.pow(_,k)).toFixed(2))+" "+C[k]},j=N=>N<1?`${(N*1e3).toFixed(0)} مللي ثانية`:`${N.toFixed(2)} ثانية`;return i.jsxs("div",{className:"w-full max-w-6xl mx-auto p-6 space-y-6",dir:"rtl",children:[i.jsx(ae,{children:i.jsx(Te,{children:i.jsxs(ke,{className:"flex items-center gap-2",children:[i.jsx(xn,{className:"h-6 w-6"}),"معالج PDF المتقدم"]})})}),i.jsxs(zn,{value:f,onValueChange:A,className:"w-full",children:[i.jsxs(On,{className:"grid w-full grid-cols-5",children:[i.jsx(nt,{value:"upload",children:"رفع الملف"}),i.jsx(nt,{value:"info",disabled:!s,children:"معلومات الملف"}),i.jsx(nt,{value:"extraction",disabled:!s,children:"الاستخراج"}),i.jsx(nt,{value:"results",disabled:!o,children:"النتائج"}),i.jsx(nt,{value:"testing",disabled:!t,children:"اختبار الطرق"})]}),i.jsx(rt,{value:"upload",className:"space-y-4",children:i.jsx(ae,{children:i.jsx(oe,{className:"pt-6",children:i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-8 text-center cursor-pointer hover:border-gray-400 transition-colors",onClick:()=>{var N;return(N=v.current)==null?void 0:N.click()},children:[i.jsx(sc,{className:"h-12 w-12 mx-auto text-gray-400 mb-4"}),i.jsx("p",{className:"text-lg font-medium text-gray-700 mb-2",children:"اسحب ملف PDF هنا أو انقر للاختيار"}),i.jsx("p",{className:"text-sm text-gray-500",children:"يدعم النظام جميع أنواع ملفات PDF مع نصوص عربية وإنجليزية"}),i.jsx("input",{ref:v,type:"file",accept:".pdf,application/pdf",onChange:N=>{var _;return((_=N.target.files)==null?void 0:_[0])&&p(N.target.files[0])},className:"hidden"})]}),t&&i.jsx("div",{className:"bg-blue-50 rounded-lg p-4",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(xn,{className:"h-5 w-5 text-blue-600"}),i.jsxs("div",{children:[i.jsx("p",{className:"font-medium text-blue-900",children:t.name}),i.jsx("p",{className:"text-sm text-blue-600",children:b(t.size)})]})]}),n&&i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Ar,{className:"h-4 w-4 animate-spin text-blue-600"}),i.jsx("span",{className:"text-sm text-blue-600",children:"معالجة..."})]})]})}),i.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2",children:Object.entries(c).map(([N,_])=>i.jsxs("div",{className:"flex items-center gap-2",children:[_?i.jsx(Rt,{className:"h-4 w-4 text-green-500"}):i.jsx(ny,{className:"h-4 w-4 text-red-500"}),i.jsx("span",{className:"text-sm",children:N})]},N))})]})})})}),i.jsx(rt,{value:"info",className:"space-y-4",children:s&&i.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[i.jsxs(ae,{children:[i.jsx(Te,{children:i.jsxs(ke,{className:"flex items-center gap-2",children:[i.jsx(Go,{className:"h-5 w-5"}),"معلومات عامة"]})}),i.jsxs(oe,{className:"space-y-3",children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-gray-600",children:"عدد الصفحات:"}),i.jsx("span",{className:"font-medium",children:s.info.metadata.pages_count})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-gray-600",children:"حجم الملف:"}),i.jsx("span",{className:"font-medium",children:b(s.info.metadata.file_size)})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-gray-600",children:"نص عربي:"}),i.jsx(He,{variant:s.info.metadata.has_arabic_text?"default":"secondary",children:s.info.metadata.has_arabic_text?"نعم":"لا"})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-gray-600",children:"مشفر:"}),i.jsx(He,{variant:s.info.metadata.is_encrypted?"destructive":"default",children:s.info.metadata.is_encrypted?"نعم":"لا"})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-gray-600",children:"وقت التحليل:"}),i.jsx("span",{className:"font-medium",children:j(s.info.processing_time)})]})]})]}),i.jsxs(ae,{children:[i.jsx(Te,{children:i.jsxs(ke,{className:"flex items-center gap-2",children:[i.jsx(xn,{className:"h-5 w-5"}),"بيانات تعريفية"]})}),i.jsxs(oe,{className:"space-y-3",children:[s.info.metadata.title&&i.jsxs("div",{children:[i.jsx("span",{className:"text-gray-600 text-sm",children:"العنوان:"}),i.jsx("p",{className:"font-medium",children:s.info.metadata.title})]}),s.info.metadata.author&&i.jsxs("div",{children:[i.jsx("span",{className:"text-gray-600 text-sm",children:"المؤلف:"}),i.jsx("p",{className:"font-medium",children:s.info.metadata.author})]}),s.info.metadata.subject&&i.jsxs("div",{children:[i.jsx("span",{className:"text-gray-600 text-sm",children:"الموضوع:"}),i.jsx("p",{className:"font-medium",children:s.info.metadata.subject})]}),s.info.metadata.pdf_version&&i.jsxs("div",{children:[i.jsx("span",{className:"text-gray-600 text-sm",children:"إصدار PDF:"}),i.jsx("p",{className:"font-medium",children:s.info.metadata.pdf_version})]})]})]})]})}),i.jsx(rt,{value:"extraction",className:"space-y-4",children:i.jsxs(ae,{children:[i.jsx(Te,{children:i.jsx(ke,{children:"خيارات الاستخراج المتقدم"})}),i.jsxs(oe,{className:"space-y-4",children:[i.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[i.jsxs(xe,{onClick:()=>m(!1,!1,"auto"),disabled:n,className:"flex items-center gap-2",children:[i.jsx(xn,{className:"h-4 w-4"}),"نص فقط"]}),i.jsxs(xe,{onClick:()=>m(!0,!1,"auto"),disabled:n,variant:"outline",className:"flex items-center gap-2",children:[i.jsx(yP,{className:"h-4 w-4"}),"نص + جداول"]}),i.jsxs(xe,{onClick:()=>m(!0,!0,"auto"),disabled:n,variant:"outline",className:"flex items-center gap-2",children:[i.jsx(h5e,{className:"h-4 w-4"}),"كامل (نص + جداول + صور)"]})]}),i.jsx(Ns,{}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-medium mb-2",children:"اختبار طريقة محددة:"}),i.jsx("div",{className:"grid gap-2 md:grid-cols-4",children:Object.entries(c).map(([N,_])=>i.jsx(xe,{onClick:()=>m(!1,!1,N),disabled:!_||n,variant:"outline",size:"sm",children:N},N))})]}),n&&i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Ar,{className:"h-4 w-4 animate-spin"}),i.jsx("span",{children:"جاري المعالجة..."})]}),i.jsx(tt,{value:50,className:"w-full"})]})]})]})}),i.jsx(rt,{value:"results",className:"space-y-4",children:o&&i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"grid gap-4 md:grid-cols-4",children:[i.jsx(ae,{children:i.jsx(oe,{className:"pt-4",children:i.jsxs("div",{className:"text-center",children:[i.jsx(xn,{className:"h-8 w-8 mx-auto text-blue-600 mb-2"}),i.jsx("p",{className:"text-2xl font-bold",children:o.text.length}),i.jsx("p",{className:"text-sm text-gray-600",children:"حرف"})]})})}),i.jsx(ae,{children:i.jsx(oe,{className:"pt-4",children:i.jsxs("div",{className:"text-center",children:[i.jsx(xn,{className:"h-8 w-8 mx-auto text-green-600 mb-2"}),i.jsx("p",{className:"text-2xl font-bold",children:o.pages_count}),i.jsx("p",{className:"text-sm text-gray-600",children:"صفحة"})]})})}),i.jsx(ae,{children:i.jsx(oe,{className:"pt-4",children:i.jsxs("div",{className:"text-center",children:[i.jsx(yP,{className:"h-8 w-8 mx-auto text-purple-600 mb-2"}),i.jsx("p",{className:"text-2xl font-bold",children:o.tables_count}),i.jsx("p",{className:"text-sm text-gray-600",children:"جدول"})]})})}),i.jsx(ae,{children:i.jsx(oe,{className:"pt-4",children:i.jsxs("div",{className:"text-center",children:[i.jsx(xr,{className:"h-8 w-8 mx-auto text-orange-600 mb-2"}),i.jsx("p",{className:"text-2xl font-bold",children:j(o.processing_time)}),i.jsx("p",{className:"text-sm text-gray-600",children:"وقت المعالجة"})]})})})]}),i.jsxs(ae,{children:[i.jsx(Te,{children:i.jsxs(ke,{className:"flex items-center justify-between",children:[i.jsx("span",{children:"النص المستخرج"}),i.jsx(He,{variant:"outline",children:o.extraction_method})]})}),i.jsxs(oe,{children:[i.jsx(Zi,{value:o.text,readOnly:!0,className:"min-h-[300px] font-mono text-sm",dir:"auto"}),i.jsxs("div",{className:"mt-4 flex justify-between items-center",children:[i.jsxs("span",{className:"text-sm text-gray-600",children:[o.text.length," حرف | ",o.text.split(`
`).length," سطر"]}),i.jsx(xe,{size:"sm",variant:"outline",onClick:()=>navigator.clipboard.writeText(o.text),children:"نسخ النص"})]})]})]}),o.tables_count>0&&i.jsxs(ae,{children:[i.jsx(Te,{children:i.jsxs(ke,{className:"flex items-center gap-2",children:[i.jsx(yP,{className:"h-5 w-5"}),"الجداول المستخرجة (",o.tables_count,")"]})}),i.jsx(oe,{children:i.jsxs(fh,{children:[i.jsx(Go,{className:"h-4 w-4"}),i.jsxs(Ah,{children:["تم العثور على ",o.tables_count," جدول في المستند. يمكن عرض تفاصيل الجداول في التطبيق الكامل."]})]})})]})]})}),i.jsx(rt,{value:"testing",className:"space-y-4",children:i.jsxs(ae,{children:[i.jsx(Te,{children:i.jsxs(ke,{className:"flex items-center gap-2",children:[i.jsx(vr,{className:"h-5 w-5"}),"اختبار جميع طرق الاستخراج"]})}),i.jsxs(oe,{className:"space-y-4",children:[i.jsx(xe,{onClick:g,disabled:n,className:"w-full",children:n?i.jsxs(i.Fragment,{children:[i.jsx(Ar,{className:"h-4 w-4 mr-2 animate-spin"}),"جاري الاختبار..."]}):"اختبار جميع الطرق"}),Object.keys(d).length>0&&i.jsxs("div",{className:"space-y-3",children:[i.jsx("h4",{className:"font-medium",children:"نتائج الاختبار:"}),Object.entries(d).map(([N,_])=>i.jsxs(ae,{className:"p-4",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("span",{className:"font-medium",children:N}),_.success?i.jsx(Rt,{className:"h-5 w-5 text-green-500"}):i.jsx(ny,{className:"h-5 w-5 text-red-500"})]}),_.success?i.jsxs("div",{className:"text-sm space-y-1",children:[i.jsxs("p",{children:["طول النص: ",_.text_length," حرف"]}),i.jsxs("p",{children:["عدد الصفحات: ",_.pages_count]}),i.jsxs("p",{children:["وقت المعالجة: ",j(_.processing_time)]}),i.jsxs("p",{children:["نص عربي: ",_.has_arabic_text?"نعم":"لا"]})]}):i.jsx("p",{className:"text-sm text-red-600",children:_.error_message})]},N))]})]})]})})]})]})},fct=()=>i.jsx("div",{className:"min-h-screen bg-gray-50 py-8",dir:"rtl",children:i.jsxs("div",{className:"container mx-auto px-4",children:[i.jsxs("div",{className:"text-center mb-8",children:[i.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:"🔍 معالج PDF المتقدم"}),i.jsx("p",{className:"text-lg text-gray-600 max-w-3xl mx-auto",children:"نظام متقدم لقراءة ومعالجة ملفات PDF مع دعم شامل للنصوص العربية واستخراج الجداول والصور"})]}),i.jsxs("div",{className:"grid gap-6 md:grid-cols-3 mb-8",children:[i.jsx(ae,{children:i.jsx(oe,{className:"pt-6",children:i.jsxs("div",{className:"text-center",children:[i.jsx(xn,{className:"h-12 w-12 mx-auto text-blue-600 mb-4"}),i.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"استخراج نص متقدم"}),i.jsx("p",{className:"text-gray-600 text-sm",children:"دعم متعدد المكتبات مع تحسين خاص للنصوص العربية وmعالجة PDF معقدة"})]})})}),i.jsx(ae,{children:i.jsx(oe,{className:"pt-6",children:i.jsxs("div",{className:"text-center",children:[i.jsx(vr,{className:"h-12 w-12 mx-auto text-yellow-600 mb-4"}),i.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"نظام fallback ذكي"}),i.jsx("p",{className:"text-gray-600 text-sm",children:"تجربة طرق استخراج متعددة تلقائياً للحصول على أفضل النتائج"})]})})}),i.jsx(ae,{children:i.jsx(oe,{className:"pt-6",children:i.jsxs("div",{className:"text-center",children:[i.jsx(Rt,{className:"h-12 w-12 mx-auto text-green-600 mb-4"}),i.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"ميزات متقدمة"}),i.jsx("p",{className:"text-gray-600 text-sm",children:"استخراج الجداول والصور والبيانات التعريفية مع تحليل شامل"})]})})})]}),i.jsxs(fh,{className:"mb-8",children:[i.jsx($a,{className:"h-4 w-4"}),i.jsxs(Ah,{children:[i.jsx("strong",{children:"التحديث الجديد:"})," تم استبدال PyPDF2 القديم بنظام متقدم يدعم PyMuPDF وpdfplumber وpdfminer لضمان قراءة أفضل للملفات المعقدة والنصوص العربية."]})]}),i.jsx(hct,{}),i.jsxs(ae,{className:"mt-8",children:[i.jsx(Te,{children:i.jsx(ke,{children:"التفاصيل التقنية"})}),i.jsx(oe,{children:i.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[i.jsxs("div",{children:[i.jsx("h4",{className:"font-semibold mb-2",children:"المكتبات المدعومة:"}),i.jsxs("ul",{className:"space-y-1 text-sm text-gray-600",children:[i.jsxs("li",{children:["• ",i.jsx("strong",{children:"PyMuPDF (fitz):"})," أسرع طريقة مع دعم الجداول والصور"]}),i.jsxs("li",{children:["• ",i.jsx("strong",{children:"pdfplumber:"})," دقة عالية في استخراج الجداول"]}),i.jsxs("li",{children:["• ",i.jsx("strong",{children:"pdfminer:"})," تحليل تفصيلي للنصوص المعقدة"]}),i.jsxs("li",{children:["• ",i.jsx("strong",{children:"PyPDF2:"})," طريقة احتياطية للملفات البسيطة"]})]})]}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-semibold mb-2",children:"الميزات المحسنة:"}),i.jsxs("ul",{className:"space-y-1 text-sm text-gray-600",children:[i.jsx("li",{children:"• تنظيف وتحسين النصوص العربية"}),i.jsx("li",{children:"• كشف تلقائي للمحتوى العربي"}),i.jsx("li",{children:"• استخراج البيانات التعريفية الكاملة"}),i.jsx("li",{children:"• معالجة شاملة للأخطاء مع نظام fallback"})]})]})]})})]}),i.jsxs(ae,{className:"mt-8",children:[i.jsx(Te,{children:i.jsx(ke,{children:"نقاط وصول API الجديدة"})}),i.jsx(oe,{children:i.jsxs("div",{className:"space-y-3 text-sm",children:[i.jsxs("div",{className:"bg-gray-100 p-3 rounded",children:[i.jsx("code",{className:"font-mono",children:"POST /api/pdf/info"}),i.jsx("p",{className:"text-gray-600 mt-1",children:"الحصول على معلومات مفصلة عن ملف PDF"})]}),i.jsxs("div",{className:"bg-gray-100 p-3 rounded",children:[i.jsx("code",{className:"font-mono",children:"POST /api/pdf/extract-advanced"}),i.jsx("p",{className:"text-gray-600 mt-1",children:"استخراج متقدم مع جداول وصور"})]}),i.jsxs("div",{className:"bg-gray-100 p-3 rounded",children:[i.jsx("code",{className:"font-mono",children:"GET /api/pdf/methods"}),i.jsx("p",{className:"text-gray-600 mt-1",children:"عرض طرق الاستخراج المتاحة"})]}),i.jsxs("div",{className:"bg-gray-100 p-3 rounded",children:[i.jsx("code",{className:"font-mono",children:"POST /api/pdf/test"}),i.jsx("p",{className:"text-gray-600 mt-1",children:"اختبار جميع طرق الاستخراج"})]})]})})]})]})});function Act(t,e){return E.useReducer((n,r)=>e[n][r]??n,t)}var Tq="ScrollArea",[vwe,Mmt]=qa(Tq),[pct,td]=vwe(Tq),ywe=E.forwardRef((t,e)=>{const{__scopeScrollArea:n,type:r="hover",dir:s,scrollHideDelay:a=600,...o}=t,[l,c]=E.useState(null),[u,d]=E.useState(null),[h,f]=E.useState(null),[A,v]=E.useState(null),[p,m]=E.useState(null),[g,x]=E.useState(0),[b,j]=E.useState(0),[N,_]=E.useState(!1),[C,k]=E.useState(!1),T=Tn(e,I=>c(I)),O=H2(s);return i.jsx(pct,{scope:n,type:r,dir:O,scrollHideDelay:a,scrollArea:l,viewport:u,onViewportChange:d,content:h,onContentChange:f,scrollbarX:A,onScrollbarXChange:v,scrollbarXEnabled:N,onScrollbarXEnabledChange:_,scrollbarY:p,onScrollbarYChange:m,scrollbarYEnabled:C,onScrollbarYEnabledChange:k,onCornerWidthChange:x,onCornerHeightChange:j,children:i.jsx(Jt.div,{dir:O,...o,ref:T,style:{position:"relative","--radix-scroll-area-corner-width":g+"px","--radix-scroll-area-corner-height":b+"px",...t.style}})})});ywe.displayName=Tq;var bwe="ScrollAreaViewport",wwe=E.forwardRef((t,e)=>{const{__scopeScrollArea:n,children:r,nonce:s,...a}=t,o=td(bwe,n),l=E.useRef(null),c=Tn(e,l,o.onViewportChange);return i.jsxs(i.Fragment,{children:[i.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:s}),i.jsx(Jt.div,{"data-radix-scroll-area-viewport":"",...a,ref:c,style:{overflowX:o.scrollbarXEnabled?"scroll":"hidden",overflowY:o.scrollbarYEnabled?"scroll":"hidden",...t.style},children:i.jsx("div",{ref:o.onContentChange,style:{minWidth:"100%",display:"table"},children:r})})]})});wwe.displayName=bwe;var Wf="ScrollAreaScrollbar",kq=E.forwardRef((t,e)=>{const{forceMount:n,...r}=t,s=td(Wf,t.__scopeScrollArea),{onScrollbarXEnabledChange:a,onScrollbarYEnabledChange:o}=s,l=t.orientation==="horizontal";return E.useEffect(()=>(l?a(!0):o(!0),()=>{l?a(!1):o(!1)}),[l,a,o]),s.type==="hover"?i.jsx(mct,{...r,ref:e,forceMount:n}):s.type==="scroll"?i.jsx(gct,{...r,ref:e,forceMount:n}):s.type==="auto"?i.jsx(jwe,{...r,ref:e,forceMount:n}):s.type==="always"?i.jsx(Fq,{...r,ref:e}):null});kq.displayName=Wf;var mct=E.forwardRef((t,e)=>{const{forceMount:n,...r}=t,s=td(Wf,t.__scopeScrollArea),[a,o]=E.useState(!1);return E.useEffect(()=>{const l=s.scrollArea;let c=0;if(l){const u=()=>{window.clearTimeout(c),o(!0)},d=()=>{c=window.setTimeout(()=>o(!1),s.scrollHideDelay)};return l.addEventListener("pointerenter",u),l.addEventListener("pointerleave",d),()=>{window.clearTimeout(c),l.removeEventListener("pointerenter",u),l.removeEventListener("pointerleave",d)}}},[s.scrollArea,s.scrollHideDelay]),i.jsx(Jo,{present:n||a,children:i.jsx(jwe,{"data-state":a?"visible":"hidden",...r,ref:e})})}),gct=E.forwardRef((t,e)=>{const{forceMount:n,...r}=t,s=td(Wf,t.__scopeScrollArea),a=t.orientation==="horizontal",o=c6(()=>c("SCROLL_END"),100),[l,c]=Act("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return E.useEffect(()=>{if(l==="idle"){const u=window.setTimeout(()=>c("HIDE"),s.scrollHideDelay);return()=>window.clearTimeout(u)}},[l,s.scrollHideDelay,c]),E.useEffect(()=>{const u=s.viewport,d=a?"scrollLeft":"scrollTop";if(u){let h=u[d];const f=()=>{const A=u[d];h!==A&&(c("SCROLL"),o()),h=A};return u.addEventListener("scroll",f),()=>u.removeEventListener("scroll",f)}},[s.viewport,a,c,o]),i.jsx(Jo,{present:n||l!=="hidden",children:i.jsx(Fq,{"data-state":l==="hidden"?"hidden":"visible",...r,ref:e,onPointerEnter:Ht(t.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:Ht(t.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),jwe=E.forwardRef((t,e)=>{const n=td(Wf,t.__scopeScrollArea),{forceMount:r,...s}=t,[a,o]=E.useState(!1),l=t.orientation==="horizontal",c=c6(()=>{if(n.viewport){const u=n.viewport.offsetWidth<n.viewport.scrollWidth,d=n.viewport.offsetHeight<n.viewport.scrollHeight;o(l?u:d)}},10);return S2(n.viewport,c),S2(n.content,c),i.jsx(Jo,{present:r||a,children:i.jsx(Fq,{"data-state":a?"visible":"hidden",...s,ref:e})})}),Fq=E.forwardRef((t,e)=>{const{orientation:n="vertical",...r}=t,s=td(Wf,t.__scopeScrollArea),a=E.useRef(null),o=E.useRef(0),[l,c]=E.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),u=Ewe(l.viewport,l.content),d={...r,sizes:l,onSizesChange:c,hasThumb:u>0&&u<1,onThumbChange:f=>a.current=f,onThumbPointerUp:()=>o.current=0,onThumbPointerDown:f=>o.current=f};function h(f,A){return jct(f,o.current,l,A)}return n==="horizontal"?i.jsx(xct,{...d,ref:e,onThumbPositionChange:()=>{if(s.viewport&&a.current){const f=s.viewport.scrollLeft,A=rle(f,l,s.dir);a.current.style.transform=`translate3d(${A}px, 0, 0)`}},onWheelScroll:f=>{s.viewport&&(s.viewport.scrollLeft=f)},onDragScroll:f=>{s.viewport&&(s.viewport.scrollLeft=h(f,s.dir))}}):n==="vertical"?i.jsx(vct,{...d,ref:e,onThumbPositionChange:()=>{if(s.viewport&&a.current){const f=s.viewport.scrollTop,A=rle(f,l);a.current.style.transform=`translate3d(0, ${A}px, 0)`}},onWheelScroll:f=>{s.viewport&&(s.viewport.scrollTop=f)},onDragScroll:f=>{s.viewport&&(s.viewport.scrollTop=h(f))}}):null}),xct=E.forwardRef((t,e)=>{const{sizes:n,onSizesChange:r,...s}=t,a=td(Wf,t.__scopeScrollArea),[o,l]=E.useState(),c=E.useRef(null),u=Tn(e,c,a.onScrollbarXChange);return E.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),i.jsx(_we,{"data-orientation":"horizontal",...s,ref:u,sizes:n,style:{bottom:0,left:a.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:a.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":l6(n)+"px",...t.style},onThumbPointerDown:d=>t.onThumbPointerDown(d.x),onDragScroll:d=>t.onDragScroll(d.x),onWheelScroll:(d,h)=>{if(a.viewport){const f=a.viewport.scrollLeft+d.deltaX;t.onWheelScroll(f),Dwe(f,h)&&d.preventDefault()}},onResize:()=>{c.current&&a.viewport&&o&&r({content:a.viewport.scrollWidth,viewport:a.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:CT(o.paddingLeft),paddingEnd:CT(o.paddingRight)}})}})}),vct=E.forwardRef((t,e)=>{const{sizes:n,onSizesChange:r,...s}=t,a=td(Wf,t.__scopeScrollArea),[o,l]=E.useState(),c=E.useRef(null),u=Tn(e,c,a.onScrollbarYChange);return E.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),i.jsx(_we,{"data-orientation":"vertical",...s,ref:u,sizes:n,style:{top:0,right:a.dir==="ltr"?0:void 0,left:a.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":l6(n)+"px",...t.style},onThumbPointerDown:d=>t.onThumbPointerDown(d.y),onDragScroll:d=>t.onDragScroll(d.y),onWheelScroll:(d,h)=>{if(a.viewport){const f=a.viewport.scrollTop+d.deltaY;t.onWheelScroll(f),Dwe(f,h)&&d.preventDefault()}},onResize:()=>{c.current&&a.viewport&&o&&r({content:a.viewport.scrollHeight,viewport:a.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:CT(o.paddingTop),paddingEnd:CT(o.paddingBottom)}})}})}),[yct,Nwe]=vwe(Wf),_we=E.forwardRef((t,e)=>{const{__scopeScrollArea:n,sizes:r,hasThumb:s,onThumbChange:a,onThumbPointerUp:o,onThumbPointerDown:l,onThumbPositionChange:c,onDragScroll:u,onWheelScroll:d,onResize:h,...f}=t,A=td(Wf,n),[v,p]=E.useState(null),m=Tn(e,T=>p(T)),g=E.useRef(null),x=E.useRef(""),b=A.viewport,j=r.content-r.viewport,N=Gs(d),_=Gs(c),C=c6(h,10);function k(T){if(g.current){const O=T.clientX-g.current.left,I=T.clientY-g.current.top;u({x:O,y:I})}}return E.useEffect(()=>{const T=O=>{const I=O.target;(v==null?void 0:v.contains(I))&&N(O,j)};return document.addEventListener("wheel",T,{passive:!1}),()=>document.removeEventListener("wheel",T,{passive:!1})},[b,v,j,N]),E.useEffect(_,[r,_]),S2(v,C),S2(A.content,C),i.jsx(yct,{scope:n,scrollbar:v,hasThumb:s,onThumbChange:Gs(a),onThumbPointerUp:Gs(o),onThumbPositionChange:_,onThumbPointerDown:Gs(l),children:i.jsx(Jt.div,{...f,ref:m,style:{position:"absolute",...f.style},onPointerDown:Ht(t.onPointerDown,T=>{T.button===0&&(T.target.setPointerCapture(T.pointerId),g.current=v.getBoundingClientRect(),x.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",A.viewport&&(A.viewport.style.scrollBehavior="auto"),k(T))}),onPointerMove:Ht(t.onPointerMove,k),onPointerUp:Ht(t.onPointerUp,T=>{const O=T.target;O.hasPointerCapture(T.pointerId)&&O.releasePointerCapture(T.pointerId),document.body.style.webkitUserSelect=x.current,A.viewport&&(A.viewport.style.scrollBehavior=""),g.current=null})})})}),_T="ScrollAreaThumb",Cwe=E.forwardRef((t,e)=>{const{forceMount:n,...r}=t,s=Nwe(_T,t.__scopeScrollArea);return i.jsx(Jo,{present:n||s.hasThumb,children:i.jsx(bct,{ref:e,...r})})}),bct=E.forwardRef((t,e)=>{const{__scopeScrollArea:n,style:r,...s}=t,a=td(_T,n),o=Nwe(_T,n),{onThumbPositionChange:l}=o,c=Tn(e,h=>o.onThumbChange(h)),u=E.useRef(void 0),d=c6(()=>{u.current&&(u.current(),u.current=void 0)},100);return E.useEffect(()=>{const h=a.viewport;if(h){const f=()=>{if(d(),!u.current){const A=Nct(h,l);u.current=A,l()}};return l(),h.addEventListener("scroll",f),()=>h.removeEventListener("scroll",f)}},[a.viewport,d,l]),i.jsx(Jt.div,{"data-state":o.hasThumb?"visible":"hidden",...s,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...r},onPointerDownCapture:Ht(t.onPointerDownCapture,h=>{const A=h.target.getBoundingClientRect(),v=h.clientX-A.left,p=h.clientY-A.top;o.onThumbPointerDown({x:v,y:p})}),onPointerUp:Ht(t.onPointerUp,o.onThumbPointerUp)})});Cwe.displayName=_T;var Pq="ScrollAreaCorner",Swe=E.forwardRef((t,e)=>{const n=td(Pq,t.__scopeScrollArea),r=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&r?i.jsx(wct,{...t,ref:e}):null});Swe.displayName=Pq;var wct=E.forwardRef((t,e)=>{const{__scopeScrollArea:n,...r}=t,s=td(Pq,n),[a,o]=E.useState(0),[l,c]=E.useState(0),u=!!(a&&l);return S2(s.scrollbarX,()=>{var h;const d=((h=s.scrollbarX)==null?void 0:h.offsetHeight)||0;s.onCornerHeightChange(d),c(d)}),S2(s.scrollbarY,()=>{var h;const d=((h=s.scrollbarY)==null?void 0:h.offsetWidth)||0;s.onCornerWidthChange(d),o(d)}),u?i.jsx(Jt.div,{...r,ref:e,style:{width:a,height:l,position:"absolute",right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:0,...t.style}}):null});function CT(t){return t?parseInt(t,10):0}function Ewe(t,e){const n=t/e;return isNaN(n)?0:n}function l6(t){const e=Ewe(t.viewport,t.content),n=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,r=(t.scrollbar.size-n)*e;return Math.max(r,18)}function jct(t,e,n,r="ltr"){const s=l6(n),a=s/2,o=e||a,l=s-o,c=n.scrollbar.paddingStart+o,u=n.scrollbar.size-n.scrollbar.paddingEnd-l,d=n.content-n.viewport,h=r==="ltr"?[0,d]:[d*-1,0];return Bwe([c,u],h)(t)}function rle(t,e,n="ltr"){const r=l6(e),s=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,a=e.scrollbar.size-s,o=e.content-e.viewport,l=a-r,c=n==="ltr"?[0,o]:[o*-1,0],u=O_(t,c);return Bwe([0,o],[0,l])(u)}function Bwe(t,e){return n=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const r=(e[1]-e[0])/(t[1]-t[0]);return e[0]+r*(n-t[0])}}function Dwe(t,e){return t>0&&t<e}var Nct=(t,e=()=>{})=>{let n={left:t.scrollLeft,top:t.scrollTop},r=0;return function s(){const a={left:t.scrollLeft,top:t.scrollTop},o=n.left!==a.left,l=n.top!==a.top;(o||l)&&e(),n=a,r=window.requestAnimationFrame(s)}(),()=>window.cancelAnimationFrame(r)};function c6(t,e){const n=Gs(t),r=E.useRef(0);return E.useEffect(()=>()=>window.clearTimeout(r.current),[]),E.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(n,e)},[n,e])}function S2(t,e){const n=Gs(e);Qs(()=>{let r=0;if(t){const s=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(n)});return s.observe(t),()=>{window.cancelAnimationFrame(r),s.unobserve(t)}}},[t,n])}var Twe=ywe,_ct=wwe,Cct=Swe;const Js=E.forwardRef(({className:t,children:e,...n},r)=>i.jsxs(Twe,{ref:r,className:Vt("relative overflow-hidden",t),...n,children:[i.jsx(_ct,{className:"h-full w-full rounded-[inherit]",children:e}),i.jsx(kwe,{}),i.jsx(Cct,{})]}));Js.displayName=Twe.displayName;const kwe=E.forwardRef(({className:t,orientation:e="vertical",...n},r)=>i.jsx(kq,{ref:r,orientation:e,className:Vt("flex touch-none select-none transition-colors",e==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",e==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",t),...n,children:i.jsx(Cwe,{className:"relative flex-1 rounded-full bg-zinc-200 dark:bg-zinc-800"})}));kwe.displayName=kq.displayName;const Sct=({metrics:t})=>t?i.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:[i.jsxs("div",{className:"text-center p-3 bg-blue-50 rounded-lg border",children:[i.jsx("div",{className:"text-2xl font-bold text-blue-600",children:t.word_count}),i.jsx("div",{className:"text-sm text-gray-600",children:"كلمة"})]}),i.jsxs("div",{className:"text-center p-3 bg-green-50 rounded-lg border",children:[i.jsx("div",{className:"text-2xl font-bold text-green-600",children:t.sentence_count}),i.jsx("div",{className:"text-sm text-gray-600",children:"جملة"})]}),i.jsxs("div",{className:"text-center p-3 bg-purple-50 rounded-lg border",children:[i.jsx("div",{className:"text-2xl font-bold text-purple-600",children:Math.round(t.reading_time_minutes)}),i.jsx("div",{className:"text-sm text-gray-600",children:"دقيقة قراءة"})]}),i.jsxs("div",{className:"text-center p-3 bg-orange-50 rounded-lg border",children:[i.jsxs("div",{className:"text-2xl font-bold text-orange-600",children:[Math.round(t.readability_score*100),"%"]}),i.jsx("div",{className:"text-sm text-gray-600",children:"قابلية القراءة"})]})]}):null,Ect=({quality:t})=>{if(!t)return null;const e=n=>n>=.8?"bg-green-100":n>=.6?"bg-yellow-100":"bg-red-100";return i.jsxs(ae,{className:"mb-6",children:[i.jsx(Te,{className:"pb-3",children:i.jsxs(ke,{className:"text-lg flex items-center gap-2",children:[i.jsx(za,{className:"h-5 w-5"}),"تقييم الجودة الشامل"]})}),i.jsxs(oe,{children:[i.jsxs("div",{className:"mb-4",children:[i.jsxs("div",{className:"flex justify-between items-center mb-2",children:[i.jsx("span",{className:"font-medium",children:"الدرجة الإجمالية"}),i.jsx(He,{className:e(t.overall_score),children:t.level})]}),i.jsx(tt,{value:t.overall_score*100,className:"h-3"}),i.jsxs("div",{className:"text-sm text-gray-600 mt-1",children:[Math.round(t.overall_score*100),"% من 100%"]})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("div",{className:"text-sm font-medium mb-1",children:"الهيكل"}),i.jsx(tt,{value:t.components.structure*100,className:"h-2"}),i.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:[Math.round(t.components.structure*100),"%"]})]}),i.jsxs("div",{children:[i.jsx("div",{className:"text-sm font-medium mb-1",children:"الأسلوب"}),i.jsx(tt,{value:t.components.style*100,className:"h-2"}),i.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:[Math.round(t.components.style*100),"%"]})]}),i.jsxs("div",{children:[i.jsx("div",{className:"text-sm font-medium mb-1",children:"الوضوح"}),i.jsx(tt,{value:t.components.clarity*100,className:"h-2"}),i.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:[Math.round(t.components.clarity*100),"%"]})]}),i.jsxs("div",{children:[i.jsx("div",{className:"text-sm font-medium mb-1",children:"التماسك"}),i.jsx(tt,{value:t.components.coherence*100,className:"h-2"}),i.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:[Math.round(t.components.coherence*100),"%"]})]})]}),t.recommendations&&t.recommendations.length>0&&i.jsxs("div",{className:"mt-4",children:[i.jsxs("h4",{className:"text-sm font-medium mb-2 flex items-center gap-1",children:[i.jsx(nr,{className:"h-4 w-4"}),"توصيات التحسين"]}),i.jsx("ul",{className:"text-sm space-y-1",children:t.recommendations.slice(0,3).map((n,r)=>i.jsxs("li",{className:"flex items-start gap-2",children:[i.jsx("div",{className:"w-2 h-2 rounded-full bg-blue-400 mt-2 flex-shrink-0"}),i.jsx("span",{className:"text-gray-700",children:n})]},r))})]})]})]})},Bct=({issues:t})=>{if(!t||t.length===0)return i.jsxs("div",{className:"text-center py-8 text-gray-500",children:[i.jsx(O2,{className:"h-12 w-12 mx-auto mb-3 text-green-500"}),i.jsx("div",{className:"text-lg font-medium",children:"رائع! لا توجد مشاكل"}),i.jsx("div",{className:"text-sm",children:"النص يبدو جيداً"})]});const e=s=>{switch(s){case"critical":return"text-red-600 bg-red-100";case"high":return"text-orange-600 bg-orange-100";case"medium":return"text-yellow-600 bg-yellow-100";case"low":return"text-blue-600 bg-blue-100";default:return"text-gray-600 bg-gray-100"}},n=s=>{switch(s){case"critical":return i.jsx($a,{className:"h-4 w-4"});case"high":return i.jsx($a,{className:"h-4 w-4"});case"medium":return i.jsx(Go,{className:"h-4 w-4"});case"low":return i.jsx(nr,{className:"h-4 w-4"});default:return i.jsx(Go,{className:"h-4 w-4"})}},r=t.reduce((s,a)=>(s[a.type]||(s[a.type]=[]),s[a.type].push(a),s),{});return i.jsx("div",{className:"space-y-4",children:Object.entries(r).map(([s,a])=>i.jsxs("div",{className:"border rounded-lg p-4",children:[i.jsx("h4",{className:"font-medium mb-3 capitalize",children:s}),i.jsx("div",{className:"space-y-2",children:a.map((o,l)=>i.jsxs("div",{className:"flex items-start gap-3 p-3 bg-gray-50 rounded-lg",children:[i.jsx(He,{className:e(o.severity),variant:"secondary",children:n(o.severity)}),i.jsxs("div",{className:"flex-1",children:[i.jsx("div",{className:"font-medium text-sm",children:o.description}),o.text&&i.jsxs("div",{className:"text-xs text-gray-600 mt-1 font-mono bg-white p-2 rounded border",children:['"',o.text,'"']}),o.suggestion&&i.jsxs("div",{className:"text-sm text-green-700 mt-2 bg-green-50 p-2 rounded border-l-2 border-green-400",children:["💡 ",o.suggestion]}),i.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:["الثقة: ",Math.round(o.confidence*100),"%"]})]})]},l))})]},s))})},Dct=({suggestions:t,onApplySuggestion:e})=>{if(!t||t.length===0)return i.jsxs("div",{className:"text-center py-8 text-gray-500",children:[i.jsx(zt,{className:"h-12 w-12 mx-auto mb-3 text-gray-400"}),i.jsx("div",{className:"text-lg font-medium",children:"لا توجد اقتراحات حالياً"}),i.jsx("div",{className:"text-sm",children:"حلل النص أولاً للحصول على اقتراحات ذكية"})]});const n=s=>{switch(s){case"improve_clarity":return i.jsx(Vn,{className:"h-4 w-4"});case"rephrase":return i.jsx(Ar,{className:"h-4 w-4"});case"enhance_imagery":return i.jsx(Wa,{className:"h-4 w-4"});case"enhance_flow":return i.jsx(En,{className:"h-4 w-4"});default:return i.jsx(nr,{className:"h-4 w-4"})}},r=s=>{switch(s){case"improve_clarity":return"bg-blue-100 text-blue-700";case"rephrase":return"bg-green-100 text-green-700";case"enhance_imagery":return"bg-purple-100 text-purple-700";case"enhance_flow":return"bg-orange-100 text-orange-700";default:return"bg-gray-100 text-gray-700"}};return i.jsx("div",{className:"space-y-4",children:t.map(s=>i.jsx(ae,{className:"hover:shadow-md transition-shadow",children:i.jsx(oe,{className:"p-4",children:i.jsxs("div",{className:"flex items-start justify-between gap-4",children:[i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[i.jsxs(He,{className:r(s.type),variant:"secondary",children:[n(s.type),i.jsx("span",{className:"mr-1",children:s.type})]}),i.jsxs("div",{className:"text-sm text-gray-500",children:["تأثير: ",Math.round(s.impact_score*100),"%"]})]}),s.original_text&&i.jsxs("div",{className:"mb-3",children:[i.jsx("div",{className:"text-xs text-gray-600 mb-1",children:"النص الأصلي:"}),i.jsx("div",{className:"text-sm bg-gray-100 p-2 rounded border font-mono",children:s.original_text})]}),i.jsxs("div",{className:"mb-3",children:[i.jsx("div",{className:"text-xs text-gray-600 mb-1",children:"الاقتراح:"}),i.jsx("div",{className:"text-sm bg-green-50 p-2 rounded border border-green-200",children:s.suggested_text})]}),s.reasoning&&i.jsxs("div",{className:"text-sm text-gray-600 mb-3 italic",children:["💭 ",s.reasoning]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsxs("div",{className:"text-xs text-gray-500",children:["الثقة: ",Math.round(s.confidence*100),"%"]}),i.jsx(tt,{value:s.confidence*100,className:"h-1 w-20"})]})]}),i.jsxs("div",{className:"flex flex-col gap-2",children:[i.jsxs(xe,{size:"sm",onClick:()=>e(s),className:"text-xs",children:[i.jsx(O2,{className:"h-3 w-3 mr-1"}),"تطبيق"]}),i.jsxs(xe,{size:"sm",variant:"outline",className:"text-xs",children:[i.jsx(sh,{className:"h-3 w-3 mr-1"}),"تجاهل"]})]})]})})},s.id))})},Tct=({style:t})=>t?i.jsxs("div",{className:"space-y-6",children:[i.jsxs(ae,{children:[i.jsx(Te,{className:"pb-3",children:i.jsxs(ke,{className:"text-lg flex items-center gap-2",children:[i.jsx(ta,{className:"h-5 w-5"}),"تحليل النبرة والمشاعر"]})}),i.jsxs(oe,{children:[i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("div",{className:"text-sm font-medium mb-2",children:"النبرة السائدة"}),i.jsx(He,{variant:"outline",className:"text-lg px-3 py-1",children:t.tone.dominant})]}),i.jsxs("div",{children:[i.jsx("div",{className:"text-sm font-medium mb-2",children:"الكثافة العاطفية"}),i.jsx(tt,{value:t.tone.emotional_intensity*100,className:"h-3"}),i.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:[Math.round(t.tone.emotional_intensity*100),"%"]})]})]}),i.jsxs("div",{className:"mt-4 grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("div",{className:"text-sm text-gray-600",children:"المشاعر الإيجابية"}),i.jsx(tt,{value:t.tone.positive_ratio*100,className:"h-2"}),i.jsxs("div",{className:"text-xs text-gray-500",children:[Math.round(t.tone.positive_ratio*100),"%"]})]}),i.jsxs("div",{children:[i.jsx("div",{className:"text-sm text-gray-600",children:"المشاعر السلبية"}),i.jsx(tt,{value:t.tone.negative_ratio*100,className:"h-2"}),i.jsxs("div",{className:"text-xs text-gray-500",children:[Math.round(t.tone.negative_ratio*100),"%"]})]})]})]})]}),i.jsxs(ae,{children:[i.jsx(Te,{className:"pb-3",children:i.jsxs(ke,{className:"text-lg flex items-center gap-2",children:[i.jsx(JH,{className:"h-5 w-5"}),"تحليل الإيقاع والتدفق"]})}),i.jsxs(oe,{children:[i.jsxs("div",{className:"mb-4",children:[i.jsx("div",{className:"text-sm font-medium mb-2",children:"درجة التنوع في الإيقاع"}),i.jsx(tt,{value:t.rhythm.rhythm_score*100,className:"h-3"}),i.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:[Math.round(t.rhythm.rhythm_score*100),"% -",t.rhythm.rhythm_score>.7?" متنوع وجذاب":t.rhythm.rhythm_score>.4?" متوسط التنوع":" يحتاج المزيد من التنوع"]})]}),i.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"text-2xl font-bold text-blue-600",children:t.rhythm.sentence_distribution.short}),i.jsx("div",{className:"text-xs text-gray-600",children:"جمل قصيرة"})]}),i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"text-2xl font-bold text-green-600",children:t.rhythm.sentence_distribution.medium}),i.jsx("div",{className:"text-xs text-gray-600",children:"جمل متوسطة"})]}),i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"text-2xl font-bold text-purple-600",children:t.rhythm.sentence_distribution.long}),i.jsx("div",{className:"text-xs text-gray-600",children:"جمل طويلة"})]})]})]})]}),i.jsxs(ae,{children:[i.jsx(Te,{className:"pb-3",children:i.jsxs(ke,{className:"text-lg flex items-center gap-2",children:[i.jsx(Wa,{className:"h-5 w-5"}),"الصور البلاغية والتعبير"]})}),i.jsx(oe,{children:i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("div",{className:"text-sm font-medium mb-2",children:"ثراء الصور البلاغية"}),i.jsx(tt,{value:t.imagery.imagery_richness*100,className:"h-3"}),i.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:[Math.round(t.imagery.imagery_richness*100),"%"]})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("div",{className:"text-sm text-gray-600",children:"كثافة التشبيهات"}),i.jsx(tt,{value:t.imagery.metaphor_density*100,className:"h-2"}),i.jsxs("div",{className:"text-xs text-gray-500",children:[Math.round(t.imagery.metaphor_density*100),"%"]})]}),i.jsxs("div",{children:[i.jsx("div",{className:"text-sm text-gray-600",children:"الوصف الحسي"}),i.jsx(tt,{value:t.imagery.sensory_density*100,className:"h-2"}),i.jsxs("div",{className:"text-xs text-gray-500",children:[Math.round(t.imagery.sensory_density*100),"%"]})]})]})]})})]}),i.jsxs(ae,{children:[i.jsx(Te,{className:"pb-3",children:i.jsxs(ke,{className:"text-lg flex items-center gap-2",children:[i.jsx(tr,{className:"h-5 w-5"}),"البصمة الأسلوبية"]})}),i.jsx(oe,{children:i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("span",{className:"text-sm",children:"التوجه الحركي"}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(tt,{value:t.style_signature.action_orientation*100,className:"h-2 w-20"}),i.jsxs("span",{className:"text-xs text-gray-500",children:[Math.round(t.style_signature.action_orientation*100),"%"]})]})]}),i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("span",{className:"text-sm",children:"الميل الوصفي"}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(tt,{value:t.style_signature.descriptive_tendency*100,className:"h-2 w-20"}),i.jsxs("span",{className:"text-xs text-gray-500",children:[Math.round(t.style_signature.descriptive_tendency*100),"%"]})]})]}),i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("span",{className:"text-sm",children:"تفضيل التعقيد"}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(tt,{value:t.style_signature.complexity_preference*100,className:"h-2 w-20"}),i.jsxs("span",{className:"text-xs text-gray-500",children:[Math.round(t.style_signature.complexity_preference*100),"%"]})]})]}),i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("span",{className:"text-sm",children:"مستوى الرسمية"}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(tt,{value:t.style_signature.formality_level*100,className:"h-2 w-20"}),i.jsxs("span",{className:"text-xs text-gray-500",children:[Math.round(t.style_signature.formality_level*100),"%"]})]})]})]})})]})]}):null,kct=()=>{const[t,e]=E.useState(""),[n,r]=E.useState(null),[s,a]=E.useState([]),[o,l]=E.useState(!1),[c,u]=E.useState(!1),[d,h]=E.useState(500),[f,A]=E.useState(!1),[v,p]=E.useState(!1),[m,g]=E.useState("editor"),[x,b]=E.useState(!1),[j,N]=E.useState(!1),[_,C]=E.useState(null),[k,T]=E.useState(null),[O,I]=E.useState(null),[F,M]=E.useState(""),[S,q]=E.useState(null),[U,L]=E.useState(!1),[z,$]=E.useState(null),{toast:K}=ki(),V=E.useRef(null),H=E.useMemo(()=>{if(!t)return null;const X=t.trim().split(/\s+/).filter(de=>de.length>0),ue=t.split(/[.!?؟]/).filter(de=>de.trim().length>0),re=t.split(/\n\s*\n/).filter(de=>de.trim().length>0);return{word_count:X.length,sentence_count:ue.length,paragraph_count:re.length,character_count:t.length,average_sentence_length:X.length/Math.max(ue.length,1),reading_time_minutes:X.length/200,complexity_score:0,readability_score:0}},[t]),W=E.useCallback(async()=>{if(!t||t.trim().length<10){K({title:"تنبيه",description:"النص قصير جداً للتحليل",variant:"destructive"});return}l(!0);try{const X=await fetch("/api/text/analyze",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({text:t})});if(!X.ok)throw new Error("فشل في تحليل النص");const ue=await X.json();if(ue.success)r(ue.analysis),K({title:"تم التحليل بنجاح",description:"تم تحليل النص وتقييم جودته"});else throw new Error(ue.error||"خطأ غير معروف")}catch(X){console.error("خطأ في التحليل:",X),K({title:"خطأ في التحليل",description:X instanceof Error?X.message:"حدث خطأ غير متوقع",variant:"destructive"})}finally{l(!1)}},[t,K]),Y=E.useCallback(async(X="all")=>{if(!t||t.trim().length<10){K({title:"تنبيه",description:"النص قصير جداً لتوليد الاقتراحات",variant:"destructive"});return}u(!0);try{const ue=await fetch("/api/text/suggestions",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({text:t,type:X})});if(!ue.ok)throw new Error("فشل في توليد الاقتراحات");const re=await ue.json();if(re.success)a(re.suggestions),K({title:"تم توليد الاقتراحات",description:`تم توليد ${re.suggestions.length} اقتراحاً ذكياً`});else throw new Error(re.error||"خطأ غير معروف")}catch(ue){console.error("خطأ في توليد الاقتراحات:",ue),K({title:"خطأ في الاقتراحات",description:ue instanceof Error?ue.message:"حدث خطأ غير متوقع",variant:"destructive"})}finally{u(!1)}},[t,K]),ee=E.useCallback(async X=>{var ue;if(!t||t.trim().length<10){K({title:"تنبيه",description:"النص قصير جداً للتعديل",variant:"destructive"});return}l(!0);try{const re=await fetch("/api/text/adjust-length",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({text:t,target_length:d,operation:X})});if(!re.ok)throw new Error("فشل في تعديل طول النص");const de=await re.json();if(de.success&&de.result.success)e(de.result.text),K({title:"تم تعديل النص بنجاح",description:`تم ${X==="shorten"?"تقصير":"إطالة"} النص من ${de.result.original_length} إلى ${de.result.final_length} كلمة`});else throw new Error(de.error||((ue=de.result)==null?void 0:ue.error)||"خطأ غير معروف")}catch(re){console.error("خطأ في تعديل طول النص:",re),K({title:"خطأ في التعديل",description:re instanceof Error?re.message:"حدث خطأ غير متوقع",variant:"destructive"})}finally{l(!1)}},[t,d,K]),ie=E.useCallback(X=>{if(X.original_text&&X.suggested_text){const ue=t.replace(X.original_text,X.suggested_text);e(ue),K({title:"تم تطبيق الاقتراح",description:"تم تطبيق الاقتراح على النص بنجاح"})}},[t,K]),se=E.useCallback(async(X,ue)=>{if(!t||t.trim().length<10){K({title:"تنبيه",description:"النص قصير جداً للتعديل",variant:"destructive"});return}N(!0);try{const re=await fetch("/api/text/modify-length",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({text:t,modification_type:X,target_length:ue||d,style_preferences:{tone:"formal",preserve_style:!0}})});if(!re.ok)throw new Error("فشل في تعديل طول النص");const de=await re.json();if(de.success)C(de.modification),K({title:"تم تعديل النص بنجاح",description:`تم ${X==="EXPAND"?"إطالة":X==="SUMMARIZE"?"تلخيص":"تحسين"} النص بجودة ${Math.round(de.modification.quality_score*100)}%`});else throw new Error(de.error||"خطأ غير معروف")}catch(re){console.error("خطأ في تعديل طول النص:",re),K({title:"خطأ في التعديل",description:re instanceof Error?re.message:"حدث خطأ غير متوقع",variant:"destructive"})}finally{N(!1)}},[t,d,K]),Ae=E.useCallback(async X=>{if(t)try{const ue=await fetch("/api/text/preview-expansion",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({text:t,target_length:X})});if(!ue.ok)throw new Error("فشل في معاينة التوسع");const re=await ue.json();re.success&&T(re.preview)}catch(ue){console.error("خطأ في معاينة التوسع:",ue)}},[t]),he=E.useCallback(async X=>{if(t)try{const ue=await fetch("/api/text/preview-summarization",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({text:t,target_length:X})});if(!ue.ok)throw new Error("فشل في معاينة التلخيص");const re=await ue.json();re.success&&I(re.preview)}catch(ue){console.error("خطأ في معاينة التلخيص:",ue)}},[t]),Be=E.useCallback(()=>{_&&(e(_.modified_text),C(null),K({title:"تم تطبيق التعديل",description:"تم تطبيق التعديل على النص بنجاح"}))},[_,K]),Me=E.useCallback(async(X,ue="TEXT_DOCUMENT")=>{if(!X||X.trim().length<20){K({title:"تنبيه",description:"محتوى الشاهد قصير جداً للمعالجة",variant:"destructive"});return}L(!0);try{const re=await fetch("/api/witness/process",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({content:X,content_type:ue})});if(!re.ok)throw new Error("فشل في معالجة محتوى الشاهد");const de=await re.json();if(de.success)q(de.witness_analysis),K({title:"تم تحليل المحتوى بنجاح",description:`تم استخراج ${de.witness_analysis.key_information.length} معلومة رئيسية و ${de.witness_analysis.factual_claims.length} ادعاء واقعي`});else throw new Error(de.error||"خطأ غير معروف")}catch(re){console.error("خطأ في معالجة الشاهد:",re),K({title:"خطأ في المعالجة",description:re instanceof Error?re.message:"حدث خطأ غير متوقع",variant:"destructive"})}finally{L(!1)}},[K]),Ie=E.useCallback(async X=>{if(!X)return;const ue=new FormData;ue.append("file",X),L(!0);try{const re=await fetch("/api/witness/upload-transcript",{method:"POST",body:ue});if(!re.ok)throw new Error("فشل في رفع الترانسكريبت");const de=await re.json();if(de.success)K({title:"تم رفع الترانسكريبت بنجاح",description:de.message}),de.analysis_summary;else throw new Error(de.error||"خطأ غير معروف")}catch(re){console.error("خطأ في رفع الترانسكريبت:",re),K({title:"خطأ في الرفع",description:re instanceof Error?re.message:"حدث خطأ غير متوقع",variant:"destructive"})}finally{L(!1)}},[K]),Ye=E.useCallback(async()=>{var X;if(!F&&!S){K({title:"تنبيه",description:"يجب إضافة محتوى الشاهد أولاً",variant:"destructive"});return}try{const ue=await fetch("/api/witness/integrate-suggestions",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({witness_content:F||((X=S==null?void 0:S.witness_content)==null?void 0:X.content),current_text:t,context:"novel_writing"})});if(!ue.ok)throw new Error("فشل في الحصول على اقتراحات الدمج");const re=await ue.json();if(re.success)$(re),K({title:"تم توليد اقتراحات الدمج",description:`تم توليد ${re.integration_suggestions.length} اقتراحاً للدمج`});else throw new Error(re.error||"خطأ غير معروف")}catch(ue){console.error("خطأ في اقتراحات الدمج:",ue),K({title:"خطأ في الاقتراحات",description:ue instanceof Error?ue.message:"حدث خطأ غير متوقع",variant:"destructive"})}},[F,S,t,K]);return E.useEffect(()=>{if(f&&t&&t.length>50){const X=setTimeout(()=>{W()},2e3);return()=>clearTimeout(X)}},[t,f,W]),i.jsxs("div",{className:"w-full max-w-7xl mx-auto p-6 space-y-6",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:"المحرر التفاعلي الذكي الفائق"}),i.jsx("p",{className:"text-gray-600 mt-1",children:"محرر متطور مع تحليل ذكي، اقتراحات فورية، وأدوات تحسين النصوص"})]}),i.jsx("div",{className:"flex items-center gap-3",children:i.jsx(Ry,{children:i.jsxs(ti,{children:[i.jsx(ni,{asChild:!0,children:i.jsx(xe,{variant:"outline",size:"sm",onClick:()=>b(!x),children:i.jsx(Qr,{className:"h-4 w-4"})})}),i.jsx(Vr,{children:"الإعدادات المتقدمة"})]})})})]}),x&&i.jsxs(ae,{children:[i.jsx(Te,{children:i.jsx(ke,{className:"text-lg",children:"الإعدادات المتقدمة"})}),i.jsx(oe,{children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(Dt,{htmlFor:"targetWordCount",children:"الطول المستهدف (كلمة)"}),i.jsx(wn,{id:"targetWordCount",type:"number",value:d,onChange:X=>h(parseInt(X.target.value)||500),min:50,max:5e3})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(zo,{id:"autoAnalyze",checked:f,onCheckedChange:A}),i.jsx(Dt,{htmlFor:"autoAnalyze",children:"التحليل التلقائي"})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(zo,{id:"realTimeMode",checked:v,onCheckedChange:p}),i.jsx(Dt,{htmlFor:"realTimeMode",children:"الوضع الفوري"})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Dt,{children:"أدوات سريعة"}),i.jsxs("div",{className:"flex flex-wrap gap-2",children:[i.jsxs(xe,{size:"sm",variant:"outline",onClick:()=>ee("shorten"),children:[i.jsx(oB,{className:"h-3 w-3 mr-1"}),"تقصير"]}),i.jsxs(xe,{size:"sm",variant:"outline",onClick:()=>ee("expand"),children:[i.jsx(p1,{className:"h-3 w-3 mr-1"}),"إطالة"]}),i.jsxs(xe,{size:"sm",variant:"outline",onClick:()=>Y(),children:[i.jsx(Qn,{className:"h-3 w-3 mr-1"}),"اقتراحات"]})]})]})]})})]}),i.jsx(Sct,{metrics:H}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[i.jsx("div",{className:"lg:col-span-2",children:i.jsxs(ae,{className:"h-full",children:[i.jsx(Te,{children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs(ke,{className:"flex items-center gap-2",children:[i.jsx(Gu,{className:"h-5 w-5"}),"منطقة التحرير"]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsxs(xe,{size:"sm",onClick:W,disabled:o||!t.trim(),children:[o?i.jsx(Ar,{className:"h-4 w-4 animate-spin mr-1"}):i.jsx(zt,{className:"h-4 w-4 mr-1"}),"تحليل"]}),i.jsxs(xe,{size:"sm",variant:"outline",onClick:()=>Y(),disabled:c||!t.trim(),children:[c?i.jsx(Ar,{className:"h-4 w-4 animate-spin mr-1"}):i.jsx(nr,{className:"h-4 w-4 mr-1"}),"اقتراحات"]})]})]})}),i.jsxs(oe,{children:[i.jsx(Zi,{ref:V,value:t,onChange:X=>e(X.target.value),placeholder:"ابدأ الكتابة هنا... سيقوم المحرر الذكي بتحليل النص وتقديم اقتراحات فورية لتحسين جودة كتابتك.",className:"min-h-[500px] text-lg leading-relaxed resize-none border-0 focus-visible:ring-0",dir:"rtl"}),i.jsxs("div",{className:"flex items-center justify-between mt-4 pt-4 border-t text-sm text-gray-500",children:[i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsxs("span",{children:[(H==null?void 0:H.word_count)||0," كلمة"]}),i.jsxs("span",{children:[(H==null?void 0:H.character_count)||0," حرف"]}),i.jsxs("span",{children:[Math.round((H==null?void 0:H.reading_time_minutes)||0)," دقيقة قراءة"]})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[v&&i.jsxs(He,{variant:"secondary",className:"text-xs",children:[i.jsx(vr,{className:"h-3 w-3 mr-1"}),"الوضع الفوري"]}),f&&i.jsxs(He,{variant:"secondary",className:"text-xs",children:[i.jsx(zt,{className:"h-3 w-3 mr-1"}),"تحليل تلقائي"]})]})]})]})]})}),i.jsx("div",{className:"space-y-6",children:i.jsxs(zn,{value:m,onValueChange:g,children:[i.jsxs(On,{className:"grid w-full grid-cols-5",children:[i.jsx(nt,{value:"analysis",children:"التحليل"}),i.jsx(nt,{value:"suggestions",children:"الاقتراحات"}),i.jsx(nt,{value:"style",children:"الأسلوب"}),i.jsx(nt,{value:"length-control",children:"التحكم بالطول"}),i.jsx(nt,{value:"witness",children:"الشاهد"})]}),i.jsxs(rt,{value:"analysis",className:"space-y-4",children:[i.jsx(Ect,{quality:(n==null?void 0:n.quality)||null}),i.jsxs(ae,{children:[i.jsx(Te,{children:i.jsxs(ke,{className:"text-lg flex items-center gap-2",children:[i.jsx($a,{className:"h-5 w-5"}),"المشاكل والتحسينات"]})}),i.jsx(oe,{children:i.jsx(Js,{className:"h-60",children:i.jsx(Bct,{issues:(n==null?void 0:n.issues)||[]})})})]})]}),i.jsx(rt,{value:"suggestions",className:"space-y-4",children:i.jsxs(ae,{children:[i.jsx(Te,{children:i.jsxs(ke,{className:"text-lg flex items-center gap-2",children:[i.jsx(Qn,{className:"h-5 w-5"}),"الاقتراحات الذكية"]})}),i.jsx(oe,{children:i.jsx(Js,{className:"h-80",children:i.jsx(Dct,{suggestions:s,onApplySuggestion:ie})})})]})}),i.jsx(rt,{value:"style",children:i.jsx(Js,{className:"h-96",children:i.jsx(Tct,{style:(n==null?void 0:n.style)||null})})}),i.jsx(rt,{value:"length-control",className:"space-y-4",children:i.jsxs(ae,{children:[i.jsx(Te,{children:i.jsxs(ke,{className:"text-lg flex items-center gap-2",children:[i.jsx(Z_e,{className:"h-5 w-5"}),"التحكم الذكي بطول النص"]})}),i.jsxs(oe,{className:"space-y-6",children:[i.jsx("div",{className:"bg-gray-50 p-4 rounded-lg",children:i.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"text-2xl font-bold text-blue-600",children:(H==null?void 0:H.word_count)||0}),i.jsx("div",{className:"text-sm text-gray-600",children:"كلمة حالياً"})]}),i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"text-2xl font-bold text-green-600",children:d}),i.jsx("div",{className:"text-sm text-gray-600",children:"الهدف"})]}),i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"text-2xl font-bold text-orange-600",children:H?Math.round(H.reading_time_minutes*10)/10:0}),i.jsx("div",{className:"text-sm text-gray-600",children:"دقيقة قراءة"})]}),i.jsxs("div",{className:"text-center",children:[i.jsxs("div",{className:"text-2xl font-bold text-purple-600",children:[H&&d?Math.round(H.word_count/d*100):0,"%"]}),i.jsx("div",{className:"text-sm text-gray-600",children:"من الهدف"})]})]})}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsx(ae,{className:"p-4",children:i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(p1,{className:"h-4 w-4 text-green-600"}),i.jsx("h3",{className:"font-semibold",children:"إطالة النص"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Dt,{children:"الطول المطلوب (كلمة)"}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx(wn,{type:"number",value:d,onChange:X=>h(Number(X.target.value)),min:(H==null?void 0:H.word_count)||0,className:"flex-1"}),i.jsx(xe,{size:"sm",variant:"outline",onClick:()=>Ae(d),children:i.jsx(Vn,{className:"h-4 w-4"})})]})]}),k&&i.jsxs("div",{className:"p-3 bg-green-50 rounded-lg text-sm",children:[i.jsx("div",{className:"font-medium text-green-800",children:"معاينة الإطالة:"}),i.jsxs("div",{className:"text-green-700",children:["سيتم إضافة ",k.words_to_add," كلمة (",k.expansion_type," توسع)"]})]}),i.jsxs(xe,{onClick:()=>se("EXPAND",d),disabled:j||!t,className:"w-full",children:[j?i.jsx(Ar,{className:"h-4 w-4 animate-spin mr-2"}):i.jsx(p1,{className:"h-4 w-4 mr-2"}),"إطالة النص"]})]})}),i.jsx(ae,{className:"p-4",children:i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(oB,{className:"h-4 w-4 text-red-600"}),i.jsx("h3",{className:"font-semibold",children:"تقصير النص"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Dt,{children:"الطول المطلوب (كلمة)"}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx(wn,{type:"number",value:d,onChange:X=>h(Number(X.target.value)),max:(H==null?void 0:H.word_count)||1e3,className:"flex-1"}),i.jsx(xe,{size:"sm",variant:"outline",onClick:()=>he(d),children:i.jsx(Vn,{className:"h-4 w-4"})})]})]}),O&&i.jsxs("div",{className:"p-3 bg-red-50 rounded-lg text-sm",children:[i.jsx("div",{className:"font-medium text-red-800",children:"معاينة التلخيص:"}),i.jsxs("div",{className:"text-red-700",children:["سيتم إزالة ",O.words_to_remove," كلمة (",O.summarization_type," تلخيص)"]})]}),i.jsxs(xe,{onClick:()=>se("SUMMARIZE",d),disabled:j||!t,className:"w-full",variant:"destructive",children:[j?i.jsx(Ar,{className:"h-4 w-4 animate-spin mr-2"}):i.jsx(oB,{className:"h-4 w-4 mr-2"}),"تقصير النص"]})]})})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-2",children:[i.jsxs(xe,{onClick:()=>se("IMPROVE"),disabled:j||!t,variant:"outline",children:[i.jsx(Ha,{className:"h-4 w-4 mr-2"}),"تحسين الجودة"]}),i.jsxs(xe,{onClick:()=>se("REPHRASE"),disabled:j||!t,variant:"outline",children:[i.jsx(dx,{className:"h-4 w-4 mr-2"}),"إعادة صياغة"]}),i.jsxs(xe,{onClick:()=>se("SIMPLIFY"),disabled:j||!t,variant:"outline",children:[i.jsx(En,{className:"h-4 w-4 mr-2"}),"تبسيط النص"]})]}),_&&i.jsx(ae,{className:"p-4 bg-blue-50 border-blue-200",children:i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("h3",{className:"font-semibold text-blue-800",children:"نتيجة التعديل"}),i.jsxs(He,{variant:"secondary",children:["جودة ",Math.round(_.quality_score*100),"%"]})]}),i.jsxs("div",{className:"text-sm text-blue-700",children:[i.jsxs("div",{children:["الطول الأصلي: ",_.original_metrics.word_count," كلمة"]}),i.jsxs("div",{children:["الطول الجديد: ",_.new_metrics.word_count," كلمة"]}),i.jsxs("div",{children:["التغيير: ",_.changes_summary.word_count_change>0?"+":"",_.changes_summary.word_count_change," كلمة"]})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsxs(xe,{onClick:Be,size:"sm",children:[i.jsx(O2,{className:"h-4 w-4 mr-2"}),"تطبيق التعديل"]}),i.jsxs(xe,{onClick:()=>C(null),size:"sm",variant:"outline",children:[i.jsx(sh,{className:"h-4 w-4 mr-2"}),"إلغاء"]})]})]})})]})]})}),i.jsx(rt,{value:"witness",className:"space-y-4",children:i.jsxs(ae,{children:[i.jsx(Te,{children:i.jsxs(ke,{className:"text-lg flex items-center gap-2",children:[i.jsx(xn,{className:"h-5 w-5"}),"نظام الشاهد - معالجة الترانسكريبت والمحتوى"]})}),i.jsxs(oe,{className:"space-y-6",children:[i.jsxs("div",{className:"space-y-3",children:[i.jsx("h3",{className:"font-semibold",children:"رفع ترانسكريبت فيديو أو ملف نصي"}),i.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center",children:[i.jsx("input",{type:"file",accept:".txt,.srt,.vtt,.json",className:"hidden",id:"transcript-upload",onChange:X=>{var re;const ue=(re=X.target.files)==null?void 0:re[0];ue&&Ie(ue)}}),i.jsx("label",{htmlFor:"transcript-upload",className:"cursor-pointer",children:i.jsxs("div",{className:"space-y-2",children:[i.jsx(sc,{className:"h-8 w-8 mx-auto text-gray-400"}),i.jsx("div",{className:"text-sm text-gray-600",children:"اضغط لرفع ملف ترانسكريبت"}),i.jsx("div",{className:"text-xs text-gray-500",children:"يدعم: .txt, .srt, .vtt, .json"})]})})]})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsx("h3",{className:"font-semibold",children:"أو أدخل محتوى الشاهد يدوياً"}),i.jsx(Zi,{placeholder:"ألصق هنا ترانسكريبت الفيديو أو المحتوى المرجعي...",value:F,onChange:X=>M(X.target.value),className:"min-h-32"}),i.jsxs(xe,{onClick:()=>Me(F),disabled:U||!F.trim(),children:[U?i.jsx(Ar,{className:"h-4 w-4 animate-spin mr-2"}):i.jsx(zt,{className:"h-4 w-4 mr-2"}),"تحليل المحتوى"]})]}),S&&i.jsx(ae,{className:"p-4 bg-green-50 border-green-200",children:i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("h3",{className:"font-semibold text-green-800",children:"نتائج تحليل الشاهد"}),i.jsx("div",{className:"flex items-center gap-2",children:i.jsxs(He,{variant:"secondary",children:["مصداقية ",Math.round(S.witness_content.credibility_score*100),"%"]})})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm",children:[i.jsxs("div",{className:"text-center p-3 bg-white rounded-lg",children:[i.jsx("div",{className:"text-lg font-bold text-blue-600",children:S.key_information.length}),i.jsx("div",{className:"text-gray-600",children:"معلومة رئيسية"})]}),i.jsxs("div",{className:"text-center p-3 bg-white rounded-lg",children:[i.jsx("div",{className:"text-lg font-bold text-purple-600",children:S.factual_claims.length}),i.jsx("div",{className:"text-gray-600",children:"ادعاء واقعي"})]}),i.jsxs("div",{className:"text-center p-3 bg-white rounded-lg",children:[i.jsx("div",{className:"text-lg font-bold text-orange-600",children:S.narrative_elements.length}),i.jsx("div",{className:"text-gray-600",children:"عنصر سردي"})]})]}),S.key_information.length>0&&i.jsxs("div",{children:[i.jsx("h4",{className:"font-medium text-green-800 mb-2",children:"معلومات رئيسية:"}),i.jsx(Js,{className:"h-32",children:i.jsx("div",{className:"space-y-1",children:S.key_information.slice(0,5).map((X,ue)=>i.jsxs("div",{className:"text-sm p-2 bg-white rounded text-gray-700",children:["• ",X]},ue))})})]}),i.jsx("div",{className:"flex gap-2",children:i.jsxs(xe,{onClick:Ye,size:"sm",variant:"outline",children:[i.jsx(nr,{className:"h-4 w-4 mr-2"}),"اقتراحات الدمج"]})})]})}),z&&i.jsx(ae,{className:"p-4 bg-yellow-50 border-yellow-200",children:i.jsxs("div",{className:"space-y-3",children:[i.jsx("h3",{className:"font-semibold text-yellow-800",children:"اقتراحات دمج المحتوى"}),i.jsx(Js,{className:"h-40",children:i.jsx("div",{className:"space-y-2",children:z.integration_suggestions.map((X,ue)=>i.jsxs("div",{className:"text-sm p-2 bg-white rounded text-gray-700",children:["💡 ",X]},ue))})}),z.usage_examples&&i.jsxs("div",{children:[i.jsx("h4",{className:"font-medium text-yellow-800 mb-2",children:"أمثلة للاستخدام:"}),i.jsx("div",{className:"space-y-1",children:z.usage_examples.slice(0,3).map((X,ue)=>i.jsxs("div",{className:"text-xs p-1 bg-white rounded text-gray-600",children:["✨ ",X]},ue))})]})]})})]})]})})]})})]})]})},Fct=()=>{const t=rce();return i.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-purple-50",children:[i.jsx("div",{className:"bg-white border-b shadow-sm",children:i.jsx("div",{className:"max-w-7xl mx-auto px-6 py-4",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsxs(xe,{variant:"ghost",size:"sm",onClick:()=>t("/"),className:"flex items-center gap-2",children:[i.jsx(AS,{className:"h-4 w-4"}),"العودة للرئيسية"]}),i.jsx("div",{className:"h-6 w-px bg-gray-300"}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-xl font-bold",children:"المحرر التفاعلي الذكي الفائق"}),i.jsx("p",{className:"text-sm text-gray-600",children:"أدوات متطورة لتحليل وتحسين النصوص"})]})]}),i.jsx("div",{className:"flex items-center gap-2",children:i.jsxs("div",{className:"flex items-center gap-1 text-sm text-gray-600",children:[i.jsx(Qn,{className:"h-4 w-4 text-yellow-500"}),i.jsx("span",{children:"مدعوم بالذكاء الاصطناعي"})]})})]})})}),i.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-6",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-8",children:[i.jsx(ae,{className:"bg-gradient-to-br from-blue-500 to-blue-600 text-white",children:i.jsx(oe,{className:"p-4",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(zt,{className:"h-8 w-8"}),i.jsxs("div",{children:[i.jsx("div",{className:"font-semibold",children:"تحليل ذكي"}),i.jsx("div",{className:"text-sm opacity-90",children:"تحليل شامل للجودة والأسلوب"})]})]})})}),i.jsx(ae,{className:"bg-gradient-to-br from-green-500 to-green-600 text-white",children:i.jsx(oe,{className:"p-4",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(vr,{className:"h-8 w-8"}),i.jsxs("div",{children:[i.jsx("div",{className:"font-semibold",children:"اقتراحات فورية"}),i.jsx("div",{className:"text-sm opacity-90",children:"تحسينات ذكية للنص"})]})]})})}),i.jsx(ae,{className:"bg-gradient-to-br from-purple-500 to-purple-600 text-white",children:i.jsx(oe,{className:"p-4",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(En,{className:"h-8 w-8"}),i.jsxs("div",{children:[i.jsx("div",{className:"font-semibold",children:"تعديل الطول"}),i.jsx("div",{className:"text-sm opacity-90",children:"إطالة أو تقصير ذكي"})]})]})})}),i.jsx(ae,{className:"bg-gradient-to-br from-orange-500 to-orange-600 text-white",children:i.jsx(oe,{className:"p-4",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(za,{className:"h-8 w-8"}),i.jsxs("div",{children:[i.jsx("div",{className:"font-semibold",children:"تقييم الجودة"}),i.jsx("div",{className:"text-sm opacity-90",children:"مقاييس شاملة للأداء"})]})]})})})]}),i.jsx(kct,{})]})]})},Fwe=()=>{const[t,e]=E.useState([]),[n,r]=E.useState([]),[s,a]=E.useState(!1),[o,l]=E.useState(""),[c,u]=E.useState("all"),[d,h]=E.useState(null),[f,A]=E.useState([]),[v,p]=E.useState(!1),[m,g]=E.useState(!1),[x,b]=E.useState(!1),[j,N]=E.useState({title:"",transcript:"",video_title:"",date_recorded:"",location:"",interviewer:"",duration_minutes:"",quality:"عالية",language:"عربي",topics:[]}),{toast:_}=ki(),C=E.useCallback(async()=>{try{a(!0);const U=await fetch("/api/witness/sources",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!U.ok)throw new Error("فشل في تحميل المصادر");const L=await U.json();e(L.sources||[]),r(L.sources||[])}catch{_({title:"خطأ",description:"فشل في تحميل مصادر الشاهد",variant:"destructive"})}finally{a(!1)}},[_]);E.useEffect(()=>{let U=t;o&&(U=U.filter(L=>L.title.toLowerCase().includes(o.toLowerCase())||L.transcript.toLowerCase().includes(o.toLowerCase())||L.source_info.location&&L.source_info.location.toLowerCase().includes(o.toLowerCase()))),c!=="all"&&(U=U.filter(L=>L.analysis_status===c)),r(U)},[t,o,c]),E.useEffect(()=>{C()},[C]);const k=async U=>{if(U.preventDefault(),!j.title||!j.transcript){_({title:"خطأ",description:"يرجى إدخال العنوان والترانسكريبت",variant:"destructive"});return}try{a(!0);const L={video_title:j.video_title,date_recorded:j.date_recorded,location:j.location,interviewer:j.interviewer,duration_minutes:j.duration_minutes?parseInt(j.duration_minutes):void 0,quality:j.quality,language:j.language,topics:j.topics},z=await fetch("/api/witness/upload_transcript",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify({title:j.title,transcript:j.transcript,source_info:L})});if(!z.ok)throw new Error("فشل في رفع الترانسكريبت");const $=await z.json();_({title:"نجح الرفع",description:`تم رفع "${$.title}" بنجاح`}),N({title:"",transcript:"",video_title:"",date_recorded:"",location:"",interviewer:"",duration_minutes:"",quality:"عالية",language:"عربي",topics:[]}),p(!1),C()}catch{_({title:"خطأ",description:"فشل في رفع الترانسكريبت",variant:"destructive"})}finally{a(!1)}},T=E.useCallback(U=>{U.preventDefault(),U.stopPropagation(),U.type==="dragenter"||U.type==="dragover"?b(!0):U.type==="dragleave"&&b(!1)},[]),O=E.useCallback(U=>{if(U.preventDefault(),U.stopPropagation(),b(!1),U.dataTransfer.files&&U.dataTransfer.files[0]){const L=U.dataTransfer.files[0];if(L.type==="text/plain"){const z=new FileReader;z.onload=$=>{var V;const K=(V=$.target)==null?void 0:V.result;N(H=>({...H,transcript:K,title:L.name.replace(".txt","")})),p(!0)},z.readAsText(L)}}},[]),I=async U=>{try{h(U),a(!0);const L=await fetch(`/api/witness/sources/${U.witness_id}/extraction`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(L.ok){const z=await L.json();A(z.extraction_results||[])}g(!0)}catch{_({title:"خطأ",description:"فشل في تحميل تفاصيل المصدر",variant:"destructive"})}finally{a(!1)}},F=async(U,L)=>{if(confirm(`هل أنت متأكد من حذف "${L}"؟`))try{if(!(await fetch(`/api/witness/sources/${U}`,{method:"DELETE",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}})).ok)throw new Error("فشل في حذف المصدر");_({title:"تم الحذف",description:`تم حذف "${L}" بنجاح`}),C()}catch{_({title:"خطأ",description:"فشل في حذف المصدر",variant:"destructive"})}},M=async U=>{try{if(a(!0),!(await fetch("/api/witness/extract_info",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify({witness_id:U.witness_id,analysis_depth:"deep"})})).ok)throw new Error("فشل في تحليل المصدر");_({title:"بدء التحليل",description:`بدء تحليل "${U.title}" بنجاح`}),setTimeout(()=>C(),2e3)}catch{_({title:"خطأ",description:"فشل في تحليل المصدر",variant:"destructive"})}finally{a(!1)}},S=U=>{const L={pending:{label:"في الانتظار",color:"bg-yellow-500"},processing:{label:"جاري التحليل",color:"bg-blue-500"},completed:{label:"مكتمل",color:"bg-green-500"},failed:{label:"فشل",color:"bg-red-500"}},z=L[U]||L.pending;return i.jsx(He,{className:`${z.color} text-white`,children:z.label})},q=U=>U?U>=.8?"عالية جداً":U>=.6?"عالية":U>=.4?"متوسطة":U>=.2?"منخفضة":"مشكوك فيها":"غير محدد";return i.jsxs("div",{className:"container mx-auto p-6 space-y-6",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold text-right",children:"مصادر الشاهد 🎬"}),i.jsx("p",{className:"text-muted-foreground text-right",children:"إدارة ترانسكريبت الفيديوهات وتحويلها إلى مادة إبداعية"})]}),i.jsxs(Xc,{open:v,onOpenChange:p,children:[i.jsx(Dpe,{asChild:!0,children:i.jsxs(xe,{className:"gap-2",children:[i.jsx(us,{className:"h-4 w-4"}),"رفع ترانسكريبت جديد"]})}),i.jsxs(oc,{className:"max-w-2xl max-h-[80vh] overflow-y-auto",children:[i.jsx(lc,{children:i.jsx(cc,{className:"text-right",children:"رفع ترانسكريبت جديد"})}),i.jsxs("form",{onSubmit:k,className:"space-y-4",children:[i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium text-right block mb-2",children:"عنوان الترانسكريبت *"}),i.jsx(wn,{value:j.title,onChange:U=>N(L=>({...L,title:U.target.value})),placeholder:"أدخل عنوان الترانسكريبت",required:!0,className:"text-right"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium text-right block mb-2",children:"عنوان الفيديو الأصلي"}),i.jsx(wn,{value:j.video_title,onChange:U=>N(L=>({...L,video_title:U.target.value})),placeholder:"عنوان الفيديو",className:"text-right"})]})]}),i.jsxs("div",{className:`border-2 border-dashed rounded-lg p-6 text-center ${x?"border-blue-500 bg-blue-50":"border-gray-300"}`,onDragEnter:T,onDragLeave:T,onDragOver:T,onDrop:O,children:[i.jsx(sc,{className:"mx-auto h-12 w-12 text-gray-400 mb-4"}),i.jsx("p",{className:"text-gray-600",children:"اسحب وأفلت ملف النص هنا أو انقر لتحديد ملف"}),i.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"ملفات .txt مدعومة"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium text-right block mb-2",children:"نص الترانسكريبت *"}),i.jsx(Zi,{value:j.transcript,onChange:U=>N(L=>({...L,transcript:U.target.value})),placeholder:"الصق أو اكتب نص الترانسكريبت هنا...",rows:8,required:!0,className:"text-right"})]}),i.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium text-right block mb-2",children:"تاريخ التسجيل"}),i.jsx(wn,{type:"date",value:j.date_recorded,onChange:U=>N(L=>({...L,date_recorded:U.target.value})),className:"text-right"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium text-right block mb-2",children:"المكان"}),i.jsx(wn,{value:j.location,onChange:U=>N(L=>({...L,location:U.target.value})),placeholder:"مكان التسجيل",className:"text-right"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium text-right block mb-2",children:"المحاور"}),i.jsx(wn,{value:j.interviewer,onChange:U=>N(L=>({...L,interviewer:U.target.value})),placeholder:"اسم المحاور",className:"text-right"})]})]}),i.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium text-right block mb-2",children:"المدة (دقائق)"}),i.jsx(wn,{type:"number",value:j.duration_minutes,onChange:U=>N(L=>({...L,duration_minutes:U.target.value})),placeholder:"60",className:"text-right"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium text-right block mb-2",children:"جودة التسجيل"}),i.jsxs(vi,{value:j.quality,onValueChange:U=>N(L=>({...L,quality:U})),children:[i.jsx(li,{className:"text-right",children:i.jsx(yi,{})}),i.jsxs(ci,{children:[i.jsx(Bt,{value:"عالية",children:"عالية"}),i.jsx(Bt,{value:"متوسطة",children:"متوسطة"}),i.jsx(Bt,{value:"منخفضة",children:"منخفضة"})]})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium text-right block mb-2",children:"اللغة"}),i.jsxs(vi,{value:j.language,onValueChange:U=>N(L=>({...L,language:U})),children:[i.jsx(li,{className:"text-right",children:i.jsx(yi,{})}),i.jsxs(ci,{children:[i.jsx(Bt,{value:"عربي",children:"عربي"}),i.jsx(Bt,{value:"إنجليزي",children:"إنجليزي"}),i.jsx(Bt,{value:"مختلط",children:"مختلط"})]})]})]})]}),i.jsxs("div",{className:"flex justify-end gap-2",children:[i.jsx(xe,{type:"button",variant:"outline",onClick:()=>p(!1),children:"إلغاء"}),i.jsx(xe,{type:"submit",disabled:s,children:s?"جاري الرفع...":"رفع الترانسكريبت"})]})]})]})]})]}),i.jsxs("div",{className:"flex gap-4 items-center",children:[i.jsxs("div",{className:"flex-1 relative",children:[i.jsx(kl,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),i.jsx(wn,{placeholder:"البحث في المصادر...",value:o,onChange:U=>l(U.target.value),className:"pl-10 text-right"})]}),i.jsxs(vi,{value:c,onValueChange:u,children:[i.jsx(li,{className:"w-48 text-right",children:i.jsx(yi,{})}),i.jsxs(ci,{children:[i.jsx(Bt,{value:"all",children:"جميع الحالات"}),i.jsx(Bt,{value:"pending",children:"في الانتظار"}),i.jsx(Bt,{value:"processing",children:"جاري التحليل"}),i.jsx(Bt,{value:"completed",children:"مكتمل"}),i.jsx(Bt,{value:"failed",children:"فشل"})]})]}),i.jsx(xe,{variant:"outline",size:"icon",children:i.jsx(gS,{className:"h-4 w-4"})})]}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:s&&t.length===0?i.jsxs("div",{className:"col-span-full text-center py-12",children:[i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500 mx-auto mb-4"}),i.jsx("p",{className:"text-muted-foreground",children:"جاري تحميل المصادر..."})]}):n.length===0?i.jsxs("div",{className:"col-span-full text-center py-12",children:[i.jsx(xn,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),i.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"لا توجد مصادر"}),i.jsx("p",{className:"text-muted-foreground mb-4",children:o||c!=="all"?"لا توجد مصادر تطابق المعايير المحددة":"ابدأ برفع أول ترانسكريبت"}),!o&&c==="all"&&i.jsx(xe,{onClick:()=>p(!0),children:"رفع ترانسكريبت جديد"})]}):n.map(U=>i.jsxs(ae,{className:"hover:shadow-lg transition-shadow",children:[i.jsxs(Te,{children:[i.jsxs("div",{className:"flex justify-between items-start",children:[i.jsx(ke,{className:"text-lg text-right line-clamp-2",children:U.title}),S(U.analysis_status)]}),i.jsxs(Pt,{className:"text-right",children:[U.source_info.location&&i.jsxs("span",{className:"flex items-center gap-1 justify-end mb-1",children:["📍 ",U.source_info.location]}),U.source_info.date_recorded&&i.jsxs("span",{className:"flex items-center gap-1 justify-end",children:[i.jsx(xr,{className:"h-3 w-3"}),new Date(U.source_info.date_recorded).toLocaleDateString("ar-SA")]})]})]}),i.jsxs(oe,{className:"space-y-4",children:[i.jsx("div",{className:"text-sm text-muted-foreground text-right",children:i.jsxs("p",{className:"line-clamp-3",children:[U.transcript.substring(0,150),"..."]})}),i.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"font-medium",children:U.total_extractions}),i.jsx("div",{className:"text-muted-foreground",children:"تحليل"})]}),i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"font-medium",children:U.credibility_score?`${Math.round(U.credibility_score*100)}%`:"-"}),i.jsx("div",{className:"text-muted-foreground",children:"مصداقية"})]})]}),U.credibility_score&&i.jsxs("div",{children:[i.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[i.jsx("span",{children:"المصداقية"}),i.jsx("span",{children:q(U.credibility_score)})]}),i.jsx(tt,{value:U.credibility_score*100,className:"h-2"})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsxs(xe,{variant:"outline",size:"sm",onClick:()=>I(U),className:"flex-1",children:[i.jsx(Vn,{className:"h-4 w-4 mr-1"}),"عرض"]}),U.analysis_status==="pending"||U.analysis_status==="failed"?i.jsxs(xe,{size:"sm",onClick:()=>M(U),disabled:s,className:"flex-1",children:[i.jsx(Wn,{className:"h-4 w-4 mr-1"}),"تحليل"]}):i.jsxs(xe,{variant:"outline",size:"sm",onClick:()=>{},className:"flex-1",children:[i.jsx(Ey,{className:"h-4 w-4 mr-1"}),"استدعاء"]}),i.jsx(xe,{variant:"outline",size:"sm",onClick:()=>F(U.witness_id,U.title),children:i.jsx(vS,{className:"h-4 w-4"})})]})]})]},U.witness_id))}),i.jsx(Xc,{open:m,onOpenChange:g,children:i.jsxs(oc,{className:"max-w-4xl max-h-[80vh] overflow-y-auto",children:[i.jsx(lc,{children:i.jsx(cc,{className:"text-right",children:d==null?void 0:d.title})}),d&&i.jsxs(zn,{defaultValue:"info",className:"w-full",children:[i.jsxs(On,{className:"grid w-full grid-cols-4",children:[i.jsx(nt,{value:"info",children:"معلومات"}),i.jsx(nt,{value:"transcript",children:"النص"}),i.jsx(nt,{value:"analysis",children:"التحليل"}),i.jsx(nt,{value:"usage",children:"الاستخدام"})]}),i.jsx(rt,{value:"info",className:"space-y-4",children:i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium",children:"عنوان الفيديو"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:d.source_info.video_title||"غير محدد"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium",children:"تاريخ التسجيل"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:d.source_info.date_recorded?new Date(d.source_info.date_recorded).toLocaleDateString("ar-SA"):"غير محدد"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium",children:"المكان"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:d.source_info.location||"غير محدد"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium",children:"المحاور"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:d.source_info.interviewer||"غير محدد"})]})]})}),i.jsx(rt,{value:"transcript",className:"space-y-4",children:i.jsx("div",{className:"max-h-96 overflow-y-auto p-4 bg-gray-50 rounded-lg",children:i.jsx("p",{className:"text-sm whitespace-pre-wrap text-right leading-relaxed",children:d.transcript})})}),i.jsx(rt,{value:"analysis",className:"space-y-4",children:f.length>0?i.jsx("div",{className:"space-y-6",children:f.map((U,L)=>i.jsxs(ae,{children:[i.jsxs(Te,{children:[i.jsxs(ke,{className:"text-lg",children:["تحليل #",L+1]}),i.jsx(Pt,{children:new Date(U.extraction_timestamp).toLocaleString("ar-SA")})]}),i.jsxs(oe,{children:[i.jsxs("div",{className:"grid grid-cols-3 gap-4 text-sm",children:[i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"font-medium text-lg",children:U.events.length}),i.jsx("div",{className:"text-muted-foreground",children:"أحداث"})]}),i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"font-medium text-lg",children:U.characters.length}),i.jsx("div",{className:"text-muted-foreground",children:"شخصيات"})]}),i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"font-medium text-lg",children:U.dialogues.length}),i.jsx("div",{className:"text-muted-foreground",children:"حوارات"})]})]}),U.credibility_assessment&&i.jsxs("div",{className:"mt-4",children:[i.jsx("div",{className:"text-sm font-medium mb-2",children:"تقييم المصداقية"}),i.jsx(tt,{value:(U.credibility_assessment.overall_credibility||0)*100,className:"h-2"}),i.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:q(U.credibility_assessment.overall_credibility)})]})]})]},U.extraction_id))}):i.jsxs("div",{className:"text-center py-8",children:[i.jsx(Wn,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),i.jsx("p",{className:"text-muted-foreground",children:"لم يتم تحليل هذا المصدر بعد"}),i.jsx(xe,{className:"mt-4",onClick:()=>M(d),disabled:s,children:"بدء التحليل الآن"})]})}),i.jsx(rt,{value:"usage",className:"space-y-4",children:i.jsxs("div",{className:"text-center py-8",children:[i.jsx(tr,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),i.jsx("p",{className:"text-muted-foreground",children:"إحصائيات الاستخدام قيد التطوير"})]})})]})]})})]})};var u6="Checkbox",[Pct,Lmt]=qa(u6),[Uct,Uq]=Pct(u6);function Ict(t){const{__scopeCheckbox:e,checked:n,children:r,defaultChecked:s,disabled:a,form:o,name:l,onCheckedChange:c,required:u,value:d="on",internal_do_not_use_render:h}=t,[f,A]=Xu({prop:n,defaultProp:s??!1,onChange:c,caller:u6}),[v,p]=E.useState(null),[m,g]=E.useState(null),x=E.useRef(!1),b=v?!!o||!!v.closest("form"):!0,j={checked:f,disabled:a,setChecked:A,control:v,setControl:p,name:l,form:o,value:d,hasConsumerStoppedPropagationRef:x,required:u,defaultChecked:Kg(s)?!1:s,isFormControl:b,bubbleInput:m,setBubbleInput:g};return i.jsx(Uct,{scope:e,...j,children:Oct(h)?h(j):r})}var Pwe="CheckboxTrigger",Uwe=E.forwardRef(({__scopeCheckbox:t,onKeyDown:e,onClick:n,...r},s)=>{const{control:a,value:o,disabled:l,checked:c,required:u,setControl:d,setChecked:h,hasConsumerStoppedPropagationRef:f,isFormControl:A,bubbleInput:v}=Uq(Pwe,t),p=Tn(s,d),m=E.useRef(c);return E.useEffect(()=>{const g=a==null?void 0:a.form;if(g){const x=()=>h(m.current);return g.addEventListener("reset",x),()=>g.removeEventListener("reset",x)}},[a,h]),i.jsx(Jt.button,{type:"button",role:"checkbox","aria-checked":Kg(c)?"mixed":c,"aria-required":u,"data-state":Rwe(c),"data-disabled":l?"":void 0,disabled:l,value:o,...r,ref:p,onKeyDown:Ht(e,g=>{g.key==="Enter"&&g.preventDefault()}),onClick:Ht(n,g=>{h(x=>Kg(x)?!0:!x),v&&A&&(f.current=g.isPropagationStopped(),f.current||g.stopPropagation())})})});Uwe.displayName=Pwe;var Iq=E.forwardRef((t,e)=>{const{__scopeCheckbox:n,name:r,checked:s,defaultChecked:a,required:o,disabled:l,value:c,onCheckedChange:u,form:d,...h}=t;return i.jsx(Ict,{__scopeCheckbox:n,checked:s,defaultChecked:a,disabled:l,required:o,onCheckedChange:u,name:r,form:d,value:c,internal_do_not_use_render:({isFormControl:f})=>i.jsxs(i.Fragment,{children:[i.jsx(Uwe,{...h,ref:e,__scopeCheckbox:n}),f&&i.jsx(Lwe,{__scopeCheckbox:n})]})})});Iq.displayName=u6;var Iwe="CheckboxIndicator",Owe=E.forwardRef((t,e)=>{const{__scopeCheckbox:n,forceMount:r,...s}=t,a=Uq(Iwe,n);return i.jsx(Jo,{present:r||Kg(a.checked)||a.checked===!0,children:i.jsx(Jt.span,{"data-state":Rwe(a.checked),"data-disabled":a.disabled?"":void 0,...s,ref:e,style:{pointerEvents:"none",...t.style}})})});Owe.displayName=Iwe;var Mwe="CheckboxBubbleInput",Lwe=E.forwardRef(({__scopeCheckbox:t,...e},n)=>{const{control:r,hasConsumerStoppedPropagationRef:s,checked:a,defaultChecked:o,required:l,disabled:c,name:u,value:d,form:h,bubbleInput:f,setBubbleInput:A}=Uq(Mwe,t),v=Tn(n,A),p=PS(a),m=FS(r);E.useEffect(()=>{const x=f;if(!x)return;const b=window.HTMLInputElement.prototype,N=Object.getOwnPropertyDescriptor(b,"checked").set,_=!s.current;if(p!==a&&N){const C=new Event("click",{bubbles:_});x.indeterminate=Kg(a),N.call(x,Kg(a)?!1:a),x.dispatchEvent(C)}},[f,p,a,s]);const g=E.useRef(Kg(a)?!1:a);return i.jsx(Jt.input,{type:"checkbox","aria-hidden":!0,defaultChecked:o??g.current,required:l,disabled:c,name:u,value:d,form:h,...e,tabIndex:-1,ref:v,style:{...e.style,...m,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});Lwe.displayName=Mwe;function Oct(t){return typeof t=="function"}function Kg(t){return t==="indeterminate"}function Rwe(t){return Kg(t)?"indeterminate":t?"checked":"unchecked"}const ST=E.forwardRef(({className:t,...e},n)=>i.jsx(Iq,{ref:n,className:Vt("peer h-4 w-4 shrink-0 rounded-sm border border-zinc-200 border-zinc-900 shadow focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-zinc-950 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-zinc-900 data-[state=checked]:text-zinc-50 dark:border-zinc-800 dark:border-zinc-50 dark:focus-visible:ring-zinc-300 dark:data-[state=checked]:bg-zinc-50 dark:data-[state=checked]:text-zinc-900",t),...e,children:i.jsx(Owe,{className:Vt("flex items-center justify-center text-current"),children:i.jsx(O2,{className:"h-4 w-4"})})}));ST.displayName=Iq.displayName;const Mct=({isOpen:t,onClose:e,onInsertContent:n,currentProject:r,selectedText:s})=>{const[a,o]=E.useState([]),[l,c]=E.useState([]),[u,d]=E.useState([]),[h,f]=E.useState([]),[A,v]=E.useState(!1),[p,m]=E.useState(""),[g,x]=E.useState("all"),[b,j]=E.useState("all"),[N,_]=E.useState("relevance"),[C,k]=E.useState("sources"),{toast:T}=ki(),O=E.useCallback(async()=>{try{v(!0);const Y=await fetch("/api/witness/sources",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!Y.ok)throw new Error("فشل في تحميل المصادر");const ie=((await Y.json()).sources||[]).filter(se=>se.analysis_status==="completed");o(ie)}catch{T({title:"خطأ",description:"فشل في تحميل مصادر الشاهد",variant:"destructive"})}finally{v(!1)}},[T]),I=E.useCallback(async()=>{if(l.length!==0)try{v(!0);const Y=[];for(const ee of l){const ie=await fetch(`/api/witness/sources/${ee}/extraction`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});ie.ok&&((await ie.json()).extraction_results||[]).forEach(he=>{const Be=he.extraction_data||{};(Be.events||[]).forEach(Me=>{Y.push({id:`${ee}_event_${Me.id}`,type:"event",content:Me.description||"",credibility_level:Me.credibility||"medium",timestamp_reference:Me.timestamp,metadata:{...Me,witnessId:ee,extractionId:he.extraction_id}})}),(Be.characters||[]).forEach(Me=>{Y.push({id:`${ee}_character_${Me.id}`,type:"character",content:Me.name||"",credibility_level:Me.credibility||"medium",metadata:{...Me,witnessId:ee,extractionId:he.extraction_id}})}),(Be.dialogues||[]).forEach(Me=>{Y.push({id:`${ee}_dialogue_${Me.id}`,type:"dialogue",content:Me.content||"",credibility_level:Me.credibility||"medium",literary_value:Me.literary_value||.5,timestamp_reference:Me.timestamp,metadata:{...Me,witnessId:ee,extractionId:he.extraction_id}})})})}d(Y)}catch{T({title:"خطأ",description:"فشل في تحميل العناصر المستخرجة",variant:"destructive"})}finally{v(!1)}},[l,T]);E.useEffect(()=>{t&&(O(),k("sources"),c([]),f([]),d([]))},[t,O]),E.useEffect(()=>{l.length>0&&I()},[l,I]);const M=[...u.filter(Y=>!(p&&!Y.content.toLowerCase().includes(p.toLowerCase())||g!=="all"&&Y.type!==g||b!=="all"&&(b==="high"&&!["very_high","high"].includes(Y.credibility_level)||b==="medium"&&Y.credibility_level!=="medium"||b==="low"&&!["low","questionable"].includes(Y.credibility_level))))].sort((Y,ee)=>{switch(N){case"literary_value":return(ee.literary_value||0)-(Y.literary_value||0);case"credibility":const ie={very_high:5,high:4,medium:3,low:2,questionable:1};return(ie[ee.credibility_level]||0)-(ie[Y.credibility_level]||0);case"timestamp":return(Y.timestamp_reference||"").localeCompare(ee.timestamp_reference||"");default:if(s){const se=s.toLowerCase().includes(Y.content.toLowerCase())?1:0;return(s.toLowerCase().includes(ee.content.toLowerCase())?1:0)-se}return 0}}),S=Y=>{c(ee=>ee.includes(Y)?ee.filter(ie=>ie!==Y):[...ee,Y])},q=Y=>{f(ee=>ee.includes(Y)?ee.filter(ie=>ie!==Y):[...ee,Y])},U=()=>{C==="sources"&&l.length>0?k("elements"):C==="elements"&&h.length>0&&k("compose")},L=()=>{const Y=M.filter(Be=>h.includes(Be.id));if(Y.length===0)return"";let ee="";const ie=Y.filter(Be=>Be.type==="event"),se=Y.filter(Be=>Be.type==="character"),Ae=Y.filter(Be=>Be.type==="dialogue");ie.length>0&&(ee+=`## الأحداث المستخرجة من شهادة الشاهد:

`,ie.forEach((Be,Me)=>{ee+=`${Me+1}. ${Be.content}`,Be.timestamp_reference&&(ee+=` (${Be.timestamp_reference})`),ee+=`
`}),ee+=`
`),se.length>0&&(ee+=`## الشخصيات المذكورة:

`,se.forEach((Be,Me)=>{ee+=`${Me+1}. **${Be.content}**`;const Ie=Be.metadata;Ie.role&&(ee+=` - ${Ie.role}`),Ie.characteristics&&Ie.characteristics.length>0&&(ee+=`
   الخصائص: ${Ie.characteristics.join(", ")}`),ee+=`
`}),ee+=`
`),Ae.length>0&&(ee+=`## الحوارات والأقوال:

`,Ae.forEach((Be,Me)=>{const Ie=Be.metadata;Ie.speaker&&(ee+=`**${Ie.speaker}**: `),ee+=`"${Be.content}"`,Be.timestamp_reference&&(ee+=` (${Be.timestamp_reference})`),ee+=`

`}));const he=a.filter(Be=>l.includes(Be.witness_id)).map(Be=>Be.title);return he.length>0&&(ee+=`
---
`,ee+=`*المصدر: ${he.join(", ")}*
`),ee},z=Y=>{const ee=L();ee&&(n(ee,Y),T({title:"تم الإدراج",description:`تم إدراج ${h.length} عنصر من الشاهد بنجاح`}),e())},$=()=>{const Y=L();Y&&(navigator.clipboard.writeText(Y),T({title:"تم النسخ",description:"تم نسخ النص إلى الحافظة"}))},K=Y=>{const ee={very_high:"bg-green-100 text-green-800",high:"bg-blue-100 text-blue-800",medium:"bg-yellow-100 text-yellow-800",low:"bg-orange-100 text-orange-800",questionable:"bg-red-100 text-red-800"};return ee[Y]||ee.medium},V=Y=>({very_high:"عالية جداً",high:"عالية",medium:"متوسطة",low:"منخفضة",questionable:"مشكوك فيها"})[Y]||"متوسطة",H=Y=>{switch(Y){case"event":return i.jsx(wp,{className:"h-4 w-4"});case"character":return i.jsx(Wn,{className:"h-4 w-4"});case"dialogue":return i.jsx($u,{className:"h-4 w-4"});default:return i.jsx(xn,{className:"h-4 w-4"})}},W=Y=>({event:"حدث",character:"شخصية",dialogue:"حوار"})[Y]||Y;return i.jsx(Xc,{open:t,onOpenChange:e,children:i.jsxs(oc,{className:"max-w-5xl max-h-[90vh] overflow-hidden flex flex-col",children:[i.jsxs(lc,{children:[i.jsxs(cc,{className:"text-right flex items-center gap-2",children:[i.jsx(Wn,{className:"h-5 w-5"}),"استدعاء الشاهد"]}),i.jsx("div",{className:"text-sm text-muted-foreground text-right",children:"اختر مصادر الشاهد واستخرج المحتوى المناسب لكتابتك"})]}),i.jsxs("div",{className:"flex items-center justify-center gap-4 py-4",children:[i.jsxs("div",{className:`flex items-center gap-2 ${C==="sources"?"text-blue-600":"text-gray-400"}`,children:[i.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center ${C==="sources"?"bg-blue-100 border-2 border-blue-600":"bg-gray-100"}`,children:"1"}),i.jsx("span",{className:"text-sm",children:"اختيار المصادر"})]}),i.jsx(ea,{className:"h-4 w-4 text-gray-400"}),i.jsxs("div",{className:`flex items-center gap-2 ${C==="elements"?"text-blue-600":"text-gray-400"}`,children:[i.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center ${C==="elements"?"bg-blue-100 border-2 border-blue-600":"bg-gray-100"}`,children:"2"}),i.jsx("span",{className:"text-sm",children:"اختيار العناصر"})]}),i.jsx(ea,{className:"h-4 w-4 text-gray-400"}),i.jsxs("div",{className:`flex items-center gap-2 ${C==="compose"?"text-blue-600":"text-gray-400"}`,children:[i.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center ${C==="compose"?"bg-blue-100 border-2 border-blue-600":"bg-gray-100"}`,children:"3"}),i.jsx("span",{className:"text-sm",children:"تكوين النص"})]})]}),i.jsxs("div",{className:"flex-1 overflow-hidden",children:[C==="sources"&&i.jsxs("div",{className:"h-full flex flex-col",children:[i.jsxs("div",{className:"mb-4",children:[i.jsx("h3",{className:"text-lg font-medium mb-2 text-right",children:"اختر مصادر الشاهد"}),i.jsxs("div",{className:"relative",children:[i.jsx(kl,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),i.jsx(wn,{placeholder:"البحث في المصادر...",value:p,onChange:Y=>m(Y.target.value),className:"pl-10 text-right"})]})]}),i.jsx("div",{className:"flex-1 overflow-y-auto space-y-3",children:A?i.jsxs("div",{className:"text-center py-8",children:[i.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500 mx-auto mb-2"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"جاري تحميل المصادر..."})]}):a.length===0?i.jsxs("div",{className:"text-center py-8",children:[i.jsx(xn,{className:"h-12 w-12 text-gray-400 mx-auto mb-2"}),i.jsx("p",{className:"text-muted-foreground",children:"لا توجد مصادر شاهد مُحللة"})]}):a.filter(Y=>!p||Y.title.toLowerCase().includes(p.toLowerCase())||Y.transcript.toLowerCase().includes(p.toLowerCase())).map(Y=>i.jsxs(ae,{className:`cursor-pointer transition-all ${l.includes(Y.witness_id)?"ring-2 ring-blue-500 bg-blue-50":"hover:shadow-md"}`,onClick:()=>S(Y.witness_id),children:[i.jsx(Te,{className:"pb-2",children:i.jsxs("div",{className:"flex items-start justify-between",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(ST,{checked:l.includes(Y.witness_id),onChange:()=>{}}),i.jsxs("div",{children:[i.jsx(ke,{className:"text-base",children:Y.title}),i.jsxs(Pt,{className:"flex items-center gap-4 mt-1",children:[Y.source_info.location&&i.jsxs("span",{className:"flex items-center gap-1",children:[i.jsx(ik,{className:"h-3 w-3"}),Y.source_info.location]}),Y.credibility_score&&i.jsxs("span",{className:"flex items-center gap-1",children:[i.jsx(tr,{className:"h-3 w-3"}),Math.round(Y.credibility_score*100),"%"]})]})]})]}),i.jsxs(He,{variant:"secondary",children:[Y.total_extractions," تحليل"]})]})}),i.jsx(oe,{className:"pt-0",children:i.jsxs("p",{className:"text-sm text-muted-foreground line-clamp-2",children:[Y.transcript.substring(0,150),"..."]})})]},Y.witness_id))}),i.jsxs("div",{className:"flex justify-between items-center mt-4 pt-4 border-t",children:[i.jsxs("div",{className:"text-sm text-muted-foreground",children:["تم اختيار ",l.length," من ",a.length," مصدر"]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx(xe,{variant:"outline",onClick:e,children:"إلغاء"}),i.jsx(xe,{onClick:U,disabled:l.length===0,children:"التالي"})]})]})]}),C==="elements"&&i.jsxs("div",{className:"h-full flex flex-col",children:[i.jsxs("div",{className:"mb-4",children:[i.jsx("h3",{className:"text-lg font-medium mb-2 text-right",children:"اختر العناصر للإدراج"}),i.jsxs("div",{className:"grid grid-cols-4 gap-2 mb-4",children:[i.jsxs("div",{className:"relative",children:[i.jsx(kl,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),i.jsx(wn,{placeholder:"البحث...",value:p,onChange:Y=>m(Y.target.value),className:"pl-10 text-right"})]}),i.jsxs(vi,{value:g,onValueChange:x,children:[i.jsx(li,{children:i.jsx(yi,{placeholder:"النوع"})}),i.jsxs(ci,{children:[i.jsx(Bt,{value:"all",children:"جميع الأنواع"}),i.jsx(Bt,{value:"event",children:"أحداث"}),i.jsx(Bt,{value:"character",children:"شخصيات"}),i.jsx(Bt,{value:"dialogue",children:"حوارات"})]})]}),i.jsxs(vi,{value:b,onValueChange:j,children:[i.jsx(li,{children:i.jsx(yi,{placeholder:"المصداقية"})}),i.jsxs(ci,{children:[i.jsx(Bt,{value:"all",children:"جميع المستويات"}),i.jsx(Bt,{value:"high",children:"عالية"}),i.jsx(Bt,{value:"medium",children:"متوسطة"}),i.jsx(Bt,{value:"low",children:"منخفضة"})]})]}),i.jsxs(vi,{value:N,onValueChange:_,children:[i.jsx(li,{children:i.jsx(yi,{placeholder:"الترتيب"})}),i.jsxs(ci,{children:[i.jsx(Bt,{value:"relevance",children:"الصلة"}),i.jsx(Bt,{value:"literary_value",children:"القيمة الأدبية"}),i.jsx(Bt,{value:"credibility",children:"المصداقية"}),i.jsx(Bt,{value:"timestamp",children:"الوقت"})]})]})]})]}),i.jsx("div",{className:"flex-1 overflow-y-auto space-y-2",children:A?i.jsxs("div",{className:"text-center py-8",children:[i.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500 mx-auto mb-2"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"جاري تحميل العناصر..."})]}):M.length===0?i.jsxs("div",{className:"text-center py-8",children:[i.jsx($u,{className:"h-12 w-12 text-gray-400 mx-auto mb-2"}),i.jsx("p",{className:"text-muted-foreground",children:"لا توجد عناصر تطابق المعايير"})]}):M.map(Y=>i.jsx(ae,{className:`cursor-pointer transition-all ${h.includes(Y.id)?"ring-2 ring-blue-500 bg-blue-50":"hover:shadow-sm"}`,onClick:()=>q(Y.id),children:i.jsx(oe,{className:"p-3",children:i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx(ST,{checked:h.includes(Y.id),onChange:()=>{}}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[H(Y.type),i.jsx("span",{className:"text-xs font-medium text-muted-foreground",children:W(Y.type)}),i.jsx(He,{className:K(Y.credibility_level),children:V(Y.credibility_level)}),Y.literary_value&&Y.literary_value>.7&&i.jsx(He,{className:"bg-purple-100 text-purple-800",children:"قيمة أدبية عالية"})]}),i.jsxs("p",{className:"text-sm line-clamp-2 text-right",children:[Y.type==="character"&&Y.metadata.role&&i.jsxs("span",{className:"font-medium",children:[Y.metadata.role,": "]}),Y.type==="dialogue"&&Y.metadata.speaker&&i.jsxs("span",{className:"font-medium",children:['"',Y.metadata.speaker,'": ']}),Y.content]}),Y.timestamp_reference&&i.jsxs("div",{className:"flex items-center gap-1 mt-1",children:[i.jsx(xr,{className:"h-3 w-3 text-muted-foreground"}),i.jsx("span",{className:"text-xs text-muted-foreground",children:Y.timestamp_reference})]})]}),Y.literary_value&&i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"text-xs text-muted-foreground",children:"قيمة أدبية"}),i.jsxs("div",{className:"text-sm font-medium",children:[Math.round(Y.literary_value*100),"%"]})]})]})})},Y.id))}),i.jsxs("div",{className:"flex justify-between items-center mt-4 pt-4 border-t",children:[i.jsxs("div",{className:"text-sm text-muted-foreground",children:["تم اختيار ",h.length," من ",M.length," عنصر"]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx(xe,{variant:"outline",onClick:()=>k("sources"),children:"السابق"}),i.jsx(xe,{onClick:U,disabled:h.length===0,children:"التالي"})]})]})]}),C==="compose"&&i.jsxs("div",{className:"h-full flex flex-col",children:[i.jsx("div",{className:"mb-4",children:i.jsx("h3",{className:"text-lg font-medium mb-2 text-right",children:"معاينة النص المُكون"})}),i.jsx("div",{className:"flex-1 overflow-y-auto border rounded-lg p-4 bg-gray-50",children:i.jsx("pre",{className:"text-sm whitespace-pre-wrap text-right font-sans leading-relaxed",children:L()||"لم يتم اختيار أي عناصر"})}),i.jsxs("div",{className:"mt-4 pt-4 border-t",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsxs("div",{className:"text-sm text-muted-foreground",children:[h.length," عنصر جاهز للإدراج"]}),i.jsx("div",{className:"flex gap-2",children:i.jsxs(xe,{variant:"outline",onClick:$,children:[i.jsx(dce,{className:"h-4 w-4 mr-1"}),"نسخ"]})})]}),i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx(xe,{variant:"outline",onClick:()=>k("elements"),children:"السابق"}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx(xe,{variant:"outline",onClick:()=>z("prepend"),disabled:h.length===0,children:"إدراج في البداية"}),i.jsx(xe,{onClick:()=>z("append"),disabled:h.length===0,children:"إدراج في النهاية"}),s&&i.jsx(xe,{variant:"secondary",onClick:()=>z("replace"),disabled:h.length===0,children:"استبدال النص المحدد"})]})]})]})]})]})]})})};function Lct(){const[t,e]=E.useState(""),[n,r]=E.useState(""),[s,a]=E.useState(null),[o,l]=E.useState(!1),[c,u]=E.useState("editor"),[d,h]=E.useState(2e3),[f,A]=E.useState([]),[v,p]=E.useState(!1),[m,g]=E.useState([]),[x,b]=E.useState(!1),[j,N]=E.useState(!1),[_,C]=E.useState("manager"),k=E.useRef(null),T=E.useCallback(async z=>{if(!z.trim()){a(null);return}try{const $=await fetch("/api/advanced-editor/analyze",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({text:z})});if($.ok){const K=await $.json();a(K)}}catch($){console.error("Error analyzing text:",$)}},[]);E.useEffect(()=>{const z=setTimeout(()=>{T(t)},1e3);return()=>clearTimeout(z)},[t,T]),E.useEffect(()=>{const z=$=>{$.ctrlKey&&$.shiftKey&&$.key==="W"&&($.preventDefault(),S())};return document.addEventListener("keydown",z),()=>document.removeEventListener("keydown",z)},[]);const O=()=>{if(k.current){const z=k.current.selectionStart,$=k.current.selectionEnd,K=t.substring(z,$);r(K),K.length>5&&I(K)}},I=async z=>{try{const $=await fetch("/api/advanced-editor/suggestions",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({text:z,context:t,fullContext:!0})});if($.ok){const K=await $.json();g(K.suggestions||[]),p(!0)}}catch($){console.error("Error generating suggestions:",$)}},F=async z=>{if(t.trim()){b(!0);try{const $=await fetch("/api/advanced-editor/modify-length",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({text:t,type:z,targetLength:d,preserveStyle:!0})});if($.ok){const K=await $.json();e(K.modifiedText)}}catch($){console.error("Error modifying text length:",$)}finally{b(!1)}}},M=(z,$)=>{if(!z)return;const K=k.current;if(!K)return;const V=K.selectionStart,H=K.selectionEnd,W=t;let Y="",ee=V;switch($){case"replace":n&&V!==H?(Y=W.substring(0,V)+z+W.substring(H),ee=V+z.length):(Y=W.substring(0,V)+z+W.substring(V),ee=V+z.length);break;case"append":Y=W+`

`+z,ee=Y.length;break;case"prepend":Y=z+`

`+W,ee=z.length+2;break}e(Y),setTimeout(()=>{K&&(K.focus(),K.setSelectionRange(ee,ee))},0),N(!1)},S=()=>{const z=k.current;if(z){const $=z.selectionStart,K=z.selectionEnd;r($!==K?z.value.substring($,K):"")}N(!0)},q=async z=>{try{await fetch("/api/advanced-editor/rate",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({text:n||t,rating:z,context:"editing_session"})})}catch($){console.error("Error saving rating:",$)}},U=t.split(/\s+/).filter(z=>z.length>0).length,L=Math.min(U/d*100,100);return i.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 via-blue-50 to-cyan-50 p-6",dir:"rtl",children:[i.jsxs("div",{className:"max-w-7xl mx-auto",children:[i.jsxs("div",{className:"text-center mb-8",children:[i.jsx("h1",{className:"text-4xl font-bold bg-gradient-to-r from-purple-600 to-blue-600 bg-clip-text text-transparent mb-4",children:"المحرر التفاعلي الذكي الفائق"}),i.jsx("p",{className:"text-gray-600 text-lg",children:"محرر متطور بتقنيات الذكاء الاصطناعي لتحسين وتطوير النصوص العربية"})]}),i.jsxs(zn,{value:c,onValueChange:u,className:"space-y-6",children:[i.jsxs(On,{className:"grid w-full grid-cols-5 bg-white/50 backdrop-blur-sm",children:[i.jsxs(nt,{value:"editor",className:"flex items-center gap-2",children:[i.jsx(xn,{className:"w-4 h-4"}),"المحرر الرئيسي"]}),i.jsxs(nt,{value:"analysis",className:"flex items-center gap-2",children:[i.jsx(hs,{className:"w-4 h-4"}),"التحليل المتقدم"]}),i.jsxs(nt,{value:"witness",className:"flex items-center gap-2",children:[i.jsx(oR,{className:"w-4 h-4"}),"الشاهد"]}),i.jsxs(nt,{value:"tools",className:"flex items-center gap-2",children:[i.jsx(Ha,{className:"w-4 h-4"}),"أدوات التحسين"]}),i.jsxs(nt,{value:"settings",className:"flex items-center gap-2",children:[i.jsx(Qr,{className:"w-4 h-4"}),"الإعدادات"]})]}),i.jsx(rt,{value:"editor",className:"space-y-6",children:i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[i.jsx("div",{className:"lg:col-span-3",children:i.jsxs(ae,{className:"h-full",children:[i.jsxs(Te,{className:"pb-4",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsxs(ke,{className:"flex items-center gap-2",children:[i.jsx(xn,{className:"w-5 h-5"}),"محرر النص التفاعلي"]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsxs(He,{variant:"outline",children:[U," كلمة"]}),i.jsxs(He,{variant:U>=d?"default":"secondary",children:["الهدف: ",d]})]})]}),i.jsx(tt,{value:L,className:"h-2"})]}),i.jsxs(oe,{children:[i.jsxs("div",{className:"flex items-center justify-between mb-4 pb-2 border-b",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsxs(xe,{size:"sm",variant:"outline",onClick:S,className:"flex items-center gap-1",children:[i.jsx(Wn,{className:"h-4 w-4"}),"استدعاء الشاهد"]}),i.jsxs(xe,{size:"sm",variant:"outline",children:[i.jsx(Ha,{className:"h-4 w-4"}),"تحسين"]}),i.jsxs(xe,{size:"sm",variant:"outline",children:[i.jsx(Ko,{className:"h-4 w-4"}),"حفظ"]})]}),i.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[n&&i.jsxs(He,{variant:"outline",className:"text-xs",children:["محدد: ",n.length," حرف"]}),i.jsx("span",{children:"اضغط Ctrl+Shift+W لاستدعاء الشاهد"})]})]}),i.jsxs("div",{className:"relative",children:[i.jsx(Zi,{ref:k,value:t,onChange:z=>e(z.target.value),onSelect:O,placeholder:"ابدأ الكتابة هنا... سيقوم النظام بتحليل النص وتقديم اقتراحات ذكية أثناء الكتابة.",className:"min-h-[500px] text-lg leading-relaxed resize-none",dir:"rtl"}),v&&n&&m.length>0&&i.jsxs("div",{className:"absolute top-4 right-4 bg-white rounded-lg shadow-lg border p-4 max-w-sm z-10",children:[i.jsxs("h4",{className:"font-semibold mb-2 flex items-center gap-2",children:[i.jsx(nr,{className:"w-4 h-4 text-yellow-500"}),"اقتراحات ذكية"]}),i.jsx("div",{className:"space-y-2 max-h-48 overflow-y-auto",children:m.map((z,$)=>i.jsx("div",{className:"p-2 bg-gray-50 rounded text-sm",children:z},$))}),i.jsxs("div",{className:"flex gap-2 mt-3",children:[i.jsx(xe,{size:"sm",variant:"outline",onClick:()=>q("positive"),children:i.jsx(wce,{className:"w-3 h-3"})}),i.jsx(xe,{size:"sm",variant:"outline",onClick:()=>q("negative"),children:i.jsx(bce,{className:"w-3 h-3"})}),i.jsx(xe,{size:"sm",variant:"outline",onClick:()=>p(!1),children:"إغلاق"})]})]})]})]})]})}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs(ae,{children:[i.jsx(Te,{className:"pb-3",children:i.jsx(ke,{className:"text-sm",children:"أدوات التحكم السريع"})}),i.jsxs(oe,{className:"space-y-3",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsxs(Dt,{className:"text-xs",children:["الطول المستهدف: ",d," كلمة"]}),i.jsx(pi,{value:[d],onValueChange:z=>h(z[0]),max:1e4,min:500,step:250,className:"w-full"})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[i.jsxs(xe,{size:"sm",variant:"outline",onClick:()=>F("expand"),disabled:x,children:[i.jsx(p1,{className:"w-3 h-3 ml-1"}),"توسيع"]}),i.jsxs(xe,{size:"sm",variant:"outline",onClick:()=>F("compress"),disabled:x,children:[i.jsx(ry,{className:"w-3 h-3 ml-1"}),"تقليص"]})]}),i.jsxs(xe,{className:"w-full",size:"sm",children:[i.jsx(Ha,{className:"w-3 h-3 ml-1"}),"تحسين تلقائي"]})]})]}),s&&i.jsxs(ae,{children:[i.jsx(Te,{className:"pb-3",children:i.jsx(ke,{className:"text-sm",children:"إحصائيات سريعة"})}),i.jsxs(oe,{className:"space-y-2",children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-xs text-gray-600",children:"الكلمات:"}),i.jsx("span",{className:"text-sm font-medium",children:s.wordCount})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-xs text-gray-600",children:"الجمل:"}),i.jsx("span",{className:"text-sm font-medium",children:s.sentenceCount})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-xs text-gray-600",children:"الفقرات:"}),i.jsx("span",{className:"text-sm font-medium",children:s.paragraphCount})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-xs text-gray-600",children:"الجودة:"}),i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsxs("span",{className:"text-sm font-medium",children:[Math.round(s.qualityScore*100),"%"]}),i.jsx("div",{className:"flex",children:[...Array(5)].map((z,$)=>i.jsx(tr,{className:`w-3 h-3 ${$<Math.round(s.qualityScore*5)?"text-yellow-400 fill-current":"text-gray-300"}`},$))})]})]})]})]})]})]})}),i.jsx(rt,{value:"analysis",className:"space-y-6",children:s?i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-6",children:[i.jsxs(ae,{children:[i.jsx(Te,{children:i.jsxs(ke,{className:"flex items-center gap-2",children:[i.jsx(Hn,{className:"w-5 h-5"}),"مؤشرات الجودة"]})}),i.jsx(oe,{className:"space-y-4",children:i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{children:[i.jsxs("div",{className:"flex justify-between mb-1",children:[i.jsx("span",{className:"text-sm",children:"سهولة القراءة"}),i.jsxs("span",{className:"text-sm font-medium",children:[Math.round(s.readabilityScore*100),"%"]})]}),i.jsx(tt,{value:s.readabilityScore*100})]}),i.jsxs("div",{children:[i.jsxs("div",{className:"flex justify-between mb-1",children:[i.jsx("span",{className:"text-sm",children:"جودة المحتوى"}),i.jsxs("span",{className:"text-sm font-medium",children:[Math.round(s.qualityScore*100),"%"]})]}),i.jsx(tt,{value:s.qualityScore*100})]}),i.jsxs("div",{children:[i.jsxs("div",{className:"flex justify-between mb-1",children:[i.jsx("span",{className:"text-sm",children:"الأسلوب الأدبي"}),i.jsxs("span",{className:"text-sm font-medium",children:[Math.round(s.styleScore*100),"%"]})]}),i.jsx(tt,{value:s.styleScore*100})]})]})})]}),i.jsxs(ae,{children:[i.jsx(Te,{children:i.jsxs(ke,{className:"flex items-center gap-2",children:[i.jsx(zt,{className:"w-5 h-5"}),"تحليل المشاعر"]})}),i.jsx(oe,{children:i.jsx(Cr,{width:"100%",height:200,children:i.jsxs(uj,{data:Object.entries(s.emotions).map(([z,$])=>({emotion:z,value:$})),children:[i.jsx(Tr,{dataKey:"emotion"}),i.jsx(ur,{}),i.jsx(er,{}),i.jsx(Ys,{dataKey:"value",fill:"#8884d8"})]})})})]}),i.jsxs(ae,{children:[i.jsx(Te,{children:i.jsxs(ke,{className:"flex items-center gap-2",children:[i.jsx(jl,{className:"w-5 h-5"}),"مشاكل واقتراحات"]})}),i.jsx(oe,{children:i.jsx("div",{className:"space-y-3 max-h-64 overflow-y-auto",children:s.issues.map((z,$)=>i.jsxs("div",{className:"p-3 rounded-lg border border-orange-200 bg-orange-50",children:[i.jsxs("div",{className:"flex items-start justify-between mb-1",children:[i.jsx(He,{variant:z.severity==="high"?"destructive":z.severity==="medium"?"default":"secondary",className:"text-xs",children:z.type}),i.jsxs("span",{className:"text-xs text-gray-500",children:["موضع ",z.position]})]}),i.jsx("p",{className:"text-sm text-gray-700 mb-2",children:z.text}),i.jsx("p",{className:"text-xs text-blue-600",children:z.suggestion})]},$))})})]})]}):i.jsx(ae,{children:i.jsxs(oe,{className:"py-12 text-center",children:[i.jsx(zt,{className:"w-12 h-12 mx-auto text-gray-400 mb-4"}),i.jsx("p",{className:"text-gray-500",children:"ابدأ بكتابة النص لرؤية التحليل المتقدم"})]})})}),i.jsxs(rt,{value:"witness",className:"space-y-6",children:[i.jsxs("div",{className:"flex justify-between items-center mb-4",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-semibold text-right",children:"نظام الشاهد المتقدم 🎬"}),i.jsx("p",{className:"text-sm text-muted-foreground text-right",children:"دمج ترانسكريبت الفيديوهات في كتابتك الإبداعية"})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(xe,{variant:_==="manager"?"default":"outline",size:"sm",onClick:()=>C("manager"),children:"إدارة المصادر"}),i.jsxs(xe,{variant:_==="invocation"?"default":"outline",size:"sm",onClick:()=>C("invocation"),children:[i.jsx(Wn,{className:"h-4 w-4 mr-1"}),"استدعاء الشاهد"]})]})]}),_==="manager"?i.jsx(Fwe,{}):i.jsxs("div",{className:"space-y-4",children:[i.jsx(ae,{children:i.jsxs(oe,{className:"p-4",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Wn,{className:"h-5 w-5 text-blue-600"}),i.jsx("span",{className:"font-medium",children:"استدعاء الشاهد في النص"})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsxs(xe,{size:"sm",onClick:S,className:"bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700",children:[i.jsx(Wn,{className:"h-4 w-4 mr-1"}),"استدعاء الشاهد"]}),n&&i.jsxs(He,{variant:"outline",className:"text-xs",children:["نص محدد: ",n.length," حرف"]})]})]}),i.jsx("div",{className:"mt-3 text-sm text-muted-foreground",children:"💡 نصيحة: حدد نصاً في المحرر قبل الاستدعاء للحصول على نتائج أكثر دقة"})]})}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[i.jsx(ae,{children:i.jsxs(oe,{className:"p-4 text-center",children:[i.jsx("div",{className:"text-2xl font-bold text-blue-600",children:"🎥"}),i.jsx("div",{className:"text-sm font-medium mt-1",children:"ترانسكريبت الفيديو"}),i.jsx("div",{className:"text-xs text-muted-foreground",children:"استخلاص من مقاطع الفيديو"})]})}),i.jsx(ae,{children:i.jsxs(oe,{className:"p-4 text-center",children:[i.jsx("div",{className:"text-2xl font-bold text-green-600",children:"📊"}),i.jsx("div",{className:"text-sm font-medium mt-1",children:"تحليل المصداقية"}),i.jsx("div",{className:"text-xs text-muted-foreground",children:"تقييم موثوقية المعلومات"})]})}),i.jsx(ae,{children:i.jsxs(oe,{className:"p-4 text-center",children:[i.jsx("div",{className:"text-2xl font-bold text-purple-600",children:"✨"}),i.jsx("div",{className:"text-sm font-medium mt-1",children:"دمج ذكي"}),i.jsx("div",{className:"text-xs text-muted-foreground",children:"إدراج سلس في النص"})]})})]}),i.jsxs(ae,{children:[i.jsx(Te,{children:i.jsxs(ke,{className:"text-base flex items-center gap-2",children:[i.jsx(nr,{className:"h-4 w-4"}),"كيفية الاستخدام"]})}),i.jsxs(oe,{className:"space-y-3",children:[i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx("div",{className:"w-6 h-6 rounded-full bg-blue-100 text-blue-600 flex items-center justify-center text-sm font-medium",children:"1"}),i.jsxs("div",{children:[i.jsx("div",{className:"font-medium text-sm",children:"إدارة المصادر"}),i.jsx("div",{className:"text-xs text-muted-foreground",children:"ارفع ترانسكريبت الفيديوهات ودعها تُحلل"})]})]}),i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx("div",{className:"w-6 h-6 rounded-full bg-green-100 text-green-600 flex items-center justify-center text-sm font-medium",children:"2"}),i.jsxs("div",{children:[i.jsx("div",{className:"font-medium text-sm",children:"استدعاء في المحرر"}),i.jsx("div",{className:"text-xs text-muted-foreground",children:'اضغط "استدعاء الشاهد" واختر العناصر المناسبة'})]})]}),i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx("div",{className:"w-6 h-6 rounded-full bg-purple-100 text-purple-600 flex items-center justify-center text-sm font-medium",children:"3"}),i.jsxs("div",{children:[i.jsx("div",{className:"font-medium text-sm",children:"إدراج النص"}),i.jsx("div",{className:"text-xs text-muted-foreground",children:"العناصر المختارة ستُدرج بتنسيق احترافي"})]})]})]})]})]})]}),i.jsx(rt,{value:"tools",className:"space-y-6",children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[i.jsxs(ae,{children:[i.jsx(Te,{children:i.jsxs(ke,{className:"flex items-center gap-2",children:[i.jsx(En,{className:"w-5 h-5"}),"التحكم في الطول"]})}),i.jsxs(oe,{className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsxs(Dt,{children:["الطول الحالي: ",U," كلمة"]}),i.jsx(Dt,{children:"الطول المستهدف:"}),i.jsx(wn,{type:"number",value:d,onChange:z=>h(Number(z.target.value)),min:100,max:2e4})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[i.jsxs(xe,{onClick:()=>F("expand"),disabled:x,className:"w-full",children:[i.jsx(p1,{className:"w-4 h-4 ml-1"}),"توسيع"]}),i.jsxs(xe,{onClick:()=>F("compress"),disabled:x,variant:"outline",className:"w-full",children:[i.jsx(ry,{className:"w-4 h-4 ml-1"}),"ضغط"]})]}),x&&i.jsxs("div",{className:"flex items-center gap-2 text-sm text-blue-600",children:[i.jsx(Ar,{className:"w-4 h-4 animate-spin"}),"جارِ معالجة النص..."]})]})]}),i.jsxs(ae,{children:[i.jsx(Te,{children:i.jsxs(ke,{className:"flex items-center gap-2",children:[i.jsx(Qn,{className:"w-5 h-5"}),"تحسين الأسلوب"]})}),i.jsxs(oe,{className:"space-y-3",children:[i.jsxs(xe,{className:"w-full",variant:"outline",children:[i.jsx(Ha,{className:"w-4 h-4 ml-1"}),"تحسين التماسك"]}),i.jsxs(xe,{className:"w-full",variant:"outline",children:[i.jsx(vr,{className:"w-4 h-4 ml-1"}),"تقوية التعابير"]}),i.jsxs(xe,{className:"w-full",variant:"outline",children:[i.jsx(zt,{className:"w-4 h-4 ml-1"}),"إثراء المفردات"]}),i.jsxs(xe,{className:"w-full",variant:"outline",children:[i.jsx(Qn,{className:"w-4 h-4 ml-1"}),"تنويع الجمل"]})]})]}),i.jsxs(ae,{children:[i.jsx(Te,{children:i.jsxs(ke,{className:"flex items-center gap-2",children:[i.jsx(Ko,{className:"w-5 h-5"}),"حفظ وتصدير"]})}),i.jsxs(oe,{className:"space-y-3",children:[i.jsxs(xe,{className:"w-full",children:[i.jsx(Ko,{className:"w-4 h-4 ml-1"}),"حفظ المشروع"]}),i.jsxs(xe,{className:"w-full",variant:"outline",children:[i.jsx(gr,{className:"w-4 h-4 ml-1"}),"تصدير PDF"]}),i.jsxs(xe,{className:"w-full",variant:"outline",children:[i.jsx(gr,{className:"w-4 h-4 ml-1"}),"تصدير Word"]}),i.jsxs(xe,{className:"w-full",variant:"outline",children:[i.jsx(gr,{className:"w-4 h-4 ml-1"}),"تصدير نص خام"]})]})]})]})}),i.jsx(rt,{value:"settings",className:"space-y-6",children:i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[i.jsxs(ae,{children:[i.jsx(Te,{children:i.jsx(ke,{children:"إعدادات المحرر"})}),i.jsxs(oe,{className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(Dt,{children:"طول الهدف الافتراضي"}),i.jsx(wn,{type:"number",defaultValue:2e3,min:500,max:1e4})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Dt,{children:"مستوى التحليل التلقائي"}),i.jsx(pi,{defaultValue:[70],max:100,step:10})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Dt,{children:"تكرار الحفظ التلقائي (بالثواني)"}),i.jsx(wn,{type:"number",defaultValue:30,min:10,max:300})]})]})]}),i.jsxs(ae,{children:[i.jsx(Te,{children:i.jsx(ke,{children:"إعدادات الذكاء الاصطناعي"})}),i.jsxs(oe,{className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(Dt,{children:"قوة اقتراحات التحسين"}),i.jsx(pi,{defaultValue:[80],max:100,step:5})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Dt,{children:"حساسية كشف المشاكل"}),i.jsx(pi,{defaultValue:[60],max:100,step:5})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Dt,{children:"نمط الأسلوب المفضل"}),i.jsx(wn,{placeholder:"الجطلاوي، كلاسيكي، معاصر..."})]})]})]})]})})]})]}),i.jsx(Mct,{isOpen:j,onClose:()=>N(!1),onInsertContent:M,selectedText:n})]})}function Rct(){return i.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 via-blue-50 to-cyan-50 p-6",dir:"rtl",children:i.jsxs("div",{className:"max-w-7xl mx-auto",children:[i.jsxs("div",{className:"text-center mb-8",children:[i.jsxs("div",{className:"flex justify-center items-center gap-3 mb-4",children:[i.jsx("div",{className:"p-3 bg-gradient-to-r from-purple-500 to-blue-500 rounded-full",children:i.jsx(xn,{className:"w-8 h-8 text-white"})}),i.jsx("h1",{className:"text-5xl font-bold bg-gradient-to-r from-purple-600 to-blue-600 bg-clip-text text-transparent",children:"المحرر التفاعلي الذكي الفائق"})]}),i.jsx("p",{className:"text-gray-600 text-xl max-w-3xl mx-auto leading-relaxed",children:'محرر متطور بتقنيات الذكاء الاصطناعي المتقدمة لتحسين وتطوير النصوص العربية مع أدوات تحكم ذكية بالطول وميزة "الشاهد" الفريدة'})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[i.jsx(ae,{className:"border border-purple-200 bg-purple-50/50 hover:shadow-lg transition-shadow",children:i.jsxs(oe,{className:"p-6 text-center",children:[i.jsx("div",{className:"bg-purple-100 rounded-full w-16 h-16 flex items-center justify-center mx-auto mb-4",children:i.jsx(En,{className:"w-8 h-8 text-purple-600"})}),i.jsx("h3",{className:"font-semibold text-purple-800 mb-2",children:"تحكم ذكي بالطول"}),i.jsx("p",{className:"text-sm text-purple-600",children:"إطالة أو تقصير النص مع الحفاظ على الأسلوب والمعنى"}),i.jsx(He,{variant:"secondary",className:"mt-2",children:"2K → 5K كلمة"})]})}),i.jsx(ae,{className:"border border-blue-200 bg-blue-50/50 hover:shadow-lg transition-shadow",children:i.jsxs(oe,{className:"p-6 text-center",children:[i.jsx("div",{className:"bg-blue-100 rounded-full w-16 h-16 flex items-center justify-center mx-auto mb-4",children:i.jsx(oR,{className:"w-8 h-8 text-blue-600"})}),i.jsx("h3",{className:"font-semibold text-blue-800 mb-2",children:"ميزة الشاهد"}),i.jsx("p",{className:"text-sm text-blue-600",children:"استخلاص معلومات من ترانسكريبت الفيديوهات ودمجها في السرد"}),i.jsx(He,{variant:"secondary",className:"mt-2",children:"مصداقية عالية"})]})}),i.jsx(ae,{className:"border border-green-200 bg-green-50/50 hover:shadow-lg transition-shadow",children:i.jsxs(oe,{className:"p-6 text-center",children:[i.jsx("div",{className:"bg-green-100 rounded-full w-16 h-16 flex items-center justify-center mx-auto mb-4",children:i.jsx(zt,{className:"w-8 h-8 text-green-600"})}),i.jsx("h3",{className:"font-semibold text-green-800 mb-2",children:"تحليل متقدم"}),i.jsx("p",{className:"text-sm text-green-600",children:"تحليل شامل للنص مع اقتراحات ذكية ومؤشرات جودة فورية"}),i.jsx(He,{variant:"secondary",className:"mt-2",children:"AI مدعوم"})]})}),i.jsx(ae,{className:"border border-orange-200 bg-orange-50/50 hover:shadow-lg transition-shadow",children:i.jsxs(oe,{className:"p-6 text-center",children:[i.jsx("div",{className:"bg-orange-100 rounded-full w-16 h-16 flex items-center justify-center mx-auto mb-4",children:i.jsx(Qn,{className:"w-8 h-8 text-orange-600"})}),i.jsx("h3",{className:"font-semibold text-orange-800 mb-2",children:"تحسين تلقائي"}),i.jsx("p",{className:"text-sm text-orange-600",children:"أدوات تحسين الأسلوب والتماسك مع تقييم فوري للتغييرات"}),i.jsx(He,{variant:"secondary",className:"mt-2",children:"تفاعلي"})]})})]}),i.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-8",children:[i.jsxs("div",{className:"bg-white/60 backdrop-blur-sm rounded-lg p-4 text-center border border-white/20",children:[i.jsxs("div",{className:"flex items-center justify-center gap-2 mb-2",children:[i.jsx(Hn,{className:"w-5 h-5 text-purple-600"}),i.jsx("span",{className:"text-2xl font-bold text-purple-600",children:"95%"})]}),i.jsx("p",{className:"text-sm text-gray-600",children:"دقة التحليل"})]}),i.jsxs("div",{className:"bg-white/60 backdrop-blur-sm rounded-lg p-4 text-center border border-white/20",children:[i.jsxs("div",{className:"flex items-center justify-center gap-2 mb-2",children:[i.jsx(vr,{className:"w-5 h-5 text-blue-600"}),i.jsx("span",{className:"text-2xl font-bold text-blue-600",children:"< 1s"})]}),i.jsx("p",{className:"text-sm text-gray-600",children:"زمن المعالجة"})]}),i.jsxs("div",{className:"bg-white/60 backdrop-blur-sm rounded-lg p-4 text-center border border-white/20",children:[i.jsxs("div",{className:"flex items-center justify-center gap-2 mb-2",children:[i.jsx(tr,{className:"w-5 h-5 text-green-600"}),i.jsx("span",{className:"text-2xl font-bold text-green-600",children:"4.9"})]}),i.jsx("p",{className:"text-sm text-gray-600",children:"تقييم المستخدمين"})]}),i.jsxs("div",{className:"bg-white/60 backdrop-blur-sm rounded-lg p-4 text-center border border-white/20",children:[i.jsxs("div",{className:"flex items-center justify-center gap-2 mb-2",children:[i.jsx(Rt,{className:"w-5 h-5 text-orange-600"}),i.jsx("span",{className:"text-2xl font-bold text-orange-600",children:"10K+"})]}),i.jsx("p",{className:"text-sm text-gray-600",children:"نص محسن"})]})]}),i.jsx(Lct,{}),i.jsxs("div",{className:"mt-12 grid grid-cols-1 md:grid-cols-3 gap-6",children:[i.jsxs(ae,{className:"bg-gradient-to-br from-purple-100 to-purple-50 border-purple-200",children:[i.jsx(Te,{children:i.jsxs(ke,{className:"flex items-center gap-2 text-purple-800",children:[i.jsx(En,{className:"w-5 h-5"}),"التحكم الذكي بالطول"]})}),i.jsx(oe,{children:i.jsxs("ul",{className:"space-y-2 text-sm text-purple-700",children:[i.jsxs("li",{className:"flex items-center gap-2",children:[i.jsx(Rt,{className:"w-4 h-4 text-purple-500"}),"إطالة من 2000 إلى 5000 كلمة"]}),i.jsxs("li",{className:"flex items-center gap-2",children:[i.jsx(Rt,{className:"w-4 h-4 text-purple-500"}),"تقصير مع الحفاظ على المعنى"]}),i.jsxs("li",{className:"flex items-center gap-2",children:[i.jsx(Rt,{className:"w-4 h-4 text-purple-500"}),"تحليل جودة التعديل"]}),i.jsxs("li",{className:"flex items-center gap-2",children:[i.jsx(Rt,{className:"w-4 h-4 text-purple-500"}),"معاينة فورية للنتائج"]})]})})]}),i.jsxs(ae,{className:"bg-gradient-to-br from-blue-100 to-blue-50 border-blue-200",children:[i.jsx(Te,{children:i.jsxs(ke,{className:"flex items-center gap-2 text-blue-800",children:[i.jsx(oR,{className:"w-5 h-5"}),"ميزة الشاهد المتطورة"]})}),i.jsx(oe,{children:i.jsxs("ul",{className:"space-y-2 text-sm text-blue-700",children:[i.jsxs("li",{className:"flex items-center gap-2",children:[i.jsx(Rt,{className:"w-4 h-4 text-blue-500"}),"رفع ترانسكريبت الفيديوهات"]}),i.jsxs("li",{className:"flex items-center gap-2",children:[i.jsx(Rt,{className:"w-4 h-4 text-blue-500"}),"استخلاص المعلومات القيمة"]}),i.jsxs("li",{className:"flex items-center gap-2",children:[i.jsx(Rt,{className:"w-4 h-4 text-blue-500"}),"تقييم مصداقية المصادر"]}),i.jsxs("li",{className:"flex items-center gap-2",children:[i.jsx(Rt,{className:"w-4 h-4 text-blue-500"}),"دمج ذكي في السرد"]})]})})]}),i.jsxs(ae,{className:"bg-gradient-to-br from-green-100 to-green-50 border-green-200",children:[i.jsx(Te,{children:i.jsxs(ke,{className:"flex items-center gap-2 text-green-800",children:[i.jsx(zt,{className:"w-5 h-5"}),"أدوات الذكاء الاصطناعي"]})}),i.jsx(oe,{children:i.jsxs("ul",{className:"space-y-2 text-sm text-green-700",children:[i.jsxs("li",{className:"flex items-center gap-2",children:[i.jsx(Rt,{className:"w-4 h-4 text-green-500"}),"تحليل شامل للنص"]}),i.jsxs("li",{className:"flex items-center gap-2",children:[i.jsx(Rt,{className:"w-4 h-4 text-green-500"}),"اقتراحات تحسين فورية"]}),i.jsxs("li",{className:"flex items-center gap-2",children:[i.jsx(Rt,{className:"w-4 h-4 text-green-500"}),"كشف المشاكل والأخطاء"]}),i.jsxs("li",{className:"flex items-center gap-2",children:[i.jsx(Rt,{className:"w-4 h-4 text-green-500"}),"تقييم جودة المحتوى"]})]})})]})]}),i.jsxs(ae,{className:"mt-8 bg-gradient-to-r from-indigo-50 to-purple-50 border-indigo-200",children:[i.jsx(Te,{children:i.jsx(ke,{className:"text-center text-indigo-800",children:"💡 نصائح للحصول على أفضل النتائج"})}),i.jsx(oe,{children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 text-sm text-indigo-700",children:[i.jsxs("div",{children:[i.jsx("h4",{className:"font-semibold mb-2",children:"استخدام التحكم بالطول:"}),i.jsxs("ul",{className:"space-y-1",children:[i.jsx("li",{children:"• ابدأ بنص أساسي قوي قبل التوسيع"}),i.jsx("li",{children:"• استخدم التقصير للنصوص المطولة دون داعٍ"}),i.jsx("li",{children:"• راجع النتيجة وعدل حسب الحاجة"})]})]}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-semibold mb-2",children:"استخدام ميزة الشاهد:"}),i.jsxs("ul",{className:"space-y-1",children:[i.jsx("li",{children:"• تأكد من جودة ملف الترانسكريبت"}),i.jsx("li",{children:"• اختر المقاطع ذات الصلة بموضوعك"}),i.jsx("li",{children:"• راجع مصداقية المصدر قبل الدمج"})]})]})]})})]})]})})}const Qct=()=>{const[t,e]=E.useState(null),[n,r]=E.useState([]),[s,a]=E.useState(!1),[o,l]=E.useState("overview"),[c,u]=E.useState(""),[d,h]=E.useState("month"),{toast:f}=ki(),A=async()=>{try{a(!0);const j=await fetch("/api/witness/statistics",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!j.ok)throw new Error("فشل في تحميل الإحصائيات");const N=await j.json();e(N.stats)}catch{f({title:"خطأ",description:"فشل في تحميل إحصائيات الشاهد",variant:"destructive"})}finally{a(!1)}},v=async()=>{try{const j=await fetch("/api/witness/project-usage",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(j.ok){const N=await j.json();r(N.projects||[])}}catch(j){console.error("Error loading project usage:",j)}};E.useEffect(()=>{A(),v()},[]);const p=async j=>{try{const N=await fetch(`/api/witness/export?format=${j}`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!N.ok)throw new Error("فشل في التصدير");const _=await N.blob(),C=window.URL.createObjectURL(_),k=document.createElement("a");k.style.display="none",k.href=C,k.download=`witness-data.${j}`,document.body.appendChild(k),k.click(),window.URL.revokeObjectURL(C),f({title:"تم التصدير",description:`تم تصدير البيانات بنجاح بصيغة ${j.toUpperCase()}`})}catch{f({title:"خطأ",description:"فشل في تصدير البيانات",variant:"destructive"})}},m=async()=>{if(confirm("هل أنت متأكد من حذف البيانات القديمة؟ هذا الإجراء لا يمكن التراجع عنه."))try{if(!(await fetch("/api/witness/cleanup",{method:"DELETE",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}})).ok)throw new Error("فشل في التنظيف");f({title:"تم التنظيف",description:"تم حذف البيانات القديمة بنجاح"}),A()}catch{f({title:"خطأ",description:"فشل في تنظيف البيانات",variant:"destructive"})}},g=j=>new Intl.NumberFormat("ar-SA").format(j),x=j=>j>=.8?"text-green-600":j>=.6?"text-blue-600":j>=.4?"text-yellow-600":j>=.2?"text-orange-600":"text-red-600",b=["#22c55e","#3b82f6","#eab308","#f97316","#ef4444"];return i.jsxs("div",{className:"container mx-auto p-6 space-y-6 max-w-7xl",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsxs("div",{children:[i.jsxs("h1",{className:"text-3xl font-bold text-right flex items-center gap-3",children:[i.jsx(dR,{className:"h-8 w-8 text-blue-600"}),"إدارة نظام الشاهد المتقدم"]}),i.jsx("p",{className:"text-muted-foreground text-right mt-2",children:"أول نظام عالمي متكامل لدمج ترانسكريبت الفيديوهات في الكتابة الإبداعية"}),i.jsxs("div",{className:"flex items-center gap-4 mt-3",children:[i.jsxs(He,{variant:"outline",className:"text-sm",children:[i.jsx(N_,{className:"h-3 w-3 mr-1"}),"نظام ذكي"]}),i.jsxs(He,{variant:"outline",className:"text-sm",children:[i.jsx(zt,{className:"h-3 w-3 mr-1"}),"تحليل مصداقية"]}),i.jsxs(He,{variant:"outline",className:"text-sm",children:[i.jsx(vr,{className:"h-3 w-3 mr-1"}),"دمج تلقائي"]})]})]}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsxs(vi,{value:d,onValueChange:h,children:[i.jsx(li,{className:"w-32",children:i.jsx(yi,{})}),i.jsxs(ci,{children:[i.jsx(Bt,{value:"week",children:"هذا الأسبوع"}),i.jsx(Bt,{value:"month",children:"هذا الشهر"}),i.jsx(Bt,{value:"quarter",children:"الربع"}),i.jsx(Bt,{value:"year",children:"السنة"})]})]}),i.jsxs(xe,{variant:"outline",onClick:()=>p("csv"),children:[i.jsx(gr,{className:"h-4 w-4 mr-1"}),"تصدير CSV"]}),i.jsxs(xe,{variant:"outline",onClick:()=>p("json"),children:[i.jsx(gr,{className:"h-4 w-4 mr-1"}),"تصدير JSON"]})]})]}),i.jsxs(zn,{value:o,onValueChange:l,className:"space-y-6",children:[i.jsxs(On,{className:"grid w-full grid-cols-5 bg-white/50 backdrop-blur-sm",children:[i.jsxs(nt,{value:"overview",className:"flex items-center gap-2",children:[i.jsx(hs,{className:"w-4 h-4"}),"نظرة عامة"]}),i.jsxs(nt,{value:"sources",className:"flex items-center gap-2",children:[i.jsx(xn,{className:"w-4 h-4"}),"إدارة المصادر"]}),i.jsxs(nt,{value:"analytics",className:"flex items-center gap-2",children:[i.jsx(Hn,{className:"w-4 h-4"}),"التحليلات المتقدمة"]}),i.jsxs(nt,{value:"projects",className:"flex items-center gap-2",children:[i.jsx(En,{className:"w-4 h-4"}),"المشاريع"]}),i.jsxs(nt,{value:"settings",className:"flex items-center gap-2",children:[i.jsx(Qr,{className:"w-4 h-4"}),"الإعدادات"]})]}),i.jsxs(rt,{value:"overview",className:"space-y-6",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[i.jsx(ae,{className:"relative overflow-hidden",children:i.jsxs(oe,{className:"p-6",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"إجمالي المصادر"}),i.jsx("p",{className:"text-3xl font-bold text-blue-600",children:s?"-":g((t==null?void 0:t.totalSources)||0)}),i.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["محلل: ",(t==null?void 0:t.analyzedSources)||0]})]}),i.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center",children:i.jsx(dR,{className:"h-6 w-6 text-blue-600"})})]}),i.jsx("div",{className:"absolute bottom-0 left-0 w-full h-1 bg-gradient-to-r from-blue-500 to-blue-600"})]})}),i.jsx(ae,{className:"relative overflow-hidden",children:i.jsxs(oe,{className:"p-6",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"عمليات الاستخلاص"}),i.jsx("p",{className:"text-3xl font-bold text-green-600",children:s?"-":g((t==null?void 0:t.totalExtractions)||0)}),i.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"مكتملة"})]}),i.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-full flex items-center justify-center",children:i.jsx(zt,{className:"h-6 w-6 text-green-600"})})]}),i.jsx("div",{className:"absolute bottom-0 left-0 w-full h-1 bg-gradient-to-r from-green-500 to-green-600"})]})}),i.jsx(ae,{className:"relative overflow-hidden",children:i.jsxs(oe,{className:"p-6",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"متوسط المصداقية"}),i.jsx("p",{className:`text-3xl font-bold ${x((t==null?void 0:t.averageCredibility)||0)}`,children:s?"-":`${Math.round(((t==null?void 0:t.averageCredibility)||0)*100)}%`}),i.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"تقييم عام"})]}),i.jsx("div",{className:"w-12 h-12 bg-yellow-100 rounded-full flex items-center justify-center",children:i.jsx(za,{className:"h-6 w-6 text-yellow-600"})})]}),i.jsx("div",{className:"absolute bottom-0 left-0 w-full h-1 bg-gradient-to-r from-yellow-500 to-yellow-600"})]})}),i.jsx(ae,{className:"relative overflow-hidden",children:i.jsxs(oe,{className:"p-6",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"العناصر المستخرجة"}),i.jsx("p",{className:"text-3xl font-bold text-purple-600",children:s?"-":g(((t==null?void 0:t.totalCharacters)||0)+((t==null?void 0:t.totalEvents)||0)+((t==null?void 0:t.totalDialogues)||0))}),i.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"شخصيات، أحداث، حوارات"})]}),i.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-full flex items-center justify-center",children:i.jsx($u,{className:"h-6 w-6 text-purple-600"})})]}),i.jsx("div",{className:"absolute bottom-0 left-0 w-full h-1 bg-gradient-to-r from-purple-500 to-purple-600"})]})})]}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[i.jsxs(ae,{children:[i.jsxs(Te,{children:[i.jsx(ke,{className:"text-right",children:"الرفع الشهري"}),i.jsx(Pt,{className:"text-right",children:"عدد الملفات المرفوعة شهرياً"})]}),i.jsx(oe,{children:i.jsx(Cr,{width:"100%",height:300,children:i.jsxs(If,{data:(t==null?void 0:t.monthlyUploads)||[],children:[i.jsx(Hi,{strokeDasharray:"3 3"}),i.jsx(Tr,{dataKey:"month"}),i.jsx(ur,{}),i.jsx(er,{}),i.jsx(Kr,{type:"monotone",dataKey:"uploads",stroke:"#3b82f6",strokeWidth:2})]})})})]}),i.jsxs(ae,{children:[i.jsxs(Te,{children:[i.jsx(ke,{className:"text-right",children:"توزيع المصداقية"}),i.jsx(Pt,{className:"text-right",children:"توزيع مصادر الشاهد حسب مستوى المصداقية"})]}),i.jsx(oe,{children:i.jsx(Cr,{width:"100%",height:300,children:i.jsxs(WF,{children:[i.jsx(ed,{data:(t==null?void 0:t.credibilityDistribution)||[],cx:"50%",cy:"50%",labelLine:!1,label:({name:j,percent:N})=>`${j}: ${(N*100).toFixed(0)}%`,outerRadius:80,fill:"#8884d8",dataKey:"value",children:((t==null?void 0:t.credibilityDistribution)||[]).map((j,N)=>i.jsx(jx,{fill:b[N%b.length]},`cell-${N}`))}),i.jsx(er,{})]})})})]})]}),i.jsxs(ae,{children:[i.jsxs(Te,{children:[i.jsx(ke,{className:"text-right",children:"أهم الفئات المستخدمة"}),i.jsx(Pt,{className:"text-right",children:"الفئات والمواضيع الأكثر استخداماً في مصادر الشاهد"})]}),i.jsx(oe,{children:i.jsx(Cr,{width:"100%",height:400,children:i.jsxs(uj,{data:(t==null?void 0:t.topCategories)||[],children:[i.jsx(Hi,{strokeDasharray:"3 3"}),i.jsx(Tr,{dataKey:"category"}),i.jsx(ur,{}),i.jsx(er,{}),i.jsx(Ys,{dataKey:"count",fill:"#8b5cf6"})]})})})]})]}),i.jsx(rt,{value:"sources",children:i.jsx(Fwe,{})}),i.jsx(rt,{value:"analytics",className:"space-y-6",children:i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[i.jsxs(ae,{className:"lg:col-span-2",children:[i.jsx(Te,{children:i.jsx(ke,{className:"text-right",children:"إحصائيات الاستخدام"})}),i.jsx(oe,{children:i.jsx(Cr,{width:"100%",height:400,children:i.jsxs(If,{data:(t==null?void 0:t.usageStats)||[],children:[i.jsx(Hi,{strokeDasharray:"3 3"}),i.jsx(Tr,{dataKey:"date"}),i.jsx(ur,{}),i.jsx(er,{}),i.jsx(Kr,{type:"monotone",dataKey:"extractions",stroke:"#3b82f6",name:"عمليات الاستخلاص"}),i.jsx(Kr,{type:"monotone",dataKey:"integrations",stroke:"#10b981",name:"عمليات الدمج"})]})})})]}),i.jsxs(ae,{children:[i.jsx(Te,{children:i.jsx(ke,{className:"text-right",children:"ملخص سريع"})}),i.jsxs(oe,{className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-sm",children:"الشخصيات"}),i.jsx("span",{className:"font-medium",children:g((t==null?void 0:t.totalCharacters)||0)})]}),i.jsx(tt,{value:((t==null?void 0:t.totalCharacters)||0)/Math.max(1,((t==null?void 0:t.totalCharacters)||0)+((t==null?void 0:t.totalEvents)||0)+((t==null?void 0:t.totalDialogues)||0))*100})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-sm",children:"الأحداث"}),i.jsx("span",{className:"font-medium",children:g((t==null?void 0:t.totalEvents)||0)})]}),i.jsx(tt,{value:((t==null?void 0:t.totalEvents)||0)/Math.max(1,((t==null?void 0:t.totalCharacters)||0)+((t==null?void 0:t.totalEvents)||0)+((t==null?void 0:t.totalDialogues)||0))*100})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-sm",children:"الحوارات"}),i.jsx("span",{className:"font-medium",children:g((t==null?void 0:t.totalDialogues)||0)})]}),i.jsx(tt,{value:((t==null?void 0:t.totalDialogues)||0)/Math.max(1,((t==null?void 0:t.totalCharacters)||0)+((t==null?void 0:t.totalEvents)||0)+((t==null?void 0:t.totalDialogues)||0))*100})]})]})]})]})}),i.jsx(rt,{value:"projects",className:"space-y-6",children:i.jsxs(ae,{children:[i.jsxs(Te,{children:[i.jsx(ke,{className:"text-right",children:"استخدام الشاهد في المشاريع"}),i.jsx(Pt,{className:"text-right",children:"تتبع كيفية استخدام مصادر الشاهد في مشاريع الكتابة المختلفة"})]}),i.jsx(oe,{children:n.length>0?i.jsx("div",{className:"space-y-4",children:n.map(j=>i.jsx(ae,{className:"border border-gray-200",children:i.jsx(oe,{className:"p-4",children:i.jsxs("div",{className:"flex justify-between items-start",children:[i.jsxs("div",{children:[i.jsx("h4",{className:"font-medium",children:j.project_name}),i.jsxs("p",{className:"text-sm text-muted-foreground",children:["استخدم الشاهد ",j.witness_usage_count," مرة"]}),i.jsxs("p",{className:"text-xs text-muted-foreground",children:["آخر استخدام: ",new Date(j.last_used).toLocaleDateString("ar-SA")]})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsxs(He,{variant:"secondary",children:[j.favorite_sources.length," مصدر مفضل"]}),i.jsxs(xe,{size:"sm",variant:"outline",children:[i.jsx(Vn,{className:"h-3 w-3 mr-1"}),"عرض"]})]})]})})},j.project_id))}):i.jsxs("div",{className:"text-center py-8",children:[i.jsx(En,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),i.jsx("p",{className:"text-muted-foreground",children:"لا توجد مشاريع تستخدم الشاهد بعد"})]})})]})}),i.jsx(rt,{value:"settings",className:"space-y-6",children:i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[i.jsxs(ae,{children:[i.jsx(Te,{children:i.jsx(ke,{className:"text-right",children:"إعدادات النظام"})}),i.jsxs(oe,{className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium",children:"حد المصداقية الأدنى"}),i.jsxs(vi,{defaultValue:"0.6",children:[i.jsx(li,{children:i.jsx(yi,{})}),i.jsxs(ci,{children:[i.jsx(Bt,{value:"0.2",children:"20% - منخفض"}),i.jsx(Bt,{value:"0.4",children:"40% - متوسط"}),i.jsx(Bt,{value:"0.6",children:"60% - عالي"}),i.jsx(Bt,{value:"0.8",children:"80% - عالي جداً"})]})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium",children:"نمط التحليل الافتراضي"}),i.jsxs(vi,{defaultValue:"balanced",children:[i.jsx(li,{children:i.jsx(yi,{})}),i.jsxs(ci,{children:[i.jsx(Bt,{value:"fast",children:"سريع"}),i.jsx(Bt,{value:"balanced",children:"متوازن"}),i.jsx(Bt,{value:"deep",children:"عميق"})]})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium",children:"لغة الترانسكريبت"}),i.jsxs(vi,{defaultValue:"ar",children:[i.jsx(li,{children:i.jsx(yi,{})}),i.jsxs(ci,{children:[i.jsx(Bt,{value:"ar",children:"العربية"}),i.jsx(Bt,{value:"en",children:"الإنجليزية"}),i.jsx(Bt,{value:"mixed",children:"مختلطة"})]})]})]})]})]}),i.jsxs(ae,{children:[i.jsx(Te,{children:i.jsx(ke,{className:"text-right",children:"أدوات الصيانة"})}),i.jsxs(oe,{className:"space-y-4",children:[i.jsxs(xe,{variant:"outline",className:"w-full",onClick:()=>A(),children:[i.jsx(Hn,{className:"h-4 w-4 mr-2"}),"تحديث الإحصائيات"]}),i.jsxs(xe,{variant:"outline",className:"w-full",onClick:()=>p("json"),children:[i.jsx(gr,{className:"h-4 w-4 mr-2"}),"نسخ احتياطي للبيانات"]}),i.jsxs(xe,{variant:"destructive",className:"w-full",onClick:m,children:[i.jsx(vS,{className:"h-4 w-4 mr-2"}),"تنظيف البيانات القديمة"]}),i.jsx("div",{className:"text-xs text-muted-foreground mt-4 p-3 bg-gray-50 rounded",children:"⚠️ تنبيه: أدوات الصيانة تؤثر على البيانات بشكل دائم. تأكد من أخذ نسخة احتياطية قبل التنظيف."})]})]})]})})]})]})},Hct=()=>{const[t,e]=E.useState([{id:"1",category:"أسلوب الكتابة",preference:"يفضل الجمل الطويلة والوصفية",confidence:.85,lastUpdated:new Date,source:"learned"},{id:"2",category:"نوع الحبكة",preference:"الحبكات الدرامية مع التشويق",confidence:.92,lastUpdated:new Date,source:"manual"},{id:"3",category:"تطوير الشخصيات",preference:"شخصيات معقدة ومتعددة الأبعاد",confidence:.78,lastUpdated:new Date,source:"inferred"}]),[n,r]=E.useState([{id:"1",pattern:"يحرر النصوص ليضيف تفاصيل حسية",frequency:15,accuracy:.89,lastSeen:new Date,context:"تحرير النصوص"},{id:"2",pattern:"يعدل حوارات الشخصيات لتكون أكثر طبيعية",frequency:23,accuracy:.93,lastSeen:new Date,context:"كتابة الحوار"}]),[s,a]=E.useState([{name:"نموذج الأسلوب الشخصي",accuracy:.87,trainingData:1250,lastTrained:new Date,status:"active"},{name:"نموذج تفضيلات الحبكة",accuracy:.91,trainingData:890,lastTrained:new Date,status:"active"},{name:"نموذج أسلوب الجطلاوي",accuracy:.95,trainingData:2150,lastTrained:new Date,status:"training"}]),[o,l]=E.useState(!0),[c,u]=E.useState([75]),[d,h]=E.useState(!0),f=p=>{switch(p){case"manual":return"bg-blue-100 text-blue-800";case"learned":return"bg-green-100 text-green-800";case"inferred":return"bg-purple-100 text-purple-800";default:return"bg-gray-100 text-gray-800"}},A=p=>{switch(p){case"active":return"bg-green-100 text-green-800";case"training":return"bg-yellow-100 text-yellow-800";case"inactive":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}},v=p=>{a(m=>m.map(g=>g.name===p?{...g,status:"training"}:g)),setTimeout(()=>{a(m=>m.map(g=>g.name===p?{...g,status:"active",accuracy:Math.min(.99,g.accuracy+.02),lastTrained:new Date}:g))},3e3)};return i.jsxs("div",{className:"p-6 space-y-6",dir:"rtl",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"p-3 bg-gradient-to-br from-purple-500 to-blue-600 rounded-lg",children:i.jsx(zt,{className:"h-6 w-6 text-white"})}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"نظام التعلم التكيفي المتقدم"}),i.jsx("p",{className:"text-gray-600",children:"تحليل وتعلم من تفضيلاتك وأسلوبك الشخصي"})]})]}),i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(zo,{checked:o,onCheckedChange:l}),i.jsx("span",{className:"text-sm font-medium",children:"التعلم التكيفي"})]}),i.jsxs(xe,{variant:"outline",className:"gap-2",children:[i.jsx(Ar,{className:"h-4 w-4"}),"تحديث النماذج"]})]})]}),o&&i.jsxs(fh,{children:[i.jsx(nr,{className:"h-4 w-4"}),i.jsx(Ah,{children:"النظام يتعلم من تعديلاتك ويحسن اقتراحاته تلقائياً"})]}),i.jsxs(zn,{defaultValue:"preferences",className:"w-full",children:[i.jsxs(On,{className:"grid w-full grid-cols-4",children:[i.jsxs(nt,{value:"preferences",className:"gap-2",children:[i.jsx(q0,{className:"h-4 w-4"}),"التفضيلات المكتشفة"]}),i.jsxs(nt,{value:"patterns",className:"gap-2",children:[i.jsx(Hn,{className:"h-4 w-4"}),"أنماط التعلم"]}),i.jsxs(nt,{value:"models",className:"gap-2",children:[i.jsx(zt,{className:"h-4 w-4"}),"النماذج التكيفية"]}),i.jsxs(nt,{value:"settings",className:"gap-2",children:[i.jsx(Qr,{className:"h-4 w-4"}),"إعدادات التعلم"]})]}),i.jsx(rt,{value:"preferences",className:"space-y-4",children:i.jsxs(ae,{children:[i.jsx(Te,{children:i.jsxs(ke,{className:"flex items-center gap-2",children:[i.jsx(En,{className:"h-5 w-5"}),"التفضيلات المكتشفة"]})}),i.jsx(oe,{children:i.jsx("div",{className:"space-y-4",children:t.map(p=>i.jsxs("div",{className:"border rounded-lg p-4",children:[i.jsxs("div",{className:"flex items-start justify-between mb-2",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"font-medium text-gray-900",children:p.category}),i.jsx("p",{className:"text-gray-600 mt-1",children:p.preference})]}),i.jsx(He,{className:f(p.source),children:p.source==="manual"?"يدوي":p.source==="learned"?"متعلم":"مستنتج"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex items-center justify-between text-sm",children:[i.jsx("span",{children:"مستوى الثقة"}),i.jsxs("span",{className:"font-medium",children:[Math.round(p.confidence*100),"%"]})]}),i.jsx(tt,{value:p.confidence*100,className:"h-2"})]}),i.jsxs("div",{className:"flex items-center justify-between mt-3 text-xs text-gray-500",children:[i.jsxs("span",{children:["آخر تحديث: ",p.lastUpdated.toLocaleDateString("ar")]}),i.jsx(xe,{size:"sm",variant:"ghost",children:"تحديث"})]})]},p.id))})})]})}),i.jsx(rt,{value:"patterns",className:"space-y-4",children:i.jsxs(ae,{children:[i.jsx(Te,{children:i.jsxs(ke,{className:"flex items-center gap-2",children:[i.jsx(hs,{className:"h-5 w-5"}),"أنماط التعلم المكتشفة"]})}),i.jsx(oe,{children:i.jsx("div",{className:"space-y-4",children:n.map(p=>i.jsxs("div",{className:"border rounded-lg p-4",children:[i.jsxs("div",{className:"flex items-start justify-between mb-2",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"font-medium text-gray-900",children:p.pattern}),i.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:["السياق: ",p.context]})]}),i.jsxs(He,{variant:"secondary",children:[p.frequency," مرة"]})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4 mt-3",children:[i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center justify-between text-sm mb-1",children:[i.jsx("span",{children:"دقة النمط"}),i.jsxs("span",{className:"font-medium",children:[Math.round(p.accuracy*100),"%"]})]}),i.jsx(tt,{value:p.accuracy*100,className:"h-2"})]}),i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center justify-between text-sm mb-1",children:[i.jsx("span",{children:"تكرار الاستخدام"}),i.jsx("span",{className:"font-medium",children:p.frequency})]}),i.jsx(tt,{value:p.frequency/30*100,className:"h-2"})]})]})]},p.id))})})]})}),i.jsx(rt,{value:"models",className:"space-y-4",children:i.jsxs(ae,{children:[i.jsx(Te,{children:i.jsxs(ke,{className:"flex items-center gap-2",children:[i.jsx(Qn,{className:"h-5 w-5"}),"النماذج التكيفية"]})}),i.jsx(oe,{children:i.jsx("div",{className:"space-y-4",children:s.map((p,m)=>i.jsxs("div",{className:"border rounded-lg p-4",children:[i.jsxs("div",{className:"flex items-start justify-between mb-3",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"font-medium text-gray-900",children:p.name}),i.jsxs("p",{className:"text-sm text-gray-600",children:[p.trainingData," عينة تدريب • آخر تدريب: ",p.lastTrained.toLocaleDateString("ar")]})]}),i.jsx(He,{className:A(p.status),children:p.status==="active"?"نشط":p.status==="training"?"قيد التدريب":"غير نشط"})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center justify-between text-sm mb-1",children:[i.jsx("span",{children:"دقة النموذج"}),i.jsxs("span",{className:"font-medium",children:[Math.round(p.accuracy*100),"%"]})]}),i.jsx(tt,{value:p.accuracy*100,className:"h-2"})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx(xe,{size:"sm",variant:"outline",onClick:()=>v(p.name),disabled:p.status==="training",children:p.status==="training"?"قيد التدريب...":"إعادة تدريب"}),i.jsx(xe,{size:"sm",variant:"ghost",children:"عرض التفاصيل"})]})]})]},m))})})]})}),i.jsx(rt,{value:"settings",className:"space-y-4",children:i.jsxs(ae,{children:[i.jsx(Te,{children:i.jsxs(ke,{className:"flex items-center gap-2",children:[i.jsx(Qr,{className:"h-5 w-5"}),"إعدادات التعلم التكيفي"]})}),i.jsxs(oe,{className:"space-y-6",children:[i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"font-medium",children:"التحديث التلقائي للنماذج"}),i.jsx("p",{className:"text-sm text-gray-600",children:"تحديث النماذج تلقائياً عند توفر بيانات جديدة"})]}),i.jsx(zo,{checked:d,onCheckedChange:h})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("h3",{className:"font-medium",children:"قوة التعلم"}),i.jsxs("span",{className:"text-sm text-gray-600",children:[c[0],"%"]})]}),i.jsx(pi,{value:c,onValueChange:u,max:100,step:5,className:"w-full"}),i.jsx("p",{className:"text-xs text-gray-500",children:"كلما زادت القوة، كان التعلم أسرع ولكن قد يكون أقل دقة"})]})]}),i.jsx("div",{className:"pt-4 border-t",children:i.jsxs(xe,{className:"w-full gap-2",children:[i.jsx(Ar,{className:"h-4 w-4"}),"إعادة تعيين جميع النماذج"]})})]})]})})]})]})};function Pl(t){if(typeof t=="string"||typeof t=="number")return""+t;let e="";if(Array.isArray(t))for(let n=0,r;n<t.length;n++)(r=Pl(t[n]))!==""&&(e+=(e&&" ")+r);else for(let n in t)t[n]&&(e+=(e&&" ")+n);return e}var zL={exports:{}},$L={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ile;function zct(){if(ile)return $L;ile=1;var t=hS(),e=Txe();function n(u,d){return u===d&&(u!==0||1/u===1/d)||u!==u&&d!==d}var r=typeof Object.is=="function"?Object.is:n,s=e.useSyncExternalStore,a=t.useRef,o=t.useEffect,l=t.useMemo,c=t.useDebugValue;return $L.useSyncExternalStoreWithSelector=function(u,d,h,f,A){var v=a(null);if(v.current===null){var p={hasValue:!1,value:null};v.current=p}else p=v.current;v=l(function(){function g(_){if(!x){if(x=!0,b=_,_=f(_),A!==void 0&&p.hasValue){var C=p.value;if(A(C,_))return j=C}return j=_}if(C=j,r(b,_))return C;var k=f(_);return A!==void 0&&A(C,k)?(b=_,C):(b=_,j=k)}var x=!1,b,j,N=h===void 0?null:h;return[function(){return g(d())},N===null?void 0:function(){return g(N())}]},[d,h,f,A]);var m=s(u,v[0],v[1]);return o(function(){p.hasValue=!0,p.value=m},[m]),c(m),m},$L}var sle;function $ct(){return sle||(sle=1,zL.exports=zct()),zL.exports}var Wct=$ct();const qct=wr(Wct),Vct={},ale=t=>{let e;const n=new Set,r=(d,h)=>{const f=typeof d=="function"?d(e):d;if(!Object.is(f,e)){const A=e;e=h??(typeof f!="object"||f===null)?f:Object.assign({},e,f),n.forEach(v=>v(e,A))}},s=()=>e,c={setState:r,getState:s,getInitialState:()=>u,subscribe:d=>(n.add(d),()=>n.delete(d)),destroy:()=>{(Vct?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},u=e=t(r,s,c);return c},Kct=t=>t?ale(t):ale,{useDebugValue:Gct}=pe,{useSyncExternalStoreWithSelector:Xct}=qct,Yct=t=>t;function Qwe(t,e=Yct,n){const r=Xct(t.subscribe,t.getState,t.getServerState||t.getInitialState,e,n);return Gct(r),r}const ole=(t,e)=>{const n=Kct(t),r=(s,a=e)=>Qwe(n,s,a);return Object.assign(r,n),r},Jct=(t,e)=>t?ole(t,e):ole;function Yo(t,e){if(Object.is(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;if(t instanceof Map&&e instanceof Map){if(t.size!==e.size)return!1;for(const[r,s]of t)if(!Object.is(s,e.get(r)))return!1;return!0}if(t instanceof Set&&e instanceof Set){if(t.size!==e.size)return!1;for(const r of t)if(!e.has(r))return!1;return!0}const n=Object.keys(t);if(n.length!==Object.keys(e).length)return!1;for(const r of n)if(!Object.prototype.hasOwnProperty.call(e,r)||!Object.is(t[r],e[r]))return!1;return!0}var Zct={value:()=>{}};function d6(){for(var t=0,e=arguments.length,n={},r;t<e;++t){if(!(r=arguments[t]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new jD(n)}function jD(t){this._=t}function eut(t,e){return t.trim().split(/^|\s+/).map(function(n){var r="",s=n.indexOf(".");if(s>=0&&(r=n.slice(s+1),n=n.slice(0,s)),n&&!e.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}jD.prototype=d6.prototype={constructor:jD,on:function(t,e){var n=this._,r=eut(t+"",n),s,a=-1,o=r.length;if(arguments.length<2){for(;++a<o;)if((s=(t=r[a]).type)&&(s=tut(n[s],t.name)))return s;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++a<o;)if(s=(t=r[a]).type)n[s]=lle(n[s],t.name,e);else if(e==null)for(s in n)n[s]=lle(n[s],t.name,null);return this},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new jD(t)},call:function(t,e){if((s=arguments.length-2)>0)for(var n=new Array(s),r=0,s,a;r<s;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(a=this._[t],r=0,s=a.length;r<s;++r)a[r].value.apply(e,n)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],s=0,a=r.length;s<a;++s)r[s].value.apply(e,n)}};function tut(t,e){for(var n=0,r=t.length,s;n<r;++n)if((s=t[n]).name===e)return s.value}function lle(t,e,n){for(var r=0,s=t.length;r<s;++r)if(t[r].name===e){t[r]=Zct,t=t.slice(0,r).concat(t.slice(r+1));break}return n!=null&&t.push({name:e,value:n}),t}var kH="http://www.w3.org/1999/xhtml";const cle={svg:"http://www.w3.org/2000/svg",xhtml:kH,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function h6(t){var e=t+="",n=e.indexOf(":");return n>=0&&(e=t.slice(0,n))!=="xmlns"&&(t=t.slice(n+1)),cle.hasOwnProperty(e)?{space:cle[e],local:t}:t}function nut(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===kH&&e.documentElement.namespaceURI===kH?e.createElement(t):e.createElementNS(n,t)}}function rut(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function Hwe(t){var e=h6(t);return(e.local?rut:nut)(e)}function iut(){}function Oq(t){return t==null?iut:function(){return this.querySelector(t)}}function sut(t){typeof t!="function"&&(t=Oq(t));for(var e=this._groups,n=e.length,r=new Array(n),s=0;s<n;++s)for(var a=e[s],o=a.length,l=r[s]=new Array(o),c,u,d=0;d<o;++d)(c=a[d])&&(u=t.call(c,c.__data__,d,a))&&("__data__"in c&&(u.__data__=c.__data__),l[d]=u);return new Jc(r,this._parents)}function aut(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function out(){return[]}function zwe(t){return t==null?out:function(){return this.querySelectorAll(t)}}function lut(t){return function(){return aut(t.apply(this,arguments))}}function cut(t){typeof t=="function"?t=lut(t):t=zwe(t);for(var e=this._groups,n=e.length,r=[],s=[],a=0;a<n;++a)for(var o=e[a],l=o.length,c,u=0;u<l;++u)(c=o[u])&&(r.push(t.call(c,c.__data__,u,o)),s.push(c));return new Jc(r,s)}function $we(t){return function(){return this.matches(t)}}function Wwe(t){return function(e){return e.matches(t)}}var uut=Array.prototype.find;function dut(t){return function(){return uut.call(this.children,t)}}function hut(){return this.firstElementChild}function fut(t){return this.select(t==null?hut:dut(typeof t=="function"?t:Wwe(t)))}var Aut=Array.prototype.filter;function put(){return Array.from(this.children)}function mut(t){return function(){return Aut.call(this.children,t)}}function gut(t){return this.selectAll(t==null?put:mut(typeof t=="function"?t:Wwe(t)))}function xut(t){typeof t!="function"&&(t=$we(t));for(var e=this._groups,n=e.length,r=new Array(n),s=0;s<n;++s)for(var a=e[s],o=a.length,l=r[s]=[],c,u=0;u<o;++u)(c=a[u])&&t.call(c,c.__data__,u,a)&&l.push(c);return new Jc(r,this._parents)}function qwe(t){return new Array(t.length)}function vut(){return new Jc(this._enter||this._groups.map(qwe),this._parents)}function ET(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}ET.prototype={constructor:ET,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function yut(t){return function(){return t}}function but(t,e,n,r,s,a){for(var o=0,l,c=e.length,u=a.length;o<u;++o)(l=e[o])?(l.__data__=a[o],r[o]=l):n[o]=new ET(t,a[o]);for(;o<c;++o)(l=e[o])&&(s[o]=l)}function wut(t,e,n,r,s,a,o){var l,c,u=new Map,d=e.length,h=a.length,f=new Array(d),A;for(l=0;l<d;++l)(c=e[l])&&(f[l]=A=o.call(c,c.__data__,l,e)+"",u.has(A)?s[l]=c:u.set(A,c));for(l=0;l<h;++l)A=o.call(t,a[l],l,a)+"",(c=u.get(A))?(r[l]=c,c.__data__=a[l],u.delete(A)):n[l]=new ET(t,a[l]);for(l=0;l<d;++l)(c=e[l])&&u.get(f[l])===c&&(s[l]=c)}function jut(t){return t.__data__}function Nut(t,e){if(!arguments.length)return Array.from(this,jut);var n=e?wut:but,r=this._parents,s=this._groups;typeof t!="function"&&(t=yut(t));for(var a=s.length,o=new Array(a),l=new Array(a),c=new Array(a),u=0;u<a;++u){var d=r[u],h=s[u],f=h.length,A=_ut(t.call(d,d&&d.__data__,u,r)),v=A.length,p=l[u]=new Array(v),m=o[u]=new Array(v),g=c[u]=new Array(f);n(d,h,p,m,g,A,e);for(var x=0,b=0,j,N;x<v;++x)if(j=p[x]){for(x>=b&&(b=x+1);!(N=m[b])&&++b<v;);j._next=N||null}}return o=new Jc(o,r),o._enter=l,o._exit=c,o}function _ut(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function Cut(){return new Jc(this._exit||this._groups.map(qwe),this._parents)}function Sut(t,e,n){var r=this.enter(),s=this,a=this.exit();return typeof t=="function"?(r=t(r),r&&(r=r.selection())):r=r.append(t+""),e!=null&&(s=e(s),s&&(s=s.selection())),n==null?a.remove():n(a),r&&s?r.merge(s).order():s}function Eut(t){for(var e=t.selection?t.selection():t,n=this._groups,r=e._groups,s=n.length,a=r.length,o=Math.min(s,a),l=new Array(s),c=0;c<o;++c)for(var u=n[c],d=r[c],h=u.length,f=l[c]=new Array(h),A,v=0;v<h;++v)(A=u[v]||d[v])&&(f[v]=A);for(;c<s;++c)l[c]=n[c];return new Jc(l,this._parents)}function But(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r=t[e],s=r.length-1,a=r[s],o;--s>=0;)(o=r[s])&&(a&&o.compareDocumentPosition(a)^4&&a.parentNode.insertBefore(o,a),a=o);return this}function Dut(t){t||(t=Tut);function e(h,f){return h&&f?t(h.__data__,f.__data__):!h-!f}for(var n=this._groups,r=n.length,s=new Array(r),a=0;a<r;++a){for(var o=n[a],l=o.length,c=s[a]=new Array(l),u,d=0;d<l;++d)(u=o[d])&&(c[d]=u);c.sort(e)}return new Jc(s,this._parents).order()}function Tut(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function kut(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function Fut(){return Array.from(this)}function Put(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],s=0,a=r.length;s<a;++s){var o=r[s];if(o)return o}return null}function Uut(){let t=0;for(const e of this)++t;return t}function Iut(){return!this.node()}function Out(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var s=e[n],a=0,o=s.length,l;a<o;++a)(l=s[a])&&t.call(l,l.__data__,a,s);return this}function Mut(t){return function(){this.removeAttribute(t)}}function Lut(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Rut(t,e){return function(){this.setAttribute(t,e)}}function Qut(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function Hut(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttribute(t):this.setAttribute(t,n)}}function zut(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function $ut(t,e){var n=h6(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((e==null?n.local?Lut:Mut:typeof e=="function"?n.local?zut:Hut:n.local?Qut:Rut)(n,e))}function Vwe(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function Wut(t){return function(){this.style.removeProperty(t)}}function qut(t,e,n){return function(){this.style.setProperty(t,e,n)}}function Vut(t,e,n){return function(){var r=e.apply(this,arguments);r==null?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}function Kut(t,e,n){return arguments.length>1?this.each((e==null?Wut:typeof e=="function"?Vut:qut)(t,e,n??"")):E2(this.node(),t)}function E2(t,e){return t.style.getPropertyValue(e)||Vwe(t).getComputedStyle(t,null).getPropertyValue(e)}function Gut(t){return function(){delete this[t]}}function Xut(t,e){return function(){this[t]=e}}function Yut(t,e){return function(){var n=e.apply(this,arguments);n==null?delete this[t]:this[t]=n}}function Jut(t,e){return arguments.length>1?this.each((e==null?Gut:typeof e=="function"?Yut:Xut)(t,e)):this.node()[t]}function Kwe(t){return t.trim().split(/^|\s+/)}function Mq(t){return t.classList||new Gwe(t)}function Gwe(t){this._node=t,this._names=Kwe(t.getAttribute("class")||"")}Gwe.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function Xwe(t,e){for(var n=Mq(t),r=-1,s=e.length;++r<s;)n.add(e[r])}function Ywe(t,e){for(var n=Mq(t),r=-1,s=e.length;++r<s;)n.remove(e[r])}function Zut(t){return function(){Xwe(this,t)}}function edt(t){return function(){Ywe(this,t)}}function tdt(t,e){return function(){(e.apply(this,arguments)?Xwe:Ywe)(this,t)}}function ndt(t,e){var n=Kwe(t+"");if(arguments.length<2){for(var r=Mq(this.node()),s=-1,a=n.length;++s<a;)if(!r.contains(n[s]))return!1;return!0}return this.each((typeof e=="function"?tdt:e?Zut:edt)(n,e))}function rdt(){this.textContent=""}function idt(t){return function(){this.textContent=t}}function sdt(t){return function(){var e=t.apply(this,arguments);this.textContent=e??""}}function adt(t){return arguments.length?this.each(t==null?rdt:(typeof t=="function"?sdt:idt)(t)):this.node().textContent}function odt(){this.innerHTML=""}function ldt(t){return function(){this.innerHTML=t}}function cdt(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e??""}}function udt(t){return arguments.length?this.each(t==null?odt:(typeof t=="function"?cdt:ldt)(t)):this.node().innerHTML}function ddt(){this.nextSibling&&this.parentNode.appendChild(this)}function hdt(){return this.each(ddt)}function fdt(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Adt(){return this.each(fdt)}function pdt(t){var e=typeof t=="function"?t:Hwe(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function mdt(){return null}function gdt(t,e){var n=typeof t=="function"?t:Hwe(t),r=e==null?mdt:typeof e=="function"?e:Oq(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function xdt(){var t=this.parentNode;t&&t.removeChild(this)}function vdt(){return this.each(xdt)}function ydt(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function bdt(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function wdt(t){return this.select(t?bdt:ydt)}function jdt(t){return arguments.length?this.property("__data__",t):this.node().__data__}function Ndt(t){return function(e){t.call(this,e,this.__data__)}}function _dt(t){return t.trim().split(/^|\s+/).map(function(e){var n="",r=e.indexOf(".");return r>=0&&(n=e.slice(r+1),e=e.slice(0,r)),{type:e,name:n}})}function Cdt(t){return function(){var e=this.__on;if(e){for(var n=0,r=-1,s=e.length,a;n<s;++n)a=e[n],(!t.type||a.type===t.type)&&a.name===t.name?this.removeEventListener(a.type,a.listener,a.options):e[++r]=a;++r?e.length=r:delete this.__on}}}function Sdt(t,e,n){return function(){var r=this.__on,s,a=Ndt(e);if(r){for(var o=0,l=r.length;o<l;++o)if((s=r[o]).type===t.type&&s.name===t.name){this.removeEventListener(s.type,s.listener,s.options),this.addEventListener(s.type,s.listener=a,s.options=n),s.value=e;return}}this.addEventListener(t.type,a,n),s={type:t.type,name:t.name,value:e,listener:a,options:n},r?r.push(s):this.__on=[s]}}function Edt(t,e,n){var r=_dt(t+""),s,a=r.length,o;if(arguments.length<2){var l=this.node().__on;if(l){for(var c=0,u=l.length,d;c<u;++c)for(s=0,d=l[c];s<a;++s)if((o=r[s]).type===d.type&&o.name===d.name)return d.value}return}for(l=e?Sdt:Cdt,s=0;s<a;++s)this.each(l(r[s],e,n));return this}function Jwe(t,e,n){var r=Vwe(t),s=r.CustomEvent;typeof s=="function"?s=new s(e,n):(s=r.document.createEvent("Event"),n?(s.initEvent(e,n.bubbles,n.cancelable),s.detail=n.detail):s.initEvent(e,!1,!1)),t.dispatchEvent(s)}function Bdt(t,e){return function(){return Jwe(this,t,e)}}function Ddt(t,e){return function(){return Jwe(this,t,e.apply(this,arguments))}}function Tdt(t,e){return this.each((typeof e=="function"?Ddt:Bdt)(t,e))}function*kdt(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],s=0,a=r.length,o;s<a;++s)(o=r[s])&&(yield o)}var Zwe=[null];function Jc(t,e){this._groups=t,this._parents=e}function YS(){return new Jc([[document.documentElement]],Zwe)}function Fdt(){return this}Jc.prototype=YS.prototype={constructor:Jc,select:sut,selectAll:cut,selectChild:fut,selectChildren:gut,filter:xut,data:Nut,enter:vut,exit:Cut,join:Sut,merge:Eut,selection:Fdt,order:But,sort:Dut,call:kut,nodes:Fut,node:Put,size:Uut,empty:Iut,each:Out,attr:$ut,style:Kut,property:Jut,classed:ndt,text:adt,html:udt,raise:hdt,lower:Adt,append:pdt,insert:gdt,remove:vdt,clone:wdt,datum:jdt,on:Edt,dispatch:Tdt,[Symbol.iterator]:kdt};function nh(t){return typeof t=="string"?new Jc([[document.querySelector(t)]],[document.documentElement]):new Jc([[t]],Zwe)}function Pdt(t){let e;for(;e=t.sourceEvent;)t=e;return t}function Zh(t,e){if(t=Pdt(t),e===void 0&&(e=t.currentTarget),e){var n=e.ownerSVGElement||e;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=t.clientX,r.y=t.clientY,r=r.matrixTransform(e.getScreenCTM().inverse()),[r.x,r.y]}if(e.getBoundingClientRect){var s=e.getBoundingClientRect();return[t.clientX-s.left-e.clientLeft,t.clientY-s.top-e.clientTop]}}return[t.pageX,t.pageY]}const Udt={passive:!1},U5={capture:!0,passive:!1};function WL(t){t.stopImmediatePropagation()}function F1(t){t.preventDefault(),t.stopImmediatePropagation()}function e2e(t){var e=t.document.documentElement,n=nh(t).on("dragstart.drag",F1,U5);"onselectstart"in e?n.on("selectstart.drag",F1,U5):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")}function t2e(t,e){var n=t.document.documentElement,r=nh(t).on("dragstart.drag",null);e&&(r.on("click.drag",F1,U5),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}const J4=t=>()=>t;function FH(t,{sourceEvent:e,subject:n,target:r,identifier:s,active:a,x:o,y:l,dx:c,dy:u,dispatch:d}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},identifier:{value:s,enumerable:!0,configurable:!0},active:{value:a,enumerable:!0,configurable:!0},x:{value:o,enumerable:!0,configurable:!0},y:{value:l,enumerable:!0,configurable:!0},dx:{value:c,enumerable:!0,configurable:!0},dy:{value:u,enumerable:!0,configurable:!0},_:{value:d}})}FH.prototype.on=function(){var t=this._.on.apply(this._,arguments);return t===this._?this:t};function Idt(t){return!t.ctrlKey&&!t.button}function Odt(){return this.parentNode}function Mdt(t,e){return e??{x:t.x,y:t.y}}function Ldt(){return navigator.maxTouchPoints||"ontouchstart"in this}function Rdt(){var t=Idt,e=Odt,n=Mdt,r=Ldt,s={},a=d6("start","drag","end"),o=0,l,c,u,d,h=0;function f(j){j.on("mousedown.drag",A).filter(r).on("touchstart.drag",m).on("touchmove.drag",g,Udt).on("touchend.drag touchcancel.drag",x).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function A(j,N){if(!(d||!t.call(this,j,N))){var _=b(this,e.call(this,j,N),j,N,"mouse");_&&(nh(j.view).on("mousemove.drag",v,U5).on("mouseup.drag",p,U5),e2e(j.view),WL(j),u=!1,l=j.clientX,c=j.clientY,_("start",j))}}function v(j){if(F1(j),!u){var N=j.clientX-l,_=j.clientY-c;u=N*N+_*_>h}s.mouse("drag",j)}function p(j){nh(j.view).on("mousemove.drag mouseup.drag",null),t2e(j.view,u),F1(j),s.mouse("end",j)}function m(j,N){if(t.call(this,j,N)){var _=j.changedTouches,C=e.call(this,j,N),k=_.length,T,O;for(T=0;T<k;++T)(O=b(this,C,j,N,_[T].identifier,_[T]))&&(WL(j),O("start",j,_[T]))}}function g(j){var N=j.changedTouches,_=N.length,C,k;for(C=0;C<_;++C)(k=s[N[C].identifier])&&(F1(j),k("drag",j,N[C]))}function x(j){var N=j.changedTouches,_=N.length,C,k;for(d&&clearTimeout(d),d=setTimeout(function(){d=null},500),C=0;C<_;++C)(k=s[N[C].identifier])&&(WL(j),k("end",j,N[C]))}function b(j,N,_,C,k,T){var O=a.copy(),I=Zh(T||_,N),F,M,S;if((S=n.call(j,new FH("beforestart",{sourceEvent:_,target:f,identifier:k,active:o,x:I[0],y:I[1],dx:0,dy:0,dispatch:O}),C))!=null)return F=S.x-I[0]||0,M=S.y-I[1]||0,function q(U,L,z){var $=I,K;switch(U){case"start":s[k]=q,K=o++;break;case"end":delete s[k],--o;case"drag":I=Zh(z||L,N),K=o;break}O.call(U,j,new FH(U,{sourceEvent:L,subject:S,target:f,identifier:k,active:K,x:I[0]+F,y:I[1]+M,dx:I[0]-$[0],dy:I[1]-$[1],dispatch:O}),C)}}return f.filter=function(j){return arguments.length?(t=typeof j=="function"?j:J4(!!j),f):t},f.container=function(j){return arguments.length?(e=typeof j=="function"?j:J4(j),f):e},f.subject=function(j){return arguments.length?(n=typeof j=="function"?j:J4(j),f):n},f.touchable=function(j){return arguments.length?(r=typeof j=="function"?j:J4(!!j),f):r},f.on=function(){var j=a.on.apply(a,arguments);return j===a?f:j},f.clickDistance=function(j){return arguments.length?(h=(j=+j)*j,f):Math.sqrt(h)},f}var B2=0,WN=0,hN=0,n2e=1e3,BT,qN,DT=0,yy=0,f6=0,I5=typeof performance=="object"&&performance.now?performance:Date,r2e=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function Lq(){return yy||(r2e(Qdt),yy=I5.now()+f6)}function Qdt(){yy=0}function TT(){this._call=this._time=this._next=null}TT.prototype=i2e.prototype={constructor:TT,restart:function(t,e,n){if(typeof t!="function")throw new TypeError("callback is not a function");n=(n==null?Lq():+n)+(e==null?0:+e),!this._next&&qN!==this&&(qN?qN._next=this:BT=this,qN=this),this._call=t,this._time=n,PH()},stop:function(){this._call&&(this._call=null,this._time=1/0,PH())}};function i2e(t,e,n){var r=new TT;return r.restart(t,e,n),r}function Hdt(){Lq(),++B2;for(var t=BT,e;t;)(e=yy-t._time)>=0&&t._call.call(void 0,e),t=t._next;--B2}function ule(){yy=(DT=I5.now())+f6,B2=WN=0;try{Hdt()}finally{B2=0,$dt(),yy=0}}function zdt(){var t=I5.now(),e=t-DT;e>n2e&&(f6-=e,DT=t)}function $dt(){for(var t,e=BT,n,r=1/0;e;)e._call?(r>e._time&&(r=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:BT=n);qN=t,PH(r)}function PH(t){if(!B2){WN&&(WN=clearTimeout(WN));var e=t-yy;e>24?(t<1/0&&(WN=setTimeout(ule,t-I5.now()-f6)),hN&&(hN=clearInterval(hN))):(hN||(DT=I5.now(),hN=setInterval(zdt,n2e)),B2=1,r2e(ule))}}function dle(t,e,n){var r=new TT;return e=e==null?0:+e,r.restart(s=>{r.stop(),t(s+e)},e,n),r}var Wdt=d6("start","end","cancel","interrupt"),qdt=[],s2e=0,hle=1,UH=2,ND=3,fle=4,IH=5,_D=6;function A6(t,e,n,r,s,a){var o=t.__transition;if(!o)t.__transition={};else if(n in o)return;Vdt(t,n,{name:e,index:r,group:s,on:Wdt,tween:qdt,time:a.time,delay:a.delay,duration:a.duration,ease:a.ease,timer:null,state:s2e})}function Rq(t,e){var n=jh(t,e);if(n.state>s2e)throw new Error("too late; already scheduled");return n}function qf(t,e){var n=jh(t,e);if(n.state>ND)throw new Error("too late; already running");return n}function jh(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function Vdt(t,e,n){var r=t.__transition,s;r[e]=n,n.timer=i2e(a,0,n.time);function a(u){n.state=hle,n.timer.restart(o,n.delay,n.time),n.delay<=u&&o(u-n.delay)}function o(u){var d,h,f,A;if(n.state!==hle)return c();for(d in r)if(A=r[d],A.name===n.name){if(A.state===ND)return dle(o);A.state===fle?(A.state=_D,A.timer.stop(),A.on.call("interrupt",t,t.__data__,A.index,A.group),delete r[d]):+d<e&&(A.state=_D,A.timer.stop(),A.on.call("cancel",t,t.__data__,A.index,A.group),delete r[d])}if(dle(function(){n.state===ND&&(n.state=fle,n.timer.restart(l,n.delay,n.time),l(u))}),n.state=UH,n.on.call("start",t,t.__data__,n.index,n.group),n.state===UH){for(n.state=ND,s=new Array(f=n.tween.length),d=0,h=-1;d<f;++d)(A=n.tween[d].value.call(t,t.__data__,n.index,n.group))&&(s[++h]=A);s.length=h+1}}function l(u){for(var d=u<n.duration?n.ease.call(null,u/n.duration):(n.timer.restart(c),n.state=IH,1),h=-1,f=s.length;++h<f;)s[h].call(t,d);n.state===IH&&(n.on.call("end",t,t.__data__,n.index,n.group),c())}function c(){n.state=_D,n.timer.stop(),delete r[e];for(var u in r)return;delete t.__transition}}function CD(t,e){var n=t.__transition,r,s,a=!0,o;if(n){e=e==null?null:e+"";for(o in n){if((r=n[o]).name!==e){a=!1;continue}s=r.state>UH&&r.state<IH,r.state=_D,r.timer.stop(),r.on.call(s?"interrupt":"cancel",t,t.__data__,r.index,r.group),delete n[o]}a&&delete t.__transition}}function Kdt(t){return this.each(function(){CD(this,t)})}function Gdt(t,e){var n,r;return function(){var s=qf(this,t),a=s.tween;if(a!==n){r=n=a;for(var o=0,l=r.length;o<l;++o)if(r[o].name===e){r=r.slice(),r.splice(o,1);break}}s.tween=r}}function Xdt(t,e,n){var r,s;if(typeof n!="function")throw new Error;return function(){var a=qf(this,t),o=a.tween;if(o!==r){s=(r=o).slice();for(var l={name:e,value:n},c=0,u=s.length;c<u;++c)if(s[c].name===e){s[c]=l;break}c===u&&s.push(l)}a.tween=s}}function Ydt(t,e){var n=this._id;if(t+="",arguments.length<2){for(var r=jh(this.node(),n).tween,s=0,a=r.length,o;s<a;++s)if((o=r[s]).name===t)return o.value;return null}return this.each((e==null?Gdt:Xdt)(n,t,e))}function Qq(t,e,n){var r=t._id;return t.each(function(){var s=qf(this,r);(s.value||(s.value={}))[e]=n.apply(this,arguments)}),function(s){return jh(s,r).value[e]}}function a2e(t,e){var n;return(typeof e=="number"?eh:e instanceof my?_3:(n=my(e))?(e=n,_3):p0e)(t,e)}function Jdt(t){return function(){this.removeAttribute(t)}}function Zdt(t){return function(){this.removeAttributeNS(t.space,t.local)}}function eht(t,e,n){var r,s=n+"",a;return function(){var o=this.getAttribute(t);return o===s?null:o===r?a:a=e(r=o,n)}}function tht(t,e,n){var r,s=n+"",a;return function(){var o=this.getAttributeNS(t.space,t.local);return o===s?null:o===r?a:a=e(r=o,n)}}function nht(t,e,n){var r,s,a;return function(){var o,l=n(this),c;return l==null?void this.removeAttribute(t):(o=this.getAttribute(t),c=l+"",o===c?null:o===r&&c===s?a:(s=c,a=e(r=o,l)))}}function rht(t,e,n){var r,s,a;return function(){var o,l=n(this),c;return l==null?void this.removeAttributeNS(t.space,t.local):(o=this.getAttributeNS(t.space,t.local),c=l+"",o===c?null:o===r&&c===s?a:(s=c,a=e(r=o,l)))}}function iht(t,e){var n=h6(t),r=n==="transform"?Sze:a2e;return this.attrTween(t,typeof e=="function"?(n.local?rht:nht)(n,r,Qq(this,"attr."+t,e)):e==null?(n.local?Zdt:Jdt)(n):(n.local?tht:eht)(n,r,e))}function sht(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function aht(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function oht(t,e){var n,r;function s(){var a=e.apply(this,arguments);return a!==r&&(n=(r=a)&&aht(t,a)),n}return s._value=e,s}function lht(t,e){var n,r;function s(){var a=e.apply(this,arguments);return a!==r&&(n=(r=a)&&sht(t,a)),n}return s._value=e,s}function cht(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!="function")throw new Error;var r=h6(t);return this.tween(n,(r.local?oht:lht)(r,e))}function uht(t,e){return function(){Rq(this,t).delay=+e.apply(this,arguments)}}function dht(t,e){return e=+e,function(){Rq(this,t).delay=e}}function hht(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?uht:dht)(e,t)):jh(this.node(),e).delay}function fht(t,e){return function(){qf(this,t).duration=+e.apply(this,arguments)}}function Aht(t,e){return e=+e,function(){qf(this,t).duration=e}}function pht(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?fht:Aht)(e,t)):jh(this.node(),e).duration}function mht(t,e){if(typeof e!="function")throw new Error;return function(){qf(this,t).ease=e}}function ght(t){var e=this._id;return arguments.length?this.each(mht(e,t)):jh(this.node(),e).ease}function xht(t,e){return function(){var n=e.apply(this,arguments);if(typeof n!="function")throw new Error;qf(this,t).ease=n}}function vht(t){if(typeof t!="function")throw new Error;return this.each(xht(this._id,t))}function yht(t){typeof t!="function"&&(t=$we(t));for(var e=this._groups,n=e.length,r=new Array(n),s=0;s<n;++s)for(var a=e[s],o=a.length,l=r[s]=[],c,u=0;u<o;++u)(c=a[u])&&t.call(c,c.__data__,u,a)&&l.push(c);return new Op(r,this._parents,this._name,this._id)}function bht(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,s=n.length,a=Math.min(r,s),o=new Array(r),l=0;l<a;++l)for(var c=e[l],u=n[l],d=c.length,h=o[l]=new Array(d),f,A=0;A<d;++A)(f=c[A]||u[A])&&(h[A]=f);for(;l<r;++l)o[l]=e[l];return new Op(o,this._parents,this._name,this._id)}function wht(t){return(t+"").trim().split(/^|\s+/).every(function(e){var n=e.indexOf(".");return n>=0&&(e=e.slice(0,n)),!e||e==="start"})}function jht(t,e,n){var r,s,a=wht(e)?Rq:qf;return function(){var o=a(this,t),l=o.on;l!==r&&(s=(r=l).copy()).on(e,n),o.on=s}}function Nht(t,e){var n=this._id;return arguments.length<2?jh(this.node(),n).on.on(t):this.each(jht(n,t,e))}function _ht(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}function Cht(){return this.on("end.remove",_ht(this._id))}function Sht(t){var e=this._name,n=this._id;typeof t!="function"&&(t=Oq(t));for(var r=this._groups,s=r.length,a=new Array(s),o=0;o<s;++o)for(var l=r[o],c=l.length,u=a[o]=new Array(c),d,h,f=0;f<c;++f)(d=l[f])&&(h=t.call(d,d.__data__,f,l))&&("__data__"in d&&(h.__data__=d.__data__),u[f]=h,A6(u[f],e,n,f,u,jh(d,n)));return new Op(a,this._parents,e,n)}function Eht(t){var e=this._name,n=this._id;typeof t!="function"&&(t=zwe(t));for(var r=this._groups,s=r.length,a=[],o=[],l=0;l<s;++l)for(var c=r[l],u=c.length,d,h=0;h<u;++h)if(d=c[h]){for(var f=t.call(d,d.__data__,h,c),A,v=jh(d,n),p=0,m=f.length;p<m;++p)(A=f[p])&&A6(A,e,n,p,f,v);a.push(f),o.push(d)}return new Op(a,o,e,n)}var Bht=YS.prototype.constructor;function Dht(){return new Bht(this._groups,this._parents)}function Tht(t,e){var n,r,s;return function(){var a=E2(this,t),o=(this.style.removeProperty(t),E2(this,t));return a===o?null:a===n&&o===r?s:s=e(n=a,r=o)}}function o2e(t){return function(){this.style.removeProperty(t)}}function kht(t,e,n){var r,s=n+"",a;return function(){var o=E2(this,t);return o===s?null:o===r?a:a=e(r=o,n)}}function Fht(t,e,n){var r,s,a;return function(){var o=E2(this,t),l=n(this),c=l+"";return l==null&&(c=l=(this.style.removeProperty(t),E2(this,t))),o===c?null:o===r&&c===s?a:(s=c,a=e(r=o,l))}}function Pht(t,e){var n,r,s,a="style."+e,o="end."+a,l;return function(){var c=qf(this,t),u=c.on,d=c.value[a]==null?l||(l=o2e(e)):void 0;(u!==n||s!==d)&&(r=(n=u).copy()).on(o,s=d),c.on=r}}function Uht(t,e,n){var r=(t+="")=="transform"?Cze:a2e;return e==null?this.styleTween(t,Tht(t,r)).on("end.style."+t,o2e(t)):typeof e=="function"?this.styleTween(t,Fht(t,r,Qq(this,"style."+t,e))).each(Pht(this._id,t)):this.styleTween(t,kht(t,r,e),n).on("end.style."+t,null)}function Iht(t,e,n){return function(r){this.style.setProperty(t,e.call(this,r),n)}}function Oht(t,e,n){var r,s;function a(){var o=e.apply(this,arguments);return o!==s&&(r=(s=o)&&Iht(t,o,n)),r}return a._value=e,a}function Mht(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(e==null)return this.tween(r,null);if(typeof e!="function")throw new Error;return this.tween(r,Oht(t,e,n??""))}function Lht(t){return function(){this.textContent=t}}function Rht(t){return function(){var e=t(this);this.textContent=e??""}}function Qht(t){return this.tween("text",typeof t=="function"?Rht(Qq(this,"text",t)):Lht(t==null?"":t+""))}function Hht(t){return function(e){this.textContent=t.call(this,e)}}function zht(t){var e,n;function r(){var s=t.apply(this,arguments);return s!==n&&(e=(n=s)&&Hht(s)),e}return r._value=t,r}function $ht(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!="function")throw new Error;return this.tween(e,zht(t))}function Wht(){for(var t=this._name,e=this._id,n=l2e(),r=this._groups,s=r.length,a=0;a<s;++a)for(var o=r[a],l=o.length,c,u=0;u<l;++u)if(c=o[u]){var d=jh(c,e);A6(c,t,n,u,o,{time:d.time+d.delay+d.duration,delay:0,duration:d.duration,ease:d.ease})}return new Op(r,this._parents,t,n)}function qht(){var t,e,n=this,r=n._id,s=n.size();return new Promise(function(a,o){var l={value:o},c={value:function(){--s===0&&a()}};n.each(function(){var u=qf(this,r),d=u.on;d!==t&&(e=(t=d).copy(),e._.cancel.push(l),e._.interrupt.push(l),e._.end.push(c)),u.on=e}),s===0&&a()})}var Vht=0;function Op(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function l2e(){return++Vht}var DA=YS.prototype;Op.prototype={constructor:Op,select:Sht,selectAll:Eht,selectChild:DA.selectChild,selectChildren:DA.selectChildren,filter:yht,merge:bht,selection:Dht,transition:Wht,call:DA.call,nodes:DA.nodes,node:DA.node,size:DA.size,empty:DA.empty,each:DA.each,on:Nht,attr:iht,attrTween:cht,style:Uht,styleTween:Mht,text:Qht,textTween:$ht,remove:Cht,tween:Ydt,delay:hht,duration:pht,ease:ght,easeVarying:vht,end:qht,[Symbol.iterator]:DA[Symbol.iterator]};function Kht(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var Ght={time:null,delay:0,duration:250,ease:Kht};function Xht(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}function Yht(t){var e,n;t instanceof Op?(e=t._id,t=t._name):(e=l2e(),(n=Ght).time=Lq(),t=t==null?null:t+"");for(var r=this._groups,s=r.length,a=0;a<s;++a)for(var o=r[a],l=o.length,c,u=0;u<l;++u)(c=o[u])&&A6(c,t,e,u,o,n||Xht(c,e));return new Op(r,this._parents,t,e)}YS.prototype.interrupt=Kdt;YS.prototype.transition=Yht;const Z4=t=>()=>t;function Jht(t,{sourceEvent:e,target:n,transform:r,dispatch:s}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:s}})}function pp(t,e,n){this.k=t,this.x=e,this.y=n}pp.prototype={constructor:pp,scale:function(t){return t===1?this:new pp(this.k*t,this.x,this.y)},translate:function(t,e){return t===0&e===0?this:new pp(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Gg=new pp(1,0,0);pp.prototype;function qL(t){t.stopImmediatePropagation()}function fN(t){t.preventDefault(),t.stopImmediatePropagation()}function Zht(t){return(!t.ctrlKey||t.type==="wheel")&&!t.button}function eft(){var t=this;return t instanceof SVGElement?(t=t.ownerSVGElement||t,t.hasAttribute("viewBox")?(t=t.viewBox.baseVal,[[t.x,t.y],[t.x+t.width,t.y+t.height]]):[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]):[[0,0],[t.clientWidth,t.clientHeight]]}function Ale(){return this.__zoom||Gg}function tft(t){return-t.deltaY*(t.deltaMode===1?.05:t.deltaMode?1:.002)*(t.ctrlKey?10:1)}function nft(){return navigator.maxTouchPoints||"ontouchstart"in this}function rft(t,e,n){var r=t.invertX(e[0][0])-n[0][0],s=t.invertX(e[1][0])-n[1][0],a=t.invertY(e[0][1])-n[0][1],o=t.invertY(e[1][1])-n[1][1];return t.translate(s>r?(r+s)/2:Math.min(0,r)||Math.max(0,s),o>a?(a+o)/2:Math.min(0,a)||Math.max(0,o))}function ift(){var t=Zht,e=eft,n=rft,r=tft,s=nft,a=[0,1/0],o=[[-1/0,-1/0],[1/0,1/0]],l=250,c=Tze,u=d6("start","zoom","end"),d,h,f,A=500,v=150,p=0,m=10;function g(S){S.property("__zoom",Ale).on("wheel.zoom",k,{passive:!1}).on("mousedown.zoom",T).on("dblclick.zoom",O).filter(s).on("touchstart.zoom",I).on("touchmove.zoom",F).on("touchend.zoom touchcancel.zoom",M).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}g.transform=function(S,q,U,L){var z=S.selection?S.selection():S;z.property("__zoom",Ale),S!==z?N(S,q,U,L):z.interrupt().each(function(){_(this,arguments).event(L).start().zoom(null,typeof q=="function"?q.apply(this,arguments):q).end()})},g.scaleBy=function(S,q,U,L){g.scaleTo(S,function(){var z=this.__zoom.k,$=typeof q=="function"?q.apply(this,arguments):q;return z*$},U,L)},g.scaleTo=function(S,q,U,L){g.transform(S,function(){var z=e.apply(this,arguments),$=this.__zoom,K=U==null?j(z):typeof U=="function"?U.apply(this,arguments):U,V=$.invert(K),H=typeof q=="function"?q.apply(this,arguments):q;return n(b(x($,H),K,V),z,o)},U,L)},g.translateBy=function(S,q,U,L){g.transform(S,function(){return n(this.__zoom.translate(typeof q=="function"?q.apply(this,arguments):q,typeof U=="function"?U.apply(this,arguments):U),e.apply(this,arguments),o)},null,L)},g.translateTo=function(S,q,U,L,z){g.transform(S,function(){var $=e.apply(this,arguments),K=this.__zoom,V=L==null?j($):typeof L=="function"?L.apply(this,arguments):L;return n(Gg.translate(V[0],V[1]).scale(K.k).translate(typeof q=="function"?-q.apply(this,arguments):-q,typeof U=="function"?-U.apply(this,arguments):-U),$,o)},L,z)};function x(S,q){return q=Math.max(a[0],Math.min(a[1],q)),q===S.k?S:new pp(q,S.x,S.y)}function b(S,q,U){var L=q[0]-U[0]*S.k,z=q[1]-U[1]*S.k;return L===S.x&&z===S.y?S:new pp(S.k,L,z)}function j(S){return[(+S[0][0]+ +S[1][0])/2,(+S[0][1]+ +S[1][1])/2]}function N(S,q,U,L){S.on("start.zoom",function(){_(this,arguments).event(L).start()}).on("interrupt.zoom end.zoom",function(){_(this,arguments).event(L).end()}).tween("zoom",function(){var z=this,$=arguments,K=_(z,$).event(L),V=e.apply(z,$),H=U==null?j(V):typeof U=="function"?U.apply(z,$):U,W=Math.max(V[1][0]-V[0][0],V[1][1]-V[0][1]),Y=z.__zoom,ee=typeof q=="function"?q.apply(z,$):q,ie=c(Y.invert(H).concat(W/Y.k),ee.invert(H).concat(W/ee.k));return function(se){if(se===1)se=ee;else{var Ae=ie(se),he=W/Ae[2];se=new pp(he,H[0]-Ae[0]*he,H[1]-Ae[1]*he)}K.zoom(null,se)}})}function _(S,q,U){return!U&&S.__zooming||new C(S,q)}function C(S,q){this.that=S,this.args=q,this.active=0,this.sourceEvent=null,this.extent=e.apply(S,q),this.taps=0}C.prototype={event:function(S){return S&&(this.sourceEvent=S),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(S,q){return this.mouse&&S!=="mouse"&&(this.mouse[1]=q.invert(this.mouse[0])),this.touch0&&S!=="touch"&&(this.touch0[1]=q.invert(this.touch0[0])),this.touch1&&S!=="touch"&&(this.touch1[1]=q.invert(this.touch1[0])),this.that.__zoom=q,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(S){var q=nh(this.that).datum();u.call(S,this.that,new Jht(S,{sourceEvent:this.sourceEvent,target:g,transform:this.that.__zoom,dispatch:u}),q)}};function k(S,...q){if(!t.apply(this,arguments))return;var U=_(this,q).event(S),L=this.__zoom,z=Math.max(a[0],Math.min(a[1],L.k*Math.pow(2,r.apply(this,arguments)))),$=Zh(S);if(U.wheel)(U.mouse[0][0]!==$[0]||U.mouse[0][1]!==$[1])&&(U.mouse[1]=L.invert(U.mouse[0]=$)),clearTimeout(U.wheel);else{if(L.k===z)return;U.mouse=[$,L.invert($)],CD(this),U.start()}fN(S),U.wheel=setTimeout(K,v),U.zoom("mouse",n(b(x(L,z),U.mouse[0],U.mouse[1]),U.extent,o));function K(){U.wheel=null,U.end()}}function T(S,...q){if(f||!t.apply(this,arguments))return;var U=S.currentTarget,L=_(this,q,!0).event(S),z=nh(S.view).on("mousemove.zoom",H,!0).on("mouseup.zoom",W,!0),$=Zh(S,U),K=S.clientX,V=S.clientY;e2e(S.view),qL(S),L.mouse=[$,this.__zoom.invert($)],CD(this),L.start();function H(Y){if(fN(Y),!L.moved){var ee=Y.clientX-K,ie=Y.clientY-V;L.moved=ee*ee+ie*ie>p}L.event(Y).zoom("mouse",n(b(L.that.__zoom,L.mouse[0]=Zh(Y,U),L.mouse[1]),L.extent,o))}function W(Y){z.on("mousemove.zoom mouseup.zoom",null),t2e(Y.view,L.moved),fN(Y),L.event(Y).end()}}function O(S,...q){if(t.apply(this,arguments)){var U=this.__zoom,L=Zh(S.changedTouches?S.changedTouches[0]:S,this),z=U.invert(L),$=U.k*(S.shiftKey?.5:2),K=n(b(x(U,$),L,z),e.apply(this,q),o);fN(S),l>0?nh(this).transition().duration(l).call(N,K,L,S):nh(this).call(g.transform,K,L,S)}}function I(S,...q){if(t.apply(this,arguments)){var U=S.touches,L=U.length,z=_(this,q,S.changedTouches.length===L).event(S),$,K,V,H;for(qL(S),K=0;K<L;++K)V=U[K],H=Zh(V,this),H=[H,this.__zoom.invert(H),V.identifier],z.touch0?!z.touch1&&z.touch0[2]!==H[2]&&(z.touch1=H,z.taps=0):(z.touch0=H,$=!0,z.taps=1+!!d);d&&(d=clearTimeout(d)),$&&(z.taps<2&&(h=H[0],d=setTimeout(function(){d=null},A)),CD(this),z.start())}}function F(S,...q){if(this.__zooming){var U=_(this,q).event(S),L=S.changedTouches,z=L.length,$,K,V,H;for(fN(S),$=0;$<z;++$)K=L[$],V=Zh(K,this),U.touch0&&U.touch0[2]===K.identifier?U.touch0[0]=V:U.touch1&&U.touch1[2]===K.identifier&&(U.touch1[0]=V);if(K=U.that.__zoom,U.touch1){var W=U.touch0[0],Y=U.touch0[1],ee=U.touch1[0],ie=U.touch1[1],se=(se=ee[0]-W[0])*se+(se=ee[1]-W[1])*se,Ae=(Ae=ie[0]-Y[0])*Ae+(Ae=ie[1]-Y[1])*Ae;K=x(K,Math.sqrt(se/Ae)),V=[(W[0]+ee[0])/2,(W[1]+ee[1])/2],H=[(Y[0]+ie[0])/2,(Y[1]+ie[1])/2]}else if(U.touch0)V=U.touch0[0],H=U.touch0[1];else return;U.zoom("touch",n(b(K,V,H),U.extent,o))}}function M(S,...q){if(this.__zooming){var U=_(this,q).event(S),L=S.changedTouches,z=L.length,$,K;for(qL(S),f&&clearTimeout(f),f=setTimeout(function(){f=null},A),$=0;$<z;++$)K=L[$],U.touch0&&U.touch0[2]===K.identifier?delete U.touch0:U.touch1&&U.touch1[2]===K.identifier&&delete U.touch1;if(U.touch1&&!U.touch0&&(U.touch0=U.touch1,delete U.touch1),U.touch0)U.touch0[1]=this.__zoom.invert(U.touch0[0]);else if(U.end(),U.taps===2&&(K=Zh(K,this),Math.hypot(h[0]-K[0],h[1]-K[1])<m)){var V=nh(this).on("dblclick.zoom");V&&V.apply(this,arguments)}}}return g.wheelDelta=function(S){return arguments.length?(r=typeof S=="function"?S:Z4(+S),g):r},g.filter=function(S){return arguments.length?(t=typeof S=="function"?S:Z4(!!S),g):t},g.touchable=function(S){return arguments.length?(s=typeof S=="function"?S:Z4(!!S),g):s},g.extent=function(S){return arguments.length?(e=typeof S=="function"?S:Z4([[+S[0][0],+S[0][1]],[+S[1][0],+S[1][1]]]),g):e},g.scaleExtent=function(S){return arguments.length?(a[0]=+S[0],a[1]=+S[1],g):[a[0],a[1]]},g.translateExtent=function(S){return arguments.length?(o[0][0]=+S[0][0],o[1][0]=+S[1][0],o[0][1]=+S[0][1],o[1][1]=+S[1][1],g):[[o[0][0],o[0][1]],[o[1][0],o[1][1]]]},g.constrain=function(S){return arguments.length?(n=S,g):n},g.duration=function(S){return arguments.length?(l=+S,g):l},g.interpolate=function(S){return arguments.length?(c=S,g):c},g.on=function(){var S=u.on.apply(u,arguments);return S===u?g:S},g.clickDistance=function(S){return arguments.length?(p=(S=+S)*S,g):Math.sqrt(p)},g.tapDistance=function(S){return arguments.length?(m=+S,g):m},g}const p6=E.createContext(null),sft=p6.Provider,Mp={error001:()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001",error002:()=>"It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.",error003:t=>`Node type "${t}" not found. Using fallback type "default".`,error004:()=>"The React Flow parent container needs a width and a height to render the graph.",error005:()=>"Only child nodes can use a parent extent.",error006:()=>"Can't create edge. An edge needs a source and a target.",error007:t=>`The old edge with id=${t} does not exist.`,error009:t=>`Marker type "${t}" doesn't exist.`,error008:(t,e)=>`Couldn't create edge for ${t?"target":"source"} handle id: "${t?e.targetHandle:e.sourceHandle}", edge id: ${e.id}.`,error010:()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",error011:t=>`Edge type "${t}" not found. Using fallback type "default".`,error012:t=>`Node with id "${t}" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.`},c2e=Mp.error001();function fs(t,e){const n=E.useContext(p6);if(n===null)throw new Error(c2e);return Qwe(n,t,e)}const Ka=()=>{const t=E.useContext(p6);if(t===null)throw new Error(c2e);return E.useMemo(()=>({getState:t.getState,setState:t.setState,subscribe:t.subscribe,destroy:t.destroy}),[t])},aft=t=>t.userSelectionActive?"none":"all";function u2e({position:t,children:e,className:n,style:r,...s}){const a=fs(aft),o=`${t}`.split("-");return pe.createElement("div",{className:Pl(["react-flow__panel",n,...o]),style:{...r,pointerEvents:a},...s},e)}function oft({proOptions:t,position:e="bottom-right"}){return t!=null&&t.hideAttribution?null:pe.createElement(u2e,{position:e,className:"react-flow__attribution","data-message":"Please only hide this attribution when you are subscribed to React Flow Pro: https://reactflow.dev/pro"},pe.createElement("a",{href:"https://reactflow.dev",target:"_blank",rel:"noopener noreferrer","aria-label":"React Flow attribution"},"React Flow"))}const lft=({x:t,y:e,label:n,labelStyle:r={},labelShowBg:s=!0,labelBgStyle:a={},labelBgPadding:o=[2,4],labelBgBorderRadius:l=2,children:c,className:u,...d})=>{const h=E.useRef(null),[f,A]=E.useState({x:0,y:0,width:0,height:0}),v=Pl(["react-flow__edge-textwrapper",u]);return E.useEffect(()=>{if(h.current){const p=h.current.getBBox();A({x:p.x,y:p.y,width:p.width,height:p.height})}},[n]),typeof n>"u"||!n?null:pe.createElement("g",{transform:`translate(${t-f.width/2} ${e-f.height/2})`,className:v,visibility:f.width?"visible":"hidden",...d},s&&pe.createElement("rect",{width:f.width+2*o[0],x:-o[0],y:-o[1],height:f.height+2*o[1],className:"react-flow__edge-textbg",style:a,rx:l,ry:l}),pe.createElement("text",{className:"react-flow__edge-text",y:f.height/2,dy:"0.3em",ref:h,style:r},n),c)};var cft=E.memo(lft);const Hq=t=>({width:t.offsetWidth,height:t.offsetHeight}),D2=(t,e=0,n=1)=>Math.min(Math.max(t,e),n),zq=(t={x:0,y:0},e)=>({x:D2(t.x,e[0][0],e[1][0]),y:D2(t.y,e[0][1],e[1][1])}),ple=(t,e,n)=>t<e?D2(Math.abs(t-e),1,50)/50:t>n?-D2(Math.abs(t-n),1,50)/50:0,d2e=(t,e)=>{const n=ple(t.x,35,e.width-35)*20,r=ple(t.y,35,e.height-35)*20;return[n,r]},h2e=t=>{var e;return((e=t.getRootNode)==null?void 0:e.call(t))||(window==null?void 0:window.document)},uft=(t,e)=>({x:Math.min(t.x,e.x),y:Math.min(t.y,e.y),x2:Math.max(t.x2,e.x2),y2:Math.max(t.y2,e.y2)}),$q=({x:t,y:e,width:n,height:r})=>({x:t,y:e,x2:t+n,y2:e+r}),dft=({x:t,y:e,x2:n,y2:r})=>({x:t,y:e,width:n-t,height:r-e}),mle=t=>({...t.positionAbsolute||{x:0,y:0},width:t.width||0,height:t.height||0}),OH=(t,e)=>{const n=Math.max(0,Math.min(t.x+t.width,e.x+e.width)-Math.max(t.x,e.x)),r=Math.max(0,Math.min(t.y+t.height,e.y+e.height)-Math.max(t.y,e.y));return Math.ceil(n*r)},hft=t=>zu(t.width)&&zu(t.height)&&zu(t.x)&&zu(t.y),zu=t=>!isNaN(t)&&isFinite(t),_s=Symbol.for("internals"),f2e=["Enter"," ","Escape"],fft=(t,e)=>{},Aft=t=>"nativeEvent"in t;function MH(t){var s,a;const e=Aft(t)?t.nativeEvent:t,n=((a=(s=e.composedPath)==null?void 0:s.call(e))==null?void 0:a[0])||t.target;return["INPUT","SELECT","TEXTAREA"].includes(n==null?void 0:n.nodeName)||(n==null?void 0:n.hasAttribute("contenteditable"))||!!(n!=null&&n.closest(".nokey"))}const A2e=t=>"clientX"in t,Xg=(t,e)=>{var a,o;const n=A2e(t),r=n?t.clientX:(a=t.touches)==null?void 0:a[0].clientX,s=n?t.clientY:(o=t.touches)==null?void 0:o[0].clientY;return{x:r-((e==null?void 0:e.left)??0),y:s-((e==null?void 0:e.top)??0)}},kT=()=>{var t;return typeof navigator<"u"&&((t=navigator==null?void 0:navigator.userAgent)==null?void 0:t.indexOf("Mac"))>=0},JS=({id:t,path:e,labelX:n,labelY:r,label:s,labelStyle:a,labelShowBg:o,labelBgStyle:l,labelBgPadding:c,labelBgBorderRadius:u,style:d,markerEnd:h,markerStart:f,interactionWidth:A=20})=>pe.createElement(pe.Fragment,null,pe.createElement("path",{id:t,style:d,d:e,fill:"none",className:"react-flow__edge-path",markerEnd:h,markerStart:f}),A&&pe.createElement("path",{d:e,fill:"none",strokeOpacity:0,strokeWidth:A,className:"react-flow__edge-interaction"}),s&&zu(n)&&zu(r)?pe.createElement(cft,{x:n,y:r,label:s,labelStyle:a,labelShowBg:o,labelBgStyle:l,labelBgPadding:c,labelBgBorderRadius:u}):null);JS.displayName="BaseEdge";function AN(t,e,n){return n===void 0?n:r=>{const s=e().edges.find(a=>a.id===t);s&&n(r,{...s})}}function p2e({sourceX:t,sourceY:e,targetX:n,targetY:r}){const s=Math.abs(n-t)/2,a=n<t?n+s:n-s,o=Math.abs(r-e)/2,l=r<e?r+o:r-o;return[a,l,s,o]}function m2e({sourceX:t,sourceY:e,targetX:n,targetY:r,sourceControlX:s,sourceControlY:a,targetControlX:o,targetControlY:l}){const c=t*.125+s*.375+o*.375+n*.125,u=e*.125+a*.375+l*.375+r*.125,d=Math.abs(c-t),h=Math.abs(u-e);return[c,u,d,h]}var by;(function(t){t.Strict="strict",t.Loose="loose"})(by||(by={}));var Qv;(function(t){t.Free="free",t.Vertical="vertical",t.Horizontal="horizontal"})(Qv||(Qv={}));var O5;(function(t){t.Partial="partial",t.Full="full"})(O5||(O5={}));var ng;(function(t){t.Bezier="default",t.Straight="straight",t.Step="step",t.SmoothStep="smoothstep",t.SimpleBezier="simplebezier"})(ng||(ng={}));var FT;(function(t){t.Arrow="arrow",t.ArrowClosed="arrowclosed"})(FT||(FT={}));var pn;(function(t){t.Left="left",t.Top="top",t.Right="right",t.Bottom="bottom"})(pn||(pn={}));function gle({pos:t,x1:e,y1:n,x2:r,y2:s}){return t===pn.Left||t===pn.Right?[.5*(e+r),n]:[e,.5*(n+s)]}function g2e({sourceX:t,sourceY:e,sourcePosition:n=pn.Bottom,targetX:r,targetY:s,targetPosition:a=pn.Top}){const[o,l]=gle({pos:n,x1:t,y1:e,x2:r,y2:s}),[c,u]=gle({pos:a,x1:r,y1:s,x2:t,y2:e}),[d,h,f,A]=m2e({sourceX:t,sourceY:e,targetX:r,targetY:s,sourceControlX:o,sourceControlY:l,targetControlX:c,targetControlY:u});return[`M${t},${e} C${o},${l} ${c},${u} ${r},${s}`,d,h,f,A]}const Wq=E.memo(({sourceX:t,sourceY:e,targetX:n,targetY:r,sourcePosition:s=pn.Bottom,targetPosition:a=pn.Top,label:o,labelStyle:l,labelShowBg:c,labelBgStyle:u,labelBgPadding:d,labelBgBorderRadius:h,style:f,markerEnd:A,markerStart:v,interactionWidth:p})=>{const[m,g,x]=g2e({sourceX:t,sourceY:e,sourcePosition:s,targetX:n,targetY:r,targetPosition:a});return pe.createElement(JS,{path:m,labelX:g,labelY:x,label:o,labelStyle:l,labelShowBg:c,labelBgStyle:u,labelBgPadding:d,labelBgBorderRadius:h,style:f,markerEnd:A,markerStart:v,interactionWidth:p})});Wq.displayName="SimpleBezierEdge";const xle={[pn.Left]:{x:-1,y:0},[pn.Right]:{x:1,y:0},[pn.Top]:{x:0,y:-1},[pn.Bottom]:{x:0,y:1}},pft=({source:t,sourcePosition:e=pn.Bottom,target:n})=>e===pn.Left||e===pn.Right?t.x<n.x?{x:1,y:0}:{x:-1,y:0}:t.y<n.y?{x:0,y:1}:{x:0,y:-1},vle=(t,e)=>Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2));function mft({source:t,sourcePosition:e=pn.Bottom,target:n,targetPosition:r=pn.Top,center:s,offset:a}){const o=xle[e],l=xle[r],c={x:t.x+o.x*a,y:t.y+o.y*a},u={x:n.x+l.x*a,y:n.y+l.y*a},d=pft({source:c,sourcePosition:e,target:u}),h=d.x!==0?"x":"y",f=d[h];let A=[],v,p;const m={x:0,y:0},g={x:0,y:0},[x,b,j,N]=p2e({sourceX:t.x,sourceY:t.y,targetX:n.x,targetY:n.y});if(o[h]*l[h]===-1){v=s.x??x,p=s.y??b;const C=[{x:v,y:c.y},{x:v,y:u.y}],k=[{x:c.x,y:p},{x:u.x,y:p}];o[h]===f?A=h==="x"?C:k:A=h==="x"?k:C}else{const C=[{x:c.x,y:u.y}],k=[{x:u.x,y:c.y}];if(h==="x"?A=o.x===f?k:C:A=o.y===f?C:k,e===r){const M=Math.abs(t[h]-n[h]);if(M<=a){const S=Math.min(a-1,a-M);o[h]===f?m[h]=(c[h]>t[h]?-1:1)*S:g[h]=(u[h]>n[h]?-1:1)*S}}if(e!==r){const M=h==="x"?"y":"x",S=o[h]===l[M],q=c[M]>u[M],U=c[M]<u[M];(o[h]===1&&(!S&&q||S&&U)||o[h]!==1&&(!S&&U||S&&q))&&(A=h==="x"?C:k)}const T={x:c.x+m.x,y:c.y+m.y},O={x:u.x+g.x,y:u.y+g.y},I=Math.max(Math.abs(T.x-A[0].x),Math.abs(O.x-A[0].x)),F=Math.max(Math.abs(T.y-A[0].y),Math.abs(O.y-A[0].y));I>=F?(v=(T.x+O.x)/2,p=A[0].y):(v=A[0].x,p=(T.y+O.y)/2)}return[[t,{x:c.x+m.x,y:c.y+m.y},...A,{x:u.x+g.x,y:u.y+g.y},n],v,p,j,N]}function gft(t,e,n,r){const s=Math.min(vle(t,e)/2,vle(e,n)/2,r),{x:a,y:o}=e;if(t.x===a&&a===n.x||t.y===o&&o===n.y)return`L${a} ${o}`;if(t.y===o){const u=t.x<n.x?-1:1,d=t.y<n.y?1:-1;return`L ${a+s*u},${o}Q ${a},${o} ${a},${o+s*d}`}const l=t.x<n.x?1:-1,c=t.y<n.y?-1:1;return`L ${a},${o+s*c}Q ${a},${o} ${a+s*l},${o}`}function LH({sourceX:t,sourceY:e,sourcePosition:n=pn.Bottom,targetX:r,targetY:s,targetPosition:a=pn.Top,borderRadius:o=5,centerX:l,centerY:c,offset:u=20}){const[d,h,f,A,v]=mft({source:{x:t,y:e},sourcePosition:n,target:{x:r,y:s},targetPosition:a,center:{x:l,y:c},offset:u});return[d.reduce((m,g,x)=>{let b="";return x>0&&x<d.length-1?b=gft(d[x-1],g,d[x+1],o):b=`${x===0?"M":"L"}${g.x} ${g.y}`,m+=b,m},""),h,f,A,v]}const m6=E.memo(({sourceX:t,sourceY:e,targetX:n,targetY:r,label:s,labelStyle:a,labelShowBg:o,labelBgStyle:l,labelBgPadding:c,labelBgBorderRadius:u,style:d,sourcePosition:h=pn.Bottom,targetPosition:f=pn.Top,markerEnd:A,markerStart:v,pathOptions:p,interactionWidth:m})=>{const[g,x,b]=LH({sourceX:t,sourceY:e,sourcePosition:h,targetX:n,targetY:r,targetPosition:f,borderRadius:p==null?void 0:p.borderRadius,offset:p==null?void 0:p.offset});return pe.createElement(JS,{path:g,labelX:x,labelY:b,label:s,labelStyle:a,labelShowBg:o,labelBgStyle:l,labelBgPadding:c,labelBgBorderRadius:u,style:d,markerEnd:A,markerStart:v,interactionWidth:m})});m6.displayName="SmoothStepEdge";const qq=E.memo(t=>{var e;return pe.createElement(m6,{...t,pathOptions:E.useMemo(()=>{var n;return{borderRadius:0,offset:(n=t.pathOptions)==null?void 0:n.offset}},[(e=t.pathOptions)==null?void 0:e.offset])})});qq.displayName="StepEdge";function xft({sourceX:t,sourceY:e,targetX:n,targetY:r}){const[s,a,o,l]=p2e({sourceX:t,sourceY:e,targetX:n,targetY:r});return[`M ${t},${e}L ${n},${r}`,s,a,o,l]}const Vq=E.memo(({sourceX:t,sourceY:e,targetX:n,targetY:r,label:s,labelStyle:a,labelShowBg:o,labelBgStyle:l,labelBgPadding:c,labelBgBorderRadius:u,style:d,markerEnd:h,markerStart:f,interactionWidth:A})=>{const[v,p,m]=xft({sourceX:t,sourceY:e,targetX:n,targetY:r});return pe.createElement(JS,{path:v,labelX:p,labelY:m,label:s,labelStyle:a,labelShowBg:o,labelBgStyle:l,labelBgPadding:c,labelBgBorderRadius:u,style:d,markerEnd:h,markerStart:f,interactionWidth:A})});Vq.displayName="StraightEdge";function eB(t,e){return t>=0?.5*t:e*25*Math.sqrt(-t)}function yle({pos:t,x1:e,y1:n,x2:r,y2:s,c:a}){switch(t){case pn.Left:return[e-eB(e-r,a),n];case pn.Right:return[e+eB(r-e,a),n];case pn.Top:return[e,n-eB(n-s,a)];case pn.Bottom:return[e,n+eB(s-n,a)]}}function x2e({sourceX:t,sourceY:e,sourcePosition:n=pn.Bottom,targetX:r,targetY:s,targetPosition:a=pn.Top,curvature:o=.25}){const[l,c]=yle({pos:n,x1:t,y1:e,x2:r,y2:s,c:o}),[u,d]=yle({pos:a,x1:r,y1:s,x2:t,y2:e,c:o}),[h,f,A,v]=m2e({sourceX:t,sourceY:e,targetX:r,targetY:s,sourceControlX:l,sourceControlY:c,targetControlX:u,targetControlY:d});return[`M${t},${e} C${l},${c} ${u},${d} ${r},${s}`,h,f,A,v]}const PT=E.memo(({sourceX:t,sourceY:e,targetX:n,targetY:r,sourcePosition:s=pn.Bottom,targetPosition:a=pn.Top,label:o,labelStyle:l,labelShowBg:c,labelBgStyle:u,labelBgPadding:d,labelBgBorderRadius:h,style:f,markerEnd:A,markerStart:v,pathOptions:p,interactionWidth:m})=>{const[g,x,b]=x2e({sourceX:t,sourceY:e,sourcePosition:s,targetX:n,targetY:r,targetPosition:a,curvature:p==null?void 0:p.curvature});return pe.createElement(JS,{path:g,labelX:x,labelY:b,label:o,labelStyle:l,labelShowBg:c,labelBgStyle:u,labelBgPadding:d,labelBgBorderRadius:h,style:f,markerEnd:A,markerStart:v,interactionWidth:m})});PT.displayName="BezierEdge";const Kq=E.createContext(null),vft=Kq.Provider;Kq.Consumer;const yft=()=>E.useContext(Kq),bft=t=>"id"in t&&"source"in t&&"target"in t,wft=({source:t,sourceHandle:e,target:n,targetHandle:r})=>`reactflow__edge-${t}${e||""}-${n}${r||""}`,RH=(t,e)=>typeof t>"u"?"":typeof t=="string"?t:`${e?`${e}__`:""}${Object.keys(t).sort().map(r=>`${r}=${t[r]}`).join("&")}`,jft=(t,e)=>e.some(n=>n.source===t.source&&n.target===t.target&&(n.sourceHandle===t.sourceHandle||!n.sourceHandle&&!t.sourceHandle)&&(n.targetHandle===t.targetHandle||!n.targetHandle&&!t.targetHandle)),v2e=(t,e)=>{if(!t.source||!t.target)return e;let n;return bft(t)?n={...t}:n={...t,id:wft(t)},jft(n,e)?e:e.concat(n)},QH=({x:t,y:e},[n,r,s],a,[o,l])=>{const c={x:(t-n)/s,y:(e-r)/s};return a?{x:o*Math.round(c.x/o),y:l*Math.round(c.y/l)}:c},y2e=({x:t,y:e},[n,r,s])=>({x:t*s+n,y:e*s+r}),P1=(t,e=[0,0])=>{if(!t)return{x:0,y:0,positionAbsolute:{x:0,y:0}};const n=(t.width??0)*e[0],r=(t.height??0)*e[1],s={x:t.position.x-n,y:t.position.y-r};return{...s,positionAbsolute:t.positionAbsolute?{x:t.positionAbsolute.x-n,y:t.positionAbsolute.y-r}:s}},Gq=(t,e=[0,0])=>{if(t.length===0)return{x:0,y:0,width:0,height:0};const n=t.reduce((r,s)=>{const{x:a,y:o}=P1(s,e).positionAbsolute;return uft(r,$q({x:a,y:o,width:s.width||0,height:s.height||0}))},{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return dft(n)},b2e=(t,e,[n,r,s]=[0,0,1],a=!1,o=!1,l=[0,0])=>{const c={x:(e.x-n)/s,y:(e.y-r)/s,width:e.width/s,height:e.height/s},u=[];return t.forEach(d=>{const{width:h,height:f,selectable:A=!0,hidden:v=!1}=d;if(o&&!A||v)return!1;const{positionAbsolute:p}=P1(d,l),m={x:p.x,y:p.y,width:h||0,height:f||0},g=OH(c,m),x=typeof h>"u"||typeof f>"u"||h===null||f===null,b=a&&g>0,j=(h||0)*(f||0);(x||b||g>=j||d.dragging)&&u.push(d)}),u},w2e=(t,e)=>{const n=t.map(r=>r.id);return e.filter(r=>n.includes(r.source)||n.includes(r.target))},j2e=(t,e,n,r,s,a=.1)=>{const o=e/(t.width*(1+a)),l=n/(t.height*(1+a)),c=Math.min(o,l),u=D2(c,r,s),d=t.x+t.width/2,h=t.y+t.height/2,f=e/2-d*u,A=n/2-h*u;return{x:f,y:A,zoom:u}},wv=(t,e=0)=>t.transition().duration(e);function ble(t,e,n,r){return(e[n]||[]).reduce((s,a)=>{var o,l;return`${t.id}-${a.id}-${n}`!==r&&s.push({id:a.id||null,type:n,nodeId:t.id,x:(((o=t.positionAbsolute)==null?void 0:o.x)??0)+a.x+a.width/2,y:(((l=t.positionAbsolute)==null?void 0:l.y)??0)+a.y+a.height/2}),s},[])}function Nft(t,e,n,r,s,a){const{x:o,y:l}=Xg(t),u=e.elementsFromPoint(o,l).find(v=>v.classList.contains("react-flow__handle"));if(u){const v=u.getAttribute("data-nodeid");if(v){const p=Xq(void 0,u),m=u.getAttribute("data-handleid"),g=a({nodeId:v,id:m,type:p});if(g){const x=s.find(b=>b.nodeId===v&&b.type===p&&b.id===m);return{handle:{id:m,type:p,nodeId:v,x:(x==null?void 0:x.x)||n.x,y:(x==null?void 0:x.y)||n.y},validHandleResult:g}}}}let d=[],h=1/0;if(s.forEach(v=>{const p=Math.sqrt((v.x-n.x)**2+(v.y-n.y)**2);if(p<=r){const m=a(v);p<=h&&(p<h?d=[{handle:v,validHandleResult:m}]:p===h&&d.push({handle:v,validHandleResult:m}),h=p)}}),!d.length)return{handle:null,validHandleResult:N2e()};if(d.length===1)return d[0];const f=d.some(({validHandleResult:v})=>v.isValid),A=d.some(({handle:v})=>v.type==="target");return d.find(({handle:v,validHandleResult:p})=>A?v.type==="target":f?p.isValid:!0)||d[0]}const _ft={source:null,target:null,sourceHandle:null,targetHandle:null},N2e=()=>({handleDomNode:null,isValid:!1,connection:_ft,endHandle:null});function _2e(t,e,n,r,s,a,o){const l=s==="target",c=o.querySelector(`.react-flow__handle[data-id="${t==null?void 0:t.nodeId}-${t==null?void 0:t.id}-${t==null?void 0:t.type}"]`),u={...N2e(),handleDomNode:c};if(c){const d=Xq(void 0,c),h=c.getAttribute("data-nodeid"),f=c.getAttribute("data-handleid"),A=c.classList.contains("connectable"),v=c.classList.contains("connectableend"),p={source:l?h:n,sourceHandle:l?f:r,target:l?n:h,targetHandle:l?r:f};u.connection=p,A&&v&&(e===by.Strict?l&&d==="source"||!l&&d==="target":h!==n||f!==r)&&(u.endHandle={nodeId:h,handleId:f,type:d},u.isValid=a(p))}return u}function Cft({nodes:t,nodeId:e,handleId:n,handleType:r}){return t.reduce((s,a)=>{if(a[_s]){const{handleBounds:o}=a[_s];let l=[],c=[];o&&(l=ble(a,o,"source",`${e}-${n}-${r}`),c=ble(a,o,"target",`${e}-${n}-${r}`)),s.push(...l,...c)}return s},[])}function Xq(t,e){return t||(e!=null&&e.classList.contains("target")?"target":e!=null&&e.classList.contains("source")?"source":null)}function VL(t){t==null||t.classList.remove("valid","connecting","react-flow__handle-valid","react-flow__handle-connecting")}function Sft(t,e){let n=null;return e?n="valid":t&&!e&&(n="invalid"),n}function C2e({event:t,handleId:e,nodeId:n,onConnect:r,isTarget:s,getState:a,setState:o,isValidConnection:l,edgeUpdaterType:c,onReconnectEnd:u}){const d=h2e(t.target),{connectionMode:h,domNode:f,autoPanOnConnect:A,connectionRadius:v,onConnectStart:p,panBy:m,getNodes:g,cancelConnection:x}=a();let b=0,j;const{x:N,y:_}=Xg(t),C=d==null?void 0:d.elementFromPoint(N,_),k=Xq(c,C),T=f==null?void 0:f.getBoundingClientRect();if(!T||!k)return;let O,I=Xg(t,T),F=!1,M=null,S=!1,q=null;const U=Cft({nodes:g(),nodeId:n,handleId:e,handleType:k}),L=()=>{if(!A)return;const[K,V]=d2e(I,T);m({x:K,y:V}),b=requestAnimationFrame(L)};o({connectionPosition:I,connectionStatus:null,connectionNodeId:n,connectionHandleId:e,connectionHandleType:k,connectionStartHandle:{nodeId:n,handleId:e,type:k},connectionEndHandle:null}),p==null||p(t,{nodeId:n,handleId:e,handleType:k});function z(K){const{transform:V}=a();I=Xg(K,T);const{handle:H,validHandleResult:W}=Nft(K,d,QH(I,V,!1,[1,1]),v,U,Y=>_2e(Y,h,n,e,s?"target":"source",l,d));if(j=H,F||(L(),F=!0),q=W.handleDomNode,M=W.connection,S=W.isValid,o({connectionPosition:j&&S?y2e({x:j.x,y:j.y},V):I,connectionStatus:Sft(!!j,S),connectionEndHandle:W.endHandle}),!j&&!S&&!q)return VL(O);M.source!==M.target&&q&&(VL(O),O=q,q.classList.add("connecting","react-flow__handle-connecting"),q.classList.toggle("valid",S),q.classList.toggle("react-flow__handle-valid",S))}function $(K){var V,H;(j||q)&&M&&S&&(r==null||r(M)),(H=(V=a()).onConnectEnd)==null||H.call(V,K),c&&(u==null||u(K)),VL(O),x(),cancelAnimationFrame(b),F=!1,S=!1,M=null,q=null,d.removeEventListener("mousemove",z),d.removeEventListener("mouseup",$),d.removeEventListener("touchmove",z),d.removeEventListener("touchend",$)}d.addEventListener("mousemove",z),d.addEventListener("mouseup",$),d.addEventListener("touchmove",z),d.addEventListener("touchend",$)}const wle=()=>!0,Eft=t=>({connectionStartHandle:t.connectionStartHandle,connectOnClick:t.connectOnClick,noPanClassName:t.noPanClassName}),Bft=(t,e,n)=>r=>{const{connectionStartHandle:s,connectionEndHandle:a,connectionClickStartHandle:o}=r;return{connecting:(s==null?void 0:s.nodeId)===t&&(s==null?void 0:s.handleId)===e&&(s==null?void 0:s.type)===n||(a==null?void 0:a.nodeId)===t&&(a==null?void 0:a.handleId)===e&&(a==null?void 0:a.type)===n,clickConnecting:(o==null?void 0:o.nodeId)===t&&(o==null?void 0:o.handleId)===e&&(o==null?void 0:o.type)===n}},S2e=E.forwardRef(({type:t="source",position:e=pn.Top,isValidConnection:n,isConnectable:r=!0,isConnectableStart:s=!0,isConnectableEnd:a=!0,id:o,onConnect:l,children:c,className:u,onMouseDown:d,onTouchStart:h,...f},A)=>{var T,O;const v=o||null,p=t==="target",m=Ka(),g=yft(),{connectOnClick:x,noPanClassName:b}=fs(Eft,Yo),{connecting:j,clickConnecting:N}=fs(Bft(g,v,t),Yo);g||(O=(T=m.getState()).onError)==null||O.call(T,"010",Mp.error010());const _=I=>{const{defaultEdgeOptions:F,onConnect:M,hasDefaultEdges:S}=m.getState(),q={...F,...I};if(S){const{edges:U,setEdges:L}=m.getState();L(v2e(q,U))}M==null||M(q),l==null||l(q)},C=I=>{if(!g)return;const F=A2e(I);s&&(F&&I.button===0||!F)&&C2e({event:I,handleId:v,nodeId:g,onConnect:_,isTarget:p,getState:m.getState,setState:m.setState,isValidConnection:n||m.getState().isValidConnection||wle}),F?d==null||d(I):h==null||h(I)},k=I=>{const{onClickConnectStart:F,onClickConnectEnd:M,connectionClickStartHandle:S,connectionMode:q,isValidConnection:U}=m.getState();if(!g||!S&&!s)return;if(!S){F==null||F(I,{nodeId:g,handleId:v,handleType:t}),m.setState({connectionClickStartHandle:{nodeId:g,type:t,handleId:v}});return}const L=h2e(I.target),z=n||U||wle,{connection:$,isValid:K}=_2e({nodeId:g,id:v,type:t},q,S.nodeId,S.handleId||null,S.type,z,L);K&&_($),M==null||M(I),m.setState({connectionClickStartHandle:null})};return pe.createElement("div",{"data-handleid":v,"data-nodeid":g,"data-handlepos":e,"data-id":`${g}-${v}-${t}`,className:Pl(["react-flow__handle",`react-flow__handle-${e}`,"nodrag",b,u,{source:!p,target:p,connectable:r,connectablestart:s,connectableend:a,connecting:N,connectionindicator:r&&(s&&!j||a&&j)}]),onMouseDown:C,onTouchStart:C,onClick:x?k:void 0,ref:A,...f},c)});S2e.displayName="Handle";var T2=E.memo(S2e);const E2e=({data:t,isConnectable:e,targetPosition:n=pn.Top,sourcePosition:r=pn.Bottom})=>pe.createElement(pe.Fragment,null,pe.createElement(T2,{type:"target",position:n,isConnectable:e}),t==null?void 0:t.label,pe.createElement(T2,{type:"source",position:r,isConnectable:e}));E2e.displayName="DefaultNode";var HH=E.memo(E2e);const B2e=({data:t,isConnectable:e,sourcePosition:n=pn.Bottom})=>pe.createElement(pe.Fragment,null,t==null?void 0:t.label,pe.createElement(T2,{type:"source",position:n,isConnectable:e}));B2e.displayName="InputNode";var D2e=E.memo(B2e);const T2e=({data:t,isConnectable:e,targetPosition:n=pn.Top})=>pe.createElement(pe.Fragment,null,pe.createElement(T2,{type:"target",position:n,isConnectable:e}),t==null?void 0:t.label);T2e.displayName="OutputNode";var k2e=E.memo(T2e);const Yq=()=>null;Yq.displayName="GroupNode";const Dft=t=>({selectedNodes:t.getNodes().filter(e=>e.selected),selectedEdges:t.edges.filter(e=>e.selected).map(e=>({...e}))}),tB=t=>t.id;function Tft(t,e){return Yo(t.selectedNodes.map(tB),e.selectedNodes.map(tB))&&Yo(t.selectedEdges.map(tB),e.selectedEdges.map(tB))}const F2e=E.memo(({onSelectionChange:t})=>{const e=Ka(),{selectedNodes:n,selectedEdges:r}=fs(Dft,Tft);return E.useEffect(()=>{const s={nodes:n,edges:r};t==null||t(s),e.getState().onSelectionChange.forEach(a=>a(s))},[n,r,t]),null});F2e.displayName="SelectionListener";const kft=t=>!!t.onSelectionChange;function Fft({onSelectionChange:t}){const e=fs(kft);return t||e?pe.createElement(F2e,{onSelectionChange:t}):null}const Pft=t=>({setNodes:t.setNodes,setEdges:t.setEdges,setDefaultNodesAndEdges:t.setDefaultNodesAndEdges,setMinZoom:t.setMinZoom,setMaxZoom:t.setMaxZoom,setTranslateExtent:t.setTranslateExtent,setNodeExtent:t.setNodeExtent,reset:t.reset});function Ub(t,e){E.useEffect(()=>{typeof t<"u"&&e(t)},[t])}function sr(t,e,n){E.useEffect(()=>{typeof e<"u"&&n({[t]:e})},[e])}const Uft=({nodes:t,edges:e,defaultNodes:n,defaultEdges:r,onConnect:s,onConnectStart:a,onConnectEnd:o,onClickConnectStart:l,onClickConnectEnd:c,nodesDraggable:u,nodesConnectable:d,nodesFocusable:h,edgesFocusable:f,edgesUpdatable:A,elevateNodesOnSelect:v,minZoom:p,maxZoom:m,nodeExtent:g,onNodesChange:x,onEdgesChange:b,elementsSelectable:j,connectionMode:N,snapGrid:_,snapToGrid:C,translateExtent:k,connectOnClick:T,defaultEdgeOptions:O,fitView:I,fitViewOptions:F,onNodesDelete:M,onEdgesDelete:S,onNodeDrag:q,onNodeDragStart:U,onNodeDragStop:L,onSelectionDrag:z,onSelectionDragStart:$,onSelectionDragStop:K,noPanClassName:V,nodeOrigin:H,rfId:W,autoPanOnConnect:Y,autoPanOnNodeDrag:ee,onError:ie,connectionRadius:se,isValidConnection:Ae,nodeDragThreshold:he})=>{const{setNodes:Be,setEdges:Me,setDefaultNodesAndEdges:Ie,setMinZoom:Ye,setMaxZoom:X,setTranslateExtent:ue,setNodeExtent:re,reset:de}=fs(Pft,Yo),ce=Ka();return E.useEffect(()=>{const Ne=r==null?void 0:r.map($e=>({...$e,...O}));return Ie(n,Ne),()=>{de()}},[]),sr("defaultEdgeOptions",O,ce.setState),sr("connectionMode",N,ce.setState),sr("onConnect",s,ce.setState),sr("onConnectStart",a,ce.setState),sr("onConnectEnd",o,ce.setState),sr("onClickConnectStart",l,ce.setState),sr("onClickConnectEnd",c,ce.setState),sr("nodesDraggable",u,ce.setState),sr("nodesConnectable",d,ce.setState),sr("nodesFocusable",h,ce.setState),sr("edgesFocusable",f,ce.setState),sr("edgesUpdatable",A,ce.setState),sr("elementsSelectable",j,ce.setState),sr("elevateNodesOnSelect",v,ce.setState),sr("snapToGrid",C,ce.setState),sr("snapGrid",_,ce.setState),sr("onNodesChange",x,ce.setState),sr("onEdgesChange",b,ce.setState),sr("connectOnClick",T,ce.setState),sr("fitViewOnInit",I,ce.setState),sr("fitViewOnInitOptions",F,ce.setState),sr("onNodesDelete",M,ce.setState),sr("onEdgesDelete",S,ce.setState),sr("onNodeDrag",q,ce.setState),sr("onNodeDragStart",U,ce.setState),sr("onNodeDragStop",L,ce.setState),sr("onSelectionDrag",z,ce.setState),sr("onSelectionDragStart",$,ce.setState),sr("onSelectionDragStop",K,ce.setState),sr("noPanClassName",V,ce.setState),sr("nodeOrigin",H,ce.setState),sr("rfId",W,ce.setState),sr("autoPanOnConnect",Y,ce.setState),sr("autoPanOnNodeDrag",ee,ce.setState),sr("onError",ie,ce.setState),sr("connectionRadius",se,ce.setState),sr("isValidConnection",Ae,ce.setState),sr("nodeDragThreshold",he,ce.setState),Ub(t,Be),Ub(e,Me),Ub(p,Ye),Ub(m,X),Ub(k,ue),Ub(g,re),null},jle={display:"none"},Ift={position:"absolute",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)",clipPath:"inset(100%)"},P2e="react-flow__node-desc",U2e="react-flow__edge-desc",Oft="react-flow__aria-live",Mft=t=>t.ariaLiveMessage;function Lft({rfId:t}){const e=fs(Mft);return pe.createElement("div",{id:`${Oft}-${t}`,"aria-live":"assertive","aria-atomic":"true",style:Ift},e)}function Rft({rfId:t,disableKeyboardA11y:e}){return pe.createElement(pe.Fragment,null,pe.createElement("div",{id:`${P2e}-${t}`,style:jle},"Press enter or space to select a node.",!e&&"You can then use the arrow keys to move the node around."," Press delete to remove it and escape to cancel."," "),pe.createElement("div",{id:`${U2e}-${t}`,style:jle},"Press enter or space to select an edge. You can then press delete to remove it or escape to cancel."),!e&&pe.createElement(Lft,{rfId:t}))}var M5=(t=null,e={actInsideInputWithModifier:!0})=>{const[n,r]=E.useState(!1),s=E.useRef(!1),a=E.useRef(new Set([])),[o,l]=E.useMemo(()=>{if(t!==null){const u=(Array.isArray(t)?t:[t]).filter(h=>typeof h=="string").map(h=>h.split("+")),d=u.reduce((h,f)=>h.concat(...f),[]);return[u,d]}return[[],[]]},[t]);return E.useEffect(()=>{const c=typeof document<"u"?document:null,u=(e==null?void 0:e.target)||c;if(t!==null){const d=A=>{if(s.current=A.ctrlKey||A.metaKey||A.shiftKey,(!s.current||s.current&&!e.actInsideInputWithModifier)&&MH(A))return!1;const p=_le(A.code,l);a.current.add(A[p]),Nle(o,a.current,!1)&&(A.preventDefault(),r(!0))},h=A=>{if((!s.current||s.current&&!e.actInsideInputWithModifier)&&MH(A))return!1;const p=_le(A.code,l);Nle(o,a.current,!0)?(r(!1),a.current.clear()):a.current.delete(A[p]),A.key==="Meta"&&a.current.clear(),s.current=!1},f=()=>{a.current.clear(),r(!1)};return u==null||u.addEventListener("keydown",d),u==null||u.addEventListener("keyup",h),window.addEventListener("blur",f),()=>{u==null||u.removeEventListener("keydown",d),u==null||u.removeEventListener("keyup",h),window.removeEventListener("blur",f)}}},[t,r]),n};function Nle(t,e,n){return t.filter(r=>n||r.length===e.size).some(r=>r.every(s=>e.has(s)))}function _le(t,e){return e.includes(t)?"code":"key"}function I2e(t,e,n,r){var l,c;const s=t.parentNode||t.parentId;if(!s)return n;const a=e.get(s),o=P1(a,r);return I2e(a,e,{x:(n.x??0)+o.x,y:(n.y??0)+o.y,z:(((l=a[_s])==null?void 0:l.z)??0)>(n.z??0)?((c=a[_s])==null?void 0:c.z)??0:n.z??0},r)}function O2e(t,e,n){t.forEach(r=>{var a;const s=r.parentNode||r.parentId;if(s&&!t.has(s))throw new Error(`Parent node ${s} not found`);if(s||n!=null&&n[r.id]){const{x:o,y:l,z:c}=I2e(r,t,{...r.position,z:((a=r[_s])==null?void 0:a.z)??0},e);r.positionAbsolute={x:o,y:l},r[_s].z=c,n!=null&&n[r.id]&&(r[_s].isParent=!0)}})}function KL(t,e,n,r){const s=new Map,a={},o=r?1e3:0;return t.forEach(l=>{var A;const c=(zu(l.zIndex)?l.zIndex:0)+(l.selected?o:0),u=e.get(l.id),d={...l,positionAbsolute:{x:l.position.x,y:l.position.y}},h=l.parentNode||l.parentId;h&&(a[h]=!0);const f=(u==null?void 0:u.type)&&(u==null?void 0:u.type)!==l.type;Object.defineProperty(d,_s,{enumerable:!1,value:{handleBounds:f||(A=u==null?void 0:u[_s])==null?void 0:A.handleBounds,z:c}}),s.set(l.id,d)}),O2e(s,n,a),s}function M2e(t,e={}){const{getNodes:n,width:r,height:s,minZoom:a,maxZoom:o,d3Zoom:l,d3Selection:c,fitViewOnInitDone:u,fitViewOnInit:d,nodeOrigin:h}=t(),f=e.initial&&!u&&d;if(l&&c&&(f||!e.initial)){const v=n().filter(m=>{var x;const g=e.includeHiddenNodes?m.width&&m.height:!m.hidden;return(x=e.nodes)!=null&&x.length?g&&e.nodes.some(b=>b.id===m.id):g}),p=v.every(m=>m.width&&m.height);if(v.length>0&&p){const m=Gq(v,h),{x:g,y:x,zoom:b}=j2e(m,r,s,e.minZoom??a,e.maxZoom??o,e.padding??.1),j=Gg.translate(g,x).scale(b);return typeof e.duration=="number"&&e.duration>0?l.transform(wv(c,e.duration),j):l.transform(c,j),!0}}return!1}function Qft(t,e){return t.forEach(n=>{const r=e.get(n.id);r&&e.set(r.id,{...r,[_s]:r[_s],selected:n.selected})}),new Map(e)}function Hft(t,e){return e.map(n=>{const r=t.find(s=>s.id===n.id);return r&&(n.selected=r.selected),n})}function nB({changedNodes:t,changedEdges:e,get:n,set:r}){const{nodeInternals:s,edges:a,onNodesChange:o,onEdgesChange:l,hasDefaultNodes:c,hasDefaultEdges:u}=n();t!=null&&t.length&&(c&&r({nodeInternals:Qft(t,s)}),o==null||o(t)),e!=null&&e.length&&(u&&r({edges:Hft(e,a)}),l==null||l(e))}const Ib=()=>{},zft={zoomIn:Ib,zoomOut:Ib,zoomTo:Ib,getZoom:()=>1,setViewport:Ib,getViewport:()=>({x:0,y:0,zoom:1}),fitView:()=>!1,setCenter:Ib,fitBounds:Ib,project:t=>t,screenToFlowPosition:t=>t,flowToScreenPosition:t=>t,viewportInitialized:!1},$ft=t=>({d3Zoom:t.d3Zoom,d3Selection:t.d3Selection}),Wft=()=>{const t=Ka(),{d3Zoom:e,d3Selection:n}=fs($ft,Yo);return E.useMemo(()=>n&&e?{zoomIn:s=>e.scaleBy(wv(n,s==null?void 0:s.duration),1.2),zoomOut:s=>e.scaleBy(wv(n,s==null?void 0:s.duration),1/1.2),zoomTo:(s,a)=>e.scaleTo(wv(n,a==null?void 0:a.duration),s),getZoom:()=>t.getState().transform[2],setViewport:(s,a)=>{const[o,l,c]=t.getState().transform,u=Gg.translate(s.x??o,s.y??l).scale(s.zoom??c);e.transform(wv(n,a==null?void 0:a.duration),u)},getViewport:()=>{const[s,a,o]=t.getState().transform;return{x:s,y:a,zoom:o}},fitView:s=>M2e(t.getState,s),setCenter:(s,a,o)=>{const{width:l,height:c,maxZoom:u}=t.getState(),d=typeof(o==null?void 0:o.zoom)<"u"?o.zoom:u,h=l/2-s*d,f=c/2-a*d,A=Gg.translate(h,f).scale(d);e.transform(wv(n,o==null?void 0:o.duration),A)},fitBounds:(s,a)=>{const{width:o,height:l,minZoom:c,maxZoom:u}=t.getState(),{x:d,y:h,zoom:f}=j2e(s,o,l,c,u,(a==null?void 0:a.padding)??.1),A=Gg.translate(d,h).scale(f);e.transform(wv(n,a==null?void 0:a.duration),A)},project:s=>{const{transform:a,snapToGrid:o,snapGrid:l}=t.getState();return console.warn("[DEPRECATED] `project` is deprecated. Instead use `screenToFlowPosition`. There is no need to subtract the react flow bounds anymore! https://reactflow.dev/api-reference/types/react-flow-instance#screen-to-flow-position"),QH(s,a,o,l)},screenToFlowPosition:s=>{const{transform:a,snapToGrid:o,snapGrid:l,domNode:c}=t.getState();if(!c)return s;const{x:u,y:d}=c.getBoundingClientRect(),h={x:s.x-u,y:s.y-d};return QH(h,a,o,l)},flowToScreenPosition:s=>{const{transform:a,domNode:o}=t.getState();if(!o)return s;const{x:l,y:c}=o.getBoundingClientRect(),u=y2e(s,a);return{x:u.x+l,y:u.y+c}},viewportInitialized:!0}:zft,[e,n])};function Jq(){const t=Wft(),e=Ka(),n=E.useCallback(()=>e.getState().getNodes().map(p=>({...p})),[]),r=E.useCallback(p=>e.getState().nodeInternals.get(p),[]),s=E.useCallback(()=>{const{edges:p=[]}=e.getState();return p.map(m=>({...m}))},[]),a=E.useCallback(p=>{const{edges:m=[]}=e.getState();return m.find(g=>g.id===p)},[]),o=E.useCallback(p=>{const{getNodes:m,setNodes:g,hasDefaultNodes:x,onNodesChange:b}=e.getState(),j=m(),N=typeof p=="function"?p(j):p;if(x)g(N);else if(b){const _=N.length===0?j.map(C=>({type:"remove",id:C.id})):N.map(C=>({item:C,type:"reset"}));b(_)}},[]),l=E.useCallback(p=>{const{edges:m=[],setEdges:g,hasDefaultEdges:x,onEdgesChange:b}=e.getState(),j=typeof p=="function"?p(m):p;if(x)g(j);else if(b){const N=j.length===0?m.map(_=>({type:"remove",id:_.id})):j.map(_=>({item:_,type:"reset"}));b(N)}},[]),c=E.useCallback(p=>{const m=Array.isArray(p)?p:[p],{getNodes:g,setNodes:x,hasDefaultNodes:b,onNodesChange:j}=e.getState();if(b){const _=[...g(),...m];x(_)}else if(j){const N=m.map(_=>({item:_,type:"add"}));j(N)}},[]),u=E.useCallback(p=>{const m=Array.isArray(p)?p:[p],{edges:g=[],setEdges:x,hasDefaultEdges:b,onEdgesChange:j}=e.getState();if(b)x([...g,...m]);else if(j){const N=m.map(_=>({item:_,type:"add"}));j(N)}},[]),d=E.useCallback(()=>{const{getNodes:p,edges:m=[],transform:g}=e.getState(),[x,b,j]=g;return{nodes:p().map(N=>({...N})),edges:m.map(N=>({...N})),viewport:{x,y:b,zoom:j}}},[]),h=E.useCallback(({nodes:p,edges:m})=>{const{nodeInternals:g,getNodes:x,edges:b,hasDefaultNodes:j,hasDefaultEdges:N,onNodesDelete:_,onEdgesDelete:C,onNodesChange:k,onEdgesChange:T}=e.getState(),O=(p||[]).map(q=>q.id),I=(m||[]).map(q=>q.id),F=x().reduce((q,U)=>{const L=U.parentNode||U.parentId,z=!O.includes(U.id)&&L&&q.find(K=>K.id===L);return(typeof U.deletable=="boolean"?U.deletable:!0)&&(O.includes(U.id)||z)&&q.push(U),q},[]),M=b.filter(q=>typeof q.deletable=="boolean"?q.deletable:!0),S=M.filter(q=>I.includes(q.id));if(F||S){const q=w2e(F,M),U=[...S,...q],L=U.reduce((z,$)=>(z.includes($.id)||z.push($.id),z),[]);if((N||j)&&(N&&e.setState({edges:b.filter(z=>!L.includes(z.id))}),j&&(F.forEach(z=>{g.delete(z.id)}),e.setState({nodeInternals:new Map(g)}))),L.length>0&&(C==null||C(U),T&&T(L.map(z=>({id:z,type:"remove"})))),F.length>0&&(_==null||_(F),k)){const z=F.map($=>({id:$.id,type:"remove"}));k(z)}}},[]),f=E.useCallback(p=>{const m=hft(p),g=m?null:e.getState().nodeInternals.get(p.id);return!m&&!g?[null,null,m]:[m?p:mle(g),g,m]},[]),A=E.useCallback((p,m=!0,g)=>{const[x,b,j]=f(p);return x?(g||e.getState().getNodes()).filter(N=>{if(!j&&(N.id===b.id||!N.positionAbsolute))return!1;const _=mle(N),C=OH(_,x);return m&&C>0||C>=x.width*x.height}):[]},[]),v=E.useCallback((p,m,g=!0)=>{const[x]=f(p);if(!x)return!1;const b=OH(x,m);return g&&b>0||b>=x.width*x.height},[]);return E.useMemo(()=>({...t,getNodes:n,getNode:r,getEdges:s,getEdge:a,setNodes:o,setEdges:l,addNodes:c,addEdges:u,toObject:d,deleteElements:h,getIntersectingNodes:A,isNodeIntersecting:v}),[t,n,r,s,a,o,l,c,u,d,h,A,v])}const qft={actInsideInputWithModifier:!1};var Vft=({deleteKeyCode:t,multiSelectionKeyCode:e})=>{const n=Ka(),{deleteElements:r}=Jq(),s=M5(t,qft),a=M5(e);E.useEffect(()=>{if(s){const{edges:o,getNodes:l}=n.getState(),c=l().filter(d=>d.selected),u=o.filter(d=>d.selected);r({nodes:c,edges:u}),n.setState({nodesSelectionActive:!1})}},[s]),E.useEffect(()=>{n.setState({multiSelectionActive:a})},[a])};function Kft(t){const e=Ka();E.useEffect(()=>{let n;const r=()=>{var a,o;if(!t.current)return;const s=Hq(t.current);(s.height===0||s.width===0)&&((o=(a=e.getState()).onError)==null||o.call(a,"004",Mp.error004())),e.setState({width:s.width||500,height:s.height||500})};return r(),window.addEventListener("resize",r),t.current&&(n=new ResizeObserver(()=>r()),n.observe(t.current)),()=>{window.removeEventListener("resize",r),n&&t.current&&n.unobserve(t.current)}},[])}const Zq={position:"absolute",width:"100%",height:"100%",top:0,left:0},Gft=(t,e)=>t.x!==e.x||t.y!==e.y||t.zoom!==e.k,rB=t=>({x:t.x,y:t.y,zoom:t.k}),Ob=(t,e)=>t.target.closest(`.${e}`),Cle=(t,e)=>e===2&&Array.isArray(t)&&t.includes(2),Sle=t=>{const e=t.ctrlKey&&kT()?10:1;return-t.deltaY*(t.deltaMode===1?.05:t.deltaMode?1:.002)*e},Xft=t=>({d3Zoom:t.d3Zoom,d3Selection:t.d3Selection,d3ZoomHandler:t.d3ZoomHandler,userSelectionActive:t.userSelectionActive}),Yft=({onMove:t,onMoveStart:e,onMoveEnd:n,onPaneContextMenu:r,zoomOnScroll:s=!0,zoomOnPinch:a=!0,panOnScroll:o=!1,panOnScrollSpeed:l=.5,panOnScrollMode:c=Qv.Free,zoomOnDoubleClick:u=!0,elementsSelectable:d,panOnDrag:h=!0,defaultViewport:f,translateExtent:A,minZoom:v,maxZoom:p,zoomActivationKeyCode:m,preventScrolling:g=!0,children:x,noWheelClassName:b,noPanClassName:j})=>{const N=E.useRef(),_=Ka(),C=E.useRef(!1),k=E.useRef(!1),T=E.useRef(null),O=E.useRef({x:0,y:0,zoom:0}),{d3Zoom:I,d3Selection:F,d3ZoomHandler:M,userSelectionActive:S}=fs(Xft,Yo),q=M5(m),U=E.useRef(0),L=E.useRef(!1),z=E.useRef();return Kft(T),E.useEffect(()=>{if(T.current){const $=T.current.getBoundingClientRect(),K=ift().scaleExtent([v,p]).translateExtent(A),V=nh(T.current).call(K),H=Gg.translate(f.x,f.y).scale(D2(f.zoom,v,p)),W=[[0,0],[$.width,$.height]],Y=K.constrain()(H,W,A);K.transform(V,Y),K.wheelDelta(Sle),_.setState({d3Zoom:K,d3Selection:V,d3ZoomHandler:V.on("wheel.zoom"),transform:[Y.x,Y.y,Y.k],domNode:T.current.closest(".react-flow")})}},[]),E.useEffect(()=>{F&&I&&(o&&!q&&!S?F.on("wheel.zoom",$=>{if(Ob($,b))return!1;$.preventDefault(),$.stopImmediatePropagation();const K=F.property("__zoom").k||1;if($.ctrlKey&&a){const Ae=Zh($),he=Sle($),Be=K*Math.pow(2,he);I.scaleTo(F,Be,Ae,$);return}const V=$.deltaMode===1?20:1;let H=c===Qv.Vertical?0:$.deltaX*V,W=c===Qv.Horizontal?0:$.deltaY*V;!kT()&&$.shiftKey&&c!==Qv.Vertical&&(H=$.deltaY*V,W=0),I.translateBy(F,-(H/K)*l,-(W/K)*l,{internal:!0});const Y=rB(F.property("__zoom")),{onViewportChangeStart:ee,onViewportChange:ie,onViewportChangeEnd:se}=_.getState();clearTimeout(z.current),L.current||(L.current=!0,e==null||e($,Y),ee==null||ee(Y)),L.current&&(t==null||t($,Y),ie==null||ie(Y),z.current=setTimeout(()=>{n==null||n($,Y),se==null||se(Y),L.current=!1},150))},{passive:!1}):typeof M<"u"&&F.on("wheel.zoom",function($,K){if(!g&&$.type==="wheel"&&!$.ctrlKey||Ob($,b))return null;$.preventDefault(),M.call(this,$,K)},{passive:!1}))},[S,o,c,F,I,M,q,a,g,b,e,t,n]),E.useEffect(()=>{I&&I.on("start",$=>{var H,W;if(!$.sourceEvent||$.sourceEvent.internal)return null;U.current=(H=$.sourceEvent)==null?void 0:H.button;const{onViewportChangeStart:K}=_.getState(),V=rB($.transform);C.current=!0,O.current=V,((W=$.sourceEvent)==null?void 0:W.type)==="mousedown"&&_.setState({paneDragging:!0}),K==null||K(V),e==null||e($.sourceEvent,V)})},[I,e]),E.useEffect(()=>{I&&(S&&!C.current?I.on("zoom",null):S||I.on("zoom",$=>{var V;const{onViewportChange:K}=_.getState();if(_.setState({transform:[$.transform.x,$.transform.y,$.transform.k]}),k.current=!!(r&&Cle(h,U.current??0)),(t||K)&&!((V=$.sourceEvent)!=null&&V.internal)){const H=rB($.transform);K==null||K(H),t==null||t($.sourceEvent,H)}}))},[S,I,t,h,r]),E.useEffect(()=>{I&&I.on("end",$=>{if(!$.sourceEvent||$.sourceEvent.internal)return null;const{onViewportChangeEnd:K}=_.getState();if(C.current=!1,_.setState({paneDragging:!1}),r&&Cle(h,U.current??0)&&!k.current&&r($.sourceEvent),k.current=!1,(n||K)&&Gft(O.current,$.transform)){const V=rB($.transform);O.current=V,clearTimeout(N.current),N.current=setTimeout(()=>{K==null||K(V),n==null||n($.sourceEvent,V)},o?150:0)}})},[I,o,h,n,r]),E.useEffect(()=>{I&&I.filter($=>{const K=q||s,V=a&&$.ctrlKey;if((h===!0||Array.isArray(h)&&h.includes(1))&&$.button===1&&$.type==="mousedown"&&(Ob($,"react-flow__node")||Ob($,"react-flow__edge")))return!0;if(!h&&!K&&!o&&!u&&!a||S||!u&&$.type==="dblclick"||Ob($,b)&&$.type==="wheel"||Ob($,j)&&($.type!=="wheel"||o&&$.type==="wheel"&&!q)||!a&&$.ctrlKey&&$.type==="wheel"||!K&&!o&&!V&&$.type==="wheel"||!h&&($.type==="mousedown"||$.type==="touchstart")||Array.isArray(h)&&!h.includes($.button)&&$.type==="mousedown")return!1;const H=Array.isArray(h)&&h.includes($.button)||!$.button||$.button<=1;return(!$.ctrlKey||$.type==="wheel")&&H})},[S,I,s,a,o,u,h,d,q]),pe.createElement("div",{className:"react-flow__renderer",ref:T,style:Zq},x)},Jft=t=>({userSelectionActive:t.userSelectionActive,userSelectionRect:t.userSelectionRect});function Zft(){const{userSelectionActive:t,userSelectionRect:e}=fs(Jft,Yo);return t&&e?pe.createElement("div",{className:"react-flow__selection react-flow__container",style:{width:e.width,height:e.height,transform:`translate(${e.x}px, ${e.y}px)`}}):null}function Ele(t,e){const n=e.parentNode||e.parentId,r=t.find(s=>s.id===n);if(r){const s=e.position.x+e.width-r.width,a=e.position.y+e.height-r.height;if(s>0||a>0||e.position.x<0||e.position.y<0){if(r.style={...r.style},r.style.width=r.style.width??r.width,r.style.height=r.style.height??r.height,s>0&&(r.style.width+=s),a>0&&(r.style.height+=a),e.position.x<0){const o=Math.abs(e.position.x);r.position.x=r.position.x-o,r.style.width+=o,e.position.x=0}if(e.position.y<0){const o=Math.abs(e.position.y);r.position.y=r.position.y-o,r.style.height+=o,e.position.y=0}r.width=r.style.width,r.height=r.style.height}}}function L2e(t,e){if(t.some(r=>r.type==="reset"))return t.filter(r=>r.type==="reset").map(r=>r.item);const n=t.filter(r=>r.type==="add").map(r=>r.item);return e.reduce((r,s)=>{const a=t.filter(l=>l.id===s.id);if(a.length===0)return r.push(s),r;const o={...s};for(const l of a)if(l)switch(l.type){case"select":{o.selected=l.selected;break}case"position":{typeof l.position<"u"&&(o.position=l.position),typeof l.positionAbsolute<"u"&&(o.positionAbsolute=l.positionAbsolute),typeof l.dragging<"u"&&(o.dragging=l.dragging),o.expandParent&&Ele(r,o);break}case"dimensions":{typeof l.dimensions<"u"&&(o.width=l.dimensions.width,o.height=l.dimensions.height),typeof l.updateStyle<"u"&&(o.style={...o.style||{},...l.dimensions}),typeof l.resizing=="boolean"&&(o.resizing=l.resizing),o.expandParent&&Ele(r,o);break}case"remove":return r}return r.push(o),r},n)}function R2e(t,e){return L2e(t,e)}function eAt(t,e){return L2e(t,e)}const Zm=(t,e)=>({id:t,type:"select",selected:e});function d1(t,e){return t.reduce((n,r)=>{const s=e.includes(r.id);return!r.selected&&s?(r.selected=!0,n.push(Zm(r.id,!0))):r.selected&&!s&&(r.selected=!1,n.push(Zm(r.id,!1))),n},[])}const GL=(t,e)=>n=>{n.target===e.current&&(t==null||t(n))},tAt=t=>({userSelectionActive:t.userSelectionActive,elementsSelectable:t.elementsSelectable,dragging:t.paneDragging}),Q2e=E.memo(({isSelecting:t,selectionMode:e=O5.Full,panOnDrag:n,onSelectionStart:r,onSelectionEnd:s,onPaneClick:a,onPaneContextMenu:o,onPaneScroll:l,onPaneMouseEnter:c,onPaneMouseMove:u,onPaneMouseLeave:d,children:h})=>{const f=E.useRef(null),A=Ka(),v=E.useRef(0),p=E.useRef(0),m=E.useRef(),{userSelectionActive:g,elementsSelectable:x,dragging:b}=fs(tAt,Yo),j=()=>{A.setState({userSelectionActive:!1,userSelectionRect:null}),v.current=0,p.current=0},N=M=>{a==null||a(M),A.getState().resetSelectedElements(),A.setState({nodesSelectionActive:!1})},_=M=>{if(Array.isArray(n)&&(n!=null&&n.includes(2))){M.preventDefault();return}o==null||o(M)},C=l?M=>l(M):void 0,k=M=>{const{resetSelectedElements:S,domNode:q}=A.getState();if(m.current=q==null?void 0:q.getBoundingClientRect(),!x||!t||M.button!==0||M.target!==f.current||!m.current)return;const{x:U,y:L}=Xg(M,m.current);S(),A.setState({userSelectionRect:{width:0,height:0,startX:U,startY:L,x:U,y:L}}),r==null||r(M)},T=M=>{const{userSelectionRect:S,nodeInternals:q,edges:U,transform:L,onNodesChange:z,onEdgesChange:$,nodeOrigin:K,getNodes:V}=A.getState();if(!t||!m.current||!S)return;A.setState({userSelectionActive:!0,nodesSelectionActive:!1});const H=Xg(M,m.current),W=S.startX??0,Y=S.startY??0,ee={...S,x:H.x<W?H.x:W,y:H.y<Y?H.y:Y,width:Math.abs(H.x-W),height:Math.abs(H.y-Y)},ie=V(),se=b2e(q,ee,L,e===O5.Partial,!0,K),Ae=w2e(se,U).map(Be=>Be.id),he=se.map(Be=>Be.id);if(v.current!==he.length){v.current=he.length;const Be=d1(ie,he);Be.length&&(z==null||z(Be))}if(p.current!==Ae.length){p.current=Ae.length;const Be=d1(U,Ae);Be.length&&($==null||$(Be))}A.setState({userSelectionRect:ee})},O=M=>{if(M.button!==0)return;const{userSelectionRect:S}=A.getState();!g&&S&&M.target===f.current&&(N==null||N(M)),A.setState({nodesSelectionActive:v.current>0}),j(),s==null||s(M)},I=M=>{g&&(A.setState({nodesSelectionActive:v.current>0}),s==null||s(M)),j()},F=x&&(t||g);return pe.createElement("div",{className:Pl(["react-flow__pane",{dragging:b,selection:t}]),onClick:F?void 0:GL(N,f),onContextMenu:GL(_,f),onWheel:GL(C,f),onMouseEnter:F?void 0:c,onMouseDown:F?k:void 0,onMouseMove:F?T:u,onMouseUp:F?O:void 0,onMouseLeave:F?I:d,ref:f,style:Zq},h,pe.createElement(Zft,null))});Q2e.displayName="Pane";function H2e(t,e){const n=t.parentNode||t.parentId;if(!n)return!1;const r=e.get(n);return r?r.selected?!0:H2e(r,e):!1}function Ble(t,e,n){let r=t;do{if(r!=null&&r.matches(e))return!0;if(r===n.current)return!1;r=r.parentElement}while(r);return!1}function nAt(t,e,n,r){return Array.from(t.values()).filter(s=>(s.selected||s.id===r)&&(!s.parentNode||s.parentId||!H2e(s,t))&&(s.draggable||e&&typeof s.draggable>"u")).map(s=>{var a,o;return{id:s.id,position:s.position||{x:0,y:0},positionAbsolute:s.positionAbsolute||{x:0,y:0},distance:{x:n.x-(((a=s.positionAbsolute)==null?void 0:a.x)??0),y:n.y-(((o=s.positionAbsolute)==null?void 0:o.y)??0)},delta:{x:0,y:0},extent:s.extent,parentNode:s.parentNode||s.parentId,parentId:s.parentNode||s.parentId,width:s.width,height:s.height,expandParent:s.expandParent}})}function rAt(t,e){return!e||e==="parent"?e:[e[0],[e[1][0]-(t.width||0),e[1][1]-(t.height||0)]]}function z2e(t,e,n,r,s=[0,0],a){const o=rAt(t,t.extent||r);let l=o;const c=t.parentNode||t.parentId;if(t.extent==="parent"&&!t.expandParent)if(c&&t.width&&t.height){const h=n.get(c),{x:f,y:A}=P1(h,s).positionAbsolute;l=h&&zu(f)&&zu(A)&&zu(h.width)&&zu(h.height)?[[f+t.width*s[0],A+t.height*s[1]],[f+h.width-t.width+t.width*s[0],A+h.height-t.height+t.height*s[1]]]:l}else a==null||a("005",Mp.error005()),l=o;else if(t.extent&&c&&t.extent!=="parent"){const h=n.get(c),{x:f,y:A}=P1(h,s).positionAbsolute;l=[[t.extent[0][0]+f,t.extent[0][1]+A],[t.extent[1][0]+f,t.extent[1][1]+A]]}let u={x:0,y:0};if(c){const h=n.get(c);u=P1(h,s).positionAbsolute}const d=l&&l!=="parent"?zq(e,l):e;return{position:{x:d.x-u.x,y:d.y-u.y},positionAbsolute:d}}function XL({nodeId:t,dragItems:e,nodeInternals:n}){const r=e.map(s=>({...n.get(s.id),position:s.position,positionAbsolute:s.positionAbsolute}));return[t?r.find(s=>s.id===t):r[0],r]}const Dle=(t,e,n,r)=>{const s=e.querySelectorAll(t);if(!s||!s.length)return null;const a=Array.from(s),o=e.getBoundingClientRect(),l={x:o.width*r[0],y:o.height*r[1]};return a.map(c=>{const u=c.getBoundingClientRect();return{id:c.getAttribute("data-handleid"),position:c.getAttribute("data-handlepos"),x:(u.left-o.left-l.x)/n,y:(u.top-o.top-l.y)/n,...Hq(c)}})};function pN(t,e,n){return n===void 0?n:r=>{const s=e().nodeInternals.get(t);s&&n(r,{...s})}}function zH({id:t,store:e,unselect:n=!1,nodeRef:r}){const{addSelectedNodes:s,unselectNodesAndEdges:a,multiSelectionActive:o,nodeInternals:l,onError:c}=e.getState(),u=l.get(t);if(!u){c==null||c("012",Mp.error012(t));return}e.setState({nodesSelectionActive:!1}),u.selected?(n||u.selected&&o)&&(a({nodes:[u],edges:[]}),requestAnimationFrame(()=>{var d;return(d=r==null?void 0:r.current)==null?void 0:d.blur()})):s([t])}function iAt(){const t=Ka();return E.useCallback(({sourceEvent:n})=>{const{transform:r,snapGrid:s,snapToGrid:a}=t.getState(),o=n.touches?n.touches[0].clientX:n.clientX,l=n.touches?n.touches[0].clientY:n.clientY,c={x:(o-r[0])/r[2],y:(l-r[1])/r[2]};return{xSnapped:a?s[0]*Math.round(c.x/s[0]):c.x,ySnapped:a?s[1]*Math.round(c.y/s[1]):c.y,...c}},[])}function YL(t){return(e,n,r)=>t==null?void 0:t(e,r)}function $2e({nodeRef:t,disabled:e=!1,noDragClassName:n,handleSelector:r,nodeId:s,isSelectable:a,selectNodesOnDrag:o}){const l=Ka(),[c,u]=E.useState(!1),d=E.useRef([]),h=E.useRef({x:null,y:null}),f=E.useRef(0),A=E.useRef(null),v=E.useRef({x:0,y:0}),p=E.useRef(null),m=E.useRef(!1),g=E.useRef(!1),x=E.useRef(!1),b=iAt();return E.useEffect(()=>{if(t!=null&&t.current){const j=nh(t.current),N=({x:k,y:T})=>{const{nodeInternals:O,onNodeDrag:I,onSelectionDrag:F,updateNodePositions:M,nodeExtent:S,snapGrid:q,snapToGrid:U,nodeOrigin:L,onError:z}=l.getState();h.current={x:k,y:T};let $=!1,K={x:0,y:0,x2:0,y2:0};if(d.current.length>1&&S){const H=Gq(d.current,L);K=$q(H)}if(d.current=d.current.map(H=>{const W={x:k-H.distance.x,y:T-H.distance.y};U&&(W.x=q[0]*Math.round(W.x/q[0]),W.y=q[1]*Math.round(W.y/q[1]));const Y=[[S[0][0],S[0][1]],[S[1][0],S[1][1]]];d.current.length>1&&S&&!H.extent&&(Y[0][0]=H.positionAbsolute.x-K.x+S[0][0],Y[1][0]=H.positionAbsolute.x+(H.width??0)-K.x2+S[1][0],Y[0][1]=H.positionAbsolute.y-K.y+S[0][1],Y[1][1]=H.positionAbsolute.y+(H.height??0)-K.y2+S[1][1]);const ee=z2e(H,W,O,Y,L,z);return $=$||H.position.x!==ee.position.x||H.position.y!==ee.position.y,H.position=ee.position,H.positionAbsolute=ee.positionAbsolute,H}),!$)return;M(d.current,!0,!0),u(!0);const V=s?I:YL(F);if(V&&p.current){const[H,W]=XL({nodeId:s,dragItems:d.current,nodeInternals:O});V(p.current,H,W)}},_=()=>{if(!A.current)return;const[k,T]=d2e(v.current,A.current);if(k!==0||T!==0){const{transform:O,panBy:I}=l.getState();h.current.x=(h.current.x??0)-k/O[2],h.current.y=(h.current.y??0)-T/O[2],I({x:k,y:T})&&N(h.current)}f.current=requestAnimationFrame(_)},C=k=>{var L;const{nodeInternals:T,multiSelectionActive:O,nodesDraggable:I,unselectNodesAndEdges:F,onNodeDragStart:M,onSelectionDragStart:S}=l.getState();g.current=!0;const q=s?M:YL(S);(!o||!a)&&!O&&s&&((L=T.get(s))!=null&&L.selected||F()),s&&a&&o&&zH({id:s,store:l,nodeRef:t});const U=b(k);if(h.current=U,d.current=nAt(T,I,U,s),q&&d.current){const[z,$]=XL({nodeId:s,dragItems:d.current,nodeInternals:T});q(k.sourceEvent,z,$)}};if(e)j.on(".drag",null);else{const k=Rdt().on("start",T=>{const{domNode:O,nodeDragThreshold:I}=l.getState();I===0&&C(T),x.current=!1;const F=b(T);h.current=F,A.current=(O==null?void 0:O.getBoundingClientRect())||null,v.current=Xg(T.sourceEvent,A.current)}).on("drag",T=>{var M,S;const O=b(T),{autoPanOnNodeDrag:I,nodeDragThreshold:F}=l.getState();if(T.sourceEvent.type==="touchmove"&&T.sourceEvent.touches.length>1&&(x.current=!0),!x.current){if(!m.current&&g.current&&I&&(m.current=!0,_()),!g.current){const q=O.xSnapped-(((M=h==null?void 0:h.current)==null?void 0:M.x)??0),U=O.ySnapped-(((S=h==null?void 0:h.current)==null?void 0:S.y)??0);Math.sqrt(q*q+U*U)>F&&C(T)}(h.current.x!==O.xSnapped||h.current.y!==O.ySnapped)&&d.current&&g.current&&(p.current=T.sourceEvent,v.current=Xg(T.sourceEvent,A.current),N(O))}}).on("end",T=>{if(!(!g.current||x.current)&&(u(!1),m.current=!1,g.current=!1,cancelAnimationFrame(f.current),d.current)){const{updateNodePositions:O,nodeInternals:I,onNodeDragStop:F,onSelectionDragStop:M}=l.getState(),S=s?F:YL(M);if(O(d.current,!1,!1),S){const[q,U]=XL({nodeId:s,dragItems:d.current,nodeInternals:I});S(T.sourceEvent,q,U)}}}).filter(T=>{const O=T.target;return!T.button&&(!n||!Ble(O,`.${n}`,t))&&(!r||Ble(O,r,t))});return j.call(k),()=>{j.on(".drag",null)}}}},[t,e,n,r,a,l,s,o,b]),c}function W2e(){const t=Ka();return E.useCallback(n=>{const{nodeInternals:r,nodeExtent:s,updateNodePositions:a,getNodes:o,snapToGrid:l,snapGrid:c,onError:u,nodesDraggable:d}=t.getState(),h=o().filter(x=>x.selected&&(x.draggable||d&&typeof x.draggable>"u")),f=l?c[0]:5,A=l?c[1]:5,v=n.isShiftPressed?4:1,p=n.x*f*v,m=n.y*A*v,g=h.map(x=>{if(x.positionAbsolute){const b={x:x.positionAbsolute.x+p,y:x.positionAbsolute.y+m};l&&(b.x=c[0]*Math.round(b.x/c[0]),b.y=c[1]*Math.round(b.y/c[1]));const{positionAbsolute:j,position:N}=z2e(x,b,r,s,void 0,u);x.position=N,x.positionAbsolute=j}return x});a(g,!0,!1)},[])}const U1={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}};var mN=t=>{const e=({id:n,type:r,data:s,xPos:a,yPos:o,xPosOrigin:l,yPosOrigin:c,selected:u,onClick:d,onMouseEnter:h,onMouseMove:f,onMouseLeave:A,onContextMenu:v,onDoubleClick:p,style:m,className:g,isDraggable:x,isSelectable:b,isConnectable:j,isFocusable:N,selectNodesOnDrag:_,sourcePosition:C,targetPosition:k,hidden:T,resizeObserver:O,dragHandle:I,zIndex:F,isParent:M,noDragClassName:S,noPanClassName:q,initialized:U,disableKeyboardA11y:L,ariaLabel:z,rfId:$,hasHandleBounds:K})=>{const V=Ka(),H=E.useRef(null),W=E.useRef(null),Y=E.useRef(C),ee=E.useRef(k),ie=E.useRef(r),se=b||x||d||h||f||A,Ae=W2e(),he=pN(n,V.getState,h),Be=pN(n,V.getState,f),Me=pN(n,V.getState,A),Ie=pN(n,V.getState,v),Ye=pN(n,V.getState,p),X=de=>{const{nodeDragThreshold:ce}=V.getState();if(b&&(!_||!x||ce>0)&&zH({id:n,store:V,nodeRef:H}),d){const Ne=V.getState().nodeInternals.get(n);Ne&&d(de,{...Ne})}},ue=de=>{if(!MH(de)&&!L)if(f2e.includes(de.key)&&b){const ce=de.key==="Escape";zH({id:n,store:V,unselect:ce,nodeRef:H})}else x&&u&&Object.prototype.hasOwnProperty.call(U1,de.key)&&(V.setState({ariaLiveMessage:`Moved selected node ${de.key.replace("Arrow","").toLowerCase()}. New position, x: ${~~a}, y: ${~~o}`}),Ae({x:U1[de.key].x,y:U1[de.key].y,isShiftPressed:de.shiftKey}))};E.useEffect(()=>()=>{W.current&&(O==null||O.unobserve(W.current),W.current=null)},[]),E.useEffect(()=>{if(H.current&&!T){const de=H.current;(!U||!K||W.current!==de)&&(W.current&&(O==null||O.unobserve(W.current)),O==null||O.observe(de),W.current=de)}},[T,U,K]),E.useEffect(()=>{const de=ie.current!==r,ce=Y.current!==C,Ne=ee.current!==k;H.current&&(de||ce||Ne)&&(de&&(ie.current=r),ce&&(Y.current=C),Ne&&(ee.current=k),V.getState().updateNodeDimensions([{id:n,nodeElement:H.current,forceUpdate:!0}]))},[n,r,C,k]);const re=$2e({nodeRef:H,disabled:T||!x,noDragClassName:S,handleSelector:I,nodeId:n,isSelectable:b,selectNodesOnDrag:_});return T?null:pe.createElement("div",{className:Pl(["react-flow__node",`react-flow__node-${r}`,{[q]:x},g,{selected:u,selectable:b,parent:M,dragging:re}]),ref:H,style:{zIndex:F,transform:`translate(${l}px,${c}px)`,pointerEvents:se?"all":"none",visibility:U?"visible":"hidden",...m},"data-id":n,"data-testid":`rf__node-${n}`,onMouseEnter:he,onMouseMove:Be,onMouseLeave:Me,onContextMenu:Ie,onClick:X,onDoubleClick:Ye,onKeyDown:N?ue:void 0,tabIndex:N?0:void 0,role:N?"button":void 0,"aria-describedby":L?void 0:`${P2e}-${$}`,"aria-label":z},pe.createElement(vft,{value:n},pe.createElement(t,{id:n,data:s,type:r,xPos:a,yPos:o,selected:u,isConnectable:j,sourcePosition:C,targetPosition:k,dragging:re,dragHandle:I,zIndex:F})))};return e.displayName="NodeWrapper",E.memo(e)};const sAt=t=>{const e=t.getNodes().filter(n=>n.selected);return{...Gq(e,t.nodeOrigin),transformString:`translate(${t.transform[0]}px,${t.transform[1]}px) scale(${t.transform[2]})`,userSelectionActive:t.userSelectionActive}};function aAt({onSelectionContextMenu:t,noPanClassName:e,disableKeyboardA11y:n}){const r=Ka(),{width:s,height:a,x:o,y:l,transformString:c,userSelectionActive:u}=fs(sAt,Yo),d=W2e(),h=E.useRef(null);if(E.useEffect(()=>{var v;n||(v=h.current)==null||v.focus({preventScroll:!0})},[n]),$2e({nodeRef:h}),u||!s||!a)return null;const f=t?v=>{const p=r.getState().getNodes().filter(m=>m.selected);t(v,p)}:void 0,A=v=>{Object.prototype.hasOwnProperty.call(U1,v.key)&&d({x:U1[v.key].x,y:U1[v.key].y,isShiftPressed:v.shiftKey})};return pe.createElement("div",{className:Pl(["react-flow__nodesselection","react-flow__container",e]),style:{transform:c}},pe.createElement("div",{ref:h,className:"react-flow__nodesselection-rect",onContextMenu:f,tabIndex:n?void 0:-1,onKeyDown:n?void 0:A,style:{width:s,height:a,top:l,left:o}}))}var oAt=E.memo(aAt);const lAt=t=>t.nodesSelectionActive,q2e=({children:t,onPaneClick:e,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:s,onPaneContextMenu:a,onPaneScroll:o,deleteKeyCode:l,onMove:c,onMoveStart:u,onMoveEnd:d,selectionKeyCode:h,selectionOnDrag:f,selectionMode:A,onSelectionStart:v,onSelectionEnd:p,multiSelectionKeyCode:m,panActivationKeyCode:g,zoomActivationKeyCode:x,elementsSelectable:b,zoomOnScroll:j,zoomOnPinch:N,panOnScroll:_,panOnScrollSpeed:C,panOnScrollMode:k,zoomOnDoubleClick:T,panOnDrag:O,defaultViewport:I,translateExtent:F,minZoom:M,maxZoom:S,preventScrolling:q,onSelectionContextMenu:U,noWheelClassName:L,noPanClassName:z,disableKeyboardA11y:$})=>{const K=fs(lAt),V=M5(h),H=M5(g),W=H||O,Y=H||_,ee=V||f&&W!==!0;return Vft({deleteKeyCode:l,multiSelectionKeyCode:m}),pe.createElement(Yft,{onMove:c,onMoveStart:u,onMoveEnd:d,onPaneContextMenu:a,elementsSelectable:b,zoomOnScroll:j,zoomOnPinch:N,panOnScroll:Y,panOnScrollSpeed:C,panOnScrollMode:k,zoomOnDoubleClick:T,panOnDrag:!V&&W,defaultViewport:I,translateExtent:F,minZoom:M,maxZoom:S,zoomActivationKeyCode:x,preventScrolling:q,noWheelClassName:L,noPanClassName:z},pe.createElement(Q2e,{onSelectionStart:v,onSelectionEnd:p,onPaneClick:e,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:s,onPaneContextMenu:a,onPaneScroll:o,panOnDrag:W,isSelecting:!!ee,selectionMode:A},t,K&&pe.createElement(oAt,{onSelectionContextMenu:U,noPanClassName:z,disableKeyboardA11y:$})))};q2e.displayName="FlowRenderer";var cAt=E.memo(q2e);function uAt(t){return fs(E.useCallback(n=>t?b2e(n.nodeInternals,{x:0,y:0,width:n.width,height:n.height},n.transform,!0):n.getNodes(),[t]))}function dAt(t){const e={input:mN(t.input||D2e),default:mN(t.default||HH),output:mN(t.output||k2e),group:mN(t.group||Yq)},n={},r=Object.keys(t).filter(s=>!["input","default","output","group"].includes(s)).reduce((s,a)=>(s[a]=mN(t[a]||HH),s),n);return{...e,...r}}const hAt=({x:t,y:e,width:n,height:r,origin:s})=>!n||!r?{x:t,y:e}:s[0]<0||s[1]<0||s[0]>1||s[1]>1?{x:t,y:e}:{x:t-n*s[0],y:e-r*s[1]},fAt=t=>({nodesDraggable:t.nodesDraggable,nodesConnectable:t.nodesConnectable,nodesFocusable:t.nodesFocusable,elementsSelectable:t.elementsSelectable,updateNodeDimensions:t.updateNodeDimensions,onError:t.onError}),V2e=t=>{const{nodesDraggable:e,nodesConnectable:n,nodesFocusable:r,elementsSelectable:s,updateNodeDimensions:a,onError:o}=fs(fAt,Yo),l=uAt(t.onlyRenderVisibleElements),c=E.useRef(),u=E.useMemo(()=>{if(typeof ResizeObserver>"u")return null;const d=new ResizeObserver(h=>{const f=h.map(A=>({id:A.target.getAttribute("data-id"),nodeElement:A.target,forceUpdate:!0}));a(f)});return c.current=d,d},[]);return E.useEffect(()=>()=>{var d;(d=c==null?void 0:c.current)==null||d.disconnect()},[]),pe.createElement("div",{className:"react-flow__nodes",style:Zq},l.map(d=>{var N,_,C;let h=d.type||"default";t.nodeTypes[h]||(o==null||o("003",Mp.error003(h)),h="default");const f=t.nodeTypes[h]||t.nodeTypes.default,A=!!(d.draggable||e&&typeof d.draggable>"u"),v=!!(d.selectable||s&&typeof d.selectable>"u"),p=!!(d.connectable||n&&typeof d.connectable>"u"),m=!!(d.focusable||r&&typeof d.focusable>"u"),g=t.nodeExtent?zq(d.positionAbsolute,t.nodeExtent):d.positionAbsolute,x=(g==null?void 0:g.x)??0,b=(g==null?void 0:g.y)??0,j=hAt({x,y:b,width:d.width??0,height:d.height??0,origin:t.nodeOrigin});return pe.createElement(f,{key:d.id,id:d.id,className:d.className,style:d.style,type:h,data:d.data,sourcePosition:d.sourcePosition||pn.Bottom,targetPosition:d.targetPosition||pn.Top,hidden:d.hidden,xPos:x,yPos:b,xPosOrigin:j.x,yPosOrigin:j.y,selectNodesOnDrag:t.selectNodesOnDrag,onClick:t.onNodeClick,onMouseEnter:t.onNodeMouseEnter,onMouseMove:t.onNodeMouseMove,onMouseLeave:t.onNodeMouseLeave,onContextMenu:t.onNodeContextMenu,onDoubleClick:t.onNodeDoubleClick,selected:!!d.selected,isDraggable:A,isSelectable:v,isConnectable:p,isFocusable:m,resizeObserver:u,dragHandle:d.dragHandle,zIndex:((N=d[_s])==null?void 0:N.z)??0,isParent:!!((_=d[_s])!=null&&_.isParent),noDragClassName:t.noDragClassName,noPanClassName:t.noPanClassName,initialized:!!d.width&&!!d.height,rfId:t.rfId,disableKeyboardA11y:t.disableKeyboardA11y,ariaLabel:d.ariaLabel,hasHandleBounds:!!((C=d[_s])!=null&&C.handleBounds)})}))};V2e.displayName="NodeRenderer";var AAt=E.memo(V2e);const pAt=(t,e,n)=>n===pn.Left?t-e:n===pn.Right?t+e:t,mAt=(t,e,n)=>n===pn.Top?t-e:n===pn.Bottom?t+e:t,Tle="react-flow__edgeupdater",kle=({position:t,centerX:e,centerY:n,radius:r=10,onMouseDown:s,onMouseEnter:a,onMouseOut:o,type:l})=>pe.createElement("circle",{onMouseDown:s,onMouseEnter:a,onMouseOut:o,className:Pl([Tle,`${Tle}-${l}`]),cx:pAt(e,r,t),cy:mAt(n,r,t),r,stroke:"transparent",fill:"transparent"}),gAt=()=>!0;var Mb=t=>{const e=({id:n,className:r,type:s,data:a,onClick:o,onEdgeDoubleClick:l,selected:c,animated:u,label:d,labelStyle:h,labelShowBg:f,labelBgStyle:A,labelBgPadding:v,labelBgBorderRadius:p,style:m,source:g,target:x,sourceX:b,sourceY:j,targetX:N,targetY:_,sourcePosition:C,targetPosition:k,elementsSelectable:T,hidden:O,sourceHandleId:I,targetHandleId:F,onContextMenu:M,onMouseEnter:S,onMouseMove:q,onMouseLeave:U,reconnectRadius:L,onReconnect:z,onReconnectStart:$,onReconnectEnd:K,markerEnd:V,markerStart:H,rfId:W,ariaLabel:Y,isFocusable:ee,isReconnectable:ie,pathOptions:se,interactionWidth:Ae,disableKeyboardA11y:he})=>{const Be=E.useRef(null),[Me,Ie]=E.useState(!1),[Ye,X]=E.useState(!1),ue=Ka(),re=E.useMemo(()=>`url('#${RH(H,W)}')`,[H,W]),de=E.useMemo(()=>`url('#${RH(V,W)}')`,[V,W]);if(O)return null;const ce=Ue=>{var mn;const{edges:ct,addSelectedEdges:ht,unselectNodesAndEdges:kt,multiSelectionActive:Ot}=ue.getState(),Ut=ct.find(fn=>fn.id===n);Ut&&(T&&(ue.setState({nodesSelectionActive:!1}),Ut.selected&&Ot?(kt({nodes:[],edges:[Ut]}),(mn=Be.current)==null||mn.blur()):ht([n])),o&&o(Ue,Ut))},Ne=AN(n,ue.getState,l),$e=AN(n,ue.getState,M),ze=AN(n,ue.getState,S),Fe=AN(n,ue.getState,q),De=AN(n,ue.getState,U),Ce=(Ue,ct)=>{if(Ue.button!==0)return;const{edges:ht,isValidConnection:kt}=ue.getState(),Ot=ct?x:g,Ut=(ct?F:I)||null,mn=ct?"target":"source",fn=kt||gAt,wi=ct,lr=ht.find(Re=>Re.id===n);X(!0),$==null||$(Ue,lr,mn);const ge=Re=>{X(!1),K==null||K(Re,lr,mn)};C2e({event:Ue,handleId:Ut,nodeId:Ot,onConnect:Re=>z==null?void 0:z(lr,Re),isTarget:wi,getState:ue.getState,setState:ue.setState,isValidConnection:fn,edgeUpdaterType:mn,onReconnectEnd:ge})},Oe=Ue=>Ce(Ue,!0),We=Ue=>Ce(Ue,!1),ut=()=>Ie(!0),yt=()=>Ie(!1),Nt=!T&&!o,jt=Ue=>{var ct;if(!he&&f2e.includes(Ue.key)&&T){const{unselectNodesAndEdges:ht,addSelectedEdges:kt,edges:Ot}=ue.getState();Ue.key==="Escape"?((ct=Be.current)==null||ct.blur(),ht({edges:[Ot.find(mn=>mn.id===n)]})):kt([n])}};return pe.createElement("g",{className:Pl(["react-flow__edge",`react-flow__edge-${s}`,r,{selected:c,animated:u,inactive:Nt,updating:Me}]),onClick:ce,onDoubleClick:Ne,onContextMenu:$e,onMouseEnter:ze,onMouseMove:Fe,onMouseLeave:De,onKeyDown:ee?jt:void 0,tabIndex:ee?0:void 0,role:ee?"button":"img","data-testid":`rf__edge-${n}`,"aria-label":Y===null?void 0:Y||`Edge from ${g} to ${x}`,"aria-describedby":ee?`${U2e}-${W}`:void 0,ref:Be},!Ye&&pe.createElement(t,{id:n,source:g,target:x,selected:c,animated:u,label:d,labelStyle:h,labelShowBg:f,labelBgStyle:A,labelBgPadding:v,labelBgBorderRadius:p,data:a,style:m,sourceX:b,sourceY:j,targetX:N,targetY:_,sourcePosition:C,targetPosition:k,sourceHandleId:I,targetHandleId:F,markerStart:re,markerEnd:de,pathOptions:se,interactionWidth:Ae}),ie&&pe.createElement(pe.Fragment,null,(ie==="source"||ie===!0)&&pe.createElement(kle,{position:C,centerX:b,centerY:j,radius:L,onMouseDown:Oe,onMouseEnter:ut,onMouseOut:yt,type:"source"}),(ie==="target"||ie===!0)&&pe.createElement(kle,{position:k,centerX:N,centerY:_,radius:L,onMouseDown:We,onMouseEnter:ut,onMouseOut:yt,type:"target"})))};return e.displayName="EdgeWrapper",E.memo(e)};function xAt(t){const e={default:Mb(t.default||PT),straight:Mb(t.bezier||Vq),step:Mb(t.step||qq),smoothstep:Mb(t.step||m6),simplebezier:Mb(t.simplebezier||Wq)},n={},r=Object.keys(t).filter(s=>!["default","bezier"].includes(s)).reduce((s,a)=>(s[a]=Mb(t[a]||PT),s),n);return{...e,...r}}function Fle(t,e,n=null){const r=((n==null?void 0:n.x)||0)+e.x,s=((n==null?void 0:n.y)||0)+e.y,a=(n==null?void 0:n.width)||e.width,o=(n==null?void 0:n.height)||e.height;switch(t){case pn.Top:return{x:r+a/2,y:s};case pn.Right:return{x:r+a,y:s+o/2};case pn.Bottom:return{x:r+a/2,y:s+o};case pn.Left:return{x:r,y:s+o/2}}}function Ple(t,e){return t?t.length===1||!e?t[0]:e&&t.find(n=>n.id===e)||null:null}const vAt=(t,e,n,r,s,a)=>{const o=Fle(n,t,e),l=Fle(a,r,s);return{sourceX:o.x,sourceY:o.y,targetX:l.x,targetY:l.y}};function yAt({sourcePos:t,targetPos:e,sourceWidth:n,sourceHeight:r,targetWidth:s,targetHeight:a,width:o,height:l,transform:c}){const u={x:Math.min(t.x,e.x),y:Math.min(t.y,e.y),x2:Math.max(t.x+n,e.x+s),y2:Math.max(t.y+r,e.y+a)};u.x===u.x2&&(u.x2+=1),u.y===u.y2&&(u.y2+=1);const d=$q({x:(0-c[0])/c[2],y:(0-c[1])/c[2],width:o/c[2],height:l/c[2]}),h=Math.max(0,Math.min(d.x2,u.x2)-Math.max(d.x,u.x)),f=Math.max(0,Math.min(d.y2,u.y2)-Math.max(d.y,u.y));return Math.ceil(h*f)>0}function Ule(t){var r,s,a,o,l;const e=((r=t==null?void 0:t[_s])==null?void 0:r.handleBounds)||null,n=e&&(t==null?void 0:t.width)&&(t==null?void 0:t.height)&&typeof((s=t==null?void 0:t.positionAbsolute)==null?void 0:s.x)<"u"&&typeof((a=t==null?void 0:t.positionAbsolute)==null?void 0:a.y)<"u";return[{x:((o=t==null?void 0:t.positionAbsolute)==null?void 0:o.x)||0,y:((l=t==null?void 0:t.positionAbsolute)==null?void 0:l.y)||0,width:(t==null?void 0:t.width)||0,height:(t==null?void 0:t.height)||0},e,!!n]}const bAt=[{level:0,isMaxLevel:!0,edges:[]}];function wAt(t,e,n=!1){let r=-1;const s=t.reduce((o,l)=>{var d,h;const c=zu(l.zIndex);let u=c?l.zIndex:0;if(n){const f=e.get(l.target),A=e.get(l.source),v=l.selected||(f==null?void 0:f.selected)||(A==null?void 0:A.selected),p=Math.max(((d=A==null?void 0:A[_s])==null?void 0:d.z)||0,((h=f==null?void 0:f[_s])==null?void 0:h.z)||0,1e3);u=(c?l.zIndex:0)+(v?p:0)}return o[u]?o[u].push(l):o[u]=[l],r=u>r?u:r,o},{}),a=Object.entries(s).map(([o,l])=>{const c=+o;return{edges:l,level:c,isMaxLevel:c===r}});return a.length===0?bAt:a}function jAt(t,e,n){const r=fs(E.useCallback(s=>t?s.edges.filter(a=>{const o=e.get(a.source),l=e.get(a.target);return(o==null?void 0:o.width)&&(o==null?void 0:o.height)&&(l==null?void 0:l.width)&&(l==null?void 0:l.height)&&yAt({sourcePos:o.positionAbsolute||{x:0,y:0},targetPos:l.positionAbsolute||{x:0,y:0},sourceWidth:o.width,sourceHeight:o.height,targetWidth:l.width,targetHeight:l.height,width:s.width,height:s.height,transform:s.transform})}):s.edges,[t,e]));return wAt(r,e,n)}const NAt=({color:t="none",strokeWidth:e=1})=>pe.createElement("polyline",{style:{stroke:t,strokeWidth:e},strokeLinecap:"round",strokeLinejoin:"round",fill:"none",points:"-5,-4 0,0 -5,4"}),_At=({color:t="none",strokeWidth:e=1})=>pe.createElement("polyline",{style:{stroke:t,fill:t,strokeWidth:e},strokeLinecap:"round",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4 -5,-4"}),Ile={[FT.Arrow]:NAt,[FT.ArrowClosed]:_At};function CAt(t){const e=Ka();return E.useMemo(()=>{var s,a;return Object.prototype.hasOwnProperty.call(Ile,t)?Ile[t]:((a=(s=e.getState()).onError)==null||a.call(s,"009",Mp.error009(t)),null)},[t])}const SAt=({id:t,type:e,color:n,width:r=12.5,height:s=12.5,markerUnits:a="strokeWidth",strokeWidth:o,orient:l="auto-start-reverse"})=>{const c=CAt(e);return c?pe.createElement("marker",{className:"react-flow__arrowhead",id:t,markerWidth:`${r}`,markerHeight:`${s}`,viewBox:"-10 -10 20 20",markerUnits:a,orient:l,refX:"0",refY:"0"},pe.createElement(c,{color:n,strokeWidth:o})):null},EAt=({defaultColor:t,rfId:e})=>n=>{const r=[];return n.edges.reduce((s,a)=>([a.markerStart,a.markerEnd].forEach(o=>{if(o&&typeof o=="object"){const l=RH(o,e);r.includes(l)||(s.push({id:l,color:o.color||t,...o}),r.push(l))}}),s),[]).sort((s,a)=>s.id.localeCompare(a.id))},K2e=({defaultColor:t,rfId:e})=>{const n=fs(E.useCallback(EAt({defaultColor:t,rfId:e}),[t,e]),(r,s)=>!(r.length!==s.length||r.some((a,o)=>a.id!==s[o].id)));return pe.createElement("defs",null,n.map(r=>pe.createElement(SAt,{id:r.id,key:r.id,type:r.type,color:r.color,width:r.width,height:r.height,markerUnits:r.markerUnits,strokeWidth:r.strokeWidth,orient:r.orient})))};K2e.displayName="MarkerDefinitions";var BAt=E.memo(K2e);const DAt=t=>({nodesConnectable:t.nodesConnectable,edgesFocusable:t.edgesFocusable,edgesUpdatable:t.edgesUpdatable,elementsSelectable:t.elementsSelectable,width:t.width,height:t.height,connectionMode:t.connectionMode,nodeInternals:t.nodeInternals,onError:t.onError}),G2e=({defaultMarkerColor:t,onlyRenderVisibleElements:e,elevateEdgesOnSelect:n,rfId:r,edgeTypes:s,noPanClassName:a,onEdgeContextMenu:o,onEdgeMouseEnter:l,onEdgeMouseMove:c,onEdgeMouseLeave:u,onEdgeClick:d,onEdgeDoubleClick:h,onReconnect:f,onReconnectStart:A,onReconnectEnd:v,reconnectRadius:p,children:m,disableKeyboardA11y:g})=>{const{edgesFocusable:x,edgesUpdatable:b,elementsSelectable:j,width:N,height:_,connectionMode:C,nodeInternals:k,onError:T}=fs(DAt,Yo),O=jAt(e,k,n);return N?pe.createElement(pe.Fragment,null,O.map(({level:I,edges:F,isMaxLevel:M})=>pe.createElement("svg",{key:I,style:{zIndex:I},width:N,height:_,className:"react-flow__edges react-flow__container"},M&&pe.createElement(BAt,{defaultColor:t,rfId:r}),pe.createElement("g",null,F.map(S=>{const[q,U,L]=Ule(k.get(S.source)),[z,$,K]=Ule(k.get(S.target));if(!L||!K)return null;let V=S.type||"default";s[V]||(T==null||T("011",Mp.error011(V)),V="default");const H=s[V]||s.default,W=C===by.Strict?$.target:($.target??[]).concat($.source??[]),Y=Ple(U.source,S.sourceHandle),ee=Ple(W,S.targetHandle),ie=(Y==null?void 0:Y.position)||pn.Bottom,se=(ee==null?void 0:ee.position)||pn.Top,Ae=!!(S.focusable||x&&typeof S.focusable>"u"),he=S.reconnectable||S.updatable,Be=typeof f<"u"&&(he||b&&typeof he>"u");if(!Y||!ee)return T==null||T("008",Mp.error008(Y,S)),null;const{sourceX:Me,sourceY:Ie,targetX:Ye,targetY:X}=vAt(q,Y,ie,z,ee,se);return pe.createElement(H,{key:S.id,id:S.id,className:Pl([S.className,a]),type:V,data:S.data,selected:!!S.selected,animated:!!S.animated,hidden:!!S.hidden,label:S.label,labelStyle:S.labelStyle,labelShowBg:S.labelShowBg,labelBgStyle:S.labelBgStyle,labelBgPadding:S.labelBgPadding,labelBgBorderRadius:S.labelBgBorderRadius,style:S.style,source:S.source,target:S.target,sourceHandleId:S.sourceHandle,targetHandleId:S.targetHandle,markerEnd:S.markerEnd,markerStart:S.markerStart,sourceX:Me,sourceY:Ie,targetX:Ye,targetY:X,sourcePosition:ie,targetPosition:se,elementsSelectable:j,onContextMenu:o,onMouseEnter:l,onMouseMove:c,onMouseLeave:u,onClick:d,onEdgeDoubleClick:h,onReconnect:f,onReconnectStart:A,onReconnectEnd:v,reconnectRadius:p,rfId:r,ariaLabel:S.ariaLabel,isFocusable:Ae,isReconnectable:Be,pathOptions:"pathOptions"in S?S.pathOptions:void 0,interactionWidth:S.interactionWidth,disableKeyboardA11y:g})})))),m):null};G2e.displayName="EdgeRenderer";var TAt=E.memo(G2e);const kAt=t=>`translate(${t.transform[0]}px,${t.transform[1]}px) scale(${t.transform[2]})`;function FAt({children:t}){const e=fs(kAt);return pe.createElement("div",{className:"react-flow__viewport react-flow__container",style:{transform:e}},t)}function PAt(t){const e=Jq(),n=E.useRef(!1);E.useEffect(()=>{!n.current&&e.viewportInitialized&&t&&(setTimeout(()=>t(e),1),n.current=!0)},[t,e.viewportInitialized])}const UAt={[pn.Left]:pn.Right,[pn.Right]:pn.Left,[pn.Top]:pn.Bottom,[pn.Bottom]:pn.Top},X2e=({nodeId:t,handleType:e,style:n,type:r=ng.Bezier,CustomComponent:s,connectionStatus:a})=>{var _,C,k;const{fromNode:o,handleId:l,toX:c,toY:u,connectionMode:d}=fs(E.useCallback(T=>({fromNode:T.nodeInternals.get(t),handleId:T.connectionHandleId,toX:(T.connectionPosition.x-T.transform[0])/T.transform[2],toY:(T.connectionPosition.y-T.transform[1])/T.transform[2],connectionMode:T.connectionMode}),[t]),Yo),h=(_=o==null?void 0:o[_s])==null?void 0:_.handleBounds;let f=h==null?void 0:h[e];if(d===by.Loose&&(f=f||(h==null?void 0:h[e==="source"?"target":"source"])),!o||!f)return null;const A=l?f.find(T=>T.id===l):f[0],v=A?A.x+A.width/2:(o.width??0)/2,p=A?A.y+A.height/2:o.height??0,m=(((C=o.positionAbsolute)==null?void 0:C.x)??0)+v,g=(((k=o.positionAbsolute)==null?void 0:k.y)??0)+p,x=A==null?void 0:A.position,b=x?UAt[x]:null;if(!x||!b)return null;if(s)return pe.createElement(s,{connectionLineType:r,connectionLineStyle:n,fromNode:o,fromHandle:A,fromX:m,fromY:g,toX:c,toY:u,fromPosition:x,toPosition:b,connectionStatus:a});let j="";const N={sourceX:m,sourceY:g,sourcePosition:x,targetX:c,targetY:u,targetPosition:b};return r===ng.Bezier?[j]=x2e(N):r===ng.Step?[j]=LH({...N,borderRadius:0}):r===ng.SmoothStep?[j]=LH(N):r===ng.SimpleBezier?[j]=g2e(N):j=`M${m},${g} ${c},${u}`,pe.createElement("path",{d:j,fill:"none",className:"react-flow__connection-path",style:n})};X2e.displayName="ConnectionLine";const IAt=t=>({nodeId:t.connectionNodeId,handleType:t.connectionHandleType,nodesConnectable:t.nodesConnectable,connectionStatus:t.connectionStatus,width:t.width,height:t.height});function OAt({containerStyle:t,style:e,type:n,component:r}){const{nodeId:s,handleType:a,nodesConnectable:o,width:l,height:c,connectionStatus:u}=fs(IAt,Yo);return!(s&&a&&l&&o)?null:pe.createElement("svg",{style:t,width:l,height:c,className:"react-flow__edges react-flow__connectionline react-flow__container"},pe.createElement("g",{className:Pl(["react-flow__connection",u])},pe.createElement(X2e,{nodeId:s,handleType:a,style:e,type:n,CustomComponent:r,connectionStatus:u})))}function Ole(t,e){return E.useRef(null),Ka(),E.useMemo(()=>e(t),[t])}const Y2e=({nodeTypes:t,edgeTypes:e,onMove:n,onMoveStart:r,onMoveEnd:s,onInit:a,onNodeClick:o,onEdgeClick:l,onNodeDoubleClick:c,onEdgeDoubleClick:u,onNodeMouseEnter:d,onNodeMouseMove:h,onNodeMouseLeave:f,onNodeContextMenu:A,onSelectionContextMenu:v,onSelectionStart:p,onSelectionEnd:m,connectionLineType:g,connectionLineStyle:x,connectionLineComponent:b,connectionLineContainerStyle:j,selectionKeyCode:N,selectionOnDrag:_,selectionMode:C,multiSelectionKeyCode:k,panActivationKeyCode:T,zoomActivationKeyCode:O,deleteKeyCode:I,onlyRenderVisibleElements:F,elementsSelectable:M,selectNodesOnDrag:S,defaultViewport:q,translateExtent:U,minZoom:L,maxZoom:z,preventScrolling:$,defaultMarkerColor:K,zoomOnScroll:V,zoomOnPinch:H,panOnScroll:W,panOnScrollSpeed:Y,panOnScrollMode:ee,zoomOnDoubleClick:ie,panOnDrag:se,onPaneClick:Ae,onPaneMouseEnter:he,onPaneMouseMove:Be,onPaneMouseLeave:Me,onPaneScroll:Ie,onPaneContextMenu:Ye,onEdgeContextMenu:X,onEdgeMouseEnter:ue,onEdgeMouseMove:re,onEdgeMouseLeave:de,onReconnect:ce,onReconnectStart:Ne,onReconnectEnd:$e,reconnectRadius:ze,noDragClassName:Fe,noWheelClassName:De,noPanClassName:Ce,elevateEdgesOnSelect:Oe,disableKeyboardA11y:We,nodeOrigin:ut,nodeExtent:yt,rfId:Nt})=>{const jt=Ole(t,dAt),Ue=Ole(e,xAt);return PAt(a),pe.createElement(cAt,{onPaneClick:Ae,onPaneMouseEnter:he,onPaneMouseMove:Be,onPaneMouseLeave:Me,onPaneContextMenu:Ye,onPaneScroll:Ie,deleteKeyCode:I,selectionKeyCode:N,selectionOnDrag:_,selectionMode:C,onSelectionStart:p,onSelectionEnd:m,multiSelectionKeyCode:k,panActivationKeyCode:T,zoomActivationKeyCode:O,elementsSelectable:M,onMove:n,onMoveStart:r,onMoveEnd:s,zoomOnScroll:V,zoomOnPinch:H,zoomOnDoubleClick:ie,panOnScroll:W,panOnScrollSpeed:Y,panOnScrollMode:ee,panOnDrag:se,defaultViewport:q,translateExtent:U,minZoom:L,maxZoom:z,onSelectionContextMenu:v,preventScrolling:$,noDragClassName:Fe,noWheelClassName:De,noPanClassName:Ce,disableKeyboardA11y:We},pe.createElement(FAt,null,pe.createElement(TAt,{edgeTypes:Ue,onEdgeClick:l,onEdgeDoubleClick:u,onlyRenderVisibleElements:F,onEdgeContextMenu:X,onEdgeMouseEnter:ue,onEdgeMouseMove:re,onEdgeMouseLeave:de,onReconnect:ce,onReconnectStart:Ne,onReconnectEnd:$e,reconnectRadius:ze,defaultMarkerColor:K,noPanClassName:Ce,elevateEdgesOnSelect:!!Oe,disableKeyboardA11y:We,rfId:Nt},pe.createElement(OAt,{style:x,type:g,component:b,containerStyle:j})),pe.createElement("div",{className:"react-flow__edgelabel-renderer"}),pe.createElement(AAt,{nodeTypes:jt,onNodeClick:o,onNodeDoubleClick:c,onNodeMouseEnter:d,onNodeMouseMove:h,onNodeMouseLeave:f,onNodeContextMenu:A,selectNodesOnDrag:S,onlyRenderVisibleElements:F,noPanClassName:Ce,noDragClassName:Fe,disableKeyboardA11y:We,nodeOrigin:ut,nodeExtent:yt,rfId:Nt})))};Y2e.displayName="GraphView";var MAt=E.memo(Y2e);const $H=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],$m={rfId:"1",width:0,height:0,transform:[0,0,1],nodeInternals:new Map,edges:[],onNodesChange:null,onEdgesChange:null,hasDefaultNodes:!1,hasDefaultEdges:!1,d3Zoom:null,d3Selection:null,d3ZoomHandler:void 0,minZoom:.5,maxZoom:2,translateExtent:$H,nodeExtent:$H,nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,connectionNodeId:null,connectionHandleId:null,connectionHandleType:"source",connectionPosition:{x:0,y:0},connectionStatus:null,connectionMode:by.Strict,domNode:null,paneDragging:!1,noPanClassName:"nopan",nodeOrigin:[0,0],nodeDragThreshold:0,snapGrid:[15,15],snapToGrid:!1,nodesDraggable:!0,nodesConnectable:!0,nodesFocusable:!0,edgesFocusable:!0,edgesUpdatable:!0,elementsSelectable:!0,elevateNodesOnSelect:!0,fitViewOnInit:!1,fitViewOnInitDone:!1,fitViewOnInitOptions:void 0,onSelectionChange:[],multiSelectionActive:!1,connectionStartHandle:null,connectionEndHandle:null,connectionClickStartHandle:null,connectOnClick:!0,ariaLiveMessage:"",autoPanOnConnect:!0,autoPanOnNodeDrag:!0,connectionRadius:20,onError:fft,isValidConnection:void 0},LAt=()=>Jct((t,e)=>({...$m,setNodes:n=>{const{nodeInternals:r,nodeOrigin:s,elevateNodesOnSelect:a}=e();t({nodeInternals:KL(n,r,s,a)})},getNodes:()=>Array.from(e().nodeInternals.values()),setEdges:n=>{const{defaultEdgeOptions:r={}}=e();t({edges:n.map(s=>({...r,...s}))})},setDefaultNodesAndEdges:(n,r)=>{const s=typeof n<"u",a=typeof r<"u",o=s?KL(n,new Map,e().nodeOrigin,e().elevateNodesOnSelect):new Map;t({nodeInternals:o,edges:a?r:[],hasDefaultNodes:s,hasDefaultEdges:a})},updateNodeDimensions:n=>{const{onNodesChange:r,nodeInternals:s,fitViewOnInit:a,fitViewOnInitDone:o,fitViewOnInitOptions:l,domNode:c,nodeOrigin:u}=e(),d=c==null?void 0:c.querySelector(".react-flow__viewport");if(!d)return;const h=window.getComputedStyle(d),{m22:f}=new window.DOMMatrixReadOnly(h.transform),A=n.reduce((p,m)=>{const g=s.get(m.id);if(g!=null&&g.hidden)s.set(g.id,{...g,[_s]:{...g[_s],handleBounds:void 0}});else if(g){const x=Hq(m.nodeElement);!!(x.width&&x.height&&(g.width!==x.width||g.height!==x.height||m.forceUpdate))&&(s.set(g.id,{...g,[_s]:{...g[_s],handleBounds:{source:Dle(".source",m.nodeElement,f,u),target:Dle(".target",m.nodeElement,f,u)}},...x}),p.push({id:g.id,type:"dimensions",dimensions:x}))}return p},[]);O2e(s,u);const v=o||a&&!o&&M2e(e,{initial:!0,...l});t({nodeInternals:new Map(s),fitViewOnInitDone:v}),(A==null?void 0:A.length)>0&&(r==null||r(A))},updateNodePositions:(n,r=!0,s=!1)=>{const{triggerNodeChanges:a}=e(),o=n.map(l=>{const c={id:l.id,type:"position",dragging:s};return r&&(c.positionAbsolute=l.positionAbsolute,c.position=l.position),c});a(o)},triggerNodeChanges:n=>{const{onNodesChange:r,nodeInternals:s,hasDefaultNodes:a,nodeOrigin:o,getNodes:l,elevateNodesOnSelect:c}=e();if(n!=null&&n.length){if(a){const u=R2e(n,l()),d=KL(u,s,o,c);t({nodeInternals:d})}r==null||r(n)}},addSelectedNodes:n=>{const{multiSelectionActive:r,edges:s,getNodes:a}=e();let o,l=null;r?o=n.map(c=>Zm(c,!0)):(o=d1(a(),n),l=d1(s,[])),nB({changedNodes:o,changedEdges:l,get:e,set:t})},addSelectedEdges:n=>{const{multiSelectionActive:r,edges:s,getNodes:a}=e();let o,l=null;r?o=n.map(c=>Zm(c,!0)):(o=d1(s,n),l=d1(a(),[])),nB({changedNodes:l,changedEdges:o,get:e,set:t})},unselectNodesAndEdges:({nodes:n,edges:r}={})=>{const{edges:s,getNodes:a}=e(),o=n||a(),l=r||s,c=o.map(d=>(d.selected=!1,Zm(d.id,!1))),u=l.map(d=>Zm(d.id,!1));nB({changedNodes:c,changedEdges:u,get:e,set:t})},setMinZoom:n=>{const{d3Zoom:r,maxZoom:s}=e();r==null||r.scaleExtent([n,s]),t({minZoom:n})},setMaxZoom:n=>{const{d3Zoom:r,minZoom:s}=e();r==null||r.scaleExtent([s,n]),t({maxZoom:n})},setTranslateExtent:n=>{var r;(r=e().d3Zoom)==null||r.translateExtent(n),t({translateExtent:n})},resetSelectedElements:()=>{const{edges:n,getNodes:r}=e(),a=r().filter(l=>l.selected).map(l=>Zm(l.id,!1)),o=n.filter(l=>l.selected).map(l=>Zm(l.id,!1));nB({changedNodes:a,changedEdges:o,get:e,set:t})},setNodeExtent:n=>{const{nodeInternals:r}=e();r.forEach(s=>{s.positionAbsolute=zq(s.position,n)}),t({nodeExtent:n,nodeInternals:new Map(r)})},panBy:n=>{const{transform:r,width:s,height:a,d3Zoom:o,d3Selection:l,translateExtent:c}=e();if(!o||!l||!n.x&&!n.y)return!1;const u=Gg.translate(r[0]+n.x,r[1]+n.y).scale(r[2]),d=[[0,0],[s,a]],h=o==null?void 0:o.constrain()(u,d,c);return o.transform(l,h),r[0]!==h.x||r[1]!==h.y||r[2]!==h.k},cancelConnection:()=>t({connectionNodeId:$m.connectionNodeId,connectionHandleId:$m.connectionHandleId,connectionHandleType:$m.connectionHandleType,connectionStatus:$m.connectionStatus,connectionStartHandle:$m.connectionStartHandle,connectionEndHandle:$m.connectionEndHandle}),reset:()=>t({...$m})}),Object.is),J2e=({children:t})=>{const e=E.useRef(null);return e.current||(e.current=LAt()),pe.createElement(sft,{value:e.current},t)};J2e.displayName="ReactFlowProvider";const Z2e=({children:t})=>E.useContext(p6)?pe.createElement(pe.Fragment,null,t):pe.createElement(J2e,null,t);Z2e.displayName="ReactFlowWrapper";const RAt={input:D2e,default:HH,output:k2e,group:Yq},QAt={default:PT,straight:Vq,step:qq,smoothstep:m6,simplebezier:Wq},HAt=[0,0],zAt=[15,15],$At={x:0,y:0,zoom:1},WAt={width:"100%",height:"100%",overflow:"hidden",position:"relative",zIndex:0},eje=E.forwardRef(({nodes:t,edges:e,defaultNodes:n,defaultEdges:r,className:s,nodeTypes:a=RAt,edgeTypes:o=QAt,onNodeClick:l,onEdgeClick:c,onInit:u,onMove:d,onMoveStart:h,onMoveEnd:f,onConnect:A,onConnectStart:v,onConnectEnd:p,onClickConnectStart:m,onClickConnectEnd:g,onNodeMouseEnter:x,onNodeMouseMove:b,onNodeMouseLeave:j,onNodeContextMenu:N,onNodeDoubleClick:_,onNodeDragStart:C,onNodeDrag:k,onNodeDragStop:T,onNodesDelete:O,onEdgesDelete:I,onSelectionChange:F,onSelectionDragStart:M,onSelectionDrag:S,onSelectionDragStop:q,onSelectionContextMenu:U,onSelectionStart:L,onSelectionEnd:z,connectionMode:$=by.Strict,connectionLineType:K=ng.Bezier,connectionLineStyle:V,connectionLineComponent:H,connectionLineContainerStyle:W,deleteKeyCode:Y="Backspace",selectionKeyCode:ee="Shift",selectionOnDrag:ie=!1,selectionMode:se=O5.Full,panActivationKeyCode:Ae="Space",multiSelectionKeyCode:he=kT()?"Meta":"Control",zoomActivationKeyCode:Be=kT()?"Meta":"Control",snapToGrid:Me=!1,snapGrid:Ie=zAt,onlyRenderVisibleElements:Ye=!1,selectNodesOnDrag:X=!0,nodesDraggable:ue,nodesConnectable:re,nodesFocusable:de,nodeOrigin:ce=HAt,edgesFocusable:Ne,edgesUpdatable:$e,elementsSelectable:ze,defaultViewport:Fe=$At,minZoom:De=.5,maxZoom:Ce=2,translateExtent:Oe=$H,preventScrolling:We=!0,nodeExtent:ut,defaultMarkerColor:yt="#b1b1b7",zoomOnScroll:Nt=!0,zoomOnPinch:jt=!0,panOnScroll:Ue=!1,panOnScrollSpeed:ct=.5,panOnScrollMode:ht=Qv.Free,zoomOnDoubleClick:kt=!0,panOnDrag:Ot=!0,onPaneClick:Ut,onPaneMouseEnter:mn,onPaneMouseMove:fn,onPaneMouseLeave:wi,onPaneScroll:lr,onPaneContextMenu:ge,children:Se,onEdgeContextMenu:Re,onEdgeDoubleClick:Je,onEdgeMouseEnter:wt,onEdgeMouseMove:ln,onEdgeMouseLeave:kn,onEdgeUpdate:Pr,onEdgeUpdateStart:Fi,onEdgeUpdateEnd:Xt,onReconnect:di,onReconnectStart:ji,onReconnectEnd:Ni,reconnectRadius:pr=10,edgeUpdaterRadius:rr=10,onNodesChange:ii,onEdgesChange:ba,noDragClassName:Hr="nodrag",noWheelClassName:wa="nowheel",noPanClassName:ts="nopan",fitView:$i=!1,fitViewOptions:el,connectOnClick:Ga=!0,attributionPosition:Ul,proOptions:eu,defaultEdgeOptions:nd,elevateNodesOnSelect:rd=!0,elevateEdgesOnSelect:id=!1,disableKeyboardA11y:sd=!1,autoPanOnConnect:Vp=!0,autoPanOnNodeDrag:hi=!0,connectionRadius:Ex=20,isValidConnection:tu,onError:Vf,style:Nh,id:_h,nodeDragThreshold:Kp,...ad},po)=>{const nu=_h||"1";return pe.createElement("div",{...ad,style:{...Nh,...WAt},ref:po,className:Pl(["react-flow",s]),"data-testid":"rf__wrapper",id:_h},pe.createElement(Z2e,null,pe.createElement(MAt,{onInit:u,onMove:d,onMoveStart:h,onMoveEnd:f,onNodeClick:l,onEdgeClick:c,onNodeMouseEnter:x,onNodeMouseMove:b,onNodeMouseLeave:j,onNodeContextMenu:N,onNodeDoubleClick:_,nodeTypes:a,edgeTypes:o,connectionLineType:K,connectionLineStyle:V,connectionLineComponent:H,connectionLineContainerStyle:W,selectionKeyCode:ee,selectionOnDrag:ie,selectionMode:se,deleteKeyCode:Y,multiSelectionKeyCode:he,panActivationKeyCode:Ae,zoomActivationKeyCode:Be,onlyRenderVisibleElements:Ye,selectNodesOnDrag:X,defaultViewport:Fe,translateExtent:Oe,minZoom:De,maxZoom:Ce,preventScrolling:We,zoomOnScroll:Nt,zoomOnPinch:jt,zoomOnDoubleClick:kt,panOnScroll:Ue,panOnScrollSpeed:ct,panOnScrollMode:ht,panOnDrag:Ot,onPaneClick:Ut,onPaneMouseEnter:mn,onPaneMouseMove:fn,onPaneMouseLeave:wi,onPaneScroll:lr,onPaneContextMenu:ge,onSelectionContextMenu:U,onSelectionStart:L,onSelectionEnd:z,onEdgeContextMenu:Re,onEdgeDoubleClick:Je,onEdgeMouseEnter:wt,onEdgeMouseMove:ln,onEdgeMouseLeave:kn,onReconnect:di??Pr,onReconnectStart:ji??Fi,onReconnectEnd:Ni??Xt,reconnectRadius:pr??rr,defaultMarkerColor:yt,noDragClassName:Hr,noWheelClassName:wa,noPanClassName:ts,elevateEdgesOnSelect:id,rfId:nu,disableKeyboardA11y:sd,nodeOrigin:ce,nodeExtent:ut}),pe.createElement(Uft,{nodes:t,edges:e,defaultNodes:n,defaultEdges:r,onConnect:A,onConnectStart:v,onConnectEnd:p,onClickConnectStart:m,onClickConnectEnd:g,nodesDraggable:ue,nodesConnectable:re,nodesFocusable:de,edgesFocusable:Ne,edgesUpdatable:$e,elementsSelectable:ze,elevateNodesOnSelect:rd,minZoom:De,maxZoom:Ce,nodeExtent:ut,onNodesChange:ii,onEdgesChange:ba,snapToGrid:Me,snapGrid:Ie,connectionMode:$,translateExtent:Oe,connectOnClick:Ga,defaultEdgeOptions:nd,fitView:$i,fitViewOptions:el,onNodesDelete:O,onEdgesDelete:I,onNodeDragStart:C,onNodeDrag:k,onNodeDragStop:T,onSelectionDrag:S,onSelectionDragStart:M,onSelectionDragStop:q,noPanClassName:ts,nodeOrigin:ce,rfId:nu,autoPanOnConnect:Vp,autoPanOnNodeDrag:hi,onError:Vf,connectionRadius:Ex,isValidConnection:tu,nodeDragThreshold:Kp}),pe.createElement(Fft,{onSelectionChange:F}),Se,pe.createElement(oft,{proOptions:eu,position:Ul}),pe.createElement(Rft,{rfId:nu,disableKeyboardA11y:sd})))});eje.displayName="ReactFlow";function tje(t){return e=>{const[n,r]=E.useState(e),s=E.useCallback(a=>r(o=>t(a,o)),[]);return[n,r,s]}}const qAt=tje(R2e),VAt=tje(eAt);function KAt(){return pe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32"},pe.createElement("path",{d:"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"}))}function GAt(){return pe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 5"},pe.createElement("path",{d:"M0 0h32v4.2H0z"}))}function XAt(){return pe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 30"},pe.createElement("path",{d:"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"}))}function YAt(){return pe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32"},pe.createElement("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"}))}function JAt(){return pe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32"},pe.createElement("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z"}))}const VN=({children:t,className:e,...n})=>pe.createElement("button",{type:"button",className:Pl(["react-flow__controls-button",e]),...n},t);VN.displayName="ControlButton";const ZAt=t=>({isInteractive:t.nodesDraggable||t.nodesConnectable||t.elementsSelectable,minZoomReached:t.transform[2]<=t.minZoom,maxZoomReached:t.transform[2]>=t.maxZoom}),nje=({style:t,showZoom:e=!0,showFitView:n=!0,showInteractive:r=!0,fitViewOptions:s,onZoomIn:a,onZoomOut:o,onFitView:l,onInteractiveChange:c,className:u,children:d,position:h="bottom-left"})=>{const f=Ka(),[A,v]=E.useState(!1),{isInteractive:p,minZoomReached:m,maxZoomReached:g}=fs(ZAt,Yo),{zoomIn:x,zoomOut:b,fitView:j}=Jq();if(E.useEffect(()=>{v(!0)},[]),!A)return null;const N=()=>{x(),a==null||a()},_=()=>{b(),o==null||o()},C=()=>{j(s),l==null||l()},k=()=>{f.setState({nodesDraggable:!p,nodesConnectable:!p,elementsSelectable:!p}),c==null||c(!p)};return pe.createElement(u2e,{className:Pl(["react-flow__controls",u]),position:h,style:t,"data-testid":"rf__controls"},e&&pe.createElement(pe.Fragment,null,pe.createElement(VN,{onClick:N,className:"react-flow__controls-zoomin",title:"zoom in","aria-label":"zoom in",disabled:g},pe.createElement(KAt,null)),pe.createElement(VN,{onClick:_,className:"react-flow__controls-zoomout",title:"zoom out","aria-label":"zoom out",disabled:m},pe.createElement(GAt,null))),n&&pe.createElement(VN,{className:"react-flow__controls-fitview",onClick:C,title:"fit view","aria-label":"fit view"},pe.createElement(XAt,null)),r&&pe.createElement(VN,{className:"react-flow__controls-interactive",onClick:k,title:"toggle interactivity","aria-label":"toggle interactivity"},p?pe.createElement(JAt,null):pe.createElement(YAt,null)),d)};nje.displayName="Controls";var ept=E.memo(nje),oh;(function(t){t.Lines="lines",t.Dots="dots",t.Cross="cross"})(oh||(oh={}));function tpt({color:t,dimensions:e,lineWidth:n}){return pe.createElement("path",{stroke:t,strokeWidth:n,d:`M${e[0]/2} 0 V${e[1]} M0 ${e[1]/2} H${e[0]}`})}function npt({color:t,radius:e}){return pe.createElement("circle",{cx:e,cy:e,r:e,fill:t})}const rpt={[oh.Dots]:"#91919a",[oh.Lines]:"#eee",[oh.Cross]:"#e2e2e2"},ipt={[oh.Dots]:1,[oh.Lines]:1,[oh.Cross]:6},spt=t=>({transform:t.transform,patternId:`pattern-${t.rfId}`});function rje({id:t,variant:e=oh.Dots,gap:n=20,size:r,lineWidth:s=1,offset:a=2,color:o,style:l,className:c}){const u=E.useRef(null),{transform:d,patternId:h}=fs(spt,Yo),f=o||rpt[e],A=r||ipt[e],v=e===oh.Dots,p=e===oh.Cross,m=Array.isArray(n)?n:[n,n],g=[m[0]*d[2]||1,m[1]*d[2]||1],x=A*d[2],b=p?[x,x]:g,j=v?[x/a,x/a]:[b[0]/a,b[1]/a];return pe.createElement("svg",{className:Pl(["react-flow__background",c]),style:{...l,position:"absolute",width:"100%",height:"100%",top:0,left:0},ref:u,"data-testid":"rf__background"},pe.createElement("pattern",{id:h+t,x:d[0]%g[0],y:d[1]%g[1],width:g[0],height:g[1],patternUnits:"userSpaceOnUse",patternTransform:`translate(-${j[0]},-${j[1]})`},v?pe.createElement(npt,{color:f,radius:x/a}):pe.createElement(tpt,{dimensions:b,color:f,lineWidth:s})),pe.createElement("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:`url(#${h+t})`}))}rje.displayName="Background";var apt=E.memo(rje);const opt=({data:t,selected:e,onEdit:n})=>{const r=()=>{switch(t.type){case"scene":return i.jsx(dr,{className:"h-4 w-4"});case"character":return i.jsx(q0,{className:"h-4 w-4"});case"condition":return i.jsx(Np,{className:"h-4 w-4"});case"loop":return i.jsx(yce,{className:"h-4 w-4"});case"branch":return i.jsx(pce,{className:"h-4 w-4"});case"template":return i.jsx(vce,{className:"h-4 w-4"});default:return i.jsx(w_,{className:"h-4 w-4"})}},s=()=>{switch(t.type){case"scene":return"bg-blue-100 border-blue-300";case"character":return"bg-green-100 border-green-300";case"condition":return"bg-yellow-100 border-yellow-300";case"loop":return"bg-purple-100 border-purple-300";case"branch":return"bg-pink-100 border-pink-300";case"template":return"bg-gray-100 border-gray-300";default:return"bg-white border-gray-300"}};return i.jsxs("div",{className:`min-w-[200px] border-2 rounded-lg p-3 shadow-sm ${s()} ${e?"ring-2 ring-blue-500":""}`,children:[i.jsx(T2,{type:"target",position:pn.Top}),i.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r(),i.jsx("h3",{className:"font-medium text-sm",children:t.title}),i.jsx(He,{variant:"secondary",className:"text-xs",children:t.type})]}),i.jsx("p",{className:"text-xs text-gray-600 mb-2",children:t.description}),t.preview&&i.jsxs("div",{className:"bg-white rounded p-2 text-xs border",children:[i.jsx("strong",{children:"معاينة:"})," ",t.preview.substring(0,100),"..."]}),i.jsxs("div",{className:"flex gap-1 mt-2",children:[i.jsx(xe,{size:"sm",variant:"ghost",onClick:()=>n(t),children:i.jsx(Qr,{className:"h-3 w-3"})}),i.jsx(xe,{size:"sm",variant:"ghost",children:i.jsx(Vn,{className:"h-3 w-3"})})]}),i.jsx(T2,{type:"source",position:pn.Bottom})]})},lpt=()=>{const[t,e,n]=qAt([]),[r,s,a]=VAt([]),[o,l]=E.useState(null),[c,u]=E.useState(!1),[d,h]=E.useState(!1),[f]=E.useState([{id:"scene-intro",name:"مشهد تقديمي",type:"scene",description:"مشهد لتقديم الشخصيات والمكان",defaultSettings:{setting:"",characters:[],mood:"neutral",length:"medium"},category:"مشاهد"},{id:"character-development",name:"تطوير شخصية",type:"character",description:"عقدة لتطوير شخصية معينة",defaultSettings:{character:"",trait:"",development:"positive"},category:"شخصيات"},{id:"plot-condition",name:"شرط الحبكة",type:"condition",description:"تفرع الحبكة حسب شرط معين",defaultSettings:{condition:"",trueBranch:"",falseBranch:""},category:"منطق"},{id:"chapter-loop",name:"حلقة الفصول",type:"loop",description:"تكرار نمط معين عبر عدة فصول",defaultSettings:{iterations:3,pattern:"",variation:!0},category:"منطق"}]),A={custom:x=>i.jsx(opt,{...x,onEdit:b=>{l(b),u(!0)}})},v=E.useCallback(x=>s(b=>v2e(x,b)),[s]),p=x=>{const b={id:`${x.type}-${Date.now()}`,type:"custom",position:{x:Math.random()*500,y:Math.random()*300},data:{id:`${x.type}-${Date.now()}`,type:x.type,title:x.name,description:x.description,settings:x.defaultSettings,preview:`هذا مثال على ${x.name}`}};e(j=>[...j,b])},m=()=>{h(!0),setTimeout(()=>{h(!1)},3e3)},g=x=>{e(b=>b.map(j=>j.id===x.id?{...j,data:x}:j)),u(!1),l(null)};return i.jsxs("div",{className:"h-screen flex flex-col",dir:"rtl",children:[i.jsxs("div",{className:"flex items-center justify-between p-4 border-b bg-white",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"p-2 bg-gradient-to-br from-purple-500 to-blue-600 rounded-lg",children:i.jsx(fce,{className:"h-6 w-6 text-white"})}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-xl font-bold text-gray-900",children:"المدير الفني للرواية المحسن"}),i.jsx("p",{className:"text-sm text-gray-600",children:"تصميم وإدارة سير العمل الإبداعي للرواية"})]})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(xe,{variant:d?"destructive":"default",onClick:m,className:"gap-2",children:d?i.jsxs(i.Fragment,{children:[i.jsx(jp,{className:"h-4 w-4"}),"إيقاف"]}):i.jsxs(i.Fragment,{children:[i.jsx(xa,{className:"h-4 w-4"}),"تشغيل"]})}),i.jsxs(xe,{variant:"outline",className:"gap-2",children:[i.jsx(Ko,{className:"h-4 w-4"}),"حفظ"]}),i.jsxs(xe,{variant:"outline",className:"gap-2",children:[i.jsx(dx,{className:"h-4 w-4"}),"إعادة تعيين"]})]})]}),i.jsxs("div",{className:"flex flex-1",children:[i.jsxs("div",{className:"w-80 border-l bg-gray-50 p-4 overflow-y-auto",children:[i.jsxs("h2",{className:"font-bold text-lg mb-4 flex items-center gap-2",children:[i.jsx(vce,{className:"h-5 w-5"}),"مكتبة القوالب"]}),i.jsxs(zn,{defaultValue:"scenes",className:"w-full",children:[i.jsxs(On,{className:"grid w-full grid-cols-3 text-xs",children:[i.jsx(nt,{value:"scenes",children:"مشاهد"}),i.jsx(nt,{value:"characters",children:"شخصيات"}),i.jsx(nt,{value:"logic",children:"منطق"})]}),i.jsx(rt,{value:"scenes",className:"space-y-2 mt-4",children:f.filter(x=>x.category==="مشاهد").map(x=>i.jsx(ae,{className:"cursor-pointer hover:bg-blue-50 transition-colors",onClick:()=>p(x),children:i.jsxs(oe,{className:"p-3",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[i.jsx(dr,{className:"h-4 w-4 text-blue-600"}),i.jsx("h3",{className:"font-medium text-sm",children:x.name})]}),i.jsx("p",{className:"text-xs text-gray-600",children:x.description}),i.jsxs(xe,{size:"sm",variant:"ghost",className:"w-full mt-2 gap-1",children:[i.jsx(us,{className:"h-3 w-3"}),"إضافة"]})]})},x.id))}),i.jsx(rt,{value:"characters",className:"space-y-2 mt-4",children:f.filter(x=>x.category==="شخصيات").map(x=>i.jsx(ae,{className:"cursor-pointer hover:bg-green-50 transition-colors",onClick:()=>p(x),children:i.jsxs(oe,{className:"p-3",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[i.jsx(q0,{className:"h-4 w-4 text-green-600"}),i.jsx("h3",{className:"font-medium text-sm",children:x.name})]}),i.jsx("p",{className:"text-xs text-gray-600",children:x.description}),i.jsxs(xe,{size:"sm",variant:"ghost",className:"w-full mt-2 gap-1",children:[i.jsx(us,{className:"h-3 w-3"}),"إضافة"]})]})},x.id))}),i.jsx(rt,{value:"logic",className:"space-y-2 mt-4",children:f.filter(x=>x.category==="منطق").map(x=>i.jsx(ae,{className:"cursor-pointer hover:bg-purple-50 transition-colors",onClick:()=>p(x),children:i.jsxs(oe,{className:"p-3",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[x.type==="condition"?i.jsx(Np,{className:"h-4 w-4 text-purple-600"}):i.jsx(yce,{className:"h-4 w-4 text-purple-600"}),i.jsx("h3",{className:"font-medium text-sm",children:x.name})]}),i.jsx("p",{className:"text-xs text-gray-600",children:x.description}),i.jsxs(xe,{size:"sm",variant:"ghost",className:"w-full mt-2 gap-1",children:[i.jsx(us,{className:"h-3 w-3"}),"إضافة"]})]})},x.id))})]})]}),i.jsxs("div",{className:"flex-1 relative",children:[i.jsxs(eje,{nodes:t,edges:r,onNodesChange:n,onEdgesChange:a,onConnect:v,nodeTypes:A,fitView:!0,className:"bg-gray-100",children:[i.jsx(ept,{position:"bottom-left"}),i.jsx(apt,{})]}),d&&i.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:i.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-xl text-center",children:[i.jsx(Qn,{className:"h-8 w-8 mx-auto mb-3 text-purple-600 animate-spin"}),i.jsx("h3",{className:"font-bold text-lg mb-2",children:"تنفيذ سير العمل"}),i.jsx("p",{className:"text-gray-600",children:"جاري معالجة العقد وإنتاج المحتوى..."})]})})]})]}),i.jsx(Xc,{open:c,onOpenChange:u,children:i.jsxs(oc,{className:"max-w-2xl max-h-[80vh] overflow-y-auto",dir:"rtl",children:[i.jsx(lc,{children:i.jsxs(cc,{className:"flex items-center gap-2",children:[i.jsx(Qr,{className:"h-5 w-5"}),"تحرير العقدة: ",o==null?void 0:o.title]})}),o&&i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-1",children:"العنوان"}),i.jsx(wn,{value:o.title,onChange:x=>l({...o,title:x.target.value})})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-1",children:"النوع"}),i.jsxs(vi,{value:o.type,onValueChange:x=>l({...o,type:x}),children:[i.jsx(li,{children:i.jsx(yi,{})}),i.jsxs(ci,{children:[i.jsx(Bt,{value:"scene",children:"مشهد"}),i.jsx(Bt,{value:"character",children:"شخصية"}),i.jsx(Bt,{value:"condition",children:"شرط"}),i.jsx(Bt,{value:"loop",children:"حلقة"}),i.jsx(Bt,{value:"branch",children:"تفرع"})]})]})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-1",children:"الوصف"}),i.jsx(Zi,{value:o.description,onChange:x=>l({...o,description:x.target.value}),rows:3})]}),o.type==="scene"&&i.jsxs(ae,{children:[i.jsx(Te,{children:i.jsx(ke,{className:"text-sm",children:"إعدادات المشهد"})}),i.jsxs(oe,{className:"space-y-3",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-1",children:"المكان"}),i.jsx(wn,{placeholder:"مثال: غرفة المعيشة، الحديقة..."})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-1",children:"الشخصيات المشاركة"}),i.jsx(wn,{placeholder:"أدخل أسماء الشخصيات مفصولة بفواصل"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-1",children:"الحالة المزاجية"}),i.jsxs(vi,{children:[i.jsx(li,{children:i.jsx(yi,{placeholder:"اختر الحالة المزاجية"})}),i.jsxs(ci,{children:[i.jsx(Bt,{value:"happy",children:"سعيدة"}),i.jsx(Bt,{value:"sad",children:"حزينة"}),i.jsx(Bt,{value:"tense",children:"متوترة"}),i.jsx(Bt,{value:"mysterious",children:"غامضة"}),i.jsx(Bt,{value:"romantic",children:"رومانسية"})]})]})]})]})]}),o.type==="condition"&&i.jsxs(ae,{children:[i.jsx(Te,{children:i.jsx(ke,{className:"text-sm",children:"إعدادات الشرط"})}),i.jsxs(oe,{className:"space-y-3",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-1",children:"الشرط"}),i.jsx(wn,{placeholder:"مثال: إذا اختار البطل المسار الأيمن..."})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-1",children:"عند تحقق الشرط"}),i.jsx(Zi,{placeholder:"ما يحدث عند تحقق الشرط...",rows:2})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-1",children:"عند عدم تحقق الشرط"}),i.jsx(Zi,{placeholder:"ما يحدث عند عدم تحقق الشرط...",rows:2})]})]})]}),o.type==="loop"&&i.jsxs(ae,{children:[i.jsx(Te,{children:i.jsx(ke,{className:"text-sm",children:"إعدادات الحلقة"})}),i.jsxs(oe,{className:"space-y-3",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-1",children:"عدد التكرارات"}),i.jsx(pi,{value:[o.loops||3],onValueChange:x=>l({...o,loops:x[0]}),max:10,min:1,step:1}),i.jsxs("p",{className:"text-xs text-gray-600 mt-1",children:["التكرار ",o.loops||3," مرات"]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-1",children:"النمط المتكرر"}),i.jsx(Zi,{placeholder:"وصف النمط الذي سيتكرر...",rows:2})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("span",{className:"text-sm font-medium",children:"إضافة تنويع"}),i.jsx(zo,{})]})]})]}),i.jsxs("div",{className:"flex justify-end gap-2 pt-4 border-t",children:[i.jsx(xe,{variant:"outline",onClick:()=>u(!1),children:"إلغاء"}),i.jsx(xe,{onClick:()=>g(o),children:"حفظ التغييرات"})]})]})]})})]})},cpt=()=>{const[t,e]=E.useState([{id:"idea-gen",name:"مولد الأفكار",role:"مبدع",specialization:"توليد الأفكار الإبداعية",expertise:.92,currentTask:"تطوير فكرة رواية جديدة",status:"active",performance:.89,learning_rate:.15,avatar:"🎨",personality:["إبداعي","متفائل","مبتكر"]},{id:"plot-arch",name:"معمار الحبكة",role:"محلل",specialization:"بناء وتنظيم الحبكات",expertise:.88,currentTask:"تحليل بنية الفصل الأول",status:"thinking",performance:.91,learning_rate:.12,avatar:"🏗️",personality:["منطقي","منظم","دقيق"]},{id:"char-dev",name:"مطور الشخصيات",role:"نفساني",specialization:"تطوير الشخصيات والحوار",expertise:.94,currentTask:"تعميق شخصية البطل",status:"collaborating",performance:.87,learning_rate:.18,avatar:"🎭",personality:["حدسي","عاطفي","متعمق"]},{id:"lang-master",name:"أستاذ اللغة",role:"لغوي",specialization:"الأسلوب والبلاغة",expertise:.96,currentTask:"تحسين الأسلوب اللغوي",status:"active",performance:.93,learning_rate:.1,avatar:"📚",personality:["دقيق","فصيح","محافظ"]},{id:"critic",name:"الناقد الأدبي",role:"محكم",specialization:"التقييم والنقد البناء",expertise:.9,currentTask:"تقييم جودة الفصل المكتوب",status:"active",performance:.88,learning_rate:.08,avatar:"⚖️",personality:["نقدي","موضوعي","حكيم"]}]),[n,r]=E.useState([{id:"collab-1",participants:["idea-gen","plot-arch","char-dev"],topic:"تطوير فكرة الرواية الجديدة",status:"negotiating",proposals:[{id:"prop-1",agentId:"idea-gen",content:"رواية خيال علمي تدور في المستقبل",reasoning:"الخيال العلمي يجذب القراء الشباب ويسمح بالإبداع",confidence:.85,votes:2,timestamp:new Date},{id:"prop-2",agentId:"plot-arch",content:"رواية تاريخية مع عناصر غامضة",reasoning:"التاريخ يوفر أساساً قوياً والغموض يضيف التشويق",confidence:.78,votes:1,timestamp:new Date}],confidence:.72,startTime:new Date}]),[s,a]=E.useState([{id:"assess-1",targetAgent:"char-dev",targetWork:"تطوير شخصية البطل",score:8.5,feedback:"تطوير ممتاز للشخصية مع عمق نفسي جيد",suggestions:["إضافة المزيد من التفاصيل الشخصية","تطوير العلاقات مع الشخصيات الأخرى"],timestamp:new Date},{id:"assess-2",targetAgent:"lang-master",targetWork:"تحسين الأسلوب اللغوي",score:9.2,feedback:"أسلوب رائع يتماشى مع طبيعة النص",suggestions:["المحافظة على هذا المستوى","إضافة المزيد من الصور البلاغية"],timestamp:new Date}]),[o,l]=E.useState(null),[c,u]=E.useState(!1),d=p=>{switch(p){case"active":return i.jsx(vr,{className:"h-4 w-4 text-green-600"});case"thinking":return i.jsx(zt,{className:"h-4 w-4 text-blue-600"});case"collaborating":return i.jsx(Wn,{className:"h-4 w-4 text-purple-600"});case"idle":return i.jsx(xr,{className:"h-4 w-4 text-gray-600"});default:return i.jsx(xr,{className:"h-4 w-4 text-gray-600"})}},h=p=>{switch(p){case"active":return"bg-green-100 text-green-800";case"thinking":return"bg-blue-100 text-blue-800";case"collaborating":return"bg-purple-100 text-purple-800";case"idle":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}},f=p=>{switch(p){case"مبدع":return i.jsx(nr,{className:"h-4 w-4"});case"محلل":return i.jsx(En,{className:"h-4 w-4"});case"نفساني":return i.jsx(zt,{className:"h-4 w-4"});case"لغوي":return i.jsx(dr,{className:"h-4 w-4"});case"محكم":return i.jsx(Vn,{className:"h-4 w-4"});default:return i.jsx(zt,{className:"h-4 w-4"})}},A=p=>{l(p),u(!0),setTimeout(()=>{r(m=>m.map(g=>g.id===p.id?{...g,status:"agreed",confidence:.89}:g)),u(!1)},5e3)},v=p=>{e(m=>m.map(g=>g.id===p?{...g,expertise:Math.min(.99,g.expertise+.03),performance:Math.min(.99,g.performance+.02),status:"thinking"}:g)),setTimeout(()=>{e(m=>m.map(g=>g.id===p?{...g,status:"active"}:g))},3e3)};return i.jsxs("div",{className:"p-6 space-y-6",dir:"rtl",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"p-3 bg-gradient-to-br from-purple-500 to-blue-600 rounded-lg",children:i.jsx(zt,{className:"h-6 w-6 text-white"})}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"ذكاء الوكلاء المعمق"}),i.jsx("p",{className:"text-gray-600",children:"نظام تعاون ذكي بين الوكلاء للحصول على أفضل النتائج"})]})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsxs(xe,{variant:"outline",className:"gap-2",children:[i.jsx(Ar,{className:"h-4 w-4"}),"تحديث جميع النماذج"]}),i.jsxs(xe,{className:"gap-2",children:[i.jsx(xa,{className:"h-4 w-4"}),"بدء جلسة تعاون جديدة"]})]})]}),i.jsxs(zn,{defaultValue:"agents",className:"w-full",children:[i.jsxs(On,{className:"grid w-full grid-cols-4",children:[i.jsxs(nt,{value:"agents",className:"gap-2",children:[i.jsx(Wn,{className:"h-4 w-4"}),"الوكلاء الذكيون"]}),i.jsxs(nt,{value:"collaboration",className:"gap-2",children:[i.jsx($u,{className:"h-4 w-4"}),"التعاون والتفاوض"]}),i.jsxs(nt,{value:"critic",className:"gap-2",children:[i.jsx(Vn,{className:"h-4 w-4"}),"الناقد الأدبي"]}),i.jsxs(nt,{value:"analytics",className:"gap-2",children:[i.jsx(Hn,{className:"h-4 w-4"}),"تحليل الأداء"]})]}),i.jsx(rt,{value:"agents",className:"space-y-4",children:i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:t.map(p=>i.jsxs(ae,{className:"relative overflow-hidden",children:[i.jsx(Te,{className:"pb-3",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"text-2xl",children:p.avatar}),i.jsxs("div",{children:[i.jsx(ke,{className:"text-lg",children:p.name}),i.jsxs("div",{className:"flex items-center gap-1 text-sm text-gray-600",children:[f(p.role),p.role]})]})]}),i.jsxs(He,{className:h(p.status),children:[d(p.status),i.jsx("span",{className:"mr-1",children:p.status==="active"?"نشط":p.status==="thinking"?"يفكر":p.status==="collaborating"?"يتعاون":"خامل"})]})]})}),i.jsxs(oe,{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-600 mb-2",children:p.specialization}),i.jsx("p",{className:"text-sm font-medium",children:"المهمة الحالية:"}),i.jsx("p",{className:"text-sm text-gray-700",children:p.currentTask})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{children:[i.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[i.jsx("span",{children:"مستوى الخبرة"}),i.jsxs("span",{children:[Math.round(p.expertise*100),"%"]})]}),i.jsx(tt,{value:p.expertise*100,className:"h-2"})]}),i.jsxs("div",{children:[i.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[i.jsx("span",{children:"الأداء الحالي"}),i.jsxs("span",{children:[Math.round(p.performance*100),"%"]})]}),i.jsx(tt,{value:p.performance*100,className:"h-2"})]})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium mb-2",children:"الشخصية:"}),i.jsx("div",{className:"flex flex-wrap gap-1",children:p.personality.map((m,g)=>i.jsx(He,{variant:"secondary",className:"text-xs",children:m},g))})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx(xe,{size:"sm",variant:"outline",className:"flex-1",onClick:()=>v(p.id),children:"إعادة تدريب"}),i.jsx(xe,{size:"sm",variant:"ghost",children:i.jsx(Qr,{className:"h-4 w-4"})})]})]})]},p.id))})}),i.jsx(rt,{value:"collaboration",className:"space-y-4",children:i.jsxs(ae,{children:[i.jsx(Te,{children:i.jsxs(ke,{className:"flex items-center gap-2",children:[i.jsx(Wn,{className:"h-5 w-5"}),"جلسات التعاون النشطة"]})}),i.jsx(oe,{children:i.jsx("div",{className:"space-y-4",children:n.map(p=>i.jsxs("div",{className:"border rounded-lg p-4",children:[i.jsxs("div",{className:"flex items-start justify-between mb-3",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"font-medium text-lg",children:p.topic}),i.jsxs("p",{className:"text-sm text-gray-600",children:["المشاركون: ",p.participants.map(m=>{var g;return(g=t.find(x=>x.id===m))==null?void 0:g.name}).join("، ")]})]}),i.jsx(He,{className:p.status==="negotiating"?"bg-yellow-100 text-yellow-800":p.status==="agreed"?"bg-green-100 text-green-800":"bg-red-100 text-red-800",children:p.status==="negotiating"?"جاري التفاوض":p.status==="agreed"?"متفق عليه":p.status==="disagreed"?"غير متفق عليه":"معلق"})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsx("h4",{className:"font-medium",children:"المقترحات:"}),p.proposals.map(m=>{var g;return i.jsxs("div",{className:"bg-gray-50 rounded p-3",children:[i.jsxs("div",{className:"flex items-start justify-between mb-2",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"font-medium text-sm",children:(g=t.find(x=>x.id===m.agentId))==null?void 0:g.name}),i.jsxs(He,{variant:"secondary",className:"text-xs",children:["ثقة ",Math.round(m.confidence*100),"%"]})]}),i.jsxs("div",{className:"flex items-center gap-1 text-sm text-gray-600",children:[i.jsx(Rt,{className:"h-4 w-4"}),m.votes," موافقة"]})]}),i.jsx("p",{className:"text-sm mb-2",children:m.content}),i.jsxs("p",{className:"text-xs text-gray-600",children:[i.jsx("strong",{children:"المبرر:"})," ",m.reasoning]})]},m.id)})]}),i.jsxs("div",{className:"flex items-center justify-between mt-4 pt-3 border-t",children:[i.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[i.jsx("span",{children:"مستوى الثقة الإجمالي:"}),i.jsxs("span",{className:"font-medium",children:[Math.round(p.confidence*100),"%"]})]}),i.jsxs("div",{className:"flex gap-2",children:[p.status==="negotiating"&&i.jsx(xe,{size:"sm",onClick:()=>A(p),disabled:c,children:c?"جاري التفاوض...":"بدء التفاوض"}),i.jsx(xe,{size:"sm",variant:"outline",children:"عرض التفاصيل"})]})]})]},p.id))})})]})}),i.jsx(rt,{value:"critic",className:"space-y-4",children:i.jsxs(ae,{children:[i.jsx(Te,{children:i.jsxs(ke,{className:"flex items-center gap-2",children:[i.jsx(Vn,{className:"h-5 w-5"}),"تقييمات الناقد الأدبي"]})}),i.jsx(oe,{children:i.jsx("div",{className:"space-y-4",children:s.map(p=>{var m;return i.jsxs("div",{className:"border rounded-lg p-4",children:[i.jsxs("div",{className:"flex items-start justify-between mb-3",children:[i.jsxs("div",{children:[i.jsxs("h3",{className:"font-medium",children:["تقييم عمل: ",(m=t.find(g=>g.id===p.targetAgent))==null?void 0:m.name]}),i.jsx("p",{className:"text-sm text-gray-600",children:p.targetWork})]}),i.jsxs("div",{className:"text-left",children:[i.jsxs("div",{className:"text-2xl font-bold text-green-600",children:[p.score,"/10"]}),i.jsx("div",{className:"text-xs text-gray-500",children:"النتيجة"})]})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{children:[i.jsx("h4",{className:"font-medium text-sm mb-1",children:"التقييم:"}),i.jsx("p",{className:"text-sm bg-blue-50 p-3 rounded",children:p.feedback})]}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-medium text-sm mb-2",children:"اقتراحات التحسين:"}),i.jsx("ul",{className:"space-y-1",children:p.suggestions.map((g,x)=>i.jsxs("li",{className:"text-sm flex items-start gap-2",children:[i.jsx("span",{className:"text-blue-600 mt-1",children:"•"}),g]},x))})]})]}),i.jsxs("div",{className:"flex justify-between items-center mt-4 pt-3 border-t text-xs text-gray-500",children:[i.jsxs("span",{children:["تاريخ التقييم: ",p.timestamp.toLocaleDateString("ar")]}),i.jsx(xe,{size:"sm",variant:"ghost",children:"عرض التفاصيل الكاملة"})]})]},p.id)})})})]})}),i.jsxs(rt,{value:"analytics",className:"space-y-4",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[i.jsxs(ae,{children:[i.jsx(Te,{children:i.jsxs(ke,{className:"text-lg flex items-center gap-2",children:[i.jsx(Hn,{className:"h-5 w-5"}),"إجمالي الأداء"]})}),i.jsxs(oe,{children:[i.jsxs("div",{className:"text-3xl font-bold text-green-600 mb-2",children:[Math.round(t.reduce((p,m)=>p+m.performance,0)/t.length*100),"%"]}),i.jsx("p",{className:"text-sm text-gray-600",children:"متوسط أداء جميع الوكلاء"}),i.jsx(tt,{value:t.reduce((p,m)=>p+m.performance,0)/t.length*100,className:"mt-3"})]})]}),i.jsxs(ae,{children:[i.jsx(Te,{children:i.jsxs(ke,{className:"text-lg flex items-center gap-2",children:[i.jsx(za,{className:"h-5 w-5"}),"أفضل وكيل"]})}),i.jsx(oe,{children:(()=>{const p=t.reduce((m,g)=>g.performance>m.performance?g:m);return i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[i.jsx("span",{className:"text-lg",children:p.avatar}),i.jsx("span",{className:"font-medium",children:p.name})]}),i.jsx("p",{className:"text-sm text-gray-600 mb-2",children:p.specialization}),i.jsxs("div",{className:"text-2xl font-bold text-blue-600",children:[Math.round(p.performance*100),"%"]})]})})()})]}),i.jsxs(ae,{children:[i.jsx(Te,{children:i.jsxs(ke,{className:"text-lg flex items-center gap-2",children:[i.jsx($u,{className:"h-5 w-5"}),"التعاون النشط"]})}),i.jsxs(oe,{children:[i.jsx("div",{className:"text-3xl font-bold text-purple-600 mb-2",children:n.length}),i.jsx("p",{className:"text-sm text-gray-600",children:"جلسة تعاون نشطة"}),i.jsx("div",{className:"mt-3 space-y-1",children:n.map((p,m)=>i.jsx("div",{className:"text-xs text-gray-500",children:p.topic},m))})]})]})]}),i.jsxs(ae,{children:[i.jsx(Te,{children:i.jsx(ke,{children:"توزيع الخبرات"})}),i.jsx(oe,{children:i.jsx("div",{className:"space-y-4",children:t.map(p=>i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsxs("div",{className:"flex items-center gap-2 w-40",children:[i.jsx("span",{children:p.avatar}),i.jsx("span",{className:"text-sm font-medium",children:p.name})]}),i.jsx("div",{className:"flex-1",children:i.jsx(tt,{value:p.expertise*100,className:"h-3"})}),i.jsxs("div",{className:"w-16 text-right text-sm font-medium",children:[Math.round(p.expertise*100),"%"]})]},p.id))})})]})]})]})]})},upt=()=>{const[t,e]=E.useState([{id:"1",agent:"مولد الأفكار",status:"working",progress:65,message:"جاري توليد أفكار جديدة للفصل الثالث...",priority:"high"},{id:"2",agent:"معمار الحبكة",status:"completed",progress:100,message:"تم الانتهاء من تحليل بنية الحبكة",priority:"medium"},{id:"3",agent:"مطور الشخصيات",status:"waiting",progress:0,message:"في انتظار اكتمال تحليل الحبكة...",priority:"low"}]),[n,r]=E.useState([{id:"1",type:"success",title:"تم إنجاز المهمة بنجاح",message:"تم الانتهاء من كتابة الفصل الأول وهو جاهز للمراجعة",actionable:!0,action:"مراجعة الآن",priority:1,timestamp:new Date,category:"إنتاج"},{id:"2",type:"warning",title:"تحسين مقترح",message:"يمكن تحسين الحوار في المشهد الثاني لجعله أكثر طبيعية",actionable:!0,action:"عرض الاقتراحات",priority:2,timestamp:new Date,category:"تحسين"},{id:"3",type:"info",title:"نصيحة ذكية",message:"استخدم المزيد من الوصف الحسي لإثراء المشاعر في هذا المشهد",actionable:!1,priority:3,timestamp:new Date,category:"نصائح"}]),[s,a]=E.useState({primaryColor:"#3b82f6",secondaryColor:"#8b5cf6",backgroundColor:"#f8fafc",textColor:"#1e293b",fontSize:16,fontFamily:"Cairo",borderRadius:8,spacing:16,animations:!0,darkMode:!1,highContrast:!1}),[o,l]=E.useState(!0),[c,u]=E.useState(!0),[d,h]=E.useState(!0),f=x=>{switch(x){case"working":return"bg-blue-100 border-blue-300 text-blue-800";case"completed":return"bg-green-100 border-green-300 text-green-800";case"error":return"bg-red-100 border-red-300 text-red-800";case"waiting":return"bg-yellow-100 border-yellow-300 text-yellow-800";default:return"bg-gray-100 border-gray-300 text-gray-800"}},A=x=>{switch(x){case"success":return i.jsx(Rt,{className:"h-5 w-5 text-green-600"});case"warning":return i.jsx($a,{className:"h-5 w-5 text-yellow-600"});case"error":return i.jsx($a,{className:"h-5 w-5 text-red-600"});case"info":return i.jsx(Go,{className:"h-5 w-5 text-blue-600"});default:return i.jsx(sB,{className:"h-5 w-5 text-gray-600"})}},v=x=>{r(b=>b.filter(j=>j.id!==x))},p=()=>{const x=document.documentElement;x.style.setProperty("--primary-color",s.primaryColor),x.style.setProperty("--secondary-color",s.secondaryColor),x.style.setProperty("--bg-color",s.backgroundColor),x.style.setProperty("--text-color",s.textColor),x.style.setProperty("--font-size",`${s.fontSize}px`),x.style.setProperty("--border-radius",`${s.borderRadius}px`),x.style.setProperty("--spacing",`${s.spacing}px`)},m=()=>{const x=JSON.stringify(s,null,2),b=new Blob([x],{type:"application/json"}),j=URL.createObjectURL(b),N=document.createElement("a");N.href=j,N.download="theme-settings.json",N.click()},g=x=>{var j;const b=(j=x.target.files)==null?void 0:j[0];if(b){const N=new FileReader;N.onload=_=>{var C;try{const k=JSON.parse((C=_.target)==null?void 0:C.result);a(k)}catch{alert("خطأ في قراءة ملف الثيم")}},N.readAsText(b)}};return E.useEffect(()=>{p()},[s]),i.jsxs("div",{className:"p-6 space-y-6",dir:"rtl",children:[i.jsx("div",{className:"flex items-center justify-between",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"p-3 bg-gradient-to-br from-purple-500 to-pink-600 rounded-lg",children:i.jsx(Qn,{className:"h-6 w-6 text-white"})}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"تجربة المستخدم التفاعلية المحسنة"}),i.jsx("p",{className:"text-gray-600",children:"تخصيص شامل للواجهة وتحسينات تفاعلية متقدمة"})]})]})}),i.jsxs(zn,{defaultValue:"visual-indicators",className:"w-full",children:[i.jsxs(On,{className:"grid w-full grid-cols-4",children:[i.jsxs(nt,{value:"visual-indicators",className:"gap-2",children:[i.jsx(Vn,{className:"h-4 w-4"}),"المؤشرات البصرية"]}),i.jsxs(nt,{value:"smart-notifications",className:"gap-2",children:[i.jsx(sB,{className:"h-4 w-4"}),"التنبيهات الذكية"]}),i.jsxs(nt,{value:"theme-customization",className:"gap-2",children:[i.jsx(Wa,{className:"h-4 w-4"}),"تخصيص الثيم"]}),i.jsxs(nt,{value:"ui-enhancements",className:"gap-2",children:[i.jsx(vr,{className:"h-4 w-4"}),"تحسينات UI/UX"]})]}),i.jsx(rt,{value:"visual-indicators",className:"space-y-4",children:i.jsxs(ae,{children:[i.jsx(Te,{children:i.jsxs(ke,{className:"flex items-center gap-2",children:[i.jsx(Vn,{className:"h-5 w-5"}),"مؤشرات حالة الوكلاء والعمليات"]})}),i.jsx(oe,{children:i.jsx("div",{className:"space-y-4",children:i.jsx(a3,{children:t.map(x=>i.jsxs(wl.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:`border-2 rounded-lg p-4 ${f(x.status)}`,children:[i.jsxs("div",{className:"flex items-center justify-between mb-3",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsxs("div",{className:"relative",children:[i.jsx(zt,{className:"h-6 w-6"}),x.status==="working"&&i.jsx(wl.div,{animate:{rotate:360},transition:{duration:2,repeat:1/0,ease:"linear"},className:"absolute inset-0",children:i.jsx("div",{className:"w-6 h-6 border-2 border-current border-t-transparent rounded-full"})})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-medium",children:x.agent}),i.jsx("p",{className:"text-sm opacity-80",children:x.message})]})]}),i.jsx(He,{variant:"secondary",children:x.priority==="high"?"عاجل":x.priority==="medium"?"متوسط":"منخفض"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex justify-between text-sm",children:[i.jsx("span",{children:"التقدم"}),i.jsxs("span",{children:[x.progress,"%"]})]}),i.jsx(tt,{value:x.progress,className:"h-2"})]})]},x.id))})})})]})}),i.jsx(rt,{value:"smart-notifications",className:"space-y-4",children:i.jsxs(ae,{children:[i.jsx(Te,{children:i.jsxs(ke,{className:"flex items-center gap-2",children:[i.jsx(sB,{className:"h-5 w-5"}),"نظام التنبيهات الذكية"]})}),i.jsxs(oe,{children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(zo,{checked:o,onCheckedChange:l}),i.jsx("span",{className:"font-medium",children:"تفعيل التنبيهات الذكية"})]}),i.jsx(xe,{variant:"outline",size:"sm",children:"إعدادات التنبيهات"})]}),i.jsx("div",{className:"space-y-3",children:i.jsx(a3,{children:n.map(x=>i.jsx(wl.div,{initial:{opacity:0,x:50},animate:{opacity:1,x:0},exit:{opacity:0,x:-50},className:"border rounded-lg p-4 bg-white shadow-sm",children:i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx("div",{className:"mt-1",children:A(x.type)}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsxs("div",{className:"flex items-center justify-between mb-1",children:[i.jsx("h3",{className:"font-medium text-sm",children:x.title}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(He,{variant:"secondary",className:"text-xs",children:x.category}),i.jsx(xe,{size:"sm",variant:"ghost",onClick:()=>v(x.id),className:"h-6 w-6 p-0",children:"×"})]})]}),i.jsx("p",{className:"text-sm text-gray-600 mb-2",children:x.message}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("span",{className:"text-xs text-gray-400",children:x.timestamp.toLocaleTimeString("ar")}),x.actionable&&i.jsx(xe,{size:"sm",variant:"outline",className:"h-7 text-xs",children:x.action})]})]})]})},x.id))})})]})]})}),i.jsx(rt,{value:"theme-customization",className:"space-y-4",children:i.jsxs(ae,{children:[i.jsx(Te,{children:i.jsxs(ke,{className:"flex items-center gap-2",children:[i.jsx(Wa,{className:"h-5 w-5"}),"تخصيص الثيم والألوان"]})}),i.jsxs(oe,{className:"space-y-6",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("div",{className:"space-y-4",children:[i.jsx("h3",{className:"font-medium",children:"الألوان"}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-2",children:"اللون الأساسي"}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx(wn,{type:"color",value:s.primaryColor,onChange:x=>a(b=>({...b,primaryColor:x.target.value})),className:"w-16 h-10"}),i.jsx(wn,{value:s.primaryColor,onChange:x=>a(b=>({...b,primaryColor:x.target.value})),className:"flex-1"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-2",children:"اللون الثانوي"}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx(wn,{type:"color",value:s.secondaryColor,onChange:x=>a(b=>({...b,secondaryColor:x.target.value})),className:"w-16 h-10"}),i.jsx(wn,{value:s.secondaryColor,onChange:x=>a(b=>({...b,secondaryColor:x.target.value})),className:"flex-1"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-2",children:"لون الخلفية"}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx(wn,{type:"color",value:s.backgroundColor,onChange:x=>a(b=>({...b,backgroundColor:x.target.value})),className:"w-16 h-10"}),i.jsx(wn,{value:s.backgroundColor,onChange:x=>a(b=>({...b,backgroundColor:x.target.value})),className:"flex-1"})]})]})]})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsx("h3",{className:"font-medium",children:"الخطوط والأبعاد"}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm font-medium mb-2",children:["حجم الخط: ",s.fontSize,"px"]}),i.jsx(pi,{value:[s.fontSize],onValueChange:x=>a(b=>({...b,fontSize:x[0]})),min:12,max:24,step:1})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-2",children:"نوع الخط"}),i.jsxs(vi,{value:s.fontFamily,onValueChange:x=>a(b=>({...b,fontFamily:x})),children:[i.jsx(li,{children:i.jsx(yi,{})}),i.jsxs(ci,{children:[i.jsx(Bt,{value:"Cairo",children:"Cairo"}),i.jsx(Bt,{value:"Tajawal",children:"Tajawal"}),i.jsx(Bt,{value:"Amiri",children:"Amiri"}),i.jsx(Bt,{value:"IBM Plex Sans Arabic",children:"IBM Plex Sans Arabic"})]})]})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm font-medium mb-2",children:["استدارة الحواف: ",s.borderRadius,"px"]}),i.jsx(pi,{value:[s.borderRadius],onValueChange:x=>a(b=>({...b,borderRadius:x[0]})),min:0,max:20,step:1})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm font-medium mb-2",children:["المسافات: ",s.spacing,"px"]}),i.jsx(pi,{value:[s.spacing],onValueChange:x=>a(b=>({...b,spacing:x[0]})),min:8,max:32,step:2})]})]})]})]}),i.jsxs("div",{className:"space-y-4 pt-4 border-t",children:[i.jsx("h3",{className:"font-medium",children:"خيارات إضافية"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(jv,{className:"h-4 w-4"}),i.jsx("span",{className:"text-sm",children:"الوضع الليلي"})]}),i.jsx(zo,{checked:s.darkMode,onCheckedChange:x=>a(b=>({...b,darkMode:x}))})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(s5e,{className:"h-4 w-4"}),i.jsx("span",{className:"text-sm",children:"تباين عالي"})]}),i.jsx(zo,{checked:s.highContrast,onCheckedChange:x=>a(b=>({...b,highContrast:x}))})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(dx,{className:"h-4 w-4"}),i.jsx("span",{className:"text-sm",children:"الرسوم المتحركة"})]}),i.jsx(zo,{checked:s.animations,onCheckedChange:x=>a(b=>({...b,animations:x}))})]})]})]}),i.jsxs("div",{className:"flex gap-2 pt-4 border-t",children:[i.jsxs(xe,{onClick:p,className:"gap-2",children:[i.jsx(Ar,{className:"h-4 w-4"}),"تطبيق الثيم"]}),i.jsxs(xe,{variant:"outline",onClick:m,className:"gap-2",children:[i.jsx(gr,{className:"h-4 w-4"}),"تصدير"]}),i.jsxs("label",{className:"cursor-pointer",children:[i.jsx("input",{type:"file",accept:".json",onChange:g,className:"hidden"}),i.jsx(xe,{variant:"outline",className:"gap-2",asChild:!0,children:i.jsxs("span",{children:[i.jsx(sc,{className:"h-4 w-4"}),"استيراد"]})})]})]})]})]})}),i.jsxs(rt,{value:"ui-enhancements",className:"space-y-4",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs(ae,{children:[i.jsx(Te,{children:i.jsxs(ke,{className:"flex items-center gap-2",children:[i.jsx(vr,{className:"h-5 w-5"}),"تحسينات الأداء"]})}),i.jsxs(oe,{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"font-medium",children:"واجهة تكيفية"}),i.jsx("p",{className:"text-sm text-gray-600",children:"تتكيف الواجهة مع سلوك المستخدم"})]}),i.jsx(zo,{checked:c,onCheckedChange:u})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"font-medium",children:"تجربة شخصية"}),i.jsx("p",{className:"text-sm text-gray-600",children:"اقتراحات مخصصة حسب النشاط"})]}),i.jsx(zo,{checked:d,onCheckedChange:h})]}),i.jsxs("div",{className:"pt-4 border-t",children:[i.jsx("h3",{className:"font-medium mb-2",children:"إحصائيات الأداء"}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex justify-between text-sm",children:[i.jsx("span",{children:"سرعة التحميل"}),i.jsx("span",{className:"text-green-600",children:"98%"})]}),i.jsx(tt,{value:98,className:"h-2"}),i.jsxs("div",{className:"flex justify-between text-sm",children:[i.jsx("span",{children:"استجابة الواجهة"}),i.jsx("span",{className:"text-blue-600",children:"95%"})]}),i.jsx(tt,{value:95,className:"h-2"})]})]})]})]}),i.jsxs(ae,{children:[i.jsx(Te,{children:i.jsxs(ke,{className:"flex items-center gap-2",children:[i.jsx(Wn,{className:"h-5 w-5"}),"ميزات اجتماعية"]})}),i.jsxs(oe,{className:"space-y-4",children:[i.jsxs(fh,{children:[i.jsx(xce,{className:"h-4 w-4"}),i.jsx(Ah,{children:"شارك ثيماتك المخصصة مع مجتمع الكتاب"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs(xe,{variant:"outline",className:"w-full gap-2",children:[i.jsx(ta,{className:"h-4 w-4"}),"مشاركة الثيم المفضل"]}),i.jsxs(xe,{variant:"outline",className:"w-full gap-2",children:[i.jsx(tr,{className:"h-4 w-4"}),"تقييم الثيمات"]}),i.jsxs(xe,{variant:"outline",className:"w-full gap-2",children:[i.jsx(gr,{className:"h-4 w-4"}),"استكشاف ثيمات المجتمع"]})]})]})]})]}),i.jsxs(ae,{children:[i.jsx(Te,{children:i.jsxs(ke,{className:"flex items-center gap-2",children:[i.jsx(Hn,{className:"h-5 w-5"}),"تحليل استخدام الواجهة"]})}),i.jsx(oe,{children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[i.jsxs("div",{className:"text-center p-4 bg-blue-50 rounded-lg",children:[i.jsx("div",{className:"text-2xl font-bold text-blue-600",children:"87%"}),i.jsx("div",{className:"text-sm text-gray-600",children:"رضا المستخدم"})]}),i.jsxs("div",{className:"text-center p-4 bg-green-50 rounded-lg",children:[i.jsx("div",{className:"text-2xl font-bold text-green-600",children:"12m"}),i.jsx("div",{className:"text-sm text-gray-600",children:"متوسط وقت الجلسة"})]}),i.jsxs("div",{className:"text-center p-4 bg-purple-50 rounded-lg",children:[i.jsx("div",{className:"text-2xl font-bold text-purple-600",children:"23"}),i.jsx("div",{className:"text-sm text-gray-600",children:"إجراءات في الدقيقة"})]})]})})]})]})]})]})},dpt=()=>{var o,l,c;const[t,e]=E.useState("overview"),n=[{id:"adaptive-learning",title:"نظام التعلم التكيفي المتقدم",description:"يتعلم من تعديلاتك ويحسن اقتراحاته تلقائياً",icon:i.jsx(zt,{className:"h-6 w-6"}),status:"new",progress:95,component:Hct},{id:"novel-director",title:"المدير الفني للرواية المحسن",description:"عقد قابلة للتخصيص وأدوات تحكم متقدمة",icon:i.jsx(fce,{className:"h-6 w-6"}),status:"active",progress:88,component:lpt},{id:"agent-intelligence",title:"ذكاء الوكلاء المعمق",description:"تعاون ذكي بين الوكلاء والتفاوض على أفضل الحلول",icon:i.jsx(Wn,{className:"h-6 w-6"}),status:"beta",progress:92,component:cpt},{id:"user-experience",title:"تجربة المستخدم التفاعلية المحسنة",description:"واجهة مخصصة ومؤشرات بصرية غنية",icon:i.jsx(Qn,{className:"h-6 w-6"}),status:"active",progress:90,component:upt}],r=u=>{switch(u){case"active":return"bg-green-100 text-green-800";case"beta":return"bg-blue-100 text-blue-800";case"new":return"bg-purple-100 text-purple-800";default:return"bg-gray-100 text-gray-800"}},s=u=>{switch(u){case"active":return"نشط";case"beta":return"تجريبي";case"new":return"جديد";default:return"غير محدد"}},a=()=>{const u=n.find(d=>d.id===t);if(u){const d=u.component;return i.jsx(d,{})}return null};return i.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-blue-50",dir:"rtl",children:t==="overview"?i.jsxs("div",{className:"p-6 space-y-6",children:[i.jsxs("div",{className:"text-center space-y-4",children:[i.jsx("div",{className:"flex justify-center",children:i.jsx("div",{className:"p-4 bg-gradient-to-br from-purple-500 to-blue-600 rounded-2xl",children:i.jsx(Hn,{className:"h-12 w-12 text-white"})})}),i.jsx("h1",{className:"text-4xl font-bold text-gray-900",children:"المرحلة الثانية: تحسينات الميزات والذكاء"}),i.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto",children:"اكتشف التحسينات المتقدمة التي تعمق الذكاء وتثري التفاعل وتوسع القدرات للوصول لمستوى احترافي متقدم في النظام الذكي للكتابة العربية"})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-8",children:[i.jsx(ae,{className:"text-center",children:i.jsxs(oe,{className:"p-6",children:[i.jsx(zt,{className:"h-8 w-8 mx-auto mb-2 text-purple-600"}),i.jsx("div",{className:"text-2xl font-bold text-gray-900",children:"4"}),i.jsx("div",{className:"text-sm text-gray-600",children:"أنظمة ذكية جديدة"})]})}),i.jsx(ae,{className:"text-center",children:i.jsxs(oe,{className:"p-6",children:[i.jsx(vr,{className:"h-8 w-8 mx-auto mb-2 text-blue-600"}),i.jsx("div",{className:"text-2xl font-bold text-gray-900",children:"91%"}),i.jsx("div",{className:"text-sm text-gray-600",children:"متوسط الأداء"})]})}),i.jsx(ae,{className:"text-center",children:i.jsxs(oe,{className:"p-6",children:[i.jsx(En,{className:"h-8 w-8 mx-auto mb-2 text-green-600"}),i.jsx("div",{className:"text-2xl font-bold text-gray-900",children:"50+"}),i.jsx("div",{className:"text-sm text-gray-600",children:"ميزة محسنة"})]})}),i.jsx(ae,{className:"text-center",children:i.jsxs(oe,{className:"p-6",children:[i.jsx(Qn,{className:"h-8 w-8 mx-auto mb-2 text-pink-600"}),i.jsx("div",{className:"text-2xl font-bold text-gray-900",children:"100%"}),i.jsx("div",{className:"text-sm text-gray-600",children:"تخصيص شامل"})]})})]}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:n.map(u=>i.jsxs(ae,{className:"hover:shadow-lg transition-all duration-300 cursor-pointer group",onClick:()=>e(u.id),children:[i.jsx(Te,{children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"p-3 bg-gradient-to-br from-purple-500 to-blue-600 rounded-lg text-white group-hover:scale-110 transition-transform",children:u.icon}),i.jsxs("div",{children:[i.jsx(ke,{className:"text-lg group-hover:text-blue-600 transition-colors",children:u.title}),i.jsx(He,{className:r(u.status),children:s(u.status)})]})]}),i.jsx(ea,{className:"h-5 w-5 text-gray-400 group-hover:text-blue-600 group-hover:translate-x-1 transition-all"})]})}),i.jsxs(oe,{children:[i.jsx("p",{className:"text-gray-600 mb-4",children:u.description}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex justify-between text-sm",children:[i.jsx("span",{children:"مستوى الإكمال"}),i.jsxs("span",{className:"font-medium",children:[u.progress,"%"]})]}),i.jsx(tt,{value:u.progress,className:"h-2"})]})]})]},u.id))}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mt-8",children:[i.jsx(ae,{className:"bg-gradient-to-br from-blue-50 to-blue-100 border-blue-200",children:i.jsxs(oe,{className:"p-6 text-center",children:[i.jsx(nr,{className:"h-8 w-8 mx-auto mb-3 text-blue-600"}),i.jsx("h3",{className:"font-bold mb-2",children:"التعلم من التعديلات"}),i.jsx("p",{className:"text-sm text-gray-600",children:"النظام يتعلم من كل تعديل تقوم به ويحسن اقتراحاته"})]})}),i.jsx(ae,{className:"bg-gradient-to-br from-green-50 to-green-100 border-green-200",children:i.jsxs(oe,{className:"p-6 text-center",children:[i.jsx(Wn,{className:"h-8 w-8 mx-auto mb-3 text-green-600"}),i.jsx("h3",{className:"font-bold mb-2",children:"تعاون الوكلاء"}),i.jsx("p",{className:"text-sm text-gray-600",children:"الوكلاء يتفاوضون فيما بينهم للوصول لأفضل النتائج"})]})}),i.jsx(ae,{className:"bg-gradient-to-br from-purple-50 to-purple-100 border-purple-200",children:i.jsxs(oe,{className:"p-6 text-center",children:[i.jsx(Wa,{className:"h-8 w-8 mx-auto mb-3 text-purple-600"}),i.jsx("h3",{className:"font-bold mb-2",children:"تخصيص شامل"}),i.jsx("p",{className:"text-sm text-gray-600",children:"تحكم كامل في الألوان والخطوط والتأثيرات"})]})})]}),i.jsxs("div",{className:"flex justify-center gap-4 mt-8",children:[i.jsxs(xe,{size:"lg",className:"gap-2",onClick:()=>e("adaptive-learning"),children:[i.jsx(xa,{className:"h-5 w-5"}),"استكشاف التحسينات"]}),i.jsxs(xe,{size:"lg",variant:"outline",className:"gap-2",children:[i.jsx(Qr,{className:"h-5 w-5"}),"إعدادات النظام"]})]})]}):i.jsxs("div",{className:"relative",children:[i.jsx("div",{className:"bg-white border-b p-4 sticky top-0 z-10",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsxs(xe,{variant:"outline",onClick:()=>e("overview"),className:"gap-2",children:[i.jsx(ea,{className:"h-4 w-4 rotate-180"}),"العودة للعرض العام"]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("h2",{className:"text-lg font-bold",children:(o=n.find(u=>u.id===t))==null?void 0:o.title}),i.jsx(He,{className:r(((l=n.find(u=>u.id===t))==null?void 0:l.status)||""),children:s(((c=n.find(u=>u.id===t))==null?void 0:c.status)||"")})]})]}),i.jsx("div",{className:"flex gap-2",children:n.map(u=>i.jsxs(xe,{variant:t===u.id?"default":"outline",size:"sm",onClick:()=>e(u.id),className:"gap-2",children:[u.icon,i.jsx("span",{className:"hidden md:inline",children:u.title.split(" ")[0]})]},u.id))})]})}),i.jsx("div",{className:"p-0",children:a()})]})})},ije=({onTranscriptUpload:t,currentProject:e})=>{const[n,r]=E.useState(!1),[s,a]=E.useState([]),[o,l]=E.useState([]),[c,u]=E.useState([]),[d,h]=E.useState(null),[f,A]=E.useState(null),[v,p]=E.useState(""),[m,g]=E.useState(0),[x,b]=E.useState({total_transcripts_processed:0,stories_generated:0,average_quality_score:0,cultural_authenticity_average:0,processing_time_average:0});E.useEffect(()=>{j()},[]);const j=async()=>{r(!0);try{await new Promise(O=>setTimeout(O,1e3)),b({total_transcripts_processed:45,stories_generated:32,average_quality_score:.87,cultural_authenticity_average:.91,processing_time_average:2.3})}catch(O){console.error("خطأ في تحميل البيانات:",O)}finally{r(!1)}},N=async()=>{if(v.trim()){r(!0),g(0);try{for(let I=0;I<=100;I+=10)g(I),await new Promise(F=>setTimeout(F,200));const O={source_id:`transcript_${Date.now()}`,content:v,metadata:{},language:"ar",estimated_speaker_count:Math.floor(Math.random()*3)+1,duration_estimate:`${Math.floor(Math.random()*10)+1} دقيقة`,context_information:{word_count:v.split(" ").length,sentence_count:v.split(".").length,complexity_level:"متوسط"},created_at:new Date().toISOString()};a(I=>[O,...I]),p(""),g(0),t&&t(v)}catch(O){console.error("خطأ في رفع الترانسكريبت:",O)}finally{r(!1)}}},_=async O=>{r(!0),g(0);try{for(let F=0;F<=100;F+=5)g(F),await new Promise(M=>setTimeout(M,100));const I={snapshot_id:`snapshot_${O}_${Date.now()}`,source_analysis:{characters:Math.floor(Math.random()*5)+1,plot_points:Math.floor(Math.random()*8)+3,emotional_complexity:Math.random()*.5+.5},contextual_insights:{historical_period:"العصر الحديث",cultural_context:"حضري",bias_score:Math.random()*.3},narrative_potential:{character_development_potential:Math.random()*.4+.6,plot_complexity_potential:Math.random()*.4+.6,cultural_storytelling_potential:Math.random()*.4+.6},story_seeds:[{seed_id:"main_story",concept:"التطوير المباشر من الترانسكريبت",genre_focus:"اجتماعي",unique_selling_point:"الأصالة والواقعية"},{seed_id:"historical_expansion",concept:"توسيع تاريخي",genre_focus:"تاريخي",unique_selling_point:"الدقة التاريخية"}],cultural_richness:{overall_richness_score:Math.random()*.3+.7,cultural_depth_assessment:"غني",traditional_elements:["حكايات شعبية","أمثال وحكم"],religious_references:["قيم دينية","ممارسات روحانية"]},timestamp:new Date().toISOString()};l(F=>[I,...F]),g(0)}catch(I){console.error("خطأ في إنشاء لقطة الذاكرة:",I)}finally{r(!1)}},C=({icon:O,title:I,value:F,description:M})=>i.jsxs(ae,{className:"relative overflow-hidden",children:[i.jsxs(Te,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(ke,{className:"text-sm font-medium",children:I}),i.jsx("div",{className:"h-4 w-4 text-muted-foreground",children:O})]}),i.jsxs(oe,{children:[i.jsx("div",{className:"text-2xl font-bold",children:F}),i.jsx("p",{className:"text-xs text-muted-foreground",children:M})]})]}),k=({transcript:O,onCreateSnapshot:I})=>i.jsxs(ae,{className:"hover:shadow-md transition-shadow cursor-pointer",children:[i.jsxs(Te,{children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs(ke,{className:"text-lg flex items-center gap-2",children:[i.jsx(xn,{className:"h-5 w-5"}),"ترانسكريبت ",O.source_id.slice(-8)]}),i.jsxs(He,{variant:"outline",children:[O.estimated_speaker_count," متحدث"]})]}),i.jsxs(Pt,{children:[O.duration_estimate," • ",O.context_information.word_count," كلمة"]})]}),i.jsx(oe,{children:i.jsxs("div",{className:"space-y-3",children:[i.jsxs("p",{className:"text-sm text-gray-600 line-clamp-3",children:[O.content.slice(0,150),"..."]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsxs(He,{variant:"secondary",children:[i.jsx(mS,{className:"h-3 w-3 mr-1"}),O.language]}),i.jsx(He,{variant:"outline",children:O.context_information.complexity_level})]}),i.jsxs(xe,{onClick:I,className:"w-full",variant:"outline",children:[i.jsx(zt,{className:"h-4 w-4 mr-2"}),"إنشاء لقطة ذاكرة"]})]})})]}),T=({snapshot:O,onSelect:I})=>i.jsxs(ae,{className:"hover:shadow-md transition-shadow cursor-pointer",onClick:I,children:[i.jsxs(Te,{children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs(ke,{className:"text-lg flex items-center gap-2",children:[i.jsx(N_,{className:"h-5 w-5"}),"لقطة ",O.snapshot_id.slice(-8)]}),i.jsx(He,{variant:"default",children:"نشطة"})]}),i.jsx(Pt,{children:new Date(O.timestamp).toLocaleDateString("ar-SA")})]}),i.jsx(oe,{children:i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(Wn,{className:"h-3 w-3"}),O.source_analysis.characters," شخصية"]}),i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(En,{className:"h-3 w-3"}),O.source_analysis.plot_points," نقطة حبكة"]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex justify-between text-xs",children:[i.jsx("span",{children:"الإمكانات السردية"}),i.jsxs("span",{children:[Math.round(O.narrative_potential.character_development_potential*100),"%"]})]}),i.jsx(tt,{value:O.narrative_potential.character_development_potential*100,className:"h-2"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex justify-between text-xs",children:[i.jsx("span",{children:"الثراء الثقافي"}),i.jsxs("span",{children:[Math.round(O.cultural_richness.overall_richness_score*100),"%"]})]}),i.jsx(tt,{value:O.cultural_richness.overall_richness_score*100,className:"h-2"})]}),i.jsx("div",{className:"flex gap-1 flex-wrap",children:O.story_seeds.slice(0,2).map((F,M)=>i.jsx(He,{variant:"outline",className:"text-xs",children:F.genre_focus},M))})]})})]});return i.jsxs("div",{className:"p-6 max-w-7xl mx-auto space-y-6",dir:"rtl",children:[i.jsxs("div",{className:"text-center space-y-2",children:[i.jsx("h1",{className:"text-4xl font-bold bg-gradient-to-r from-purple-600 to-blue-600 bg-clip-text text-transparent",children:"⭐ ذاكرة السرد الحيّة ⭐"}),i.jsx("p",{className:"text-gray-600 text-lg",children:"أحدث ثورة في الكتابة الذكية العربية - تحويل الترانسكريبت إلى قصص احترافية"})]}),m>0&&m<100&&i.jsxs(ae,{children:[i.jsx(Te,{children:i.jsxs(ke,{className:"flex items-center gap-2",children:[i.jsx(j_,{className:"h-5 w-5 animate-spin"}),"جاري المعالجة..."]})}),i.jsxs(oe,{children:[i.jsx(tt,{value:m,className:"h-3"}),i.jsxs("p",{className:"text-sm text-gray-500 mt-2",children:[m,"% مكتمل"]})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4",children:[i.jsx(C,{icon:i.jsx(xn,{}),title:"الترانسكريبتات المعالجة",value:x.total_transcripts_processed,description:"إجمالي المصادر المحللة"}),i.jsx(C,{icon:i.jsx(dr,{}),title:"القصص المُولَّدة",value:x.stories_generated,description:"أعمال أدبية مكتملة"}),i.jsx(C,{icon:i.jsx(tr,{}),title:"متوسط الجودة",value:`${Math.round(x.average_quality_score*100)}%`,description:"تقييم الجودة الإجمالية"}),i.jsx(C,{icon:i.jsx(ta,{}),title:"الأصالة الثقافية",value:`${Math.round(x.cultural_authenticity_average*100)}%`,description:"مستوى الحفاظ على التراث"}),i.jsx(C,{icon:i.jsx(vr,{}),title:"سرعة المعالجة",value:`${x.processing_time_average}س`,description:"متوسط وقت الإنتاج"})]}),i.jsxs(zn,{defaultValue:"transcripts",className:"space-y-6",children:[i.jsxs(On,{className:"grid w-full grid-cols-4",children:[i.jsxs(nt,{value:"transcripts",className:"flex items-center gap-2",children:[i.jsx(sc,{className:"h-4 w-4"}),"استيعاب المصادر"]}),i.jsxs(nt,{value:"snapshots",className:"flex items-center gap-2",children:[i.jsx(zt,{className:"h-4 w-4"}),"لقطات الذاكرة"]}),i.jsxs(nt,{value:"blueprints",className:"flex items-center gap-2",children:[i.jsx(Wa,{className:"h-4 w-4"}),"مخططات القصص"]}),i.jsxs(nt,{value:"analytics",className:"flex items-center gap-2",children:[i.jsx(hs,{className:"h-4 w-4"}),"التحليلات"]})]}),i.jsxs(rt,{value:"transcripts",className:"space-y-6",children:[i.jsxs(ae,{children:[i.jsxs(Te,{children:[i.jsxs(ke,{className:"flex items-center gap-2",children:[i.jsx(sc,{className:"h-5 w-5"}),"استيعاب ترانسكريبت جديد"]}),i.jsx(Pt,{children:"قم برفع ترانسكريبت ليتم تحليله وتحويله إلى ذاكرة سرد حية"})]}),i.jsxs(oe,{className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(Dt,{htmlFor:"transcript",children:"محتوى الترانسكريبت"}),i.jsx(Zi,{id:"transcript",placeholder:"أدخل نص الترانسكريبت هنا...",value:v,onChange:O=>p(O.target.value),rows:6,className:"resize-none"})]}),i.jsxs(xe,{onClick:N,disabled:!v.trim()||n,className:"w-full",children:[n?i.jsx(j_,{className:"h-4 w-4 mr-2 animate-spin"}):i.jsx(Qn,{className:"h-4 w-4 mr-2"}),"بدء التحليل والاستيعاب"]})]})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("h3",{className:"text-xl font-semibold flex items-center gap-2",children:[i.jsx(xn,{className:"h-5 w-5"}),"المصادر المتاحة (",s.length,")"]}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:s.map(O=>i.jsx(k,{transcript:O,onCreateSnapshot:()=>_(O.source_id)},O.source_id))})]})]}),i.jsxs(rt,{value:"snapshots",className:"space-y-6",children:[i.jsxs("div",{className:"space-y-4",children:[i.jsxs("h3",{className:"text-xl font-semibold flex items-center gap-2",children:[i.jsx(N_,{className:"h-5 w-5"}),"لقطات الذاكرة النشطة (",o.length,")"]}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:o.map(O=>i.jsx(T,{snapshot:O,onSelect:()=>A(O)},O.snapshot_id))})]}),f&&i.jsxs(ae,{children:[i.jsx(Te,{children:i.jsxs(ke,{className:"flex items-center gap-2",children:[i.jsx(Vn,{className:"h-5 w-5"}),"تفاصيل لقطة الذاكرة"]})}),i.jsx(oe,{children:i.jsxs(zn,{defaultValue:"analysis",className:"space-y-4",children:[i.jsxs(On,{children:[i.jsx(nt,{value:"analysis",children:"التحليل السردي"}),i.jsx(nt,{value:"insights",children:"الرؤى السياقية"}),i.jsx(nt,{value:"seeds",children:"بذور القصص"}),i.jsx(nt,{value:"cultural",children:"الثراء الثقافي"})]}),i.jsx(rt,{value:"analysis",className:"space-y-4",children:i.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:[i.jsx(ae,{children:i.jsx(oe,{className:"pt-6",children:i.jsxs("div",{className:"text-center",children:[i.jsx(Wn,{className:"h-8 w-8 mx-auto mb-2 text-blue-500"}),i.jsx("div",{className:"text-2xl font-bold",children:f.source_analysis.characters}),i.jsx("div",{className:"text-sm text-gray-500",children:"شخصيات"})]})})}),i.jsx(ae,{children:i.jsx(oe,{className:"pt-6",children:i.jsxs("div",{className:"text-center",children:[i.jsx(En,{className:"h-8 w-8 mx-auto mb-2 text-green-500"}),i.jsx("div",{className:"text-2xl font-bold",children:f.source_analysis.plot_points}),i.jsx("div",{className:"text-sm text-gray-500",children:"نقاط حبكة"})]})})}),i.jsx(ae,{children:i.jsx(oe,{className:"pt-6",children:i.jsxs("div",{className:"text-center",children:[i.jsx(ta,{className:"h-8 w-8 mx-auto mb-2 text-red-500"}),i.jsxs("div",{className:"text-2xl font-bold",children:[Math.round(f.source_analysis.emotional_complexity*100),"%"]}),i.jsx("div",{className:"text-sm text-gray-500",children:"تعقيد عاطفي"})]})})})]})}),i.jsx(rt,{value:"insights",className:"space-y-4",children:i.jsxs("div",{className:"grid gap-4",children:[i.jsxs(ae,{children:[i.jsx(Te,{children:i.jsx(ke,{className:"text-lg",children:"السياق التاريخي"})}),i.jsx(oe,{children:i.jsx(He,{variant:"outline",children:f.contextual_insights.historical_period})})]}),i.jsxs(ae,{children:[i.jsx(Te,{children:i.jsx(ke,{className:"text-lg",children:"السياق الثقافي"})}),i.jsx(oe,{children:i.jsx(He,{variant:"outline",children:f.contextual_insights.cultural_context})})]})]})}),i.jsx(rt,{value:"seeds",className:"space-y-4",children:i.jsx("div",{className:"grid gap-4",children:f.story_seeds.map((O,I)=>i.jsxs(ae,{children:[i.jsx(Te,{children:i.jsxs(ke,{className:"text-lg flex items-center gap-2",children:[i.jsx(nr,{className:"h-5 w-5"}),O.concept]})}),i.jsx(oe,{children:i.jsxs("div",{className:"space-y-2",children:[i.jsx(He,{variant:"default",children:O.genre_focus}),i.jsx("p",{className:"text-sm text-gray-600",children:O.unique_selling_point})]})})]},I))})}),i.jsx(rt,{value:"cultural",className:"space-y-4",children:i.jsxs(ae,{children:[i.jsx(Te,{children:i.jsx(ke,{className:"text-lg",children:"تقييم الثراء الثقافي"})}),i.jsxs(oe,{className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{children:"النتيجة الإجمالية"}),i.jsxs("span",{children:[Math.round(f.cultural_richness.overall_richness_score*100),"%"]})]}),i.jsx(tt,{value:f.cultural_richness.overall_richness_score*100})]}),i.jsx(He,{variant:"outline",children:f.cultural_richness.cultural_depth_assessment}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("h4",{className:"font-medium",children:"العناصر التقليدية"}),i.jsx("div",{className:"flex flex-wrap gap-1",children:f.cultural_richness.traditional_elements.map((O,I)=>i.jsx(He,{variant:"secondary",className:"text-xs",children:O},I))})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("h4",{className:"font-medium",children:"المراجع الدينية"}),i.jsx("div",{className:"flex flex-wrap gap-1",children:f.cultural_richness.religious_references.map((O,I)=>i.jsx(He,{variant:"secondary",className:"text-xs",children:O},I))})]})]})]})})]})})]})]}),i.jsx(rt,{value:"blueprints",className:"space-y-6",children:i.jsxs(ae,{children:[i.jsxs(Te,{children:[i.jsxs(ke,{className:"flex items-center gap-2",children:[i.jsx(Wa,{className:"h-5 w-5"}),"مخططات القصص"]}),i.jsx(Pt,{children:"قم بإنشاء مخططات القصص من لقطات الذاكرة المتاحة"})]}),i.jsx(oe,{children:i.jsx("p",{className:"text-center text-gray-500",children:"سيتم عرض مخططات القصص هنا عند إنشائها"})})]})}),i.jsx(rt,{value:"analytics",className:"space-y-6",children:i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[i.jsxs(ae,{children:[i.jsx(Te,{children:i.jsxs(ke,{className:"flex items-center gap-2",children:[i.jsx(Hn,{className:"h-5 w-5"}),"أداء النظام"]})}),i.jsx(oe,{children:i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex justify-between text-sm",children:[i.jsx("span",{children:"معدل نجاح المعالجة"}),i.jsx("span",{children:"94%"})]}),i.jsx(tt,{value:94,className:"h-2"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex justify-between text-sm",children:[i.jsx("span",{children:"رضا المستخدمين"}),i.jsx("span",{children:"91%"})]}),i.jsx(tt,{value:91,className:"h-2"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex justify-between text-sm",children:[i.jsx("span",{children:"جودة المخرجات"}),i.jsx("span",{children:"87%"})]}),i.jsx(tt,{value:87,className:"h-2"})]})]})})]}),i.jsxs(ae,{children:[i.jsx(Te,{children:i.jsxs(ke,{className:"flex items-center gap-2",children:[i.jsx(xr,{className:"h-5 w-5"}),"إحصائيات زمنية"]})}),i.jsx(oe,{children:i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"text-3xl font-bold text-blue-600",children:"2.3"}),i.jsx("div",{className:"text-sm text-gray-500",children:"متوسط وقت المعالجة (ساعة)"})]}),i.jsx(Ns,{}),i.jsxs("div",{className:"grid grid-cols-2 gap-4 text-center",children:[i.jsxs("div",{children:[i.jsx("div",{className:"text-xl font-semibold",children:"12"}),i.jsx("div",{className:"text-xs text-gray-500",children:"مشاريع نشطة"})]}),i.jsxs("div",{children:[i.jsx("div",{className:"text-xl font-semibold",children:"156"}),i.jsx("div",{className:"text-xs text-gray-500",children:"ساعات معالجة"})]})]})]})})]})]})})]})]})},sje=({transcript:t,analysis:e})=>{const[n,r]=E.useState(0),[s,a]=E.useState(!1),[o,l]=E.useState(1),[c,u]=E.useState(null),[d,h]=E.useState(null),[f,A]=E.useState({characters:!0,emotions:!0,plot:!0,cultural:!0,themes:!1}),[v,p]=E.useState(1),[m,g]=E.useState(""),[x,b]=E.useState([]),j=E.useRef(null);E.useRef(null);const N=E.useRef(),_=t.split(".").filter(L=>L.trim().length>0),C=_.length,T=e||{characters:[{id:"char1",name:"محمد",appearances:[1,5,8,12,15],traits:["شجاع","حكيم"],emotions:[{position:1,emotion:"هدوء",intensity:.6},{position:8,emotion:"قلق",intensity:.8},{position:15,emotion:"فرح",intensity:.9}],color:"#3B82F6"},{id:"char2",name:"فاطمة",appearances:[3,6,10,14],traits:["طيبة","صبورة"],emotions:[{position:3,emotion:"حب",intensity:.7},{position:10,emotion:"حزن",intensity:.6}],color:"#EC4899"}],plotPoints:[{id:"plot1",position:2,type:"dialogue",intensity:.6,characters:["محمد","فاطمة"],content:"حوار مهم بين الشخصيات",themes:["العائلة"]},{id:"plot2",position:9,type:"climax",intensity:.9,characters:["محمد"],content:"ذروة القصة",themes:["التحدي","النمو"]}],emotionalTimeline:[{position:1,emotion:"هدوء",intensity:.5,context:"بداية هادئة"},{position:5,emotion:"توتر",intensity:.7,context:"تصاعد الأحداث"},{position:9,emotion:"ذروة عاطفية",intensity:.9,context:"نقطة التحول"},{position:12,emotion:"راحة",intensity:.4,context:"بداية الحل"}],culturalElements:[{position:3,type:"religious",content:"إشارة دينية",significance:.8},{position:7,type:"traditional",content:"تقليد اجتماعي",significance:.6},{position:11,type:"linguistic",content:"تعبير لغوي أصيل",significance:.7}]},O=E.useCallback(()=>{const L=j.current;if(!L)return;const z=L.getContext("2d");if(!z)return;const $=L.getBoundingClientRect();L.width=$.width*window.devicePixelRatio,L.height=$.height*window.devicePixelRatio,z.scale(window.devicePixelRatio,window.devicePixelRatio);const K=$.width,V=$.height;z.clearRect(0,0,K,V);const H=z.createLinearGradient(0,0,0,V);H.addColorStop(0,"#f8fafc"),H.addColorStop(1,"#e2e8f0"),z.fillStyle=H,z.fillRect(0,0,K,V);const W=V*.5,Y=K-100,ee=50;z.strokeStyle="#64748b",z.lineWidth=2,z.beginPath(),z.moveTo(ee,W),z.lineTo(ee+Y,W),z.stroke(),z.fillStyle="#475569",z.font="12px -apple-system, BlinkMacSystemFont, sans-serif",z.textAlign="center";for(let se=0;se<=C;se+=Math.ceil(C/10)){const Ae=ee+se/C*Y;z.beginPath(),z.moveTo(Ae,W-5),z.lineTo(Ae,W+5),z.stroke(),z.fillText(se.toString(),Ae,W+20)}f.emotions&&(z.strokeStyle="#ef4444",z.lineWidth=3,z.beginPath(),T.emotionalTimeline.forEach((se,Ae)=>{const he=ee+se.position/C*Y,Be=W-se.intensity*100;Ae===0?z.moveTo(he,Be):z.lineTo(he,Be)}),z.stroke(),T.emotionalTimeline.forEach(se=>{const Ae=ee+se.position/C*Y,he=W-se.intensity*100;z.fillStyle="#ef4444",z.beginPath(),z.arc(Ae,he,6,0,2*Math.PI),z.fill()})),f.characters&&T.characters.forEach((se,Ae)=>{const he=W+50+Ae*30;se.appearances.forEach(Be=>{const Me=ee+Be/C*Y;z.fillStyle=se.color,z.beginPath(),z.arc(Me,he,8,0,2*Math.PI),z.fill(),z.strokeStyle=se.color,z.lineWidth=1,z.setLineDash([2,2]),z.beginPath(),z.moveTo(Me,W+10),z.lineTo(Me,he-8),z.stroke(),z.setLineDash([])}),z.fillStyle=se.color,z.font="bold 14px -apple-system, BlinkMacSystemFont, sans-serif",z.textAlign="right",z.fillText(se.name,ee-10,he+5)}),f.plot&&T.plotPoints.forEach(se=>{const Ae=ee+se.position/C*Y;let he=W-50,Be="#6366f1";switch(se.type){case"climax":Be="#dc2626",he=W-80;break;case"dialogue":Be="#059669";break;case"action":Be="#d97706";break}z.fillStyle=Be,z.beginPath(),z.arc(Ae,he,se.intensity*10,0,2*Math.PI),z.fill(),z.strokeStyle=Be,z.lineWidth=2,z.beginPath(),z.moveTo(Ae,W-10),z.lineTo(Ae,he+se.intensity*10),z.stroke()}),f.cultural&&T.culturalElements.forEach(se=>{const Ae=ee+se.position/C*Y,he=W+150;let Be="#8b5cf6";switch(se.type){case"religious":Be="#059669";break;case"traditional":Be="#dc2626";break;case"social":Be="#d97706";break}z.fillStyle=Be,z.beginPath(),z.rect(Ae-3,he-se.significance*20,6,se.significance*20),z.fill()});const ie=ee+n/C*Y;z.strokeStyle="#dc2626",z.lineWidth=3,z.beginPath(),z.moveTo(ie,30),z.lineTo(ie,V-30),z.stroke(),x.forEach(se=>{const Ae=ee+se/C*Y;z.fillStyle="rgba(255, 255, 0, 0.3)",z.fillRect(Ae-5,30,10,V-60)})},[T,n,f,C,x]);E.useEffect(()=>{O()},[O]),E.useEffect(()=>{const L=()=>{O()};return window.addEventListener("resize",L),()=>window.removeEventListener("resize",L)},[O]),E.useEffect(()=>(s&&(N.current=requestAnimationFrame(()=>{r(L=>{const z=L+o*.1;return z>=C?0:z})})),()=>{N.current&&cancelAnimationFrame(N.current)}),[s,n,o,C]);const I=L=>{if(g(L),L.trim()){const z=[];_.forEach(($,K)=>{$.toLowerCase().includes(L.toLowerCase())&&z.push(K)}),b(z)}else b([])},F=L=>{const z=j.current;if(!z)return;const $=z.getBoundingClientRect(),K=L.clientX-$.left,V=50,H=$.width-100,W=(K-V)/H*C;r(Math.max(0,Math.min(C-1,Math.round(W))))},M=L=>{A(z=>({...z,[L]:!z[L]}))},S=()=>{const L=Math.floor(n);return _[L]||""},U=(()=>{const L=Math.floor(n),z=T.characters.filter(H=>H.appearances.includes(L)),$=T.emotionalTimeline.filter(H=>Math.abs(H.position-L)<=1),K=T.culturalElements.filter(H=>Math.abs(H.position-L)<=1),V=T.plotPoints.filter(H=>Math.abs(H.position-L)<=1);return{characters:z,emotions:$,cultural:K,plot:V}})();return i.jsxs("div",{className:"space-y-6",dir:"rtl",children:[i.jsxs(ae,{children:[i.jsx(Te,{children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs(ke,{className:"flex items-center gap-2",children:[i.jsx(Vn,{className:"h-5 w-5"}),"المخطط المرئي التفاعلي للترانسكريبت"]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(xe,{variant:"outline",size:"sm",onClick:()=>a(!s),children:s?i.jsx(jp,{className:"h-4 w-4"}):i.jsx(xa,{className:"h-4 w-4"})}),i.jsx(xe,{variant:"outline",size:"sm",onClick:()=>r(Math.max(0,n-1)),children:i.jsx(y5e,{className:"h-4 w-4"})}),i.jsx(xe,{variant:"outline",size:"sm",onClick:()=>r(Math.min(C-1,n+1)),children:i.jsx(b5e,{className:"h-4 w-4"})})]})]})}),i.jsx(oe,{children:i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex justify-between text-sm",children:[i.jsxs("span",{children:["الموضع: ",Math.floor(n)," / ",C]}),i.jsxs("span",{children:["التقدم: ",Math.round(n/C*100),"%"]})]}),i.jsx(tt,{value:n/C*100,className:"h-2"})]}),i.jsxs("div",{className:"flex flex-wrap gap-2",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"text-sm",children:"الطبقات:"}),i.jsxs(xe,{variant:f.characters?"default":"outline",size:"sm",onClick:()=>M("characters"),children:[i.jsx(Wn,{className:"h-3 w-3 mr-1"}),"الشخصيات"]}),i.jsxs(xe,{variant:f.emotions?"default":"outline",size:"sm",onClick:()=>M("emotions"),children:[i.jsx(ta,{className:"h-3 w-3 mr-1"}),"العواطف"]}),i.jsxs(xe,{variant:f.plot?"default":"outline",size:"sm",onClick:()=>M("plot"),children:[i.jsx(En,{className:"h-3 w-3 mr-1"}),"الحبكة"]}),i.jsxs(xe,{variant:f.cultural?"default":"outline",size:"sm",onClick:()=>M("cultural"),children:[i.jsx(mS,{className:"h-3 w-3 mr-1"}),"الثقافة"]})]}),i.jsx(Ns,{orientation:"vertical",className:"h-6"}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(kl,{className:"h-4 w-4"}),i.jsx("input",{type:"text",placeholder:"بحث في النص...",value:m,onChange:L=>I(L.target.value),className:"px-2 py-1 border rounded text-sm w-32"})]})]})]})})]}),i.jsx(ae,{children:i.jsx(oe,{className:"p-0",children:i.jsx("canvas",{ref:j,className:"w-full h-96 cursor-crosshair",onClick:F})})}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[i.jsxs(ae,{children:[i.jsx(Te,{children:i.jsxs(ke,{className:"flex items-center gap-2",children:[i.jsx(dr,{className:"h-5 w-5"}),"النص الحالي (الجملة ",Math.floor(n)+1,")"]})}),i.jsx(oe,{children:i.jsx(Js,{className:"h-32",children:i.jsx("p",{className:"text-lg leading-relaxed",children:S()})})})]}),i.jsxs(ae,{children:[i.jsx(Te,{children:i.jsxs(ke,{className:"flex items-center gap-2",children:[i.jsx(zt,{className:"h-5 w-5"}),"التحليل الفوري"]})}),i.jsx(oe,{children:i.jsxs(zn,{defaultValue:"characters",className:"space-y-4",children:[i.jsxs(On,{className:"grid w-full grid-cols-4",children:[i.jsx(nt,{value:"characters",className:"text-xs",children:"الشخصيات"}),i.jsx(nt,{value:"emotions",className:"text-xs",children:"العواطف"}),i.jsx(nt,{value:"cultural",className:"text-xs",children:"الثقافة"}),i.jsx(nt,{value:"plot",className:"text-xs",children:"الحبكة"})]}),i.jsx(rt,{value:"characters",className:"space-y-2",children:U.characters.length>0?U.characters.map(L=>i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-4 h-4 rounded-full",style:{backgroundColor:L.color}}),i.jsx("span",{className:"font-medium",children:L.name}),i.jsx("div",{className:"flex gap-1",children:L.traits.map(z=>i.jsx(He,{variant:"outline",className:"text-xs",children:z},z))})]},L.id)):i.jsx("p",{className:"text-sm text-gray-500",children:"لا توجد شخصيات في هذا الموضع"})}),i.jsx(rt,{value:"emotions",className:"space-y-2",children:U.emotions.length>0?U.emotions.map((L,z)=>i.jsxs("div",{className:"space-y-1",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("span",{className:"font-medium",children:L.emotion}),i.jsxs(He,{variant:"outline",children:[Math.round(L.intensity*100),"%"]})]}),i.jsx(tt,{value:L.intensity*100,className:"h-2"}),i.jsx("p",{className:"text-xs text-gray-500",children:L.context})]},z)):i.jsx("p",{className:"text-sm text-gray-500",children:"لا توجد مؤشرات عاطفية واضحة"})}),i.jsx(rt,{value:"cultural",className:"space-y-2",children:U.cultural.length>0?U.cultural.map((L,z)=>i.jsxs("div",{className:"space-y-1",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx(He,{variant:"default",children:L.type}),i.jsxs("span",{className:"text-sm",children:[Math.round(L.significance*100),"% أهمية"]})]}),i.jsx("p",{className:"text-sm",children:L.content})]},z)):i.jsx("p",{className:"text-sm text-gray-500",children:"لا توجد عناصر ثقافية مميزة"})}),i.jsx(rt,{value:"plot",className:"space-y-2",children:U.plot.length>0?U.plot.map(L=>i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(He,{variant:"default",children:L.type}),i.jsxs("span",{className:"text-sm",children:["شدة: ",Math.round(L.intensity*100),"%"]})]}),i.jsx("p",{className:"text-sm",children:L.content}),L.themes.length>0&&i.jsx("div",{className:"flex gap-1 flex-wrap",children:L.themes.map(z=>i.jsx(He,{variant:"outline",className:"text-xs",children:z},z))})]},L.id)):i.jsx("p",{className:"text-sm text-gray-500",children:"لا توجد نقاط حبكة مهمة"})})]})})]})]}),i.jsxs(ae,{children:[i.jsx(Te,{children:i.jsxs(ke,{className:"flex items-center gap-2",children:[i.jsx(Hn,{className:"h-5 w-5"}),"إحصائيات التحليل الشامل"]})}),i.jsx(oe,{children:i.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"text-2xl font-bold text-blue-600",children:T.characters.length}),i.jsx("div",{className:"text-sm text-gray-500",children:"شخصيات"})]}),i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"text-2xl font-bold text-green-600",children:T.plotPoints.length}),i.jsx("div",{className:"text-sm text-gray-500",children:"نقاط حبكة"})]}),i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"text-2xl font-bold text-red-600",children:T.emotionalTimeline.length}),i.jsx("div",{className:"text-sm text-gray-500",children:"تحولات عاطفية"})]}),i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"text-2xl font-bold text-purple-600",children:T.culturalElements.length}),i.jsx("div",{className:"text-sm text-gray-500",children:"عناصر ثقافية"})]})]})})]})]})};var eV="Radio",[hpt,aje]=qa(eV),[fpt,Apt]=hpt(eV),oje=E.forwardRef((t,e)=>{const{__scopeRadio:n,name:r,checked:s=!1,required:a,disabled:o,value:l="on",onCheck:c,form:u,...d}=t,[h,f]=E.useState(null),A=Tn(e,m=>f(m)),v=E.useRef(!1),p=h?u||!!h.closest("form"):!0;return i.jsxs(fpt,{scope:n,checked:s,disabled:o,children:[i.jsx(Jt.button,{type:"button",role:"radio","aria-checked":s,"data-state":dje(s),"data-disabled":o?"":void 0,disabled:o,value:l,...d,ref:A,onClick:Ht(t.onClick,m=>{s||c==null||c(),p&&(v.current=m.isPropagationStopped(),v.current||m.stopPropagation())})}),p&&i.jsx(uje,{control:h,bubbles:!v.current,name:r,value:l,checked:s,required:a,disabled:o,form:u,style:{transform:"translateX(-100%)"}})]})});oje.displayName=eV;var lje="RadioIndicator",cje=E.forwardRef((t,e)=>{const{__scopeRadio:n,forceMount:r,...s}=t,a=Apt(lje,n);return i.jsx(Jo,{present:r||a.checked,children:i.jsx(Jt.span,{"data-state":dje(a.checked),"data-disabled":a.disabled?"":void 0,...s,ref:e})})});cje.displayName=lje;var ppt="RadioBubbleInput",uje=E.forwardRef(({__scopeRadio:t,control:e,checked:n,bubbles:r=!0,...s},a)=>{const o=E.useRef(null),l=Tn(o,a),c=PS(n),u=FS(e);return E.useEffect(()=>{const d=o.current;if(!d)return;const h=window.HTMLInputElement.prototype,A=Object.getOwnPropertyDescriptor(h,"checked").set;if(c!==n&&A){const v=new Event("click",{bubbles:r});A.call(d,n),d.dispatchEvent(v)}},[c,n,r]),i.jsx(Jt.input,{type:"radio","aria-hidden":!0,defaultChecked:n,...s,tabIndex:-1,ref:l,style:{...s.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});uje.displayName=ppt;function dje(t){return t?"checked":"unchecked"}var mpt=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],g6="RadioGroup",[gpt,Rmt]=qa(g6,[mk,aje]),hje=mk(),fje=aje(),[xpt,vpt]=gpt(g6),Aje=E.forwardRef((t,e)=>{const{__scopeRadioGroup:n,name:r,defaultValue:s,value:a,required:o=!1,disabled:l=!1,orientation:c,dir:u,loop:d=!0,onValueChange:h,...f}=t,A=hje(n),v=H2(u),[p,m]=Xu({prop:a,defaultProp:s??null,onChange:h,caller:g6});return i.jsx(xpt,{scope:n,name:r,required:o,disabled:l,value:p,onValueChange:m,children:i.jsx(Bde,{asChild:!0,...A,orientation:c,dir:v,loop:d,children:i.jsx(Jt.div,{role:"radiogroup","aria-required":o,"aria-orientation":c,"data-disabled":l?"":void 0,dir:v,...f,ref:e})})})});Aje.displayName=g6;var pje="RadioGroupItem",mje=E.forwardRef((t,e)=>{const{__scopeRadioGroup:n,disabled:r,...s}=t,a=vpt(pje,n),o=a.disabled||r,l=hje(n),c=fje(n),u=E.useRef(null),d=Tn(e,u),h=a.value===s.value,f=E.useRef(!1);return E.useEffect(()=>{const A=p=>{mpt.includes(p.key)&&(f.current=!0)},v=()=>f.current=!1;return document.addEventListener("keydown",A),document.addEventListener("keyup",v),()=>{document.removeEventListener("keydown",A),document.removeEventListener("keyup",v)}},[]),i.jsx(Dde,{asChild:!0,...l,focusable:!o,active:h,children:i.jsx(oje,{disabled:o,required:a.required,checked:h,...c,...s,name:a.name,ref:d,onCheck:()=>a.onValueChange(s.value),onKeyDown:Ht(A=>{A.key==="Enter"&&A.preventDefault()}),onFocus:Ht(s.onFocus,()=>{var A;f.current&&((A=u.current)==null||A.click())})})})});mje.displayName=pje;var ypt="RadioGroupIndicator",gje=E.forwardRef((t,e)=>{const{__scopeRadioGroup:n,...r}=t,s=fje(n);return i.jsx(cje,{...s,...r,ref:e})});gje.displayName=ypt;var xje=Aje,vje=mje,bpt=gje;const WH=E.forwardRef(({className:t,...e},n)=>i.jsx(xje,{className:Vt("grid gap-2",t),...e,ref:n}));WH.displayName=xje.displayName;const qH=E.forwardRef(({className:t,...e},n)=>i.jsx(vje,{ref:n,className:Vt("aspect-square h-4 w-4 rounded-full border border-zinc-200 border-zinc-900 text-zinc-900 shadow focus:outline-none focus-visible:ring-1 focus-visible:ring-zinc-950 disabled:cursor-not-allowed disabled:opacity-50 dark:border-zinc-800 dark:border-zinc-50 dark:text-zinc-50 dark:focus-visible:ring-zinc-300",t),...e,children:i.jsx(bpt,{className:"flex items-center justify-center",children:i.jsx(i5e,{className:"h-3.5 w-3.5 fill-primary"})})}));qH.displayName=vje.displayName;const yje=({sourceTranscript:t,memorySnapshot:e})=>{const[n,r]=E.useState(1),[s,a]=E.useState({storyType:"",targetLength:"",narrativeStyle:"",culturalFocus:"",targetAudience:"",specialFeatures:[]}),[o,l]=E.useState(!1),[c,u]=E.useState({phase:"",progress:0,status:"idle",currentTask:"",estimatedTimeRemaining:0}),[d,h]=E.useState(null),[f,A]=E.useState(null),[v,p]=E.useState(!1),m=[{id:1,title:"تحديد المتطلبات",icon:i.jsx(Qr,{})},{id:2,title:"مراجعة المخطط",icon:i.jsx(Vn,{})},{id:3,title:"التوليد التعاوني",icon:i.jsx(Ha,{})},{id:4,title:"المراجعة والتنقيح",icon:i.jsx(Rt,{})}],g=[{value:"adventure",label:"مغامرة",description:"رحلة مثيرة مليئة بالتحديات"},{value:"romance",label:"رومانسي",description:"قصة حب وعلاقات عاطفية"},{value:"historical",label:"تاريخي",description:"أحداث مرتبطة بفترة تاريخية"},{value:"social",label:"اجتماعي",description:"قضايا وتحديات مجتمعية"},{value:"psychological",label:"نفسي",description:"استكشاف عميق للشخصية"},{value:"philosophical",label:"فلسفي",description:"تأملات في معنى الحياة"}],x=[{value:"short",label:"قصيرة",description:"5-10 صفحات (1500-3000 كلمة)"},{value:"medium",label:"متوسطة",description:"15-30 صفحة (4500-9000 كلمة)"},{value:"long",label:"طويلة",description:"50-100 صفحة (15000-30000 كلمة)"},{value:"novel",label:"رواية",description:"100+ صفحة (30000+ كلمة)"}],b=[{value:"classical",label:"كلاسيكي",description:"أسلوب تراثي فصيح"},{value:"modern",label:"معاصر",description:"أسلوب عصري مبسط"},{value:"experimental",label:"تجريبي",description:"أسلوب إبداعي مبتكر"}],j=[{value:"traditional",label:"تراثي",description:"تركيز على التراث والعادات"},{value:"modern",label:"معاصر",description:"التحديات والقضايا المعاصرة"},{value:"mixed",label:"مختلط",description:"مزج بين التراث والمعاصرة"}],N=[{id:"multiple_perspectives",label:"تعدد وجهات النظر"},{id:"historical_accuracy",label:"الدقة التاريخية"},{id:"cultural_depth",label:"العمق الثقافي"},{id:"psychological_realism",label:"الواقعية النفسية"},{id:"poetic_language",label:"اللغة الشعرية"},{id:"moral_lessons",label:"الدروس الأخلاقية"}],_=async()=>{l(!0),u({phase:"analysis",progress:0,status:"running",currentTask:"تحليل الترانسكريبت الأولي",estimatedTimeRemaining:120});const O=[{name:"analysis",task:"تحليل الترانسكريبت الأولي",duration:20},{name:"inference",task:"الاستدلال السياقي والإثراء",duration:25},{name:"collaboration",task:"التعاون بين الوكلاء لبناء الهيكل",duration:30},{name:"generation",task:"الإنشاء التفاعلي للفصول",duration:35},{name:"refinement",task:"المراجعة والتنقيح النهائي",duration:20}];let I=0;const F=O.reduce((S,q)=>S+q.duration,0);for(const S of O){u(q=>({...q,phase:S.name,currentTask:S.task}));for(let q=0;q<=S.duration;q++){await new Promise(L=>setTimeout(L,100));const U=q/S.duration*100;I=O.indexOf(S)*20+U/5,u(L=>({...L,progress:I,estimatedTimeRemaining:Math.max(0,(F-I)/100*120)}))}}const M={id:`story_${Date.now()}`,title:"رحلة العودة إلى الجذور",content:C(),metadata:{wordCount:4500,readingTime:18,qualityScore:.87,culturalAuthenticity:.91},blueprint:d};A(M),u(S=>({...S,progress:100,status:"completed",currentTask:"تم إنشاء القصة بنجاح"})),l(!1),r(4)},C=()=>`# رحلة العودة إلى الجذور

## الفصل الأول: البداية

كان محمد يجلس في مكتبه الأنيق في قلب العاصمة، ينظر من النافذة إلى الأضواء المتلألئة للمدينة التي لا تنام. رغم كل النجاح الذي حققه في حياته المهنية، كان يشعر بفراغ عميق في روحه، كما لو أن شيئاً مهماً ينقصه.

"أشعر أنني بحاجة للتغيير"، همس لنفسه وهو يتذكر كلمات والده الحكيمة: "يا بني، مهما علت بك الحياة، لا تنس جذورك، فهي التي تمنحك القوة الحقيقية".

## الفصل الثاني: القرار

في صباح يوم جمعة مشرق، اتخذ محمد قراراً جريئاً. أغلق حاسوبه، وضع بعض الأغراض في حقيبة صغيرة، وقرر أن يعود إلى قريته التي تركها منذ سنوات طويلة. كان يعلم أن هذه الرحلة ستكون أكثر من مجرد زيارة - ستكون رحلة لاستكشاف ذاته من جديد.

## الفصل الثالث: الوصول

عندما وصل إلى القرية، استقبله عطر الياسمين وصوت أذان المغرب من المسجد القديم. كل شيء كما تركه، لكن قلبه كان يرى الأشياء بعيون جديدة. البيوت الطينية البسيطة، والأزقة الضيقة، وابتسامات الناس الدافئة - كل ذلك بدا له كنزاً ثميناً لم يقدر قيمته من قبل.

## الخاتمة: العودة الحقيقية

لم تكن رحلة محمد مجرد عودة جسدية إلى قريته، بل كانت عودة روحية إلى جوهره الحقيقي. اكتشف أن السعادة الحقيقية لا تكمن في الإنجازات المادية فحسب، بل في الاتصال العميق مع الجذور والقيم والذكريات التي تشكل هويتنا الحقيقية.

وعندما عاد إلى العاصمة، حمل معه ليس فقط ذكريات جميلة، بل رؤية جديدة للحياة - رؤية تجمع بين طموح الحاضر وحكمة الماضي.`,k=()=>{const O={title:"رحلة العودة إلى الجذور",genre:s.storyType,characters:[{name:"محمد",role:"البطل",traits:["طموح","باحث عن المعنى","مرتبط بجذوره"],development:"تطور من شخص منقطع عن جذوره إلى شخص متصالح مع هويته"},{name:"الوالد",role:"شخصية مؤثرة",traits:["حكيم","تقليدي","محب"],development:"يمثل الحكمة والتراث الذي يرشد البطل"}],plotStructure:{acts:[{title:"الفصل الأول: الإعداد",description:"تقديم البطل وصراعه الداخلي",keyEvents:["الشعور بالفراغ","تذكر كلمات الوالد","اتخاذ القرار"]},{title:"الفصل الثاني: الرحلة",description:"العودة إلى القرية والاستكشاف",keyEvents:["السفر","الوصول","إعادة الاكتشاف"]},{title:"الفصل الثالث: التحول",description:"التطور الشخصي والعودة بفهم جديد",keyEvents:["الإدراك","التصالح","التكامل"]}]},themes:["الهوية","الجذور","التوازن بين التقليد والمعاصرة"],culturalElements:["القرية التراثية","قيم الأسرة","الحكمة الشعبية"],estimatedWordCount:s.targetLength==="short"?2500:s.targetLength==="medium"?6e3:15e3};h(O),r(2)},T=({step:O,isActive:I,isCompleted:F})=>i.jsxs("div",{className:`flex items-center gap-2 p-3 rounded-lg transition-colors ${I?"bg-blue-50 border-blue-200 border":F?"bg-green-50 border-green-200 border":"bg-gray-50 border-gray-200 border"}`,children:[i.jsx("div",{className:`flex items-center justify-center w-8 h-8 rounded-full ${I?"bg-blue-500 text-white":F?"bg-green-500 text-white":"bg-gray-300 text-gray-600"}`,children:F?i.jsx(Rt,{className:"h-4 w-4"}):O}),i.jsx("div",{children:i.jsx("div",{className:"font-medium text-sm",children:m[O-1].title})})]});return i.jsxs("div",{className:"space-y-6",dir:"rtl",children:[i.jsxs(ae,{children:[i.jsxs(Te,{children:[i.jsxs(ke,{className:"flex items-center gap-2",children:[i.jsx(Ha,{className:"h-6 w-6"}),"بناء القصة من المصدر"]}),i.jsx(Pt,{children:"تحويل الترانسكريبت إلى قصة احترافية من خلال التعاون الذكي بين الوكلاء"})]}),i.jsx(oe,{children:i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-2",children:m.map((O,I)=>i.jsx(T,{step:O.id,isActive:n===O.id,isCompleted:n>O.id},O.id))})})]}),n===1&&i.jsxs(ae,{children:[i.jsxs(Te,{children:[i.jsxs(ke,{className:"flex items-center gap-2",children:[i.jsx(Qr,{className:"h-5 w-5"}),"تحديد متطلبات القصة"]}),i.jsx(Pt,{children:"حدد نوع القصة والمواصفات المطلوبة لضمان أفضل نتيجة"})]}),i.jsxs(oe,{className:"space-y-6",children:[i.jsxs("div",{className:"space-y-3",children:[i.jsx(Dt,{className:"text-base font-medium",children:"نوع القصة"}),i.jsx(WH,{value:s.storyType,onValueChange:O=>a(I=>({...I,storyType:O})),children:i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:g.map(O=>i.jsxs("div",{className:"flex items-center space-x-2 border rounded-lg p-3 hover:bg-gray-50",children:[i.jsx(qH,{value:O.value,id:O.value}),i.jsxs("div",{className:"flex-1",children:[i.jsx(Dt,{htmlFor:O.value,className:"font-medium cursor-pointer",children:O.label}),i.jsx("p",{className:"text-sm text-gray-500",children:O.description})]})]},O.value))})})]}),i.jsx(Ns,{}),i.jsxs("div",{className:"space-y-3",children:[i.jsx(Dt,{className:"text-base font-medium",children:"الطول المطلوب"}),i.jsx(WH,{value:s.targetLength,onValueChange:O=>a(I=>({...I,targetLength:O})),children:i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:x.map(O=>i.jsxs("div",{className:"flex items-center space-x-2 border rounded-lg p-3 hover:bg-gray-50",children:[i.jsx(qH,{value:O.value,id:O.value}),i.jsxs("div",{className:"flex-1",children:[i.jsx(Dt,{htmlFor:O.value,className:"font-medium cursor-pointer",children:O.label}),i.jsx("p",{className:"text-sm text-gray-500",children:O.description})]})]},O.value))})})]}),i.jsx(Ns,{}),i.jsxs("div",{className:"space-y-3",children:[i.jsx(Dt,{className:"text-base font-medium",children:"الأسلوب السردي"}),i.jsxs(vi,{value:s.narrativeStyle,onValueChange:O=>a(I=>({...I,narrativeStyle:O})),children:[i.jsx(li,{children:i.jsx(yi,{placeholder:"اختر الأسلوب السردي"})}),i.jsx(ci,{children:b.map(O=>i.jsx(Bt,{value:O.value,children:i.jsxs("div",{children:[i.jsx("div",{className:"font-medium",children:O.label}),i.jsx("div",{className:"text-sm text-gray-500",children:O.description})]})},O.value))})]})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsx(Dt,{className:"text-base font-medium",children:"التركيز الثقافي"}),i.jsxs(vi,{value:s.culturalFocus,onValueChange:O=>a(I=>({...I,culturalFocus:O})),children:[i.jsx(li,{children:i.jsx(yi,{placeholder:"اختر التركيز الثقافي"})}),i.jsx(ci,{children:j.map(O=>i.jsx(Bt,{value:O.value,children:i.jsxs("div",{children:[i.jsx("div",{className:"font-medium",children:O.label}),i.jsx("div",{className:"text-sm text-gray-500",children:O.description})]})},O.value))})]})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsx(Dt,{htmlFor:"audience",className:"text-base font-medium",children:"الجمهور المستهدف"}),i.jsx(wn,{id:"audience",placeholder:"مثال: الشباب، العائلات، القراء المثقفون...",value:s.targetAudience,onChange:O=>a(I=>({...I,targetAudience:O.target.value}))})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsx(Dt,{className:"text-base font-medium",children:"الميزات الخاصة"}),i.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:N.map(O=>i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(ST,{id:O.id,checked:s.specialFeatures.includes(O.id),onCheckedChange:I=>{a(I?F=>({...F,specialFeatures:[...F.specialFeatures,O.id]}):F=>({...F,specialFeatures:F.specialFeatures.filter(M=>M!==O.id)}))}}),i.jsx(Dt,{htmlFor:O.id,className:"text-sm cursor-pointer",children:O.label})]},O.id))})]}),i.jsxs(xe,{onClick:k,className:"w-full",disabled:!s.storyType||!s.targetLength||!s.narrativeStyle,children:[i.jsx(ea,{className:"h-4 w-4 mr-2"}),"إنشاء مخطط القصة"]})]})]}),n===2&&d&&i.jsxs(ae,{children:[i.jsxs(Te,{children:[i.jsxs(ke,{className:"flex items-center gap-2",children:[i.jsx(Vn,{className:"h-5 w-5"}),"مراجعة مخطط القصة"]}),i.jsx(Pt,{children:"مراجعة وتأكيد المخطط المقترح قبل بدء عملية التوليد"})]}),i.jsxs(oe,{className:"space-y-6",children:[i.jsxs(zn,{defaultValue:"overview",className:"space-y-4",children:[i.jsxs(On,{className:"grid w-full grid-cols-4",children:[i.jsx(nt,{value:"overview",children:"نظرة عامة"}),i.jsx(nt,{value:"characters",children:"الشخصيات"}),i.jsx(nt,{value:"plot",children:"الحبكة"}),i.jsx(nt,{value:"cultural",children:"الثقافة"})]}),i.jsx(rt,{value:"overview",className:"space-y-4",children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs(ae,{children:[i.jsxs(Te,{children:[i.jsx(ke,{className:"text-lg",children:d.title}),i.jsx(He,{variant:"outline",children:d.genre})]}),i.jsx(oe,{children:i.jsxs("div",{className:"space-y-2 text-sm",children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{children:"عدد الكلمات المتوقع:"}),i.jsx("span",{className:"font-medium",children:d.estimatedWordCount.toLocaleString()})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{children:"وقت القراءة المتوقع:"}),i.jsxs("span",{className:"font-medium",children:[Math.round(d.estimatedWordCount/250)," دقيقة"]})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{children:"عدد الشخصيات:"}),i.jsx("span",{className:"font-medium",children:d.characters.length})]})]})})]}),i.jsxs(ae,{children:[i.jsx(Te,{children:i.jsx(ke,{className:"text-lg",children:"المواضيع الرئيسية"})}),i.jsx(oe,{children:i.jsx("div",{className:"flex flex-wrap gap-2",children:d.themes.map(O=>i.jsx(He,{variant:"secondary",children:O},O))})})]})]})}),i.jsx(rt,{value:"characters",className:"space-y-4",children:i.jsx("div",{className:"space-y-4",children:d.characters.map((O,I)=>i.jsxs(ae,{children:[i.jsx(Te,{children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs(ke,{className:"text-lg flex items-center gap-2",children:[i.jsx(Wn,{className:"h-5 w-5"}),O.name]}),i.jsx(He,{variant:"outline",children:O.role})]})}),i.jsx(oe,{children:i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{children:[i.jsx("h4",{className:"font-medium mb-2",children:"السمات"}),i.jsx("div",{className:"flex flex-wrap gap-1",children:O.traits.map(F=>i.jsx(He,{variant:"secondary",className:"text-xs",children:F},F))})]}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-medium mb-2",children:"التطور المتوقع"}),i.jsx("p",{className:"text-sm text-gray-600",children:O.development})]})]})})]},I))})}),i.jsx(rt,{value:"plot",className:"space-y-4",children:i.jsx("div",{className:"space-y-4",children:d.plotStructure.acts.map((O,I)=>i.jsxs(ae,{children:[i.jsx(Te,{children:i.jsxs(ke,{className:"text-lg flex items-center gap-2",children:[i.jsx(En,{className:"h-5 w-5"}),O.title]})}),i.jsx(oe,{children:i.jsxs("div",{className:"space-y-3",children:[i.jsx("p",{className:"text-gray-600",children:O.description}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-medium mb-2",children:"الأحداث الرئيسية"}),i.jsx("ul",{className:"list-disc list-inside space-y-1",children:O.keyEvents.map((F,M)=>i.jsx("li",{className:"text-sm text-gray-600",children:F},M))})]})]})})]},I))})}),i.jsx(rt,{value:"cultural",className:"space-y-4",children:i.jsxs(ae,{children:[i.jsx(Te,{children:i.jsxs(ke,{className:"text-lg flex items-center gap-2",children:[i.jsx(mS,{className:"h-5 w-5"}),"العناصر الثقافية"]})}),i.jsx(oe,{children:i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("h4",{className:"font-medium mb-2",children:"العناصر المُدمجة"}),i.jsx("div",{className:"flex flex-wrap gap-2",children:d.culturalElements.map(O=>i.jsx(He,{variant:"outline",children:O},O))})]}),i.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[i.jsxs("h4",{className:"font-medium mb-2 flex items-center gap-2",children:[i.jsx(Go,{className:"h-4 w-4"}),"ملاحظة ثقافية"]}),i.jsx("p",{className:"text-sm text-blue-700",children:"سيتم دمج العناصر الثقافية بطريقة طبيعية ومتدرجة للحفاظ على الأصالة مع ضمان سهولة القراءة والفهم للجمهور المستهدف."})]})]})})]})})]}),i.jsxs("div",{className:"flex gap-3",children:[i.jsxs(xe,{variant:"outline",onClick:()=>r(1),className:"flex-1",children:[i.jsx(AS,{className:"h-4 w-4 mr-2"}),"تعديل المتطلبات"]}),i.jsxs(xe,{onClick:()=>{r(3),_()},className:"flex-1",children:[i.jsx(Ha,{className:"h-4 w-4 mr-2"}),"بدء التوليد التعاوني"]})]})]})]}),n===3&&i.jsxs(ae,{children:[i.jsxs(Te,{children:[i.jsxs(ke,{className:"flex items-center gap-2",children:[i.jsx(zt,{className:"h-5 w-5"}),"التوليد التعاوني للقصة"]}),i.jsx(Pt,{children:"الوكلاء الأذكياء يعملون معاً لإنشاء قصتك الفريدة"})]}),i.jsxs(oe,{className:"space-y-6",children:[i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("span",{className:"font-medium",children:"التقدم الإجمالي"}),i.jsxs("span",{className:"text-sm text-gray-500",children:[Math.round(c.progress),"%"]})]}),i.jsx(tt,{value:c.progress,className:"h-3"}),i.jsxs("div",{className:"flex justify-between text-sm text-gray-500",children:[i.jsx("span",{children:c.currentTask}),i.jsx("span",{children:c.estimatedTimeRemaining>0&&`${Math.round(c.estimatedTimeRemaining/60)} دقيقة متبقية`})]})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsx("h3",{className:"font-medium",children:"مراحل التوليد"}),i.jsx("div",{className:"grid gap-3",children:[{id:"analysis",title:"تحليل السرد الخام",agent:"محلل السرد",completed:c.phase!=="analysis"},{id:"inference",title:"الاستدلال السياقي",agent:"محرك الاستدلال",completed:["collaboration","generation","refinement"].includes(c.phase)},{id:"collaboration",title:"بناء الهيكل التعاوني",agent:"مهندس المخططات",completed:["generation","refinement"].includes(c.phase)},{id:"generation",title:"إنشاء المحتوى",agent:"كاتب الفصول",completed:c.phase==="refinement"},{id:"refinement",title:"المراجعة والتنقيح",agent:"الناقد الأدبي",completed:!1}].map(O=>i.jsx("div",{className:`p-4 rounded-lg border ${c.phase===O.id?"border-blue-500 bg-blue-50":O.completed?"border-green-500 bg-green-50":"border-gray-200 bg-gray-50"}`,children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:`w-6 h-6 rounded-full flex items-center justify-center ${c.phase===O.id?"bg-blue-500 text-white":O.completed?"bg-green-500 text-white":"bg-gray-300 text-gray-600"}`,children:O.completed?i.jsx(Rt,{className:"h-4 w-4"}):c.phase===O.id?i.jsx(vr,{className:"h-4 w-4"}):i.jsx(xr,{className:"h-4 w-4"})}),i.jsxs("div",{className:"flex-1",children:[i.jsx("div",{className:"font-medium",children:O.title}),i.jsx("div",{className:"text-sm text-gray-500",children:O.agent})]})]})},O.id))})]}),i.jsxs("div",{className:"bg-gradient-to-r from-purple-50 to-blue-50 p-4 rounded-lg",children:[i.jsxs("h4",{className:"font-medium mb-2 flex items-center gap-2",children:[i.jsx(Qn,{className:"h-4 w-4"}),"ما يحدث الآن"]}),i.jsxs("p",{className:"text-sm text-gray-700",children:[c.phase==="analysis"&&"يتم تحليل الترانسكريبت لاستخلاص الشخصيات والأحداث والعواطف...",c.phase==="inference"&&"يتم ربط الأحداث بالسياق التاريخي وملء الفجوات السردية...",c.phase==="collaboration"&&"الوكلاء يتعاونون لبناء هيكل القصة وتطوير الشخصيات...",c.phase==="generation"&&"يتم إنشاء فصول القصة بالتعاون بين كاتب الفصول والخبير الثقافي...",c.phase==="refinement"&&"الناقد الأدبي يراجع القصة ويقترح التحسينات النهائية..."]})]})]})]}),n===4&&f&&i.jsxs("div",{className:"space-y-6",children:[i.jsxs(ae,{children:[i.jsxs(Te,{children:[i.jsxs(ke,{className:"flex items-center gap-2",children:[i.jsx(tr,{className:"h-5 w-5"}),"تم إنشاء القصة بنجاح!"]}),i.jsx(Pt,{children:"إليك قصتك الجديدة مع إحصائيات الجودة والأصالة"})]}),i.jsx(oe,{children:i.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"text-2xl font-bold text-blue-600",children:f.metadata.wordCount.toLocaleString()}),i.jsx("div",{className:"text-sm text-gray-500",children:"كلمة"})]}),i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"text-2xl font-bold text-green-600",children:f.metadata.readingTime}),i.jsx("div",{className:"text-sm text-gray-500",children:"دقيقة قراءة"})]}),i.jsxs("div",{className:"text-center",children:[i.jsxs("div",{className:"text-2xl font-bold text-purple-600",children:[Math.round(f.metadata.qualityScore*100),"%"]}),i.jsx("div",{className:"text-sm text-gray-500",children:"جودة عامة"})]}),i.jsxs("div",{className:"text-center",children:[i.jsxs("div",{className:"text-2xl font-bold text-orange-600",children:[Math.round(f.metadata.culturalAuthenticity*100),"%"]}),i.jsx("div",{className:"text-sm text-gray-500",children:"أصالة ثقافية"})]})]})})]}),i.jsxs(ae,{children:[i.jsx(Te,{children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs(ke,{className:"flex items-center gap-2",children:[i.jsx(dr,{className:"h-5 w-5"}),f.title]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsxs(xe,{variant:"outline",size:"sm",children:[i.jsx(gr,{className:"h-4 w-4 mr-2"}),"تحميل"]}),i.jsxs(xe,{variant:"outline",size:"sm",children:[i.jsx(Ey,{className:"h-4 w-4 mr-2"}),"مشاركة"]}),i.jsxs(xe,{variant:"outline",size:"sm",children:[i.jsx(Ko,{className:"h-4 w-4 mr-2"}),"حفظ"]})]})]})}),i.jsx(oe,{children:i.jsx(Js,{className:"h-96 w-full border rounded p-4",children:i.jsx("div",{className:"prose prose-arabic max-w-none",children:i.jsx("div",{className:"whitespace-pre-line text-right leading-relaxed",children:f.content})})})})]}),i.jsxs(ae,{children:[i.jsx(Te,{children:i.jsx(ke,{children:"الخطوات التالية"})}),i.jsx(oe,{children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[i.jsxs(xe,{variant:"outline",className:"h-auto p-4 flex flex-col items-center gap-2",children:[i.jsx(dx,{className:"h-5 w-5"}),i.jsx("span",{children:"إنشاء نسخة أخرى"}),i.jsx("span",{className:"text-xs text-gray-500",children:"بمتطلبات مختلفة"})]}),i.jsxs(xe,{variant:"outline",className:"h-auto p-4 flex flex-col items-center gap-2",children:[i.jsx(Wa,{className:"h-5 w-5"}),i.jsx("span",{children:"تخصيص الأسلوب"}),i.jsx("span",{className:"text-xs text-gray-500",children:"تعديل اللغة والنبرة"})]}),i.jsxs(xe,{variant:"outline",className:"h-auto p-4 flex flex-col items-center gap-2",children:[i.jsx(Hn,{className:"h-5 w-5"}),i.jsx("span",{children:"تطوير إضافي"}),i.jsx("span",{className:"text-xs text-gray-500",children:"إضافة فصول أو شخصيات"})]})]})})]})]})]})},x6=E.createContext(null);x6.displayName="PanelGroupContext";const js={group:"data-panel-group",groupDirection:"data-panel-group-direction",groupId:"data-panel-group-id",panel:"data-panel",panelCollapsible:"data-panel-collapsible",panelId:"data-panel-id",panelSize:"data-panel-size",resizeHandle:"data-resize-handle",resizeHandleActive:"data-resize-handle-active",resizeHandleEnabled:"data-panel-resize-handle-enabled",resizeHandleId:"data-panel-resize-handle-id",resizeHandleState:"data-resize-handle-state"},tV=10,ty=E.useLayoutEffect,Mle=nk.useId,wpt=typeof Mle=="function"?Mle:()=>null;let jpt=0;function nV(t=null){const e=wpt(),n=E.useRef(t||e||null);return n.current===null&&(n.current=""+jpt++),t??n.current}function bje({children:t,className:e="",collapsedSize:n,collapsible:r,defaultSize:s,forwardedRef:a,id:o,maxSize:l,minSize:c,onCollapse:u,onExpand:d,onResize:h,order:f,style:A,tagName:v="div",...p}){const m=E.useContext(x6);if(m===null)throw Error("Panel components must be rendered within a PanelGroup container");const{collapsePanel:g,expandPanel:x,getPanelSize:b,getPanelStyle:j,groupId:N,isPanelCollapsed:_,reevaluatePanelConstraints:C,registerPanel:k,resizePanel:T,unregisterPanel:O}=m,I=nV(o),F=E.useRef({callbacks:{onCollapse:u,onExpand:d,onResize:h},constraints:{collapsedSize:n,collapsible:r,defaultSize:s,maxSize:l,minSize:c},id:I,idIsFromProps:o!==void 0,order:f});E.useRef({didLogMissingDefaultSizeWarning:!1}),ty(()=>{const{callbacks:S,constraints:q}=F.current,U={...q};F.current.id=I,F.current.idIsFromProps=o!==void 0,F.current.order=f,S.onCollapse=u,S.onExpand=d,S.onResize=h,q.collapsedSize=n,q.collapsible=r,q.defaultSize=s,q.maxSize=l,q.minSize=c,(U.collapsedSize!==q.collapsedSize||U.collapsible!==q.collapsible||U.maxSize!==q.maxSize||U.minSize!==q.minSize)&&C(F.current,U)}),ty(()=>{const S=F.current;return k(S),()=>{O(S)}},[f,I,k,O]),E.useImperativeHandle(a,()=>({collapse:()=>{g(F.current)},expand:S=>{x(F.current,S)},getId(){return I},getSize(){return b(F.current)},isCollapsed(){return _(F.current)},isExpanded(){return!_(F.current)},resize:S=>{T(F.current,S)}}),[g,x,b,_,I,T]);const M=j(F.current,s);return E.createElement(v,{...p,children:t,className:e,id:I,style:{...M,...A},[js.groupId]:N,[js.panel]:"",[js.panelCollapsible]:r||void 0,[js.panelId]:I,[js.panelSize]:parseFloat(""+M.flexGrow).toFixed(1)})}const wje=E.forwardRef((t,e)=>E.createElement(bje,{...t,forwardedRef:e}));bje.displayName="Panel";wje.displayName="forwardRef(Panel)";let VH=null,SD=-1,rg=null;function Npt(t,e){if(e){const n=(e&Sje)!==0,r=(e&Eje)!==0,s=(e&Bje)!==0,a=(e&Dje)!==0;if(n)return s?"se-resize":a?"ne-resize":"e-resize";if(r)return s?"sw-resize":a?"nw-resize":"w-resize";if(s)return"s-resize";if(a)return"n-resize"}switch(t){case"horizontal":return"ew-resize";case"intersection":return"move";case"vertical":return"ns-resize"}}function _pt(){rg!==null&&(document.head.removeChild(rg),VH=null,rg=null,SD=-1)}function JL(t,e){var n,r;const s=Npt(t,e);if(VH!==s){if(VH=s,rg===null&&(rg=document.createElement("style"),document.head.appendChild(rg)),SD>=0){var a;(a=rg.sheet)===null||a===void 0||a.removeRule(SD)}SD=(n=(r=rg.sheet)===null||r===void 0?void 0:r.insertRule(`*{cursor: ${s} !important;}`))!==null&&n!==void 0?n:-1}}function jje(t){return t.type==="keydown"}function Nje(t){return t.type.startsWith("pointer")}function _je(t){return t.type.startsWith("mouse")}function v6(t){if(Nje(t)){if(t.isPrimary)return{x:t.clientX,y:t.clientY}}else if(_je(t))return{x:t.clientX,y:t.clientY};return{x:1/0,y:1/0}}function Cpt(){if(typeof matchMedia=="function")return matchMedia("(pointer:coarse)").matches?"coarse":"fine"}function Spt(t,e,n){return t.x<e.x+e.width&&t.x+t.width>e.x&&t.y<e.y+e.height&&t.y+t.height>e.y}function Ept(t,e){if(t===e)throw new Error("Cannot compare node with itself");const n={a:Qle(t),b:Qle(e)};let r;for(;n.a.at(-1)===n.b.at(-1);)t=n.a.pop(),e=n.b.pop(),r=t;Zn(r,"Stacking order can only be calculated for elements with a common ancestor");const s={a:Rle(Lle(n.a)),b:Rle(Lle(n.b))};if(s.a===s.b){const a=r.childNodes,o={a:n.a.at(-1),b:n.b.at(-1)};let l=a.length;for(;l--;){const c=a[l];if(c===o.a)return 1;if(c===o.b)return-1}}return Math.sign(s.a-s.b)}const Bpt=/\b(?:position|zIndex|opacity|transform|webkitTransform|mixBlendMode|filter|webkitFilter|isolation)\b/;function Dpt(t){var e;const n=getComputedStyle((e=Cje(t))!==null&&e!==void 0?e:t).display;return n==="flex"||n==="inline-flex"}function Tpt(t){const e=getComputedStyle(t);return!!(e.position==="fixed"||e.zIndex!=="auto"&&(e.position!=="static"||Dpt(t))||+e.opacity<1||"transform"in e&&e.transform!=="none"||"webkitTransform"in e&&e.webkitTransform!=="none"||"mixBlendMode"in e&&e.mixBlendMode!=="normal"||"filter"in e&&e.filter!=="none"||"webkitFilter"in e&&e.webkitFilter!=="none"||"isolation"in e&&e.isolation==="isolate"||Bpt.test(e.willChange)||e.webkitOverflowScrolling==="touch")}function Lle(t){let e=t.length;for(;e--;){const n=t[e];if(Zn(n,"Missing node"),Tpt(n))return n}return null}function Rle(t){return t&&Number(getComputedStyle(t).zIndex)||0}function Qle(t){const e=[];for(;t;)e.push(t),t=Cje(t);return e}function Cje(t){const{parentNode:e}=t;return e&&e instanceof ShadowRoot?e.host:e}const Sje=1,Eje=2,Bje=4,Dje=8,kpt=Cpt()==="coarse";let lh=[],I1=!1,Ev=new Map,y6=new Map;const L5=new Set;function Fpt(t,e,n,r,s){var a;const{ownerDocument:o}=e,l={direction:n,element:e,hitAreaMargins:r,setResizeHandlerState:s},c=(a=Ev.get(o))!==null&&a!==void 0?a:0;return Ev.set(o,c+1),L5.add(l),UT(),function(){var d;y6.delete(t),L5.delete(l);const h=(d=Ev.get(o))!==null&&d!==void 0?d:1;if(Ev.set(o,h-1),UT(),h===1&&Ev.delete(o),lh.includes(l)){const f=lh.indexOf(l);f>=0&&lh.splice(f,1),iV(),s("up",!0,null)}}}function Ppt(t){const{target:e}=t,{x:n,y:r}=v6(t);I1=!0,rV({target:e,x:n,y:r}),UT(),lh.length>0&&(IT("down",t),t.preventDefault(),Tje(e)||t.stopImmediatePropagation())}function ZL(t){const{x:e,y:n}=v6(t);if(I1&&t.buttons===0&&(I1=!1,IT("up",t)),!I1){const{target:r}=t;rV({target:r,x:e,y:n})}IT("move",t),iV(),lh.length>0&&t.preventDefault()}function eR(t){const{target:e}=t,{x:n,y:r}=v6(t);y6.clear(),I1=!1,lh.length>0&&(t.preventDefault(),Tje(e)||t.stopImmediatePropagation()),IT("up",t),rV({target:e,x:n,y:r}),iV(),UT()}function Tje(t){let e=t;for(;e;){if(e.hasAttribute(js.resizeHandle))return!0;e=e.parentElement}return!1}function rV({target:t,x:e,y:n}){lh.splice(0);let r=null;(t instanceof HTMLElement||t instanceof SVGElement)&&(r=t),L5.forEach(s=>{const{element:a,hitAreaMargins:o}=s,l=a.getBoundingClientRect(),{bottom:c,left:u,right:d,top:h}=l,f=kpt?o.coarse:o.fine;if(e>=u-f&&e<=d+f&&n>=h-f&&n<=c+f){if(r!==null&&document.contains(r)&&a!==r&&!a.contains(r)&&!r.contains(a)&&Ept(r,a)>0){let v=r,p=!1;for(;v&&!v.contains(a);){if(Spt(v.getBoundingClientRect(),l)){p=!0;break}v=v.parentElement}if(p)return}lh.push(s)}})}function tR(t,e){y6.set(t,e)}function iV(){let t=!1,e=!1;lh.forEach(r=>{const{direction:s}=r;s==="horizontal"?t=!0:e=!0});let n=0;y6.forEach(r=>{n|=r}),t&&e?JL("intersection",n):t?JL("horizontal",n):e?JL("vertical",n):_pt()}let nR=new AbortController;function UT(){nR.abort(),nR=new AbortController;const t={capture:!0,signal:nR.signal};L5.size&&(I1?(lh.length>0&&Ev.forEach((e,n)=>{const{body:r}=n;e>0&&(r.addEventListener("contextmenu",eR,t),r.addEventListener("pointerleave",ZL,t),r.addEventListener("pointermove",ZL,t))}),window.addEventListener("pointerup",eR,t),window.addEventListener("pointercancel",eR,t)):Ev.forEach((e,n)=>{const{body:r}=n;e>0&&(r.addEventListener("pointerdown",Ppt,t),r.addEventListener("pointermove",ZL,t))}))}function IT(t,e){L5.forEach(n=>{const{setResizeHandlerState:r}=n,s=lh.includes(n);r(t,s,e)})}function Upt(){const[t,e]=E.useState(0);return E.useCallback(()=>e(n=>n+1),[])}function Zn(t,e){if(!t)throw console.error(e),Error(e)}function wy(t,e,n=tV){return t.toFixed(n)===e.toFixed(n)?0:t>e?1:-1}function dp(t,e,n=tV){return wy(t,e,n)===0}function Qc(t,e,n){return wy(t,e,n)===0}function Ipt(t,e,n){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++){const s=t[r],a=e[r];if(!Qc(s,a,n))return!1}return!0}function h1({panelConstraints:t,panelIndex:e,size:n}){const r=t[e];Zn(r!=null,`Panel constraints not found for index ${e}`);let{collapsedSize:s=0,collapsible:a,maxSize:o=100,minSize:l=0}=r;if(wy(n,l)<0)if(a){const c=(s+l)/2;wy(n,c)<0?n=s:n=l}else n=l;return n=Math.min(o,n),n=parseFloat(n.toFixed(tV)),n}function KN({delta:t,initialLayout:e,panelConstraints:n,pivotIndices:r,prevLayout:s,trigger:a}){if(Qc(t,0))return e;const o=[...e],[l,c]=r;Zn(l!=null,"Invalid first pivot index"),Zn(c!=null,"Invalid second pivot index");let u=0;if(a==="keyboard"){{const h=t<0?c:l,f=n[h];Zn(f,`Panel constraints not found for index ${h}`);const{collapsedSize:A=0,collapsible:v,minSize:p=0}=f;if(v){const m=e[h];if(Zn(m!=null,`Previous layout not found for panel index ${h}`),Qc(m,A)){const g=p-m;wy(g,Math.abs(t))>0&&(t=t<0?0-g:g)}}}{const h=t<0?l:c,f=n[h];Zn(f,`No panel constraints found for index ${h}`);const{collapsedSize:A=0,collapsible:v,minSize:p=0}=f;if(v){const m=e[h];if(Zn(m!=null,`Previous layout not found for panel index ${h}`),Qc(m,p)){const g=m-A;wy(g,Math.abs(t))>0&&(t=t<0?0-g:g)}}}}{const h=t<0?1:-1;let f=t<0?c:l,A=0;for(;;){const p=e[f];Zn(p!=null,`Previous layout not found for panel index ${f}`);const g=h1({panelConstraints:n,panelIndex:f,size:100})-p;if(A+=g,f+=h,f<0||f>=n.length)break}const v=Math.min(Math.abs(t),Math.abs(A));t=t<0?0-v:v}{let f=t<0?l:c;for(;f>=0&&f<n.length;){const A=Math.abs(t)-Math.abs(u),v=e[f];Zn(v!=null,`Previous layout not found for panel index ${f}`);const p=v-A,m=h1({panelConstraints:n,panelIndex:f,size:p});if(!Qc(v,m)&&(u+=v-m,o[f]=m,u.toPrecision(3).localeCompare(Math.abs(t).toPrecision(3),void 0,{numeric:!0})>=0))break;t<0?f--:f++}}if(Ipt(s,o))return s;{const h=t<0?c:l,f=e[h];Zn(f!=null,`Previous layout not found for panel index ${h}`);const A=f+u,v=h1({panelConstraints:n,panelIndex:h,size:A});if(o[h]=v,!Qc(v,A)){let p=A-v,g=t<0?c:l;for(;g>=0&&g<n.length;){const x=o[g];Zn(x!=null,`Previous layout not found for panel index ${g}`);const b=x+p,j=h1({panelConstraints:n,panelIndex:g,size:b});if(Qc(x,j)||(p-=j-x,o[g]=j),Qc(p,0))break;t>0?g--:g++}}}const d=o.reduce((h,f)=>f+h,0);return Qc(d,100)?o:s}function Opt({layout:t,panelsArray:e,pivotIndices:n}){let r=0,s=100,a=0,o=0;const l=n[0];Zn(l!=null,"No pivot index found"),e.forEach((h,f)=>{const{constraints:A}=h,{maxSize:v=100,minSize:p=0}=A;f===l?(r=p,s=v):(a+=p,o+=v)});const c=Math.min(s,100-a),u=Math.max(r,100-o),d=t[l];return{valueMax:c,valueMin:u,valueNow:d}}function R5(t,e=document){return Array.from(e.querySelectorAll(`[${js.resizeHandleId}][data-panel-group-id="${t}"]`))}function kje(t,e,n=document){const s=R5(t,n).findIndex(a=>a.getAttribute(js.resizeHandleId)===e);return s??null}function Fje(t,e,n){const r=kje(t,e,n);return r!=null?[r,r+1]:[-1,-1]}function Pje(t,e=document){var n;if(e instanceof HTMLElement&&(e==null||(n=e.dataset)===null||n===void 0?void 0:n.panelGroupId)==t)return e;const r=e.querySelector(`[data-panel-group][data-panel-group-id="${t}"]`);return r||null}function b6(t,e=document){const n=e.querySelector(`[${js.resizeHandleId}="${t}"]`);return n||null}function Mpt(t,e,n,r=document){var s,a,o,l;const c=b6(e,r),u=R5(t,r),d=c?u.indexOf(c):-1,h=(s=(a=n[d])===null||a===void 0?void 0:a.id)!==null&&s!==void 0?s:null,f=(o=(l=n[d+1])===null||l===void 0?void 0:l.id)!==null&&o!==void 0?o:null;return[h,f]}function Lpt({committedValuesRef:t,eagerValuesRef:e,groupId:n,layout:r,panelDataArray:s,panelGroupElement:a,setLayout:o}){E.useRef({didWarnAboutMissingResizeHandle:!1}),ty(()=>{if(!a)return;const l=R5(n,a);for(let c=0;c<s.length-1;c++){const{valueMax:u,valueMin:d,valueNow:h}=Opt({layout:r,panelsArray:s,pivotIndices:[c,c+1]}),f=l[c];if(f!=null){const A=s[c];Zn(A,`No panel data found for index "${c}"`),f.setAttribute("aria-controls",A.id),f.setAttribute("aria-valuemax",""+Math.round(u)),f.setAttribute("aria-valuemin",""+Math.round(d)),f.setAttribute("aria-valuenow",h!=null?""+Math.round(h):"")}}return()=>{l.forEach((c,u)=>{c.removeAttribute("aria-controls"),c.removeAttribute("aria-valuemax"),c.removeAttribute("aria-valuemin"),c.removeAttribute("aria-valuenow")})}},[n,r,s,a]),E.useEffect(()=>{if(!a)return;const l=e.current;Zn(l,"Eager values not found");const{panelDataArray:c}=l,u=Pje(n,a);Zn(u!=null,`No group found for id "${n}"`);const d=R5(n,a);Zn(d,`No resize handles found for group id "${n}"`);const h=d.map(f=>{const A=f.getAttribute(js.resizeHandleId);Zn(A,"Resize handle element has no handle id attribute");const[v,p]=Mpt(n,A,c,a);if(v==null||p==null)return()=>{};const m=g=>{if(!g.defaultPrevented)switch(g.key){case"Enter":{g.preventDefault();const x=c.findIndex(b=>b.id===v);if(x>=0){const b=c[x];Zn(b,`No panel data found for index ${x}`);const j=r[x],{collapsedSize:N=0,collapsible:_,minSize:C=0}=b.constraints;if(j!=null&&_){const k=KN({delta:Qc(j,N)?C-N:N-j,initialLayout:r,panelConstraints:c.map(T=>T.constraints),pivotIndices:Fje(n,A,a),prevLayout:r,trigger:"keyboard"});r!==k&&o(k)}}break}}};return f.addEventListener("keydown",m),()=>{f.removeEventListener("keydown",m)}});return()=>{h.forEach(f=>f())}},[a,t,e,n,r,s,o])}function Hle(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}function Uje(t,e){const n=t==="horizontal",{x:r,y:s}=v6(e);return n?r:s}function Rpt(t,e,n,r,s){const a=n==="horizontal",o=b6(e,s);Zn(o,`No resize handle element found for id "${e}"`);const l=o.getAttribute(js.groupId);Zn(l,"Resize handle element has no group id attribute");let{initialCursorPosition:c}=r;const u=Uje(n,t),d=Pje(l,s);Zn(d,`No group element found for id "${l}"`);const h=d.getBoundingClientRect(),f=a?h.width:h.height;return(u-c)/f*100}function Qpt(t,e,n,r,s,a){if(jje(t)){const o=n==="horizontal";let l=0;t.shiftKey?l=100:s!=null?l=s:l=10;let c=0;switch(t.key){case"ArrowDown":c=o?0:l;break;case"ArrowLeft":c=o?-l:0;break;case"ArrowRight":c=o?l:0;break;case"ArrowUp":c=o?0:-l;break;case"End":c=100;break;case"Home":c=-100;break}return c}else return r==null?0:Rpt(t,e,n,r,a)}function Hpt({panelDataArray:t}){const e=Array(t.length),n=t.map(a=>a.constraints);let r=0,s=100;for(let a=0;a<t.length;a++){const o=n[a];Zn(o,`Panel constraints not found for index ${a}`);const{defaultSize:l}=o;l!=null&&(r++,e[a]=l,s-=l)}for(let a=0;a<t.length;a++){const o=n[a];Zn(o,`Panel constraints not found for index ${a}`);const{defaultSize:l}=o;if(l!=null)continue;const c=t.length-r,u=s/c;r++,e[a]=u,s-=u}return e}function Lb(t,e,n){e.forEach((r,s)=>{const a=t[s];Zn(a,`Panel data not found for index ${s}`);const{callbacks:o,constraints:l,id:c}=a,{collapsedSize:u=0,collapsible:d}=l,h=n[c];if(h==null||r!==h){n[c]=r;const{onCollapse:f,onExpand:A,onResize:v}=o;v&&v(r,h),d&&(f||A)&&(A&&(h==null||dp(h,u))&&!dp(r,u)&&A(),f&&(h==null||!dp(h,u))&&dp(r,u)&&f())}})}function iB(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!=e[n])return!1;return!0}function zpt({defaultSize:t,dragState:e,layout:n,panelData:r,panelIndex:s,precision:a=3}){const o=n[s];let l;return o==null?l=t!=null?t.toPrecision(a):"1":r.length===1?l="1":l=o.toPrecision(a),{flexBasis:0,flexGrow:l,flexShrink:1,overflow:"hidden",pointerEvents:e!==null?"none":void 0}}function $pt(t,e=10){let n=null;return(...s)=>{n!==null&&clearTimeout(n),n=setTimeout(()=>{t(...s)},e)}}function zle(t){try{if(typeof localStorage<"u")t.getItem=e=>localStorage.getItem(e),t.setItem=(e,n)=>{localStorage.setItem(e,n)};else throw new Error("localStorage not supported in this environment")}catch(e){console.error(e),t.getItem=()=>null,t.setItem=()=>{}}}function Ije(t){return`react-resizable-panels:${t}`}function Oje(t){return t.map(e=>{const{constraints:n,id:r,idIsFromProps:s,order:a}=e;return s?r:a?`${a}:${JSON.stringify(n)}`:JSON.stringify(n)}).sort((e,n)=>e.localeCompare(n)).join(",")}function Mje(t,e){try{const n=Ije(t),r=e.getItem(n);if(r){const s=JSON.parse(r);if(typeof s=="object"&&s!=null)return s}}catch{}return null}function Wpt(t,e,n){var r,s;const a=(r=Mje(t,n))!==null&&r!==void 0?r:{},o=Oje(e);return(s=a[o])!==null&&s!==void 0?s:null}function qpt(t,e,n,r,s){var a;const o=Ije(t),l=Oje(e),c=(a=Mje(t,s))!==null&&a!==void 0?a:{};c[l]={expandToSizes:Object.fromEntries(n.entries()),layout:r};try{s.setItem(o,JSON.stringify(c))}catch(u){console.error(u)}}function $le({layout:t,panelConstraints:e}){const n=[...t],r=n.reduce((a,o)=>a+o,0);if(n.length!==e.length)throw Error(`Invalid ${e.length} panel layout: ${n.map(a=>`${a}%`).join(", ")}`);if(!Qc(r,100)&&n.length>0)for(let a=0;a<e.length;a++){const o=n[a];Zn(o!=null,`No layout data found for index ${a}`);const l=100/r*o;n[a]=l}let s=0;for(let a=0;a<e.length;a++){const o=n[a];Zn(o!=null,`No layout data found for index ${a}`);const l=h1({panelConstraints:e,panelIndex:a,size:o});o!=l&&(s+=o-l,n[a]=l)}if(!Qc(s,0))for(let a=0;a<e.length;a++){const o=n[a];Zn(o!=null,`No layout data found for index ${a}`);const l=o+s,c=h1({panelConstraints:e,panelIndex:a,size:l});if(o!==c&&(s-=c-o,n[a]=c,Qc(s,0)))break}return n}const Vpt=100,GN={getItem:t=>(zle(GN),GN.getItem(t)),setItem:(t,e)=>{zle(GN),GN.setItem(t,e)}},Wle={};function Lje({autoSaveId:t=null,children:e,className:n="",direction:r,forwardedRef:s,id:a=null,onLayout:o=null,keyboardResizeBy:l=null,storage:c=GN,style:u,tagName:d="div",...h}){const f=nV(a),A=E.useRef(null),[v,p]=E.useState(null),[m,g]=E.useState([]),x=Upt(),b=E.useRef({}),j=E.useRef(new Map),N=E.useRef(0),_=E.useRef({autoSaveId:t,direction:r,dragState:v,id:f,keyboardResizeBy:l,onLayout:o,storage:c}),C=E.useRef({layout:m,panelDataArray:[],panelDataArrayChanged:!1});E.useRef({didLogIdAndOrderWarning:!1,didLogPanelConstraintsWarning:!1,prevPanelIds:[]}),E.useImperativeHandle(s,()=>({getId:()=>_.current.id,getLayout:()=>{const{layout:W}=C.current;return W},setLayout:W=>{const{onLayout:Y}=_.current,{layout:ee,panelDataArray:ie}=C.current,se=$le({layout:W,panelConstraints:ie.map(Ae=>Ae.constraints)});Hle(ee,se)||(g(se),C.current.layout=se,Y&&Y(se),Lb(ie,se,b.current))}}),[]),ty(()=>{_.current.autoSaveId=t,_.current.direction=r,_.current.dragState=v,_.current.id=f,_.current.onLayout=o,_.current.storage=c}),Lpt({committedValuesRef:_,eagerValuesRef:C,groupId:f,layout:m,panelDataArray:C.current.panelDataArray,setLayout:g,panelGroupElement:A.current}),E.useEffect(()=>{const{panelDataArray:W}=C.current;if(t){if(m.length===0||m.length!==W.length)return;let Y=Wle[t];Y==null&&(Y=$pt(qpt,Vpt),Wle[t]=Y);const ee=[...W],ie=new Map(j.current);Y(t,ee,ie,m,c)}},[t,m,c]),E.useEffect(()=>{});const k=E.useCallback(W=>{const{onLayout:Y}=_.current,{layout:ee,panelDataArray:ie}=C.current;if(W.constraints.collapsible){const se=ie.map(Me=>Me.constraints),{collapsedSize:Ae=0,panelSize:he,pivotIndices:Be}=fv(ie,W,ee);if(Zn(he!=null,`Panel size not found for panel "${W.id}"`),!dp(he,Ae)){j.current.set(W.id,he);const Ie=Yb(ie,W)===ie.length-1?he-Ae:Ae-he,Ye=KN({delta:Ie,initialLayout:ee,panelConstraints:se,pivotIndices:Be,prevLayout:ee,trigger:"imperative-api"});iB(ee,Ye)||(g(Ye),C.current.layout=Ye,Y&&Y(Ye),Lb(ie,Ye,b.current))}}},[]),T=E.useCallback((W,Y)=>{const{onLayout:ee}=_.current,{layout:ie,panelDataArray:se}=C.current;if(W.constraints.collapsible){const Ae=se.map(X=>X.constraints),{collapsedSize:he=0,panelSize:Be=0,minSize:Me=0,pivotIndices:Ie}=fv(se,W,ie),Ye=Y??Me;if(dp(Be,he)){const X=j.current.get(W.id),ue=X!=null&&X>=Ye?X:Ye,de=Yb(se,W)===se.length-1?Be-ue:ue-Be,ce=KN({delta:de,initialLayout:ie,panelConstraints:Ae,pivotIndices:Ie,prevLayout:ie,trigger:"imperative-api"});iB(ie,ce)||(g(ce),C.current.layout=ce,ee&&ee(ce),Lb(se,ce,b.current))}}},[]),O=E.useCallback(W=>{const{layout:Y,panelDataArray:ee}=C.current,{panelSize:ie}=fv(ee,W,Y);return Zn(ie!=null,`Panel size not found for panel "${W.id}"`),ie},[]),I=E.useCallback((W,Y)=>{const{panelDataArray:ee}=C.current,ie=Yb(ee,W);return zpt({defaultSize:Y,dragState:v,layout:m,panelData:ee,panelIndex:ie})},[v,m]),F=E.useCallback(W=>{const{layout:Y,panelDataArray:ee}=C.current,{collapsedSize:ie=0,collapsible:se,panelSize:Ae}=fv(ee,W,Y);return Zn(Ae!=null,`Panel size not found for panel "${W.id}"`),se===!0&&dp(Ae,ie)},[]),M=E.useCallback(W=>{const{layout:Y,panelDataArray:ee}=C.current,{collapsedSize:ie=0,collapsible:se,panelSize:Ae}=fv(ee,W,Y);return Zn(Ae!=null,`Panel size not found for panel "${W.id}"`),!se||wy(Ae,ie)>0},[]),S=E.useCallback(W=>{const{panelDataArray:Y}=C.current;Y.push(W),Y.sort((ee,ie)=>{const se=ee.order,Ae=ie.order;return se==null&&Ae==null?0:se==null?-1:Ae==null?1:se-Ae}),C.current.panelDataArrayChanged=!0,x()},[x]);ty(()=>{if(C.current.panelDataArrayChanged){C.current.panelDataArrayChanged=!1;const{autoSaveId:W,onLayout:Y,storage:ee}=_.current,{layout:ie,panelDataArray:se}=C.current;let Ae=null;if(W){const Be=Wpt(W,se,ee);Be&&(j.current=new Map(Object.entries(Be.expandToSizes)),Ae=Be.layout)}Ae==null&&(Ae=Hpt({panelDataArray:se}));const he=$le({layout:Ae,panelConstraints:se.map(Be=>Be.constraints)});Hle(ie,he)||(g(he),C.current.layout=he,Y&&Y(he),Lb(se,he,b.current))}}),ty(()=>{const W=C.current;return()=>{W.layout=[]}},[]);const q=E.useCallback(W=>{let Y=!1;const ee=A.current;return ee&&window.getComputedStyle(ee,null).getPropertyValue("direction")==="rtl"&&(Y=!0),function(se){se.preventDefault();const Ae=A.current;if(!Ae)return()=>null;const{direction:he,dragState:Be,id:Me,keyboardResizeBy:Ie,onLayout:Ye}=_.current,{layout:X,panelDataArray:ue}=C.current,{initialLayout:re}=Be??{},de=Fje(Me,W,Ae);let ce=Qpt(se,W,he,Be,Ie,Ae);const Ne=he==="horizontal";Ne&&Y&&(ce=-ce);const $e=ue.map(De=>De.constraints),ze=KN({delta:ce,initialLayout:re??X,panelConstraints:$e,pivotIndices:de,prevLayout:X,trigger:jje(se)?"keyboard":"mouse-or-touch"}),Fe=!iB(X,ze);(Nje(se)||_je(se))&&N.current!=ce&&(N.current=ce,!Fe&&ce!==0?Ne?tR(W,ce<0?Sje:Eje):tR(W,ce<0?Bje:Dje):tR(W,0)),Fe&&(g(ze),C.current.layout=ze,Ye&&Ye(ze),Lb(ue,ze,b.current))}},[]),U=E.useCallback((W,Y)=>{const{onLayout:ee}=_.current,{layout:ie,panelDataArray:se}=C.current,Ae=se.map(X=>X.constraints),{panelSize:he,pivotIndices:Be}=fv(se,W,ie);Zn(he!=null,`Panel size not found for panel "${W.id}"`);const Ie=Yb(se,W)===se.length-1?he-Y:Y-he,Ye=KN({delta:Ie,initialLayout:ie,panelConstraints:Ae,pivotIndices:Be,prevLayout:ie,trigger:"imperative-api"});iB(ie,Ye)||(g(Ye),C.current.layout=Ye,ee&&ee(Ye),Lb(se,Ye,b.current))},[]),L=E.useCallback((W,Y)=>{const{layout:ee,panelDataArray:ie}=C.current,{collapsedSize:se=0,collapsible:Ae}=Y,{collapsedSize:he=0,collapsible:Be,maxSize:Me=100,minSize:Ie=0}=W.constraints,{panelSize:Ye}=fv(ie,W,ee);Ye!=null&&(Ae&&Be&&dp(Ye,se)?dp(se,he)||U(W,he):Ye<Ie?U(W,Ie):Ye>Me&&U(W,Me))},[U]),z=E.useCallback((W,Y)=>{const{direction:ee}=_.current,{layout:ie}=C.current;if(!A.current)return;const se=b6(W,A.current);Zn(se,`Drag handle element not found for id "${W}"`);const Ae=Uje(ee,Y);p({dragHandleId:W,dragHandleRect:se.getBoundingClientRect(),initialCursorPosition:Ae,initialLayout:ie})},[]),$=E.useCallback(()=>{p(null)},[]),K=E.useCallback(W=>{const{panelDataArray:Y}=C.current,ee=Yb(Y,W);ee>=0&&(Y.splice(ee,1),delete b.current[W.id],C.current.panelDataArrayChanged=!0,x())},[x]),V=E.useMemo(()=>({collapsePanel:k,direction:r,dragState:v,expandPanel:T,getPanelSize:O,getPanelStyle:I,groupId:f,isPanelCollapsed:F,isPanelExpanded:M,reevaluatePanelConstraints:L,registerPanel:S,registerResizeHandle:q,resizePanel:U,startDragging:z,stopDragging:$,unregisterPanel:K,panelGroupElement:A.current}),[k,v,r,T,O,I,f,F,M,L,S,q,U,z,$,K]),H={display:"flex",flexDirection:r==="horizontal"?"row":"column",height:"100%",overflow:"hidden",width:"100%"};return E.createElement(x6.Provider,{value:V},E.createElement(d,{...h,children:e,className:n,id:a,ref:A,style:{...H,...u},[js.group]:"",[js.groupDirection]:r,[js.groupId]:f}))}const Rje=E.forwardRef((t,e)=>E.createElement(Lje,{...t,forwardedRef:e}));Lje.displayName="PanelGroup";Rje.displayName="forwardRef(PanelGroup)";function Yb(t,e){return t.findIndex(n=>n===e||n.id===e.id)}function fv(t,e,n){const r=Yb(t,e),a=r===t.length-1?[r-1,r]:[r,r+1],o=n[r];return{...e.constraints,panelSize:o,pivotIndices:a}}function Kpt({disabled:t,handleId:e,resizeHandler:n,panelGroupElement:r}){E.useEffect(()=>{if(t||n==null||r==null)return;const s=b6(e,r);if(s==null)return;const a=o=>{if(!o.defaultPrevented)switch(o.key){case"ArrowDown":case"ArrowLeft":case"ArrowRight":case"ArrowUp":case"End":case"Home":{o.preventDefault(),n(o);break}case"F6":{o.preventDefault();const l=s.getAttribute(js.groupId);Zn(l,`No group element found for id "${l}"`);const c=R5(l,r),u=kje(l,e,r);Zn(u!==null,`No resize element found for id "${e}"`);const d=o.shiftKey?u>0?u-1:c.length-1:u+1<c.length?u+1:0;c[d].focus();break}}};return s.addEventListener("keydown",a),()=>{s.removeEventListener("keydown",a)}},[r,t,e,n])}function Qje({children:t=null,className:e="",disabled:n=!1,hitAreaMargins:r,id:s,onBlur:a,onClick:o,onDragging:l,onFocus:c,onPointerDown:u,onPointerUp:d,style:h={},tabIndex:f=0,tagName:A="div",...v}){var p,m;const g=E.useRef(null),x=E.useRef({onClick:o,onDragging:l,onPointerDown:u,onPointerUp:d});E.useEffect(()=>{x.current.onClick=o,x.current.onDragging=l,x.current.onPointerDown=u,x.current.onPointerUp=d});const b=E.useContext(x6);if(b===null)throw Error("PanelResizeHandle components must be rendered within a PanelGroup container");const{direction:j,groupId:N,registerResizeHandle:_,startDragging:C,stopDragging:k,panelGroupElement:T}=b,O=nV(s),[I,F]=E.useState("inactive"),[M,S]=E.useState(!1),[q,U]=E.useState(null),L=E.useRef({state:I});ty(()=>{L.current.state=I}),E.useEffect(()=>{if(n)U(null);else{const V=_(O);U(()=>V)}},[n,O,_]);const z=(p=r==null?void 0:r.coarse)!==null&&p!==void 0?p:15,$=(m=r==null?void 0:r.fine)!==null&&m!==void 0?m:5;E.useEffect(()=>{if(n||q==null)return;const V=g.current;Zn(V,"Element ref not attached");let H=!1;return Fpt(O,V,j,{coarse:z,fine:$},(Y,ee,ie)=>{if(!ee){F("inactive");return}switch(Y){case"down":{F("drag"),H=!1,Zn(ie,'Expected event to be defined for "down" action'),C(O,ie);const{onDragging:se,onPointerDown:Ae}=x.current;se==null||se(!0),Ae==null||Ae();break}case"move":{const{state:se}=L.current;H=!0,se!=="drag"&&F("hover"),Zn(ie,'Expected event to be defined for "move" action'),q(ie);break}case"up":{F("hover"),k();const{onClick:se,onDragging:Ae,onPointerUp:he}=x.current;Ae==null||Ae(!1),he==null||he(),H||se==null||se();break}}})},[z,j,n,$,_,O,q,C,k]),Kpt({disabled:n,handleId:O,resizeHandler:q,panelGroupElement:T});const K={touchAction:"none",userSelect:"none"};return E.createElement(A,{...v,children:t,className:e,id:s,onBlur:()=>{S(!1),a==null||a()},onFocus:()=>{S(!0),c==null||c()},ref:g,role:"separator",style:{...K,...h},tabIndex:f,[js.groupDirection]:j,[js.groupId]:N,[js.resizeHandle]:"",[js.resizeHandleActive]:I==="drag"?"pointer":M?"keyboard":void 0,[js.resizeHandleEnabled]:!n,[js.resizeHandleId]:O,[js.resizeHandleState]:I})}Qje.displayName="PanelResizeHandle";const Gpt=({className:t,...e})=>i.jsx(Rje,{className:Vt("flex h-full w-full data-[panel-group-direction=vertical]:flex-col",t),...e}),rR=wje,qle=({withHandle:t,className:e,...n})=>i.jsx(Qje,{className:Vt("relative flex w-px items-center justify-center bg-zinc-200 after:absolute after:inset-y-0 after:left-1/2 after:w-1 after:-translate-x-1/2 focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-zinc-950 focus-visible:ring-offset-1 data-[panel-group-direction=vertical]:h-px data-[panel-group-direction=vertical]:w-full data-[panel-group-direction=vertical]:after:left-0 data-[panel-group-direction=vertical]:after:h-1 data-[panel-group-direction=vertical]:after:w-full data-[panel-group-direction=vertical]:after:-translate-y-1/2 data-[panel-group-direction=vertical]:after:translate-x-0 [&[data-panel-group-direction=vertical]>div]:rotate-90 dark:bg-zinc-800 dark:focus-visible:ring-zinc-300",e),...n,children:t&&i.jsx("div",{className:"z-10 flex h-4 w-3 items-center justify-center rounded-sm border border-zinc-200 bg-zinc-200 dark:border-zinc-800 dark:bg-zinc-800",children:i.jsx(d5e,{className:"h-2.5 w-2.5"})})}),Hje=({sourceTranscript:t,generatedStory:e,onStoryUpdate:n})=>{const[r,s]=E.useState([]),[a,o]=E.useState([]),[l,c]=E.useState([]),[u,d]=E.useState(null),[h,f]=E.useState(null),[A,v]=E.useState(!1),[p,m]=E.useState(""),[g,x]=E.useState("all"),[b,j]=E.useState(!1),[N,_]=E.useState(!0),C=E.useRef(null),k=E.useRef(null);E.useEffect(()=>{T()},[t,e]);const T=()=>{const $=[{id:"ref1",position:150,type:"quote",originalText:"كان الصباح هادئاً والطيور تغرد",context:"وصف المشهد الافتتاحي",confidence:.95,tags:["طبيعة","هدوء","بداية"]},{id:"ref2",position:300,type:"character",originalText:"محمد شاب طموح في الثلاثينات",context:"تقديم الشخصية الرئيسية",confidence:.88,tags:["شخصية","طموح","شباب"]},{id:"ref3",position:450,type:"emotion",originalText:"شعر بالحنين لبيت والده",context:"الحالة العاطفية للبطل",confidence:.92,tags:["حنين","عائلة","ذكريات"]},{id:"ref4",position:600,type:"cultural",originalText:"رائحة القهوة العربية تملأ المكان",context:"عنصر ثقافي أصيل",confidence:.85,tags:["قهوة","تراث","ضيافة"]},{id:"ref5",position:750,type:"fact",originalText:"القرية تقع في شمال البلاد",context:"معلومة جغرافية",confidence:.78,tags:["جغرافيا","مكان","قرية"]}],K=[{id:"seg1",content:"في صباح هادئ، حيث كانت الطيور تغرد بأصواتها العذبة...",startPosition:0,endPosition:100,sourceReferences:["ref1"],editHistory:[{timestamp:new Date,action:"created",content:"إنشاء أولي من الترانسكريبت"}]},{id:"seg2",content:"محمد، الشاب الطموح الذي يحمل أحلاماً كبيرة في قلبه...",startPosition:100,endPosition:250,sourceReferences:["ref2"],editHistory:[{timestamp:new Date,action:"enhanced",content:"إضافة تفاصيل شخصية"}]},{id:"seg3",content:"غمره شعور بالحنين العميق تجاه بيت والده الذي يحمل ذكريات الطفولة...",startPosition:250,endPosition:400,sourceReferences:["ref3"],editHistory:[{timestamp:new Date,action:"adapted",content:"تكييف المشاعر للسرد"}]}],V=[{sourceId:"ref1",storySegmentId:"seg1",relationshipType:"direct_quote",strength:.95,notes:"استخدام مباشر للوصف الأصلي"},{sourceId:"ref2",storySegmentId:"seg2",relationshipType:"adaptation",strength:.88,notes:"تطوير الشخصية بناءً على الوصف الأصلي"},{sourceId:"ref3",storySegmentId:"seg3",relationshipType:"inspiration",strength:.92,notes:"إلهام عاطفي من المصدر"}];s($),o(K),c(V)},O=$=>{switch($){case"quote":return i.jsx(cR,{className:"h-4 w-4"});case"character":return i.jsx(Wn,{className:"h-4 w-4"});case"emotion":return i.jsx(ta,{className:"h-4 w-4"});case"cultural":return i.jsx(mS,{className:"h-4 w-4"});case"fact":return i.jsx(xn,{className:"h-4 w-4"});default:return i.jsx(Go,{className:"h-4 w-4"})}},I=$=>{switch($){case"quote":return"bg-blue-100 text-blue-800 border-blue-200";case"character":return"bg-green-100 text-green-800 border-green-200";case"emotion":return"bg-red-100 text-red-800 border-red-200";case"cultural":return"bg-purple-100 text-purple-800 border-purple-200";case"fact":return"bg-yellow-100 text-yellow-800 border-yellow-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},F=$=>{switch($){case"direct_quote":return i.jsx(cR,{className:"h-3 w-3"});case"adaptation":return i.jsx(Ar,{className:"h-3 w-3"});case"inspiration":return i.jsx(tr,{className:"h-3 w-3"});case"interpretation":return i.jsx(Vn,{className:"h-3 w-3"});default:return i.jsx(Tv,{className:"h-3 w-3"})}},M=($,K)=>{if(!K.length)return $;let V=$;return K.forEach(H=>{const W=new RegExp(`(${H.originalText})`,"gi");V=V.replace(W,`<mark class="bg-${H.type==="quote"?"blue":H.type==="character"?"green":H.type==="emotion"?"red":H.type==="cultural"?"purple":"yellow"}-200 rounded px-1 cursor-pointer" data-ref-id="${H.id}">$1</mark>`)}),V},S=r.filter($=>{const K=g==="all"||$.type===g,V=!p||$.originalText.toLowerCase().includes(p.toLowerCase())||$.context.toLowerCase().includes(p.toLowerCase())||$.tags.some(H=>H.toLowerCase().includes(p.toLowerCase()));return K&&V}),q=$=>{if(!N||!k.current)return;const K=$.scrollTop/($.scrollHeight-$.clientHeight);k.current.scrollTop=K*(k.current.scrollHeight-k.current.clientHeight)},U=()=>{if(!u||!h)return;const $={sourceId:u,storySegmentId:h,relationshipType:"interpretation",strength:.8,notes:"مرجع متقاطع تم إنشاؤه يدوياً"};c(K=>[...K,$]),d(null),f(null)},L=()=>{const $=t.length;return r.reduce((V,H)=>V+H.originalText.length,0)/$*100},z=$=>{const K=$.sourceReferences.length,V=$.sourceReferences.reduce((H,W)=>{const Y=r.find(ee=>ee.id===W);return H+((Y==null?void 0:Y.confidence)||0)},0)/(K||1);return{referenceCount:K,avgConfidence:V,qualityScore:K*.3+V*.7}};return i.jsxs("div",{className:"h-screen flex flex-col",dir:"rtl",children:[i.jsx(ae,{className:"rounded-none border-b",children:i.jsx(Te,{className:"pb-3",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Tv,{className:"h-5 w-5"}),i.jsx(ke,{className:"text-lg",children:"محرر المراجعة المتقاطعة"}),i.jsxs(He,{variant:"outline",className:"mr-2",children:["تغطية المصدر: ",Math.round(L()),"%"]})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsxs(xe,{variant:"outline",size:"sm",onClick:()=>_(!N),children:[N?i.jsx(Tv,{className:"h-4 w-4"}):i.jsx(j5e,{className:"h-4 w-4"}),N?"مزامنة":"منفصل"]}),i.jsxs(xe,{variant:"outline",size:"sm",onClick:()=>j(!b),children:[b?i.jsx(xS,{className:"h-4 w-4"}):i.jsx(ry,{className:"h-4 w-4"}),b?"مفصل":"مضغوط"]}),i.jsxs(xe,{variant:"outline",size:"sm",children:[i.jsx(gr,{className:"h-4 w-4 mr-2"}),"تصدير"]})]})]})})}),i.jsx(ae,{className:"rounded-none border-b",children:i.jsx(oe,{className:"py-3",children:i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsxs("div",{className:"flex items-center gap-2 flex-1",children:[i.jsx(kl,{className:"h-4 w-4 text-gray-500"}),i.jsx(wn,{placeholder:"بحث في المراجع والنصوص...",value:p,onChange:$=>m($.target.value),className:"max-w-xs"})]}),i.jsx(Ns,{orientation:"vertical",className:"h-6"}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(gS,{className:"h-4 w-4"}),i.jsxs("select",{value:g,onChange:$=>x($.target.value),className:"border rounded px-2 py-1 text-sm",children:[i.jsx("option",{value:"all",children:"جميع الأنواع"}),i.jsx("option",{value:"quote",children:"اقتباسات"}),i.jsx("option",{value:"character",children:"شخصيات"}),i.jsx("option",{value:"emotion",children:"عواطف"}),i.jsx("option",{value:"cultural",children:"ثقافي"}),i.jsx("option",{value:"fact",children:"حقائق"})]})]}),i.jsxs(xe,{onClick:U,disabled:!u||!h,size:"sm",children:[i.jsx(Tv,{className:"h-4 w-4 mr-2"}),"ربط متقاطع"]})]})})}),i.jsx("div",{className:"flex-1 flex",children:i.jsxs(Gpt,{direction:"horizontal",className:"h-full",children:[i.jsx(rR,{defaultSize:35,minSize:25,children:i.jsxs(ae,{className:"h-full rounded-none border-r",children:[i.jsx(Te,{className:"pb-2",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs(ke,{className:"text-base flex items-center gap-2",children:[i.jsx(xn,{className:"h-4 w-4"}),"الترانسكريبت الأصلي"]}),i.jsxs(He,{variant:"outline",children:[S.length," مرجع"]})]})}),i.jsx(oe,{className:"p-0 h-full",children:i.jsx(Js,{className:"h-full p-4",ref:C,onScroll:$=>N&&q($.target),children:i.jsx("div",{className:"space-y-4",children:i.jsx("div",{className:"leading-relaxed text-sm",dangerouslySetInnerHTML:{__html:M(t,S)},onClick:$=>{const K=$.target;K.dataset.refId&&d(K.dataset.refId)}})})})})]})}),i.jsx(qle,{withHandle:!0}),i.jsx(rR,{defaultSize:30,minSize:25,children:i.jsxs(ae,{className:"h-full rounded-none border-r",children:[i.jsx(Te,{className:"pb-2",children:i.jsxs(ke,{className:"text-base flex items-center gap-2",children:[i.jsx(mp,{className:"h-4 w-4"}),"لوحة المراجع المتقاطعة"]})}),i.jsx(oe,{className:"p-0 h-full",children:i.jsxs(zn,{defaultValue:"references",className:"h-full flex flex-col",children:[i.jsxs(On,{className:"grid w-full grid-cols-3 rounded-none",children:[i.jsx(nt,{value:"references",className:"text-xs",children:"المراجع"}),i.jsx(nt,{value:"connections",className:"text-xs",children:"الروابط"}),i.jsx(nt,{value:"quality",className:"text-xs",children:"الجودة"})]}),i.jsx(rt,{value:"references",className:"flex-1 m-0",children:i.jsx(Js,{className:"h-full",children:i.jsx("div",{className:"p-3 space-y-2",children:S.map($=>i.jsx("div",{className:`p-3 border rounded-lg cursor-pointer transition-colors ${u===$.id?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300"}`,onClick:()=>d($.id),children:i.jsxs("div",{className:"flex items-start gap-2",children:[i.jsx("div",{className:`p-1 rounded border ${I($.type)}`,children:O($.type)}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("div",{className:"font-medium text-sm truncate",children:$.originalText}),i.jsx("div",{className:"text-xs text-gray-500 mt-1",children:$.context}),i.jsxs("div",{className:"flex items-center justify-between mt-2",children:[i.jsx("div",{className:"flex gap-1",children:$.tags.slice(0,2).map(K=>i.jsx(He,{variant:"secondary",className:"text-xs",children:K},K))}),i.jsxs("div",{className:"text-xs text-gray-500",children:[Math.round($.confidence*100),"%"]})]})]})]})},$.id))})})}),i.jsx(rt,{value:"connections",className:"flex-1 m-0",children:i.jsx(Js,{className:"h-full",children:i.jsx("div",{className:"p-3 space-y-2",children:l.map(($,K)=>{const V=r.find(W=>W.id===$.sourceId),H=a.find(W=>W.id===$.storySegmentId);return i.jsxs("div",{className:"p-3 border rounded-lg",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[F($.relationshipType),i.jsx("span",{className:"font-medium text-sm",children:$.relationshipType}),i.jsx("div",{className:"mr-auto",children:i.jsx(tt,{value:$.strength*100,className:"w-16 h-2"})})]}),i.jsxs("div",{className:"space-y-2 text-xs",children:[i.jsxs("div",{className:"bg-gray-50 p-2 rounded",children:[i.jsx("div",{className:"font-medium",children:"المصدر:"}),i.jsx("div",{className:"text-gray-600 truncate",children:V==null?void 0:V.originalText})]}),i.jsxs("div",{className:"bg-blue-50 p-2 rounded",children:[i.jsx("div",{className:"font-medium",children:"القصة:"}),i.jsx("div",{className:"text-gray-600 truncate",children:H==null?void 0:H.content})]}),$.notes&&i.jsx("div",{className:"text-gray-500 italic",children:$.notes})]})]},K)})})})}),i.jsx(rt,{value:"quality",className:"flex-1 m-0",children:i.jsx(Js,{className:"h-full",children:i.jsxs("div",{className:"p-3 space-y-4",children:[i.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[i.jsxs("div",{className:"text-center p-3 bg-blue-50 rounded",children:[i.jsxs("div",{className:"text-lg font-bold text-blue-600",children:[Math.round(L()),"%"]}),i.jsx("div",{className:"text-xs text-blue-700",children:"تغطية المصدر"})]}),i.jsxs("div",{className:"text-center p-3 bg-green-50 rounded",children:[i.jsx("div",{className:"text-lg font-bold text-green-600",children:l.length}),i.jsx("div",{className:"text-xs text-green-700",children:"روابط متقاطعة"})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("h4",{className:"font-medium text-sm",children:"جودة المقاطع"}),a.map($=>{const K=z($);return i.jsxs("div",{className:"p-2 border rounded",children:[i.jsxs("div",{className:"flex items-center justify-between mb-1",children:[i.jsxs("span",{className:"text-xs font-medium truncate",children:[$.content.substring(0,30),"..."]}),i.jsxs(He,{variant:K.qualityScore>.8?"default":K.qualityScore>.6?"secondary":"destructive",className:"text-xs",children:[Math.round(K.qualityScore*100),"%"]})]}),i.jsxs("div",{className:"text-xs text-gray-500",children:[K.referenceCount," مراجع • ثقة ",Math.round(K.avgConfidence*100),"%"]})]},$.id)})]})]})})})]})})]})}),i.jsx(qle,{withHandle:!0}),i.jsx(rR,{defaultSize:35,minSize:25,children:i.jsxs(ae,{className:"h-full rounded-none",children:[i.jsx(Te,{className:"pb-2",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs(ke,{className:"text-base flex items-center gap-2",children:[i.jsx(dr,{className:"h-4 w-4"}),"القصة المُنشأة"]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsxs(xe,{variant:"outline",size:"sm",children:[i.jsx(dce,{className:"h-4 w-4 mr-1"}),"نسخ"]}),i.jsx(xe,{variant:"outline",size:"sm",children:i.jsx(Qr,{className:"h-4 w-4"})})]})]})}),i.jsx(oe,{className:"p-0 h-full",children:i.jsx(Js,{className:"h-full p-4",ref:k,children:i.jsx("div",{className:"space-y-4",children:a.map($=>i.jsxs("div",{className:`p-3 rounded-lg border transition-colors cursor-pointer ${h===$.id?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300"}`,onClick:()=>f($.id),children:[i.jsx("div",{className:"leading-relaxed text-sm",children:$.content}),!b&&i.jsx("div",{className:"mt-2 pt-2 border-t border-gray-100",children:i.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-500",children:[i.jsx("span",{children:"المراجع:"}),$.sourceReferences.map(K=>{const V=r.find(H=>H.id===K);return V?i.jsx(He,{variant:"outline",className:"text-xs",children:V.type},K):null})]})})]},$.id))})})})]})})]})}),i.jsx(ae,{className:"rounded-none border-t",children:i.jsx(oe,{className:"py-2",children:i.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500",children:[i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsxs("span",{children:["المراجع المختارة: ",u?"1":"0"]}),i.jsxs("span",{children:["المقاطع المختارة: ",h?"1":"0"]}),i.jsxs("span",{children:["الروابط المتقاطعة: ",l.length]})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Rt,{className:"h-3 w-3 text-green-500"}),i.jsx("span",{children:"محدث تلقائياً"})]})]})})})]})},zje=({isActive:t,transcript:e,onWorkflowComplete:n})=>{const[r,s]=E.useState("preparation"),[a,o]=E.useState([]),[l,c]=E.useState([]),[u,d]=E.useState([]),[h,f]=E.useState(null),[A,v]=E.useState(!1),[p,m]=E.useState(1),[g,x]=E.useState(!1),[b,j]=E.useState(!1),N=E.useRef(null);E.useRef(),E.useEffect(()=>{_()},[]);const _=()=>{o([{id:"analysis",title:"التحليل السردي الخام",description:"استخلاص العناصر الأساسية من الترانسكريبت",agent:"محلل السرد الخام",status:"pending",progress:0,duration:25,dependencies:[],outputs:["الشخصيات","الأحداث","المشاعر"],metrics:{quality:0,speed:0,confidence:0}},{id:"inference",title:"الاستدلال السياقي",description:"ربط الأحداث بالسياق التاريخي وملء الفجوات",agent:"محرك الاستدلال",status:"pending",progress:0,duration:30,dependencies:["analysis"],outputs:["السياق التاريخي","الروابط المنطقية"],metrics:{quality:0,speed:0,confidence:0}},{id:"ideation",title:"توليد الأفكار الإبداعية",description:"إنشاء أفكار قصصية مبتكرة من المصدر",agent:"مولد الأفكار",status:"pending",progress:0,duration:20,dependencies:["analysis"],outputs:["أفكار إبداعية","زوايا سردية"],metrics:{quality:0,speed:0,confidence:0}},{id:"blueprinting",title:"هندسة المخطط السردي",description:"بناء الهيكل الأساسي للقصة",agent:"مهندس المخططات",status:"pending",progress:0,duration:35,dependencies:["inference","ideation"],outputs:["هيكل القصة","تطوير الشخصيات"],metrics:{quality:0,speed:0,confidence:0}},{id:"collaboration",title:"التعاون التفاعلي",description:"تنسيق العمل بين جميع الوكلاء",agent:"منسق التعاون",status:"pending",progress:0,duration:15,dependencies:["blueprinting"],outputs:["خطة متكاملة","توزيع المهام"],metrics:{quality:0,speed:0,confidence:0}},{id:"composition",title:"تأليف الفصول",description:"كتابة المحتوى النهائي للقصة",agent:"كاتب الفصول",status:"pending",progress:0,duration:40,dependencies:["collaboration"],outputs:["فصول القصة","نصوص الحوار"],metrics:{quality:0,speed:0,confidence:0}},{id:"cultural_integration",title:"التكامل الثقافي",description:"دمج العناصر الثقافية الأصيلة",agent:"خبير الثقافة العربية",status:"pending",progress:0,duration:25,dependencies:["composition"],outputs:["عناصر ثقافية","لغة أصيلة"],metrics:{quality:0,speed:0,confidence:0}},{id:"critique",title:"النقد والمراجعة",description:"تقييم وتحسين الجودة الأدبية",agent:"الناقد الأدبي",status:"pending",progress:0,duration:20,dependencies:["cultural_integration"],outputs:["تقييم أدبي","اقتراحات تحسين"],metrics:{quality:0,speed:0,confidence:0}}]),C()},C=()=>{c([{id:"char_development",participants:["محلل السرد الخام","مولد الأفكار","مهندس المخططات"],task:"تطوير الشخصيات الرئيسية",status:"planning",messages:[{agent:"محلل السرد الخام",message:"اكتشفت شخصية محمد كبطل رئيسي مع صفات الطموح والحنين",timestamp:new Date,type:"result"},{agent:"مولد الأفكار",message:"يمكننا تطوير صراع داخلي حول التوازن بين الطموح والجذور",timestamp:new Date,type:"suggestion"}]},{id:"plot_structure",participants:["محرك الاستدلال","مهندس المخططات","خبير الثقافة العربية"],task:"بناء الحبكة الأساسية",status:"discussing",messages:[{agent:"محرك الاستدلال",message:"السياق يشير إلى رحلة عودة للجذور كخط سردي مناسب",timestamp:new Date,type:"decision"}]}])},k=()=>{const M=N.current;if(!M)return;const S=M.getContext("2d");if(!S)return;const q=M.getBoundingClientRect();M.width=q.width*window.devicePixelRatio,M.height=q.height*window.devicePixelRatio,S.scale(window.devicePixelRatio,window.devicePixelRatio);const U=q.width,L=q.height;S.clearRect(0,0,U,L);const z=S.createLinearGradient(0,0,0,L);z.addColorStop(0,"#f8fafc"),z.addColorStop(1,"#e2e8f0"),S.fillStyle=z,S.fillRect(0,0,U,L);const $=40,K=L/4,V=[[a.find(W=>W.id==="analysis")],[a.find(W=>W.id==="inference"),a.find(W=>W.id==="ideation")],[a.find(W=>W.id==="blueprinting"),a.find(W=>W.id==="collaboration")],[a.find(W=>W.id==="composition"),a.find(W=>W.id==="cultural_integration"),a.find(W=>W.id==="critique")]];V.forEach((W,Y)=>{const ee=K*(Y+.5),ie=U/(W.length+1);W.forEach((se,Ae)=>{if(!se)return;const he=ie*(Ae+1);if(Y<V.length-1){const Ye=V[Y+1];Ye.forEach((X,ue)=>{if(!X||!X.dependencies.includes(se.id))return;const re=U/(Ye.length+1)*(ue+1),de=K*(Y+1.5);S.strokeStyle=se.status==="completed"?"#10b981":"#64748b",S.lineWidth=2,S.beginPath(),S.moveTo(he,ee+$),S.lineTo(re,de-$),S.stroke();const ce=Math.atan2(de-$-(ee+$),re-he),Ne=8;S.beginPath(),S.moveTo(re-Ne*Math.cos(ce-Math.PI/6),de-$-Ne*Math.sin(ce-Math.PI/6)),S.lineTo(re,de-$),S.lineTo(re-Ne*Math.cos(ce+Math.PI/6),de-$-Ne*Math.sin(ce+Math.PI/6)),S.stroke()})}let Be="#e2e8f0",Me="#475569";if(se.status==="completed"?(Be="#10b981",Me="#ffffff"):se.status==="active"?(Be="#3b82f6",Me="#ffffff"):se.status==="error"&&(Be="#ef4444",Me="#ffffff"),S.fillStyle=Be,S.beginPath(),S.arc(he,ee,$,0,2*Math.PI),S.fill(),S.strokeStyle=se.status==="active"?"#1d4ed8":"#64748b",S.lineWidth=2,S.stroke(),se.status==="active"&&se.progress>0){const Ye=se.progress/100*2*Math.PI;S.strokeStyle="#fbbf24",S.lineWidth=4,S.beginPath(),S.arc(he,ee,$+5,-Math.PI/2,-Math.PI/2+Ye),S.stroke()}S.fillStyle=Me,S.font="bold 12px -apple-system, BlinkMacSystemFont, sans-serif",S.textAlign="center",S.textBaseline="middle";const Ie=se.title.length>10?se.title.substring(0,8)+"...":se.title;S.fillText(Ie,he,ee),S.font="10px -apple-system, BlinkMacSystemFont, sans-serif",S.fillStyle="#64748b",S.fillText(se.agent,he,ee+$+15)})});const H=a.find(W=>W.status==="active");if(H){let W=0,Y=0;V.forEach((ie,se)=>{ie.forEach((Ae,he)=>{Ae&&Ae.id===H.id&&(W=U/(ie.length+1)*(he+1),Y=K*(se+.5))})});const ee=$+10+Math.sin(Date.now()/200)*5;S.strokeStyle="#3b82f6",S.lineWidth=3,S.setLineDash([5,5]),S.beginPath(),S.arc(W,Y,ee,0,2*Math.PI),S.stroke(),S.setLineDash([])}};E.useEffect(()=>{if(A){const M=setInterval(()=>{if(o(S=>{const q=[...S];let U=!1;if(q.forEach(L=>{L.status==="active"&&(L.progress=Math.min(100,L.progress+p*2),L.metrics.quality=Math.min(1,L.metrics.quality+.01),L.metrics.speed=p,L.metrics.confidence=Math.min(1,L.metrics.confidence+.005),U=!0,L.progress>=100&&(L.status="completed",q.forEach(z=>{z.dependencies.includes(L.id)&&z.dependencies.every($=>{var K;return((K=q.find(V=>V.id===$))==null?void 0:K.status)==="completed"})&&(z.status="active")})))}),q.every(L=>L.status==="pending")){const L=q.find(z=>z.dependencies.length===0);L&&(L.status="active",U=!0)}return U?q:S}),Math.random()<.3){const S={timestamp:new Date,phase:r,elements:{characters:Math.floor(Math.random()*10)+1,events:Math.floor(Math.random()*15)+5,emotions:Math.floor(Math.random()*8)+3,cultural:Math.floor(Math.random()*6)+2},connections:Math.floor(Math.random()*20)+10,qualityScore:Math.random()*.3+.7};d(q=>[...q.slice(-9),S])}},500/p);return()=>clearInterval(M)}},[A,p,r]),E.useEffect(()=>{k()},[a]);const T=M=>({"محلل السرد الخام":"#3b82f6","محرك الاستدلال":"#10b981","مولد الأفكار":"#f59e0b","مهندس المخططات":"#8b5cf6","منسق التعاون":"#06b6d4","كاتب الفصول":"#ef4444","خبير الثقافة العربية":"#84cc16","الناقد الأدبي":"#f97316"})[M]||"#64748b",O=M=>{switch(M){case"completed":return i.jsx(Rt,{className:"h-4 w-4 text-green-600"});case"active":return i.jsx(xr,{className:"h-4 w-4 text-blue-600 animate-spin"});case"error":return i.jsx(jl,{className:"h-4 w-4 text-red-600"});default:return i.jsx(xr,{className:"h-4 w-4 text-gray-400"})}},I=a.reduce((M,S)=>M+S.progress,0)/a.length,F=a.filter(M=>M.status==="completed").length;return i.jsxs("div",{className:"space-y-6",dir:"rtl",children:[i.jsxs(ae,{children:[i.jsx(Te,{children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs(ke,{className:"flex items-center gap-2",children:[i.jsx(Np,{className:"h-5 w-5"}),"سير العمل المرئي لذاكرة السرد الحيّة"]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsxs(xe,{variant:"outline",size:"sm",onClick:()=>v(!A),children:[A?i.jsx(jp,{className:"h-4 w-4"}):i.jsx(xa,{className:"h-4 w-4"}),A?"إيقاف":"تشغيل"]}),i.jsxs(xe,{variant:"outline",size:"sm",onClick:()=>j(!b),children:[b?i.jsx(ry,{className:"h-4 w-4"}):i.jsx(xS,{className:"h-4 w-4"}),b?"مضغوط":"موسع"]})]})]})}),i.jsx(oe,{children:i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex justify-between text-sm",children:[i.jsx("span",{children:"التقدم الإجمالي"}),i.jsxs("span",{children:[Math.round(I),"% (",F,"/",a.length,")"]})]}),i.jsx(tt,{value:I,className:"h-2"})]}),i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"text-sm",children:"السرعة:"}),i.jsxs("select",{value:p,onChange:M=>m(Number(M.target.value)),className:"border rounded px-2 py-1 text-sm",children:[i.jsx("option",{value:.5,children:"بطيء"}),i.jsx("option",{value:1,children:"عادي"}),i.jsx("option",{value:2,children:"سريع"}),i.jsx("option",{value:4,children:"سريع جداً"})]})]}),i.jsx(Ns,{orientation:"vertical",className:"h-6"}),i.jsxs(xe,{variant:"outline",size:"sm",onClick:()=>x(!g),children:[i.jsx($u,{className:"h-4 w-4 mr-2"}),"حوار الوكلاء"]})]})]})})]}),i.jsxs(ae,{children:[i.jsx(Te,{children:i.jsxs(ke,{className:"flex items-center gap-2",children:[i.jsx(TD,{className:"h-5 w-5"}),"مخطط سير العمل التفاعلي"]})}),i.jsx(oe,{children:i.jsx("canvas",{ref:N,className:"w-full h-96 border rounded-lg",style:{height:b?"600px":"400px"}})})]}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[i.jsxs(ae,{children:[i.jsx(Te,{children:i.jsxs(ke,{className:"flex items-center gap-2",children:[i.jsx(Rs,{className:"h-5 w-5"}),"تفاصيل الخطوات"]})}),i.jsx(oe,{children:i.jsx(Js,{className:"h-80",children:i.jsx("div",{className:"space-y-3",children:a.map(M=>i.jsx("div",{className:`p-3 border rounded-lg cursor-pointer transition-colors ${h===M.id?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300"}`,onClick:()=>f(M.id),children:i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx("div",{className:"flex-shrink-0 mt-1",children:O(M.status)}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("h4",{className:"font-medium text-sm",children:M.title}),i.jsx(He,{variant:"outline",style:{backgroundColor:T(M.agent)+"20",borderColor:T(M.agent)},children:M.agent})]}),i.jsx("p",{className:"text-xs text-gray-600 mt-1",children:M.description}),M.status==="active"&&i.jsxs("div",{className:"mt-2",children:[i.jsx(tt,{value:M.progress,className:"h-1"}),i.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:[Math.round(M.progress),"% مكتمل"]})]}),M.status==="completed"&&i.jsxs("div",{className:"mt-2 space-y-1",children:[i.jsxs("div",{className:"flex gap-2 text-xs",children:[i.jsxs("span",{children:["جودة: ",Math.round(M.metrics.quality*100),"%"]}),i.jsxs("span",{children:["ثقة: ",Math.round(M.metrics.confidence*100),"%"]})]}),i.jsx("div",{className:"flex gap-1",children:M.outputs.map(S=>i.jsx(He,{variant:"secondary",className:"text-xs",children:S},S))})]})]})]})},M.id))})})})]}),i.jsxs(ae,{children:[i.jsx(Te,{children:i.jsxs(ke,{className:"flex items-center gap-2",children:[i.jsx(N_,{className:"h-5 w-5"}),"لقطات ذاكرة السرد"]})}),i.jsx(oe,{children:i.jsx(Js,{className:"h-80",children:i.jsx("div",{className:"space-y-2",children:u.slice().reverse().map((M,S)=>i.jsxs("div",{className:"p-3 border rounded-lg",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("span",{className:"text-sm font-medium",children:M.phase}),i.jsxs(He,{variant:"outline",children:["جودة ",Math.round(M.qualityScore*100),"%"]})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(Wn,{className:"h-3 w-3"}),i.jsxs("span",{children:[M.elements.characters," شخصيات"]})]}),i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(En,{className:"h-3 w-3"}),i.jsxs("span",{children:[M.elements.events," أحداث"]})]}),i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(ta,{className:"h-3 w-3"}),i.jsxs("span",{children:[M.elements.emotions," عواطف"]})]}),i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(mS,{className:"h-3 w-3"}),i.jsxs("span",{children:[M.elements.cultural," ثقافية"]})]})]}),i.jsx("div",{className:"mt-2 text-xs text-gray-500",children:i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(TD,{className:"h-3 w-3"}),i.jsxs("span",{children:[M.connections," اتصال"]}),i.jsx("span",{className:"mr-auto",children:M.timestamp.toLocaleTimeString("ar")})]})})]},S))})})})]})]}),g&&i.jsxs(ae,{children:[i.jsx(Te,{children:i.jsxs(ke,{className:"flex items-center gap-2",children:[i.jsx($u,{className:"h-5 w-5"}),"حوار الوكلاء التفاعلي"]})}),i.jsx(oe,{children:i.jsxs(zn,{defaultValue:"active",className:"space-y-4",children:[i.jsxs(On,{children:[i.jsx(nt,{value:"active",children:"التعاون النشط"}),i.jsx(nt,{value:"history",children:"تاريخ المناقشات"})]}),i.jsx(rt,{value:"active",className:"space-y-4",children:l.map(M=>i.jsxs("div",{className:"border rounded-lg p-4",children:[i.jsxs("div",{className:"flex items-center justify-between mb-3",children:[i.jsx("h4",{className:"font-medium",children:M.task}),i.jsx(He,{variant:M.status==="executing"?"default":"secondary",children:M.status})]}),i.jsx("div",{className:"flex gap-2 mb-3",children:M.participants.map(S=>i.jsx(He,{variant:"outline",style:{backgroundColor:T(S)+"20"},children:S},S))}),i.jsx(Js,{className:"h-32",children:i.jsx("div",{className:"space-y-2",children:M.messages.map((S,q)=>i.jsxs("div",{className:"text-sm",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[i.jsx(He,{variant:"outline",className:"text-xs",style:{backgroundColor:T(S.agent)+"20"},children:S.agent}),i.jsx(He,{variant:"secondary",className:"text-xs",children:S.type})]}),i.jsx("p",{className:"text-gray-700 bg-gray-50 p-2 rounded",children:S.message})]},q))})})]},M.id))}),i.jsx(rt,{value:"history",children:i.jsxs("div",{className:"text-center text-gray-500 py-8",children:[i.jsx($u,{className:"h-12 w-12 mx-auto mb-2 opacity-50"}),i.jsx("p",{children:"سيتم عرض تاريخ المناقشات هنا"})]})})]})})]}),i.jsxs(ae,{children:[i.jsx(Te,{children:i.jsxs(ke,{className:"flex items-center gap-2",children:[i.jsx(Hn,{className:"h-5 w-5"}),"إحصائيات الأداء المباشرة"]})}),i.jsx(oe,{children:i.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"text-2xl font-bold text-blue-600",children:a.filter(M=>M.status==="active").length}),i.jsx("div",{className:"text-sm text-gray-500",children:"وكلاء نشطة"})]}),i.jsxs("div",{className:"text-center",children:[i.jsxs("div",{className:"text-2xl font-bold text-green-600",children:[Math.round(I),"%"]}),i.jsx("div",{className:"text-sm text-gray-500",children:"تقدم إجمالي"})]}),i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"text-2xl font-bold text-purple-600",children:l.length}),i.jsx("div",{className:"text-sm text-gray-500",children:"تعاونات نشطة"})]}),i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"text-2xl font-bold text-orange-600",children:u.length}),i.jsx("div",{className:"text-sm text-gray-500",children:"لقطات ذاكرة"})]})]})})]})]})},Xpt=()=>{const[t,e]=E.useState(null),[n,r]=E.useState("dashboard"),[s,a]=E.useState(!1),[o,l]=E.useState(!0),c=`
كان محمد يجلس في مكتبه في قلب العاصمة، ينظر إلى الأضواء المتلألئة. رغم نجاحه المهني، 
كان يشعر بفراغ عميق. تذكر كلمات والده: "يا بني، مهما علت بك الحياة، لا تنس جذورك."

في صباح يوم جمعة، قرر العودة إلى قريته. الرحلة كانت أكثر من زيارة - كانت رحلة لاستكشاف 
الذات. عندما وصل، استقبله عطر الياسمين وصوت الأذان من المسجد القديم. 

كل شيء كما تركه، لكن قلبه رأى الأشياء بعيون جديدة. البيوت الطينية، الأزقة الضيقة، 
ابتسامات الناس الدافئة - بدا له كنزاً ثميناً لم يقدر قيمته من قبل.

لم تكن عودة جسدية فحسب، بل روحية إلى جوهره الحقيقي. اكتشف أن السعادة لا تكمن في 
الإنجازات المادية وحدها، بل في الاتصال العميق مع الجذور والقيم التي تشكل هويتنا.
  `.trim();E.useEffect(()=>{if(!t){const m={id:"demo_project_"+Date.now(),name:"مشروع تجريبي - رحلة العودة للجذور",transcript:c,currentPhase:"upload",qualityMetrics:{authenticity:.89,creativity:.76,coherence:.92,culturalDepth:.84}};e(m)}},[]);const u=m=>{t&&(e({...t,transcript:m,currentPhase:"analyze"}),r("visualizer"))},d=m=>{t&&(e({...t,analysis:m,currentPhase:"build"}),r("builder"))},h=m=>{t&&e({...t,generatedStory:m})},f=()=>{const m={id:"project_"+Date.now(),name:"مشروع جديد",transcript:"",currentPhase:"upload"};e(m),r("dashboard"),l(!1)},A=m=>{const g=["upload","analyze","build","refine","complete"];return(g.indexOf(m)+1)/g.length*100},v=m=>{switch(m){case"upload":return i.jsx(sc,{className:"h-4 w-4"});case"analyze":return i.jsx(Vn,{className:"h-4 w-4"});case"build":return i.jsx(Ha,{className:"h-4 w-4"});case"refine":return i.jsx(Tv,{className:"h-4 w-4"});case"complete":return i.jsx(Rt,{className:"h-4 w-4"});default:return i.jsx(xr,{className:"h-4 w-4"})}},p=m=>{switch(m){case"upload":return"رفع الترانسكريبت";case"analyze":return"التحليل والتصور";case"build":return"بناء القصة";case"refine":return"التنقيح والمراجعة";case"complete":return"مكتمل";default:return"غير محدد"}};return o?i.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-purple-50 to-pink-50 flex items-center justify-center p-6",dir:"rtl",children:i.jsxs("div",{className:"max-w-4xl mx-auto text-center space-y-8",children:[i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center justify-center gap-3 mb-6",children:[i.jsx("div",{className:"p-3 bg-gradient-to-br from-blue-500 to-purple-600 rounded-xl text-white",children:i.jsx(zt,{className:"h-8 w-8"})}),i.jsx("h1",{className:"text-4xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:"ذاكرة السرد الحيّة"}),i.jsx("div",{className:"p-3 bg-gradient-to-br from-purple-500 to-pink-600 rounded-xl text-white",children:i.jsx(Qn,{className:"h-8 w-8"})})]}),i.jsx("p",{className:"text-xl text-gray-600 max-w-2xl mx-auto leading-relaxed",children:"أحدث ثورة في الكتابة الذكية العربية - تحويل الترانسكريبت إلى قصص احترافية من خلال التعاون الذكي بين الوكلاء والتحليل العميق للسرد"})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[i.jsxs(ae,{className:"border-2 hover:border-blue-300 transition-colors",children:[i.jsxs(Te,{className:"text-center",children:[i.jsx("div",{className:"mx-auto w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center mb-2",children:i.jsx(Vn,{className:"h-6 w-6 text-blue-600"})}),i.jsx(ke,{className:"text-lg",children:"التحليل البصري"})]}),i.jsx(oe,{children:i.jsx("p",{className:"text-sm text-gray-600",children:"مخطط مرئي تفاعلي يظهر الشخصيات والعواطف والعناصر الثقافية"})})]}),i.jsxs(ae,{className:"border-2 hover:border-purple-300 transition-colors",children:[i.jsxs(Te,{className:"text-center",children:[i.jsx("div",{className:"mx-auto w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center mb-2",children:i.jsx(Ha,{className:"h-6 w-6 text-purple-600"})}),i.jsx(ke,{className:"text-lg",children:"البناء التعاوني"})]}),i.jsx(oe,{children:i.jsx("p",{className:"text-sm text-gray-600",children:"وكلاء أذكياء يتعاونون لتحويل الترانسكريبت إلى قصة احترافية"})})]}),i.jsxs(ae,{className:"border-2 hover:border-green-300 transition-colors",children:[i.jsxs(Te,{className:"text-center",children:[i.jsx("div",{className:"mx-auto w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center mb-2",children:i.jsx(Tv,{className:"h-6 w-6 text-green-600"})}),i.jsx(ke,{className:"text-lg",children:"المراجعة المتقاطعة"})]}),i.jsx(oe,{children:i.jsx("p",{className:"text-sm text-gray-600",children:"ربط تفاعلي بين المصدر والقصة مع تتبع المراجع والاقتباسات"})})]}),i.jsxs(ae,{className:"border-2 hover:border-orange-300 transition-colors",children:[i.jsxs(Te,{className:"text-center",children:[i.jsx("div",{className:"mx-auto w-12 h-12 bg-orange-100 rounded-lg flex items-center justify-center mb-2",children:i.jsx(Rs,{className:"h-6 w-6 text-orange-600"})}),i.jsx(ke,{className:"text-lg",children:"سير العمل المرئي"})]}),i.jsx(oe,{children:i.jsx("p",{className:"text-sm text-gray-600",children:"متابعة مباشرة لعملية التحويل مع إحصائيات الأداء والجودة"})})]})]}),i.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-8",children:[i.jsx("h3",{className:"text-2xl font-bold mb-6 text-gray-800",children:"لماذا ذاكرة السرد الحيّة؟"}),i.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6",children:[i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"text-3xl font-bold text-blue-600 mb-2",children:"95%"}),i.jsx("div",{className:"text-sm text-gray-600",children:"دقة في الحفاظ على الأصالة"})]}),i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"text-3xl font-bold text-purple-600 mb-2",children:"8"}),i.jsx("div",{className:"text-sm text-gray-600",children:"وكلاء ذكيين متخصصين"})]}),i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"text-3xl font-bold text-green-600 mb-2",children:"60%"}),i.jsx("div",{className:"text-sm text-gray-600",children:"توفير في الوقت"})]}),i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"text-3xl font-bold text-orange-600 mb-2",children:"∞"}),i.jsx("div",{className:"text-sm text-gray-600",children:"إمكانيات إبداعية"})]})]})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs(xe,{onClick:()=>l(!1),size:"lg",className:"text-lg px-8 py-4 bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700",children:[i.jsx(Qn,{className:"h-5 w-5 mr-2"}),"ابدأ رحلة السرد الحيّة"]}),i.jsxs("div",{className:"flex gap-4 justify-center",children:[i.jsxs(xe,{variant:"outline",onClick:f,children:[i.jsx(sc,{className:"h-4 w-4 mr-2"}),"مشروع جديد"]}),i.jsxs(xe,{variant:"outline",children:[i.jsx(xn,{className:"h-4 w-4 mr-2"}),"مشاهدة العرض التوضيحي"]})]})]})]})}):i.jsxs("div",{className:"min-h-screen bg-gray-50",dir:"rtl",children:[i.jsx("div",{className:"bg-white border-b sticky top-0 z-50",children:i.jsx("div",{className:"max-w-7xl mx-auto px-6 py-4",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(zt,{className:"h-6 w-6 text-blue-600"}),i.jsx("h1",{className:"text-xl font-bold",children:"ذاكرة السرد الحيّة"})]}),t&&i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsxs(He,{variant:"outline",className:"gap-1",children:[v(t.currentPhase),p(t.currentPhase)]}),i.jsx("div",{className:"w-32",children:i.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[i.jsx("span",{children:"التقدم:"}),i.jsxs("span",{children:[Math.round(A(t.currentPhase)),"%"]})]})})]})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[t&&i.jsxs(i.Fragment,{children:[i.jsxs(xe,{variant:"outline",size:"sm",onClick:()=>a(!s),children:[s?i.jsx(jp,{className:"h-4 w-4"}):i.jsx(xa,{className:"h-4 w-4"}),"سير العمل"]}),i.jsxs(xe,{variant:"outline",size:"sm",children:[i.jsx(gr,{className:"h-4 w-4 mr-2"}),"تصدير"]})]}),i.jsxs(xe,{onClick:f,size:"sm",children:[i.jsx(dx,{className:"h-4 w-4 mr-2"}),"مشروع جديد"]})]})]})})}),i.jsx("div",{className:"max-w-7xl mx-auto px-6 py-6",children:t?i.jsxs(zn,{value:n,onValueChange:r,className:"space-y-6",children:[i.jsxs(On,{className:"grid w-full grid-cols-5",children:[i.jsxs(nt,{value:"dashboard",className:"flex items-center gap-2",children:[i.jsx(Hn,{className:"h-4 w-4"}),"لوحة التحكم"]}),i.jsxs(nt,{value:"visualizer",className:"flex items-center gap-2",children:[i.jsx(Vn,{className:"h-4 w-4"}),"التحليل البصري"]}),i.jsxs(nt,{value:"builder",className:"flex items-center gap-2",children:[i.jsx(Ha,{className:"h-4 w-4"}),"بناء القصة"]}),i.jsxs(nt,{value:"editor",className:"flex items-center gap-2",children:[i.jsx(Tv,{className:"h-4 w-4"}),"المراجعة المتقاطعة"]}),i.jsxs(nt,{value:"workflow",className:"flex items-center gap-2",children:[i.jsx(Rs,{className:"h-4 w-4"}),"سير العمل"]})]}),i.jsx(rt,{value:"dashboard",children:i.jsx(ije,{onTranscriptUpload:u,currentProject:t})}),i.jsx(rt,{value:"visualizer",children:i.jsx(sje,{transcript:t.transcript,analysis:t.analysis})}),i.jsx(rt,{value:"builder",children:i.jsx(yje,{sourceTranscript:t.transcript,memorySnapshot:t.analysis})}),i.jsx(rt,{value:"editor",children:t.generatedStory?i.jsx(Hje,{sourceTranscript:t.transcript,generatedStory:t.generatedStory,onStoryUpdate:h}):i.jsx(ae,{children:i.jsxs(oe,{className:"flex flex-col items-center justify-center py-16",children:[i.jsx(dr,{className:"h-16 w-16 text-gray-400 mb-4"}),i.jsx("h3",{className:"text-lg font-medium text-gray-600 mb-2",children:"لم يتم إنشاء قصة بعد"}),i.jsx("p",{className:"text-gray-500 text-center mb-4",children:'قم ببناء القصة أولاً من خلال تبويب "بناء القصة"'}),i.jsxs(xe,{onClick:()=>r("builder"),children:[i.jsx(Ha,{className:"h-4 w-4 mr-2"}),"انتقل لبناء القصة"]})]})})}),i.jsx(rt,{value:"workflow",children:i.jsx(zje,{isActive:s,transcript:t.transcript,onWorkflowComplete:d})})]}):i.jsx(ae,{children:i.jsxs(oe,{className:"flex flex-col items-center justify-center py-16",children:[i.jsx(zt,{className:"h-16 w-16 text-gray-400 mb-4"}),i.jsx("h3",{className:"text-lg font-medium text-gray-600 mb-2",children:"لا يوجد مشروع مفتوح"}),i.jsx("p",{className:"text-gray-500 text-center mb-4",children:"ابدأ مشروعاً جديداً لتجربة ميزة ذاكرة السرد الحيّة"}),i.jsxs(xe,{onClick:f,children:[i.jsx(sc,{className:"h-4 w-4 mr-2"}),"إنشاء مشروع جديد"]})]})})}),t&&i.jsx("div",{className:"bg-white border-t mt-auto",children:i.jsx("div",{className:"max-w-7xl mx-auto px-6 py-3",children:i.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-600",children:[i.jsxs("div",{className:"flex items-center gap-6",children:[i.jsxs("span",{children:["المشروع: ",t.name]}),i.jsxs("span",{children:["الطور: ",p(t.currentPhase)]}),t.qualityMetrics&&i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsxs("span",{children:["الأصالة: ",Math.round(t.qualityMetrics.authenticity*100),"%"]}),i.jsxs("span",{children:["الإبداع: ",Math.round(t.qualityMetrics.creativity*100),"%"]}),i.jsxs("span",{children:["التماسك: ",Math.round(t.qualityMetrics.coherence*100),"%"]})]})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Rt,{className:"h-4 w-4 text-green-500"}),i.jsx("span",{children:"محفوظ تلقائياً"})]})]})})})]})},Ypt=()=>{const[t,e]=E.useState("dashboard"),[n,r]=E.useState(!1),[s,a]=E.useState([]),[o,l]=E.useState(null),[c,u]=E.useState([]),[d,h]=E.useState([]),[f,A]=E.useState(!1),[v,p]=E.useState(!1),[m,g]=E.useState(!1),[x,b]=E.useState({title:"",description:"",type:"memoir"}),{toast:j}=ki();E.useEffect(()=>{N(),_()},[]);const N=async()=>{try{r(!0);const T=[{project_id:"1",title:"مذكرات الجد أحمد",description:"تحويل مقابلات شفوية إلى مذكرات متكاملة",status:"processing",source_count:3,progress:65,created_at:"2025-06-01",updated_at:"2025-06-07",metadata:{type:"memoir",language:"ar"}},{project_id:"2",title:"حكايات من التراث",description:"جمع القصص الشعبية وإعادة صياغتها",status:"reviewing",source_count:7,progress:85,created_at:"2025-05-15",updated_at:"2025-06-06",metadata:{type:"folklore",language:"ar"}}];a(T),T.length>0&&l(T[0])}catch(T){console.error("خطأ في تحميل المشاريع:",T),j({title:"خطأ",description:"فشل في تحميل المشاريع",variant:"destructive"})}finally{r(!1)}},_=async()=>{try{u([{source_id:"1",title:"مقابلة مع الحاج محمد",content:"في تلك الأيام كانت الحياة بسيطة...",type:"interview",language:"ar",speaker_count:2,duration:45,analyzed:!0,analysis_results:{characters:["الحاج محمد","المحاور"],themes:["الحياة القديمة","التراث","الذكريات"],emotions:["حنين","فخر","حزن خفيف"]},created_at:"2025-06-01"},{source_id:"2",title:"شهادة حول الحرب",content:"عشت أصعب اللحظات في حياتي...",type:"testimony",language:"ar",speaker_count:1,duration:30,analyzed:!1,created_at:"2025-06-02"}]),h([{step_id:"1",title:"تحليل المصادر",description:"استخلاص الشخصيات والأحداث والمواضيع",status:"completed",progress:100,result:{characters:5,events:12,themes:8}},{step_id:"2",title:"بناء الخريطة السردية",description:"ربط الأحداث والشخصيات في إطار زمني",status:"in_progress",progress:70},{step_id:"3",title:"التخليق السردي",description:"إنتاج النص المتكامل مع الحفاظ على الأصالة",status:"pending",progress:0},{step_id:"4",title:"المراجعة والتحسين",description:"مراجعة النص وتحسين الجودة",status:"pending",progress:0}])}catch(T){console.error("خطأ في تحميل البيانات التجريبية:",T)}},C=async()=>{try{if(!x.title.trim()){j({title:"تنبيه",description:"يرجى إدخال عنوان المشروع",variant:"destructive"});return}r(!0);const T={project_id:Date.now().toString(),title:x.title,description:x.description,status:"planning",source_count:0,progress:0,created_at:new Date().toISOString().split("T")[0],updated_at:new Date().toISOString().split("T")[0],metadata:{type:x.type,language:"ar"}};a(O=>[T,...O]),l(T),b({title:"",description:"",type:"memoir"}),A(!1),j({title:"نجح",description:"تم إنشاء المشروع بنجاح"})}catch(T){console.error("خطأ في إنشاء المشروع:",T),j({title:"خطأ",description:"فشل في إنشاء المشروع",variant:"destructive"})}finally{r(!1)}},k=async T=>{try{r(!0);const O=await T.text(),I={source_id:Date.now().toString(),title:T.name.replace(/\.[^/.]+$/,""),content:O,type:"document",language:"ar",speaker_count:1,analyzed:!1,created_at:new Date().toISOString().split("T")[0]};u(F=>[I,...F]),p(!1),j({title:"نجح",description:"تم رفع الترانسكريبت بنجاح"})}catch(O){console.error("خطأ في رفع الترانسكريبت:",O),j({title:"خطأ",description:"فشل في رفع الترانسكريبت",variant:"destructive"})}finally{r(!1)}};return i.jsx("div",{className:"min-h-screen bg-gradient-to-br from-indigo-50 via-purple-50 to-pink-50 p-6",dir:"rtl",children:i.jsxs("div",{className:"max-w-7xl mx-auto",children:[i.jsx(wl.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"mb-8",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center space-x-4 space-x-reverse",children:[i.jsx("div",{className:"p-3 bg-gradient-to-r from-indigo-600 to-purple-600 rounded-xl text-white",children:i.jsx(zt,{className:"h-8 w-8"})}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-4xl font-bold text-gray-900",children:"ذاكرة السرد الحيّة"}),i.jsx("p",{className:"text-lg text-gray-600 mt-2",children:"تحويل الترانسكريبت إلى روايات حية ومتماسكة"})]})]}),i.jsxs("div",{className:"flex space-x-3 space-x-reverse",children:[i.jsxs(xe,{onClick:()=>A(!0),className:"bg-gradient-to-r from-indigo-600 to-purple-600 hover:from-indigo-700 hover:to-purple-700 text-white",size:"lg",children:[i.jsx(us,{className:"h-5 w-5 ml-2"}),"مشروع جديد"]}),i.jsxs(xe,{onClick:()=>p(!0),variant:"outline",size:"lg",children:[i.jsx(sc,{className:"h-5 w-5 ml-2"}),"رفع ترانسكريبت"]})]})]})}),i.jsxs(wl.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[i.jsx(ae,{children:i.jsx(oe,{className:"p-6",children:i.jsxs("div",{className:"flex items-center",children:[i.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:i.jsx(xn,{className:"h-6 w-6 text-blue-600"})}),i.jsxs("div",{className:"mr-4",children:[i.jsx("p",{className:"text-sm font-medium text-gray-600",children:"المشاريع النشطة"}),i.jsx("p",{className:"text-2xl font-bold text-gray-900",children:s.length})]})]})})}),i.jsx(ae,{children:i.jsx(oe,{className:"p-6",children:i.jsxs("div",{className:"flex items-center",children:[i.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:i.jsx(Wn,{className:"h-6 w-6 text-green-600"})}),i.jsxs("div",{className:"mr-4",children:[i.jsx("p",{className:"text-sm font-medium text-gray-600",children:"المصادر المحللة"}),i.jsx("p",{className:"text-2xl font-bold text-gray-900",children:c.length})]})]})})}),i.jsx(ae,{children:i.jsx(oe,{className:"p-6",children:i.jsxs("div",{className:"flex items-center",children:[i.jsx("div",{className:"p-2 bg-purple-100 rounded-lg",children:i.jsx(Qn,{className:"h-6 w-6 text-purple-600"})}),i.jsxs("div",{className:"mr-4",children:[i.jsx("p",{className:"text-sm font-medium text-gray-600",children:"النصوص المُخلقة"}),i.jsx("p",{className:"text-2xl font-bold text-gray-900",children:s.filter(T=>T.status==="completed").length})]})]})})}),i.jsx(ae,{children:i.jsx(oe,{className:"p-6",children:i.jsxs("div",{className:"flex items-center",children:[i.jsx("div",{className:"p-2 bg-yellow-100 rounded-lg",children:i.jsx(Hn,{className:"h-6 w-6 text-yellow-600"})}),i.jsxs("div",{className:"mr-4",children:[i.jsx("p",{className:"text-sm font-medium text-gray-600",children:"معدل الجودة"}),i.jsx("p",{className:"text-2xl font-bold text-gray-900",children:"94%"})]})]})})})]}),i.jsx(wl.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},children:i.jsxs(zn,{value:t,onValueChange:e,className:"space-y-6",children:[i.jsxs(On,{className:"grid w-full grid-cols-5",children:[i.jsx(nt,{value:"dashboard",children:"لوحة التحكم"}),i.jsx(nt,{value:"visualizer",children:"مصور الترانسكريبت"}),i.jsx(nt,{value:"builder",children:"منشئ القصة"}),i.jsx(nt,{value:"editor",children:"المحرر المتقاطع"}),i.jsx(nt,{value:"workflow",children:"سير العمل"})]}),i.jsx(rt,{value:"dashboard",className:"space-y-6",children:i.jsx(ije,{})}),i.jsx(rt,{value:"visualizer",className:"space-y-6",children:o&&c.length>0?i.jsx(sje,{transcript:c[0].content}):i.jsx(ae,{children:i.jsxs(oe,{className:"p-12 text-center",children:[i.jsx(xn,{className:"h-16 w-16 mx-auto mb-4 text-gray-400"}),i.jsx("h3",{className:"text-xl font-semibold text-gray-600 mb-2",children:"لا توجد مصادر للتصور"}),i.jsx("p",{className:"text-gray-500",children:"يرجى رفع ترانسكريبت أو اختيار مشروع يحتوي على مصادر"})]})})}),i.jsx(rt,{value:"builder",className:"space-y-6",children:o?i.jsx(yje,{sourceTranscript:c.length>0?c[0].content:""}):i.jsx(ae,{children:i.jsxs(oe,{className:"p-12 text-center",children:[i.jsx(dr,{className:"h-16 w-16 mx-auto mb-4 text-gray-400"}),i.jsx("h3",{className:"text-xl font-semibold text-gray-600 mb-2",children:"اختر مشروعاً لبناء القصة"}),i.jsx("p",{className:"text-gray-500",children:"يرجى اختيار مشروع من لوحة التحكم لبدء بناء القصة"})]})})}),i.jsx(rt,{value:"editor",className:"space-y-6",children:o?i.jsx(Hje,{sourceTranscript:c.length>0?c[0].content:"",generatedStory:"هذا نص تجريبي مُولد من الترانسكريبت...",onStoryUpdate:T=>console.log("تحديث النص:",T)}):i.jsx(ae,{children:i.jsxs(oe,{className:"p-12 text-center",children:[i.jsx(nr,{className:"h-16 w-16 mx-auto mb-4 text-gray-400"}),i.jsx("h3",{className:"text-xl font-semibold text-gray-600 mb-2",children:"المحرر المتقاطع غير متاح"}),i.jsx("p",{className:"text-gray-500",children:"يرجى اختيار مشروع وإنتاج نص أولاً"})]})})}),i.jsx(rt,{value:"workflow",className:"space-y-6",children:i.jsx(zje,{isActive:!!o,transcript:c.length>0?c[0].content:"",onWorkflowComplete:T=>console.log("اكتمل سير العمل:",T)})})]})}),i.jsx(Xc,{open:f,onOpenChange:A,children:i.jsxs(oc,{className:"sm:max-w-[500px]",dir:"rtl",children:[i.jsxs(lc,{children:[i.jsx(cc,{children:"إنشاء مشروع ذاكرة سرد جديد"}),i.jsx(Ww,{children:"أدخل تفاصيل المشروع الجديد لبدء تحويل الترانسكريبت إلى رواية"})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(Dt,{htmlFor:"title",children:"عنوان المشروع"}),i.jsx(wn,{id:"title",value:x.title,onChange:T=>b(O=>({...O,title:T.target.value})),placeholder:"أدخل عنوان المشروع",className:"text-right"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Dt,{htmlFor:"description",children:"الوصف (اختياري)"}),i.jsx("textarea",{id:"description",value:x.description,onChange:T=>b(O=>({...O,description:T.target.value})),placeholder:"وصف موجز للمشروع",className:"w-full p-2 border border-gray-300 rounded-md text-right min-h-[80px]"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Dt,{htmlFor:"type",children:"نوع المشروع"}),i.jsxs("select",{id:"type",value:x.type,onChange:T=>b(O=>({...O,type:T.target.value})),className:"w-full p-2 border border-gray-300 rounded-md text-right",children:[i.jsx("option",{value:"memoir",children:"مذكرات شخصية"}),i.jsx("option",{value:"biography",children:"سيرة ذاتية"}),i.jsx("option",{value:"historical",children:"وثيقة تاريخية"}),i.jsx("option",{value:"folklore",children:"تراث شعبي"}),i.jsx("option",{value:"testimony",children:"شهادة"})]})]}),i.jsxs("div",{className:"flex justify-end space-x-2 space-x-reverse pt-4",children:[i.jsx(xe,{variant:"outline",onClick:()=>A(!1),children:"إلغاء"}),i.jsx(xe,{onClick:C,disabled:n||!x.title.trim(),children:n?"جاري الإنشاء...":"إنشاء المشروع"})]})]})]})}),i.jsx(Xc,{open:v,onOpenChange:p,children:i.jsxs(oc,{className:"sm:max-w-[500px]",dir:"rtl",children:[i.jsxs(lc,{children:[i.jsx(cc,{children:"رفع ترانسكريبت جديد"}),i.jsx(Ww,{children:"اختر ملف ترانسكريبت لإضافته إلى مكتبة المصادر"})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center",children:[i.jsx(sc,{className:"h-8 w-8 mx-auto mb-2 text-gray-400"}),i.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"اسحب وأفلت الملف هنا أو انقر للاختيار"}),i.jsx("input",{type:"file",accept:".txt,.docx,.pdf",onChange:T=>{var I;const O=(I=T.target.files)==null?void 0:I[0];O&&k(O)},className:"hidden",id:"transcript-upload"}),i.jsx("label",{htmlFor:"transcript-upload",className:"inline-block px-4 py-2 bg-gray-100 hover:bg-gray-200 rounded-md cursor-pointer text-sm",children:"اختيار ملف"})]}),i.jsxs(fh,{children:[i.jsx(Go,{className:"h-4 w-4"}),i.jsx(nve,{children:"الصيغ المدعومة"}),i.jsx(Ah,{children:"يمكنك رفع ملفات بصيغة TXT أو DOCX أو PDF"})]})]})]})})]})})},Jpt=()=>{const[t,e]=E.useState("projects"),[n,r]=E.useState([]),[s,a]=E.useState([]),[o,l]=E.useState([]),[c,u]=E.useState([]),[d,h]=E.useState({title:"",description:"",target_style:"balanced",target_genre:"mixed",target_length:5e4,fusion_method:"intelligent_merge"}),[f,A]=E.useState(null),[v,p]=E.useState(!1),[m,g]=E.useState(!1),[x,b]=E.useState(null);E.useEffect(()=>{j(),N(),_()},[]);const j=async()=>{try{r([{fusion_id:"fusion_001",title:"دمج الحكايات الشعبية",description:"دمج ثلاث حكايات شعبية في قصة واحدة",source_projects:["project_1","project_2","project_3"],status:"completed",progress_percentage:100,compatibility_score:.85,target_style:"traditional",target_genre:"folklore",created_at:"2025-01-01"}])}catch(F){console.error("خطأ في تحميل مشاريع الدمج:",F)}},N=async()=>{try{a([{blueprint_id:"blueprint_style_harmony",name:"التناغم الأسلوبي",description:"دمج متقدم يركز على تناغم الأساليب الأدبية",fusion_type:"style_fusion",success_rate:.87,usage_count:45},{blueprint_id:"blueprint_character_symphony",name:"سيمفونية الشخصيات",description:"دمج الشخصيات وتطويرها عبر الروايات المختلفة",fusion_type:"character_fusion",success_rate:.82,usage_count:38},{blueprint_id:"blueprint_plot_weaving",name:"نسج الحبكات",description:"دمج الحبكات المتعددة في سرد متماسك",fusion_type:"plot_fusion",success_rate:.79,usage_count:52}])}catch(F){console.error("خطأ في تحميل القوالب:",F)}},_=async()=>{try{u([{project_id:"novel_001",title:"حكاية الصياد الحكيم",status:"completed"},{project_id:"novel_002",title:"أسطورة المدينة المفقودة",status:"completed"},{project_id:"novel_003",title:"قصة الفارس الشجاع",status:"completed"},{project_id:"novel_004",title:"رواية التاجر والجني",status:"completed"}])}catch(F){console.error("خطأ في تحميل المشاريع المتاحة:",F)}},C=async()=>{if(o.length<2){alert("يجب اختيار روايتين على الأقل للدمج");return}g(!0);try{const F={...d,source_projects:o,user_id:"current_user"};await new Promise(S=>setTimeout(S,2e3));const M={fusion_id:`fusion_${Date.now()}`,...F,source_projects:o,status:"draft",progress_percentage:0,compatibility_score:0,created_at:new Date().toISOString()};r(S=>[...S,M]),b(M.fusion_id),e("analysis"),h({title:"",description:"",target_style:"balanced",target_genre:"mixed",target_length:5e4,fusion_method:"intelligent_merge"}),l([])}catch(F){console.error("خطأ في إنشاء المشروع:",F)}finally{g(!1)}},k=async F=>{p(!0);try{await new Promise(S=>setTimeout(S,3e3));const M={compatibility_score:.78,tension_points:[{type:"style_conflict",severity:.4,description:"اختلاف بسيط في الأسلوب السردي"}],harmony_points:[{type:"theme_alignment",strength:.9,description:"توافق ممتاز في المواضيع الرئيسية"},{type:"character_compatibility",strength:.7,description:"توافق جيد في أنماط الشخصيات"}],recommendations:["استخدام التناوب في الأساليب السردية","دمج الشخصيات المتشابهة في شخصية واحدة","توحيد الإطار الزمني للقصة"],risk_factors:["تضارب محتمل في النبرة العامة","اختلاف في مستوى التعقيد اللغوي"],optimal_strategy:"الدمج التدريجي",success_rate:.85};A(M),r(S=>S.map(q=>q.fusion_id===F?{...q,status:"analyzed",compatibility_score:M.compatibility_score}:q))}catch(M){console.error("خطأ في تحليل التوافق:",M)}finally{p(!1)}},T=async F=>{try{r(M=>M.map(S=>S.fusion_id===F?{...S,status:"fusing",progress_percentage:0}:S));for(let M=10;M<=100;M+=10)await new Promise(S=>setTimeout(S,1e3)),r(S=>S.map(q=>q.fusion_id===F?{...q,progress_percentage:M}:q));r(M=>M.map(S=>S.fusion_id===F?{...S,status:"completed",progress_percentage:100}:S))}catch(M){console.error("خطأ في تنفيذ الدمج:",M)}},O=F=>{switch(F){case"completed":return i.jsx(Rt,{className:"h-4 w-4 text-green-500"});case"fusing":return i.jsx(Ar,{className:"h-4 w-4 text-blue-500 animate-spin"});case"analyzed":return i.jsx(zt,{className:"h-4 w-4 text-purple-500"});case"draft":return i.jsx(jl,{className:"h-4 w-4 text-yellow-500"});default:return i.jsx(jl,{className:"h-4 w-4 text-gray-500"})}},I=F=>{switch(F){case"completed":return"مكتمل";case"fusing":return"جاري الدمج";case"analyzed":return"تم التحليل";case"draft":return"مسودة";default:return"غير محدد"}};return i.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 to-blue-50 p-6",dir:"rtl",children:i.jsxs("div",{className:"max-w-7xl mx-auto",children:[i.jsxs("div",{className:"text-center mb-8",children:[i.jsxs("div",{className:"flex items-center justify-center gap-3 mb-4",children:[i.jsx(Qn,{className:"h-8 w-8 text-purple-600"}),i.jsx("h1",{className:"text-4xl font-bold text-gray-800",children:"الاندماج السردي الفائق"}),i.jsx(Qn,{className:"h-8 w-8 text-purple-600"})]}),i.jsx("p",{className:"text-lg text-gray-600 max-w-2xl mx-auto",children:"أول أداة عالمياً لدمج الروايات المتعددة في رواية واحدة متماسكة ومبدعة"})]}),i.jsxs(zn,{value:t,onValueChange:e,className:"w-full",children:[i.jsxs(On,{className:"grid w-full grid-cols-4 mb-6",children:[i.jsxs(nt,{value:"projects",className:"flex items-center gap-2",children:[i.jsx(dr,{className:"h-4 w-4"}),"المشاريع"]}),i.jsxs(nt,{value:"create",className:"flex items-center gap-2",children:[i.jsx(us,{className:"h-4 w-4"}),"إنشاء مشروع"]}),i.jsxs(nt,{value:"analysis",className:"flex items-center gap-2",children:[i.jsx(zt,{className:"h-4 w-4"}),"التحليل والتوافق"]}),i.jsxs(nt,{value:"blueprints",className:"flex items-center gap-2",children:[i.jsx(Qr,{className:"h-4 w-4"}),"قوالب الدمج"]})]}),i.jsx(rt,{value:"projects",className:"space-y-4",children:i.jsxs("div",{className:"grid gap-4",children:[n.map(F=>i.jsxs(ae,{className:"hover:shadow-lg transition-shadow",children:[i.jsx(Te,{children:i.jsxs("div",{className:"flex justify-between items-start",children:[i.jsxs("div",{children:[i.jsxs(ke,{className:"flex items-center gap-2",children:[O(F.status),F.title]}),i.jsx(Pt,{children:F.description})]}),i.jsx(He,{variant:F.status==="completed"?"default":"secondary",children:I(F.status)})]})}),i.jsx(oe,{children:i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[i.jsxs("div",{children:[i.jsx("span",{className:"font-medium",children:"المصادر:"}),i.jsxs("span",{className:"mr-2",children:[F.source_projects.length," روايات"]})]}),i.jsxs("div",{children:[i.jsx("span",{className:"font-medium",children:"التوافق:"}),i.jsxs("span",{className:"mr-2",children:[(F.compatibility_score*100).toFixed(0),"%"]})]}),i.jsxs("div",{children:[i.jsx("span",{className:"font-medium",children:"الأسلوب:"}),i.jsx("span",{className:"mr-2",children:F.target_style})]}),i.jsxs("div",{children:[i.jsx("span",{className:"font-medium",children:"النوع:"}),i.jsx("span",{className:"mr-2",children:F.target_genre})]})]}),F.status==="fusing"&&i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex justify-between text-sm",children:[i.jsx("span",{children:"التقدم"}),i.jsxs("span",{children:[F.progress_percentage,"%"]})]}),i.jsx(tt,{value:F.progress_percentage,className:"w-full"})]}),i.jsxs("div",{className:"flex gap-2",children:[F.status==="draft"&&i.jsxs(xe,{size:"sm",onClick:()=>{b(F.fusion_id),e("analysis")},children:[i.jsx(zt,{className:"h-4 w-4 mr-2"}),"تحليل التوافق"]}),F.status==="analyzed"&&i.jsxs(xe,{size:"sm",onClick:()=>T(F.fusion_id),children:[i.jsx(xa,{className:"h-4 w-4 mr-2"}),"بدء الدمج"]}),F.status==="completed"&&i.jsxs("div",{className:"flex gap-2",children:[i.jsxs(xe,{size:"sm",variant:"outline",children:[i.jsx(Vn,{className:"h-4 w-4 mr-2"}),"معاينة"]}),i.jsxs(xe,{size:"sm",variant:"outline",children:[i.jsx(gr,{className:"h-4 w-4 mr-2"}),"تحميل"]})]})]})]})})]},F.fusion_id)),n.length===0&&i.jsx(ae,{children:i.jsxs(oe,{className:"text-center py-8",children:[i.jsx(dr,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),i.jsx("h3",{className:"text-lg font-medium text-gray-600 mb-2",children:"لا توجد مشاريع دمج"}),i.jsx("p",{className:"text-gray-500 mb-4",children:"ابدأ بإنشاء مشروع دمج جديد لتجربة قوة الاندماج السردي"}),i.jsxs(xe,{onClick:()=>e("create"),children:[i.jsx(us,{className:"h-4 w-4 mr-2"}),"إنشاء مشروع جديد"]})]})})]})}),i.jsx(rt,{value:"create",className:"space-y-6",children:i.jsxs(ae,{children:[i.jsxs(Te,{children:[i.jsxs(ke,{className:"flex items-center gap-2",children:[i.jsx(us,{className:"h-5 w-5"}),"إنشاء مشروع دمج جديد"]}),i.jsx(Pt,{children:"اختر الروايات التي تريد دمجها وحدد معايير الدمج"})]}),i.jsxs(oe,{className:"space-y-6",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(Dt,{htmlFor:"title",children:"عنوان المشروع"}),i.jsx(wn,{id:"title",placeholder:"اختر عنواناً مميزاً للمشروع",value:d.title,onChange:F=>h(M=>({...M,title:F.target.value}))})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Dt,{htmlFor:"fusion_method",children:"طريقة الدمج"}),i.jsxs(vi,{value:d.fusion_method,onValueChange:F=>h(M=>({...M,fusion_method:F})),children:[i.jsx(li,{children:i.jsx(yi,{})}),i.jsxs(ci,{children:[i.jsx(Bt,{value:"intelligent_merge",children:"الدمج الذكي"}),i.jsx(Bt,{value:"style_harmony",children:"التناغم الأسلوبي"}),i.jsx(Bt,{value:"character_focus",children:"التركيز على الشخصيات"}),i.jsx(Bt,{value:"plot_weaving",children:"نسج الحبكات"})]})]})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Dt,{htmlFor:"description",children:"وصف المشروع"}),i.jsx(Zi,{id:"description",placeholder:"اكتب وصفاً موجزاً للهدف من عملية الدمج",value:d.description,onChange:F=>h(M=>({...M,description:F.target.value}))})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(Dt,{htmlFor:"target_style",children:"الأسلوب المستهدف"}),i.jsxs(vi,{value:d.target_style,onValueChange:F=>h(M=>({...M,target_style:F})),children:[i.jsx(li,{children:i.jsx(yi,{})}),i.jsxs(ci,{children:[i.jsx(Bt,{value:"balanced",children:"متوازن"}),i.jsx(Bt,{value:"formal",children:"رسمي"}),i.jsx(Bt,{value:"narrative",children:"سردي"}),i.jsx(Bt,{value:"poetic",children:"شاعري"}),i.jsx(Bt,{value:"modern",children:"حديث"}),i.jsx(Bt,{value:"traditional",children:"تراثي"})]})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Dt,{htmlFor:"target_genre",children:"النوع الأدبي"}),i.jsxs(vi,{value:d.target_genre,onValueChange:F=>h(M=>({...M,target_genre:F})),children:[i.jsx(li,{children:i.jsx(yi,{})}),i.jsxs(ci,{children:[i.jsx(Bt,{value:"mixed",children:"مختلط"}),i.jsx(Bt,{value:"drama",children:"دراما"}),i.jsx(Bt,{value:"adventure",children:"مغامرة"}),i.jsx(Bt,{value:"romance",children:"رومانسي"}),i.jsx(Bt,{value:"mystery",children:"غموض"}),i.jsx(Bt,{value:"fantasy",children:"خيال"}),i.jsx(Bt,{value:"historical",children:"تاريخي"})]})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Dt,{htmlFor:"target_length",children:"الطول المستهدف (كلمة)"}),i.jsx(wn,{id:"target_length",type:"number",value:d.target_length,onChange:F=>h(M=>({...M,target_length:parseInt(F.target.value)||5e4}))})]})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsx(Dt,{children:"اختيار الروايات للدمج (اختر روايتين على الأقل)"}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:c.map(F=>i.jsx("div",{className:`p-3 border rounded-lg cursor-pointer transition-colors ${o.includes(F.project_id)?"border-purple-500 bg-purple-50":"border-gray-200 hover:border-gray-300"}`,onClick:()=>{l(M=>M.includes(F.project_id)?M.filter(S=>S!==F.project_id):[...M,F.project_id])},children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:`w-4 h-4 rounded border-2 ${o.includes(F.project_id)?"bg-purple-500 border-purple-500":"border-gray-300"}`,children:o.includes(F.project_id)&&i.jsx(Rt,{className:"w-4 h-4 text-white"})}),i.jsxs("div",{className:"flex-1",children:[i.jsx("h4",{className:"font-medium",children:F.title}),i.jsxs("p",{className:"text-sm text-gray-500",children:["الحالة: ",F.status]})]})]})},F.project_id))}),o.length>0&&i.jsxs("p",{className:"text-sm text-purple-600",children:["تم اختيار ",o.length," روايات للدمج"]})]}),i.jsx("div",{className:"flex justify-end",children:i.jsx(xe,{onClick:C,disabled:m||o.length<2||!d.title,className:"w-full md:w-auto",children:m?i.jsxs(i.Fragment,{children:[i.jsx(Ar,{className:"h-4 w-4 mr-2 animate-spin"}),"جاري الإنشاء..."]}):i.jsxs(i.Fragment,{children:[i.jsx(us,{className:"h-4 w-4 mr-2"}),"إنشاء المشروع"]})})})]})]})}),i.jsx(rt,{value:"analysis",className:"space-y-6",children:x?i.jsxs(ae,{children:[i.jsxs(Te,{children:[i.jsxs(ke,{className:"flex items-center gap-2",children:[i.jsx(zt,{className:"h-5 w-5"}),"تحليل التوافق والجودة"]}),i.jsx(Pt,{children:"تحليل متقدم لمدى توافق الروايات المختارة وإمكانية دمجها بنجاح"})]}),i.jsx(oe,{children:f?i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[i.jsx(ae,{children:i.jsx(oe,{className:"pt-6",children:i.jsxs("div",{className:"text-center",children:[i.jsxs("div",{className:"text-3xl font-bold text-purple-600 mb-2",children:[(f.compatibility_score*100).toFixed(0),"%"]}),i.jsx("p",{className:"text-sm text-gray-600",children:"درجة التوافق الإجمالية"})]})})}),i.jsx(ae,{children:i.jsx(oe,{className:"pt-6",children:i.jsxs("div",{className:"text-center",children:[i.jsxs("div",{className:"text-3xl font-bold text-green-600 mb-2",children:[(f.success_rate*100).toFixed(0),"%"]}),i.jsx("p",{className:"text-sm text-gray-600",children:"معدل النجاح المتوقع"})]})})}),i.jsx(ae,{children:i.jsx(oe,{className:"pt-6",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"text-3xl font-bold text-blue-600 mb-2",children:f.optimal_strategy}),i.jsx("p",{className:"text-sm text-gray-600",children:"الاستراتيجية المثلى"})]})})})]}),i.jsxs(ae,{children:[i.jsx(Te,{children:i.jsx(ke,{className:"text-green-600",children:"نقاط الانسجام"})}),i.jsx(oe,{children:i.jsx("div",{className:"space-y-3",children:f.harmony_points.map((F,M)=>i.jsxs("div",{className:"flex items-center gap-3 p-3 bg-green-50 rounded-lg",children:[i.jsx(Rt,{className:"h-5 w-5 text-green-500"}),i.jsxs("div",{className:"flex-1",children:[i.jsx("p",{className:"font-medium",children:F.description}),i.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[i.jsx("span",{className:"text-sm text-gray-600",children:"القوة:"}),i.jsx(tt,{value:F.strength*100,className:"w-20 h-2"}),i.jsxs("span",{className:"text-sm",children:[(F.strength*100).toFixed(0),"%"]})]})]})]},M))})})]}),i.jsxs(ae,{children:[i.jsx(Te,{children:i.jsx(ke,{className:"text-yellow-600",children:"نقاط التوتر والتحديات"})}),i.jsx(oe,{children:i.jsx("div",{className:"space-y-3",children:f.tension_points.map((F,M)=>i.jsxs("div",{className:"flex items-center gap-3 p-3 bg-yellow-50 rounded-lg",children:[i.jsx(jl,{className:"h-5 w-5 text-yellow-500"}),i.jsxs("div",{className:"flex-1",children:[i.jsx("p",{className:"font-medium",children:F.description}),i.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[i.jsx("span",{className:"text-sm text-gray-600",children:"الخطورة:"}),i.jsx(tt,{value:F.severity*100,className:"w-20 h-2"}),i.jsxs("span",{className:"text-sm",children:[(F.severity*100).toFixed(0),"%"]})]})]})]},M))})})]}),i.jsxs(ae,{children:[i.jsx(Te,{children:i.jsx(ke,{className:"text-blue-600",children:"التوصيات"})}),i.jsx(oe,{children:i.jsx("ul",{className:"space-y-2",children:f.recommendations.map((F,M)=>i.jsxs("li",{className:"flex items-start gap-3",children:[i.jsx(vr,{className:"h-4 w-4 text-blue-500 mt-0.5"}),i.jsx("span",{children:F})]},M))})})]}),f.risk_factors.length>0&&i.jsxs(fh,{children:[i.jsx(jl,{className:"h-4 w-4"}),i.jsxs(Ah,{children:[i.jsx("strong",{children:"عوامل المخاطرة:"}),i.jsx("ul",{className:"mt-2 list-disc list-inside",children:f.risk_factors.map((F,M)=>i.jsx("li",{children:F},M))})]})]})]}):i.jsx("div",{className:"text-center py-8",children:i.jsx(xe,{onClick:()=>k(x),disabled:v,size:"lg",children:v?i.jsxs(i.Fragment,{children:[i.jsx(Ar,{className:"h-4 w-4 mr-2 animate-spin"}),"جاري التحليل..."]}):i.jsxs(i.Fragment,{children:[i.jsx(zt,{className:"h-4 w-4 mr-2"}),"بدء تحليل التوافق"]})})})})]}):i.jsx(ae,{children:i.jsxs(oe,{className:"text-center py-8",children:[i.jsx(zt,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),i.jsx("h3",{className:"text-lg font-medium text-gray-600 mb-2",children:"لا يوجد مشروع محدد للتحليل"}),i.jsx("p",{className:"text-gray-500 mb-4",children:"اختر مشروعاً من قائمة المشاريع أو أنشئ مشروعاً جديداً"}),i.jsxs(xe,{onClick:()=>e("projects"),children:[i.jsx(dr,{className:"h-4 w-4 mr-2"}),"عرض المشاريع"]})]})})}),i.jsx(rt,{value:"blueprints",className:"space-y-4",children:i.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:s.map(F=>i.jsxs(ae,{className:"hover:shadow-lg transition-shadow",children:[i.jsxs(Te,{children:[i.jsxs(ke,{className:"flex items-center gap-2",children:[i.jsx(Qr,{className:"h-5 w-5"}),F.name]}),i.jsx(Pt,{children:F.description})]}),i.jsx(oe,{children:i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("span",{className:"text-sm text-gray-600",children:"معدل النجاح:"}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(tt,{value:F.success_rate*100,className:"w-20"}),i.jsxs("span",{className:"text-sm font-medium",children:[(F.success_rate*100).toFixed(0),"%"]})]})]}),i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("span",{className:"text-sm text-gray-600",children:"مرات الاستخدام:"}),i.jsx(He,{variant:"secondary",children:F.usage_count})]}),i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("span",{className:"text-sm text-gray-600",children:"نوع الدمج:"}),i.jsx(He,{children:F.fusion_type})]})]})})]},F.blueprint_id))})})]})]})})},Zpt=()=>{const[t,e]=E.useState(""),[n,r]=E.useState(!1),[s,a]=E.useState(null),[o,l]=E.useState("input"),[c,u]=E.useState({focus_area:"complete",detail_level:"detailed",include_suggestions:!0}),d=E.useRef(null),h=async()=>{if(!t.trim()){alert("يرجى إدخال المحتوى للتحليل");return}r(!0),l("results");try{const p=await fetch("/api/specialized-tools/forensic/analyze",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({content:t,context:c,options:{include_timeline:!0,include_evidence_map:!0,check_procedures:!0}})});if(p.ok){const m=await p.json();a(m.forensic_analysis)}else alert("حدث خطأ أثناء التحليل")}catch(p){console.error("خطأ في التحليل الجنائي:",p),alert("حدث خطأ في الاتصال")}finally{r(!1)}},f=p=>{var g;const m=(g=p.target.files)==null?void 0:g[0];if(m){const x=new FileReader;x.onload=b=>{var N;const j=(N=b.target)==null?void 0:N.result;e(j)},x.readAsText(m)}},A=()=>i.jsxs("div",{className:"space-y-6",children:[i.jsxs(ae,{children:[i.jsxs(Te,{children:[i.jsxs(ke,{className:"text-right flex items-center gap-2",children:[i.jsx(lR,{className:"w-5 h-5"}),"تحليل المحتوى الجنائي"]}),i.jsx("p",{className:"text-sm text-muted-foreground text-right",children:"أدخل النص المراد تحليله للتأكد من دقة الإجراءات الجنائية والتحقيقية"})]}),i.jsxs(oe,{className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium text-right block",children:"النص للتحليل:"}),i.jsx(Zi,{value:t,onChange:p=>e(p.target.value),placeholder:"أدخل النص الذي يحتوي على محتوى جنائي أو تحقيقي هنا...",className:"min-h-[300px] text-right resize-none",dir:"rtl"}),i.jsxs("div",{className:"flex justify-between items-center text-xs text-muted-foreground",children:[i.jsx("span",{children:"الحد الأدنى: 100 كلمة"}),i.jsxs("span",{children:[t.split(" ").filter(p=>p.length>0).length," كلمة"]})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium text-right block",children:"مجال التركيز:"}),i.jsxs("select",{value:c.focus_area,onChange:p=>u({...c,focus_area:p.target.value}),className:"w-full p-2 border rounded-lg text-right",children:[i.jsx("option",{value:"complete",children:"تحليل شامل"}),i.jsx("option",{value:"evidence",children:"الأدلة فقط"}),i.jsx("option",{value:"procedures",children:"الإجراءات فقط"}),i.jsx("option",{value:"timeline",children:"الخط الزمني فقط"})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium text-right block",children:"مستوى التفصيل:"}),i.jsxs("select",{value:c.detail_level,onChange:p=>u({...c,detail_level:p.target.value}),className:"w-full p-2 border rounded-lg text-right",children:[i.jsx("option",{value:"basic",children:"أساسي"}),i.jsx("option",{value:"detailed",children:"مفصل"}),i.jsx("option",{value:"expert",children:"خبير"})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium text-right block",children:"خيارات إضافية:"}),i.jsx("div",{className:"space-y-2",children:i.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[i.jsx("input",{type:"checkbox",checked:c.include_suggestions,onChange:p=>u({...c,include_suggestions:p.target.checked})}),i.jsx("span",{children:"تضمين اقتراحات التحسين"})]})})]})]}),i.jsxs("div",{className:"flex gap-3 pt-4",children:[i.jsx(xe,{onClick:h,disabled:n||t.length<50,className:"flex-1 bg-gradient-to-r from-red-500 to-red-600 hover:from-red-600 hover:to-red-700",children:n?i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"animate-spin w-4 h-4 border-2 border-white border-t-transparent rounded-full ml-2"}),"جاري التحليل..."]}):i.jsxs(i.Fragment,{children:[i.jsx(kl,{className:"w-4 h-4 ml-2"}),"بدء التحليل الجنائي"]})}),i.jsxs(xe,{variant:"outline",onClick:()=>{var p;return(p=d.current)==null?void 0:p.click()},children:[i.jsx(xn,{className:"w-4 h-4 ml-2"}),"رفع ملف"]}),i.jsx(xe,{variant:"outline",onClick:()=>e(""),children:"مسح"})]}),i.jsx("input",{ref:d,type:"file",accept:".txt,.md",onChange:f,className:"hidden"})]})]}),i.jsxs(ae,{children:[i.jsx(Te,{children:i.jsxs(ke,{className:"text-right text-sm flex items-center gap-2",children:[i.jsx(Go,{className:"w-4 h-4"}),"نصائح للحصول على أفضل النتائج"]})}),i.jsx(oe,{children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx("h4",{className:"font-medium text-right",children:"محتوى مناسب للتحليل:"}),i.jsxs("ul",{className:"space-y-1 text-muted-foreground text-right",children:[i.jsx("li",{children:"• مشاهد الجريمة وتفاصيلها"}),i.jsx("li",{children:"• إجراءات التحقيق والاستجواب"}),i.jsx("li",{children:"• تسلسل الأحداث الزمني"}),i.jsx("li",{children:"• جمع وتحليل الأدلة"})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("h4",{className:"font-medium text-right",children:"يركز التحليل على:"}),i.jsxs("ul",{className:"space-y-1 text-muted-foreground text-right",children:[i.jsx("li",{children:"• صحة الإجراءات القانونية"}),i.jsx("li",{children:"• تسلسل منطقي للأدلة"}),i.jsx("li",{children:"• مصداقية طرق التحقيق"}),i.jsx("li",{children:"• اكتشاف التناقضات"})]})]})]})})]})]}),v=()=>{var p,m,g,x;return n?i.jsx(ae,{children:i.jsx(oe,{className:"py-12",children:i.jsxs("div",{className:"text-center space-y-4",children:[i.jsx("div",{className:"animate-spin w-12 h-12 border-4 border-red-500 border-t-transparent rounded-full mx-auto"}),i.jsx("h3",{className:"text-lg font-semibold",children:"جاري التحليل الجنائي..."}),i.jsx("p",{className:"text-muted-foreground",children:"يتم الآن فحص النص للتأكد من دقة الإجراءات والأدلة"}),i.jsx(tt,{value:65,className:"w-1/2 mx-auto"})]})})}):s?i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[i.jsx(ae,{children:i.jsxs(oe,{className:"pt-6 text-center",children:[i.jsx("div",{className:"flex items-center justify-center w-12 h-12 mx-auto mb-3 bg-blue-100 rounded-lg",children:i.jsx(En,{className:"w-6 h-6 text-blue-600"})}),i.jsx("div",{className:"text-2xl font-bold text-blue-600",children:s.evidence_count}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"أدلة مكتشفة"})]})}),i.jsx(ae,{children:i.jsxs(oe,{className:"pt-6 text-center",children:[i.jsx("div",{className:"flex items-center justify-center w-12 h-12 mx-auto mb-3 bg-red-100 rounded-lg",children:i.jsx($a,{className:"w-6 h-6 text-red-600"})}),i.jsx("div",{className:"text-2xl font-bold text-red-600",children:s.inconsistencies_count}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"تناقضات"})]})}),i.jsx(ae,{children:i.jsxs(oe,{className:"pt-6 text-center",children:[i.jsx("div",{className:"flex items-center justify-center w-12 h-12 mx-auto mb-3 bg-yellow-100 rounded-lg",children:i.jsx($a,{className:"w-6 h-6 text-yellow-600"})}),i.jsx("div",{className:"text-2xl font-bold text-yellow-600",children:s.procedural_errors_count}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"أخطاء إجرائية"})]})}),i.jsx(ae,{children:i.jsxs(oe,{className:"pt-6 text-center",children:[i.jsx("div",{className:"flex items-center justify-center w-12 h-12 mx-auto mb-3 bg-green-100 rounded-lg",children:i.jsx(Rt,{className:"w-6 h-6 text-green-600"})}),i.jsxs("div",{className:"text-2xl font-bold text-green-600",children:[(s.confidence_score*100).toFixed(0),"%"]}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"مؤشر الثقة"})]})})]}),i.jsxs(zn,{defaultValue:"evidence",className:"w-full",children:[i.jsxs(On,{className:"grid w-full grid-cols-5",children:[i.jsx(nt,{value:"evidence",children:"الأدلة"}),i.jsx(nt,{value:"timeline",children:"الخط الزمني"}),i.jsx(nt,{value:"inconsistencies",children:"التناقضات"}),i.jsx(nt,{value:"recommendations",children:"التوصيات"}),i.jsx(nt,{value:"summary",children:"الملخص"})]}),i.jsx(rt,{value:"evidence",className:"space-y-4",children:i.jsxs(ae,{children:[i.jsx(Te,{children:i.jsxs(ke,{className:"text-right flex items-center gap-2",children:[i.jsx(Vn,{className:"w-5 h-5"}),"الأدلة المكتشفة (",s.evidence_count,")"]})}),i.jsx(oe,{children:i.jsx("div",{className:"space-y-3",children:((p=s.evidence_list)==null?void 0:p.map((b,j)=>i.jsxs("div",{className:"p-4 border rounded-lg",children:[i.jsxs("div",{className:"flex justify-between items-start mb-2",children:[i.jsx(He,{variant:"outline",children:b.type}),i.jsxs("div",{className:"text-right",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[i.jsx(ik,{className:"w-3 h-3 text-muted-foreground"}),i.jsx("span",{className:"text-xs text-muted-foreground",children:b.location})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(wp,{className:"w-3 h-3 text-muted-foreground"}),i.jsx("span",{className:"text-xs text-muted-foreground",children:b.timestamp})]})]})]}),i.jsx("p",{className:"text-sm text-right mb-2",children:b.description}),i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsxs(He,{variant:b.significance==="عالية"?"destructive":b.significance==="متوسطة"?"default":"secondary",children:["أهمية ",b.significance]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"text-xs text-muted-foreground",children:"الموثوقية:"}),i.jsx(tt,{value:b.reliability*100,className:"w-16 h-2"}),i.jsxs("span",{className:"text-xs",children:[(b.reliability*100).toFixed(0),"%"]})]})]})]},j)))||i.jsxs("div",{className:"text-center py-8",children:[i.jsx(kl,{className:"w-12 h-12 mx-auto mb-4 text-muted-foreground"}),i.jsx("p",{className:"text-muted-foreground",children:"لم يتم العثور على أدلة مفصلة"})]})})})]})}),i.jsx(rt,{value:"timeline",className:"space-y-4",children:i.jsxs(ae,{children:[i.jsx(Te,{children:i.jsxs(ke,{className:"text-right flex items-center gap-2",children:[i.jsx(xr,{className:"w-5 h-5"}),"الخط الزمني للأحداث"]})}),i.jsx(oe,{children:i.jsx("div",{className:"space-y-3",children:((m=s.timeline)==null?void 0:m.map((b,j)=>i.jsxs("div",{className:"flex gap-4 p-3 border rounded-lg",children:[i.jsxs("div",{className:"text-center min-w-[80px]",children:[i.jsx("div",{className:"text-sm font-medium",children:b.time}),i.jsx(He,{variant:"outline",className:"text-xs mt-1",children:b.evidence_type})]}),i.jsx(Ns,{orientation:"vertical",className:"h-12"}),i.jsxs("div",{className:"flex-1 text-right",children:[i.jsx("p",{className:"text-sm",children:b.event}),i.jsxs("div",{className:"flex justify-end items-center gap-2 mt-2",children:[i.jsx("span",{className:"text-xs text-muted-foreground",children:"الثقة:"}),i.jsx(tt,{value:b.confidence*100,className:"w-16 h-2"}),i.jsxs("span",{className:"text-xs",children:[(b.confidence*100).toFixed(0),"%"]})]})]})]},j)))||i.jsxs("div",{className:"text-center py-8",children:[i.jsx(xr,{className:"w-12 h-12 mx-auto mb-4 text-muted-foreground"}),i.jsx("p",{className:"text-muted-foreground",children:"لم يتم تحديد خط زمني واضح"})]})})})]})}),i.jsx(rt,{value:"inconsistencies",className:"space-y-4",children:i.jsxs(ae,{children:[i.jsx(Te,{children:i.jsxs(ke,{className:"text-right flex items-center gap-2",children:[i.jsx($a,{className:"w-5 h-5"}),"التناقضات والأخطاء المكتشفة"]})}),i.jsx(oe,{children:i.jsx("div",{className:"space-y-3",children:((g=s.inconsistencies)==null?void 0:g.map((b,j)=>i.jsxs("div",{className:"p-4 border rounded-lg",children:[i.jsxs("div",{className:"flex justify-between items-start mb-2",children:[i.jsx(He,{variant:b.severity==="high"?"destructive":b.severity==="medium"?"default":"secondary",children:b.severity==="high"?"خطير":b.severity==="medium"?"متوسط":"بسيط"}),i.jsx(He,{variant:"outline",children:b.type})]}),i.jsx("p",{className:"text-sm text-right mb-3",children:b.description}),i.jsxs("div",{className:"bg-muted/50 p-3 rounded",children:[i.jsx("h5",{className:"text-xs font-medium text-right mb-1",children:"الاقتراح:"}),i.jsx("p",{className:"text-xs text-muted-foreground text-right",children:b.suggestion})]})]},j)))||i.jsxs("div",{className:"text-center py-8",children:[i.jsx(Rt,{className:"w-12 h-12 mx-auto mb-4 text-green-500"}),i.jsx("p",{className:"text-muted-foreground",children:"لم يتم اكتشاف تناقضات واضحة"})]})})})]})}),i.jsx(rt,{value:"recommendations",className:"space-y-4",children:i.jsxs(ae,{children:[i.jsx(Te,{children:i.jsxs(ke,{className:"text-right flex items-center gap-2",children:[i.jsx(Hn,{className:"w-5 h-5"}),"توصيات التحسين"]})}),i.jsx(oe,{children:i.jsx("div",{className:"space-y-3",children:((x=s.recommendations)==null?void 0:x.map((b,j)=>i.jsxs("div",{className:"flex gap-3 p-3 bg-blue-50 rounded-lg",children:[i.jsx(pS,{className:"w-5 h-5 text-blue-600 flex-shrink-0 mt-0.5"}),i.jsx("p",{className:"text-sm text-right",children:b})]},j)))||i.jsxs("div",{className:"text-center py-8",children:[i.jsx(Rt,{className:"w-12 h-12 mx-auto mb-4 text-green-500"}),i.jsx("p",{className:"text-muted-foreground",children:"المحتوى جيد ولا يحتاج توصيات إضافية"})]})})})]})}),i.jsx(rt,{value:"summary",className:"space-y-4",children:i.jsxs(ae,{children:[i.jsx(Te,{children:i.jsxs(ke,{className:"text-right flex items-center gap-2",children:[i.jsx(hs,{className:"w-5 h-5"}),"ملخص التحليل الجنائي"]})}),i.jsx(oe,{children:i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("div",{className:"space-y-3",children:[i.jsx("h4",{className:"font-medium text-right",children:"نوع الجريمة المحتمل:"}),i.jsx(He,{variant:"outline",className:"text-lg p-2",children:s.crime_type||"غير محدد"})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsx("h4",{className:"font-medium text-right",children:"مؤشر الدقة العام:"}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(tt,{value:s.confidence_score*100,className:"flex-1"}),i.jsxs("span",{className:"font-bold text-lg",children:[(s.confidence_score*100).toFixed(0),"%"]})]})]})]}),i.jsx(Ns,{}),i.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-center",children:[i.jsxs("div",{children:[i.jsx("div",{className:"text-2xl font-bold text-blue-600",children:s.evidence_count}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"أدلة"})]}),i.jsxs("div",{children:[i.jsx("div",{className:"text-2xl font-bold text-red-600",children:s.inconsistencies_count}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"تناقضات"})]}),i.jsxs("div",{children:[i.jsx("div",{className:"text-2xl font-bold text-yellow-600",children:s.procedural_errors_count}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"أخطاء إجرائية"})]}),i.jsxs("div",{children:[i.jsx("div",{className:"text-2xl font-bold text-purple-600",children:s.investigation_gaps_count}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"ثغرات تحقيقية"})]})]})]})})]})})]}),i.jsx(ae,{children:i.jsx(oe,{className:"pt-6",children:i.jsxs("div",{className:"flex gap-3",children:[i.jsxs(xe,{variant:"outline",className:"flex-1",children:[i.jsx(gr,{className:"w-4 h-4 ml-2"}),"تصدير التقرير"]}),i.jsxs(xe,{variant:"outline",className:"flex-1",children:[i.jsx(Ey,{className:"w-4 h-4 ml-2"}),"مشاركة النتائج"]})]})})})]}):i.jsx(ae,{children:i.jsxs(oe,{className:"py-12 text-center",children:[i.jsx(lR,{className:"w-16 h-16 mx-auto mb-4 text-muted-foreground"}),i.jsx("h3",{className:"text-lg font-semibold mb-2",children:"لا توجد نتائج تحليل"}),i.jsx("p",{className:"text-muted-foreground",children:'قم بإدخال المحتوى في علامة التبويب "إدخال المحتوى" لبدء التحليل'})]})})};return i.jsx("div",{className:"w-full max-w-6xl mx-auto space-y-6",children:i.jsxs(zn,{value:o,onValueChange:l,children:[i.jsxs(On,{className:"grid w-full grid-cols-2",children:[i.jsx(nt,{value:"input",children:"إدخال المحتوى"}),i.jsx(nt,{value:"results",children:"نتائج التحليل"})]}),i.jsx(rt,{value:"input",children:A()}),i.jsx(rt,{value:"results",children:v()})]})})},emt=()=>{const[t,e]=E.useState(""),[n,r]=E.useState(!1),[s,a]=E.useState(null),[o,l]=E.useState("input"),[c,u]=E.useState({focus_area:"complete",cultural_context:"islamic",include_practices:!0,check_authenticity:!0}),d=E.useRef(null),h=async()=>{if(!t.trim()){alert("يرجى إدخال المحتوى للتحليل");return}r(!0),l("results");try{const p=await fetch("/api/specialized-tools/belief/analyze",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({content:t,context:c,options:{include_character_analysis:!0,include_conflict_analysis:!0,check_cultural_authenticity:!0}})});if(p.ok){const m=await p.json();a(m.belief_analysis)}else alert("حدث خطأ أثناء التحليل")}catch(p){console.error("خطأ في تحليل المعتقدات:",p),alert("حدث خطأ في الاتصال")}finally{r(!1)}},f=p=>{var g;const m=(g=p.target.files)==null?void 0:g[0];if(m){const x=new FileReader;x.onload=b=>{var N;const j=(N=b.target)==null?void 0:N.result;e(j)},x.readAsText(m)}},A=()=>i.jsxs("div",{className:"space-y-6",children:[i.jsxs(ae,{children:[i.jsxs(Te,{children:[i.jsxs(ke,{className:"text-right flex items-center gap-2",children:[i.jsx(ta,{className:"w-5 h-5"}),"تحليل المعتقدات والمذاهب"]}),i.jsx("p",{className:"text-sm text-muted-foreground text-right",children:"أدخل النص لتحليل العمق الروحي والعقائدي للشخصيات وضمان الأصالة الثقافية"})]}),i.jsxs(oe,{className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium text-right block",children:"النص للتحليل:"}),i.jsx(Zi,{value:t,onChange:p=>e(p.target.value),placeholder:"أدخل النص الذي يحتوي على محتوى ديني أو عقائدي هنا...",className:"min-h-[300px] text-right resize-none",dir:"rtl"}),i.jsxs("div",{className:"flex justify-between items-center text-xs text-muted-foreground",children:[i.jsx("span",{children:"الحد الأدنى: 100 كلمة"}),i.jsxs("span",{children:[t.split(" ").filter(p=>p.length>0).length," كلمة"]})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium text-right block",children:"مجال التركيز:"}),i.jsxs("select",{value:c.focus_area,onChange:p=>u({...c,focus_area:p.target.value}),className:"w-full p-2 border rounded-lg text-right",children:[i.jsx("option",{value:"complete",children:"تحليل شامل"}),i.jsx("option",{value:"characters",children:"الشخصيات فقط"}),i.jsx("option",{value:"beliefs",children:"المعتقدات فقط"}),i.jsx("option",{value:"conflicts",children:"الصراعات العقائدية"}),i.jsx("option",{value:"practices",children:"الممارسات الدينية"})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium text-right block",children:"السياق الثقافي:"}),i.jsxs("select",{value:c.cultural_context,onChange:p=>u({...c,cultural_context:p.target.value}),className:"w-full p-2 border rounded-lg text-right",children:[i.jsx("option",{value:"islamic",children:"إسلامي"}),i.jsx("option",{value:"christian",children:"مسيحي"}),i.jsx("option",{value:"jewish",children:"يهودي"}),i.jsx("option",{value:"mixed",children:"متعدد الأديان"}),i.jsx("option",{value:"secular",children:"علماني"})]})]})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsx("h4",{className:"text-sm font-medium text-right",children:"خيارات التحليل:"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[i.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[i.jsx("input",{type:"checkbox",checked:c.include_practices,onChange:p=>u({...c,include_practices:p.target.checked})}),i.jsx("span",{children:"تحليل الممارسات الدينية"})]}),i.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[i.jsx("input",{type:"checkbox",checked:c.check_authenticity,onChange:p=>u({...c,check_authenticity:p.target.checked})}),i.jsx("span",{children:"تقييم الأصالة الثقافية"})]})]})]}),i.jsxs("div",{className:"flex gap-3 pt-4",children:[i.jsx(xe,{onClick:h,disabled:n||t.length<50,className:"flex-1 bg-gradient-to-r from-green-500 to-green-600 hover:from-green-600 hover:to-green-700",children:n?i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"animate-spin w-4 h-4 border-2 border-white border-t-transparent rounded-full ml-2"}),"جاري التحليل..."]}):i.jsxs(i.Fragment,{children:[i.jsx(kl,{className:"w-4 h-4 ml-2"}),"بدء تحليل المعتقدات"]})}),i.jsxs(xe,{variant:"outline",onClick:()=>{var p;return(p=d.current)==null?void 0:p.click()},children:[i.jsx(xn,{className:"w-4 h-4 ml-2"}),"رفع ملف"]}),i.jsx(xe,{variant:"outline",onClick:()=>e(""),children:"مسح"})]}),i.jsx("input",{ref:d,type:"file",accept:".txt,.md",onChange:f,className:"hidden"})]})]}),i.jsxs(ae,{children:[i.jsx(Te,{children:i.jsxs(ke,{className:"text-right text-sm flex items-center gap-2",children:[i.jsx(Go,{className:"w-4 h-4"}),"نصائح للحصول على أفضل النتائج"]})}),i.jsx(oe,{children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx("h4",{className:"font-medium text-right",children:"محتوى مناسب للتحليل:"}),i.jsxs("ul",{className:"space-y-1 text-muted-foreground text-right",children:[i.jsx("li",{children:"• حوارات تظهر المعتقدات"}),i.jsx("li",{children:"• مشاهد العبادة والممارسات"}),i.jsx("li",{children:"• صراعات عقائدية أو دينية"}),i.jsx("li",{children:"• تطور روحي للشخصيات"})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("h4",{className:"font-medium text-right",children:"يركز التحليل على:"}),i.jsxs("ul",{className:"space-y-1 text-muted-foreground text-right",children:[i.jsx("li",{children:"• عمق الإيمان والتدين"}),i.jsx("li",{children:"• أصالة المرجعية الثقافية"}),i.jsx("li",{children:"• تطور القيم والمبادئ"}),i.jsx("li",{children:"• صحة الممارسات الدينية"})]})]})]})})]})]}),v=()=>{var p,m,g,x;return n?i.jsx(ae,{children:i.jsx(oe,{className:"py-12",children:i.jsxs("div",{className:"text-center space-y-4",children:[i.jsx("div",{className:"animate-spin w-12 h-12 border-4 border-green-500 border-t-transparent rounded-full mx-auto"}),i.jsx("h3",{className:"text-lg font-semibold",children:"جاري تحليل المعتقدات..."}),i.jsx("p",{className:"text-muted-foreground",children:"يتم الآن فحص النص لتحليل العمق الروحي والعقائدي"}),i.jsx(tt,{value:65,className:"w-1/2 mx-auto"})]})})}):s?i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[i.jsx(ae,{children:i.jsxs(oe,{className:"pt-6 text-center",children:[i.jsx("div",{className:"flex items-center justify-center w-12 h-12 mx-auto mb-3 bg-green-100 rounded-lg",children:i.jsx(Wn,{className:"w-6 h-6 text-green-600"})}),i.jsx("div",{className:"text-2xl font-bold text-green-600",children:s.characters_analyzed}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"شخصيات محللة"})]})}),i.jsx(ae,{children:i.jsxs(oe,{className:"pt-6 text-center",children:[i.jsx("div",{className:"flex items-center justify-center w-12 h-12 mx-auto mb-3 bg-blue-100 rounded-lg",children:i.jsx(tr,{className:"w-6 h-6 text-blue-600"})}),i.jsx("div",{className:"text-2xl font-bold text-blue-600",children:s.values_identified}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"قيم محددة"})]})}),i.jsx(ae,{children:i.jsxs(oe,{className:"pt-6 text-center",children:[i.jsx("div",{className:"flex items-center justify-center w-12 h-12 mx-auto mb-3 bg-yellow-100 rounded-lg",children:i.jsx(jl,{className:"w-6 h-6 text-yellow-600"})}),i.jsx("div",{className:"text-2xl font-bold text-yellow-600",children:s.conflicts_detected}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"صراعات عقائدية"})]})}),i.jsx(ae,{children:i.jsxs(oe,{className:"pt-6 text-center",children:[i.jsx("div",{className:"flex items-center justify-center w-12 h-12 mx-auto mb-3 bg-purple-100 rounded-lg",children:i.jsx(za,{className:"w-6 h-6 text-purple-600"})}),i.jsxs("div",{className:"text-2xl font-bold text-purple-600",children:[(s.authenticity_score*100).toFixed(0),"%"]}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"الأصالة الثقافية"})]})})]}),i.jsxs(zn,{defaultValue:"overview",className:"w-full",children:[i.jsxs(On,{className:"grid w-full grid-cols-5",children:[i.jsx(nt,{value:"overview",children:"نظرة عامة"}),i.jsx(nt,{value:"characters",children:"الشخصيات"}),i.jsx(nt,{value:"conflicts",children:"الصراعات"}),i.jsx(nt,{value:"recommendations",children:"التوصيات"}),i.jsx(nt,{value:"authenticity",children:"الأصالة"})]}),i.jsx(rt,{value:"overview",className:"space-y-4",children:i.jsxs(ae,{children:[i.jsx(Te,{children:i.jsxs(ke,{className:"text-right flex items-center gap-2",children:[i.jsx(uce,{className:"w-5 h-5"}),"النظام العقائدي السائد"]})}),i.jsx(oe,{children:i.jsxs("div",{className:"text-center space-y-4",children:[i.jsxs("div",{className:"inline-flex items-center gap-3 p-4 bg-gradient-to-r from-green-50 to-green-100 rounded-xl",children:[i.jsx(XN,{className:"w-8 h-8 text-green-600"}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-xl font-bold text-green-700",children:s.dominant_belief_system||"غير محدد"}),i.jsx("p",{className:"text-sm text-green-600",children:"النظام العقائدي المهيمن"})]})]}),i.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mt-6",children:[i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"text-2xl font-bold text-blue-600",children:s.values_identified}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"قيم أساسية"})]}),i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"text-2xl font-bold text-green-600",children:s.characters_analyzed}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"شخصيات"})]}),i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"text-2xl font-bold text-yellow-600",children:s.conflicts_detected}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"صراعات"})]}),i.jsxs("div",{className:"text-center",children:[i.jsxs("div",{className:"text-2xl font-bold text-purple-600",children:[(s.confidence_score*100).toFixed(0),"%"]}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"ثقة التحليل"})]})]})]})})]})}),i.jsx(rt,{value:"characters",className:"space-y-4",children:i.jsxs(ae,{children:[i.jsx(Te,{children:i.jsxs(ke,{className:"text-right flex items-center gap-2",children:[i.jsx(Wn,{className:"w-5 h-5"}),"الملفات العقائدية للشخصيات (",((p=s.character_profiles)==null?void 0:p.length)||0,")"]})}),i.jsx(oe,{children:i.jsx("div",{className:"space-y-4",children:((m=s.character_profiles)==null?void 0:m.map((b,j)=>i.jsx(ae,{className:"border-l-4 border-l-green-500",children:i.jsx(oe,{className:"pt-4",children:i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex justify-between items-start",children:[i.jsxs("div",{className:"text-right",children:[i.jsx("h4",{className:"font-semibold text-lg",children:b.name}),i.jsx(He,{variant:"outline",children:b.belief_system})]}),i.jsx("div",{className:"text-left",children:i.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[i.jsx("span",{className:"text-sm text-muted-foreground",children:"مستوى التدين:"}),i.jsx(tt,{value:b.religiosity_level*100,className:"w-20 h-2"}),i.jsxs("span",{className:"text-sm",children:[(b.religiosity_level*100).toFixed(0),"%"]})]})})]}),b.core_values&&b.core_values.length>0&&i.jsxs("div",{children:[i.jsx("h5",{className:"text-sm font-medium text-right mb-2",children:"القيم الأساسية:"}),i.jsx("div",{className:"flex flex-wrap gap-1 justify-end",children:b.core_values.map((N,_)=>i.jsx(He,{variant:"secondary",className:"text-xs",children:N},_))})]}),b.practices&&b.practices.length>0&&i.jsxs("div",{children:[i.jsx("h5",{className:"text-sm font-medium text-right mb-2",children:"الممارسات الدينية:"}),i.jsx("div",{className:"flex flex-wrap gap-1 justify-end",children:b.practices.map((N,_)=>i.jsx(He,{variant:"outline",className:"text-xs",children:N},_))})]}),b.conflicts&&b.conflicts.length>0&&i.jsxs("div",{children:[i.jsx("h5",{className:"text-sm font-medium text-right mb-2",children:"التحديات العقائدية:"}),i.jsx("ul",{className:"space-y-1 text-sm text-muted-foreground text-right",children:b.conflicts.map((N,_)=>i.jsxs("li",{children:["• ",N]},_))})]})]})})},j)))||i.jsxs("div",{className:"text-center py-8",children:[i.jsx(Wn,{className:"w-12 h-12 mx-auto mb-4 text-muted-foreground"}),i.jsx("p",{className:"text-muted-foreground",children:"لم يتم تحديد شخصيات للتحليل"})]})})})]})}),i.jsx(rt,{value:"conflicts",className:"space-y-4",children:i.jsxs(ae,{children:[i.jsx(Te,{children:i.jsxs(ke,{className:"text-right flex items-center gap-2",children:[i.jsx(jl,{className:"w-5 h-5"}),"الصراعات العقائدية المكتشفة"]})}),i.jsx(oe,{children:i.jsx("div",{className:"space-y-4",children:((g=s.belief_conflicts)==null?void 0:g.map((b,j)=>i.jsx(ae,{className:"border-l-4 border-l-yellow-500",children:i.jsx(oe,{className:"pt-4",children:i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex justify-between items-start",children:[i.jsx(He,{variant:b.severity==="high"?"destructive":b.severity==="medium"?"default":"secondary",children:b.severity==="high"?"خطير":b.severity==="medium"?"متوسط":"بسيط"}),i.jsx(He,{variant:"outline",children:b.type})]}),i.jsx("p",{className:"text-sm text-right",children:b.description}),b.parties_involved&&b.parties_involved.length>0&&i.jsxs("div",{children:[i.jsx("h5",{className:"text-sm font-medium text-right mb-2",children:"الأطراف المتضررة:"}),i.jsx("div",{className:"flex flex-wrap gap-1 justify-end",children:b.parties_involved.map((N,_)=>i.jsx(He,{variant:"outline",className:"text-xs",children:N},_))})]}),b.resolution_suggestions&&b.resolution_suggestions.length>0&&i.jsxs("div",{className:"bg-muted/50 p-3 rounded",children:[i.jsx("h5",{className:"text-sm font-medium text-right mb-2",children:"اقتراحات الحل:"}),i.jsx("ul",{className:"space-y-1 text-sm text-muted-foreground text-right",children:b.resolution_suggestions.map((N,_)=>i.jsxs("li",{children:["• ",N]},_))})]})]})})},j)))||i.jsxs("div",{className:"text-center py-8",children:[i.jsx(Rt,{className:"w-12 h-12 mx-auto mb-4 text-green-500"}),i.jsx("p",{className:"text-muted-foreground",children:"لم يتم اكتشاف صراعات عقائدية واضحة"})]})})})]})}),i.jsx(rt,{value:"recommendations",className:"space-y-4",children:i.jsxs(ae,{children:[i.jsx(Te,{children:i.jsxs(ke,{className:"text-right flex items-center gap-2",children:[i.jsx(Hn,{className:"w-5 h-5"}),"توصيات التطوير العقائدي"]})}),i.jsx(oe,{children:i.jsx("div",{className:"space-y-3",children:((x=s.recommendations)==null?void 0:x.map((b,j)=>i.jsxs("div",{className:"flex gap-3 p-3 bg-green-50 rounded-lg",children:[i.jsx(pS,{className:"w-5 h-5 text-green-600 flex-shrink-0 mt-0.5"}),i.jsx("p",{className:"text-sm text-right",children:b})]},j)))||i.jsxs("div",{className:"text-center py-8",children:[i.jsx(Rt,{className:"w-12 h-12 mx-auto mb-4 text-green-500"}),i.jsx("p",{className:"text-muted-foreground",children:"المحتوى جيد ولا يحتاج توصيات إضافية"})]})})})]})}),i.jsx(rt,{value:"authenticity",className:"space-y-4",children:i.jsxs(ae,{children:[i.jsx(Te,{children:i.jsxs(ke,{className:"text-right flex items-center gap-2",children:[i.jsx(za,{className:"w-5 h-5"}),"تقييم الأصالة الثقافية"]})}),i.jsx(oe,{children:i.jsxs("div",{className:"text-center space-y-6",children:[i.jsxs("div",{className:"inline-flex items-center gap-4 p-6 bg-gradient-to-r from-purple-50 to-purple-100 rounded-xl",children:[i.jsx(za,{className:"w-12 h-12 text-purple-600"}),i.jsxs("div",{children:[i.jsxs("div",{className:"text-3xl font-bold text-purple-700",children:[(s.authenticity_score*100).toFixed(0),"%"]}),i.jsx("p",{className:"text-purple-600",children:"مؤشر الأصالة الثقافية"})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[i.jsxs("div",{className:"p-4 border rounded-lg",children:[i.jsx("h4",{className:"font-medium text-right mb-2",children:"المرجعية الدينية"}),i.jsxs("div",{className:"flex items-center gap-2 justify-end",children:[i.jsx(tt,{value:s.authenticity_score*100,className:"flex-1"}),i.jsx(Rt,{className:`w-4 h-4 ${s.authenticity_score>.7?"text-green-500":"text-yellow-500"}`})]})]}),i.jsxs("div",{className:"p-4 border rounded-lg",children:[i.jsx("h4",{className:"font-medium text-right mb-2",children:"صحة الممارسات"}),i.jsxs("div",{className:"flex items-center gap-2 justify-end",children:[i.jsx(tt,{value:s.authenticity_score*100,className:"flex-1"}),i.jsx(Rt,{className:`w-4 h-4 ${s.authenticity_score>.7?"text-green-500":"text-yellow-500"}`})]})]}),i.jsxs("div",{className:"p-4 border rounded-lg",children:[i.jsx("h4",{className:"font-medium text-right mb-2",children:"العمق الروحي"}),i.jsxs("div",{className:"flex items-center gap-2 justify-end",children:[i.jsx(tt,{value:s.authenticity_score*100,className:"flex-1"}),i.jsx(Rt,{className:`w-4 h-4 ${s.authenticity_score>.7?"text-green-500":"text-yellow-500"}`})]})]})]}),s.authenticity_score<.7&&i.jsxs("div",{className:"p-4 bg-yellow-50 rounded-lg border border-yellow-200",children:[i.jsx("h4",{className:"font-medium text-right mb-2 text-yellow-800",children:"نصائح لتحسين الأصالة:"}),i.jsxs("ul",{className:"space-y-1 text-sm text-yellow-700 text-right",children:[i.jsx("li",{children:"• مراجعة المصادر الدينية الأصيلة"}),i.jsx("li",{children:"• التأكد من صحة الممارسات والعبادات"}),i.jsx("li",{children:"• تعميق الجانب الروحي للشخصيات"}),i.jsx("li",{children:"• مراعاة السياق الثقافي والتاريخي"})]})]})]})})]})})]}),i.jsx(ae,{children:i.jsx(oe,{className:"pt-6",children:i.jsxs("div",{className:"flex gap-3",children:[i.jsxs(xe,{variant:"outline",className:"flex-1",children:[i.jsx(gr,{className:"w-4 h-4 ml-2"}),"تصدير التقرير"]}),i.jsxs(xe,{variant:"outline",className:"flex-1",children:[i.jsx(Ey,{className:"w-4 h-4 ml-2"}),"مشاركة النتائج"]})]})})})]}):i.jsx(ae,{children:i.jsxs(oe,{className:"py-12 text-center",children:[i.jsx(ta,{className:"w-16 h-16 mx-auto mb-4 text-muted-foreground"}),i.jsx("h3",{className:"text-lg font-semibold mb-2",children:"لا توجد نتائج تحليل"}),i.jsx("p",{className:"text-muted-foreground",children:'قم بإدخال المحتوى في علامة التبويب "إدخال المحتوى" لبدء التحليل'})]})})};return i.jsx("div",{className:"w-full max-w-6xl mx-auto space-y-6",children:i.jsxs(zn,{value:o,onValueChange:l,children:[i.jsxs(On,{className:"grid w-full grid-cols-2",children:[i.jsx(nt,{value:"input",children:"إدخال المحتوى"}),i.jsx(nt,{value:"results",children:"نتائج التحليل"})]}),i.jsx(rt,{value:"input",children:A()}),i.jsx(rt,{value:"results",children:v()})]})})},tmt=()=>{const[t,e]=E.useState(""),[n,r]=E.useState(!1),[s,a]=E.useState(null),[o,l]=E.useState("input"),[c,u]=E.useState({focus_area:"complete",analysis_depth:"detailed",include_power_analysis:!0,map_relationships:!0}),d=E.useRef(null),h=async()=>{if(!t.trim()){alert("يرجى إدخال المحتوى للتحليل");return}r(!0),l("results");try{const g=await fetch("/api/specialized-tools/conflict/analyze",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({content:t,context:c,options:{include_power_dynamics:!0,build_relationship_network:!0,analyze_escalation_factors:!0}})});if(g.ok){const x=await g.json();a(x.conflict_analysis)}else alert("حدث خطأ أثناء التحليل")}catch(g){console.error("خطأ في تحليل الصراعات:",g),alert("حدث خطأ في الاتصال")}finally{r(!1)}},f=g=>{var b;const x=(b=g.target.files)==null?void 0:b[0];if(x){const j=new FileReader;j.onload=N=>{var C;const _=(C=N.target)==null?void 0:C.result;e(_)},j.readAsText(x)}},A=g=>{switch(g){case"high":return"bg-red-100 text-red-800 border-red-200";case"medium":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"low":return"bg-green-100 text-green-800 border-green-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},v=g=>{switch(g){case"high":return i.jsx(vP,{className:"w-4 h-4"});case"medium":return i.jsx(XN,{className:"w-4 h-4"});case"low":return i.jsx(xP,{className:"w-4 h-4"});default:return i.jsx(Vn,{className:"w-4 h-4"})}},p=()=>i.jsxs("div",{className:"space-y-6",children:[i.jsxs(ae,{children:[i.jsxs(Te,{children:[i.jsxs(ke,{className:"text-right flex items-center gap-2",children:[i.jsx(Wn,{className:"w-5 h-5"}),"تحليل الصراعات الاجتماعية"]}),i.jsx("p",{className:"text-sm text-muted-foreground text-right",children:"أدخل النص لتحليل التفاعلات الاجتماعية وبناء خريطة الصراعات والقوى"})]}),i.jsxs(oe,{className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium text-right block",children:"النص للتحليل:"}),i.jsx(Zi,{value:t,onChange:g=>e(g.target.value),placeholder:"أدخل النص الذي يحتوي على تفاعلات اجتماعية وصراعات هنا...",className:"min-h-[300px] text-right resize-none",dir:"rtl"}),i.jsxs("div",{className:"flex justify-between items-center text-xs text-muted-foreground",children:[i.jsx("span",{children:"الحد الأدنى: 150 كلمة"}),i.jsxs("span",{children:[t.split(" ").filter(g=>g.length>0).length," كلمة"]})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium text-right block",children:"مجال التركيز:"}),i.jsxs("select",{value:c.focus_area,onChange:g=>u({...c,focus_area:g.target.value}),className:"w-full p-2 border rounded-lg text-right",children:[i.jsx("option",{value:"complete",children:"تحليل شامل"}),i.jsx("option",{value:"groups",children:"المجموعات الاجتماعية"}),i.jsx("option",{value:"conflicts",children:"الصراعات فقط"}),i.jsx("option",{value:"power",children:"ديناميكيات القوة"}),i.jsx("option",{value:"relationships",children:"العلاقات والشبكات"})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium text-right block",children:"عمق التحليل:"}),i.jsxs("select",{value:c.analysis_depth,onChange:g=>u({...c,analysis_depth:g.target.value}),className:"w-full p-2 border rounded-lg text-right",children:[i.jsx("option",{value:"basic",children:"أساسي"}),i.jsx("option",{value:"detailed",children:"مفصل"}),i.jsx("option",{value:"expert",children:"خبير"})]})]})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsx("h4",{className:"text-sm font-medium text-right",children:"خيارات التحليل:"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[i.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[i.jsx("input",{type:"checkbox",checked:c.include_power_analysis,onChange:g=>u({...c,include_power_analysis:g.target.checked})}),i.jsx("span",{children:"تحليل توازن القوى"})]}),i.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[i.jsx("input",{type:"checkbox",checked:c.map_relationships,onChange:g=>u({...c,map_relationships:g.target.checked})}),i.jsx("span",{children:"رسم شبكة العلاقات"})]})]})]}),i.jsxs("div",{className:"flex gap-3 pt-4",children:[i.jsx(xe,{onClick:h,disabled:n||t.length<50,className:"flex-1 bg-gradient-to-r from-blue-500 to-blue-600 hover:from-blue-600 hover:to-blue-700",children:n?i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"animate-spin w-4 h-4 border-2 border-white border-t-transparent rounded-full ml-2"}),"جاري التحليل..."]}):i.jsxs(i.Fragment,{children:[i.jsx(kl,{className:"w-4 h-4 ml-2"}),"بدء تحليل الصراعات"]})}),i.jsxs(xe,{variant:"outline",onClick:()=>{var g;return(g=d.current)==null?void 0:g.click()},children:[i.jsx(xn,{className:"w-4 h-4 ml-2"}),"رفع ملف"]}),i.jsx(xe,{variant:"outline",onClick:()=>e(""),children:"مسح"})]}),i.jsx("input",{ref:d,type:"file",accept:".txt,.md",onChange:f,className:"hidden"})]})]}),i.jsxs(ae,{children:[i.jsx(Te,{children:i.jsxs(ke,{className:"text-right text-sm flex items-center gap-2",children:[i.jsx(Go,{className:"w-4 h-4"}),"نصائح للحصول على أفضل النتائج"]})}),i.jsx(oe,{children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx("h4",{className:"font-medium text-right",children:"محتوى مناسب للتحليل:"}),i.jsxs("ul",{className:"space-y-1 text-muted-foreground text-right",children:[i.jsx("li",{children:"• وصف المجتمعات والطبقات"}),i.jsx("li",{children:"• تفاعلات بين مجموعات مختلفة"}),i.jsx("li",{children:"• صراعات وتوترات اجتماعية"}),i.jsx("li",{children:"• تحالفات وعداوات"})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("h4",{className:"font-medium text-right",children:"يركز التحليل على:"}),i.jsxs("ul",{className:"space-y-1 text-muted-foreground text-right",children:[i.jsx("li",{children:"• تحديد المجموعات الاجتماعية"}),i.jsx("li",{children:"• تحليل توازن القوى"}),i.jsx("li",{children:"• رسم شبكة العلاقات"}),i.jsx("li",{children:"• توقع تطور الصراعات"})]})]})]})})]})]}),m=()=>{var g,x,b,j,N;return n?i.jsx(ae,{children:i.jsx(oe,{className:"py-12",children:i.jsxs("div",{className:"text-center space-y-4",children:[i.jsx("div",{className:"animate-spin w-12 h-12 border-4 border-blue-500 border-t-transparent rounded-full mx-auto"}),i.jsx("h3",{className:"text-lg font-semibold",children:"جاري تحليل الصراعات الاجتماعية..."}),i.jsx("p",{className:"text-muted-foreground",children:"يتم الآن بناء خريطة القوى والتفاعلات الاجتماعية"}),i.jsx(tt,{value:65,className:"w-1/2 mx-auto"})]})})}):s?i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[i.jsx(ae,{children:i.jsxs(oe,{className:"pt-6 text-center",children:[i.jsx("div",{className:"flex items-center justify-center w-12 h-12 mx-auto mb-3 bg-blue-100 rounded-lg",children:i.jsx(Wn,{className:"w-6 h-6 text-blue-600"})}),i.jsx("div",{className:"text-2xl font-bold text-blue-600",children:s.social_groups_count}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"مجموعات اجتماعية"})]})}),i.jsx(ae,{children:i.jsxs(oe,{className:"pt-6 text-center",children:[i.jsx("div",{className:"flex items-center justify-center w-12 h-12 mx-auto mb-3 bg-red-100 rounded-lg",children:i.jsx(vP,{className:"w-6 h-6 text-red-600"})}),i.jsx("div",{className:"text-2xl font-bold text-red-600",children:s.conflicts_identified}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"صراعات محددة"})]})}),i.jsx(ae,{children:i.jsxs(oe,{className:"pt-6 text-center",children:[i.jsx("div",{className:"flex items-center justify-center w-12 h-12 mx-auto mb-3 bg-yellow-100 rounded-lg",children:i.jsx($a,{className:"w-6 h-6 text-yellow-600"})}),i.jsx("div",{className:"text-2xl font-bold text-yellow-600",children:s.tension_points}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"نقاط توتر"})]})}),i.jsx(ae,{children:i.jsxs(oe,{className:"pt-6 text-center",children:[i.jsx("div",{className:"flex items-center justify-center w-12 h-12 mx-auto mb-3 bg-green-100 rounded-lg",children:i.jsx(xP,{className:"w-6 h-6 text-green-600"})}),i.jsxs("div",{className:"text-2xl font-bold text-green-600",children:[(s.overall_stability*100).toFixed(0),"%"]}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"الاستقرار العام"})]})})]}),i.jsxs(zn,{defaultValue:"groups",className:"w-full",children:[i.jsxs(On,{className:"grid w-full grid-cols-5",children:[i.jsx(nt,{value:"groups",children:"المجموعات"}),i.jsx(nt,{value:"conflicts",children:"الصراعات"}),i.jsx(nt,{value:"power",children:"القوى"}),i.jsx(nt,{value:"recommendations",children:"التوصيات"}),i.jsx(nt,{value:"network",children:"الشبكة"})]}),i.jsx(rt,{value:"groups",className:"space-y-4",children:i.jsxs(ae,{children:[i.jsx(Te,{children:i.jsxs(ke,{className:"text-right flex items-center gap-2",children:[i.jsx(Wn,{className:"w-5 h-5"}),"المجموعات الاجتماعية (",s.social_groups_count,")"]})}),i.jsx(oe,{children:i.jsx("div",{className:"space-y-4",children:((g=s.social_groups)==null?void 0:g.map((_,C)=>i.jsx(ae,{className:"border-l-4 border-l-blue-500",children:i.jsx(oe,{className:"pt-4",children:i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex justify-between items-start",children:[i.jsxs("div",{className:"text-right",children:[i.jsx("h4",{className:"font-semibold text-lg",children:_.name}),i.jsx(He,{variant:"outline",children:_.social_class})]}),i.jsx("div",{className:"text-left",children:i.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[i.jsx(Jb,{className:"w-4 h-4 text-yellow-600"}),i.jsx("span",{className:"text-sm text-muted-foreground",children:"النفوذ:"}),i.jsx(tt,{value:_.power_level*100,className:"w-20 h-2"}),i.jsxs("span",{className:"text-sm",children:[(_.power_level*100).toFixed(0),"%"]})]})})]}),_.interests&&_.interests.length>0&&i.jsxs("div",{children:[i.jsx("h5",{className:"text-sm font-medium text-right mb-2",children:"المصالح الأساسية:"}),i.jsx("div",{className:"flex flex-wrap gap-1 justify-end",children:_.interests.map((k,T)=>i.jsx(He,{variant:"secondary",className:"text-xs",children:k},T))})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[_.allies&&_.allies.length>0&&i.jsxs("div",{children:[i.jsx("h5",{className:"text-sm font-medium text-right mb-2",children:"الحلفاء:"}),i.jsx("div",{className:"flex flex-wrap gap-1 justify-end",children:_.allies.map((k,T)=>i.jsx(He,{variant:"outline",className:"text-xs text-green-700 border-green-300",children:k},T))})]}),_.enemies&&_.enemies.length>0&&i.jsxs("div",{children:[i.jsx("h5",{className:"text-sm font-medium text-right mb-2",children:"الخصوم:"}),i.jsx("div",{className:"flex flex-wrap gap-1 justify-end",children:_.enemies.map((k,T)=>i.jsx(He,{variant:"outline",className:"text-xs text-red-700 border-red-300",children:k},T))})]})]}),_.influence_areas&&_.influence_areas.length>0&&i.jsxs("div",{children:[i.jsx("h5",{className:"text-sm font-medium text-right mb-2",children:"مجالات النفوذ:"}),i.jsx("div",{className:"flex flex-wrap gap-1 justify-end",children:_.influence_areas.map((k,T)=>i.jsx(He,{variant:"outline",className:"text-xs",children:k},T))})]})]})})},C)))||i.jsxs("div",{className:"text-center py-8",children:[i.jsx(Wn,{className:"w-12 h-12 mx-auto mb-4 text-muted-foreground"}),i.jsx("p",{className:"text-muted-foreground",children:"لم يتم تحديد مجموعات اجتماعية واضحة"})]})})})]})}),i.jsx(rt,{value:"conflicts",className:"space-y-4",children:i.jsxs(ae,{children:[i.jsx(Te,{children:i.jsxs(ke,{className:"text-right flex items-center gap-2",children:[i.jsx(vP,{className:"w-5 h-5"}),"الصراعات المحددة (",s.conflicts_identified,")"]})}),i.jsx(oe,{children:i.jsx("div",{className:"space-y-4",children:((x=s.conflicts)==null?void 0:x.map((_,C)=>i.jsx(ae,{className:`border-l-4 ${_.intensity==="high"?"border-l-red-500":_.intensity==="medium"?"border-l-yellow-500":"border-l-green-500"}`,children:i.jsx(oe,{className:"pt-4",children:i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex justify-between items-start",children:[i.jsxs("div",{className:`flex items-center gap-2 px-3 py-1 rounded-lg border ${A(_.intensity)}`,children:[v(_.intensity),i.jsx("span",{className:"text-sm font-medium",children:_.intensity==="high"?"عالي الشدة":_.intensity==="medium"?"متوسط الشدة":"منخفض الشدة"})]}),i.jsx(He,{variant:"outline",children:_.type})]}),i.jsx("p",{className:"text-sm text-right",children:_.description}),_.groups_involved&&_.groups_involved.length>0&&i.jsxs("div",{children:[i.jsx("h5",{className:"text-sm font-medium text-right mb-2",children:"الأطراف المتصارعة:"}),i.jsx("div",{className:"flex flex-wrap gap-1 justify-end",children:_.groups_involved.map((k,T)=>i.jsx(He,{variant:"destructive",className:"text-xs",children:k},T))})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[_.causes&&_.causes.length>0&&i.jsxs("div",{children:[i.jsx("h5",{className:"text-sm font-medium text-right mb-2",children:"الأسباب:"}),i.jsx("ul",{className:"space-y-1 text-sm text-muted-foreground text-right",children:_.causes.map((k,T)=>i.jsxs("li",{children:["• ",k]},T))})]}),_.escalation_factors&&_.escalation_factors.length>0&&i.jsxs("div",{children:[i.jsx("h5",{className:"text-sm font-medium text-right mb-2",children:"عوامل التصعيد:"}),i.jsx("ul",{className:"space-y-1 text-sm text-muted-foreground text-right",children:_.escalation_factors.map((k,T)=>i.jsxs("li",{children:["• ",k]},T))})]})]}),_.potential_outcomes&&_.potential_outcomes.length>0&&i.jsxs("div",{className:"bg-muted/50 p-3 rounded",children:[i.jsx("h5",{className:"text-sm font-medium text-right mb-2",children:"النتائج المحتملة:"}),i.jsx("ul",{className:"space-y-1 text-sm text-muted-foreground text-right",children:_.potential_outcomes.map((k,T)=>i.jsxs("li",{children:["• ",k]},T))})]})]})})},C)))||i.jsxs("div",{className:"text-center py-8",children:[i.jsx(Rt,{className:"w-12 h-12 mx-auto mb-4 text-green-500"}),i.jsx("p",{className:"text-muted-foreground",children:"لم يتم اكتشاف صراعات واضحة"})]})})})]})}),i.jsx(rt,{value:"power",className:"space-y-4",children:i.jsxs(ae,{children:[i.jsx(Te,{children:i.jsxs(ke,{className:"text-right flex items-center gap-2",children:[i.jsx(Jb,{className:"w-5 h-5"}),"ديناميكيات القوة والنفوذ"]})}),i.jsx(oe,{children:i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"text-center p-6 bg-gradient-to-r from-purple-50 to-purple-100 rounded-xl",children:[i.jsx(xP,{className:"w-12 h-12 mx-auto mb-3 text-purple-600"}),i.jsx("h3",{className:"text-xl font-bold text-purple-700 mb-2",children:"توازن القوى العام"}),i.jsxs("div",{className:"text-3xl font-bold text-purple-800",children:[(s.power_dynamics.power_balance*100).toFixed(0),"%"]}),i.jsx("p",{className:"text-purple-600 text-sm",children:s.power_dynamics.power_balance>.7?"مستقر":s.power_dynamics.power_balance>.4?"متوتر":"غير مستقر"})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs(ae,{children:[i.jsx(Te,{children:i.jsxs(ke,{className:"text-right text-sm flex items-center gap-2",children:[i.jsx(Jb,{className:"w-4 h-4 text-yellow-600"}),"المجموعات المهيمنة"]})}),i.jsx(oe,{children:i.jsx("div",{className:"space-y-2",children:((b=s.power_dynamics.dominant_groups)==null?void 0:b.map((_,C)=>i.jsxs("div",{className:"flex items-center gap-2 p-2 bg-yellow-50 rounded",children:[i.jsx(Jb,{className:"w-4 h-4 text-yellow-600"}),i.jsx("span",{className:"text-sm",children:_})]},C)))||i.jsx("p",{className:"text-sm text-muted-foreground text-center",children:"لا توجد مجموعات مهيمنة واضحة"})})})]}),i.jsxs(ae,{children:[i.jsx(Te,{children:i.jsxs(ke,{className:"text-right text-sm flex items-center gap-2",children:[i.jsx(XN,{className:"w-4 h-4 text-blue-600"}),"المجموعات المضطهدة"]})}),i.jsx(oe,{children:i.jsx("div",{className:"space-y-2",children:((j=s.power_dynamics.oppressed_groups)==null?void 0:j.map((_,C)=>i.jsxs("div",{className:"flex items-center gap-2 p-2 bg-blue-50 rounded",children:[i.jsx(XN,{className:"w-4 h-4 text-blue-600"}),i.jsx("span",{className:"text-sm",children:_})]},C)))||i.jsx("p",{className:"text-sm text-muted-foreground text-center",children:"لا توجد مجموعات مضطهدة واضحة"})})})]})]}),s.power_dynamics.instability_factors&&i.jsxs(ae,{children:[i.jsx(Te,{children:i.jsxs(ke,{className:"text-right text-sm flex items-center gap-2",children:[i.jsx($a,{className:"w-4 h-4 text-red-600"}),"عوامل عدم الاستقرار"]})}),i.jsx(oe,{children:i.jsx("div",{className:"space-y-2",children:s.power_dynamics.instability_factors.map((_,C)=>i.jsxs("div",{className:"flex items-center gap-2 p-2 bg-red-50 rounded text-right",children:[i.jsx($a,{className:"w-4 h-4 text-red-600 flex-shrink-0"}),i.jsx("span",{className:"text-sm",children:_})]},C))})})]})]})})]})}),i.jsx(rt,{value:"recommendations",className:"space-y-4",children:i.jsxs(ae,{children:[i.jsx(Te,{children:i.jsxs(ke,{className:"text-right flex items-center gap-2",children:[i.jsx(Hn,{className:"w-5 h-5"}),"توصيات تطوير الصراعات"]})}),i.jsx(oe,{children:i.jsx("div",{className:"space-y-3",children:((N=s.recommendations)==null?void 0:N.map((_,C)=>i.jsxs("div",{className:"flex gap-3 p-3 bg-blue-50 rounded-lg",children:[i.jsx(pS,{className:"w-5 h-5 text-blue-600 flex-shrink-0 mt-0.5"}),i.jsx("p",{className:"text-sm text-right",children:_})]},C)))||i.jsxs("div",{className:"text-center py-8",children:[i.jsx(Rt,{className:"w-12 h-12 mx-auto mb-4 text-green-500"}),i.jsx("p",{className:"text-muted-foreground",children:"المحتوى جيد ولا يحتاج توصيات إضافية"})]})})})]})}),i.jsx(rt,{value:"network",className:"space-y-4",children:i.jsxs(ae,{children:[i.jsx(Te,{children:i.jsxs(ke,{className:"text-right flex items-center gap-2",children:[i.jsx(TD,{className:"w-5 h-5"}),"شبكة العلاقات الاجتماعية"]})}),i.jsx(oe,{children:i.jsxs("div",{className:"text-center py-12 space-y-4",children:[i.jsx(TD,{className:"w-16 h-16 mx-auto mb-4 text-muted-foreground"}),i.jsx("h3",{className:"text-lg font-semibold",children:"تصور شبكة العلاقات"}),i.jsx("p",{className:"text-muted-foreground",children:"سيتم عرض خريطة تفاعلية للعلاقات بين المجموعات والصراعات"}),i.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mt-6",children:[i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"text-2xl font-bold text-blue-600",children:s.social_groups_count}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"عقد المجموعات"})]}),i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"text-2xl font-bold text-red-600",children:s.conflicts_identified}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"صراعات"})]}),i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"text-2xl font-bold text-green-600",children:s.network_complexity}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"تعقيد الشبكة"})]}),i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"text-2xl font-bold text-purple-600",children:s.tension_points}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"نقاط التوتر"})]})]})]})})]})})]}),i.jsx(ae,{children:i.jsx(oe,{className:"pt-6",children:i.jsxs("div",{className:"flex gap-3",children:[i.jsxs(xe,{variant:"outline",className:"flex-1",children:[i.jsx(gr,{className:"w-4 h-4 ml-2"}),"تصدير خريطة الصراعات"]}),i.jsxs(xe,{variant:"outline",className:"flex-1",children:[i.jsx(Ey,{className:"w-4 h-4 ml-2"}),"مشاركة التحليل"]})]})})})]}):i.jsx(ae,{children:i.jsxs(oe,{className:"py-12 text-center",children:[i.jsx(Wn,{className:"w-16 h-16 mx-auto mb-4 text-muted-foreground"}),i.jsx("h3",{className:"text-lg font-semibold mb-2",children:"لا توجد نتائج تحليل"}),i.jsx("p",{className:"text-muted-foreground",children:'قم بإدخال المحتوى في علامة التبويب "إدخال المحتوى" لبدء التحليل'})]})})};return i.jsx("div",{className:"w-full max-w-6xl mx-auto space-y-6",children:i.jsxs(zn,{value:o,onValueChange:l,children:[i.jsxs(On,{className:"grid w-full grid-cols-2",children:[i.jsx(nt,{value:"input",children:"إدخال المحتوى"}),i.jsx(nt,{value:"results",children:"نتائج التحليل"})]}),i.jsx(rt,{value:"input",children:p()}),i.jsx(rt,{value:"results",children:m()})]})})},nmt=()=>{const[t,e]=E.useState(""),[n,r]=E.useState(!1),[s,a]=E.useState(null),[o,l]=E.useState("input"),[c,u]=E.useState({focus_area:"complete",depth_level:"detailed",include_development_arcs:!0,analyze_relationships:!0}),d=E.useRef(null),h=async()=>{if(!t.trim()){alert("يرجى إدخال المحتوى للتحليل");return}r(!0),l("results");try{const g=await fetch("/api/specialized-tools/psychology/analyze",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({content:t,context:c,options:{include_emotional_analysis:!0,build_development_arcs:!0,analyze_realistic_responses:!0}})});if(g.ok){const x=await g.json();a(x.psychology_analysis)}else alert("حدث خطأ أثناء التحليل")}catch(g){console.error("خطأ في التحليل النفسي:",g),alert("حدث خطأ في الاتصال")}finally{r(!1)}},f=g=>{var b;const x=(b=g.target.files)==null?void 0:b[0];if(x){const j=new FileReader;j.onload=N=>{var C;const _=(C=N.target)==null?void 0:C.result;e(_)},j.readAsText(x)}},A=g=>g>.7?i.jsx(w5e,{className:"w-4 h-4 text-green-500"}):g>.4?i.jsx(A5e,{className:"w-4 h-4 text-yellow-500"}):i.jsx(l5e,{className:"w-4 h-4 text-red-500"}),v=g=>{switch(g){case"high":return"bg-red-100 text-red-800 border-red-200";case"medium":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"low":return"bg-green-100 text-green-800 border-green-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},p=()=>i.jsxs("div",{className:"space-y-6",children:[i.jsxs(ae,{children:[i.jsxs(Te,{children:[i.jsxs(ke,{className:"text-right flex items-center gap-2",children:[i.jsx(zt,{className:"w-5 h-5"}),"التحليل النفسي للشخصيات"]}),i.jsx("p",{className:"text-sm text-muted-foreground text-right",children:"أدخل النص لتحليل العمق النفسي للشخصيات وضمان الواقعية في الاستجابات العاطفية"})]}),i.jsxs(oe,{className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium text-right block",children:"النص للتحليل:"}),i.jsx(Zi,{value:t,onChange:g=>e(g.target.value),placeholder:"أدخل النص الذي يحتوي على شخصيات وتفاعلاتها النفسية هنا...",className:"min-h-[300px] text-right resize-none",dir:"rtl"}),i.jsxs("div",{className:"flex justify-between items-center text-xs text-muted-foreground",children:[i.jsx("span",{children:"الحد الأدنى: 150 كلمة"}),i.jsxs("span",{children:[t.split(" ").filter(g=>g.length>0).length," كلمة"]})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium text-right block",children:"مجال التركيز:"}),i.jsxs("select",{value:c.focus_area,onChange:g=>u({...c,focus_area:g.target.value}),className:"w-full p-2 border rounded-lg text-right",children:[i.jsx("option",{value:"complete",children:"تحليل شامل"}),i.jsx("option",{value:"personality",children:"الشخصية فقط"}),i.jsx("option",{value:"emotions",children:"المشاعر والانفعالات"}),i.jsx("option",{value:"trauma",children:"الصدمات والجروح"}),i.jsx("option",{value:"development",children:"التطور النفسي"}),i.jsx("option",{value:"relationships",children:"العلاقات النفسية"})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium text-right block",children:"مستوى العمق:"}),i.jsxs("select",{value:c.depth_level,onChange:g=>u({...c,depth_level:g.target.value}),className:"w-full p-2 border rounded-lg text-right",children:[i.jsx("option",{value:"surface",children:"سطحي"}),i.jsx("option",{value:"detailed",children:"مفصل"}),i.jsx("option",{value:"deep",children:"عميق"}),i.jsx("option",{value:"clinical",children:"إكلينيكي"})]})]})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsx("h4",{className:"text-sm font-medium text-right",children:"خيارات التحليل:"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[i.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[i.jsx("input",{type:"checkbox",checked:c.include_development_arcs,onChange:g=>u({...c,include_development_arcs:g.target.checked})}),i.jsx("span",{children:"تحليل أقواس التطور"})]}),i.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[i.jsx("input",{type:"checkbox",checked:c.analyze_relationships,onChange:g=>u({...c,analyze_relationships:g.target.checked})}),i.jsx("span",{children:"تحليل ديناميكيات العلاقات"})]})]})]}),i.jsxs("div",{className:"flex gap-3 pt-4",children:[i.jsx(xe,{onClick:h,disabled:n||t.length<50,className:"flex-1 bg-gradient-to-r from-purple-500 to-purple-600 hover:from-purple-600 hover:to-purple-700",children:n?i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"animate-spin w-4 h-4 border-2 border-white border-t-transparent rounded-full ml-2"}),"جاري التحليل..."]}):i.jsxs(i.Fragment,{children:[i.jsx(kl,{className:"w-4 h-4 ml-2"}),"بدء التحليل النفسي"]})}),i.jsxs(xe,{variant:"outline",onClick:()=>{var g;return(g=d.current)==null?void 0:g.click()},children:[i.jsx(xn,{className:"w-4 h-4 ml-2"}),"رفع ملف"]}),i.jsx(xe,{variant:"outline",onClick:()=>e(""),children:"مسح"})]}),i.jsx("input",{ref:d,type:"file",accept:".txt,.md",onChange:f,className:"hidden"})]})]}),i.jsxs(ae,{children:[i.jsx(Te,{children:i.jsxs(ke,{className:"text-right text-sm flex items-center gap-2",children:[i.jsx(Go,{className:"w-4 h-4"}),"نصائح للحصول على أفضل النتائج"]})}),i.jsx(oe,{children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx("h4",{className:"font-medium text-right",children:"محتوى مناسب للتحليل:"}),i.jsxs("ul",{className:"space-y-1 text-muted-foreground text-right",children:[i.jsx("li",{children:"• حوارات تكشف الدوافع الداخلية"}),i.jsx("li",{children:"• مواقف تظهر ردود الأفعال"}),i.jsx("li",{children:"• صراعات نفسية داخلية"}),i.jsx("li",{children:"• تطور الشخصيات عبر الأحداث"})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("h4",{className:"font-medium text-right",children:"يركز التحليل على:"}),i.jsxs("ul",{className:"space-y-1 text-muted-foreground text-right",children:[i.jsx("li",{children:"• أنماط الشخصية والسمات"}),i.jsx("li",{children:"• الجروح النفسية والصدمات"}),i.jsx("li",{children:"• آليات التأقلم والدفاع"}),i.jsx("li",{children:"• واقعية الاستجابات العاطفية"})]})]})]})})]})]}),m=()=>{var g,x,b,j,N,_,C,k;return n?i.jsx(ae,{children:i.jsx(oe,{className:"py-12",children:i.jsxs("div",{className:"text-center space-y-4",children:[i.jsx("div",{className:"animate-spin w-12 h-12 border-4 border-purple-500 border-t-transparent rounded-full mx-auto"}),i.jsx("h3",{className:"text-lg font-semibold",children:"جاري التحليل النفسي..."}),i.jsx("p",{className:"text-muted-foreground",children:"يتم الآن تحليل الأعماق النفسية للشخصيات وأنماط سلوكها"}),i.jsx(tt,{value:65,className:"w-1/2 mx-auto"})]})})}):s?i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[i.jsx(ae,{children:i.jsxs(oe,{className:"pt-6 text-center",children:[i.jsx("div",{className:"flex items-center justify-center w-12 h-12 mx-auto mb-3 bg-purple-100 rounded-lg",children:i.jsx(q0,{className:"w-6 h-6 text-purple-600"})}),i.jsx("div",{className:"text-2xl font-bold text-purple-600",children:s.characters_analyzed}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"شخصيات محللة"})]})}),i.jsx(ae,{children:i.jsxs(oe,{className:"pt-6 text-center",children:[i.jsx("div",{className:"flex items-center justify-center w-12 h-12 mx-auto mb-3 bg-blue-100 rounded-lg",children:i.jsx(ta,{className:"w-6 h-6 text-blue-600"})}),i.jsx("div",{className:"text-2xl font-bold text-blue-600",children:s.emotional_patterns_detected}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"أنماط عاطفية"})]})}),i.jsx(ae,{children:i.jsxs(oe,{className:"pt-6 text-center",children:[i.jsx("div",{className:"flex items-center justify-center w-12 h-12 mx-auto mb-3 bg-red-100 rounded-lg",children:i.jsx($a,{className:"w-6 h-6 text-red-600"})}),i.jsx("div",{className:"text-2xl font-bold text-red-600",children:s.psychological_wounds_identified}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"جروح نفسية"})]})}),i.jsx(ae,{children:i.jsxs(oe,{className:"pt-6 text-center",children:[i.jsx("div",{className:"flex items-center justify-center w-12 h-12 mx-auto mb-3 bg-green-100 rounded-lg",children:i.jsx(XN,{className:"w-6 h-6 text-green-600"})}),i.jsx("div",{className:"text-2xl font-bold text-green-600",children:s.coping_mechanisms_found}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"آليات تأقلم"})]})})]}),i.jsxs(zn,{defaultValue:"profiles",className:"w-full",children:[i.jsxs(On,{className:"grid w-full grid-cols-5",children:[i.jsx(nt,{value:"profiles",children:"الملفات النفسية"}),i.jsx(nt,{value:"patterns",children:"الأنماط العاطفية"}),i.jsx(nt,{value:"development",children:"التطور النفسي"}),i.jsx(nt,{value:"responses",children:"الاستجابات"}),i.jsx(nt,{value:"recommendations",children:"التوصيات"})]}),i.jsx(rt,{value:"profiles",className:"space-y-4",children:i.jsxs(ae,{children:[i.jsx(Te,{children:i.jsxs(ke,{className:"text-right flex items-center gap-2",children:[i.jsx(q0,{className:"w-5 h-5"}),"الملفات النفسية للشخصيات (",((g=s.character_profiles)==null?void 0:g.length)||0,")"]})}),i.jsx(oe,{children:i.jsx("div",{className:"space-y-4",children:((x=s.character_profiles)==null?void 0:x.map((T,O)=>i.jsx(ae,{className:"border-l-4 border-l-purple-500",children:i.jsx(oe,{className:"pt-4",children:i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex justify-between items-start",children:[i.jsxs("div",{className:"text-right",children:[i.jsx("h4",{className:"font-semibold text-lg",children:T.name}),i.jsx(He,{variant:"outline",children:T.personality_type}),i.jsx(He,{variant:"secondary",className:"ml-2",children:T.mental_state})]}),i.jsxs("div",{className:"text-left space-y-2",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[A(T.emotional_stability),i.jsx("span",{className:"text-sm text-muted-foreground",children:"استقرار عاطفي:"}),i.jsx(tt,{value:T.emotional_stability*100,className:"w-20 h-2"}),i.jsxs("span",{className:"text-sm",children:[(T.emotional_stability*100).toFixed(0),"%"]})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Hn,{className:"w-4 h-4 text-green-500"}),i.jsx("span",{className:"text-sm text-muted-foreground",children:"إمكانية تطور:"}),i.jsx(tt,{value:T.development_potential*100,className:"w-20 h-2"}),i.jsxs("span",{className:"text-sm",children:[(T.development_potential*100).toFixed(0),"%"]})]})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[T.traits&&T.traits.length>0&&i.jsxs("div",{children:[i.jsx("h5",{className:"text-sm font-medium text-right mb-2",children:"السمات الشخصية:"}),i.jsx("div",{className:"flex flex-wrap gap-1 justify-end",children:T.traits.map((I,F)=>i.jsx(He,{variant:"secondary",className:"text-xs",children:I},F))})]}),T.motivations&&T.motivations.length>0&&i.jsxs("div",{children:[i.jsx("h5",{className:"text-sm font-medium text-right mb-2",children:"الدوافع الأساسية:"}),i.jsx("div",{className:"flex flex-wrap gap-1 justify-end",children:T.motivations.map((I,F)=>i.jsx(He,{variant:"outline",className:"text-xs text-blue-700 border-blue-300",children:I},F))})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[T.fears&&T.fears.length>0&&i.jsxs("div",{children:[i.jsx("h5",{className:"text-sm font-medium text-right mb-2",children:"المخاوف الأساسية:"}),i.jsx("ul",{className:"space-y-1 text-sm text-muted-foreground text-right",children:T.fears.map((I,F)=>i.jsxs("li",{children:["• ",I]},F))})]}),T.wounds&&T.wounds.length>0&&i.jsxs("div",{children:[i.jsx("h5",{className:"text-sm font-medium text-right mb-2",children:"الجروح النفسية:"}),i.jsx("ul",{className:"space-y-1 text-sm text-muted-foreground text-right",children:T.wounds.map((I,F)=>i.jsxs("li",{children:["• ",I]},F))})]})]}),T.coping_mechanisms&&T.coping_mechanisms.length>0&&i.jsxs("div",{className:"bg-muted/50 p-3 rounded",children:[i.jsx("h5",{className:"text-sm font-medium text-right mb-2",children:"آليات التأقلم:"}),i.jsx("div",{className:"flex flex-wrap gap-1 justify-end",children:T.coping_mechanisms.map((I,F)=>i.jsx(He,{variant:"outline",className:"text-xs text-green-700 border-green-300",children:I},F))})]})]})})},O)))||i.jsxs("div",{className:"text-center py-8",children:[i.jsx(q0,{className:"w-12 h-12 mx-auto mb-4 text-muted-foreground"}),i.jsx("p",{className:"text-muted-foreground",children:"لم يتم تحديد شخصيات للتحليل النفسي"})]})})})]})}),i.jsx(rt,{value:"patterns",className:"space-y-4",children:i.jsxs(ae,{children:[i.jsx(Te,{children:i.jsxs(ke,{className:"text-right flex items-center gap-2",children:[i.jsx(ta,{className:"w-5 h-5"}),"الأنماط العاطفية المكتشفة (",((b=s.emotional_patterns)==null?void 0:b.length)||0,")"]})}),i.jsx(oe,{children:i.jsx("div",{className:"space-y-4",children:((j=s.emotional_patterns)==null?void 0:j.map((T,O)=>i.jsx(ae,{className:"border-l-4 border-l-blue-500",children:i.jsx(oe,{className:"pt-4",children:i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex justify-between items-start",children:[i.jsxs("div",{className:`flex items-center gap-2 px-3 py-1 rounded-lg border ${v(T.impact_level)}`,children:[i.jsx(Hn,{className:"w-4 h-4"}),i.jsx("span",{className:"text-sm font-medium",children:T.impact_level==="high"?"تأثير عالي":T.impact_level==="medium"?"تأثير متوسط":"تأثير منخفض"})]}),i.jsxs("div",{className:"text-right",children:[i.jsx("h4",{className:"font-semibold",children:T.pattern_name}),i.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[i.jsx("span",{className:"text-sm text-muted-foreground",children:"التكرار:"}),i.jsx(tt,{value:T.frequency*20,className:"w-16 h-2"}),i.jsxs("span",{className:"text-xs",children:[T.frequency,"x"]})]})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[T.triggers&&T.triggers.length>0&&i.jsxs("div",{children:[i.jsx("h5",{className:"text-sm font-medium text-right mb-2",children:"المحفزات:"}),i.jsx("ul",{className:"space-y-1 text-sm text-muted-foreground text-right",children:T.triggers.map((I,F)=>i.jsxs("li",{children:["• ",I]},F))})]}),T.manifestations&&T.manifestations.length>0&&i.jsxs("div",{children:[i.jsx("h5",{className:"text-sm font-medium text-right mb-2",children:"المظاهر:"}),i.jsx("ul",{className:"space-y-1 text-sm text-muted-foreground text-right",children:T.manifestations.map((I,F)=>i.jsxs("li",{children:["• ",I]},F))})]})]})]})})},O)))||i.jsxs("div",{className:"text-center py-8",children:[i.jsx(ta,{className:"w-12 h-12 mx-auto mb-4 text-muted-foreground"}),i.jsx("p",{className:"text-muted-foreground",children:"لم يتم اكتشاف أنماط عاطفية واضحة"})]})})})]})}),i.jsx(rt,{value:"development",className:"space-y-4",children:i.jsxs(ae,{children:[i.jsx(Te,{children:i.jsxs(ke,{className:"text-right flex items-center gap-2",children:[i.jsx(Hn,{className:"w-5 h-5"}),"أقواس التطور النفسي (",((N=s.development_arcs)==null?void 0:N.length)||0,")"]})}),i.jsx(oe,{children:i.jsx("div",{className:"space-y-4",children:((_=s.development_arcs)==null?void 0:_.map((T,O)=>{var I;return i.jsx(ae,{className:"border-l-4 border-l-green-500",children:i.jsx(oe,{className:"pt-4",children:i.jsxs("div",{className:"space-y-4",children:[i.jsx("div",{className:"flex justify-between items-start",children:i.jsxs("div",{className:"text-right",children:[i.jsx("h4",{className:"font-semibold text-lg",children:T.character_name}),i.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[i.jsx("span",{className:"text-sm text-muted-foreground",children:"جودة القوس:"}),i.jsx(tt,{value:T.arc_quality*100,className:"w-20 h-2"}),i.jsxs("span",{className:"text-sm",children:[(T.arc_quality*100).toFixed(0),"%"]})]})]})}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[i.jsxs("div",{className:"p-3 bg-blue-50 rounded",children:[i.jsx("h5",{className:"text-sm font-medium text-right mb-2",children:"الحالة الأولية:"}),i.jsx("p",{className:"text-sm text-muted-foreground text-right",children:T.starting_state})]}),i.jsxs("div",{className:"p-3 bg-yellow-50 rounded",children:[i.jsx("h5",{className:"text-sm font-medium text-right mb-2",children:"الأحداث المحورية:"}),i.jsx("ul",{className:"space-y-1 text-sm text-muted-foreground text-right",children:((I=T.key_events)==null?void 0:I.map((F,M)=>i.jsxs("li",{children:["• ",F]},M)))||i.jsx("li",{children:"لا توجد أحداث محددة"})})]}),i.jsxs("div",{className:"p-3 bg-green-50 rounded",children:[i.jsx("h5",{className:"text-sm font-medium text-right mb-2",children:"الحالة النهائية:"}),i.jsx("p",{className:"text-sm text-muted-foreground text-right",children:T.ending_state})]})]}),T.expected_changes&&T.expected_changes.length>0&&i.jsxs("div",{className:"bg-muted/50 p-3 rounded",children:[i.jsx("h5",{className:"text-sm font-medium text-right mb-2",children:"التغييرات المتوقعة:"}),i.jsx("ul",{className:"space-y-1 text-sm text-muted-foreground text-right",children:T.expected_changes.map((F,M)=>i.jsxs("li",{children:["• ",F]},M))})]})]})})},O)}))||i.jsxs("div",{className:"text-center py-8",children:[i.jsx(Hn,{className:"w-12 h-12 mx-auto mb-4 text-muted-foreground"}),i.jsx("p",{className:"text-muted-foreground",children:"لم يتم تحديد أقواس تطور واضحة"})]})})})]})}),i.jsx(rt,{value:"responses",className:"space-y-4",children:i.jsxs(ae,{children:[i.jsx(Te,{children:i.jsxs(ke,{className:"text-right flex items-center gap-2",children:[i.jsx(vr,{className:"w-5 h-5"}),"الاستجابات الواقعية المقترحة"]})}),i.jsx(oe,{children:i.jsx("div",{className:"space-y-3",children:((C=s.realistic_responses)==null?void 0:C.map((T,O)=>i.jsxs("div",{className:"flex gap-3 p-3 bg-purple-50 rounded-lg",children:[i.jsx(Rt,{className:"w-5 h-5 text-purple-600 flex-shrink-0 mt-0.5"}),i.jsx("p",{className:"text-sm text-right",children:T})]},O)))||i.jsxs("div",{className:"text-center py-8",children:[i.jsx(vr,{className:"w-12 h-12 mx-auto mb-4 text-muted-foreground"}),i.jsx("p",{className:"text-muted-foreground",children:"لا توجد اقتراحات لتحسين الاستجابات"})]})})})]})}),i.jsx(rt,{value:"recommendations",className:"space-y-4",children:i.jsxs(ae,{children:[i.jsx(Te,{children:i.jsxs(ke,{className:"text-right flex items-center gap-2",children:[i.jsx(En,{className:"w-5 h-5"}),"توصيات التطوير النفسي"]})}),i.jsx(oe,{children:i.jsx("div",{className:"space-y-3",children:((k=s.recommendations)==null?void 0:k.map((T,O)=>i.jsxs("div",{className:"flex gap-3 p-3 bg-blue-50 rounded-lg",children:[i.jsx(pS,{className:"w-5 h-5 text-blue-600 flex-shrink-0 mt-0.5"}),i.jsx("p",{className:"text-sm text-right",children:T})]},O)))||i.jsxs("div",{className:"text-center py-8",children:[i.jsx(Rt,{className:"w-12 h-12 mx-auto mb-4 text-green-500"}),i.jsx("p",{className:"text-muted-foreground",children:"المحتوى جيد ولا يحتاج توصيات إضافية"})]})})})]})})]}),i.jsxs(ae,{children:[i.jsx(Te,{children:i.jsxs(ke,{className:"text-right flex items-center gap-2",children:[i.jsx(hs,{className:"w-5 h-5"}),"ملخص التحليل النفسي"]})}),i.jsxs(oe,{children:[i.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-6 gap-4 text-center",children:[i.jsxs("div",{children:[i.jsx("div",{className:"text-2xl font-bold text-purple-600",children:s.characters_analyzed}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"شخصيات"})]}),i.jsxs("div",{children:[i.jsx("div",{className:"text-2xl font-bold text-blue-600",children:s.emotional_patterns_detected}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"أنماط عاطفية"})]}),i.jsxs("div",{children:[i.jsx("div",{className:"text-2xl font-bold text-red-600",children:s.psychological_wounds_identified}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"جروح نفسية"})]}),i.jsxs("div",{children:[i.jsx("div",{className:"text-2xl font-bold text-green-600",children:s.coping_mechanisms_found}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"آليات تأقلم"})]}),i.jsxs("div",{children:[i.jsx("div",{className:"text-2xl font-bold text-yellow-600",children:s.relationship_dynamics}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"ديناميكيات علاقات"})]}),i.jsxs("div",{children:[i.jsx("div",{className:"text-2xl font-bold text-orange-600",children:s.inconsistencies_detected}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"تناقضات"})]})]}),i.jsx(Ns,{className:"my-4"}),i.jsx("div",{className:"text-center",children:i.jsxs("div",{className:"inline-flex items-center gap-4 p-4 bg-gradient-to-r from-purple-50 to-purple-100 rounded-xl",children:[i.jsx(zt,{className:"w-8 h-8 text-purple-600"}),i.jsxs("div",{children:[i.jsxs("div",{className:"text-2xl font-bold text-purple-700",children:[(s.confidence_score*100).toFixed(0),"%"]}),i.jsx("p",{className:"text-purple-600",children:"ثقة التحليل النفسي"})]})]})})]})]}),i.jsx(ae,{children:i.jsx(oe,{className:"pt-6",children:i.jsxs("div",{className:"flex gap-3",children:[i.jsxs(xe,{variant:"outline",className:"flex-1",children:[i.jsx(gr,{className:"w-4 h-4 ml-2"}),"تصدير الملفات النفسية"]}),i.jsxs(xe,{variant:"outline",className:"flex-1",children:[i.jsx(Ey,{className:"w-4 h-4 ml-2"}),"مشاركة التحليل"]})]})})})]}):i.jsx(ae,{children:i.jsxs(oe,{className:"py-12 text-center",children:[i.jsx(zt,{className:"w-16 h-16 mx-auto mb-4 text-muted-foreground"}),i.jsx("h3",{className:"text-lg font-semibold mb-2",children:"لا توجد نتائج تحليل"}),i.jsx("p",{className:"text-muted-foreground",children:'قم بإدخال المحتوى في علامة التبويب "إدخال المحتوى" لبدء التحليل'})]})})};return i.jsx("div",{className:"w-full max-w-6xl mx-auto space-y-6",children:i.jsxs(zn,{value:o,onValueChange:l,children:[i.jsxs(On,{className:"grid w-full grid-cols-2",children:[i.jsx(nt,{value:"input",children:"إدخال المحتوى"}),i.jsx(nt,{value:"results",children:"نتائج التحليل"})]}),i.jsx(rt,{value:"input",children:p()}),i.jsx(rt,{value:"results",children:m()})]})})},rmt=()=>{const[t,e]=E.useState(""),[n,r]=E.useState(!1),[s,a]=E.useState(null),[o,l]=E.useState("input"),[c,u]=E.useState({focus_area:"complete",cultural_framework:"arabic_islamic",include_dream_generation:!0,analyze_symbolic_patterns:!0}),d=E.useRef(null),h=async()=>{if(!t.trim()){alert("يرجى إدخال المحتوى للتحليل");return}r(!0),l("results");try{const g=await fetch("/api/specialized-tools/dreams/analyze",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({content:t,context:c,options:{include_symbol_interpretation:!0,analyze_dream_sequences:!0,generate_suggestions:!0}})});if(g.ok){const x=await g.json();a(x.dreams_analysis)}else alert("حدث خطأ أثناء التحليل")}catch(g){console.error("خطأ في تحليل الأحلام والرموز:",g),alert("حدث خطأ في الاتصال")}finally{r(!1)}},f=g=>{var b;const x=(b=g.target.files)==null?void 0:b[0];if(x){const j=new FileReader;j.onload=N=>{var C;const _=(C=N.target)==null?void 0:C.result;e(_)},j.readAsText(x)}},A=g=>{switch(g){case"nature":return i.jsx(o5e,{className:"w-4 h-4 text-green-500"});case"animals":return i.jsx(Jb,{className:"w-4 h-4 text-yellow-500"});case"colors":return i.jsx(tr,{className:"w-4 h-4 text-purple-500"});case"religious":return i.jsx(dr,{className:"w-4 h-4 text-blue-500"});case"cultural":return i.jsx(uce,{className:"w-4 h-4 text-red-500"});default:return i.jsx(Vn,{className:"w-4 h-4 text-gray-500"})}},v=g=>{switch(g){case"positive":return"bg-green-100 text-green-800 border-green-200";case"negative":return"bg-red-100 text-red-800 border-red-200";case"warning":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"guidance":return"bg-blue-100 text-blue-800 border-blue-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},p=()=>i.jsxs("div",{className:"space-y-6",children:[i.jsxs(ae,{children:[i.jsxs(Te,{children:[i.jsxs(ke,{className:"text-right flex items-center gap-2",children:[i.jsx(Vn,{className:"w-5 h-5"}),"تحليل الأحلام والرموز"]}),i.jsx("p",{className:"text-sm text-muted-foreground text-right",children:"أدخل النص لتفسير الرموز والأحلام وإضافة العمق الرمزي والنفسي للمحتوى"})]}),i.jsxs(oe,{className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium text-right block",children:"النص للتحليل:"}),i.jsx(Zi,{value:t,onChange:g=>e(g.target.value),placeholder:"أدخل النص الذي يحتوي على رموز أو أحلام أو مشاهد رمزية هنا...",className:"min-h-[300px] text-right resize-none",dir:"rtl"}),i.jsxs("div",{className:"flex justify-between items-center text-xs text-muted-foreground",children:[i.jsx("span",{children:"الحد الأدنى: 100 كلمة"}),i.jsxs("span",{children:[t.split(" ").filter(g=>g.length>0).length," كلمة"]})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium text-right block",children:"مجال التركيز:"}),i.jsxs("select",{value:c.focus_area,onChange:g=>u({...c,focus_area:g.target.value}),className:"w-full p-2 border rounded-lg text-right",children:[i.jsx("option",{value:"complete",children:"تحليل شامل"}),i.jsx("option",{value:"symbols",children:"الرموز فقط"}),i.jsx("option",{value:"dreams",children:"الأحلام فقط"}),i.jsx("option",{value:"patterns",children:"الأنماط الرمزية"}),i.jsx("option",{value:"cultural",children:"السياق الثقافي"}),i.jsx("option",{value:"psychological",children:"الربط النفسي"})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium text-right block",children:"الإطار الثقافي:"}),i.jsxs("select",{value:c.cultural_framework,onChange:g=>u({...c,cultural_framework:g.target.value}),className:"w-full p-2 border rounded-lg text-right",children:[i.jsx("option",{value:"arabic_islamic",children:"عربي إسلامي"}),i.jsx("option",{value:"arabic_traditional",children:"عربي تقليدي"}),i.jsx("option",{value:"universal",children:"عالمي"}),i.jsx("option",{value:"psychological",children:"نفسي"}),i.jsx("option",{value:"literary",children:"أدبي"})]})]})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsx("h4",{className:"text-sm font-medium text-right",children:"خيارات التحليل:"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[i.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[i.jsx("input",{type:"checkbox",checked:c.include_dream_generation,onChange:g=>u({...c,include_dream_generation:g.target.checked})}),i.jsx("span",{children:"إنتاج أحلام مقترحة"})]}),i.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[i.jsx("input",{type:"checkbox",checked:c.analyze_symbolic_patterns,onChange:g=>u({...c,analyze_symbolic_patterns:g.target.checked})}),i.jsx("span",{children:"تحليل الأنماط الرمزية"})]})]})]}),i.jsxs("div",{className:"flex gap-3 pt-4",children:[i.jsx(xe,{onClick:h,disabled:n||t.length<50,className:"flex-1 bg-gradient-to-r from-amber-500 to-amber-600 hover:from-amber-600 hover:to-amber-700",children:n?i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"animate-spin w-4 h-4 border-2 border-white border-t-transparent rounded-full ml-2"}),"جاري التحليل..."]}):i.jsxs(i.Fragment,{children:[i.jsx(kl,{className:"w-4 h-4 ml-2"}),"بدء تفسير الرموز"]})}),i.jsxs(xe,{variant:"outline",onClick:()=>{var g;return(g=d.current)==null?void 0:g.click()},children:[i.jsx(xn,{className:"w-4 h-4 ml-2"}),"رفع ملف"]}),i.jsx(xe,{variant:"outline",onClick:()=>e(""),children:"مسح"})]}),i.jsx("input",{ref:d,type:"file",accept:".txt,.md",onChange:f,className:"hidden"})]})]}),i.jsxs(ae,{children:[i.jsx(Te,{children:i.jsxs(ke,{className:"text-right text-sm flex items-center gap-2",children:[i.jsx(Go,{className:"w-4 h-4"}),"نصائح للحصول على أفضل النتائج"]})}),i.jsx(oe,{children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx("h4",{className:"font-medium text-right",children:"محتوى مناسب للتحليل:"}),i.jsxs("ul",{className:"space-y-1 text-muted-foreground text-right",children:[i.jsx("li",{children:"• مشاهد الأحلام والرؤى"}),i.jsx("li",{children:"• وصف العناصر الطبيعية"}),i.jsx("li",{children:"• الرموز الثقافية والدينية"}),i.jsx("li",{children:"• المشاهد الرمزية والمجازية"})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("h4",{className:"font-medium text-right",children:"يركز التحليل على:"}),i.jsxs("ul",{className:"space-y-1 text-muted-foreground text-right",children:[i.jsx("li",{children:"• التفسير الديني والثقافي"}),i.jsx("li",{children:"• المعاني النفسية والعاطفية"}),i.jsx("li",{children:"• الربط بين الرموز والسياق"}),i.jsx("li",{children:"• إنتاج محتوى رمزي جديد"})]})]})]})})]})]}),m=()=>{var g,x,b,j,N,_;return n?i.jsx(ae,{children:i.jsx(oe,{className:"py-12",children:i.jsxs("div",{className:"text-center space-y-4",children:[i.jsx("div",{className:"animate-spin w-12 h-12 border-4 border-amber-500 border-t-transparent rounded-full mx-auto"}),i.jsx("h3",{className:"text-lg font-semibold",children:"جاري تفسير الرموز والأحلام..."}),i.jsx("p",{className:"text-muted-foreground",children:"يتم الآن تحليل العمق الرمزي والمعاني الخفية في النص"}),i.jsx(tt,{value:65,className:"w-1/2 mx-auto"})]})})}):s?i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[i.jsx(ae,{children:i.jsxs(oe,{className:"pt-6 text-center",children:[i.jsx("div",{className:"flex items-center justify-center w-12 h-12 mx-auto mb-3 bg-amber-100 rounded-lg",children:i.jsx(tr,{className:"w-6 h-6 text-amber-600"})}),i.jsx("div",{className:"text-2xl font-bold text-amber-600",children:s.symbols_detected}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"رموز مكتشفة"})]})}),i.jsx(ae,{children:i.jsxs(oe,{className:"pt-6 text-center",children:[i.jsx("div",{className:"flex items-center justify-center w-12 h-12 mx-auto mb-3 bg-blue-100 rounded-lg",children:i.jsx(jv,{className:"w-6 h-6 text-blue-600"})}),i.jsx("div",{className:"text-2xl font-bold text-blue-600",children:s.dreams_found}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"أحلام محللة"})]})}),i.jsx(ae,{children:i.jsxs(oe,{className:"pt-6 text-center",children:[i.jsx("div",{className:"flex items-center justify-center w-12 h-12 mx-auto mb-3 bg-purple-100 rounded-lg",children:i.jsx(Qn,{className:"w-6 h-6 text-purple-600"})}),i.jsx("div",{className:"text-2xl font-bold text-purple-600",children:s.symbolic_patterns}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"أنماط رمزية"})]})}),i.jsx(ae,{children:i.jsxs(oe,{className:"pt-6 text-center",children:[i.jsx("div",{className:"flex items-center justify-center w-12 h-12 mx-auto mb-3 bg-green-100 rounded-lg",children:i.jsx(Rt,{className:"w-6 h-6 text-green-600"})}),i.jsxs("div",{className:"text-2xl font-bold text-green-600",children:[(s.cultural_authenticity*100).toFixed(0),"%"]}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"الأصالة الثقافية"})]})})]}),i.jsxs(zn,{defaultValue:"symbols",className:"w-full",children:[i.jsxs(On,{className:"grid w-full grid-cols-6",children:[i.jsx(nt,{value:"symbols",children:"الرموز"}),i.jsx(nt,{value:"dreams",children:"الأحلام"}),i.jsx(nt,{value:"patterns",children:"الأنماط"}),i.jsx(nt,{value:"suggestions",children:"اقتراحات"}),i.jsx(nt,{value:"recommendations",children:"توصيات"}),i.jsx(nt,{value:"summary",children:"ملخص"})]}),i.jsx(rt,{value:"symbols",className:"space-y-4",children:i.jsxs(ae,{children:[i.jsx(Te,{children:i.jsxs(ke,{className:"text-right flex items-center gap-2",children:[i.jsx(tr,{className:"w-5 h-5"}),"الرموز المكتشفة (",s.symbols_detected,")"]})}),i.jsx(oe,{children:i.jsx("div",{className:"space-y-4",children:((g=s.symbols_found)==null?void 0:g.map((C,k)=>i.jsx(ae,{className:"border-l-4 border-l-amber-500",children:i.jsx(oe,{className:"pt-4",children:i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex justify-between items-start",children:[i.jsxs("div",{className:"text-right",children:[i.jsxs("h4",{className:"font-semibold text-lg flex items-center gap-2",children:[A(C.category),C.name]}),i.jsx(He,{variant:"outline",children:C.category})]}),i.jsx("div",{className:`px-3 py-1 rounded-lg border text-sm ${v(C.interpretation_type)}`,children:C.interpretation_type==="positive"?"إيجابي":C.interpretation_type==="negative"?"سلبي":C.interpretation_type==="warning"?"تحذيري":C.interpretation_type==="guidance"?"إرشادي":"محايد"})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx("h5",{className:"text-sm font-medium text-right",children:"المعنى العربي التقليدي:"}),i.jsx("p",{className:"text-sm text-muted-foreground text-right",children:C.arabic_meaning})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("h5",{className:"text-sm font-medium text-right",children:"التفسير الإسلامي:"}),i.jsx("p",{className:"text-sm text-muted-foreground text-right",children:C.islamic_interpretation})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx("h5",{className:"text-sm font-medium text-right",children:"المعنى النفسي:"}),i.jsx("p",{className:"text-sm text-muted-foreground text-right",children:C.psychological_meaning})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("h5",{className:"text-sm font-medium text-right",children:"السياق الثقافي:"}),i.jsx("p",{className:"text-sm text-muted-foreground text-right",children:C.cultural_context})]})]}),i.jsxs("div",{className:"bg-muted/50 p-3 rounded",children:[i.jsx("h5",{className:"text-sm font-medium text-right mb-1",children:"الارتباط العاطفي:"}),i.jsx(He,{variant:"secondary",children:C.emotional_association})]})]})})},k)))||i.jsxs("div",{className:"text-center py-8",children:[i.jsx(tr,{className:"w-12 h-12 mx-auto mb-4 text-muted-foreground"}),i.jsx("p",{className:"text-muted-foreground",children:"لم يتم اكتشاف رموز واضحة في النص"})]})})})]})}),i.jsx(rt,{value:"dreams",className:"space-y-4",children:i.jsxs(ae,{children:[i.jsx(Te,{children:i.jsxs(ke,{className:"text-right flex items-center gap-2",children:[i.jsx(jv,{className:"w-5 h-5"}),"الأحلام المحللة (",s.dreams_found,")"]})}),i.jsx(oe,{children:i.jsx("div",{className:"space-y-4",children:((x=s.dreams_found_data)==null?void 0:x.map((C,k)=>i.jsx(ae,{className:"border-l-4 border-l-blue-500",children:i.jsx(oe,{className:"pt-4",children:i.jsxs("div",{className:"space-y-4",children:[i.jsx("div",{className:"flex justify-between items-start",children:i.jsxs("div",{className:"text-right",children:[i.jsxs("h4",{className:"font-semibold text-lg",children:["حلم ",C.dreamer]}),i.jsx(He,{variant:"outline",children:C.dream_type}),i.jsx(He,{variant:"secondary",className:"ml-2",children:C.emotional_tone})]})}),i.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[i.jsx("h5",{className:"text-sm font-medium text-right mb-2",children:"محتوى الحلم:"}),i.jsx("p",{className:"text-sm text-right leading-relaxed",children:C.dream_content})]}),C.symbols_present&&C.symbols_present.length>0&&i.jsxs("div",{children:[i.jsx("h5",{className:"text-sm font-medium text-right mb-2",children:"الرموز الموجودة:"}),i.jsx("div",{className:"flex flex-wrap gap-1 justify-end",children:C.symbols_present.map((T,O)=>i.jsx(He,{variant:"outline",className:"text-xs",children:T},O))})]}),C.main_themes&&C.main_themes.length>0&&i.jsxs("div",{children:[i.jsx("h5",{className:"text-sm font-medium text-right mb-2",children:"المواضيع الرئيسية:"}),i.jsx("div",{className:"flex flex-wrap gap-1 justify-end",children:C.main_themes.map((T,O)=>i.jsx(He,{variant:"secondary",className:"text-xs",children:T},O))})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx("h5",{className:"text-sm font-medium text-right",children:"التفسير:"}),i.jsx("p",{className:"text-sm text-muted-foreground text-right",children:C.interpretation})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("h5",{className:"text-sm font-medium text-right",children:"الأهمية النفسية:"}),i.jsx("p",{className:"text-sm text-muted-foreground text-right",children:C.psychological_significance})]})]}),i.jsxs("div",{className:"bg-muted/50 p-3 rounded",children:[i.jsx("h5",{className:"text-sm font-medium text-right mb-1",children:"الوظيفة السردية:"}),i.jsx("p",{className:"text-sm text-muted-foreground text-right",children:C.narrative_function})]})]})})},k)))||i.jsxs("div",{className:"text-center py-8",children:[i.jsx(jv,{className:"w-12 h-12 mx-auto mb-4 text-muted-foreground"}),i.jsx("p",{className:"text-muted-foreground",children:"لم يتم العثور على أحلام واضحة في النص"})]})})})]})}),i.jsx(rt,{value:"patterns",className:"space-y-4",children:i.jsxs(ae,{children:[i.jsx(Te,{children:i.jsxs(ke,{className:"text-right flex items-center gap-2",children:[i.jsx(Qn,{className:"w-5 h-5"}),"الأنماط الرمزية (",s.symbolic_patterns,")"]})}),i.jsx(oe,{children:i.jsx("div",{className:"space-y-4",children:((b=s.symbolic_patterns_data)==null?void 0:b.map((C,k)=>i.jsx(ae,{className:"border-l-4 border-l-purple-500",children:i.jsx(oe,{className:"pt-4",children:i.jsxs("div",{className:"space-y-3",children:[i.jsx("div",{className:"flex justify-between items-start",children:i.jsxs("div",{className:"text-right",children:[i.jsx("h4",{className:"font-semibold text-lg",children:C.pattern_name}),i.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[i.jsx("span",{className:"text-sm text-muted-foreground",children:"الفعالية:"}),i.jsx(tt,{value:C.effectiveness_score*100,className:"w-20 h-2"}),i.jsxs("span",{className:"text-sm",children:[(C.effectiveness_score*100).toFixed(0),"%"]})]})]})}),i.jsxs("div",{className:"bg-purple-50 p-3 rounded",children:[i.jsx("h5",{className:"text-sm font-medium text-right mb-2",children:"المعنى:"}),i.jsx("p",{className:"text-sm text-muted-foreground text-right",children:C.meaning})]}),C.symbols_involved&&C.symbols_involved.length>0&&i.jsxs("div",{children:[i.jsx("h5",{className:"text-sm font-medium text-right mb-2",children:"الرموز المتضمنة:"}),i.jsx("div",{className:"flex flex-wrap gap-1 justify-end",children:C.symbols_involved.map((T,O)=>i.jsx(He,{variant:"outline",className:"text-xs",children:T},O))})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx("h5",{className:"text-sm font-medium text-right",children:"الأهمية الثقافية:"}),i.jsx("p",{className:"text-sm text-muted-foreground text-right",children:C.cultural_significance})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("h5",{className:"text-sm font-medium text-right",children:"سياق الاستخدام:"}),i.jsx("p",{className:"text-sm text-muted-foreground text-right",children:C.usage_context})]})]})]})})},k)))||i.jsxs("div",{className:"text-center py-8",children:[i.jsx(Qn,{className:"w-12 h-12 mx-auto mb-4 text-muted-foreground"}),i.jsx("p",{className:"text-muted-foreground",children:"لم يتم اكتشاف أنماط رمزية واضحة"})]})})})]})}),i.jsx(rt,{value:"suggestions",className:"space-y-4",children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs(ae,{children:[i.jsx(Te,{children:i.jsxs(ke,{className:"text-right flex items-center gap-2",children:[i.jsx(nr,{className:"w-5 h-5"}),"رموز مقترحة"]})}),i.jsx(oe,{children:i.jsx("div",{className:"space-y-3",children:((j=s.suggested_symbols)==null?void 0:j.map((C,k)=>i.jsxs("div",{className:"p-3 bg-green-50 rounded-lg",children:[i.jsxs("div",{className:"flex justify-between items-start mb-2",children:[i.jsx(He,{variant:"outline",children:C.category}),i.jsx("h5",{className:"font-medium text-right",children:C.symbol})]}),i.jsx("p",{className:"text-sm text-muted-foreground text-right mb-2",children:C.reason}),i.jsxs("div",{className:"bg-white p-2 rounded text-sm text-right",children:[i.jsx("strong",{children:"مثال:"})," ",C.usage_example]})]},k)))||i.jsxs("div",{className:"text-center py-8",children:[i.jsx(nr,{className:"w-12 h-12 mx-auto mb-4 text-muted-foreground"}),i.jsx("p",{className:"text-muted-foreground",children:"لا توجد اقتراحات رموز جديدة"})]})})})]}),i.jsxs(ae,{children:[i.jsx(Te,{children:i.jsxs(ke,{className:"text-right flex items-center gap-2",children:[i.jsx(jv,{className:"w-5 h-5"}),"أحلام مقترحة"]})}),i.jsx(oe,{children:i.jsx("div",{className:"space-y-3",children:((N=s.suggested_dreams)==null?void 0:N.map((C,k)=>i.jsxs("div",{className:"p-3 bg-blue-50 rounded-lg",children:[i.jsxs("div",{className:"flex justify-between items-start mb-2",children:[i.jsx(He,{variant:"outline",children:C.narrative_function}),i.jsx("h5",{className:"font-medium text-right",children:C.dreamer})]}),i.jsx("div",{className:"bg-white p-3 rounded mb-2",children:i.jsx("p",{className:"text-sm text-right",children:C.dream_content})}),i.jsxs("p",{className:"text-sm text-muted-foreground text-right mb-2",children:[i.jsx("strong",{children:"التفسير:"})," ",C.interpretation]}),C.symbols&&C.symbols.length>0&&i.jsx("div",{className:"flex flex-wrap gap-1 justify-end",children:C.symbols.map((T,O)=>i.jsx(He,{variant:"secondary",className:"text-xs",children:T},O))})]},k)))||i.jsxs("div",{className:"text-center py-8",children:[i.jsx(jv,{className:"w-12 h-12 mx-auto mb-4 text-muted-foreground"}),i.jsx("p",{className:"text-muted-foreground",children:"لا توجد اقتراحات أحلام جديدة"})]})})})]})]})}),i.jsx(rt,{value:"recommendations",className:"space-y-4",children:i.jsxs(ae,{children:[i.jsx(Te,{children:i.jsxs(ke,{className:"text-right flex items-center gap-2",children:[i.jsx(En,{className:"w-5 h-5"}),"توصيات التطوير الرمزي"]})}),i.jsx(oe,{children:i.jsx("div",{className:"space-y-3",children:((_=s.recommendations)==null?void 0:_.map((C,k)=>i.jsxs("div",{className:"flex gap-3 p-3 bg-amber-50 rounded-lg",children:[i.jsx(pS,{className:"w-5 h-5 text-amber-600 flex-shrink-0 mt-0.5"}),i.jsx("p",{className:"text-sm text-right",children:C})]},k)))||i.jsxs("div",{className:"text-center py-8",children:[i.jsx(Rt,{className:"w-12 h-12 mx-auto mb-4 text-green-500"}),i.jsx("p",{className:"text-muted-foreground",children:"المحتوى جيد ولا يحتاج توصيات إضافية"})]})})})]})}),i.jsx(rt,{value:"summary",className:"space-y-4",children:i.jsxs(ae,{children:[i.jsx(Te,{children:i.jsxs(ke,{className:"text-right flex items-center gap-2",children:[i.jsx(hs,{className:"w-5 h-5"}),"ملخص تحليل الرموز والأحلام"]})}),i.jsx(oe,{children:i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-6 gap-4 text-center",children:[i.jsxs("div",{children:[i.jsx("div",{className:"text-2xl font-bold text-amber-600",children:s.symbols_detected}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"رموز"})]}),i.jsxs("div",{children:[i.jsx("div",{className:"text-2xl font-bold text-blue-600",children:s.dreams_found}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"أحلام"})]}),i.jsxs("div",{children:[i.jsx("div",{className:"text-2xl font-bold text-purple-600",children:s.symbolic_patterns}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"أنماط"})]}),i.jsxs("div",{children:[i.jsx("div",{className:"text-2xl font-bold text-green-600",children:s.psychological_connections}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"ربط نفسي"})]}),i.jsxs("div",{children:[i.jsxs("div",{className:"text-2xl font-bold text-red-600",children:[(s.symbolic_density*10).toFixed(1),"%"]}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"كثافة رمزية"})]}),i.jsxs("div",{children:[i.jsxs("div",{className:"text-2xl font-bold text-orange-600",children:[(s.cultural_authenticity*100).toFixed(0),"%"]}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"أصالة ثقافية"})]})]}),i.jsx(Ns,{}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[i.jsxs("div",{className:"text-center p-4 bg-gradient-to-r from-amber-50 to-amber-100 rounded-xl",children:[i.jsx(Vn,{className:"w-8 h-8 mx-auto mb-2 text-amber-600"}),i.jsxs("div",{className:"text-xl font-bold text-amber-700",children:[(s.confidence_score*100).toFixed(0),"%"]}),i.jsx("p",{className:"text-amber-600 text-sm",children:"ثقة التحليل"})]}),i.jsxs("div",{className:"text-center p-4 bg-gradient-to-r from-green-50 to-green-100 rounded-xl",children:[i.jsx(Rt,{className:"w-8 h-8 mx-auto mb-2 text-green-600"}),i.jsxs("div",{className:"text-xl font-bold text-green-700",children:[(s.cultural_authenticity*100).toFixed(0),"%"]}),i.jsx("p",{className:"text-green-600 text-sm",children:"الأصالة الثقافية"})]}),i.jsxs("div",{className:"text-center p-4 bg-gradient-to-r from-purple-50 to-purple-100 rounded-xl",children:[i.jsx(Qn,{className:"w-8 h-8 mx-auto mb-2 text-purple-600"}),i.jsxs("div",{className:"text-xl font-bold text-purple-700",children:[(s.symbolic_density*10).toFixed(1),"%"]}),i.jsx("p",{className:"text-purple-600 text-sm",children:"الكثافة الرمزية"})]})]})]})})]})})]}),i.jsx(ae,{children:i.jsx(oe,{className:"pt-6",children:i.jsxs("div",{className:"flex gap-3",children:[i.jsxs(xe,{variant:"outline",className:"flex-1",children:[i.jsx(gr,{className:"w-4 h-4 ml-2"}),"تصدير قاموس الرموز"]}),i.jsxs(xe,{variant:"outline",className:"flex-1",children:[i.jsx(Ey,{className:"w-4 h-4 ml-2"}),"مشاركة التفسيرات"]})]})})})]}):i.jsx(ae,{children:i.jsxs(oe,{className:"py-12 text-center",children:[i.jsx(Vn,{className:"w-16 h-16 mx-auto mb-4 text-muted-foreground"}),i.jsx("h3",{className:"text-lg font-semibold mb-2",children:"لا توجد نتائج تحليل"}),i.jsx("p",{className:"text-muted-foreground",children:'قم بإدخال المحتوى في علامة التبويب "إدخال المحتوى" لبدء التحليل'})]})})};return i.jsx("div",{className:"w-full max-w-6xl mx-auto space-y-6",children:i.jsxs(zn,{value:o,onValueChange:l,children:[i.jsxs(On,{className:"grid w-full grid-cols-2",children:[i.jsx(nt,{value:"input",children:"إدخال المحتوى"}),i.jsx(nt,{value:"results",children:"نتائج التحليل"})]}),i.jsx(rt,{value:"input",children:p()}),i.jsx(rt,{value:"results",children:m()})]})})},imt=()=>{const[t,e]=E.useState("overview"),[n,r]=E.useState(null),[s,a]=E.useState({}),[o,l]=E.useState({}),[c,u]=E.useState(!0),[d,h]=E.useState([]),[f,A]=E.useState(""),v=[{id:"forensic",name:"محلل المنطق الجنائي",description:"ضمان الدقة الإجرائية في روايات الجريمة والغموض",icon:lR,color:"bg-red-500",gradient:"from-red-500 to-red-600",features:["تحليل الأدلة الجنائية","بناء خط زمني للأحداث","كشف التناقضات الإجرائية","تقييم مصداقية التحقيق","اقتراح سيناريوهات محتملة"]},{id:"belief",name:"محلل المعتقدات والمذاهب",description:"تطوير عمق روحي وعقائدي أصيل للشخصيات",icon:ta,color:"bg-green-500",gradient:"from-green-500 to-green-600",features:["تحليل الأنظمة العقائدية","تقييم الأصالة الثقافية","تحليل القيم والمبادئ","كشف الصراعات الدينية","تطوير الممارسات الروحية"]},{id:"conflict",name:"مخطط الصراعات الاجتماعية",description:"بناء صراعات اجتماعية معقدة وواقعية",icon:Wn,color:"bg-blue-500",gradient:"from-blue-500 to-blue-600",features:["تحديد المجموعات الاجتماعية","تحليل ديناميكيات القوة","بناء شبكة العلاقات","تطوير سيناريوهات التصعيد","اقتراح استراتيجيات الحل"]},{id:"psychology",name:"محاكي الشخصيات النفسية",description:"إنشاء شخصيات ذات عمق نفسي واقعي",icon:zt,color:"bg-purple-500",gradient:"from-purple-500 to-purple-600",features:["تحليل الأنماط النفسية","تطوير الجروح العاطفية","تحديد آليات التأقلم","بناء أقواس التطور","ضمان الاستجابات الواقعية"]},{id:"dreams",name:"مفسر الأحلام والرموز",description:"إضافة عمق رمزي ونفسي للنصوص",icon:Vn,color:"bg-amber-500",gradient:"from-amber-500 to-amber-600",features:["تفسير الرموز والإشارات","تحليل الأحلام الأدبية","ربط الرموز بالسياق النفسي","التفسير الثقافي والديني","إنتاج محتوى رمزي جديد"]}];E.useEffect(()=>{p()},[]);const p=async()=>{var b;try{u(!0);const j=await fetch("/api/specialized-tools/stats");if(j.ok){const C=await j.json();a(((b=C.stats)==null?void 0:b.tool_usage)||{})}const N=await fetch("/api/specialized-tools/capabilities");if(N.ok){const C=await N.json();l(C.capabilities||{})}const _=await fetch("/api/specialized-tools/history/demo?limit=10");if(_.ok){const C=await _.json();h(C.history||[])}}catch(j){console.error("خطأ في تحميل بيانات الأدوات:",j)}finally{u(!1)}},m=b=>{const j=b.icon,N=s[b.id]||{usage_count:0,avg_confidence:0,avg_rating:0};return i.jsxs(ae,{className:"group hover:shadow-lg transition-all duration-300 border-r-4 border-r-transparent hover:border-r-blue-500",children:[i.jsxs(Te,{className:"pb-3",children:[i.jsxs("div",{className:"flex items-start justify-between",children:[i.jsx("div",{className:`p-3 rounded-lg bg-gradient-to-r ${b.gradient} text-white`,children:i.jsx(j,{className:"w-6 h-6"})}),i.jsxs("div",{className:"flex flex-col items-end gap-1",children:[i.jsxs(He,{variant:"secondary",className:"text-xs",children:[N.usage_count," استخدام"]}),N.avg_rating>0&&i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(tr,{className:"w-3 h-3 text-yellow-500 fill-current"}),i.jsx("span",{className:"text-xs text-muted-foreground",children:N.avg_rating.toFixed(1)})]})]})]}),i.jsx(ke,{className:"text-lg font-bold text-right",children:b.name}),i.jsx("p",{className:"text-sm text-muted-foreground text-right leading-relaxed",children:b.description})]}),i.jsx(oe,{children:i.jsxs("div",{className:"space-y-4",children:[N.avg_confidence>0&&i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("span",{className:"text-sm font-medium",children:"مؤشر الثقة"}),i.jsxs("span",{className:"text-sm text-muted-foreground",children:[(N.avg_confidence*100).toFixed(0),"%"]})]}),i.jsx(tt,{value:N.avg_confidence*100,className:"h-2"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("h4",{className:"text-sm font-semibold text-right",children:"المميزات الرئيسية:"}),i.jsxs("div",{className:"grid grid-cols-1 gap-1",children:[b.features.slice(0,3).map((_,C)=>i.jsxs("div",{className:"flex items-center gap-2 text-right",children:[i.jsx(Rt,{className:"w-3 h-3 text-green-500 flex-shrink-0"}),i.jsx("span",{className:"text-xs text-muted-foreground",children:_})]},C)),b.features.length>3&&i.jsxs("span",{className:"text-xs text-blue-500 cursor-pointer hover:underline",children:["+",b.features.length-3," مميزة أخرى"]})]})]}),i.jsxs("div",{className:"flex gap-2 pt-2",children:[i.jsxs(xe,{onClick:()=>{r(b.id),e("analysis")},className:"flex-1 bg-gradient-to-r from-blue-500 to-blue-600 hover:from-blue-600 hover:to-blue-700",size:"sm",children:[i.jsx(vr,{className:"w-4 h-4 ml-2"}),"تحليل جديد"]}),i.jsx(xe,{variant:"outline",size:"sm",onClick:()=>{},children:i.jsx(Go,{className:"w-4 h-4"})})]})]})})]},b.id)},g=()=>i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[i.jsx(ae,{className:"text-center",children:i.jsxs(oe,{className:"pt-6",children:[i.jsx("div",{className:"flex items-center justify-center w-12 h-12 mx-auto mb-4 bg-blue-100 rounded-lg",children:i.jsx(En,{className:"w-6 h-6 text-blue-600"})}),i.jsx("div",{className:"text-2xl font-bold text-blue-600",children:"5"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"أدوات متخصصة"})]})}),i.jsx(ae,{className:"text-center",children:i.jsxs(oe,{className:"pt-6",children:[i.jsx("div",{className:"flex items-center justify-center w-12 h-12 mx-auto mb-4 bg-green-100 rounded-lg",children:i.jsx(Hn,{className:"w-6 h-6 text-green-600"})}),i.jsx("div",{className:"text-2xl font-bold text-green-600",children:Object.values(s).reduce((b,j)=>b+j.usage_count,0)}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"إجمالي الاستخدامات"})]})}),i.jsx(ae,{className:"text-center",children:i.jsxs(oe,{className:"pt-6",children:[i.jsx("div",{className:"flex items-center justify-center w-12 h-12 mx-auto mb-4 bg-yellow-100 rounded-lg",children:i.jsx(tr,{className:"w-6 h-6 text-yellow-600"})}),i.jsx("div",{className:"text-2xl font-bold text-yellow-600",children:Object.values(s).length>0?(Object.values(s).reduce((b,j)=>b+j.avg_rating,0)/Object.values(s).length).toFixed(1):"0.0"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"متوسط التقييم"})]})}),i.jsx(ae,{className:"text-center",children:i.jsxs(oe,{className:"pt-6",children:[i.jsx("div",{className:"flex items-center justify-center w-12 h-12 mx-auto mb-4 bg-purple-100 rounded-lg",children:i.jsx(hs,{className:"w-6 h-6 text-purple-600"})}),i.jsxs("div",{className:"text-2xl font-bold text-purple-600",children:[Object.values(s).length>0?(Object.values(s).reduce((b,j)=>b+j.avg_confidence,0)/Object.values(s).length*100).toFixed(0):"0","%"]}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"متوسط الثقة"})]})})]}),i.jsxs(ae,{children:[i.jsx(Te,{children:i.jsxs(ke,{className:"text-right flex items-center gap-2",children:[i.jsx(kl,{className:"w-5 h-5"}),"اكتشف الأدوات المتخصصة"]})}),i.jsxs(oe,{children:[i.jsxs("div",{className:"flex gap-4 mb-6",children:[i.jsxs("div",{className:"flex-1 relative",children:[i.jsx(kl,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-muted-foreground"}),i.jsx("input",{type:"text",placeholder:"ابحث في الأدوات والمميزات...",className:"w-full pl-10 pr-4 py-2 border rounded-lg text-right",value:f,onChange:b=>A(b.target.value)})]}),i.jsxs(xe,{variant:"outline",size:"sm",children:[i.jsx(gS,{className:"w-4 h-4 ml-2"}),"تصفية"]})]}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:v.filter(b=>f===""||b.name.includes(f)||b.description.includes(f)||b.features.some(j=>j.includes(f))).map(m)})]})]}),d.length>0&&i.jsxs(ae,{children:[i.jsx(Te,{children:i.jsxs(ke,{className:"text-right flex items-center gap-2",children:[i.jsx(xr,{className:"w-5 h-5"}),"التحليلات الأخيرة"]})}),i.jsx(oe,{children:i.jsx("div",{className:"space-y-3",children:d.slice(0,5).map((b,j)=>{var N;return i.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/50 rounded-lg",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:`w-2 h-2 rounded-full ${b.confidence_score>.8?"bg-green-500":b.confidence_score>.6?"bg-yellow-500":"bg-red-500"}`}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-right",children:((N=v.find(_=>_.id===b.tool_type))==null?void 0:N.name)||b.tool_type}),i.jsxs("p",{className:"text-xs text-muted-foreground text-right",children:["ثقة: ",(b.confidence_score*100).toFixed(0),"%"]})]})]}),i.jsx("div",{className:"text-left",children:i.jsx("p",{className:"text-xs text-muted-foreground",children:new Date(b.timestamp).toLocaleDateString("ar-SA")})})]},j)})})})]})]}),x=()=>{if(!n)return i.jsx(ae,{children:i.jsxs(oe,{className:"py-8 text-center",children:[i.jsx(Qn,{className:"w-12 h-12 mx-auto mb-4 text-muted-foreground"}),i.jsx("h3",{className:"text-lg font-semibold mb-2",children:"اختر أداة للتحليل"}),i.jsx("p",{className:"text-muted-foreground",children:"حدد إحدى الأدوات المتخصصة لبدء تحليل المحتوى"}),i.jsx("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-3 mt-6",children:v.map(b=>{const j=b.icon;return i.jsxs(xe,{variant:"outline",className:"flex flex-col gap-2 h-auto py-4",onClick:()=>r(b.id),children:[i.jsx(j,{className:"w-5 h-5"}),i.jsx("span",{className:"text-xs",children:b.name})]},b.id)})})]})});switch(n){case"forensic":return i.jsx(Zpt,{});case"belief":return i.jsx(emt,{});case"conflict":return i.jsx(tmt,{});case"psychology":return i.jsx(nmt,{});case"dreams":return i.jsx(rmt,{});default:return null}};return c?i.jsx("div",{className:"container mx-auto px-4 py-8",children:i.jsxs("div",{className:"text-center py-12",children:[i.jsx("div",{className:"animate-spin w-8 h-8 border-4 border-blue-500 border-t-transparent rounded-full mx-auto mb-4"}),i.jsx("p",{className:"text-muted-foreground",children:"جاري تحميل الأدوات المتخصصة..."})]})}):i.jsxs("div",{className:"container mx-auto px-4 py-8 max-w-7xl",children:[i.jsxs("div",{className:"text-center mb-8",children:[i.jsxs("div",{className:"flex items-center justify-center gap-3 mb-4",children:[i.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-purple-600 p-3 rounded-xl text-white",children:i.jsx(t5e,{className:"w-8 h-8"})}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:"الأدوات المتخصصة"}),i.jsx("p",{className:"text-muted-foreground",children:"مجموعة فريدة عالمياً من أدوات التحليل الاحترافية للكتابة الإبداعية"})]})]}),i.jsxs("div",{className:"flex items-center justify-center gap-4 text-sm text-muted-foreground",children:[i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(Rt,{className:"w-4 h-4 text-green-500"}),i.jsx("span",{children:"5 أدوات متقدمة"})]}),i.jsx(Ns,{orientation:"vertical",className:"h-4"}),i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(En,{className:"w-4 h-4 text-blue-500"}),i.jsx("span",{children:"تحليل دقيق"})]}),i.jsx(Ns,{orientation:"vertical",className:"h-4"}),i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(Qn,{className:"w-4 h-4 text-purple-500"}),i.jsx("span",{children:"ذكاء اصطناعي"})]})]})]}),i.jsxs(zn,{value:t,onValueChange:e,className:"w-full",children:[i.jsxs(On,{className:"grid w-full grid-cols-4 mb-6",children:[i.jsxs(nt,{value:"overview",className:"flex items-center gap-2",children:[i.jsx(Hn,{className:"w-4 h-4"}),"نظرة عامة"]}),i.jsxs(nt,{value:"analysis",className:"flex items-center gap-2",children:[i.jsx(vr,{className:"w-4 h-4"}),"تحليل جديد"]}),i.jsxs(nt,{value:"history",className:"flex items-center gap-2",children:[i.jsx(xr,{className:"w-4 h-4"}),"التاريخ"]}),i.jsxs(nt,{value:"settings",className:"flex items-center gap-2",children:[i.jsx(Qr,{className:"w-4 h-4"}),"الإعدادات"]})]}),i.jsx(rt,{value:"overview",className:"space-y-6",children:g()}),i.jsx(rt,{value:"analysis",className:"space-y-6",children:x()}),i.jsx(rt,{value:"history",className:"space-y-6",children:i.jsxs(ae,{children:[i.jsx(Te,{children:i.jsx(ke,{className:"text-right",children:"تاريخ التحليلات"})}),i.jsx(oe,{children:i.jsxs("div",{className:"text-center py-8",children:[i.jsx(xr,{className:"w-12 h-12 mx-auto mb-4 text-muted-foreground"}),i.jsx("p",{className:"text-muted-foreground",children:"سيتم عرض تاريخ التحليلات هنا"})]})})]})}),i.jsx(rt,{value:"settings",className:"space-y-6",children:i.jsxs(ae,{children:[i.jsx(Te,{children:i.jsx(ke,{className:"text-right",children:"إعدادات الأدوات المتخصصة"})}),i.jsx(oe,{children:i.jsxs("div",{className:"text-center py-8",children:[i.jsx(Qr,{className:"w-12 h-12 mx-auto mb-4 text-muted-foreground"}),i.jsx("p",{className:"text-muted-foreground",children:"سيتم إضافة إعدادات التخصيص هنا"})]})})]})})]})]})};var w6="Popover",[$je,Qmt]=qa(w6,[V2]),ZS=V2(),[smt,Sx]=$je(w6),Wje=t=>{const{__scopePopover:e,children:n,open:r,defaultOpen:s,onOpenChange:a,modal:o=!1}=t,l=ZS(e),c=E.useRef(null),[u,d]=E.useState(!1),[h,f]=Xu({prop:r,defaultProp:s??!1,onChange:a,caller:w6});return i.jsx(D$,{...l,children:i.jsx(smt,{scope:e,contentId:Cf(),triggerRef:c,open:h,onOpenChange:f,onOpenToggle:E.useCallback(()=>f(A=>!A),[f]),hasCustomAnchor:u,onCustomAnchorAdd:E.useCallback(()=>d(!0),[]),onCustomAnchorRemove:E.useCallback(()=>d(!1),[]),modal:o,children:n})})};Wje.displayName=w6;var qje="PopoverAnchor",amt=E.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,s=Sx(qje,n),a=ZS(n),{onCustomAnchorAdd:o,onCustomAnchorRemove:l}=s;return E.useEffect(()=>(o(),()=>l()),[o,l]),i.jsx(eF,{...a,...r,ref:e})});amt.displayName=qje;var Vje="PopoverTrigger",Kje=E.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,s=Sx(Vje,n),a=ZS(n),o=Tn(e,s.triggerRef),l=i.jsx(Jt.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":Zje(s.open),...r,ref:o,onClick:Ht(t.onClick,s.onOpenToggle)});return s.hasCustomAnchor?l:i.jsx(eF,{asChild:!0,...a,children:l})});Kje.displayName=Vje;var sV="PopoverPortal",[omt,lmt]=$je(sV,{forceMount:void 0}),Gje=t=>{const{__scopePopover:e,forceMount:n,children:r,container:s}=t,a=Sx(sV,e);return i.jsx(omt,{scope:e,forceMount:n,children:i.jsx(Jo,{present:n||a.open,children:i.jsx(Q2,{asChild:!0,container:s,children:r})})})};Gje.displayName=sV;var k2="PopoverContent",Xje=E.forwardRef((t,e)=>{const n=lmt(k2,t.__scopePopover),{forceMount:r=n.forceMount,...s}=t,a=Sx(k2,t.__scopePopover);return i.jsx(Jo,{present:r||a.open,children:a.modal?i.jsx(umt,{...s,ref:e}):i.jsx(dmt,{...s,ref:e})})});Xje.displayName=k2;var cmt=iy("PopoverContent.RemoveScroll"),umt=E.forwardRef((t,e)=>{const n=Sx(k2,t.__scopePopover),r=E.useRef(null),s=Tn(e,r),a=E.useRef(!1);return E.useEffect(()=>{const o=r.current;if(o)return oz(o)},[]),i.jsx(hk,{as:cmt,allowPinchZoom:!0,children:i.jsx(Yje,{...t,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Ht(t.onCloseAutoFocus,o=>{var l;o.preventDefault(),a.current||(l=n.triggerRef.current)==null||l.focus()}),onPointerDownOutside:Ht(t.onPointerDownOutside,o=>{const l=o.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,u=l.button===2||c;a.current=u},{checkForDefaultPrevented:!1}),onFocusOutside:Ht(t.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1})})})}),dmt=E.forwardRef((t,e)=>{const n=Sx(k2,t.__scopePopover),r=E.useRef(!1),s=E.useRef(!1);return i.jsx(Yje,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var o,l;(o=t.onCloseAutoFocus)==null||o.call(t,a),a.defaultPrevented||(r.current||(l=n.triggerRef.current)==null||l.focus(),a.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:a=>{var c,u;(c=t.onInteractOutside)==null||c.call(t,a),a.defaultPrevented||(r.current=!0,a.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const o=a.target;((u=n.triggerRef.current)==null?void 0:u.contains(o))&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&s.current&&a.preventDefault()}})}),Yje=E.forwardRef((t,e)=>{const{__scopePopover:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:a,disableOutsidePointerEvents:o,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:u,onInteractOutside:d,...h}=t,f=Sx(k2,n),A=ZS(n);return az(),i.jsx(uk,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:a,children:i.jsx(R2,{asChild:!0,disableOutsidePointerEvents:o,onInteractOutside:d,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:u,onDismiss:()=>f.onOpenChange(!1),children:i.jsx(T$,{"data-state":Zje(f.open),role:"dialog",id:f.contentId,...A,...h,ref:e,style:{...h.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),Jje="PopoverClose",hmt=E.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,s=Sx(Jje,n);return i.jsx(Jt.button,{type:"button",...r,ref:e,onClick:Ht(t.onClick,()=>s.onOpenChange(!1))})});hmt.displayName=Jje;var fmt="PopoverArrow",Amt=E.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,s=ZS(n);return i.jsx(k$,{...s,...r,ref:e})});Amt.displayName=fmt;function Zje(t){return t?"open":"closed"}var pmt=Wje,mmt=Kje,gmt=Gje,eNe=Xje;const F2=pmt,P2=mmt,jy=E.forwardRef(({className:t,align:e="center",sideOffset:n=4,...r},s)=>i.jsx(gmt,{children:i.jsx(eNe,{ref:s,align:e,sideOffset:n,className:Vt("z-50 w-72 rounded-md border border-zinc-200 bg-white p-4 text-zinc-950 shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 dark:border-zinc-800 dark:bg-zinc-950 dark:text-zinc-50",t),...r})}));jy.displayName=eNe.displayName;const xmt=({isFloating:t=!0,position:e="floating",autoHide:n=!0,pinned:r=!1,onPinChange:s})=>{const[a,o]=E.useState(!n||r),[l,c]=E.useState(!1),[u,d]=E.useState("tools"),[h,f]=E.useState(""),[A,v]=E.useState("grid"),[p,m]=E.useState(null),[g,x]=E.useState(null),[b,j]=E.useState(!1),[N,_]=E.useState(!1),[C,k]=E.useState("all"),[T,O]=E.useState("usage"),[I,F]=E.useState(r),{toast:M}=ki(),S=E.useRef(null),[q,U]=E.useState([{id:"1",name:"مولد الأفكار الإبداعي",type:"agent",description:"وكيل ذكي لتوليد أفكار إبداعية للكتابة والسرد",icon:nr,category:"creativity",isActive:!0,isFavorite:!0,isCustom:!1,lastUsed:new Date,usage:47,status:"working",performance:{cpu:25,memory:512,responseTime:1200}},{id:"2",name:"محلل النصوص المتقدم",type:"agent",description:"تحليل عميق للنصوص واستخراج الأنماط والمواضيع",icon:zt,category:"analysis",isActive:!0,isFavorite:!1,isCustom:!1,lastUsed:new Date(Date.now()-864e5),usage:23,status:"idle",performance:{cpu:0,memory:256,responseTime:800}},{id:"3",name:"كاتب الأسلوب الشخصي",type:"agent",description:"وكيل مخصص يكتب بأسلوبك الخاص المفضل",icon:ga,category:"writing",isActive:!1,isFavorite:!0,isCustom:!0,lastUsed:new Date(Date.now()-1728e5),usage:15,status:"paused",performance:{cpu:0,memory:128,responseTime:1500}},{id:"4",name:"مصحح النحو والإملاء",type:"utility",description:"أداة تصحيح النحو والإملاء للنصوص العربية",icon:xn,category:"editing",isActive:!0,isFavorite:!1,isCustom:!1,lastUsed:new Date(Date.now()-36e5),usage:89,status:"idle",performance:{cpu:5,memory:64,responseTime:300}},{id:"5",name:"مولد القوالب السردية",type:"template",description:"مجموعة من القوالب الجاهزة للكتابة الإبداعية",icon:dr,category:"templates",isActive:!0,isFavorite:!1,isCustom:!1,lastUsed:new Date(Date.now()-72e5),usage:31,status:"idle",performance:{cpu:0,memory:32,responseTime:100}}]),[L,z]=E.useState([{id:"agent-1",name:"الكاتب الإبداعي المتقدم",description:"وكيل متخصص في الكتابة الإبداعية والسرد",type:"creative",status:"working",currentTask:"كتابة فصل جديد من الرواية",progress:65,settings:{temperature:.8,maxTokens:2048,creativity:85,style:"إبداعي وشاعري",language:"العربية",specialInstructions:"استخدم أسلوب وصفي غني بالصور البلاغية"},performance:{cpu:35,memory:1024,responseTime:1500,tasksCompleted:28},isCustom:!1,isFavorite:!0,lastUsed:new Date},{id:"agent-2",name:"محلل المحتوى الذكي",description:"تحليل وفهم المحتوى النصي بعمق",type:"analysis",status:"idle",progress:0,settings:{temperature:.3,maxTokens:1024,creativity:30,style:"تحليلي ومنطقي",language:"العربية",specialInstructions:"ركز على الجوانب التحليلية والإحصائية"},performance:{cpu:0,memory:512,responseTime:800,tasksCompleted:45},isCustom:!1,isFavorite:!1,lastUsed:new Date(Date.now()-36e5)},{id:"agent-3",name:"مساعدي الشخصي للكتابة",description:"وكيل مخصص يعرف أسلوبي في الكتابة",type:"custom",status:"paused",progress:0,settings:{temperature:.7,maxTokens:1536,creativity:70,style:"أسلوبي الخاص",language:"العربية",specialInstructions:"اكتب بأسلوبي المفضل مع لمسة شخصية"},performance:{cpu:0,memory:256,responseTime:1200,tasksCompleted:12},isCustom:!0,isFavorite:!0,lastUsed:new Date(Date.now()-864e5)}]),$=q.filter(ie=>{const se=ie.name.toLowerCase().includes(h.toLowerCase())||ie.description.toLowerCase().includes(h.toLowerCase()),Ae=C==="all"||ie.category===C;return se&&Ae}).sort((ie,se)=>{var Ae,he;switch(T){case"name":return ie.name.localeCompare(se.name);case"usage":return se.usage-ie.usage;case"lastUsed":return(((Ae=se.lastUsed)==null?void 0:Ae.getTime())||0)-(((he=ie.lastUsed)==null?void 0:he.getTime())||0);default:return 0}}),K=L.filter(ie=>ie.name.toLowerCase().includes(h.toLowerCase())||ie.description.toLowerCase().includes(h.toLowerCase())).sort((ie,se)=>{var Ae,he;switch(T){case"name":return ie.name.localeCompare(se.name);case"usage":return se.performance.tasksCompleted-ie.performance.tasksCompleted;case"lastUsed":return(((Ae=se.lastUsed)==null?void 0:Ae.getTime())||0)-(((he=ie.lastUsed)==null?void 0:he.getTime())||0);default:return 0}}),V=ie=>{m(ie),ie.type==="agent"?M({title:`تم تشغيل ${ie.name}`,description:"الوكيل جاهز للعمل",duration:2e3}):M({title:`تم فتح ${ie.name}`,description:"الأداة جاهزة للاستخدام",duration:2e3})},H=ie=>{x(ie),j(!0)},W=()=>{const ie=!I;F(ie),s==null||s(ie),o(ie||!n)},Y=({tool:ie})=>{const se=ie.icon;return i.jsx(ae,{className:`cursor-pointer transition-all hover:shadow-md ${ie.isActive?"border-green-200 bg-green-50":"border-gray-200"} ${A==="grid"?"h-32":"h-20"}`,onClick:()=>V(ie),children:i.jsx(oe,{className:`p-3 ${A==="grid"?"h-full":"flex items-center h-full"}`,children:i.jsxs("div",{className:`${A==="grid"?"text-center":"flex items-center space-x-3 space-x-reverse"}`,children:[i.jsxs("div",{className:`${A==="grid"?"mb-2":""} relative`,children:[i.jsx(se,{className:`${A==="grid"?"w-8 h-8 mx-auto":"w-6 h-6"} text-blue-600`}),ie.status==="working"&&i.jsx("div",{className:"absolute -top-1 -right-1 w-3 h-3 bg-green-500 rounded-full animate-pulse"})]}),i.jsxs("div",{className:`${A==="grid"?"":"flex-1"}`,children:[i.jsx("h3",{className:`font-semibold ${A==="grid"?"text-sm":"text-base"} text-gray-800 mb-1`,children:ie.name}),A==="grid"&&i.jsx("p",{className:"text-xs text-gray-600 line-clamp-2",children:ie.description})]}),i.jsxs("div",{className:`${A==="grid"?"mt-2 flex justify-between items-center":"flex items-center space-x-2 space-x-reverse"}`,children:[i.jsx(He,{variant:ie.type==="agent"?"default":"secondary",className:"text-xs",children:ie.type==="agent"?"وكيل":"أداة"}),i.jsxs("div",{className:"flex items-center space-x-1 space-x-reverse",children:[ie.isFavorite&&i.jsx(tr,{className:"w-3 h-3 fill-yellow-400 text-yellow-400"}),ie.isCustom&&i.jsx(bf,{className:"w-3 h-3 text-purple-500"}),i.jsxs(F2,{children:[i.jsx(P2,{asChild:!0,children:i.jsx(xe,{variant:"ghost",size:"sm",className:"w-6 h-6 p-0",children:i.jsx(hce,{className:"w-3 h-3"})})}),i.jsx(jy,{className:"w-48",align:"end",children:i.jsxs("div",{className:"space-y-1",children:[i.jsxs(xe,{variant:"ghost",className:"w-full justify-start",size:"sm",children:[i.jsx(Qr,{className:"w-4 h-4 ml-2"}),"الإعدادات"]}),i.jsxs(xe,{variant:"ghost",className:"w-full justify-start",size:"sm",children:[i.jsx(tr,{className:"w-4 h-4 ml-2"}),ie.isFavorite?"إزالة من المفضلة":"إضافة للمفضلة"]}),i.jsxs(xe,{variant:"ghost",className:"w-full justify-start",size:"sm",children:[i.jsx(a5e,{className:"w-4 h-4 ml-2"}),"فتح في نافذة منفصلة"]})]})})]})]})]})]})})})},ee=({agent:ie})=>{const se=he=>{switch(he){case"working":return"text-green-600 bg-green-100";case"idle":return"text-gray-600 bg-gray-100";case"paused":return"text-yellow-600 bg-yellow-100";case"error":return"text-red-600 bg-red-100";default:return"text-gray-600 bg-gray-100"}},Ae=he=>{switch(he){case"working":return"يعمل";case"idle":return"متاح";case"paused":return"متوقف";case"error":return"خطأ";default:return"غير معروف"}};return i.jsx(ae,{className:`cursor-pointer transition-all hover:shadow-md border-l-4 ${ie.status==="working"?"border-l-green-500":ie.status==="error"?"border-l-red-500":"border-l-blue-500"}`,onClick:()=>H(ie),children:i.jsxs(oe,{className:"p-4",children:[i.jsxs("div",{className:"flex items-start justify-between mb-3",children:[i.jsxs("div",{className:"flex-1",children:[i.jsx("h3",{className:"font-semibold text-lg text-gray-800 mb-1",children:ie.name}),i.jsx("p",{className:"text-sm text-gray-600 mb-2",children:ie.description}),i.jsxs("div",{className:"flex items-center space-x-2 space-x-reverse",children:[i.jsx(He,{className:`text-xs ${se(ie.status)}`,children:Ae(ie.status)}),ie.isCustom&&i.jsx(He,{variant:"outline",className:"text-xs border-purple-300 text-purple-600",children:"مخصص"}),ie.isFavorite&&i.jsx(tr,{className:"w-4 h-4 fill-yellow-400 text-yellow-400"})]})]}),i.jsxs("div",{className:"flex flex-col items-end space-y-2",children:[i.jsxs("div",{className:"flex items-center space-x-1 space-x-reverse",children:[i.jsx(xe,{variant:"ghost",size:"sm",onClick:he=>{he.stopPropagation()},children:ie.status==="working"?i.jsx(jp,{className:"w-4 h-4"}):i.jsx(xa,{className:"w-4 h-4"})}),i.jsx(xe,{variant:"ghost",size:"sm",onClick:he=>{he.stopPropagation(),H(ie)},children:i.jsx(Qr,{className:"w-4 h-4"})})]}),i.jsxs("div",{className:"text-xs text-gray-500 text-right",children:[i.jsxs("div",{children:["المعالج: ",ie.performance.cpu,"%"]}),i.jsxs("div",{children:["الذاكرة: ",ie.performance.memory,"MB"]}),i.jsxs("div",{children:["المهام: ",ie.performance.tasksCompleted]})]})]})]}),ie.status==="working"&&ie.currentTask&&i.jsxs("div",{className:"bg-blue-50 rounded-lg p-2 mb-2",children:[i.jsxs("div",{className:"flex items-center justify-between mb-1",children:[i.jsx("span",{className:"text-xs font-medium text-blue-800",children:"المهمة الحالية:"}),i.jsxs("span",{className:"text-xs text-blue-600",children:[ie.progress,"%"]})]}),i.jsx("p",{className:"text-sm text-blue-700 mb-2",children:ie.currentTask}),i.jsx("div",{className:"w-full bg-blue-200 rounded-full h-1.5",children:i.jsx("div",{className:"bg-blue-500 h-1.5 rounded-full transition-all duration-300",style:{width:`${ie.progress}%`}})})]})]})})};return i.jsx(Ry,{children:i.jsxs("div",{ref:S,className:`${t?"fixed z-50 transition-all duration-300":"relative"} ${e==="floating"?"bottom-4 right-4 max-w-md":e==="top"?"top-0 left-0 right-0":e==="bottom"?"bottom-0 left-0 right-0":e==="left"?"top-0 bottom-0 left-0 w-80":"top-0 bottom-0 right-0 w-80"} ${a?"opacity-100 translate-y-0":"opacity-0 translate-y-2 pointer-events-none"}`,onMouseEnter:()=>n&&!I&&o(!0),onMouseLeave:()=>n&&!I&&o(!1),children:[i.jsxs(ae,{className:"shadow-xl border-2 border-blue-100 bg-white/95 backdrop-blur-sm",children:[i.jsx(Te,{className:"pb-2",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center space-x-2 space-x-reverse",children:[i.jsx(bf,{className:"w-5 h-5 text-blue-600"}),i.jsx(ke,{className:"text-lg",children:"أدواتي والوكلاء"})]}),i.jsxs("div",{className:"flex items-center space-x-1 space-x-reverse",children:[i.jsxs(ti,{children:[i.jsx(ni,{asChild:!0,children:i.jsx(xe,{variant:"ghost",size:"sm",onClick:W,className:I?"text-blue-600":"text-gray-400",children:I?i.jsx(ak,{className:"w-4 h-4"}):i.jsx(sk,{className:"w-4 h-4"})})}),i.jsx(Vr,{children:I?"إلغاء التثبيت":"تثبيت اللوحة"})]}),i.jsxs(ti,{children:[i.jsx(ni,{asChild:!0,children:i.jsx(xe,{variant:"ghost",size:"sm",onClick:()=>c(!l),children:l?i.jsx(ry,{className:"w-4 h-4"}):i.jsx(xS,{className:"w-4 h-4"})})}),i.jsx(Vr,{children:l?"تصغير":"توسيع"})]}),!I&&i.jsx(xe,{variant:"ghost",size:"sm",onClick:()=>o(!1),children:i.jsx(sh,{className:"w-4 h-4"})})]})]})}),i.jsxs(oe,{className:"space-y-4",children:[i.jsx("div",{className:"space-y-2",children:i.jsxs("div",{className:"flex items-center space-x-2 space-x-reverse",children:[i.jsxs("div",{className:"relative flex-1",children:[i.jsx(kl,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),i.jsx(wn,{placeholder:"البحث في الأدوات والوكلاء...",value:h,onChange:ie=>f(ie.target.value),className:"pl-10"})]}),i.jsxs(F2,{children:[i.jsx(P2,{asChild:!0,children:i.jsx(xe,{variant:"outline",size:"sm",children:i.jsx(gS,{className:"w-4 h-4"})})}),i.jsx(jy,{className:"w-64",align:"end",children:i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium",children:"الفئة:"}),i.jsxs("select",{value:C,onChange:ie=>k(ie.target.value),className:"w-full mt-1 p-2 border rounded-md text-sm",children:[i.jsx("option",{value:"all",children:"جميع الفئات"}),i.jsx("option",{value:"creativity",children:"الإبداع"}),i.jsx("option",{value:"analysis",children:"التحليل"}),i.jsx("option",{value:"writing",children:"الكتابة"}),i.jsx("option",{value:"editing",children:"التحرير"}),i.jsx("option",{value:"templates",children:"القوالب"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium",children:"الترتيب:"}),i.jsxs("select",{value:T,onChange:ie=>O(ie.target.value),className:"w-full mt-1 p-2 border rounded-md text-sm",children:[i.jsx("option",{value:"usage",children:"الاستخدام"}),i.jsx("option",{value:"name",children:"الاسم"}),i.jsx("option",{value:"lastUsed",children:"آخر استخدام"})]})]})]})})]}),i.jsxs("div",{className:"flex items-center border rounded-md",children:[i.jsx(xe,{variant:A==="grid"?"default":"ghost",size:"sm",onClick:()=>v("grid"),className:"rounded-r-none",children:i.jsx(u5e,{className:"w-4 h-4"})}),i.jsx(xe,{variant:A==="list"?"default":"ghost",size:"sm",onClick:()=>v("list"),className:"rounded-l-none",children:i.jsx(f5e,{className:"w-4 h-4"})})]})]})}),i.jsxs("div",{className:"flex flex-wrap gap-2",children:[i.jsxs(Xc,{open:N,onOpenChange:_,children:[i.jsx(Dpe,{asChild:!0,children:i.jsxs(xe,{variant:"outline",size:"sm",className:"flex-1",children:[i.jsx(us,{className:"w-4 h-4 ml-2"}),"إنشاء وكيل مخصص"]})}),i.jsxs(oc,{className:"max-w-2xl",children:[i.jsx(lc,{children:i.jsx(cc,{children:"إنشاء وكيل مخصص جديد"})}),i.jsx(vmt,{onSave:()=>_(!1)})]})]}),i.jsxs(xe,{variant:"outline",size:"sm",children:[i.jsx(gr,{className:"w-4 h-4 ml-2"}),"استيراد"]}),i.jsxs(xe,{variant:"outline",size:"sm",children:[i.jsx(sc,{className:"w-4 h-4 ml-2"}),"تصدير"]})]}),i.jsxs(zn,{value:u,onValueChange:d,children:[i.jsxs(On,{className:"grid w-full grid-cols-2",children:[i.jsxs(nt,{value:"tools",className:"flex items-center space-x-2 space-x-reverse",children:[i.jsx(bf,{className:"w-4 h-4"}),i.jsxs("span",{children:["الأدوات (",$.length,")"]})]}),i.jsxs(nt,{value:"agents",className:"flex items-center space-x-2 space-x-reverse",children:[i.jsx(rh,{className:"w-4 h-4"}),i.jsxs("span",{children:["الوكلاء (",K.length,")"]})]})]}),i.jsx(rt,{value:"tools",className:"mt-4",children:i.jsx(Js,{className:`${l?"h-96":"h-64"}`,children:$.length>0?i.jsx("div",{className:`${A==="grid"?"grid grid-cols-2 gap-3":"space-y-2"}`,children:$.map(ie=>i.jsx(Y,{tool:ie},ie.id))}):i.jsxs("div",{className:"text-center py-8 text-gray-500",children:[i.jsx(bf,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),i.jsx("p",{children:"لا توجد أدوات تطابق البحث"})]})})}),i.jsx(rt,{value:"agents",className:"mt-4",children:i.jsx(Js,{className:`${l?"h-96":"h-64"}`,children:K.length>0?i.jsx("div",{className:"space-y-3",children:K.map(ie=>i.jsx(ee,{agent:ie},ie.id))}):i.jsxs("div",{className:"text-center py-8 text-gray-500",children:[i.jsx(rh,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),i.jsx("p",{children:"لا توجد وكلاء تطابق البحث"})]})})})]})]})]}),i.jsx(Xc,{open:b,onOpenChange:j,children:i.jsxs(oc,{className:"max-w-3xl",children:[i.jsx(lc,{children:i.jsxs(cc,{children:["إعدادات الوكيل: ",g==null?void 0:g.name]})}),g&&i.jsx(ymt,{agent:g,onSave:()=>j(!1)})]})})]})})},vmt=({onSave:t})=>{const[e,n]=E.useState(""),[r,s]=E.useState(""),[a,o]=E.useState("custom"),[l,c]=E.useState(""),[u,d]=E.useState(""),[h,f]=E.useState([.7]),[A,v]=E.useState([70]),[p,m]=E.useState(1),{toast:g}=ki(),x=()=>{if(!e.trim()){g({title:"خطأ",description:"يرجى إدخال اسم الوكيل",variant:"destructive"});return}g({title:"تم الإنشاء بنجاح",description:`تم إنشاء الوكيل "${e}" بنجاح`}),t()};return i.jsxs("div",{className:"space-y-6",children:[i.jsx("div",{className:"flex items-center justify-between mb-6",children:[1,2,3].map(b=>i.jsxs("div",{className:"flex items-center",children:[i.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-sm font-medium ${b<=p?"bg-blue-600 text-white":"bg-gray-200 text-gray-600"}`,children:b}),b<3&&i.jsx("div",{className:`w-16 h-1 mx-2 ${b<p?"bg-blue-600":"bg-gray-200"}`})]},b))}),p===1&&i.jsxs("div",{className:"space-y-4",children:[i.jsx("h3",{className:"text-lg font-semibold",children:"معلومات أساسية"}),i.jsxs("div",{children:[i.jsx(Dt,{htmlFor:"agentName",children:"اسم الوكيل"}),i.jsx(wn,{id:"agentName",value:e,onChange:b=>n(b.target.value),placeholder:"مثال: مساعدي الشخصي للكتابة",className:"mt-1"})]}),i.jsxs("div",{children:[i.jsx(Dt,{htmlFor:"agentDescription",children:"وصف الوكيل"}),i.jsx(wn,{id:"agentDescription",value:r,onChange:b=>s(b.target.value),placeholder:"وصف موجز لما يقوم به هذا الوكيل",className:"mt-1"})]}),i.jsxs("div",{children:[i.jsx(Dt,{children:"نوع الوكيل"}),i.jsx("div",{className:"grid grid-cols-2 gap-2 mt-2",children:[{value:"writing",label:"الكتابة",icon:ga},{value:"creative",label:"الإبداع",icon:nr},{value:"analysis",label:"التحليل",icon:zt},{value:"technical",label:"التقني",icon:w_}].map(({value:b,label:j,icon:N})=>i.jsxs(xe,{variant:a===b?"default":"outline",onClick:()=>o(b),className:"flex items-center space-x-2 space-x-reverse h-12",children:[i.jsx(N,{className:"w-4 h-4"}),i.jsx("span",{children:j})]},b))})]})]}),p===2&&i.jsxs("div",{className:"space-y-4",children:[i.jsx("h3",{className:"text-lg font-semibold",children:"أسلوب الكتابة والشخصية"}),i.jsxs("div",{children:[i.jsx(Dt,{htmlFor:"agentStyle",children:"أسلوب الكتابة"}),i.jsx(wn,{id:"agentStyle",value:l,onChange:b=>c(b.target.value),placeholder:"مثال: رسمي ومهني، إبداعي وشاعري، بسيط ومباشر",className:"mt-1"})]}),i.jsxs("div",{children:[i.jsx(Dt,{htmlFor:"specialInstructions",children:"تعليمات خاصة"}),i.jsx("textarea",{id:"specialInstructions",value:u,onChange:b=>d(b.target.value),placeholder:"أي تعليمات محددة تريد من الوكيل اتباعها...",className:"w-full mt-1 p-3 border rounded-md h-24 resize-none"})]}),i.jsxs("div",{children:[i.jsxs(Dt,{children:["مستوى الإبداع: ",A[0],"%"]}),i.jsx(pi,{value:A,onValueChange:v,max:100,step:5,className:"mt-2"})]}),i.jsxs("div",{children:[i.jsxs(Dt,{children:["درجة العشوائية: ",h[0]]}),i.jsx(pi,{value:h,onValueChange:f,max:1,step:.1,className:"mt-2"})]})]}),p===3&&i.jsxs("div",{className:"space-y-4",children:[i.jsx("h3",{className:"text-lg font-semibold",children:"مراجعة وتأكيد"}),i.jsx(ae,{children:i.jsx(oe,{className:"p-4",children:i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{children:[i.jsx("strong",{children:"الاسم:"})," ",e]}),i.jsxs("div",{children:[i.jsx("strong",{children:"الوصف:"})," ",r]}),i.jsxs("div",{children:[i.jsx("strong",{children:"النوع:"})," ",a]}),i.jsxs("div",{children:[i.jsx("strong",{children:"أسلوب الكتابة:"})," ",l]}),i.jsxs("div",{children:[i.jsx("strong",{children:"مستوى الإبداع:"})," ",A[0],"%"]}),i.jsxs("div",{children:[i.jsx("strong",{children:"درجة العشوائية:"})," ",h[0]]}),u&&i.jsxs("div",{children:[i.jsx("strong",{children:"التعليمات الخاصة:"}),i.jsx("p",{className:"text-sm text-gray-600 mt-1",children:u})]})]})})})]}),i.jsxs("div",{className:"flex justify-between pt-4",children:[i.jsx(xe,{variant:"outline",onClick:()=>m(Math.max(1,p-1)),disabled:p===1,children:"السابق"}),i.jsx("div",{className:"flex space-x-2 space-x-reverse",children:p<3?i.jsx(xe,{onClick:()=>m(p+1),children:"التالي"}):i.jsxs(xe,{onClick:x,children:[i.jsx(Ko,{className:"w-4 h-4 ml-2"}),"إنشاء الوكيل"]})})]})]})},ymt=({agent:t,onSave:e})=>{const[n,r]=E.useState(t.settings),[s,a]=E.useState(t.status==="working"),{toast:o}=ki(),l=()=>{o({title:"تم الحفظ",description:"تم حفظ إعدادات الوكيل بنجاح"}),e()},c=()=>{a(!0),o({title:"تم التشغيل",description:`تم تشغيل ${t.name} بنجاح`})},u=()=>{a(!1),o({title:"تم الإيقاف",description:`تم إيقاف ${t.name}`})};return i.jsxs("div",{className:"space-y-6",children:[i.jsxs(ae,{children:[i.jsx(Te,{children:i.jsxs(ke,{className:"flex items-center justify-between",children:[i.jsx("span",{children:"حالة الوكيل"}),i.jsx("div",{className:"flex items-center space-x-2 space-x-reverse",children:s?i.jsxs(xe,{variant:"outline",size:"sm",onClick:u,children:[i.jsx(kD,{className:"w-4 h-4 ml-2"}),"إيقاف"]}):i.jsxs(xe,{size:"sm",onClick:c,children:[i.jsx(xa,{className:"w-4 h-4 ml-2"}),"تشغيل"]})})]})}),i.jsx(oe,{children:i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("div",{className:"text-sm text-gray-600",children:"الحالة"}),i.jsx("div",{className:`font-medium ${s?"text-green-600":"text-gray-600"}`,children:s?"يعمل":"متوقف"})]}),i.jsxs("div",{children:[i.jsx("div",{className:"text-sm text-gray-600",children:"المهام المكتملة"}),i.jsx("div",{className:"font-medium",children:t.performance.tasksCompleted})]}),i.jsxs("div",{children:[i.jsx("div",{className:"text-sm text-gray-600",children:"استخدام المعالج"}),i.jsxs("div",{className:"font-medium",children:[t.performance.cpu,"%"]})]}),i.jsxs("div",{children:[i.jsx("div",{className:"text-sm text-gray-600",children:"استخدام الذاكرة"}),i.jsxs("div",{className:"font-medium",children:[t.performance.memory,"MB"]})]})]})})]}),i.jsxs(ae,{children:[i.jsx(Te,{children:i.jsx(ke,{children:"إعدادات التشغيل"})}),i.jsxs(oe,{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsxs(Dt,{htmlFor:"temperature",children:["درجة العشوائية: ",n.temperature]}),i.jsx(pi,{value:[n.temperature],onValueChange:([d])=>r({...n,temperature:d}),max:1,step:.1,className:"mt-2"})]}),i.jsxs("div",{children:[i.jsx(Dt,{htmlFor:"maxTokens",children:"الحد الأقصى للرموز"}),i.jsx(wn,{id:"maxTokens",type:"number",value:n.maxTokens,onChange:d=>r({...n,maxTokens:parseInt(d.target.value)}),className:"mt-1"})]}),i.jsxs("div",{children:[i.jsxs(Dt,{htmlFor:"creativity",children:["مستوى الإبداع: ",n.creativity,"%"]}),i.jsx(pi,{value:[n.creativity],onValueChange:([d])=>r({...n,creativity:d}),max:100,step:5,className:"mt-2"})]}),i.jsxs("div",{children:[i.jsx(Dt,{htmlFor:"style",children:"أسلوب الكتابة"}),i.jsx(wn,{id:"style",value:n.style,onChange:d=>r({...n,style:d.target.value}),className:"mt-1"})]}),i.jsxs("div",{children:[i.jsx(Dt,{htmlFor:"language",children:"اللغة"}),i.jsxs("select",{id:"language",value:n.language,onChange:d=>r({...n,language:d.target.value}),className:"w-full mt-1 p-2 border rounded-md",children:[i.jsx("option",{value:"العربية",children:"العربية"}),i.jsx("option",{value:"English",children:"English"}),i.jsx("option",{value:"مختلط",children:"مختلط"})]})]}),i.jsxs("div",{children:[i.jsx(Dt,{htmlFor:"specialInstructions",children:"تعليمات خاصة"}),i.jsx("textarea",{id:"specialInstructions",value:n.specialInstructions,onChange:d=>r({...n,specialInstructions:d.target.value}),className:"w-full mt-1 p-3 border rounded-md h-24 resize-none"})]})]})]}),i.jsxs("div",{className:"flex justify-end space-x-2 space-x-reverse",children:[i.jsx(xe,{variant:"outline",onClick:e,children:"إلغاء"}),i.jsxs(xe,{onClick:l,children:[i.jsx(Ko,{className:"w-4 h-4 ml-2"}),"حفظ الإعدادات"]})]})]})},bmt=({position:t="floating",isCompact:e=!1,autoHide:n=!1,maxTools:r=6,onToolSelect:s,onCreateAgent:a,className:o=""})=>{const[l,c]=E.useState(!n),[u,d]=E.useState(!1),[h,f]=E.useState(!1),[A,v]=E.useState(!1),[p,m]=E.useState([]),[g,x]=E.useState(0),[b,j]=E.useState("healthy"),{toast:N}=ki(),_=E.useRef(null);E.useEffect(()=>{const S=[{id:"creative-writer",name:"الكاتب الإبداعي",icon:ga,type:"agent",status:"working",progress:65,isFavorite:!0,shortcut:"Ctrl+Shift+W",quickAction:()=>C("creative-writer")},{id:"idea-generator",name:"مولد الأفكار",icon:nr,type:"agent",status:"idle",isFavorite:!0,shortcut:"Ctrl+Shift+I",quickAction:()=>C("idea-generator")},{id:"text-analyzer",name:"محلل النصوص",icon:zt,type:"agent",status:"paused",isFavorite:!1,shortcut:"Ctrl+Shift+A",quickAction:()=>C("text-analyzer")},{id:"style-checker",name:"مدقق الأسلوب",icon:En,type:"tool",status:"idle",isFavorite:!0,quickAction:()=>C("style-checker")},{id:"smart-templates",name:"القوالب الذكية",icon:Qn,type:"tool",status:"idle",isFavorite:!1,quickAction:()=>C("smart-templates")},{id:"workflow-builder",name:"منشئ سير العمل",icon:Qr,type:"tool",status:"idle",isFavorite:!0,quickAction:()=>C("workflow-builder")}];m(S),x(S.filter(q=>q.type==="agent"&&q.status==="working").length)},[]),E.useEffect(()=>{const S=setInterval(()=>{const q=p.filter(U=>U.type==="agent"&&U.status==="working").length;q>2?j("warning"):q>3?j("error"):j("healthy")},5e3);return()=>clearInterval(S)},[p]);const C=S=>{const q=p.find(U=>U.id===S);q&&(s==null||s(q),N({title:`تم تشغيل ${q.name}`,description:q.type==="agent"?"الوكيل جاهز للعمل":"الأداة متاحة للاستخدام",duration:2e3}))},k=S=>{m(q=>q.map(U=>{if(U.id===S&&U.type==="agent"){const L=U.status==="working"?"paused":(U.status==="paused","working");return{...U,status:L}}return U}))},T=S=>{m(q=>q.map(U=>U.id===S?{...U,isFavorite:!U.isFavorite}:U))},O=()=>{const S=p.filter(U=>U.isFavorite),q=p.filter(U=>!U.isFavorite);return A||u?[...S,...q]:[...S.slice(0,Math.min(r,S.length))]},I=S=>{switch(S){case"working":return"text-green-600 bg-green-100";case"paused":return"text-yellow-600 bg-yellow-100";case"error":return"text-red-600 bg-red-100";default:return"text-gray-600 bg-gray-100"}},F=()=>{switch(b){case"healthy":return i.jsx(Rt,{className:"w-4 h-4 text-green-500"});case"warning":return i.jsx(jl,{className:"w-4 h-4 text-yellow-500"});case"error":return i.jsx(ny,{className:"w-4 h-4 text-red-500"})}},M=`
    ${t==="floating"?"fixed bottom-4 left-1/2 transform -translate-x-1/2 z-50":""}
    ${t==="top"?"fixed top-0 left-0 right-0 z-40":""}
    ${t==="bottom"?"fixed bottom-0 left-0 right-0 z-40":""}
    ${o}
    transition-all duration-300
    ${l?"opacity-100 translate-y-0":"opacity-0 translate-y-2 pointer-events-none"}
  `;return i.jsx(Ry,{children:i.jsx("div",{ref:_,className:M,onMouseEnter:()=>n&&!h&&c(!0),onMouseLeave:()=>n&&!h&&c(!1),children:i.jsx(ae,{className:"shadow-lg border-2 border-blue-100 bg-white/95 backdrop-blur-sm",children:i.jsxs(oe,{className:`${e?"p-2":"p-3"}`,children:[i.jsxs("div",{className:"flex items-center space-x-2 space-x-reverse",children:[i.jsxs(ti,{children:[i.jsx(ni,{asChild:!0,children:i.jsxs("div",{className:"flex items-center space-x-1 space-x-reverse px-2 py-1 rounded-md bg-gray-50",children:[F(),i.jsx("span",{className:"text-xs font-medium",children:g})]})}),i.jsx(Vr,{children:i.jsxs("div",{className:"text-sm",children:[i.jsxs("div",{children:["الوكلاء النشطة: ",g]}),i.jsxs("div",{children:["حالة النظام: ",b==="healthy"?"سليم":b==="warning"?"تحذير":"خطأ"]})]})})]}),i.jsx("div",{className:"w-px h-6 bg-gray-300 mx-1"}),i.jsxs("div",{className:"flex items-center space-x-1 space-x-reverse",children:[O().map(S=>{const q=S.icon;return i.jsxs(ti,{children:[i.jsx(ni,{asChild:!0,children:i.jsxs("div",{className:"relative",children:[i.jsx(xe,{variant:S.status==="working"?"default":"ghost",size:e?"sm":"default",className:`${S.isFavorite?"ring-2 ring-blue-200":""} ${S.status==="working"?"bg-blue-600 hover:bg-blue-700":""}`,onClick:()=>C(S.id),children:i.jsx(q,{className:`${e?"w-3 h-3":"w-4 h-4"}`})}),S.status==="working"&&i.jsx("div",{className:"absolute -top-1 -right-1 w-3 h-3 bg-green-500 rounded-full animate-pulse"}),S.status==="error"&&i.jsx("div",{className:"absolute -top-1 -right-1 w-3 h-3 bg-red-500 rounded-full"}),S.type==="agent"&&S.status==="working"&&S.progress&&i.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-1 bg-gray-200 rounded-b",children:i.jsx("div",{className:"h-full bg-blue-500 rounded-b transition-all duration-300",style:{width:`${S.progress}%`}})}),S.type==="agent"&&i.jsxs(F2,{children:[i.jsx(P2,{asChild:!0,children:i.jsx(xe,{variant:"ghost",size:"sm",className:"absolute -top-2 -left-2 w-5 h-5 p-0 bg-white border border-gray-200 rounded-full opacity-0 group-hover:opacity-100 transition-opacity",onClick:U=>U.stopPropagation(),children:i.jsx(FK,{className:"w-3 h-3"})})}),i.jsx(jy,{className:"w-48",align:"start",children:i.jsxs("div",{className:"space-y-1",children:[i.jsx(xe,{variant:"ghost",className:"w-full justify-start",size:"sm",onClick:()=>k(S.id),children:S.status==="working"?i.jsxs(i.Fragment,{children:[i.jsx(jp,{className:"w-4 h-4 ml-2"}),"إيقاف مؤقت"]}):i.jsxs(i.Fragment,{children:[i.jsx(xa,{className:"w-4 h-4 ml-2"}),"تشغيل"]})}),i.jsxs(xe,{variant:"ghost",className:"w-full justify-start",size:"sm",onClick:()=>T(S.id),children:[i.jsx(tr,{className:`w-4 h-4 ml-2 ${S.isFavorite?"fill-yellow-400 text-yellow-400":""}`}),S.isFavorite?"إزالة من المفضلة":"إضافة للمفضلة"]}),i.jsxs(xe,{variant:"ghost",className:"w-full justify-start",size:"sm",children:[i.jsx(Qr,{className:"w-4 h-4 ml-2"}),"الإعدادات"]})]})})]})]})}),i.jsx(Vr,{children:i.jsxs("div",{className:"text-sm",children:[i.jsx("div",{className:"font-medium",children:S.name}),i.jsxs("div",{className:"text-xs text-gray-500",children:[S.type==="agent"?"وكيل":"أداة"," -",S.status==="working"?" يعمل":S.status==="paused"?" متوقف":S.status==="error"?" خطأ":" متاح"]}),S.shortcut&&i.jsx("div",{className:"text-xs text-blue-600 mt-1",children:S.shortcut}),S.progress&&S.status==="working"&&i.jsxs("div",{className:"text-xs text-green-600 mt-1",children:["التقدم: ",S.progress,"%"]})]})})]},S.id)}),p.length>r&&!A&&!u&&i.jsxs(ti,{children:[i.jsx(ni,{asChild:!0,children:i.jsx(xe,{variant:"ghost",size:e?"sm":"default",onClick:()=>v(!0),children:i.jsx(FK,{className:`${e?"w-3 h-3":"w-4 h-4"}`})})}),i.jsxs(Vr,{children:["عرض جميع الأدوات (",p.length-r," إضافية)"]})]})]}),i.jsx("div",{className:"w-px h-6 bg-gray-300 mx-1"}),i.jsxs("div",{className:"flex items-center space-x-1 space-x-reverse",children:[i.jsxs(ti,{children:[i.jsx(ni,{asChild:!0,children:i.jsx(xe,{variant:"ghost",size:e?"sm":"default",onClick:a,className:"text-green-600 hover:text-green-700 hover:bg-green-50",children:i.jsx(us,{className:`${e?"w-3 h-3":"w-4 h-4"}`})})}),i.jsx(Vr,{children:"إنشاء وكيل مخصص جديد"})]}),i.jsxs(ti,{children:[i.jsx(ni,{asChild:!0,children:i.jsx(xe,{variant:"ghost",size:e?"sm":"default",onClick:()=>d(!u),children:u?i.jsx(ry,{className:`${e?"w-3 h-3":"w-4 h-4"}`}):i.jsx(xS,{className:`${e?"w-3 h-3":"w-4 h-4"}`})})}),i.jsx(Vr,{children:u?"تصغير":"توسيع"})]}),i.jsxs(ti,{children:[i.jsx(ni,{asChild:!0,children:i.jsx(xe,{variant:"ghost",size:e?"sm":"default",onClick:()=>f(!h),className:h?"text-blue-600":"text-gray-400",children:h?i.jsx(ak,{className:`${e?"w-3 h-3":"w-4 h-4"}`}):i.jsx(sk,{className:`${e?"w-3 h-3":"w-4 h-4"}`})})}),i.jsx(Vr,{children:h?"إلغاء التثبيت":"تثبيت الشريط"})]})]})]}),u&&i.jsx("div",{className:"mt-3 pt-3 border-t border-gray-200",children:i.jsx("div",{className:"grid grid-cols-4 gap-2",children:p.filter((S,q)=>q>=r||!O().includes(p[q])).map(S=>{const q=S.icon;return i.jsxs(ti,{children:[i.jsx(ni,{asChild:!0,children:i.jsxs(xe,{variant:"ghost",className:"flex flex-col items-center space-y-1 h-auto py-2",onClick:()=>C(S.id),children:[i.jsx(q,{className:"w-4 h-4"}),i.jsx("span",{className:"text-xs truncate max-w-full",children:S.name}),i.jsx(He,{className:`text-xs ${I(S.status)}`,children:S.status==="working"?"يعمل":S.status==="paused"?"متوقف":S.status==="error"?"خطأ":"متاح"})]})}),i.jsx(Vr,{children:S.name})]},S.id)})})})]})})})})},wmt=({position:t="floating",isCollapsible:e=!0,showMetrics:n=!0,autoRefresh:r=!0,refreshInterval:s=2e3,maxHeight:a="400px",onAgentSelect:o,onAgentAction:l})=>{const[c,u]=E.useState([]),[d,h]=E.useState(!0),[f,A]=E.useState(!1),[v,p]=E.useState(null),[m,g]=E.useState("status"),[x,b]=E.useState("all"),[j,N]=E.useState(!1),[_,C]=E.useState("healthy"),{toast:k}=ki(),T=E.useRef();E.useEffect(()=>{const K=[{id:"agent-1",name:"الكاتب الإبداعي المتقدم",type:"creative",status:"working",currentTask:"كتابة فصل جديد من الرواية العلمية",progress:75,priority:"high",performance:{cpu:45,memory:1024,responseTime:1200,throughput:85,errorRate:2,uptime:95.8,tasksCompleted:28,averageQuality:88},health:"healthy",isCustom:!1,startedAt:new Date(Date.now()-36e5),lastActivity:new Date,estimatedCompletion:new Date(Date.now()+9e5),logs:[{timestamp:new Date,level:"info",message:"بدء كتابة الفصل الجديد"},{timestamp:new Date(Date.now()-6e4),level:"info",message:"تم إنجاز 75% من المهمة"}],metrics:{tokensPerSecond:45,qualityScore:88,userSatisfaction:92,reliability:96}},{id:"agent-2",name:"محلل المحتوى الذكي",type:"analysis",status:"idle",progress:0,priority:"normal",performance:{cpu:5,memory:512,responseTime:800,throughput:0,errorRate:0,uptime:99.2,tasksCompleted:45,averageQuality:92},health:"healthy",isCustom:!1,startedAt:new Date(Date.now()-72e5),lastActivity:new Date(Date.now()-3e5),logs:[{timestamp:new Date(Date.now()-3e5),level:"info",message:"انتهاء من تحليل النص السابق"},{timestamp:new Date(Date.now()-6e5),level:"info",message:"نتائج التحليل متاحة"}],metrics:{tokensPerSecond:0,qualityScore:92,userSatisfaction:89,reliability:98}},{id:"agent-3",name:"مساعدي الشخصي",type:"custom",status:"paused",currentTask:"مراجعة النص الأخير",progress:40,priority:"low",performance:{cpu:0,memory:256,responseTime:1500,throughput:0,errorRate:5,uptime:87.3,tasksCompleted:12,averageQuality:78},health:"warning",isCustom:!0,startedAt:new Date(Date.now()-18e5),lastActivity:new Date(Date.now()-18e4),logs:[{timestamp:new Date(Date.now()-18e4),level:"warning",message:"تم إيقاف المهمة مؤقتاً"},{timestamp:new Date(Date.now()-36e4),level:"info",message:"بدء مراجعة النص"}],metrics:{tokensPerSecond:0,qualityScore:78,userSatisfaction:75,reliability:82}},{id:"agent-4",name:"مولد الأفكار السريع",type:"creative",status:"error",progress:0,priority:"critical",performance:{cpu:15,memory:128,responseTime:0,throughput:0,errorRate:100,uptime:45.2,tasksCompleted:5,averageQuality:0},health:"critical",isCustom:!1,startedAt:new Date(Date.now()-6e5),lastActivity:new Date(Date.now()-12e4),logs:[{timestamp:new Date(Date.now()-12e4),level:"error",message:"فشل في الاتصال بنموذج اللغة"},{timestamp:new Date(Date.now()-24e4),level:"warning",message:"تباطؤ في الاستجابة"}],metrics:{tokensPerSecond:0,qualityScore:0,userSatisfaction:20,reliability:35}}];u(K)},[]),E.useEffect(()=>(r&&(T.current=setInterval(()=>{u(K=>K.map(V=>({...V,lastActivity:V.status==="working"?new Date:V.lastActivity,progress:V.status==="working"?Math.min(100,V.progress+Math.random()*5):V.progress,performance:{...V.performance,cpu:V.status==="working"?Math.max(10,Math.min(80,V.performance.cpu+(Math.random()-.5)*10)):Math.max(0,V.performance.cpu*.9),responseTime:V.status==="working"?V.performance.responseTime+(Math.random()-.5)*200:V.performance.responseTime}})))},s)),()=>{T.current&&clearInterval(T.current)}),[r,s]),E.useEffect(()=>{const K=c.filter(W=>W.health==="healthy").length,V=c.filter(W=>W.health==="warning").length;c.filter(W=>W.health==="critical").length>0?C("critical"):V>K?C("warning"):C("healthy")},[c]);const O=K=>{switch(K){case"working":return i.jsx(xa,{className:"w-4 h-4 text-green-600"});case"paused":return i.jsx(jp,{className:"w-4 h-4 text-yellow-600"});case"error":return i.jsx(ny,{className:"w-4 h-4 text-red-600"});case"idle":return i.jsx(YH,{className:"w-4 h-4 text-gray-600"});case"starting":return i.jsx(Ar,{className:"w-4 h-4 text-blue-600 animate-spin"});case"stopping":return i.jsx(kD,{className:"w-4 h-4 text-orange-600"});default:return i.jsx(jl,{className:"w-4 h-4 text-gray-600"})}},I=K=>{switch(K){case"working":return"text-green-600 bg-green-100";case"paused":return"text-yellow-600 bg-yellow-100";case"error":return"text-red-600 bg-red-100";case"idle":return"text-gray-600 bg-gray-100";case"starting":return"text-blue-600 bg-blue-100";case"stopping":return"text-orange-600 bg-orange-100";default:return"text-gray-600 bg-gray-100"}},F=K=>{switch(K){case"healthy":return i.jsx(Rt,{className:"w-4 h-4 text-green-500"});case"warning":return i.jsx(jl,{className:"w-4 h-4 text-yellow-500"});case"critical":return i.jsx(ny,{className:"w-4 h-4 text-red-500"});default:return i.jsx(jl,{className:"w-4 h-4 text-gray-500"})}},M=K=>{switch(K){case"critical":return"text-red-600 bg-red-100";case"high":return"text-orange-600 bg-orange-100";case"normal":return"text-blue-600 bg-blue-100";case"low":return"text-gray-600 bg-gray-100";default:return"text-gray-600 bg-gray-100"}},S=K=>{switch(K){case"writing":return i.jsx(ga,{className:"w-4 h-4"});case"creative":return i.jsx(nr,{className:"w-4 h-4"});case"analysis":return i.jsx(zt,{className:"w-4 h-4"});case"technical":return i.jsx(Qr,{className:"w-4 h-4"});case"custom":return i.jsx(Qn,{className:"w-4 h-4"});default:return i.jsx(rh,{className:"w-4 h-4"})}},q=K=>`${K.toFixed(1)}%`,U=K=>{const V=Date.now()-K.getTime(),H=Math.floor(V/6e4),W=Math.floor(H/60);return W>0?`${W}س ${H%60}د`:`${H}د`},L=(K,V)=>{l==null||l(K,V),u(H=>H.map(W=>{if(W.id===K)switch(V){case"start":return{...W,status:"starting"};case"pause":return{...W,status:"paused"};case"stop":return{...W,status:"stopping"};case"restart":return{...W,status:"starting",progress:0};default:return W}return W})),k({title:"تم تنفيذ الأمر",description:`تم ${V==="start"?"تشغيل":V==="pause"?"إيقاف":V==="stop"?"إنهاء":"إعادة تشغيل"} الوكيل`,duration:2e3})},z=c.filter(K=>x==="all"||K.status===x).sort((K,V)=>{var H,W;switch(m){case"name":return K.name.localeCompare(V.name);case"status":return K.status.localeCompare(V.status);case"performance":return V.performance.cpu-K.performance.cpu;case"activity":return(((H=V.lastActivity)==null?void 0:H.getTime())||0)-(((W=K.lastActivity)==null?void 0:W.getTime())||0);default:return 0}}),$={total:c.length,working:c.filter(K=>K.status==="working").length,idle:c.filter(K=>K.status==="idle").length,error:c.filter(K=>K.status==="error").length,avgCpu:c.reduce((K,V)=>K+V.performance.cpu,0)/c.length,avgMemory:c.reduce((K,V)=>K+V.performance.memory,0)/c.length,totalTasks:c.reduce((K,V)=>K+V.performance.tasksCompleted,0)};return i.jsx(Ry,{children:i.jsxs(ae,{className:`
        ${t==="floating"?"fixed bottom-4 left-4 w-96 z-50 shadow-xl":""}
        ${t==="sidebar"?"w-full":""}
        ${t==="embedded"?"w-full":""}
        bg-white/95 backdrop-blur-sm border-2 border-blue-100
      `,children:[i.jsxs(Te,{className:"pb-2",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center space-x-2 space-x-reverse",children:[i.jsx(rh,{className:"w-5 h-5 text-blue-600"}),i.jsx(ke,{className:"text-lg",children:"مراقب الوكلاء"}),F(_)]}),i.jsxs("div",{className:"flex items-center space-x-1 space-x-reverse",children:[i.jsxs(F2,{children:[i.jsx(P2,{asChild:!0,children:i.jsx(xe,{variant:"ghost",size:"sm",children:i.jsx(gS,{className:"w-4 h-4"})})}),i.jsx(jy,{className:"w-48",align:"end",children:i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium",children:"الحالة:"}),i.jsxs("select",{value:x,onChange:K=>b(K.target.value),className:"w-full mt-1 p-2 border rounded-md text-sm",children:[i.jsx("option",{value:"all",children:"جميع الحالات"}),i.jsx("option",{value:"working",children:"يعمل"}),i.jsx("option",{value:"idle",children:"متاح"}),i.jsx("option",{value:"paused",children:"متوقف"}),i.jsx("option",{value:"error",children:"خطأ"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium",children:"الترتيب:"}),i.jsxs("select",{value:m,onChange:K=>g(K.target.value),className:"w-full mt-1 p-2 border rounded-md text-sm",children:[i.jsx("option",{value:"name",children:"الاسم"}),i.jsx("option",{value:"status",children:"الحالة"}),i.jsx("option",{value:"performance",children:"الأداء"}),i.jsx("option",{value:"activity",children:"النشاط"})]})]})]})})]}),i.jsxs(ti,{children:[i.jsx(ni,{asChild:!0,children:i.jsx(xe,{variant:"ghost",size:"sm",onClick:()=>N(!j),className:j?"text-blue-600":"text-gray-400",children:i.jsx(hs,{className:"w-4 h-4"})})}),i.jsx(Vr,{children:j?"إخفاء التفاصيل":"عرض التفاصيل"})]}),i.jsxs(ti,{children:[i.jsx(ni,{asChild:!0,children:i.jsx(xe,{variant:"ghost",size:"sm",children:i.jsx(Ar,{className:"w-4 h-4"})})}),i.jsx(Vr,{children:"تحديث البيانات"})]}),e&&i.jsxs(ti,{children:[i.jsx(ni,{asChild:!0,children:i.jsx(xe,{variant:"ghost",size:"sm",onClick:()=>h(!d),children:d?i.jsx(cce,{className:"w-4 h-4"}):i.jsx(XH,{className:"w-4 h-4"})})}),i.jsx(Vr,{children:d?"تصغير":"توسيع"})]}),t==="floating"&&i.jsxs(ti,{children:[i.jsx(ni,{asChild:!0,children:i.jsx(xe,{variant:"ghost",size:"sm",onClick:()=>A(!f),className:f?"text-blue-600":"text-gray-400",children:f?i.jsx(ak,{className:"w-4 h-4"}):i.jsx(sk,{className:"w-4 h-4"})})}),i.jsx(Vr,{children:f?"إلغاء التثبيت":"تثبيت النافذة"})]})]})]}),j&&i.jsxs("div",{className:"mt-3 grid grid-cols-2 gap-3 text-sm",children:[i.jsx("div",{className:"bg-blue-50 rounded-lg p-2",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("span",{className:"text-blue-700",children:"الوكلاء النشطة"}),i.jsxs("span",{className:"font-bold text-blue-800",children:[$.working,"/",$.total]})]})}),i.jsx("div",{className:"bg-green-50 rounded-lg p-2",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("span",{className:"text-green-700",children:"المهام المكتملة"}),i.jsx("span",{className:"font-bold text-green-800",children:$.totalTasks})]})}),i.jsx("div",{className:"bg-yellow-50 rounded-lg p-2",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("span",{className:"text-yellow-700",children:"متوسط المعالج"}),i.jsxs("span",{className:"font-bold text-yellow-800",children:[$.avgCpu.toFixed(1),"%"]})]})}),i.jsx("div",{className:"bg-purple-50 rounded-lg p-2",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("span",{className:"text-purple-700",children:"متوسط الذاكرة"}),i.jsxs("span",{className:"font-bold text-purple-800",children:[$.avgMemory.toFixed(0),"MB"]})]})})]})]}),d&&i.jsx(oe,{children:i.jsx(Js,{style:{maxHeight:a},className:"pr-4",children:i.jsxs("div",{className:"space-y-2",children:[z.map(K=>i.jsx(ae,{className:`cursor-pointer transition-all hover:shadow-md border-l-4 ${K.health==="healthy"?"border-l-green-500":K.health==="warning"?"border-l-yellow-500":"border-l-red-500"} ${v===K.id?"ring-2 ring-blue-200":""}`,onClick:()=>{p(v===K.id?null:K.id),o==null||o(K)},children:i.jsxs(oe,{className:"p-3",children:[i.jsxs("div",{className:"flex items-start justify-between mb-2",children:[i.jsxs("div",{className:"flex items-center space-x-2 space-x-reverse",children:[S(K.type),i.jsxs("div",{children:[i.jsx("h4",{className:"font-semibold text-sm",children:K.name}),i.jsxs("div",{className:"flex items-center space-x-1 space-x-reverse mt-1",children:[i.jsx(He,{className:`text-xs ${I(K.status)}`,children:K.status==="working"?"يعمل":K.status==="idle"?"متاح":K.status==="paused"?"متوقف":K.status==="error"?"خطأ":K.status}),i.jsx(He,{variant:"outline",className:`text-xs ${M(K.priority)}`,children:K.priority==="critical"?"حرج":K.priority==="high"?"عالي":K.priority==="normal"?"عادي":"منخفض"}),K.isCustom&&i.jsx(He,{variant:"outline",className:"text-xs border-purple-300 text-purple-600",children:"مخصص"})]})]})]}),i.jsxs("div",{className:"flex items-center space-x-1 space-x-reverse",children:[O(K.status),F(K.health),i.jsxs(F2,{children:[i.jsx(P2,{asChild:!0,children:i.jsx(xe,{variant:"ghost",size:"sm",className:"w-6 h-6 p-0",onClick:V=>V.stopPropagation(),children:i.jsx(hce,{className:"w-3 h-3"})})}),i.jsx(jy,{className:"w-40",align:"end",children:i.jsxs("div",{className:"space-y-1",children:[K.status==="working"?i.jsxs(xe,{variant:"ghost",className:"w-full justify-start",size:"sm",onClick:()=>L(K.id,"pause"),children:[i.jsx(jp,{className:"w-4 h-4 ml-2"}),"إيقاف مؤقت"]}):i.jsxs(xe,{variant:"ghost",className:"w-full justify-start",size:"sm",onClick:()=>L(K.id,"start"),children:[i.jsx(xa,{className:"w-4 h-4 ml-2"}),"تشغيل"]}),i.jsxs(xe,{variant:"ghost",className:"w-full justify-start",size:"sm",onClick:()=>L(K.id,"restart"),children:[i.jsx(Ar,{className:"w-4 h-4 ml-2"}),"إعادة تشغيل"]}),i.jsxs(xe,{variant:"ghost",className:"w-full justify-start",size:"sm",onClick:()=>L(K.id,"stop"),children:[i.jsx(kD,{className:"w-4 h-4 ml-2"}),"إيقاف"]})]})})]})]})]}),K.currentTask&&K.status==="working"&&i.jsxs("div",{className:"bg-blue-50 rounded-lg p-2 mb-2",children:[i.jsxs("div",{className:"flex items-center justify-between mb-1",children:[i.jsx("span",{className:"text-xs font-medium text-blue-800",children:"المهمة الحالية:"}),i.jsxs("span",{className:"text-xs text-blue-600",children:[K.progress,"%"]})]}),i.jsx("p",{className:"text-sm text-blue-700 mb-2",children:K.currentTask}),i.jsx(tt,{value:K.progress,className:"h-1.5"}),K.estimatedCompletion&&i.jsxs("div",{className:"flex items-center mt-1 text-xs text-blue-600",children:[i.jsx(xr,{className:"w-3 h-3 ml-1"}),"التقدير: ",U(K.estimatedCompletion)]})]}),n&&i.jsxs("div",{className:"grid grid-cols-4 gap-2 text-xs",children:[i.jsxs(ti,{children:[i.jsx(ni,{asChild:!0,children:i.jsxs("div",{className:"text-center",children:[i.jsx(j_,{className:"w-3 h-3 mx-auto mb-1 text-blue-600"}),i.jsxs("div",{className:"font-medium",children:[K.performance.cpu,"%"]})]})}),i.jsx(Vr,{children:"استخدام المعالج"})]}),i.jsxs(ti,{children:[i.jsx(ni,{asChild:!0,children:i.jsxs("div",{className:"text-center",children:[i.jsx(mce,{className:"w-3 h-3 mx-auto mb-1 text-green-600"}),i.jsxs("div",{className:"font-medium",children:[K.performance.memory,"MB"]})]})}),i.jsx(Vr,{children:"استخدام الذاكرة"})]}),i.jsxs(ti,{children:[i.jsx(ni,{asChild:!0,children:i.jsxs("div",{className:"text-center",children:[i.jsx(vr,{className:"w-3 h-3 mx-auto mb-1 text-yellow-600"}),i.jsxs("div",{className:"font-medium",children:[K.performance.responseTime,"ms"]})]})}),i.jsx(Vr,{children:"زمن الاستجابة"})]}),i.jsxs(ti,{children:[i.jsx(ni,{asChild:!0,children:i.jsxs("div",{className:"text-center",children:[i.jsx(En,{className:"w-3 h-3 mx-auto mb-1 text-purple-600"}),i.jsx("div",{className:"font-medium",children:K.performance.tasksCompleted})]})}),i.jsx(Vr,{children:"المهام المكتملة"})]})]}),v===K.id&&i.jsxs("div",{className:"mt-3 pt-2 border-t border-gray-200 space-y-2",children:[i.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[i.jsxs("div",{children:[i.jsx("span",{className:"text-gray-600",children:"وقت التشغيل:"}),i.jsx("span",{className:"font-medium mr-1",children:q(K.performance.uptime)})]}),i.jsxs("div",{children:[i.jsx("span",{className:"text-gray-600",children:"معدل الجودة:"}),i.jsxs("span",{className:"font-medium mr-1",children:[K.metrics.qualityScore,"%"]})]}),i.jsxs("div",{children:[i.jsx("span",{className:"text-gray-600",children:"رضا المستخدم:"}),i.jsxs("span",{className:"font-medium mr-1",children:[K.metrics.userSatisfaction,"%"]})]}),i.jsxs("div",{children:[i.jsx("span",{className:"text-gray-600",children:"الموثوقية:"}),i.jsxs("span",{className:"font-medium mr-1",children:[K.metrics.reliability,"%"]})]})]}),K.logs.length>0&&i.jsxs("div",{children:[i.jsx("h5",{className:"text-xs font-semibold text-gray-700 mb-1",children:"آخر الأنشطة:"}),i.jsx("div",{className:"space-y-1",children:K.logs.slice(0,2).map((V,H)=>i.jsxs("div",{className:"flex items-start space-x-2 space-x-reverse",children:[i.jsx("div",{className:`w-2 h-2 rounded-full mt-1.5 ${V.level==="error"?"bg-red-500":V.level==="warning"?"bg-yellow-500":"bg-blue-500"}`}),i.jsxs("div",{className:"flex-1",children:[i.jsx("p",{className:"text-xs text-gray-700",children:V.message}),i.jsx("p",{className:"text-xs text-gray-500",children:U(V.timestamp)})]})]},H))})]})]})]})},K.id)),z.length===0&&i.jsxs("div",{className:"text-center py-6 text-gray-500",children:[i.jsx(rh,{className:"w-12 h-12 mx-auto mb-2 opacity-50"}),i.jsx("p",{children:"لا توجد وكلاء تطابق المرشح"})]})]})})})]})})},jmt=({isOpen:t=!1,onClose:e,onAgentCreated:n,mode:r="dialog"})=>{const[s,a]=E.useState(1),[o,l]=E.useState(null),[c,u]=E.useState(""),[d,h]=E.useState(""),[f,A]=E.useState(""),[v,p]=E.useState(""),[m,g]=E.useState("ودود ومساعد"),[x,b]=E.useState([70]),[j,N]=E.useState([.7]),[_,C]=E.useState([]),[k,T]=E.useState(!1),[O,I]=E.useState(!1),{toast:F}=ki(),M=[{id:"personal-writer",name:"كاتبي الشخصي",description:"وكيل يكتب بأسلوبك الخاص المفضل",icon:ga,category:"writing",difficulty:"beginner",settings:{temperature:.7,creativity:75,style:"أسلوبي الشخصي المفضل",specialInstructions:"اكتب بنفس طريقتي في التعبير واستخدم مفرداتي المفضلة",personality:"يحاكي شخصيتي في الكتابة",expertise:["الكتابة الشخصية","التدوين","الرسائل"]},examples:["كتابة رسائل شخصية بأسلوبي","تدوين أفكاري بطريقتي المعتادة","صياغة منشورات وسائل التواصل بصوتي"],tags:["شخصي","كتابة","أسلوب","تعبير"]},{id:"creative-storyteller",name:"الراوي الإبداعي",description:"متخصص في القصص والسرد الإبداعي",icon:nr,category:"creative",difficulty:"intermediate",settings:{temperature:.8,creativity:90,style:"سردي إبداعي مع صور بلاغية",specialInstructions:"استخدم تقنيات السرد المتقدمة والوصف الغني",personality:"مبدع ومتخيل",expertise:["السرد","القصص القصيرة","الروايات","الحوار"]},examples:["كتابة قصص قصيرة مشوقة","تطوير شخصيات معقدة","إنشاء حوارات طبيعية ومؤثرة"],tags:["إبداع","قصص","سرد","تخيل"]},{id:"academic-researcher",name:"الباحث الأكاديمي",description:"متخصص في البحث الأكاديمي والكتابة العلمية",icon:zt,category:"academic",difficulty:"advanced",settings:{temperature:.3,creativity:40,style:"أكاديمي رسمي مع مراجع",specialInstructions:"استخدم منهجية البحث العلمي والمراجع الموثوقة",personality:"منطقي ومنهجي",expertise:["البحث العلمي","المراجع","التحليل","الإحصاء"]},examples:["كتابة ملخصات بحثية","تحليل البيانات والنتائج","صياغة المراجع الأكاديمية"],tags:["أكاديمي","بحث","علمي","تحليل"]},{id:"business-expert",name:"خبير الأعمال",description:"متخصص في المحتوى التجاري والتسويقي",icon:En,category:"business",difficulty:"intermediate",settings:{temperature:.6,creativity:60,style:"مهني ومقنع",specialInstructions:"ركز على القيمة المضافة والفوائد للعملاء",personality:"مهني ومقنع",expertise:["التسويق","المبيعات","العروض التقديمية","التحليل التجاري"]},examples:["كتابة عروض تجارية مقنعة","إنشاء محتوى تسويقي فعال","تحليل السوق والمنافسين"],tags:["أعمال","تسويق","مبيعات","مهني"]},{id:"poetry-composer",name:"ناظم الشعر",description:"متخصص في كتابة الشعر والقوافي",icon:Qn,category:"poetry",difficulty:"advanced",settings:{temperature:.85,creativity:95,style:"شعري بليغ مع قوافي",specialInstructions:"اهتم بالوزن والقافية والصور الشعرية الجميلة",personality:"شاعري ومرهف",expertise:["الشعر العربي","القوافي","البحور","الصور الشعرية"]},examples:["نظم قصائد في مواضيع مختلفة","كتابة شعر غنائي ووجداني","إبداع قصائد مناسبات"],tags:["شعر","قوافي","بلاغة","فن"]},{id:"tech-explainer",name:"شارح التقنية",description:"يبسط المفاهيم التقنية المعقدة",icon:w_,category:"technology",difficulty:"intermediate",settings:{temperature:.5,creativity:50,style:"تقني مبسط وواضح",specialInstructions:"استخدم أمثلة واقعية وتشبيهات لتبسيط المفاهيم المعقدة",personality:"تعليمي وصبور",expertise:["التقنية","البرمجة","الذكاء الاصطناعي","التبسيط"]},examples:["شرح المفاهيم التقنية ببساطة","كتابة دلائل تقنية واضحة","تبسيط موضوعات البرمجة"],tags:["تقنية","تعليم","تبسيط","شرح"]}],S=[{id:1,title:"اختر القالب",description:"ابدأ بقالب جاهز أو من الصفر"},{id:2,title:"المعلومات الأساسية",description:"اسم الوكيل ووصفه"},{id:3,title:"الشخصية والأسلوب",description:"حدد طريقة تفاعل الوكيل"},{id:4,title:"الإعدادات المتقدمة",description:"ضبط دقيق للأداء"},{id:5,title:"المراجعة والإنشاء",description:"تأكد من الإعدادات وأنشئ الوكيل"}],q=["ودود ومساعد","مهني وجدي","مرح ومتفائل","هادئ ومتأمل","حماسي ومتحفز","دقيق ومنهجي","إبداعي ومتجدد","حكيم وناصح"],U=["الكتابة الإبداعية","الكتابة الأكاديمية","كتابة المحتوى","التدوين","التسويق","الترجمة","التحرير","البحث","التحليل","القصص","الشعر","المراسلات","العروض التقديمية","وسائل التواصل","التقنية","الأعمال"],L=ee=>{l(ee),u(ee.name),h(ee.description),A(ee.settings.style),p(ee.settings.specialInstructions),g(ee.settings.personality),b([ee.settings.creativity]),N([ee.settings.temperature]),C(ee.settings.expertise),a(2)},z=async()=>{if(!c.trim()){F({title:"خطأ",description:"يرجى إدخال اسم الوكيل",variant:"destructive"});return}T(!0);try{await new Promise(ie=>setTimeout(ie,2e3));const ee={id:`agent-${Date.now()}`,name:c,description:d,type:(o==null?void 0:o.category)||"custom",settings:{temperature:j[0],creativity:x[0],style:f,specialInstructions:v,personality:m,expertise:_},status:"idle",isCustom:!0,createdAt:new Date};n==null||n(ee),F({title:"تم الإنشاء بنجاح!",description:`تم إنشاء الوكيل "${c}" بنجاح`,duration:3e3}),$(),e==null||e()}catch{F({title:"خطأ في الإنشاء",description:"حدث خطأ أثناء إنشاء الوكيل",variant:"destructive"})}finally{T(!1)}},$=()=>{a(1),l(null),u(""),h(""),A(""),p(""),g("ودود ومساعد"),b([70]),N([.7]),C([])},K=ee=>{C(ie=>ie.includes(ee)?ie.filter(se=>se!==ee):[...ie,ee])},V=()=>{const ee=M[Math.floor(Math.random()*M.length)],ie=q[Math.floor(Math.random()*q.length)];u(`${ee.name} ${Math.floor(Math.random()*100)}`),h(`${ee.description} - نسخة مخصصة`),A(ee.settings.style),p(ee.settings.specialInstructions),g(ie),b([Math.floor(Math.random()*50)+50]),N([Math.round((Math.random()*.6+.3)*10)/10]),C(ee.settings.expertise.slice(0,Math.floor(Math.random()*3)+2))},H=()=>i.jsx("div",{className:"flex items-center justify-between mb-6",children:S.map((ee,ie)=>i.jsxs("div",{className:"flex items-center",children:[i.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-sm font-medium transition-colors ${ee.id<=s?"bg-blue-600 text-white":"bg-gray-200 text-gray-600"}`,children:ee.id<s?i.jsx(Rt,{className:"w-4 h-4"}):ee.id}),ie<S.length-1&&i.jsx("div",{className:`w-12 h-1 mx-2 transition-colors ${ee.id<s?"bg-blue-600":"bg-gray-200"}`})]},ee.id))}),W=()=>{switch(s){case 1:return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"text-center",children:[i.jsx("h3",{className:"text-xl font-bold mb-2",children:"اختر نقطة البداية"}),i.jsx("p",{className:"text-gray-600",children:"ابدأ بقالب جاهز أو أنشئ وكيلاً من الصفر"})]}),i.jsxs("div",{className:"flex flex-col space-y-4",children:[i.jsx(xe,{variant:"outline",className:"h-16 text-right justify-start",onClick:()=>a(2),children:i.jsxs("div",{className:"flex items-center space-x-3 space-x-reverse",children:[i.jsx(us,{className:"w-6 h-6 text-blue-600"}),i.jsxs("div",{children:[i.jsx("div",{className:"font-semibold",children:"إنشاء من الصفر"}),i.jsx("div",{className:"text-sm text-gray-600",children:"ابدأ بصفحة فارغة وأنشئ وكيلاً مخصصاً تماماً"})]})]})}),i.jsx(xe,{variant:"outline",className:"h-16 text-right justify-start",onClick:V,children:i.jsxs("div",{className:"flex items-center space-x-3 space-x-reverse",children:[i.jsx(v5e,{className:"w-6 h-6 text-purple-600"}),i.jsxs("div",{children:[i.jsx("div",{className:"font-semibold",children:"إنشاء عشوائي"}),i.jsx("div",{className:"text-sm text-gray-600",children:"اترك الاختيار للنظام وأنشئ وكيلاً بإعدادات عشوائية"})]})]})})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsx("h4",{className:"font-semibold text-lg",children:"أو اختر من القوالب الجاهزة:"}),i.jsx(Js,{className:"h-80",children:i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:M.map(ee=>{const ie=ee.icon;return i.jsx(ae,{className:"cursor-pointer transition-all hover:shadow-md hover:border-blue-300",onClick:()=>L(ee),children:i.jsx(oe,{className:"p-4",children:i.jsxs("div",{className:"flex items-start space-x-3 space-x-reverse",children:[i.jsx(ie,{className:"w-8 h-8 text-blue-600 flex-shrink-0"}),i.jsxs("div",{className:"flex-1",children:[i.jsx("h5",{className:"font-semibold mb-1",children:ee.name}),i.jsx("p",{className:"text-sm text-gray-600 mb-2",children:ee.description}),i.jsxs("div",{className:"flex flex-wrap gap-1 mb-2",children:[i.jsx(He,{variant:"outline",className:`text-xs ${ee.difficulty==="beginner"?"border-green-300 text-green-600":ee.difficulty==="intermediate"?"border-yellow-300 text-yellow-600":"border-red-300 text-red-600"}`,children:ee.difficulty==="beginner"?"مبتدئ":ee.difficulty==="intermediate"?"متوسط":"متقدم"}),ee.tags.slice(0,2).map(se=>i.jsx(He,{variant:"secondary",className:"text-xs",children:se},se))]}),i.jsxs("div",{className:"text-xs text-gray-500",children:[i.jsx("strong",{children:"التخصصات:"})," ",ee.settings.expertise.slice(0,2).join("، "),ee.settings.expertise.length>2&&"..."]})]})]})})},ee.id)})})})]})]});case 2:return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"text-center",children:[i.jsx("h3",{className:"text-xl font-bold mb-2",children:"المعلومات الأساسية"}),i.jsx("p",{className:"text-gray-600",children:"حدد اسم ووصف الوكيل الخاص بك"})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx(Dt,{htmlFor:"agentName",children:"اسم الوكيل *"}),i.jsx(wn,{id:"agentName",value:c,onChange:ee=>u(ee.target.value),placeholder:"مثال: مساعدي الشخصي للكتابة",className:"mt-1"})]}),i.jsxs("div",{children:[i.jsx(Dt,{htmlFor:"agentDescription",children:"وصف الوكيل"}),i.jsx("textarea",{id:"agentDescription",value:d,onChange:ee=>h(ee.target.value),placeholder:"وصف موجز لما يقوم به هذا الوكيل...",className:"w-full mt-1 p-3 border rounded-md h-20 resize-none"})]}),o&&i.jsx(ae,{className:"bg-blue-50 border-blue-200",children:i.jsxs(oe,{className:"p-4",children:[i.jsxs("div",{className:"flex items-center space-x-2 space-x-reverse",children:[i.jsx(o.icon,{className:"w-5 h-5 text-blue-600"}),i.jsxs("span",{className:"font-medium text-blue-800",children:["مبني على قالب: ",o.name]})]}),i.jsx("p",{className:"text-sm text-blue-700 mt-1",children:o.description})]})})]})]});case 3:return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"text-center",children:[i.jsx("h3",{className:"text-xl font-bold mb-2",children:"الشخصية والأسلوب"}),i.jsx("p",{className:"text-gray-600",children:"حدد كيف سيتفاعل الوكيل ويكتب"})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx(Dt,{htmlFor:"agentStyle",children:"أسلوب الكتابة"}),i.jsx(wn,{id:"agentStyle",value:f,onChange:ee=>A(ee.target.value),placeholder:"مثال: رسمي ومهني، إبداعي وشاعري، بسيط ومباشر",className:"mt-1"})]}),i.jsxs("div",{children:[i.jsx(Dt,{children:"الشخصية"}),i.jsx("div",{className:"grid grid-cols-2 gap-2 mt-2",children:q.map(ee=>i.jsx(xe,{variant:m===ee?"default":"outline",size:"sm",onClick:()=>g(ee),className:"text-sm",children:ee},ee))})]}),i.jsxs("div",{children:[i.jsx(Dt,{children:"مجالات التخصص"}),i.jsx("div",{className:"grid grid-cols-2 gap-2 mt-2 max-h-32 overflow-y-auto",children:U.map(ee=>i.jsx(xe,{variant:_.includes(ee)?"default":"outline",size:"sm",onClick:()=>K(ee),className:"text-xs",children:ee},ee))}),_.length>0&&i.jsxs("div",{className:"mt-2 text-sm text-gray-600",children:["التخصصات المختارة: ",_.length]})]}),i.jsxs("div",{children:[i.jsx(Dt,{htmlFor:"specialInstructions",children:"تعليمات خاصة"}),i.jsx("textarea",{id:"specialInstructions",value:v,onChange:ee=>p(ee.target.value),placeholder:"أي تعليمات محددة تريد من الوكيل اتباعها...",className:"w-full mt-1 p-3 border rounded-md h-20 resize-none"})]})]})]});case 4:return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"text-center",children:[i.jsx("h3",{className:"text-xl font-bold mb-2",children:"الإعدادات المتقدمة"}),i.jsx("p",{className:"text-gray-600",children:"ضبط دقيق لأداء الوكيل"})]}),i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{children:[i.jsxs(Dt,{children:["مستوى الإبداع: ",x[0],"%"]}),i.jsxs("div",{className:"mt-2",children:[i.jsx(pi,{value:x,onValueChange:b,max:100,step:5,className:"mb-2"}),i.jsxs("div",{className:"flex justify-between text-xs text-gray-500",children:[i.jsx("span",{children:"منطقي ومحافظ"}),i.jsx("span",{children:"متوازن"}),i.jsx("span",{children:"إبداعي ومغامر"})]})]})]}),i.jsxs("div",{children:[i.jsxs(Dt,{children:["درجة العشوائية: ",j[0]]}),i.jsxs("div",{className:"mt-2",children:[i.jsx(pi,{value:j,onValueChange:N,max:1,step:.1,className:"mb-2"}),i.jsxs("div",{className:"flex justify-between text-xs text-gray-500",children:[i.jsx("span",{children:"ثابت ومتسق"}),i.jsx("span",{children:"متوازن"}),i.jsx("span",{children:"متنوع ومتغير"})]})]})]}),i.jsx(ae,{className:"bg-gray-50",children:i.jsxs(oe,{className:"p-4",children:[i.jsxs("h4",{className:"font-semibold mb-2 flex items-center",children:[i.jsx(Go,{className:"w-4 h-4 ml-2"}),"نصائح للإعدادات"]}),i.jsxs("ul",{className:"text-sm text-gray-700 space-y-1",children:[i.jsxs("li",{children:["• ",i.jsx("strong",{children:"الإبداع العالي"}),": مناسب للكتابة الفنية والشعر"]}),i.jsxs("li",{children:["• ",i.jsx("strong",{children:"الإبداع المنخفض"}),": أفضل للكتابة التقنية والأكاديمية"]}),i.jsxs("li",{children:["• ",i.jsx("strong",{children:"العشوائية العالية"}),": تنتج محتوى أكثر تنوعاً"]}),i.jsxs("li",{children:["• ",i.jsx("strong",{children:"العشوائية المنخفضة"}),": تحافظ على الاتساق"]})]})]})})]})]});case 5:return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"text-center",children:[i.jsx("h3",{className:"text-xl font-bold mb-2",children:"مراجعة وتأكيد"}),i.jsx("p",{className:"text-gray-600",children:"تأكد من الإعدادات قبل إنشاء الوكيل"})]}),i.jsx(ae,{children:i.jsx(oe,{className:"p-6",children:i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center space-x-3 space-x-reverse",children:[i.jsx(rh,{className:"w-8 h-8 text-blue-600"}),i.jsxs("div",{children:[i.jsx("h4",{className:"text-xl font-bold",children:c}),i.jsx("p",{className:"text-gray-600",children:d})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 pt-4 border-t",children:[i.jsxs("div",{children:[i.jsx("h5",{className:"font-semibold mb-2",children:"الشخصية والأسلوب"}),i.jsxs("div",{className:"space-y-2 text-sm",children:[i.jsxs("div",{children:[i.jsx("strong",{children:"الشخصية:"})," ",m]}),i.jsxs("div",{children:[i.jsx("strong",{children:"أسلوب الكتابة:"})," ",f]}),i.jsxs("div",{children:[i.jsx("strong",{children:"التخصصات:"})," ",_.slice(0,3).join("، "),_.length>3&&"..."]})]})]}),i.jsxs("div",{children:[i.jsx("h5",{className:"font-semibold mb-2",children:"الإعدادات التقنية"}),i.jsxs("div",{className:"space-y-2 text-sm",children:[i.jsxs("div",{children:[i.jsx("strong",{children:"مستوى الإبداع:"})," ",x[0],"%"]}),i.jsxs("div",{children:[i.jsx("strong",{children:"درجة العشوائية:"})," ",j[0]]}),i.jsxs("div",{children:[i.jsx("strong",{children:"النوع:"})," ",(o==null?void 0:o.category)||"مخصص"]})]})]})]}),v&&i.jsxs("div",{className:"pt-4 border-t",children:[i.jsx("h5",{className:"font-semibold mb-2",children:"التعليمات الخاصة"}),i.jsx("p",{className:"text-sm text-gray-700 bg-gray-50 p-3 rounded-md",children:v})]}),o&&i.jsx("div",{className:"pt-4 border-t",children:i.jsxs("div",{className:"flex items-center space-x-2 space-x-reverse text-sm text-blue-700",children:[i.jsx(o.icon,{className:"w-4 h-4"}),i.jsxs("span",{children:["مبني على قالب: ",o.name]})]})})]})})}),i.jsx("div",{className:"flex items-center space-x-2 space-x-reverse",children:i.jsxs(xe,{variant:"outline",size:"sm",onClick:()=>I(!O),children:[O?i.jsx(aB,{className:"w-4 h-4 ml-2"}):i.jsx(Vn,{className:"w-4 h-4 ml-2"}),O?"إخفاء المعاينة":"معاينة الوكيل"]})}),O&&i.jsxs(ae,{className:"bg-blue-50 border-blue-200",children:[i.jsx(Te,{children:i.jsx(ke,{className:"text-sm",children:"معاينة سريعة"})}),i.jsx(oe,{children:i.jsxs("div",{className:"bg-white rounded-md p-3 text-sm",children:[i.jsxs("div",{className:"font-medium text-blue-800 mb-2",children:["مرحباً! أنا ",c]}),i.jsxs("p",{className:"text-gray-700",children:[d,". أتميز بشخصية ",m.toLowerCase()," وأكتب بأسلوب ",f.toLowerCase(),".",_.length>0&&` أتخصص في ${_.slice(0,2).join(" و")}.`]})]})})]})]});default:return null}},Y=i.jsx(Ry,{children:i.jsxs("div",{className:"max-w-4xl mx-auto",children:[i.jsx(H,{}),i.jsx(ae,{children:i.jsxs(oe,{className:"p-6",children:[W(),i.jsxs("div",{className:"flex justify-between items-center pt-6 mt-6 border-t",children:[i.jsxs(xe,{variant:"outline",onClick:()=>a(Math.max(1,s-1)),disabled:s===1,children:[i.jsx(ea,{className:"w-4 h-4 ml-2"}),"السابق"]}),i.jsx("div",{className:"flex items-center space-x-2 space-x-reverse",children:i.jsxs("span",{className:"text-sm text-gray-500",children:["الخطوة ",s," من ",S.length]})}),i.jsx("div",{className:"flex space-x-2 space-x-reverse",children:s<S.length?i.jsxs(xe,{onClick:()=>a(s+1),disabled:s===2&&!c.trim(),children:["التالي",i.jsx(AS,{className:"w-4 h-4 mr-2"})]}):i.jsx(xe,{onClick:z,disabled:k,className:"bg-green-600 hover:bg-green-700",children:k?i.jsxs(i.Fragment,{children:[i.jsx(Ar,{className:"w-4 h-4 ml-2 animate-spin"}),"جاري الإنشاء..."]}):i.jsxs(i.Fragment,{children:[i.jsx(Ha,{className:"w-4 h-4 ml-2"}),"إنشاء الوكيل"]})})})]})]})})]})});return r==="dialog"?i.jsx(Xc,{open:t,onOpenChange:e,children:i.jsxs(oc,{className:"max-w-5xl max-h-[90vh] overflow-y-auto",children:[i.jsx(lc,{children:i.jsxs(cc,{className:"flex items-center space-x-2 space-x-reverse",children:[i.jsx(us,{className:"w-5 h-5 text-blue-600"}),i.jsx("span",{children:"إنشاء وكيل مخصص جديد"})]})}),Y]})}):Y},Nmt=({onPageChange:t,currentPage:e="dashboard"})=>{const[n,r]=E.useState({showQuickToolbar:!0,showAgentMonitor:!0,showToolsPanel:!0,toolbarPosition:"floating",monitorPosition:"floating",autoHide:!0,compactMode:!1,enableNotifications:!0,enableSounds:!1,refreshInterval:2e3,maxVisibleTools:6}),[s,a]=E.useState(!1),[o,l]=E.useState(!1),[c,u]=E.useState(!1),[d,h]=E.useState({totalAgents:4,activeAgents:2,totalTools:12,activeTools:8,systemHealth:"healthy",avgPerformance:85,memoryUsage:2048,cpuUsage:35,uptime:99.2}),{toast:f}=ki();E.useEffect(()=>{const x=setInterval(()=>{h(b=>({...b,cpuUsage:Math.max(10,Math.min(80,b.cpuUsage+(Math.random()-.5)*10)),memoryUsage:Math.max(1024,Math.min(4096,b.memoryUsage+(Math.random()-.5)*100)),avgPerformance:Math.max(70,Math.min(100,b.avgPerformance+(Math.random()-.5)*5))}))},n.refreshInterval);return()=>clearInterval(x)},[n.refreshInterval]);const A=(x,b)=>{r(j=>({...j,[x]:b})),f({title:"تم تحديث الإعدادات",description:"تم حفظ التغييرات بنجاح",duration:2e3})},v=x=>{h(b=>({...b,totalAgents:b.totalAgents+1})),f({title:"وكيل جديد!",description:`تم إنشاء "${x.name}" بنجاح`,duration:3e3})},p=x=>{switch(x){case"healthy":return i.jsx(Rt,{className:"w-4 h-4 text-green-500"});case"warning":return i.jsx(jl,{className:"w-4 h-4 text-yellow-500"});case"critical":return i.jsx(ny,{className:"w-4 h-4 text-red-500"});default:return i.jsx(jl,{className:"w-4 h-4 text-gray-500"})}},m=x=>`${x.toFixed(1)}%`,g=x=>`${(x/1024).toFixed(1)}GB`;return i.jsx(Ry,{children:i.jsxs("div",{className:"seamless-integration-hub",children:[n.showQuickToolbar&&i.jsx(bmt,{position:n.toolbarPosition,isCompact:n.compactMode,autoHide:n.autoHide,maxTools:n.maxVisibleTools,onCreateAgent:()=>l(!0)}),n.showAgentMonitor&&i.jsx(wmt,{position:n.monitorPosition,showMetrics:!0,autoRefresh:!0,refreshInterval:n.refreshInterval,onAgentAction:(x,b)=>{f({title:"تم تنفيذ الأمر",description:`تم ${b} الوكيل بنجاح`,duration:2e3})}}),n.showToolsPanel&&i.jsx(xmt,{isFloating:!0,position:"floating",autoHide:n.autoHide}),i.jsx(ae,{className:"fixed top-4 right-4 z-50 shadow-xl bg-white/95 backdrop-blur-sm border-2 border-blue-100",children:i.jsx(oe,{className:"p-3",children:i.jsxs("div",{className:"flex items-center space-x-2 space-x-reverse",children:[i.jsxs(ti,{children:[i.jsx(ni,{asChild:!0,children:i.jsxs("div",{className:"flex items-center space-x-1 space-x-reverse px-2 py-1 rounded-md bg-gray-50",children:[p(d.systemHealth),i.jsxs("span",{className:"text-xs font-medium",children:[d.activeAgents,"/",d.totalAgents]})]})}),i.jsx(Vr,{children:i.jsxs("div",{className:"text-sm space-y-1",children:[i.jsxs("div",{children:["الوكلاء النشطة: ",d.activeAgents,"/",d.totalAgents]}),i.jsxs("div",{children:["الأدوات النشطة: ",d.activeTools,"/",d.totalTools]}),i.jsxs("div",{children:["حالة النظام: ",d.systemHealth==="healthy"?"سليم":d.systemHealth==="warning"?"تحذير":"خطأ"]}),i.jsxs("div",{children:["الأداء: ",d.avgPerformance,"%"]}),i.jsxs("div",{children:["وقت التشغيل: ",m(d.uptime)]})]})})]}),i.jsx("div",{className:"w-px h-6 bg-gray-300"}),i.jsxs(ti,{children:[i.jsx(ni,{asChild:!0,children:i.jsx(xe,{variant:"ghost",size:"sm",onClick:()=>l(!0),className:"text-green-600 hover:text-green-700 hover:bg-green-50",children:i.jsx(us,{className:"w-4 h-4"})})}),i.jsx(Vr,{children:"إنشاء وكيل جديد"})]}),i.jsxs(ti,{children:[i.jsx(ni,{asChild:!0,children:i.jsx(xe,{variant:"ghost",size:"sm",onClick:()=>A("showAgentMonitor",!n.showAgentMonitor),className:n.showAgentMonitor?"text-blue-600":"text-gray-400",children:i.jsx(Rs,{className:"w-4 h-4"})})}),i.jsx(Vr,{children:n.showAgentMonitor?"إخفاء مراقب الوكلاء":"عرض مراقب الوكلاء"})]}),i.jsxs(ti,{children:[i.jsx(ni,{asChild:!0,children:i.jsx(xe,{variant:"ghost",size:"sm",onClick:()=>A("showQuickToolbar",!n.showQuickToolbar),className:n.showQuickToolbar?"text-blue-600":"text-gray-400",children:i.jsx(bf,{className:"w-4 h-4"})})}),i.jsx(Vr,{children:n.showQuickToolbar?"إخفاء شريط الأدوات":"عرض شريط الأدوات"})]}),i.jsxs(F2,{children:[i.jsx(P2,{asChild:!0,children:i.jsx(xe,{variant:"ghost",size:"sm",children:i.jsx(Qr,{className:"w-4 h-4"})})}),i.jsx(jy,{className:"w-72",align:"end",children:i.jsxs("div",{className:"space-y-4",children:[i.jsx("h4",{className:"font-semibold",children:"إعدادات النظام"}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("span",{className:"text-sm",children:"شريط الأدوات السريع"}),i.jsx(xe,{variant:"ghost",size:"sm",onClick:()=>A("showQuickToolbar",!n.showQuickToolbar),children:n.showQuickToolbar?i.jsx(Vn,{className:"w-4 h-4"}):i.jsx(aB,{className:"w-4 h-4"})})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("span",{className:"text-sm",children:"مراقب الوكلاء"}),i.jsx(xe,{variant:"ghost",size:"sm",onClick:()=>A("showAgentMonitor",!n.showAgentMonitor),children:n.showAgentMonitor?i.jsx(Vn,{className:"w-4 h-4"}):i.jsx(aB,{className:"w-4 h-4"})})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("span",{className:"text-sm",children:"لوحة الأدوات"}),i.jsx(xe,{variant:"ghost",size:"sm",onClick:()=>A("showToolsPanel",!n.showToolsPanel),children:n.showToolsPanel?i.jsx(Vn,{className:"w-4 h-4"}):i.jsx(aB,{className:"w-4 h-4"})})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("span",{className:"text-sm",children:"الإخفاء التلقائي"}),i.jsx(xe,{variant:"ghost",size:"sm",onClick:()=>A("autoHide",!n.autoHide),children:n.autoHide?i.jsx(ak,{className:"w-4 h-4"}):i.jsx(sk,{className:"w-4 h-4"})})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("span",{className:"text-sm",children:"الوضع المضغوط"}),i.jsx(xe,{variant:"ghost",size:"sm",onClick:()=>A("compactMode",!n.compactMode),children:n.compactMode?i.jsx(ry,{className:"w-4 h-4"}):i.jsx(xS,{className:"w-4 h-4"})})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("span",{className:"text-sm",children:"التنبيهات"}),i.jsx(xe,{variant:"ghost",size:"sm",onClick:()=>A("enableNotifications",!n.enableNotifications),children:n.enableNotifications?i.jsx(Rt,{className:"w-4 h-4"}):i.jsx(ny,{className:"w-4 h-4"})})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("span",{className:"text-sm",children:"الأصوات"}),i.jsx(xe,{variant:"ghost",size:"sm",onClick:()=>A("enableSounds",!n.enableSounds),children:n.enableSounds?i.jsx(JH,{className:"w-4 h-4"}):i.jsx(E5e,{className:"w-4 h-4"})})]})]}),i.jsx("div",{className:"pt-3 border-t",children:i.jsxs("div",{className:"text-sm space-y-2",children:[i.jsxs("div",{children:[i.jsx("span",{className:"text-gray-600",children:"معدل التحديث:"}),i.jsxs("select",{value:n.refreshInterval,onChange:x=>A("refreshInterval",parseInt(x.target.value)),className:"w-full mt-1 p-1 border rounded text-xs",children:[i.jsx("option",{value:1e3,children:"ثانية واحدة"}),i.jsx("option",{value:2e3,children:"ثانيتان"}),i.jsx("option",{value:5e3,children:"5 ثوانِ"}),i.jsx("option",{value:1e4,children:"10 ثوانِ"})]})]}),i.jsxs("div",{children:[i.jsx("span",{className:"text-gray-600",children:"موضع شريط الأدوات:"}),i.jsxs("select",{value:n.toolbarPosition,onChange:x=>A("toolbarPosition",x.target.value),className:"w-full mt-1 p-1 border rounded text-xs",children:[i.jsx("option",{value:"floating",children:"عائم"}),i.jsx("option",{value:"top",children:"أعلى"}),i.jsx("option",{value:"bottom",children:"أسفل"})]})]}),i.jsxs("div",{children:[i.jsx("span",{className:"text-gray-600",children:"موضع المراقب:"}),i.jsxs("select",{value:n.monitorPosition,onChange:x=>A("monitorPosition",x.target.value),className:"w-full mt-1 p-1 border rounded text-xs",children:[i.jsx("option",{value:"floating",children:"عائم"}),i.jsx("option",{value:"sidebar",children:"شريط جانبي"}),i.jsx("option",{value:"embedded",children:"مدمج"})]})]})]})}),i.jsx(xe,{className:"w-full",size:"sm",onClick:()=>a(!0),children:"إعدادات متقدمة"})]})})]})]})})}),i.jsx(ae,{className:"fixed bottom-4 right-4 z-40 shadow-lg bg-white/90 backdrop-blur-sm border border-gray-200",children:i.jsx(oe,{className:"p-3",children:i.jsxs("div",{className:"flex items-center space-x-3 space-x-reverse text-xs",children:[i.jsxs(ti,{children:[i.jsx(ni,{asChild:!0,children:i.jsxs("div",{className:"flex items-center space-x-1 space-x-reverse",children:[i.jsx(j_,{className:"w-3 h-3 text-blue-600"}),i.jsxs("span",{className:"font-medium",children:[d.cpuUsage.toFixed(0),"%"]})]})}),i.jsx(Vr,{children:"استخدام المعالج"})]}),i.jsxs(ti,{children:[i.jsx(ni,{asChild:!0,children:i.jsxs("div",{className:"flex items-center space-x-1 space-x-reverse",children:[i.jsx(mce,{className:"w-3 h-3 text-green-600"}),i.jsx("span",{className:"font-medium",children:g(d.memoryUsage)})]})}),i.jsx(Vr,{children:"استخدام الذاكرة"})]}),i.jsxs(ti,{children:[i.jsx(ni,{asChild:!0,children:i.jsxs("div",{className:"flex items-center space-x-1 space-x-reverse",children:[i.jsx(Ace,{className:"w-3 h-3 text-purple-600"}),i.jsxs("span",{className:"font-medium",children:[d.avgPerformance.toFixed(0),"%"]})]})}),i.jsx(Vr,{children:"متوسط الأداء"})]}),i.jsxs(ti,{children:[i.jsx(ni,{asChild:!0,children:i.jsxs("div",{className:"flex items-center space-x-1 space-x-reverse",children:[i.jsx(xr,{className:"w-3 h-3 text-orange-600"}),i.jsx("span",{className:"font-medium",children:m(d.uptime)})]})}),i.jsx(Vr,{children:"وقت التشغيل"})]})]})})}),i.jsx(jmt,{isOpen:o,onClose:()=>l(!1),onAgentCreated:v,mode:"dialog"}),i.jsx(Xc,{open:s,onOpenChange:a,children:i.jsxs(oc,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[i.jsx(lc,{children:i.jsx(cc,{children:"إعدادات النظام المتقدمة"})}),i.jsxs(zn,{defaultValue:"display",className:"mt-4",children:[i.jsxs(On,{className:"grid w-full grid-cols-4",children:[i.jsx(nt,{value:"display",children:"العرض"}),i.jsx(nt,{value:"performance",children:"الأداء"}),i.jsx(nt,{value:"notifications",children:"التنبيهات"}),i.jsx(nt,{value:"advanced",children:"متقدم"})]}),i.jsx(rt,{value:"display",className:"space-y-4",children:i.jsxs(ae,{children:[i.jsx(Te,{children:i.jsx(ke,{className:"text-lg",children:"إعدادات العرض"})}),i.jsxs(oe,{className:"space-y-4",children:[i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium",children:"موضع شريط الأدوات"}),i.jsxs("select",{value:n.toolbarPosition,onChange:x=>A("toolbarPosition",x.target.value),className:"w-full mt-1 p-2 border rounded-md",children:[i.jsx("option",{value:"floating",children:"عائم"}),i.jsx("option",{value:"top",children:"أعلى الصفحة"}),i.jsx("option",{value:"bottom",children:"أسفل الصفحة"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium",children:"موضع مراقب الوكلاء"}),i.jsxs("select",{value:n.monitorPosition,onChange:x=>A("monitorPosition",x.target.value),className:"w-full mt-1 p-2 border rounded-md",children:[i.jsx("option",{value:"floating",children:"عائم"}),i.jsx("option",{value:"sidebar",children:"شريط جانبي"}),i.jsx("option",{value:"embedded",children:"مدمج في الصفحة"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium",children:"عدد الأدوات المرئية"}),i.jsx("input",{type:"number",min:"3",max:"12",value:n.maxVisibleTools,onChange:x=>A("maxVisibleTools",parseInt(x.target.value)),className:"w-full mt-1 p-2 border rounded-md"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium",children:"معدل التحديث (بالملي ثانية)"}),i.jsx("input",{type:"number",min:"1000",max:"30000",step:"1000",value:n.refreshInterval,onChange:x=>A("refreshInterval",parseInt(x.target.value)),className:"w-full mt-1 p-2 border rounded-md"})]})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("span",{children:"الإخفاء التلقائي للعناصر العائمة"}),i.jsx(xe,{variant:n.autoHide?"default":"outline",size:"sm",onClick:()=>A("autoHide",!n.autoHide),children:n.autoHide?"مفعل":"معطل"})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("span",{children:"الوضع المضغوط"}),i.jsx(xe,{variant:n.compactMode?"default":"outline",size:"sm",onClick:()=>A("compactMode",!n.compactMode),children:n.compactMode?"مفعل":"معطل"})]})]})]})]})}),i.jsx(rt,{value:"performance",className:"space-y-4",children:i.jsxs(ae,{children:[i.jsx(Te,{children:i.jsx(ke,{className:"text-lg",children:"إعدادات الأداء"})}),i.jsx(oe,{className:"space-y-4",children:i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx("h4",{className:"font-semibold",children:"مقاييس النظام الحالية"}),i.jsxs("div",{className:"space-y-1 text-sm",children:[i.jsxs("div",{children:["المعالج: ",d.cpuUsage.toFixed(1),"%"]}),i.jsxs("div",{children:["الذاكرة: ",g(d.memoryUsage)]}),i.jsxs("div",{children:["الأداء: ",d.avgPerformance.toFixed(1),"%"]}),i.jsxs("div",{children:["وقت التشغيل: ",m(d.uptime)]})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("h4",{className:"font-semibold",children:"إحصائيات الاستخدام"}),i.jsxs("div",{className:"space-y-1 text-sm",children:[i.jsxs("div",{children:["الوكلاء النشطة: ",d.activeAgents,"/",d.totalAgents]}),i.jsxs("div",{children:["الأدوات النشطة: ",d.activeTools,"/",d.totalTools]}),i.jsxs("div",{children:["حالة النظام: ",d.systemHealth==="healthy"?"سليم":d.systemHealth==="warning"?"تحذير":"خطأ"]})]})]})]})})]})}),i.jsx(rt,{value:"notifications",className:"space-y-4",children:i.jsxs(ae,{children:[i.jsx(Te,{children:i.jsx(ke,{className:"text-lg",children:"إعدادات التنبيهات"})}),i.jsx(oe,{className:"space-y-4",children:i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("span",{children:"تفعيل التنبيهات"}),i.jsx(xe,{variant:n.enableNotifications?"default":"outline",size:"sm",onClick:()=>A("enableNotifications",!n.enableNotifications),children:n.enableNotifications?"مفعل":"معطل"})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("span",{children:"تفعيل الأصوات"}),i.jsx(xe,{variant:n.enableSounds?"default":"outline",size:"sm",onClick:()=>A("enableSounds",!n.enableSounds),children:n.enableSounds?"مفعل":"معطل"})]})]})})]})}),i.jsx(rt,{value:"advanced",className:"space-y-4",children:i.jsxs(ae,{children:[i.jsx(Te,{children:i.jsx(ke,{className:"text-lg",children:"الإعدادات المتقدمة"})}),i.jsx(oe,{className:"space-y-4",children:i.jsxs("div",{className:"space-y-3",children:[i.jsxs(xe,{variant:"outline",className:"w-full justify-start",children:[i.jsx(gr,{className:"w-4 h-4 ml-2"}),"تصدير الإعدادات"]}),i.jsxs(xe,{variant:"outline",className:"w-full justify-start",children:[i.jsx(sc,{className:"w-4 h-4 ml-2"}),"استيراد الإعدادات"]}),i.jsxs(xe,{variant:"outline",className:"w-full justify-start",children:[i.jsx(Ar,{className:"w-4 h-4 ml-2"}),"إعادة تعيين للإعدادات الافتراضية"]}),i.jsxs(xe,{variant:"outline",className:"w-full justify-start",children:[i.jsx(Ko,{className:"w-4 h-4 ml-2"}),"حفظ التكوين الحالي"]})]})})]})})]})]})}),i.jsx("style",{children:`
          .seamless-integration-hub {
            position: relative;
            z-index: 1;
          }
          
          .seamless-integration-hub .fixed {
            z-index: 9999;
          }
        `})]})})},_mt=()=>{const t=Sy(),[e,n]=E.useState(t.pathname);pe.useEffect(()=>{n(t.pathname)},[t.pathname]);const r=s=>{n(s)};return i.jsxs("div",{className:"min-h-screen bg-gray-50",dir:"rtl",children:[i.jsx(ACe,{}),i.jsxs("div",{className:"flex",children:[i.jsx(gCe,{}),i.jsx("main",{className:"flex-1 p-6 mr-64",children:i.jsxs(M_e,{children:[i.jsx(la,{path:"/",element:i.jsx(LEe,{})}),i.jsx(la,{path:"/ai-journey",element:i.jsx(iUe,{})}),i.jsx(la,{path:"/unified-journey",element:i.jsx(eLe,{})}),i.jsx(la,{path:"/workflow-builder",element:i.jsx(tLe,{})}),i.jsx(la,{path:"/agent-studio",element:i.jsx(dLe,{})}),i.jsx(la,{path:"/personal-style",element:i.jsx(hnt,{})}),i.jsx(la,{path:"/smart-editor",element:i.jsx(Pnt,{})}),i.jsx(la,{path:"/analytics",element:i.jsx(uct,{})}),i.jsx(la,{path:"/seamless-integration",element:i.jsx(dct,{})}),i.jsx(la,{path:"/pdf-processor",element:i.jsx(fct,{})}),i.jsx(la,{path:"/advanced-editor",element:i.jsx(Fct,{})}),i.jsx(la,{path:"/advanced-interactive-editor",element:i.jsx(Rct,{})}),i.jsx(la,{path:"/witness-management",element:i.jsx(Qct,{})}),i.jsx(la,{path:"/phase-two-enhancements",element:i.jsx(dpt,{})}),i.jsx(la,{path:"/living-narrative-memory",element:i.jsx(Xpt,{})}),i.jsx(la,{path:"/living-narrative-memory-advanced",element:i.jsx(Ypt,{})}),i.jsx(la,{path:"/hyper-narrative-synthesizer",element:i.jsx(Jpt,{})}),i.jsx(la,{path:"/specialized-tools",element:i.jsx(imt,{})})]})})]}),i.jsx(Nmt,{currentPage:e,onPageChange:r}),i.jsx(fue,{}),i.jsx("div",{id:"seamless-integration-overlay",style:{zIndex:9998}})]})};function Cmt(){return i.jsx(W_e,{children:i.jsx(mCe,{children:i.jsx(_mt,{})})})}$Ne.createRoot(document.getElementById("root")).render(i.jsx(E.StrictMode,{children:i.jsx(qNe,{children:i.jsx(Cmt,{})})}));export{Lu as $,ae as A,He as B,ept as C,Xc as D,oe as E,gr as F,wl as G,T2 as H,wn as I,pn as J,Te as K,Dt as L,FT as M,ke as N,g9 as O,jp as P,x9 as Q,J2e as R,Ko as S,v9 as T,sc as U,zt as V,bf as W,sh as X,Wn as Y,$u as Z,vr as _,VAt as a,ri as a0,wr as a1,v2e as b,At as c,xe as d,xa as e,eje as f,apt as g,oh as h,u2e as i,i as j,vi as k,li as l,yi as m,ci as n,Bt as o,us as p,pi as q,E as r,Qr as s,Bi as t,qAt as u,oc as v,lc as w,cc as x,u6e as y,Ar as z};
