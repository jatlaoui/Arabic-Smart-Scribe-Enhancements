# استوديو الوكلاء - النظام الذكي للكتابة العربية

## 🌟 نظرة عامة

**استوديو الوكلاء** هو إضافة جديدة للنظام الذكي للكتابة العربية، يوفر بيئة متكاملة لإدارة ومراقبة وتطوير الوكلاء الذكية للمشاريع الأدبية. يتميز هذا النظام بواجهة رسومية راقصة ومفعمة بالحياة تتيح للمستخدمين إنشاء وتخصيص مجموعة من الوكلاء الذكية، وبناء تدفقات العمل، ومراقبة أدائهم في الوقت الفعلي.

## ✨ المميزات الرئيسية

### 🤖 إدارة الوكلاء

- **لوحة التحكم الرئيسية**: عرض شامل لجميع الوكلاء النشطين وحالتهم الحالية
- **معلومات تفصيلية**: إحصائيات وبيانات أداء مفصلة لكل وكيل
- **تخصيص متقدم**: إمكانية تعديل سلوكيات وقدرات كل وكيل
- **أفاتارات تفاعلية**: تمثيل بصري لكل وكيل مع تحريكات تعكس حالته

### 💬 محادثات الوكلاء

- **نظام محادثات في الوقت الفعلي**: مراقبة المحادثات بين الوكلاء المختلفين
- **واجهة محادثات سلسة**: واجهة مستخدم سهلة الاستخدام لعرض وتتبع المحادثات
- **تصفية وبحث**: أدوات متقدمة للبحث في سجلات المحادثات والرسائل
- **تنسيق تلقائي**: عرض متطور للمحتوى المتبادل بين الوكلاء

### 🔄 تدفقات العمل

- **محرر تدفق سحب وإفلات**: إنشاء تدفقات عمل معقدة بواجهة سحب وإفلات سهلة
- **نماذج جاهزة**: قوالب تدفق متعددة للمهام الشائعة
- **محاكاة وتنفيذ**: اختبار تدفقات العمل ومحاكاتها قبل التنفيذ الفعلي
- **تصدير ومشاركة**: إمكانية تصدير ومشاركة تدفقات العمل مع الآخرين

### 🛠️ متجر الأدوات

- **مكتبة أدوات شاملة**: مجموعة واسعة من الأدوات المتخصصة للوكلاء
- **تقييمات وتعليقات**: نظام تقييم الأدوات من قبل المستخدمين والوكلاء
- **إضافة مخصصة**: إمكانية إضافة أدوات جديدة وتخصيصها
- **تكامل سلس**: ربط الأدوات بالوكلاء وتدفقات العمل بسهولة

### 🌈 الواجهة الراقصة

- **أفاتارات متحركة**: شخصيات الوكلاء تتفاعل مع المستخدم بحركات متنوعة
- **تغذية راجعة مرئية وصوتية**: تأثيرات بصرية وصوتية عند إتمام الإجراءات
- **بروميتات ذكية**: اقتراحات وإرشادات تظهر بشكل ديناميكي حسب سياق العمل
- **تخصيص المظهر**: إمكانية تخصيص ألوان وأنماط الواجهة
- **تحكم صوتي**: إمكانية التفاعل الصوتي مع النظام

## 🚀 البدء السريع

### تشغيل النظام

1. **تشغيل سكريبت البدء**:
   ```bash
   ./start_agent_studio.sh
   ```

2. **الوصول للواجهة**:
   افتح المتصفح على العنوان التالي:
   ```
   http://localhost:5173/agent-studio
   ```

### إيقاف النظام

```bash
./stop_agent_studio.sh
```

## 🏗️ الهيكل التقني

### الواجهة الأمامية (Frontend)

- **React + TypeScript**: لبناء واجهة المستخدم
- **Tailwind CSS**: لتنسيق واجهة المستخدم
- **Framer Motion**: لإضافة التأثيرات الحركية والتحريكات
- **React Flow**: لبناء واجهة إنشاء تدفقات العمل
- **ShadcnUI**: لمكونات واجهة المستخدم

### الخادم الخلفي (Backend)

- **Flask**: إطار عمل لتطوير واجهة برمجة التطبيقات (API)
- **SQLite**: قاعدة بيانات لتخزين معلومات الوكلاء والأدوات
- **AdvancedArbitrator**: نظام التحكيم والتصحيح الذاتي للوكلاء
- **AgentCollaboration**: نظام التعاون والحوارات بين الوكلاء

## 📋 دليل المكونات

### واجهة استوديو الوكلاء

تتكون واجهة استوديو الوكلاء من عدة أقسام رئيسية:

#### 1. لوحة معلومات الوكلاء

- **قائمة الوكلاء**: عرض جميع الوكلاء المتاحين مع حالتهم
- **بطاقات الوكلاء**: عرض معلومات مفصلة عن كل وكيل
- **إحصائيات الأداء**: رسوم بيانية ومؤشرات للأداء

#### 2. مراقب محادثات الوكلاء

- **سجل المحادثات**: عرض الرسائل المتبادلة بين الوكلاء
- **تصفية حسب الوكيل**: عرض محادثات وكيل محدد
- **بحث في المحتوى**: إمكانية البحث في محتوى الرسائل

#### 3. محرر تدفقات العمل

- **سطح العمل**: مساحة سحب وإفلات لإنشاء التدفقات
- **عقد الوكلاء**: تمثيل بصري للوكلاء في التدفق
- **الروابط والاتصالات**: تعريف العلاقات بين الوكلاء
- **أدوات التحرير**: إضافة، حذف، تعديل العقد والروابط

#### 4. متجر الأدوات

- **تصنيفات الأدوات**: تصنيف الأدوات حسب الوظيفة
- **تفاصيل الأداة**: عرض معلومات مفصلة عن كل أداة
- **التقييمات والمراجعات**: عرض تقييمات المستخدمين للأدوات
- **إضافة أداة جديدة**: واجهة لإضافة أدوات مخصصة

## 🔧 التخصيص والإعدادات

### إعدادات الوكلاء

يمكن تخصيص سلوك وقدرات كل وكيل من خلال:

- **الإعدادات العامة**: تعديل اسم الوكيل، وصفه، صورته
- **قدرات الوكيل**: تحديد القدرات الخاصة بكل وكيل
- **إعدادات متقدمة**: تعديل سلوك الوكيل بشكل مفصل
- **التكامل مع الأدوات**: ربط الوكيل بأدوات محددة

### إعدادات الواجهة

يمكن تخصيص مظهر وسلوك واجهة الاستوديو من خلال:

- **السمات والألوان**: تغيير مظهر الواجهة
- **تخطيط العرض**: تعديل ترتيب وحجم المكونات
- **إعدادات التحريكات**: تعديل سلوك التأثيرات الحركية
- **تفضيلات العرض**: تخصيص عناصر العرض المختلفة

## 🌐 واجهة برمجة التطبيقات (API)

### نقاط النهاية الرئيسية (Endpoints)

#### الوكلاء:

- `GET /api/agents`: الحصول على قائمة الوكلاء
- `GET /api/agents/{agent_id}`: الحصول على معلومات وكيل محدد
- `POST /api/agents`: إنشاء وكيل جديد
- `PUT /api/agents/{agent_id}`: تحديث معلومات وكيل
- `DELETE /api/agents/{agent_id}`: حذف وكيل

#### الرسائل:

- `GET /api/agents/{agent_id}/messages`: الحصول على رسائل وكيل
- `POST /api/agents/messages`: إرسال رسالة جديدة

#### الأدوات:

- `GET /api/tools`: الحصول على قائمة الأدوات
- `GET /api/tools/{tool_id}`: الحصول على معلومات أداة محددة
- `POST /api/tools`: إضافة أداة جديدة

#### التعاون:

- `POST /api/agent-collaborations`: إنشاء جلسة تعاون جديدة
- `GET /api/agent-collaborations/{session_id}/messages`: الحصول على رسائل جلسة
- `POST /api/agent-collaborations/{session_id}/brainstorm`: بدء عصف ذهني

## 📝 أمثلة استخدام

### مثال 1: إنشاء وكلاء متعاونين لكتابة قصة

1. إنشاء وكيل "مولد الأفكار" لتوليد أفكار القصة
2. إنشاء وكيل "مهندس المخططات" لبناء هيكل القصة
3. إنشاء وكيل "كاتب الفصول" لكتابة فصول القصة
4. إنشاء تدفق عمل يربط الوكلاء الثلاثة
5. بدء العملية من خلال تقديم موضوع القصة

### مثال 2: إنشاء عملية تحليل نص أدبي

1. إنشاء وكيل "محلل النصوص" لتحليل النص الأدبي
2. إنشاء وكيل "الناقد الأدبي" لتقييم النص
3. إنشاء وكيل "مقترح التحسينات" لتقديم اقتراحات تحسين
4. تكوين تدفق عمل للتحليل والتقييم
5. تقديم النص الأدبي للتحليل وانتظار النتائج

## 🔍 استكشاف الأخطاء وإصلاحها

### مشكلات شائعة وحلولها

#### الخادم الخلفي لا يعمل

- تأكد من تثبيت جميع التبعيات المطلوبة
- تحقق من سجلات الخادم في `backend/logs`
- تأكد من عدم استخدام المنفذ 5000 من قبل تطبيق آخر

#### الواجهة الأمامية لا تعمل

- تأكد من تثبيت حزم Node.js المطلوبة
- تحقق من سجلات Vite في نافذة الطرفية
- تأكد من تشغيل الخادم الخلفي قبل الواجهة الأمامية

#### الوكلاء لا يتفاعلون

- تحقق من حالة الوكلاء في واجهة الاستوديو
- تأكد من تكوين التدفق بشكل صحيح
- تحقق من سجلات الوكلاء في `backend/logs`